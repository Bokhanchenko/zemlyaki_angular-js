"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){function e(t){return w(t)?void(b(t.objectMaxDepth)&&(Qr.objectMaxDepth=n(t.objectMaxDepth)?t.objectMaxDepth:NaN)):Qr}function n(t){return E(t)&&t>0}function r(t,e){return e=e||Error,function(){var n,r,i=arguments[0],o=arguments[1],a="["+(t?t+":":"")+i+"] ",s=G(arguments,2).map(function(t){return St(t,Qr.objectMaxDepth)});for(a+=o.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1);return e<s.length?s[e]:t}),a+="\nhttp://errors.angularjs.org/1.6.6/"+(t?t+"/":"")+i,r=0,n="?";r<s.length;r++,n="&")a+=n+"p"+r+"="+encodeURIComponent(s[r]);return new e(a)}}function i(t){if(null==t||M(t))return!1;if(yi(t)||C(t)||si&&t instanceof si)return!0;var e="length"in Object(t)&&t.length;return E(e)&&(e>=0&&(e-1 in t||t instanceof Array)||"function"==typeof t.item)}function o(t,e,n){var r,a;if(t)if(A(t))for(r in t)"prototype"!==r&&"length"!==r&&"name"!==r&&t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else if(yi(t)||i(t)){var s="object"!==("undefined"==typeof t?"undefined":_typeof(t));for(r=0,a=t.length;r<a;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(x(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)ei.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function u(){return++mi}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;i<o;++i){var a=e[i];if(w(a)||A(a))for(var s=Object.keys(a),u=0,f=s.length;u<f;u++){var h=s[u],p=a[h];n&&w(p)?S(p)?t[h]=new Date(p.valueOf()):O(p)?t[h]=new RegExp(p):p.nodeName?t[h]=p.cloneNode(!0):R(p)?t[h]=p.clone():(w(t[h])||(t[h]=yi(p)?[]:{}),l(t[h],[p],!0)):t[h]=p}}return c(t,r),t}function f(t){return l(t,li.call(arguments,1),!1)}function h(t){return l(t,li.call(arguments,1),!0)}function p(t){return parseInt(t,10)}function d(t,e){return f(Object.create(t),e)}function $(){}function v(t){return t}function m(t){return function(){return t}}function g(t){return A(t.toString)&&t.toString!==pi}function y(t){return"undefined"==typeof t}function b(t){return"undefined"!=typeof t}function w(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))}function x(t){return null!==t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&!di(t)}function C(t){return"string"==typeof t}function E(t){return"number"==typeof t}function S(t){return"[object Date]"===pi.call(t)}function k(t){var e=pi.call(t);switch(e){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return t instanceof Error}}function A(t){return"function"==typeof t}function O(t){return"[object RegExp]"===pi.call(t)}function M(t){return t&&t.window===t}function V(t){return t&&t.$evalAsync&&t.$watch}function T(t){return"[object File]"===pi.call(t)}function N(t){return"[object FormData]"===pi.call(t)}function I(t){return"[object Blob]"===pi.call(t)}function j(t){return"boolean"==typeof t}function _(t){return t&&A(t.then)}function D(t){return t&&E(t.length)&&bi.test(pi.call(t))}function P(t){return"[object ArrayBuffer]"===pi.call(t)}function R(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function U(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function L(t){return ni(t.nodeName||t[0]&&t[0].nodeName)}function q(t,e){return Array.prototype.indexOf.call(t,e)!==-1}function F(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function B(t,e,r){function i(t,e,n){if(n--,n<0)return"...";var r,i=e.$$hashKey;if(yi(t))for(var o=0,s=t.length;o<s;o++)e.push(a(t[o],n));else if(x(t))for(r in t)e[r]=a(t[r],n);else if(t&&"function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&(e[r]=a(t[r],n));else for(r in t)ei.call(t,r)&&(e[r]=a(t[r],n));return c(e,i),e}function a(t,e){if(!w(t))return t;var n=u.indexOf(t);if(n!==-1)return l[n];if(M(t)||V(t))throw $i("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var r=!1,o=s(t);return void 0===o&&(o=yi(t)?[]:Object.create(di(t)),r=!0),u.push(t),l.push(o),r?i(t,o,e):o}function s(t){switch(pi.call(t)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new t.constructor(a(t.buffer),t.byteOffset,t.length);case"[object ArrayBuffer]":if(!t.slice){var e=new ArrayBuffer(t.byteLength);return new Uint8Array(e).set(new Uint8Array(t)),e}return t.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new t.constructor(t.valueOf());case"[object RegExp]":var n=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]);return n.lastIndex=t.lastIndex,n;case"[object Blob]":return new t.constructor([t],{type:t.type})}if(A(t.cloneNode))return t.cloneNode(!0)}var u=[],l=[];if(r=n(r)?r:NaN,e){if(D(e)||P(e))throw $i("cpta","Can't copy! TypedArray destination cannot be mutated.");if(t===e)throw $i("cpi","Can't copy! Source and destination are identical.");return yi(e)?e.length=0:o(e,function(t,n){"$$hashKey"!==n&&delete e[n]}),u.push(t),l.push(e),i(t,e,r)}return a(t,r)}function H(t,e){return t===e||t!==t&&e!==e}function z(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var n,r,i,o="undefined"==typeof t?"undefined":_typeof(t),a="undefined"==typeof e?"undefined":_typeof(e);if(o===a&&"object"===o){if(!yi(t)){if(S(t))return!!S(e)&&H(t.getTime(),e.getTime());if(O(t))return!!O(e)&&t.toString()===e.toString();if(V(t)||V(e)||M(t)||M(e)||yi(e)||S(e)||O(e))return!1;i=bt();for(r in t)if("$"!==r.charAt(0)&&!A(t[r])){if(!z(t[r],e[r]))return!1;i[r]=!0}for(r in e)if(!(r in i)&&"$"!==r.charAt(0)&&b(e[r])&&!A(e[r]))return!1;return!0}if(!yi(e))return!1;if((n=t.length)===e.length){for(r=0;r<n;r++)if(!z(t[r],e[r]))return!1;return!0}}return!1}function W(t,e,n){return t.concat(li.call(e,n))}function G(t,e){return li.call(t,e||0)}function K(t,e){var n=arguments.length>2?G(arguments,2):[];return!A(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,W(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function J(e,n){var r=n;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?r=void 0:M(n)?r="$WINDOW":n&&t.document===n?r="$DOCUMENT":V(n)&&(r="$SCOPE"),r}function Z(t,e){if(!y(t))return E(e)||(e=e?2:null),JSON.stringify(t,J,e)}function Y(t){return C(t)?JSON.parse(t):t}function Q(t,e){t=t.replace(Si,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return gi(n)?e:n}function X(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function tt(t,e,n){n=n?-1:1;var r=t.getTimezoneOffset(),i=Q(e,r);return X(t,n*(i-r))}function et(t){t=si(t).clone().empty();var e=si("<div>").append(t).html();try{return t[0].nodeType===Ni?ni(e):e.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(t,e){return"<"+ni(e)})}catch(n){return ni(e)}}function nt(t){try{return decodeURIComponent(t)}catch(e){}}function rt(t){var e={};return o((t||"").split("&"),function(t){var n,r,i;t&&(r=t=t.replace(/\+/g,"%20"),n=t.indexOf("="),n!==-1&&(r=t.substring(0,n),i=t.substring(n+1)),r=nt(r),b(r)&&(i=!b(i)||nt(i),ei.call(e,r)?yi(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i))}),e}function it(t){var e=[];return o(t,function(t,n){yi(t)?o(t,function(t){e.push(at(n,!0)+(t===!0?"":"="+at(t,!0)))}):e.push(at(n,!0)+(t===!0?"":"="+at(t,!0)))}),e.length?e.join("&"):""}function ot(t){return at(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function at(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function st(t,e){var n,r,i=ki.length;for(r=0;r<i;++r)if(n=ki[r]+e,C(n=t.getAttribute(n)))return n;return null}function ut(e){var n=e.currentScript;if(!n)return!0;if(!(n instanceof t.HTMLScriptElement||n instanceof t.SVGScriptElement))return!1;var r=n.attributes,i=[r.getNamedItem("src"),r.getNamedItem("href"),r.getNamedItem("xlink:href")];return i.every(function(t){if(!t)return!0;if(!t.value)return!1;var n=e.createElement("a");if(n.href=t.value,e.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}})}function ct(e,n){var r,i,a={};if(o(ki,function(t){var n=t+"app";!r&&e.hasAttribute&&e.hasAttribute(n)&&(r=e,i=e.getAttribute(n))}),o(ki,function(t){var n,o=t+"app";!r&&(n=e.querySelector("["+o.replace(":","\\:")+"]"))&&(r=n,i=n.getAttribute(o))}),r){if(!Ai)return void t.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");a.strictDi=null!==st(r,"strict-di"),n(r,i?[i]:[],a)}}function lt(e,n,r){w(r)||(r={});var i={strictDi:!1};r=f(i,r);var a=function(){if(e=si(e),e.injector()){var i=e[0]===t.document?"document":et(e);throw $i("btstrpd","App already bootstrapped with this element '{0}'",i.replace(/</,"&lt;").replace(/>/,"&gt;"))}n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),r.debugInfoEnabled&&n.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),n.unshift("ng");var o=he(n,r.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},s=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&s.test(t.name)&&(r.debugInfoEnabled=!0,t.name=t.name.replace(s,"")),t&&!u.test(t.name)?a():(t.name=t.name.replace(u,""),vi.resumeBootstrap=function(t){return o(t,function(t){n.push(t)}),a()},void(A(vi.resumeDeferredBootstrap)&&vi.resumeDeferredBootstrap()))}function ft(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function ht(t){var e=vi.element(t).injector();if(!e)throw $i("test","no injector found for element argument to getTestability");return e.get("$$testability")}function pt(t,e){return e=e||"_",t.replace(Oi,function(t,n){return(n?e:"")+t.toLowerCase()})}function dt(){var e;if(!Mi){var n=Ei();ui=y(n)?t.jQuery:n?t[n]:void 0,ui&&ui.fn.on?(si=ui,f(ui.fn,{scope:Ji.scope,isolateScope:Ji.isolateScope,controller:Ji.controller,injector:Ji.injector,inheritedData:Ji.inheritedData}),e=ui.cleanData,ui.cleanData=function(t){for(var n,r,i=0;null!=(r=t[i]);i++)n=ui._data(r,"events"),n&&n.$destroy&&ui(r).triggerHandler("$destroy");e(t)}):si=Pt,vi.element=si,Mi=!0}}function $t(t,e,n){if(!t)throw $i("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function vt(t,e,n){return n&&yi(t)&&(t=t[t.length-1]),$t(A(t),e,"not a function, got "+(t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))?t.constructor.name||"Object":"undefined"==typeof t?"undefined":_typeof(t))),t}function mt(t,e){if("hasOwnProperty"===t)throw $i("badname","hasOwnProperty is not a valid {0} name",e)}function gt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;s<a;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&A(t)?K(o,t):t}function yt(t){for(var e,n=t[0],r=t[t.length-1],i=1;n!==r&&(n=n.nextSibling);i++)(e||t[i]!==n)&&(e||(e=si(li.call(t,0,i))),e.push(n));return e||t}function bt(){return Object.create(null)}function wt(t){if(null==t)return"";switch("undefined"==typeof t?"undefined":_typeof(t)){case"string":break;case"number":t=""+t;break;default:t=!g(t)||yi(t)||S(t)?Z(t):t.toString()}return t}function xt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s={},u=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return u(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,e,n,r){return r||(r=u),function(){return r[n||"push"]([t,e,arguments]),h}}function e(t,e,n){return n||(n=u),function(i,o){return o&&A(o)&&(o.$$moduleName=r),n.push([t,e,arguments]),h}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var u=[],c=[],l=[],f=t("$injector","invoke","push",c),h={_invokeQueue:u,_configBlocks:c,_runBlocks:l,info:function(t){if(b(t)){if(!w(t))throw i("aobj","Argument '{0}' must be an object","value");return s=t,this}return s},requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator",c),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),component:e("$compileProvider","component"),config:f,run:function(t){return l.push(t),this}};return a&&f(a),h})}})}function Ct(t,e){if(yi(t)){e=e||[];for(var n=0,r=t.length;n<r;n++)e[n]=t[n]}else if(w(t)){e=e||{};for(var i in t)"$"===i.charAt(0)&&"$"===i.charAt(1)||(e[i]=t[i])}return e||t}function Et(t,e){var r=[];return n(e)&&(t=vi.copy(t,null,e)),JSON.stringify(t,function(t,e){if(e=J(t,e),w(e)){if(r.indexOf(e)>=0)return"...";r.push(e)}return e})}function St(t,e){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):y(t)?"undefined":"string"!=typeof t?Et(t,e):t}function kt(n){f(n,{errorHandlingConfig:e,bootstrap:lt,copy:B,extend:f,merge:h,equals:z,element:si,forEach:o,injector:he,noop:$,bind:K,toJson:Z,fromJson:Y,identity:v,isUndefined:y,isDefined:b,isString:C,isFunction:A,isObject:w,isNumber:E,isElement:R,isArray:yi,version:Di,isDate:S,lowercase:ni,uppercase:ri,callbacks:{$$counter:0},getTestability:ht,reloadWithDebugInfo:ft,$$minErr:r,$$csp:Ci,$$encodeUriSegment:ot,$$encodeUriQuery:at,$$stringify:wt}),ci=xt(t),ci("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:_n}),t.provider("$compile",Ce).directive({a:aa,input:ka,textarea:ka,form:ha,script:bs,select:Cs,option:Es,ngBind:Ma,ngBindHtml:Ta,ngBindTemplate:Va,ngClass:Ia,ngClassEven:_a,ngClassOdd:ja,ngCloak:Da,ngController:Pa,ngForm:pa,ngHide:ps,ngIf:La,ngInclude:qa,ngInit:Ba,ngNonBindable:is,ngPluralize:us,ngRepeat:cs,ngShow:hs,ngStyle:ds,ngSwitch:$s,ngSwitchWhen:vs,ngSwitchDefault:ms,ngOptions:ss,ngTransclude:ys,ngModel:es,ngList:Ha,ngChange:Na,pattern:ks,ngPattern:ks,required:Ss,ngRequired:Ss,minlength:Os,ngMinlength:Os,maxlength:As,ngMaxlength:As,ngValue:Oa,ngModelOptions:rs}).directive({ngInclude:Fa}).directive(sa).directive(Ra),t.provider({$anchorScroll:pe,$animate:po,$animateCss:mo,$$animateJs:fo,$$animateQueue:ho,$$AnimateRunner:vo,$$animateAsyncRun:$o,$browser:ye,$cacheFactory:be,$controller:Me,$document:Ve,$$isDocumentHidden:Te,$exceptionHandler:Ne,$filter:Zn,$$forceReflow:Eo,$interpolate:We,$interval:Ge,$http:Fe,$httpParamSerializer:je,$httpParamSerializerJQLike:_e,$httpBackend:He,$xhrFactory:Be,$jsonpCallbacks:No,$location:cn,$log:ln,$parse:kn,$rootScope:jn,$q:An,$$q:On,$sce:Ln,$sceDelegate:Un,$sniffer:qn,$templateCache:we,$templateRequest:Fn,$$testability:Bn,$timeout:Hn,$window:Gn,$$rAF:In,$$jqLite:oe,$$Map:eo,$$cookieReader:Jn})}]).info({angularVersion:"1.6.6"})}function At(){return++Ri}function Ot(t){return Vt(t.replace(Li,"ms-"))}function Mt(t,e){return e.toUpperCase()}function Vt(t){return t.replace(Ui,Mt)}function Tt(t){return!Hi.test(t)}function Nt(t){var e=t.nodeType;return e===Vi||!e||e===ji}function It(t){for(var e in Pi[t.ng339])return!0;return!1}function jt(t,e){var n,r,i,a,s=e.createDocumentFragment(),u=[];if(Tt(t))u.push(e.createTextNode(t));else{for(n=s.appendChild(e.createElement("div")),r=(zi.exec(t)||["",""])[1].toLowerCase(),i=Gi[r]||Gi._default,n.innerHTML=i[1]+t.replace(Wi,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;u=W(u,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(u,function(t){s.appendChild(t)}),s}function _t(e,n){n=n||t.document;var r;return(r=Bi.exec(e))?[n.createElement(r[1])]:(r=jt(e,n))?r.childNodes:[]}function Dt(t,e){var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)}function Pt(t){if(t instanceof Pt)return t;var e;if(C(t)&&(t=wi(t),e=!0),!(this instanceof Pt)){if(e&&"<"!==t.charAt(0))throw Fi("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Pt(t)}e?Gt(this,_t(t)):A(t)?Xt(t):Gt(this,t)}function Rt(t){return t.cloneNode(!0)}function Ut(t,e){!e&&Nt(t)&&si.cleanData([t]),t.querySelectorAll&&si.cleanData(t.querySelectorAll("*"))}function Lt(t,e,n,r){if(b(r))throw Fi("offargs","jqLite#off() does not support the `selector` argument");var i=Ft(t),a=i&&i.events,s=i&&i.handle;if(s)if(e){var u=function(e){var r=a[e];b(n)&&F(r||[],n),b(n)&&r&&r.length>0||(t.removeEventListener(e,s),delete a[e])};o(e.split(" "),function(t){u(t),qi[t]&&u(qi[t])})}else for(e in a)"$destroy"!==e&&t.removeEventListener(e,s),delete a[e]}function qt(t,e){var n=t.ng339,r=n&&Pi[n];if(r){if(e)return void delete r.data[e];r.handle&&(r.events.$destroy&&r.handle({},"$destroy"),Lt(t)),delete Pi[n],t.ng339=void 0}}function Ft(t,e){var n=t.ng339,r=n&&Pi[n];return e&&!r&&(t.ng339=n=At(),r=Pi[n]={events:{},data:{},handle:void 0}),r}function Bt(t,e,n){if(Nt(t)){var r,i=b(n),o=!i&&e&&!w(e),a=!e,s=Ft(t,!o),u=s&&s.data;if(i)u[Vt(e)]=n;else{if(a)return u;if(o)return u&&u[Vt(e)];for(r in e)u[Vt(r)]=e[r]}}}function Ht(t,e){return!!t.getAttribute&&(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function zt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",wi((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+wi(e)+" "," ")))})}function Wt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=wi(t),n.indexOf(" "+t+" ")===-1&&(n+=t+" ")}),t.setAttribute("class",wi(n))}}function Gt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;r<n;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Kt(t,e){return Jt(t,"$"+(e||"ngController")+"Controller")}function Jt(t,e,n){t.nodeType===ji&&(t=t.documentElement);for(var r=yi(e)?e:[e];t;){for(var i=0,o=r.length;i<o;i++)if(b(n=si.data(t,r[i])))return n;t=t.parentNode||t.nodeType===_i&&t.host}}function Zt(t){for(Ut(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Yt(t,e){e||Ut(t);var n=t.parentNode;n&&n.removeChild(t)}function Qt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):si(n).on("load",e)}function Xt(e){function n(){t.document.removeEventListener("DOMContentLoaded",n),t.removeEventListener("load",n),e()}"complete"===t.document.readyState?t.setTimeout(e):(t.document.addEventListener("DOMContentLoaded",n),t.addEventListener("load",n))}function te(t,e){var n=Zi[e.toLowerCase()];return n&&Yi[L(t)]&&n}function ee(t){return Qi[t]}function ne(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0};var s=i.specialHandlerWrapper||re;o>1&&(i=Ct(i));for(var u=0;u<o;u++)n.isImmediatePropagationStopped()||s(t,n,i[u])}};return n.elem=t,n}function re(t,e,n){n.call(t,e)}function ie(t,e,n){var r=e.relatedTarget;r&&(r===t||Ki.call(t,r))||n.call(t,e)}function oe(){this.$get=function(){return f(Pt,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ht(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Wt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),zt(t,e)}})}}function ae(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r="undefined"==typeof t?"undefined":_typeof(t);return n="function"===r||"object"===r&&null!==t?t.$$hashKey=r+":"+(e||u)():r+":"+t}function se(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function ue(t){return Function.prototype.toString.call(t)}function ce(t){var e=ue(t).replace(ao,""),n=e.match(no)||e.match(ro);return n}function le(t){var e=ce(t);return e?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function fe(t,e,n){var r,i,a;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw C(n)&&n||(n=t.name||le(t)),so("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=ce(t),o(i[1].split(io),function(t){t.replace(oo,function(t,e,n){r.push(n)})})}t.$inject=r}}else yi(t)?(a=t.length-1,vt(t[a],"fn"),r=t.slice(0,a)):vt(t,"fn",!0);return r}function he(t,e){function n(t){return function(e,n){return w(e)?void o(e,s(t)):t(e,n)}}function r(t,e){if(mt(t,"service"),(A(e)||yi(e))&&(e=x.instantiate(e)),!e.$get)throw so("pget","Provider '{0}' must define $get factory method.",t);return b[t+$]=e}function i(t,e){return function(){var n=k.invoke(e,this);if(y(n))throw so("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function a(t,e,n){return r(t,{$get:n!==!1?i(t,e):e})}function u(t,e){return a(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return a(t,m(e),!1)}function l(t,e){mt(t,"constant"),b[t]=e,E[t]=e}function f(t,e){var n=x.get(t+$),r=n.$get;n.$get=function(){var t=k.invoke(r,n);return k.invoke(e,null,{$delegate:t})}}function h(t){$t(y(t)||yi(t),"modulesToLoad","not an array");var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;e<n;e++){var r=t[e],i=x.get(r[0]);i[r[1]].apply(i,r[2])}}if(!g.get(t)){g.set(t,!0);try{C(t)?(e=ci(t),k.modules[t]=e,n=n.concat(h(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):A(t)?n.push(x.invoke(t)):yi(t)?n.push(x.invoke(t)):vt(t,"module")}catch(i){throw yi(t)&&(t=t[t.length-1]),i.message&&i.stack&&i.stack.indexOf(i.message)===-1&&(i=i.message+"\n"+i.stack),so("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===d)throw so("cdep","Circular dependency found: {0}",e+" <- "+v.join(" <- "));return t[e]}try{return v.unshift(e),t[e]=d,t[e]=n(e,r),t[e]}catch(i){throw t[e]===d&&delete t[e],i}finally{v.shift()}}function i(t,n,i){for(var o=[],a=he.$$annotate(t,e,i),s=0,u=a.length;s<u;s++){var c=a[s];if("string"!=typeof c)throw so("itkn","Incorrect injection token! Expected service name as string, got {0}",c);o.push(n&&n.hasOwnProperty(c)?n[c]:r(c,i))}return o}function o(t){if(ai||"function"!=typeof t)return!1;var e=t.$$ngIsClass;return j(e)||(e=t.$$ngIsClass=/^(?:class\b|constructor\()/.test(ue(t))),e}function a(t,e,n,r){"string"==typeof n&&(r=n,n=null);var a=i(t,n,r);return yi(t)&&(t=t[t.length-1]),o(t)?(a.unshift(null),new(Function.prototype.bind.apply(t,a))):t.apply(e,a)}function s(t,e,n){var r=yi(t)?t[t.length-1]:t,o=i(t,e,n);return o.unshift(null),new(Function.prototype.bind.apply(r,o))}return{invoke:a,instantiate:s,get:r,annotate:he.$$annotate,has:function(e){return b.hasOwnProperty(e+$)||t.hasOwnProperty(e)}}}e=e===!0;var d={},$="Provider",v=[],g=new to,b={$provide:{provider:n(r),factory:n(a),service:n(u),value:n(c),constant:n(l),decorator:f}},x=b.$injector=p(b,function(t,e){throw vi.isString(e)&&v.push(e),so("unpr","Unknown provider: {0}",v.join(" <- "))}),E={},S=p(E,function(t,e){var n=x.get(t+$,e);return k.invoke(n.$get,n,void 0,t)}),k=S;b["$injector"+$]={$get:m(S)},k.modules=x.modules=bt();var O=h(t);return k=S.get("$injector"),k.strictDi=e,o(O,function(t){t&&k.invoke(t)}),k}function pe(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){if("a"===L(t))return e=t,!0}),e}function o(){var t=s.yOffset;if(A(t))t=t();else if(R(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else E(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=C(t)?t:E(t)?t.toString():n.hash();var e;t?(e=u.getElementById(t))?a(e):(e=i(u.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var u=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){t===e&&""===t||Qt(function(){r.$evalAsync(s)})}),s}]}function de(t,e){return t||e?t?e?(yi(t)&&(t=t.join(" ")),yi(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function $e(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===co)return n}}function ve(t){C(t)&&(t=t.split(" "));var e=bt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function me(t){return w(t)?t:{}}function ge(t,e,n,r){function i(t){try{t.apply(null,G(arguments,1))}finally{if(m--,0===m)for(;g.length;)try{g.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return e===-1?"":t.substr(e)}function s(){E=null,c()}function u(){b=S(),b=y(b)?null:b,z(b,O)&&(b=O),O=b,w=b}function c(){var t=w;u(),x===l.url()&&t===b||(x=l.url(),w=b,o(k,function(t){t(l.url(),b)}))}var l=this,f=t.location,h=t.history,p=t.setTimeout,d=t.clearTimeout,v={};l.isMock=!1;var m=0,g=[];l.$$completeOutstandingRequest=i,l.$$incOutstandingRequestCount=function(){m++},l.notifyWhenNoOutstandingRequests=function(t){0===m?t():g.push(t)};var b,w,x=f.href,C=e.find("base"),E=null,S=r.history?function(){try{return h.state}catch(t){}}:$;u(),l.url=function(e,n,i){if(y(i)&&(i=null),f!==t.location&&(f=t.location),h!==t.history&&(h=t.history),e){var o=w===i;if(x===e&&(!r.history||o))return l;var s=x&&Xe(x)===Xe(e);return x=e,w=i,!r.history||s&&o?(s||(E=e),n?f.replace(e):s?f.hash=a(e):f.href=e,f.href!==e&&(E=e)):(h[n?"replaceState":"pushState"](i,"",e),u()),E&&(E=e),l}return E||f.href.replace(/%27/g,"'")},l.state=function(){return b};var k=[],A=!1,O=null;l.onUrlChange=function(e){return A||(r.history&&si(t).on("popstate",s),si(t).on("hashchange",s),A=!0),k.push(e),e},l.$$applicationDestroyed=function(){si(t).off("hashchange popstate",s)},l.$$checkUrlChange=c,l.baseHref=function(){var t=C.attr("href");return t?t.replace(/^(https?:)?\/\/[^\/]*/,""):""},l.defer=function(t,e){var n;return m++,n=p(function(){delete v[n],i(t)},e||0),v[n]=!0,n},l.defer.cancel=function(t){return!!v[t]&&(delete v[t],d(t),i($),!0)}}function ye(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new ge(t,r,e,n)}]}function be(){this.$get=function(){function t(t,n){function i(t){t!==h&&(p?p===t&&(p=t.n):p=t,o(t.n,t.p),o(t,h),h=t,h.n=null)}function o(t,e){t!==e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=f({},n,{id:t}),u=bt(),c=n&&n.capacity||Number.MAX_VALUE,l=bt(),h=null,p=null;return e[t]={put:function(t,e){if(!y(e)){if(c<Number.MAX_VALUE){var n=l[t]||(l[t]={key:t});i(n)}return t in u||a++,u[t]=e,a>c&&this.remove(p.key),e}},get:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;i(e)}return u[t]},remove:function(t){if(c<Number.MAX_VALUE){var e=l[t];if(!e)return;e===h&&(h=e.p),e===p&&(p=e.n),o(e.n,e.p),delete l[t]}t in u&&(delete u[t],a--)},removeAll:function(){u=bt(),a=0,l=bt(),h=p=null},destroy:function(){u=null,s=null,l=null,delete e[t]},info:function(){return f({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function we(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function xe(){}function Ce(e,n){function r(t,e,n){var r=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,i=bt();return o(t,function(t,o){if(t in O)return void(i[o]=O[t]);var a=t.match(r);if(!a)throw go("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(O[t]=i[o])}),i}function i(t,e){var n={isolateScope:null,bindToController:null};if(w(t.scope)&&(t.bindToController===!0?(n.bindToController=r(t.scope,e,!0),n.isolateScope={}):n.isolateScope=r(t.scope,e,!1)),w(t.bindToController)&&(n.bindToController=r(t.bindToController,e,!0)),n.bindToController&&!t.controller)throw go("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);return n}function a(t){var e=t.charAt(0);if(!e||e!==ni(e))throw go("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw go("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}function u(t){var e=t.require||t.controller&&t.name;return!yi(e)&&w(e)&&o(e,function(t,n){var r=t.match(E),i=t.substring(r[0].length);i||(e[n]=r[0]+n)}),e}function c(t,e){if(t&&(!C(t)||!/[EACM]/.test(t)))throw go("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",t,e);return t||"EA"}var l={},h="Directive",p=/^\s*directive:\s*([\w-]+)\s+(.*)$/,g=/(([\w-]+)(?::([^;]+))?;?)/,x=U("ngSrc,ngSrcset,src,srcset"),E=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,S=/^(on[a-z]+|formaction)$/,O=bt();this.directive=function P(t,n){return $t(t,"name"),mt(t,"directive"),C(t)?(a(t),$t(n,"directiveFactory"),l.hasOwnProperty(t)||(l[t]=[],e.factory(t+h,["$injector","$exceptionHandler",function(e,n){var r=[];return o(l[t],function(i,o){try{var a=e.invoke(i);A(a)?a={compile:m(a)}:!a.compile&&a.link&&(a.compile=m(a.link)),a.priority=a.priority||0,a.index=o,a.name=a.name||t,a.require=u(a),a.restrict=c(a.restrict,t),a.$$moduleName=i.$$moduleName,r.push(a)}catch(s){n(s)}}),r}])),l[t].push(n)):o(t,s(P)),this},this.component=function R(t,e){function n(t){function n(e){return A(e)||yi(e)?function(n,r){return t.invoke(e,this,{$element:n,$attrs:r})}:e}var i=e.template||e.templateUrl?e.template:"",a={controller:r,controllerAs:Oe(e.controller)||e.controllerAs||"$ctrl",template:n(i),templateUrl:n(e.templateUrl),transclude:e.transclude,scope:{},bindToController:e.bindings||{},restrict:"E",require:e.require};return o(e,function(t,e){"$"===e.charAt(0)&&(a[e]=t)}),a}if(!C(t))return o(t,s(K(this,R))),this;var r=e.controller||function(){};return o(e,function(t,e){"$"===e.charAt(0)&&(n[e]=t,A(r)&&(r[e]=t))}),n.$inject=["$injector"],this.directive(t,n)},this.aHrefSanitizationWhitelist=function(t){return b(t)?(n.aHrefSanitizationWhitelist(t),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(n.imgSrcSanitizationWhitelist(t),this):n.imgSrcSanitizationWhitelist()};var M=!0;this.debugInfoEnabled=function(t){return b(t)?(M=t,this):M};var T=!1;this.preAssignBindingsEnabled=function(t){return b(t)?(T=t,this):T};var N=!1;this.strictComponentBindingsEnabled=function(t){return b(t)?(N=t,this):N};var I=10;this.onChangesTtl=function(t){return arguments.length?(I=t,this):I};var _=!0;this.commentDirectivesEnabled=function(t){return arguments.length?(_=t,this):_};var D=!0;this.cssClassDirectivesEnabled=function(t){return arguments.length?(D=t,this):D},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(e,n,r,a,s,u,c,m,O,P){function R(){try{if(!--It)throw At=void 0,go("infchng","{0} $onChanges() iterations reached. Aborting!\n",I);c.$apply(function(){for(var t=[],e=0,n=At.length;e<n;++e)try{At[e]()}catch(r){t.push(r)}if(At=void 0,t.length)throw t})}finally{It++}}function U(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;n<r;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t;
}function q(t,e,n){Mt.innerHTML="<span "+e+">";var r=Mt.firstChild.attributes,i=r[0];r.removeNamedItem(i.name),i.value=n,t.attributes.setNamedItem(i)}function B(t,e){try{t.addClass(e)}catch(n){}}function W(t,e,n,r,i){t instanceof si||(t=si(t));var o=Z(t,e,t,n,r,i);W.$$addScopeClass(t);var a=null;return function(e,n,r){if(!t)throw go("multilink","This element has already been linked.");$t(e,"scope"),i&&i.needsNewScope&&(e=e.$parent.$new()),r=r||{};var s=r.parentBoundTranscludeFn,u=r.transcludeControllers,c=r.futureParentElement;s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=J(c));var l;if(l="html"!==a?si(gt(a,si("<div>").append(t).html())):n?Ji.clone.call(t):t,u)for(var f in u)l.data("$"+f+"Controller",u[f].instance);return W.$$addScopeInfo(l,e),n&&n(l,e),o&&o(e,l,l,s),n||(t=o=null),l}}function J(t){var e=t&&t[0];return e&&"foreignobject"!==L(e)&&pi.call(e).match(/SVG/)?"svg":"html"}function Z(t,e,n,r,i,o){function a(t,n,r,i){var o,a,s,u,c,l,f,h,$;if(p){var v=n.length;for($=new Array(v),c=0;c<d.length;c+=3)f=d[c],$[f]=n[f]}else $=n;for(c=0,l=d.length;c<l;)s=$[d[c++]],o=d[c++],a=d[c++],o?(o.scope?(u=t.$new(),W.$$addScopeInfo(si(s),u)):u=t,h=o.transcludeOnThisElement?Q(t,o.transclude,i):!o.templateOnThisElement&&i?i:!i&&e?Q(t,e):null,o(a,u,s,r,h)):a&&a(t,s.childNodes,void 0,i)}for(var s,u,c,l,f,h,p,d=[],$=yi(t)||t instanceof si,v=0;v<t.length;v++)s=new U,11===ai&&Y(t,v,$),u=X(t[v],[],s,0===v?r:void 0,i),c=u.length?ot(u,t[v],s,e,n,null,[],[],o):null,c&&c.scope&&W.$$addScopeClass(s.$$element),f=c&&c.terminal||!(l=t[v].childNodes)||!l.length?null:Z(l,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||f)&&(d.push(v,c,f),h=!0,p=p||c),o=null;return h?a:null}function Y(t,e,n){var r,i=t[e],o=i.parentNode;if(i.nodeType===Ni)for(;;){if(r=o?i.nextSibling:t[e+1],!r||r.nodeType!==Ni)break;i.nodeValue=i.nodeValue+r.nodeValue,r.parentNode&&r.parentNode.removeChild(r),n&&r===t[e+1]&&t.splice(e+1,1)}}function Q(t,e,n){function r(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var i=r.$$slots=bt();for(var o in e.$$slots)e.$$slots[o]?i[o]=Q(t,e.$$slots[o],n):i[o]=null;return r}function X(t,e,n,r,i){var o,a,s,u=t.nodeType,c=n.$attr;switch(u){case Vi:a=L(t),ct(e,Se(a),"E",r,i);for(var l,f,h,p,d,$,v=t.attributes,m=0,y=v&&v.length;m<y;m++){var b=!1,x=!1;l=v[m],f=l.name,d=l.value,p=Se(f),$=Pt.test(p),$&&(f=f.replace(bo,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var E=p.match(Ut);E&&lt(E[1])&&(b=f,x=f.substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h=Se(f.toLowerCase()),c[h]=f,!$&&n.hasOwnProperty(h)||(n[h]=d,te(t,h)&&(n[h]=!0)),wt(t,e,d,h,$),ct(e,h,"A",r,i,b,x)}if("input"===a&&"hidden"===t.getAttribute("type")&&t.setAttribute("autocomplete","off"),!Nt)break;if(s=t.className,w(s)&&(s=s.animVal),C(s)&&""!==s)for(;o=g.exec(s);)h=Se(o[2]),ct(e,h,"C",r,i)&&(n[h]=wi(o[3])),s=s.substr(o.index+o[0].length);break;case Ni:mt(e,t.nodeValue);break;case Ii:if(!Vt)break;tt(t,e,n,r,i)}return e.sort(dt),e}function tt(t,e,n,r,i){try{var o=p.exec(t.nodeValue);if(o){var a=Se(o[1]);ct(e,a,"M",r,i)&&(n[a]=wi(o[2]))}}catch(s){}}function nt(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw go("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType===Vi&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return si(r)}function rt(t,e,n){return function(r,i,o,a,s){return i=nt(i[0],e,n),t(r,i,o,a,s)}}function it(t,e,n,r,i,o){var a;return t?W(e,n,r,i,o):function(){return a||(a=W(e,n,r,i,o),e=n=o=null),a.apply(this,arguments)}}function ot(t,e,n,i,a,s,u,c,l){function h(t,e,n,r){t&&(n&&(t=rt(t,n,r)),t.require=d.require,t.directiveName=$,(E===d||d.$$isolateScope)&&(t=Ct(t,{isolateScope:!0})),u.push(t)),e&&(n&&(e=rt(e,n,r)),e.require=d.require,e.directiveName=$,(E===d||d.$$isolateScope)&&(e=Ct(e,{isolateScope:!0})),c.push(e))}function p(t,i,a,s,l){function h(t,e,n,r){var i;if(V(t)||(r=n,n=e,e=t,t=void 0),N&&(i=g),n||(n=N?k.parent():k),!r)return l(t,e,i,n,R);var o=l.$$slots[r];if(o)return o(t,e,i,n,R);if(y(o))throw go("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',r,et(k))}var p,d,$,v,m,g,b,k,O,M;e===a?(O=n,k=n.$$element):(k=si(a),O=new U(k,n)),m=i,E?v=i.$new(!0):x&&(m=i.$parent),l&&(b=h,b.$$boundTransclude=l,b.isSlotFilled=function(t){return!!l.$$slots[t]}),C&&(g=st(k,O,b,C,v,i,E)),E&&(W.$$addScopeInfo(k,v,!0,!(S&&(S===E||S===E.$$originalDirective))),W.$$addScopeClass(k,!0),v.$$isolateBindings=E.$$isolateBindings,M=kt(i,O,v,v.$$isolateBindings,E),M.removeWatches&&v.$on("$destroy",M.removeWatches));for(var I in g){var j=C[I],_=g[I],D=j.$$bindings.bindToController;if(T){D?_.bindingInfo=kt(m,O,_.instance,D,j):_.bindingInfo={};var P=_();P!==_.instance&&(_.instance=P,k.data("$"+j.name+"Controller",P),_.bindingInfo.removeWatches&&_.bindingInfo.removeWatches(),_.bindingInfo=kt(m,O,_.instance,D,j))}else _.instance=_(),k.data("$"+j.name+"Controller",_.instance),_.bindingInfo=kt(m,O,_.instance,D,j)}for(o(C,function(t,e){var n=t.require;t.bindToController&&!yi(n)&&w(n)&&f(g[e].instance,at(e,n,k,g))}),o(g,function(t){var e=t.instance;if(A(e.$onChanges))try{e.$onChanges(t.bindingInfo.initialChanges)}catch(n){r(n)}if(A(e.$onInit))try{e.$onInit()}catch(n){r(n)}A(e.$doCheck)&&(m.$watch(function(){e.$doCheck()}),e.$doCheck()),A(e.$onDestroy)&&m.$on("$destroy",function(){e.$onDestroy()})}),p=0,d=u.length;p<d;p++)$=u[p],Et($,$.isolateScope?v:i,k,O,$.require&&at($.directiveName,$.require,k,g),b);var R=i;for(E&&(E.template||null===E.templateUrl)&&(R=v),t&&t(R,a.childNodes,void 0,l),p=c.length-1;p>=0;p--)$=c[p],Et($,$.isolateScope?v:i,k,O,$.require&&at($.directiveName,$.require,k,g),b);o(g,function(t){var e=t.instance;A(e.$postLink)&&e.$postLink()})}l=l||{};for(var d,$,v,m,g,b=-Number.MAX_VALUE,x=l.newScopeDirective,C=l.controllerDirectives,E=l.newIsolateScopeDirective,S=l.templateDirective,k=l.nonTlbTranscludeDirective,O=!1,M=!1,N=l.hasElementTranscludeDirective,I=n.$$element=si(e),j=s,_=i,D=!1,P=!1,R=0,q=t.length;R<q;R++){d=t[R];var F=d.$$start,B=d.$$end;if(F&&(I=nt(e,F,B)),v=void 0,b>d.priority)break;if(g=d.scope,g&&(d.templateUrl||(w(g)?(vt("new/isolated scope",E||x,d,I),E=d):vt("new/isolated scope",E,d,I)),x=x||d),$=d.name,!D&&(d.replace&&(d.templateUrl||d.template)||d.transclude&&!d.$$tlb)){for(var H,z=R+1;H=t[z++];)if(H.transclude&&!H.$$tlb||H.replace&&(H.templateUrl||H.template)){P=!0;break}D=!0}if(!d.templateUrl&&d.controller&&(C=C||bt(),vt("'"+$+"' controller",C[$],d,I),C[$]=d),g=d.transclude)if(O=!0,d.$$tlb||(vt("transclusion",k,d,I),k=d),"element"===g)N=!0,b=d.priority,v=I,I=n.$$element=si(W.$$createComment($,n[$])),e=I[0],xt(a,G(v),e),v[0].$$parentNode=v[0].parentNode,_=it(P,v,i,b,j&&j.name,{nonTlbTranscludeDirective:k});else{var J=bt();if(w(g)){v=[];var Z=bt(),Y=bt();o(g,function(t,e){var n="?"===t.charAt(0);t=n?t.substring(1):t,Z[t]=e,J[e]=null,Y[e]=n}),o(I.contents(),function(t){var e=Z[Se(L(t))];e?(Y[e]=!0,J[e]=J[e]||[],J[e].push(t)):v.push(t)}),o(Y,function(t,e){if(!t)throw go("reqslot","Required transclusion slot `{0}` was not filled.",e)});for(var Q in J)J[Q]&&(J[Q]=it(P,J[Q],i))}else v=si(Rt(e)).contents();I.empty(),_=it(P,v,i,void 0,void 0,{needsNewScope:d.$$isolateScope||d.$$newScope}),_.$$slots=J}if(d.template)if(M=!0,vt("template",S,d,I),S=d,g=A(d.template)?d.template(I,n):d.template,g=Dt(g),d.replace){if(j=d,v=Tt(g)?[]:Ae(gt(d.templateNamespace,wi(g))),e=v[0],1!==v.length||e.nodeType!==Vi)throw go("tplrt","Template for directive '{0}' must have exactly one root element. {1}",$,"");xt(a,I,e);var tt={$attr:{}},ot=X(e,[],tt),ct=t.splice(R+1,t.length-(R+1));(E||x)&&ut(ot,E,x),t=t.concat(ot).concat(ct),ft(n,tt),q=t.length}else I.html(g);if(d.templateUrl)M=!0,vt("template",S,d,I),S=d,d.replace&&(j=d),p=ht(t.splice(R,t.length-R),I,n,a,O&&_,u,c,{controllerDirectives:C,newScopeDirective:x!==d&&x,newIsolateScopeDirective:E,templateDirective:S,nonTlbTranscludeDirective:k}),q=t.length;else if(d.compile)try{m=d.compile(I,n,_);var lt=d.$$originalDirective||d;A(m)?h(null,K(lt,m),F,B):m&&h(K(lt,m.pre),K(lt,m.post),F,B)}catch(pt){r(pt,et(I))}d.terminal&&(p.terminal=!0,b=Math.max(b,d.priority))}return p.scope=x&&x.scope===!0,p.transcludeOnThisElement=O,p.templateOnThisElement=M,p.transclude=_,l.hasElementTranscludeDirective=N,p}function at(t,e,n,r){var i;if(C(e)){var a=e.match(E),s=e.substring(a[0].length),u=a[1]||a[3],c="?"===a[2];if("^^"===u?n=n.parent():(i=r&&r[s],i=i&&i.instance),!i){var l="$"+s+"Controller";i=u?n.inheritedData(l):n.data(l)}if(!i&&!c)throw go("ctreq","Controller '{0}', required by directive '{1}', can't be found!",s,t)}else if(yi(e)){i=[];for(var f=0,h=e.length;f<h;f++)i[f]=at(t,e[f],n,r)}else w(e)&&(i={},o(e,function(e,o){i[o]=at(t,e,n,r)}));return i||null}function st(t,e,n,r,i,o,a){var s=bt();for(var c in r){var l=r[c],f={$scope:l===a||l.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=l.controller;"@"===h&&(h=e[l.name]);var p=u(h,f,!0,l.controllerAs);s[l.name]=p,t.data("$"+l.name+"Controller",p.instance)}return s}function ut(t,e,n){for(var r=0,i=t.length;r<i;r++)t[r]=d(t[r],{$$isolateScope:e,$$newScope:n})}function ct(t,n,r,o,a,s,u){if(n===a)return null;var c=null;if(l.hasOwnProperty(n))for(var f,p=e.get(n+h),$=0,v=p.length;$<v;$++)if(f=p[$],(y(o)||o>f.priority)&&f.restrict.indexOf(r)!==-1){if(s&&(f=d(f,{$$start:s,$$end:u})),!f.$$bindings){var m=f.$$bindings=i(f,f.name);w(m.isolateScope)&&(f.$$isolateBindings=m.isolateScope)}t.push(f),c=f}return c}function lt(t){if(l.hasOwnProperty(t))for(var n,r=e.get(t+h),i=0,o=r.length;i<o;i++)if(n=r[i],n.multiElement)return!0;return!1}function ft(t,e){var n=e.$attr,r=t.$attr;o(t,function(r,i){"$"!==i.charAt(0)&&(e[i]&&e[i]!==r&&(r.length?r+=("style"===i?";":" ")+e[i]:r=e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,i){t.hasOwnProperty(i)||"$"===i.charAt(0)||(t[i]=e,"class"!==i&&"style"!==i&&(r[i]=n[i]))})}function ht(t,e,n,i,s,u,c,l){var f,h,p=[],$=e[0],v=t.shift(),m=d(v,{templateUrl:null,transclude:null,replace:null,$$originalDirective:v}),g=A(v.templateUrl)?v.templateUrl(e,n):v.templateUrl,y=v.templateNamespace;return e.empty(),a(g).then(function(r){var a,d,b,x;if(r=Dt(r),v.replace){if(b=Tt(r)?[]:Ae(gt(y,wi(r))),a=b[0],1!==b.length||a.nodeType!==Vi)throw go("tplrt","Template for directive '{0}' must have exactly one root element. {1}",v.name,g);d={$attr:{}},xt(i,e,a);var C=X(a,[],d);w(v.scope)&&ut(C,!0),t=C.concat(t),ft(n,d)}else a=$,e.html(r);for(t.unshift(m),f=ot(t,a,n,s,e,v,u,c,l),o(i,function(t,n){t===a&&(i[n]=e[0])}),h=Z(e[0].childNodes,s);p.length;){var E=p.shift(),S=p.shift(),k=p.shift(),A=p.shift(),O=e[0];if(!E.$$destroyed){if(S!==$){var M=S.className;l.hasElementTranscludeDirective&&v.replace||(O=Rt(a)),xt(k,si(S),O),B(si(O),M)}x=f.transcludeOnThisElement?Q(E,f.transclude,A):A,f(h,E,O,i,x)}}p=null})["catch"](function(t){k(t)&&r(t)}),function(t,e,n,r,i){var o=i;e.$$destroyed||(p?p.push(e,n,r,o):(f.transcludeOnThisElement&&(o=Q(e,f.transclude,i)),f(h,e,n,r,o)))}}function dt(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function vt(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw go("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,et(r))}function mt(t,e){var r=n(e,!0);r&&t.push({priority:0,compile:function(t){var e=t.parent(),n=!!e.length;return n&&W.$$addBindingClass(e),function(t,e){var i=e.parent();n||W.$$addBindingClass(i),W.$$addBindingInfo(i,r.expressions),t.$watch(r,function(t){e[0].nodeValue=t})}}})}function gt(e,n){switch(e=ni(e||"html")){case"svg":case"math":var r=t.document.createElement("div");return r.innerHTML="<"+e+">"+n+"</"+e+">",r.childNodes[0].childNodes;default:return n}}function yt(t,e){if("srcdoc"===e)return m.HTML;var n=L(t);if("src"===e||"ngSrc"===e){if(["img","video","audio","source","track"].indexOf(n)===-1)return m.RESOURCE_URL}else if("xlinkHref"===e||"form"===n&&"action"===e||"link"===n&&"href"===e)return m.RESOURCE_URL}function wt(t,e,r,i,o){var a=yt(t,i),s=!o,u=x[i]||o,c=n(r,s,a,u);if(c){if("multiple"===i&&"select"===L(t))throw go("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",et(t));if(S.test(i))throw go("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");e.push({priority:100,compile:function(){return{pre:function(t,e,o){var s=o.$$observers||(o.$$observers=bt()),l=o[i];l!==r&&(c=l&&n(l,!0,a,u),r=l),c&&(o[i]=c(t),(s[i]||(s[i]=[])).$$inter=!0,(o.$$observers&&o.$$observers[i].$$scope||t).$watch(c,function(t,e){"class"===i&&t!==e?o.$updateClass(t,e):o.$set(i,t)}))}}}})}}function xt(e,n,r){var i,o,a=n[0],s=n.length,u=a.parentNode;if(e)for(i=0,o=e.length;i<o;i++)if(e[i]===a){e[i++]=r;for(var c=i,l=c+s-1,f=e.length;c<f;c++,l++)l<f?e[c]=e[l]:delete e[c];e.length-=s-1,e.context===a&&(e.context=r);break}u&&u.replaceChild(r,a);var h=t.document.createDocumentFragment();for(i=0;i<s;i++)h.appendChild(n[i]);for(si.hasData(a)&&(si.data(r,si.data(a)),si(a).off("$destroy")),si.cleanData(h.querySelectorAll("*")),i=1;i<s;i++)delete n[i];n[0]=r,n.length=1}function Ct(t,e){return f(function(){return t.apply(null,arguments)},t,e)}function Et(t,e,n,i,o,a){try{t(e,n,i,o,a)}catch(s){r(s,et(n))}}function St(t,e){if(N)throw go("missingattr","Attribute '{0}' of '{1}' is non-optional and must be set!",t,e)}function kt(t,e,r,i,a){function u(e,n,i){A(r.$onChanges)&&!H(n,i)&&(At||(t.$$postDigest(R),At=[]),l||(l={},At.push(c)),l[e]&&(i=l[e].previousValue),l[e]=new Ee(i,n))}function c(){r.$onChanges(l),l=void 0}var l,f=[],h={};return o(i,function(i,o){var c,l,p,d,v,m=i.attrName,g=i.optional,y=i.mode;switch(y){case"@":g||ei.call(e,m)||(St(m,a.name),r[o]=e[m]=void 0),v=e.$observe(m,function(t){if(C(t)||j(t)){var e=r[o];u(o,t,e),r[o]=t}}),e.$$observers[m].$$scope=t,c=e[m],C(c)?r[o]=n(c)(t):j(c)&&(r[o]=c),h[o]=new Ee(yo,r[o]),f.push(v);break;case"=":if(!ei.call(e,m)){if(g)break;St(m,a.name),e[m]=void 0}if(g&&!e[m])break;l=s(e[m]),d=l.literal?z:H,p=l.assign||function(){throw c=r[o]=l(t),go("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",e[m],m,a.name)},c=r[o]=l(t);var b=function(e){return d(e,r[o])||(d(e,c)?p(t,e=r[o]):r[o]=e),c=e};b.$stateful=!0,v=i.collection?t.$watchCollection(e[m],b):t.$watch(s(e[m],b),null,l.literal),f.push(v);break;case"<":if(!ei.call(e,m)){if(g)break;St(m,a.name),e[m]=void 0}if(g&&!e[m])break;l=s(e[m]);var w=l.literal,x=r[o]=l(t);h[o]=new Ee(yo,r[o]),v=t.$watch(l,function(t,e){if(e===t){if(e===x||w&&z(e,x))return;e=x}u(o,t,e),r[o]=t},w),f.push(v);break;case"&":if(g||ei.call(e,m)||St(m,a.name),l=e.hasOwnProperty(m)?s(e[m]):$,l===$&&g)break;r[o]=function(e){return l(t,e)}}}),{initialChanges:h,removeWatches:f.length&&function(){for(var t=0,e=f.length;t<e;++t)f[t]()}}}var At,Ot=/^\w/,Mt=t.document.createElement("div"),Vt=_,Nt=D,It=I;U.prototype={$normalize:Se,$addClass:function(t){t&&t.length>0&&O.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&O.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=ke(t,e);n&&n.length&&O.addClass(this.$$element,n);var r=ke(e,t);r&&r.length&&O.removeClass(this.$$element,r)},$set:function(t,e,n,i){var a,s=this.$$element[0],u=te(s,t),c=ee(t),l=t;if(u?(this.$$element.prop(t,e),i=u):c&&(this[c]=e,l=c),this[t]=e,i?this.$attr[t]=i:(i=this.$attr[t],i||(this.$attr[t]=i=pt(t,"-"))),a=L(this.$$element),"a"===a&&("href"===t||"xlinkHref"===t)||"img"===a&&"src"===t)this[t]=e=P(e,"src"===t);else if("img"===a&&"srcset"===t&&b(e)){for(var f="",h=wi(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,d=/\s/.test(h)?p:/(,)/,$=h.split(d),v=Math.floor($.length/2),m=0;m<v;m++){var g=2*m;f+=P(wi($[g]),!0),f+=" "+wi($[g+1])}var w=wi($[2*m]).split(/\s/);f+=P(wi(w[0]),!0),2===w.length&&(f+=" "+wi(w[1])),this[t]=e=f}n!==!1&&(null===e||y(e)?this.$$element.removeAttr(i):Ot.test(i)?this.$$element.attr(i,e):q(this.$$element[0],i,e));var x=this.$$observers;x&&o(x[l],function(t){try{t(e)}catch(n){r(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=bt()),i=r[t]||(r[t]=[]);return i.push(e),c.$evalAsync(function(){i.$$inter||!n.hasOwnProperty(t)||y(n[t])||e(n[t])}),function(){F(i,e)}}};var jt=n.startSymbol(),_t=n.endSymbol(),Dt="{{"===jt&&"}}"===_t?v:function(t){return t.replace(/\{\{/g,jt).replace(/}}/g,_t)},Pt=/^ngAttr[A-Z]/,Ut=/^(.+)Start$/;return W.$$addBindingInfo=M?function(t,e){var n=t.data("$binding")||[];yi(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:$,W.$$addBindingClass=M?function(t){B(t,"ng-binding")}:$,W.$$addScopeInfo=M?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:$,W.$$addScopeClass=M?function(t,e){B(t,e?"ng-isolate-scope":"ng-scope")}:$,W.$$createComment=function(e,n){var r="";return M&&(r=" "+(e||"")+": ",n&&(r+=n+" ")),t.document.createComment(r)},W}]}function Ee(t,e){this.previousValue=t,this.currentValue=e}function Se(t){return t.replace(bo,"").replace(wo,Mt)}function ke(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a===i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function Ae(t){t=si(t);var e=t.length;if(e<=1)return t;for(;e--;){var n=t[e];(n.nodeType===Ii||n.nodeType===Ni&&""===n.nodeValue.trim())&&fi.call(t,e,1)}return t}function Oe(t,e){if(e&&C(e))return e;if(C(t)){var n=Co.exec(t);if(n)return n[3]}}function Me(){var t={},e=!1;this.has=function(e){return t.hasOwnProperty(e)},this.register=function(e,n){mt(e,"controller"),w(e)?f(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(n,i){function o(t,e,n,i){if(!t||!w(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,a,s,u){var c,l,h,p;if(s=s===!0,u&&C(u)&&(p=u),C(r)){if(l=r.match(Co),!l)throw xo("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);if(h=l[1],p=p||l[3],r=t.hasOwnProperty(h)?t[h]:gt(a.$scope,h,!0)||(e?gt(i,h,!0):void 0),!r)throw xo("ctrlreg","The controller with the name '{0}' is not registered.",h);vt(r,h,!0)}if(s){var d=(yi(r)?r[r.length-1]:r).prototype;return c=Object.create(d||null),p&&o(a,p,c,h||r.name),f(function(){var t=n.invoke(r,c,a,h);return t!==c&&(w(t)||A(t))&&(c=t,p&&o(a,p,c,h||r.name)),c},{instance:c,identifier:p})}return c=n.instantiate(r,a,h),p&&o(a,p,c,h||r.name),c}}]}function Ve(){this.$get=["$window",function(t){return si(t.document)}]}function Te(){this.$get=["$document","$rootScope",function(t,e){function n(){i=r.hidden}var r=t[0],i=r&&r.hidden;return t.on("visibilitychange",n),e.$on("$destroy",function(){t.off("visibilitychange",n)}),function(){return i}}]}function Ne(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function Ie(t){return w(t)?S(t)?t.toISOString():Z(t):t}function je(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||y(t)||A(t)||(yi(t)?o(t,function(t){e.push(at(n)+"="+at(Ie(t)))}):e.push(at(n)+"="+at(Ie(t))))}),e.join("&")}}}function _e(){this.$get=function(){return function(t){function e(t,r,i){null===t||y(t)||(yi(t)?o(t,function(t,n){e(t,r+"["+(w(t)?n:"")+"]")}):w(t)&&!S(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(at(r)+"="+at(Ie(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function De(t,e){if(C(t)){var n=t.replace(Mo,"").trim();if(n){var r=e("Content-Type"),i=r&&0===r.indexOf(So);if(i||Pe(n))try{t=Y(n)}catch(o){if(!i)return t;throw Vo("baddata",'Data must be a valid JSON object. Received: "{0}". Parse error: "{1}"',t,o)}}}return t}function Pe(t){var e=t.match(Ao);return e&&Oo[e[0]].test(t)}function Re(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=bt();return C(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(ni(wi(t.substr(0,n))),wi(t.substr(n+1)))}):w(t)&&o(t,function(t,n){e(ni(n),wi(t))}),r}function Ue(t){var e;return function(n){if(e||(e=Re(t)),n){var r=e[ni(n)];return void 0===r&&(r=null),r}return e}}function Le(t,e,n,r){return A(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function qe(t){return 200<=t&&t<300}function Fe(){var t=this.defaults={transformResponse:[De],transformRequest:[function(t){return!w(t)||T(t)||I(t)||N(t)?t:Z(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Ct(ko),put:Ct(ko),patch:Ct(ko)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},e=!1;this.useApplyAsync=function(t){return b(t)?(e=!!t,this):e};var n=this.interceptors=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(i,a,s,u,c,l,h,p){function d(e){function n(t,e){for(var n=0,r=e.length;n<r;){var i=e[n++],o=e[n++];t=t.then(i,o)}return e.length=0,t}function a(){i.$$completeOutstandingRequest($)}function s(t,e){var n,r={};return o(t,function(t,i){A(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function u(e){var n,r,i,o=t.headers,a=f({},e.headers);o=f({},o.common,o[ni(e.method)]);t:for(n in o){r=ni(n);for(i in a)if(ni(i)===r)continue t;a[n]=o[n]}return s(a,Ct(e))}function c(e){var n=e.headers,r=Le(e.data,Ue(n),void 0,e.transformRequest);return y(r)&&o(n,function(t,e){"content-type"===ni(e)&&delete n[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),g(e,r).then(d,d)}function d(t){var e=f({},t);return e.data=Le(t.data,t.headers,t.status,v.transformResponse),qe(t.status)?e:l.reject(e)}if(!w(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!C(p.valueOf(e.url)))throw r("$http")("badreq","Http request configuration url must be a string or a $sce trusted object.  Received: {0}",e.url);var v=f({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer,jsonpCallbackParam:t.jsonpCallbackParam},e);v.headers=u(e),v.method=ri(v.method),v.paramSerializer=C(v.paramSerializer)?h.get(v.paramSerializer):v.paramSerializer,i.$$incOutstandingRequestCount();var m=[],b=[],x=l.resolve(v);return o(k,function(t){(t.request||t.requestError)&&m.unshift(t.request,t.requestError),(t.response||t.responseError)&&b.push(t.response,t.responseError)}),x=n(x,m),x=x.then(c),x=n(x,b),x=x["finally"](a)}function v(t){o(arguments,function(t){d[t]=function(e,n){return d(f({},n||{},{method:t,url:e}))}})}function m(t){o(arguments,function(t){d[t]=function(e,n,r){return d(f({},r||{},{method:t,url:e,data:n}))}})}function g(n,r){function i(t){if(t){var n={};return o(t,function(t,r){n[r]=function(n){function r(){t(n)}e?c.$applyAsync(r):c.$$phase?r():c.$apply(r)}}),n}}function u(t,n,r,i,o){function a(){f(n,t,r,i,o)}v&&(qe(t)?v.put(M,[t,n,Re(r),i,o]):v.remove(M)),e?c.$applyAsync(a):(a(),c.$$phase||c.$apply())}function f(t,e,r,i,o){e=e>=-1?e:0,(qe(e)?g.resolve:g.reject)({data:t,status:e,headers:Ue(r),config:n,statusText:i,xhrStatus:o})}function h(t){f(t.data,t.status,Ct(t.headers()),t.statusText,t.xhrStatus)}function $(){var t=d.pendingRequests.indexOf(n);t!==-1&&d.pendingRequests.splice(t,1)}var v,m,g=l.defer(),k=g.promise,A=n.headers,O="jsonp"===ni(n.method),M=n.url;if(O?M=p.getTrustedResourceUrl(M):C(M)||(M=p.valueOf(M)),M=x(M,n.paramSerializer(n.params)),O&&(M=E(M,n.jsonpCallbackParam)),d.pendingRequests.push(n),k.then($,$),!n.cache&&!t.cache||n.cache===!1||"GET"!==n.method&&"JSONP"!==n.method||(v=w(n.cache)?n.cache:w(t.cache)?t.cache:S),v&&(m=v.get(M),b(m)?_(m)?m.then(h,h):yi(m)?f(m[1],m[0],Ct(m[2]),m[3],m[4]):f(m,200,{},"OK","complete"):v.put(M,k)),y(m)){var V=Wn(n.url)?s()[n.xsrfCookieName||t.xsrfCookieName]:void 0;V&&(A[n.xsrfHeaderName||t.xsrfHeaderName]=V),a(n.method,M,r,u,A,n.timeout,n.withCredentials,n.responseType,i(n.eventHandlers),i(n.uploadEventHandlers))}return k}function x(t,e){return e.length>0&&(t+=(t.indexOf("?")===-1?"?":"&")+e),t}function E(t,e){if(/[&?][^=]+=JSON_CALLBACK/.test(t))throw Vo("badjsonp",'Illegal use of JSON_CALLBACK in url, "{0}"',t);var n=new RegExp("[&?]"+e+"=");if(n.test(t))throw Vo("badjsonp",'Illegal use of callback param, "{0}", in url, "{1}"',e,t);return t+=(t.indexOf("?")===-1?"?":"&")+e+"=JSON_CALLBACK"}var S=u("$http");t.paramSerializer=C(t.paramSerializer)?h.get(t.paramSerializer):t.paramSerializer;var k=[];return o(n,function(t){k.unshift(C(t)?h.get(t):h.invoke(t))}),d.pendingRequests=[],v("get","delete","head","jsonp"),m("post","put","patch"),d.defaults=t,d}]}function Be(){this.$get=function(){return function(){return new t.XMLHttpRequest}}}function He(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(t,e,n,r){return ze(t,r,t.defer,e,n[0])}]}function ze(t,e,n,r,i){function a(t,e,n){t=t.replace("JSON_CALLBACK",e);var o=i.createElement("script"),a=null;return o.type="text/javascript",o.src=t,o.async=!0,a=function(t){o.removeEventListener("load",a),o.removeEventListener("error",a),i.body.removeChild(o),o=null;var s=-1,u="unknown";t&&("load"!==t.type||r.wasCalled(e)||(t={type:"error"}),u=t.type,s="error"===t.type?404:200),n&&n(s,u)},o.addEventListener("load",a),o.addEventListener("error",a),i.body.appendChild(o),a}return function(i,s,u,c,l,f,h,p,d,$){function v(){w&&w(),x&&x.abort()}function m(t,e,r,i,o,a){b(A)&&n.cancel(A),w=x=null,t(e,r,i,o,a)}if(s=s||t.url(),"jsonp"===ni(i))var g=r.createCallback(s),w=a(s,g,function(t,e){var n=200===t&&r.getResponse(g);m(c,t,n,"",e,"complete"),r.removeCallback(g)});else{var x=e(i,s);x.open(i,s,!0),o(l,function(t,e){b(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"===zn(s).protocol?404:0),m(c,n,e,x.getAllResponseHeaders(),t,"complete")};var C=function(){m(c,-1,null,null,"","error")},E=function(){m(c,-1,null,null,"","abort")},S=function(){m(c,-1,null,null,"","timeout")};if(x.onerror=C,x.onabort=E,x.ontimeout=S,o(d,function(t,e){x.addEventListener(e,t)}),o($,function(t,e){x.upload.addEventListener(e,t)}),h&&(x.withCredentials=!0),p)try{x.responseType=p}catch(k){if("json"!==p)throw k}x.send(y(u)?null:u)}if(f>0)var A=n(v,f);else _(f)&&f.then(v)}}function We(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(h,t).replace(p,e)}function s(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function u(o,u,h,p){function d(t){try{return t=T(t),p&&!b(t)?t:wt(t)}catch(e){r(To.interr(o,e))}}if(!o.length||o.indexOf(t)===-1){var $;if(!u){var v=a(o);$=m(v),$.exp=o,$.expressions=[],$.$$watchDelegate=s}return $}p=!!p;for(var g,w,x,C=0,E=[],S=[],k=o.length,O=[],M=[];C<k;){if((g=o.indexOf(t,C))===-1||(w=o.indexOf(e,g+c))===-1){C!==k&&O.push(a(o.substring(C)));break}C!==g&&O.push(a(o.substring(C,g))),x=o.substring(g+c,w),E.push(x),S.push(n(x,d)),C=w+l,M.push(O.length),O.push("")}if(h&&O.length>1&&To.throwNoconcat(o),!u||E.length){var V=function(t){for(var e=0,n=E.length;e<n;e++){if(p&&y(t[e]))return;O[M[e]]=t[e]}return O.join("")},T=function(t){return h?i.getTrusted(h,t):i.valueOf(t)};return f(function(t){var e=0,n=E.length,i=new Array(n);try{for(;e<n;e++)i[e]=S[e](t);return V(i)}catch(a){r(To.interr(o,a))}},{exp:o,expressions:E,$$watchDelegate:function(t,e){var n;return t.$watchGroup(S,function(r,i){var o=V(r);A(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var c=t.length,l=e.length,h=new RegExp(t.replace(/./g,o),"g"),p=new RegExp(e.replace(/./g,o),"g");return u.startSymbol=function(){return t},u.endSymbol=function(){return e},u}]}function Ge(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(t,e,n,r,i){function o(o,s,u,c){function l(){f?o.apply(null,h):o($)}var f=arguments.length>4,h=f?G(arguments,4):[],p=e.setInterval,d=e.clearInterval,$=0,v=b(c)&&!c,m=(v?r:n).defer(),g=m.promise;return u=b(u)?u:0,g.$$intervalId=p(function(){v?i.defer(l):t.$evalAsync(l),m.notify($++),u>0&&$>=u&&(m.resolve($),d(g.$$intervalId),delete a[g.$$intervalId]),v||t.$apply()},s),a[g.$$intervalId]=m,g}var a={};return o.cancel=function(t){return!!(t&&t.$$intervalId in a)&&(Nn(a[t.$$intervalId].promise),a[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete a[t.$$intervalId],!0)},o}]}function Ke(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=ot(e[n]);return e.join("/")}function Je(t,e){var n=zn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=p(n.port)||jo[n.protocol]||null}function Ze(t,e){if(Do.test(t))throw _o("badpath",'Invalid url "{0}".',t);var n="/"!==t.charAt(0);n&&(t="/"+t);var r=zn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=rt(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!==e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Ye(t,e){return t.slice(0,e.length)===e}function Qe(t,e){if(Ye(e,t))return e.substr(t.length)}function Xe(t){var e=t.indexOf("#");return e===-1?t:t.substr(0,e)}function tn(t){return t.replace(/(#.+)|#$/,"$1")}function en(t){return t.substr(0,Xe(t).lastIndexOf("/")+1)}function nn(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function rn(t,e,n){this.$$html5=!0,n=n||"",Je(t,this),this.$$parse=function(t){var n=Qe(e,t);if(!C(n))throw _o("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,e);Ze(n,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=it(this.$$search),n=this.$$hash?"#"+ot(this.$$hash):"";this.$$url=Ke(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=e+this.$$url.substr(1),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a,s;return b(o=Qe(t,r))?(a=o,s=n&&b(o=Qe(n,o))?e+(Qe("/",o)||o):t+a):b(o=Qe(e,r))?s=e+o:e===r+"/"&&(s=e),s&&this.$$parse(s),!!s}}function on(t,e,n){Je(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return Ye(e,n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=Qe(t,r)||Qe(e,r);y(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",y(a)&&(t=r,this.replace())):(o=Qe(n,a),y(o)&&(o=a)),Ze(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var e=it(this.$$search),r=this.$$hash?"#"+ot(this.$$hash):"";this.$$url=Ke(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+(this.$$url?n+this.$$url:""),this.$$urlUpdatedByLocation=!0},this.$$parseLinkUrl=function(e,n){return Xe(t)===Xe(e)&&(this.$$parse(e),!0)}}function an(t,e,n){this.$$html5=!0,on.apply(this,arguments),this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t===Xe(r)?o=r:(a=Qe(e,r))?o=t+n+a:e===r+"/"&&(o=e),o&&this.$$parse(o),!!o},this.$$compose=function(){var e=it(this.$$search),r=this.$$hash?"#"+ot(this.$$hash):"";this.$$url=Ke(this.$$path)+(e?"?"+e:"")+r,this.$$absUrl=t+n+this.$$url,this.$$urlUpdatedByLocation=!0}}function sn(t){return function(){return this[t]}}function un(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function cn(){var t="!",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return j(t)?(e.enabled=t,this):w(t)?(j(t.enabled)&&(e.enabled=t.enabled),j(t.requireBase)&&(e.requireBase=t.requireBase),(j(t.rewriteLinks)||C(t.rewriteLinks))&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=c.url(),o=c.$$state;try{r.url(t,e,n),c.$$state=r.state()}catch(a){throw c.url(i),c.$$state=o,a}}function u(t,e){n.$broadcast("$locationChangeSuccess",c.absUrl(),t,c.$$state,e)}var c,l,f,h=r.baseHref(),p=r.url();if(e.enabled){if(!h&&e.requireBase)throw _o("nobase","$location in HTML5 mode requires a <base> tag to be present!");
f=nn(p)+(h||"/"),l=i.history?rn:an}else f=Xe(p),l=on;var d=en(f);c=new l(f,d,"#"+t),c.$$parseLinkUrl(p,p),c.$$state=r.state();var $=/^\s*(javascript|mailto):/i;o.on("click",function(t){var i=e.rewriteLinks;if(i&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!==t.which&&2!==t.button){for(var s=si(t.target);"a"!==L(s[0]);)if(s[0]===o[0]||!(s=s.parent())[0])return;if(!C(i)||!y(s.attr(i))){var u=s.prop("href"),l=s.attr("href")||s.attr("xlink:href");w(u)&&"[object SVGAnimatedString]"===u.toString()&&(u=zn(u.animVal).href),$.test(u)||!u||s.attr("target")||t.isDefaultPrevented()||c.$$parseLinkUrl(u,l)&&(t.preventDefault(),c.absUrl()!==r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}}),tn(c.absUrl())!==tn(p)&&r.url(c.absUrl(),!0);var v=!0;return r.onUrlChange(function(t,e){return Ye(t,d)?(n.$evalAsync(function(){var r,i=c.absUrl(),o=c.$$state;t=tn(t),c.$$parse(t),c.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,c.absUrl()===t&&(r?(c.$$parse(i),c.$$state=o,s(i,!1,o)):(v=!1,u(i,o)))}),void(n.$$phase||n.$digest())):void(a.location.href=t)}),n.$watch(function(){if(v||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var t=tn(r.url()),e=tn(c.absUrl()),o=r.state(),a=c.$$replace,l=t!==e||c.$$html5&&i.history&&o!==c.$$state;(v||l)&&(v=!1,n.$evalAsync(function(){var e=c.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,c.$$state,o).defaultPrevented;c.absUrl()===e&&(r?(c.$$parse(t),c.$$state=o):(l&&s(e,a,o===c.$$state?null:c.$$state),u(t,o)))}))}c.$$replace=!1}),c}]}function ln(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return k(t)&&(t.stack&&a?t=t.message&&t.stack.indexOf(t.message)===-1?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||$;return function(){var t=[];return o(arguments,function(e){t.push(r(e))}),Function.prototype.apply.call(i,e,t)}}var a=ai||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function fn(t){return t+""}function hn(t,e){return"undefined"!=typeof t?t:e}function pn(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function dn(t,e){var n=t(e);return!n.$stateful}function $n(t,e){switch(t.type){case Bo.MemberExpression:if(t.computed)return!1;break;case Bo.UnaryExpression:return Ho;case Bo.BinaryExpression:return"+"!==t.operator&&Ho;case Bo.CallExpression:return!1}return void 0===e?zo:e}function vn(t,e,n){var r,i,a,s=t.isPure=$n(t,n);switch(t.type){case Bo.Program:r=!0,o(t.body,function(t){vn(t.expression,e,s),r=r&&t.expression.constant}),t.constant=r;break;case Bo.Literal:t.constant=!0,t.toWatch=[];break;case Bo.UnaryExpression:vn(t.argument,e,s),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Bo.BinaryExpression:vn(t.left,e,s),vn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Bo.LogicalExpression:vn(t.left,e,s),vn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Bo.ConditionalExpression:vn(t.test,e,s),vn(t.alternate,e,s),vn(t.consequent,e,s),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Bo.Identifier:t.constant=!1,t.toWatch=[t];break;case Bo.MemberExpression:vn(t.object,e,s),t.computed&&vn(t.property,e,s),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=t.constant?[]:[t];break;case Bo.CallExpression:a=!!t.filter&&dn(e,t.callee.name),r=a,i=[],o(t.arguments,function(t){vn(t,e,s),r=r&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=r,t.toWatch=a?i:[t];break;case Bo.AssignmentExpression:vn(t.left,e,s),vn(t.right,e,s),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Bo.ArrayExpression:r=!0,i=[],o(t.elements,function(t){vn(t,e,s),r=r&&t.constant,i.push.apply(i,t.toWatch)}),t.constant=r,t.toWatch=i;break;case Bo.ObjectExpression:r=!0,i=[],o(t.properties,function(t){vn(t.value,e,s),r=r&&t.value.constant,i.push.apply(i,t.value.toWatch),t.computed&&(vn(t.key,e,!1),r=r&&t.key.constant,i.push.apply(i,t.key.toWatch))}),t.constant=r,t.toWatch=i;break;case Bo.ThisExpression:t.constant=!1,t.toWatch=[];break;case Bo.LocalsExpression:t.constant=!1,t.toWatch=[]}}function mn(t){if(1===t.length){var e=t[0].expression,n=e.toWatch;return 1!==n.length?n:n[0]!==e?n:void 0}}function gn(t){return t.type===Bo.Identifier||t.type===Bo.MemberExpression}function yn(t){if(1===t.body.length&&gn(t.body[0].expression))return{type:Bo.AssignmentExpression,left:t.body[0].expression,right:{type:Bo.NGValueParameter},operator:"="}}function bn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Bo.Literal||t.body[0].expression.type===Bo.ArrayExpression||t.body[0].expression.type===Bo.ObjectExpression)}function wn(t){return t.constant}function xn(t){this.$filter=t}function Cn(t){this.$filter=t}function En(t,e,n){this.ast=new Bo(t,n),this.astCompiler=n.csp?new Cn(e):new xn(e)}function Sn(t){return A(t.valueOf)?t.valueOf():Uo.call(t)}function kn(){var t,e,n=bt(),r={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(t,e){r[t]=e},this.setIdentifierFns=function(n,r){return t=n,e=r,this},this.$get=["$filter",function(i){function a(t,e){var r,o,a;switch("undefined"==typeof t?"undefined":_typeof(t)){case"string":if(t=t.trim(),a=t,r=n[a],!r){":"===t.charAt(0)&&":"===t.charAt(1)&&(o=!0,t=t.substring(2));var s=new Fo(d),p=new En(s,i,d);r=p.parse(t),r.constant?r.$$watchDelegate=f:o?r.$$watchDelegate=r.literal?l:c:r.inputs&&(r.$$watchDelegate=u),n[a]=r}return h(r,e);case"function":return h(t,e);default:return h($,e)}}function s(t,e,n){return null==t||null==e?t===e:!("object"===("undefined"==typeof t?"undefined":_typeof(t))&&(t=Sn(t),"object"===("undefined"==typeof t?"undefined":_typeof(t))&&!n))&&(t===e||t!==t&&e!==e)}function u(t,e,n,r,i){var o,a=r.inputs;if(1===a.length){var u=s;return a=a[0],t.$watch(function(t){var e=a(t);return s(e,u,a.isPure)||(o=r(t,void 0,void 0,[e]),u=e&&Sn(e)),o},e,n,i)}for(var c=[],l=[],f=0,h=a.length;f<h;f++)c[f]=s,l[f]=null;return t.$watch(function(t){for(var e=!1,n=0,i=a.length;n<i;n++){var u=a[n](t);(e||(e=!s(u,c[n],a[n].isPure)))&&(l[n]=u,c[n]=u&&Sn(u))}return e&&(o=r(t,void 0,void 0,l)),o},e,n,i)}function c(t,e,n,r,i){function o(t){return r(t)}function a(t,n,r){c=t,A(e)&&e(t,n,r),b(t)&&r.$$postDigest(function(){b(c)&&s()})}var s,c;return s=r.inputs?u(t,a,n,r,i):t.$watch(o,a,n)}function l(t,e,n,r){function i(t){var e=!0;return o(t,function(t){b(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,A(e)&&e(t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function f(t,e,n,r){var i=t.$watch(function(t){return i(),r(t)},e,n);return i}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,r=!1,i=n!==l&&n!==c,o=i?function(n,i,o,a){var s=r&&a?a[0]:t(n,i,o,a);return e(s,n,i)}:function(n,r,i,o){var a=t(n,r,i,o),s=e(a,n,r);return b(a)?s:a};return r=!t.inputs,n&&n!==u?(o.$$watchDelegate=n,o.inputs=t.inputs):e.$stateful||(o.$$watchDelegate=u,o.inputs=t.inputs?t.inputs:[t]),o.inputs&&(o.inputs=o.inputs.map(function(t){return t.isPure===zo?function(e){return t(e)}:t})),o}var p=Ci().noUnsafeEval,d={csp:p,literals:B(r),isIdentifierStart:A(t)&&t,isIdentifierContinue:A(e)&&e};return a}]}function An(){var t=!0;this.$get=["$rootScope","$exceptionHandler",function(e,n){return Mn(function(t){e.$evalAsync(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return b(e)?(t=e,this):t}}function On(){var t=!0;this.$get=["$browser","$exceptionHandler",function(e,n){return Mn(function(t){e.defer(t)},n,t)}],this.errorOnUnhandledRejections=function(e){return b(e)?(t=e,this):t}}function Mn(t,e,n){function i(){return new a}function a(){var t=this.promise=new s;this.resolve=function(e){h(t,e)},this.reject=function(e){d(t,e)},this.notify=function(e){v(t,e)}}function s(){this.$$state={status:0}}function u(e){var r,i,o;o=e.pending,e.processScheduled=!1,e.pending=void 0;try{for(var a=0,s=o.length;a<s;++a){Tn(e),i=o[a][0],r=o[a][e.status];try{A(r)?h(i,r(e.value)):1===e.status?h(i,e.value):d(i,e.value)}catch(u){d(i,u)}}}finally{--O,n&&0===O&&t(c)}}function c(){for(;!O&&M.length;){var t=M.shift();if(!Vn(t)){Tn(t);var n="Possibly unhandled rejection: "+St(t.value);k(t.value)?e(t.value,n):e(n)}}}function l(e){!n||e.pending||2!==e.status||Vn(e)||(0===O&&0===M.length&&t(c),M.push(e)),!e.processScheduled&&e.pending&&(e.processScheduled=!0,++O,t(function(){u(e)}))}function h(t,e){t.$$state.status||(e===t?$(t,S("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):p(t,e))}function p(t,e){function n(e){a||(a=!0,p(t,e))}function r(e){a||(a=!0,$(t,e))}function i(e){v(t,e)}var o,a=!1;try{(w(e)||A(e))&&(o=e.then),A(o)?(t.$$state.status=-1,o.call(e,n,r,i)):(t.$$state.value=e,t.$$state.status=1,l(t.$$state))}catch(s){r(s)}}function d(t,e){t.$$state.status||$(t,e)}function $(t,e){t.$$state.value=e,t.$$state.status=2,l(t.$$state)}function v(n,r){var i=n.$$state.pending;n.$$state.status<=0&&i&&i.length&&t(function(){for(var t,n,o=0,a=i.length;o<a;o++){n=i[o][0],t=i[o][3];try{v(n,A(t)?t(r):r)}catch(s){e(s)}}})}function m(t){var e=new s;return d(e,t),e}function g(t,e,n){var r=null;try{A(n)&&(r=n())}catch(i){return m(i)}return _(r)?r.then(function(){return e(t)},m):e(t)}function b(t,e,n,r){var i=new s;return h(i,t),i.then(e,n,r)}function x(t){var e=new s,n=0,r=yi(t)?[]:{};return o(t,function(t,i){n++,b(t).then(function(t){r[i]=t,--n||h(e,r)},function(t){d(e,t)})}),0===n&&h(e,r),e}function C(t){var e=i();return o(t,function(t){b(t).then(e.resolve,e.reject)}),e.promise}function E(t){function e(t){h(r,t)}function n(t){d(r,t)}if(!A(t))throw S("norslvr","Expected resolverFn, got '{0}'",t);var r=new s;return t(e,n),r}var S=r("$q",TypeError),O=0,M=[];f(s.prototype,{then:function(t,e,n){if(y(t)&&y(e)&&y(n))return this;var r=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&l(this.$$state),r},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return g(e,V,t)},function(e){return g(e,m,t)},e)}});var V=b;return E.prototype=s.prototype,E.defer=i,E.reject=m,E.when=b,E.resolve=V,E.all=x,E.race=C,E}function Vn(t){return!!t.pur}function Tn(t){t.pur=!0}function Nn(t){Tn(t.$$state)}function In(){this.$get=["$window","$timeout",function(t,e){var n=t.requestAnimationFrame||t.webkitRequestAnimationFrame,r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,i=!!n,o=i?function(t){var e=n(t);return function(){r(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};return o.supported=i,o}]}function jn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=u(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$exceptionHandler","$parse","$browser",function(r,c,l){function f(t){t.currentScope.$$destroyed=!0}function h(t){9===ai&&(t.$$childHead&&h(t.$$childHead),t.$$nextSibling&&h(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}function p(){this.$id=u(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function d(t){if(E.$$phase)throw n("inprog","{0} already in progress",E.$$phase);E.$$phase=t}function v(){E.$$phase=null}function m(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function g(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function b(){}function x(){for(;O.length;)try{O.shift()()}catch(t){r(t)}s=null}function C(){null===s&&(s=l.defer(function(){E.$apply(x)}))}p.prototype={constructor:p,$new:function(e,n){var r;return n=n||this,e?(r=new p,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!==this)&&r.$on("$destroy",f),r},$watch:function(t,e,n,r){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,s=o.$$watchers,u={fn:e,last:b,get:i,exp:r||t,eq:!!n};return a=null,A(e)||(u.fn=$),s||(s=o.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(u),s.$$digestWatchIndex++,m(this,1),function(){var t=F(s,u);t>=0&&(m(o,-1),t<s.$$digestWatchIndex&&s.$$digestWatchIndex--),a=null}},$watchGroup:function(t,e){function n(){u=!1,c?(c=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,u=!1,c=!0;if(!t.length){var l=!0;return s.$evalAsync(function(){l&&e(i,i,s)}),function(){l=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,u||(u=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s,u;if(!y(o)){if(w(o))if(i(o)){a!==p&&(a=p,v=a.length=0,f++),e=o.length,v!==e&&(f++,a.length=v=e);for(var c=0;c<e;c++)u=a[c],s=o[c],r=u!==u&&s!==s,r||u===s||(f++,a[c]=s)}else{a!==d&&(a=d={},v=0,f++),e=0;for(n in o)ei.call(o,n)&&(e++,s=o[n],u=a[n],n in a?(r=u!==u&&s!==s,r||u===s||(f++,a[n]=s)):(v++,a[n]=s,f++));if(v>e){f++;for(n in a)ei.call(o,n)||(v--,delete a[n])}}else a!==o&&(a=o,f++);return f}}function r(){if($?($=!1,e(o,o,u)):e(o,s,u),l)if(w(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)ei.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,u=this,l=e.length>1,f=0,h=c(t,n),p=[],d={},$=!0,v=0;return this.$watch(h,r)},$digest:function(){var t,i,o,u,c,f,h,p,$,m,g,y=e,w=this,C=[];d("$digest"),l.$$checkUrlChange(),this===E&&null!==s&&(l.defer.cancel(s),x()),a=null;do{h=!1,$=w;for(var O=0;O<S.length;O++){try{g=S[O],u=g.fn,u(g.scope,g.locals)}catch(V){r(V)}a=null}S.length=0;t:do{if(f=$.$$watchers)for(f.$$digestWatchIndex=f.length;f.$$digestWatchIndex--;)try{if(t=f[f.$$digestWatchIndex])if(c=t.get,(i=c($))===(o=t.last)||(t.eq?z(i,o):gi(i)&&gi(o))){if(t===a){h=!1;break t}}else h=!0,a=t,t.last=t.eq?B(i,null):i,u=t.fn,u(i,o===b?i:o,$),y<5&&(m=4-y,C[m]||(C[m]=[]),C[m].push({msg:A(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:i,oldVal:o}))}catch(V){r(V)}if(!(p=$.$$watchersCount&&$.$$childHead||$!==w&&$.$$nextSibling))for(;$!==w&&!(p=$.$$nextSibling);)$=$.$parent}while($=p);if((h||S.length)&&!y--)throw v(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,C)}while(h||S.length);for(v();M<k.length;)try{k[M++]()}catch(V){r(V)}k.length=M=0,l.$$checkUrlChange()},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===E&&l.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var e in this.$$listenerCount)g(this,this.$$listenerCount[e],e);t&&t.$$childHead===this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail===this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=$,this.$on=this.$watch=this.$watchGroup=function(){return $},this.$$listeners={},this.$$nextSibling=null,h(this)}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){E.$$phase||S.length||l.defer(function(){S.length&&E.$digest()}),S.push({scope:this,fn:c(t),locals:e})},$$postDigest:function(t){k.push(t)},$apply:function(t){try{d("$apply");try{return this.$eval(t)}finally{v()}}catch(e){r(e)}finally{try{E.$digest()}catch(e){throw r(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&O.push(e),t=c(t),C()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);r!==-1&&(n[r]=null,g(i,1,t))}},$emit:function(t,e){var n,i,o,a=[],s=this,u=!1,c={name:t,targetScope:s,stopPropagation:function(){u=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=W([c],arguments,1);do{for(n=s.$$listeners[t]||a,c.currentScope=s,i=0,o=n.length;i<o;i++)if(n[i])try{n[i].apply(null,l)}catch(f){r(f)}else n.splice(i,1),i--,o--;if(u)return c.currentScope=null,c;s=s.$parent}while(s);return c.currentScope=null,c},$broadcast:function(t,e){var n=this,i=n,o=n,a={name:t,targetScope:n,preventDefault:function(){a.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return a;for(var s,u,c,l=W([a],arguments,1);i=o;){for(a.currentScope=i,s=i.$$listeners[t]||[],u=0,c=s.length;u<c;u++)if(s[u])try{s[u].apply(null,l)}catch(f){r(f)}else s.splice(u,1),u--,c--;if(!(o=i.$$listenerCount[t]&&i.$$childHead||i!==n&&i.$$nextSibling))for(;i!==n&&!(o=i.$$nextSibling);)i=i.$parent}return a.currentScope=null,a}};var E=new p,S=E.$$asyncQueue=[],k=E.$$postDigestQueue=[],O=E.$$applyAsyncQueue=[],M=0;return E}]}function _n(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=zn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function Dn(t){return t.replace(Ko,Mt)}function Pn(t){if("self"===t)return t;if(C(t)){if(t.indexOf("***")>-1)throw Wo("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=xi(t).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+t+"$")}if(O(t))return new RegExp("^"+t.source+"$");throw Wo("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function Rn(t){var e=[];return b(t)&&o(t,function(t){e.push(Pn(t))}),e}function Un(){this.SCE_CONTEXTS=Go;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=Rn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=Rn(t)),e},this.$get=["$injector",function(n){function r(t,e){return"self"===t?Wn(e):!!t.exec(e.href)}function i(n){var i,o,a=zn(n.toString()),s=!1;for(i=0,o=t.length;i<o;i++)if(r(t[i],a)){s=!0;break}if(s)for(i=0,o=e.length;i<o;i++)if(r(e[i],a)){s=!1;break}return s}function o(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function a(t,e){var n=f.hasOwnProperty(t)?f[t]:null;if(!n)throw Wo("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||y(e)||""===e)return e;if("string"!=typeof e)throw Wo("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new n(e)}function s(t){return t instanceof l?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||y(e)||""===e)return e;var n=f.hasOwnProperty(t)?f[t]:null;if(n&&e instanceof n)return e.$$unwrapTrustedValue();if(t===Go.RESOURCE_URL){if(i(e))return e;throw Wo("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===Go.HTML)return c(e);throw Wo("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw Wo("unsafe","Attempting to use an unsafe value in a safe context.")};n.has("$sanitize")&&(c=n.get("$sanitize"));var l=o(),f={};return f[Go.HTML]=o(l),f[Go.CSS]=o(l),f[Go.URL]=o(l),f[Go.JS]=o(l),f[Go.RESOURCE_URL]=o(f[Go.URL]),{trustAs:a,getTrusted:u,valueOf:s}}]}function Ln(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&ai<8)throw Wo("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=Ct(Go);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=v),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(Go,function(t,e){var n=ni(e);r[Dn("parse_as_"+n)]=function(e){return i(t,e)},r[Dn("get_trusted_"+n)]=function(e){return a(t,e)},r[Dn("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function qn(){this.$get=["$window","$document",function(t,e){var n={},r=t.nw&&t.nw.process,i=!r&&t.chrome&&(t.chrome.app&&t.chrome.app.runtime||!t.chrome.app&&t.chrome.runtime&&t.chrome.runtime.id),o=!i&&t.history&&t.history.pushState,a=p((/android (\d+)/.exec(ni((t.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((t.navigator||{}).userAgent),u=e[0]||{},c=u.body&&u.body.style,l=!1,f=!1;return c&&(l=!!("transition"in c||"webkitTransition"in c),f=!!("animation"in c||"webkitAnimation"in c)),{history:!(!o||a<4||s),hasEvent:function(t){if("input"===t&&ai)return!1;if(y(n[t])){var e=u.createElement("div");n[t]="on"+t in e}return n[t]},csp:Ci(),transitions:l,animations:f,android:a}}]}function Fn(){var t;this.httpOptions=function(e){return e?(t=e,this):t},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(e,n,r,i,o){function a(s,u){function c(t){return u||(t=Jo("tpload","Failed to load template: {0} (HTTP status: {1} {2})",s,t.status,t.statusText),e(t)),i.reject(t)}a.totalPendingRequests++,C(s)&&!y(n.get(s))||(s=o.getTrustedResourceUrl(s));var l=r.defaults&&r.defaults.transformResponse;return yi(l)?l=l.filter(function(t){return t!==De}):l===De&&(l=null),r.get(s,f({cache:n,transformResponse:l},t))["finally"](function(){a.totalPendingRequests--}).then(function(t){return n.put(s,t.data),t.data},c)}return a.totalPendingRequests=0,a}]}function Bn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=vi.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+xi(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else r.indexOf(e)!==-1&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function Hn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,u){A(o)||(u=s,s=o,o=$);var c,l=G(arguments,3),f=b(u)&&!u,h=(f?r:n).defer(),p=h.promise;return c=e.defer(function(){try{h.resolve(o.apply(null,l))}catch(e){h.reject(e),i(e)}finally{delete a[p.$$timeoutId]}f||t.$apply()},s),p.$$timeoutId=c,a[c]=h,p}var a={};return o.cancel=function(t){return!!(t&&t.$$timeoutId in a)&&(Nn(a[t.$$timeoutId].promise),a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId))},o}]}function zn(t){var e=t;return ai&&(Zo.setAttribute("href",e),e=Zo.href),Zo.setAttribute("href",e),{href:Zo.href,protocol:Zo.protocol?Zo.protocol.replace(/:$/,""):"",host:Zo.host,search:Zo.search?Zo.search.replace(/^\?/,""):"",hash:Zo.hash?Zo.hash.replace(/^#/,""):"",hostname:Zo.hostname,port:Zo.port,pathname:"/"===Zo.pathname.charAt(0)?Zo.pathname:"/"+Zo.pathname}}function Wn(t){var e=C(t)?zn(t):t;return e.protocol===Yo.protocol&&e.host===Yo.host}function Gn(){this.$get=m(t)}function Kn(t){function e(t){try{return t.cookie||""}catch(e){return""}}function n(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,u,c,l=e(r);if(l!==o)for(o=l,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],u=a.indexOf("="),u>0&&(c=n(a.substring(0,u)),y(i[c])&&(i[c]=n(a.substring(u+1))));return i}}function Jn(){this.$get=Kn}function Zn(t){function e(r,i){if(w(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",er),e("date",vr),e("filter",Yn),e("json",mr),e("limitTo",gr),e("lowercase",ia),e("number",nr),e("orderBy",br),e("uppercase",oa)}function Yn(){return function(t,e,n,o){if(!i(t)){if(null==t)return t;throw r("filter")("notarray","Expected array but received: {0}",t)}o=o||"$";var a,s,u=tr(e);switch(u){case"function":a=e;break;case"boolean":case"null":case"number":case"string":s=!0;case"object":a=Qn(e,n,o,s);break;default:return t}return Array.prototype.filter.call(t,a)}}function Qn(t,e,n,r){var i,o=w(t)&&n in t;return e===!0?e=z:A(e)||(e=function(t,e){return!y(t)&&(null===t||null===e?t===e:!(w(e)||w(t)&&!g(t))&&(t=ni(""+t),e=ni(""+e),t.indexOf(e)!==-1))}),i=function(i){return o&&!w(i)?Xn(i,t[n],e,n,!1):Xn(i,t,e,n,r)}}function Xn(t,e,n,r,i,o){var a=tr(t),s=tr(e);if("string"===s&&"!"===e.charAt(0))return!Xn(t,e.substring(1),n,r,i);if(yi(t))return t.some(function(t){return Xn(t,e,n,r,i)});switch(a){case"object":var u;if(i){for(u in t)if(u.charAt&&"$"!==u.charAt(0)&&Xn(t[u],e,n,r,!0))return!0;return!o&&Xn(t,e,n,r,!1)}if("object"===s){for(u in e){var c=e[u];if(!A(c)&&!y(c)){var l=u===r,f=l?t:t[u];if(!Xn(f,c,n,r,l,l))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function tr(t){return null===t?"null":"undefined"==typeof t?"undefined":_typeof(t)}function er(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return y(n)&&(n=e.CURRENCY_SYM),y(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:or(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function nr(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:or(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function rr(t){var e,n,r,i,o,a=0;for((n=t.indexOf(Xo))>-1&&(t=t.replace(Xo,"")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charAt(r)===ta;r++);if(r===(o=t.length))e=[0],n=1;else{for(o--;t.charAt(o)===ta;)o--;for(n-=r,e=[],i=0;r<=o;r++,i++)e[i]=+t.charAt(r)}return n>Qo&&(e=e.splice(0,Qo-1),a=n-1,n=1),{d:e,e:a,i:n}}function ir(t,e,n,r){var i=t.d,o=i.length-t.i;e=y(e)?Math.min(Math.max(n,o),r):+e;var a=e+t.i,s=i[a];if(a>0){i.splice(Math.max(t.i,a));for(var u=a;u<i.length;u++)i[u]=0}else{o=Math.max(0,o),t.i=1,i.length=Math.max(1,a=e+1),i[0]=0;for(var c=1;c<a;c++)i[c]=0}if(s>=5)if(a-1<0){for(var l=0;l>a;l--)i.unshift(0),t.i++;i.unshift(1),t.i++}else i[a-1]++;for(;o<Math.max(0,e);o++)i.push(0);var f=i.reduceRight(function(t,e,n,r){return e+=t,r[n]=e%10,Math.floor(e/10)},0);f&&(i.unshift(f),t.i++)}function or(t,e,n,r,i){if(!C(t)&&!E(t)||isNaN(t))return"";var o,a=!isFinite(t),s=!1,u=Math.abs(t)+"",c="";if(a)c="";else{o=rr(u),ir(o,i,e.minFrac,e.maxFrac);var l=o.d,f=o.i,h=o.e,p=[];for(s=l.reduce(function(t,e){return t&&!e},!0);f<0;)l.unshift(0),f++;f>0?p=l.splice(f,l.length):(p=l,l=[0]);var d=[];for(l.length>=e.lgSize&&d.unshift(l.splice(-e.lgSize,l.length).join(""));l.length>e.gSize;)d.unshift(l.splice(-e.gSize,l.length).join(""));l.length&&d.unshift(l.join("")),c=d.join(n),p.length&&(c+=r+p.join("")),h&&(c+="e+"+h)}return t<0&&!s?e.negPre+c+e.negSuf:e.posPre+c+e.posSuf}function ar(t,e,n,r){var i="";for((t<0||r&&t<=0)&&(r?t=-t+1:(t=-t,i="-")),t=""+t;t.length<e;)t=ta+t;return n&&(t=t.substr(t.length-e)),i+t}function sr(t,e,n,r,i){return n=n||0,function(o){var a=o["get"+t]();return(n>0||a>-n)&&(a+=n),0===a&&n===-12&&(a=12),ar(a,e,r,i)}}function ur(t,e,n){return function(r,i){var o=r["get"+t](),a=(n?"STANDALONE":"")+(e?"SHORT":""),s=ri(a+t);return i[s][o]}}function cr(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=ar(Math[r>0?"floor":"ceil"](r/60),2)+ar(Math.abs(r%60),2)}function lr(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(e<=4?5:12)-e)}function fr(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function hr(t){return function(e){var n=lr(e.getFullYear()),r=fr(e),i=+r-+n,o=1+Math.round(i/6048e5);return ar(o,t)}}function pr(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function dr(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function $r(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function vr(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=p(e[9]+e[10]),o=p(e[9]+e[11])),a.call(r,p(e[1]),p(e[2])-1,p(e[3]));var u=p(e[4]||0)-i,c=p(e[5]||0)-o,l=p(e[6]||0),f=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,u,c,l,f),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,u="",c=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,C(n)&&(n=ra.test(n)?p(n):e(n)),E(n)&&(n=new Date(n)),!S(n)||!isFinite(n.getTime()))return n;for(;r;)s=na.exec(r),s?(c=W(c,s,1),r=c.pop()):(c.push(r),r=null);var l=n.getTimezoneOffset();return i&&(l=Q(i,l),n=tt(n,i,!0)),o(c,function(e){a=ea[e],u+=a?a(n,t.DATETIME_FORMATS,l):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}}function mr(){return function(t,e){return y(e)&&(e=2),Z(t,e)}}function gr(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):p(e),gi(e)?t:(E(t)&&(t=t.toString()),i(t)?(n=!n||isNaN(n)?0:p(n),n=n<0?Math.max(0,t.length+n):n,e>=0?yr(t,n,n+e):0===n?yr(t,e,t.length):yr(t,Math.max(0,n+e),n)):t)}}function yr(t,e,n){return C(t)?t.slice(e,n):li.call(t,e,n)}function br(t){function e(e){return e.map(function(e){var n=1,r=v;if(A(e))r=e;else if(C(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(n="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(r=t(e),r.constant))){var i=r();r=function(t){return t[i]}}return{get:r,descending:n}})}function n(t){switch("undefined"==typeof t?"undefined":_typeof(t)){case"number":case"boolean":case"string":return!0;default:return!1}}function o(t){return A(t.valueOf)&&(t=t.valueOf(),n(t))?t:g(t)&&(t=t.toString(),n(t))?t:t}function a(t,e){var n="undefined"==typeof t?"undefined":_typeof(t);return null===t?(n="string",t="null"):"object"===n&&(t=o(t)),{value:t,type:n,index:e}}function s(t,e){var n=0,r=t.type,i=e.type;if(r===i){var o=t.value,a=e.value;"string"===r?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===r&&(w(o)&&(o=t.index),w(a)&&(a=e.index)),o!==a&&(n=o<a?-1:1)}else n=r<i?-1:1;return n}return function(t,n,o,u){function c(t,e){return{value:t,tieBreaker:{value:e,type:"number",index:e},predicateValues:f.map(function(n){return a(n.get(t),e)})}}function l(t,e){for(var n=0,r=f.length;n<r;n++){var i=p(t.predicateValues[n],e.predicateValues[n]);if(i)return i*f[n].descending*h}return(p(t.tieBreaker,e.tieBreaker)||s(t.tieBreaker,e.tieBreaker))*h}if(null==t)return t;if(!i(t))throw r("orderBy")("notarray","Expected array but received: {0}",t);yi(n)||(n=[n]),0===n.length&&(n=["+"]);var f=e(n),h=o?-1:1,p=A(u)?u:s,d=Array.prototype.map.call(t,c);return d.sort(l),t=d.map(function(t){return t.value})}}function wr(t){return A(t)&&(t={link:t}),t.restrict=t.restrict||"AC",m(t)}function xr(t,e){t.$name=e}function Cr(t,e,n,r,i){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=i(e.name||e.ngForm||"")(n),this.$dirty=!1,this.$pristine=!0,this.$valid=!0,this.$invalid=!1,this.$submitted=!1,
this.$$parentForm=ua,this.$$element=t,this.$$animate=r,Er(this)}function Er(t){t.$$classCache={},t.$$classCache[Wa]=!(t.$$classCache[za]=t.$$element.hasClass(za))}function Sr(t){function e(t,e,n,r){t[e]||(t[e]={}),a(t[e],n,r)}function n(t,e,n,r){t[e]&&s(t[e],n,r),kr(t[e])&&(t[e]=void 0)}function r(t,e,n){n&&!t.$$classCache[e]?(t.$$animate.addClass(t.$$element,e),t.$$classCache[e]=!0):!n&&t.$$classCache[e]&&(t.$$animate.removeClass(t.$$element,e),t.$$classCache[e]=!1)}function i(t,e,n){e=e?"-"+pt(e,"-"):"",r(t,za+e,n===!0),r(t,Wa+e,n===!1)}var o=t.clazz,a=t.set,s=t.unset;o.prototype.$setValidity=function(t,o,u){y(o)?e(this,"$pending",t,u):n(this,"$pending",t,u),j(o)?o?(s(this.$error,t,u),a(this.$$success,t,u)):(a(this.$error,t,u),s(this.$$success,t,u)):(s(this.$error,t,u),s(this.$$success,t,u)),this.$pending?(r(this,ca,!0),this.$valid=this.$invalid=void 0,i(this,"",null)):(r(this,ca,!1),this.$valid=kr(this.$error),this.$invalid=!this.$valid,i(this,"",this.$valid));var c;c=this.$pending&&this.$pending[t]?void 0:!this.$error[t]&&(!!this.$$success[t]||null),i(this,t,c),this.$$parentForm.$setValidity(t,c,this)}}function kr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function Ar(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function Or(t,e,n,r,i,o){Mr(t,e,n,r,i,o),Ar(r)}function Mr(t,e,n,r,i,o){var a=ni(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(){s=!0}),e.on("compositionend",function(){s=!1,c()})}var u,c=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),c=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=wi(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,c)}};if(i.hasEvent("input"))e.on("input",c);else{var l=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||c(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||15<e&&e<19||37<=e&&e<=40||l(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",l)}e.on("change",c),Ea[a]&&r.$$hasNativeValidators&&a===n.type&&e.on(Ca,function(t){if(!u){var e=this[ti],n=e.badInput,r=e.typeMismatch;u=o.defer(function(){u=null,e.badInput===n&&e.typeMismatch===r||c(t)})}}),r.$render=function(){var t=r.$isEmpty(r.$viewValue)?"":r.$viewValue;e.val()!==t&&e.val(t)}}function Vr(t,e){if(S(t))return t;if(C(t)){ba.lastIndex=0;var n=ba.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,u=0,c=lr(r),l=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),u=e.getMilliseconds()),new Date(r,0,c.getDate()+l,o,a,s,u)}}return NaN}function Tr(t,e){return function(n,r){var i,a;if(S(n))return n;if(C(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),da.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return NaN}}function Nr(t,e,n,r){return function(i,o,a,s,u,c,l){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function h(t){return b(t)&&!S(t)?n(t)||void 0:t}Ir(i,o,a,s),Mr(i,o,a,s,u,c);var p,d=s&&s.$options.getOption("timezone");if(s.$$parserName=t,s.$parsers.push(function(t){if(s.$isEmpty(t))return null;if(e.test(t)){var r=n(t,p);return d&&(r=tt(r,d)),r}}),s.$formatters.push(function(t){if(t&&!S(t))throw Xa("datefmt","Expected `{0}` to be a date",t);return f(t)?(p=t,p&&d&&(p=tt(p,d,!0)),l("date")(t,r,d)):(p=null,"")}),b(a.min)||a.ngMin){var $;s.$validators.min=function(t){return!f(t)||y($)||n(t)>=$},a.$observe("min",function(t){$=h(t),s.$validate()})}if(b(a.max)||a.ngMax){var v;s.$validators.max=function(t){return!f(t)||y(v)||n(t)<=v},a.$observe("max",function(t){v=h(t),s.$validate()})}}}function Ir(t,e,n,r){var i=e[0],o=r.$$hasNativeValidators=w(i.validity);o&&r.$parsers.push(function(t){var n=e.prop(ti)||{};return n.badInput||n.typeMismatch?void 0:t})}function jr(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:ma.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!E(e))throw Xa("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function _r(t){return b(t)&&!E(t)&&(t=parseFloat(t)),gi(t)?void 0:t}function Dr(t){return(0|t)===t}function Pr(t){var e=t.toString(),n=e.indexOf(".");if(n===-1){if(-1<t&&t<1){var r=/e-(\d+)$/.exec(e);if(r)return Number(r[1])}return 0}return e.length-n-1}function Rr(t,e,n){var r=Number(t),i=!Dr(r),o=!Dr(e),a=!Dr(n);if(i||o||a){var s=i?Pr(r):0,u=o?Pr(e):0,c=a?Pr(n):0,l=Math.max(s,u,c),f=Math.pow(10,l);r*=f,e*=f,n*=f,i&&(r=Math.round(r)),o&&(e=Math.round(e)),a&&(n=Math.round(n))}return(r-e)%n===0}function Ur(t,e,n,r,i,o){Ir(t,e,n,r),jr(r),Mr(t,e,n,r,i,o);var a,s;if((b(n.min)||n.ngMin)&&(r.$validators.min=function(t){return r.$isEmpty(t)||y(a)||t>=a},n.$observe("min",function(t){a=_r(t),r.$validate()})),(b(n.max)||n.ngMax)&&(r.$validators.max=function(t){return r.$isEmpty(t)||y(s)||t<=s},n.$observe("max",function(t){s=_r(t),r.$validate()})),b(n.step)||n.ngStep){var u;r.$validators.step=function(t,e){return r.$isEmpty(e)||y(u)||Rr(e,a||0,u)},n.$observe("step",function(t){u=_r(t),r.$validate()})}}function Lr(t,e,n,r,i,o){function a(t,r){e.attr(t,n[t]),n.$observe(t,r)}function s(t){if(f=_r(t),!gi(r.$modelValue))if(l){var n=e.val();f>n&&(n=f,e.val(n)),r.$setViewValue(n)}else r.$validate()}function u(t){if(h=_r(t),!gi(r.$modelValue))if(l){var n=e.val();h<n&&(e.val(h),n=h<f?f:h),r.$setViewValue(n)}else r.$validate()}function c(t){p=_r(t),gi(r.$modelValue)||(l&&r.$viewValue!==e.val()?r.$setViewValue(e.val()):r.$validate())}Ir(t,e,n,r),jr(r),Mr(t,e,n,r,i,o);var l=r.$$hasNativeValidators&&"range"===e[0].type,f=l?0:void 0,h=l?100:void 0,p=l?1:void 0,d=e[0].validity,$=b(n.min),v=b(n.max),m=b(n.step),g=r.$render;r.$render=l&&b(d.rangeUnderflow)&&b(d.rangeOverflow)?function(){g(),r.$setViewValue(e.val())}:g,$&&(r.$validators.min=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||y(f)||e>=f},a("min",s)),v&&(r.$validators.max=l?function(){return!0}:function(t,e){return r.$isEmpty(e)||y(h)||e<=h},a("max",u)),m&&(r.$validators.step=l?function(){return!d.stepMismatch}:function(t,e){return r.$isEmpty(e)||y(p)||Rr(e,f||0,p)},a("step",c))}function qr(t,e,n,r,i,o){Mr(t,e,n,r,i,o),Ar(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||$a.test(n)}}function Fr(t,e,n,r,i,o){Mr(t,e,n,r,i,o),Ar(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||va.test(n)}}function Br(t,e,n,r){var i=!n.ngTrim||"false"!==wi(n.ngTrim);y(n.name)&&e.attr("name",u());var o=function(t){var o;e[0].checked&&(o=n.value,i&&(o=wi(o)),r.$setViewValue(o,t&&t.type))};e.on("click",o),r.$render=function(){var t=n.value;i&&(t=wi(t)),e[0].checked=t===r.$viewValue},n.$observe("value",r.$render)}function Hr(t,e,n,r,i){var o;if(b(r)){if(o=t(r),!o.constant)throw Xa("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,r);return o(e)}return i}function zr(t,e,n,r,i,o,a,s){var u=Hr(s,t,"ngTrueValue",n.ngTrueValue,!0),c=Hr(s,t,"ngFalseValue",n.ngFalseValue,!1),l=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",l),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return z(t,u)}),r.$parsers.push(function(t){return t?u:c})}function Wr(t,e){function n(t,e){if(!t||!t.length)return[];if(!e||!e.length)return t;var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i===e[o])continue t;n.push(i)}return n}function r(t){return t&&t.split(" ")}function i(t){var e=t;return yi(t)?e=t.map(i).join(" "):w(t)&&(e=Object.keys(t).filter(function(e){return t[e]}).join(" ")),e}function a(t){var e=t;if(yi(t))e=t.map(a);else if(w(t)){var n=!1;e=Object.keys(t).filter(function(e){var r=t[e];return!n&&y(r)&&(n=!0),r}),n&&e.push(void 0)}return e}t="ngClass"+t;var s;return["$parse",function(u){return{restrict:"AC",link:function(c,l,f){function h(t){t=$(r(t),1),f.$addClass(t)}function p(t){t=$(r(t),-1),f.$removeClass(t)}function d(t,e){var i=r(t),o=r(e),a=n(i,o),s=n(o,i),u=$(a,-1),c=$(s,1);f.$addClass(c),f.$removeClass(u)}function $(t,e){var n=[];return o(t,function(t){(e>0||S[t])&&(S[t]=(S[t]||0)+e,S[t]===+(e>0)&&n.push(t))}),n.join(" ")}function v(t){t===e?h(y):p(y),k=t}function m(t){var e=i(t);e!==y&&g(e)}function g(t){k===e&&d(y,t),y=t}var y,b=f[t].trim(),w=":"===b.charAt(0)&&":"===b.charAt(1),x=w?a:i,C=u(b,x),E=w?m:g,S=l.data("$classCounts"),k=!0;S||(S=bt(),l.data("$classCounts",S)),"ngClass"!==t&&(s||(s=u("$index",function(t){return 1&t})),c.$watch(s,v)),c.$watch(C,E,w)}}}]}function Gr(t,e,n,r,i,o,a,s,u){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=u(n.name||"",!1)(t),this.$$parentForm=ua,this.$options=ts,this.$$parsedNgModel=i(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$currentValidationRunId=0,Object.defineProperty(this,"$$scope",{value:t}),this.$$attr=n,this.$$element=r,this.$$animate=o,this.$$timeout=a,this.$$parse=i,this.$$q=s,this.$$exceptionHandler=e,Er(this),Kr(this)}function Kr(t){t.$$scope.$watch(function(e){var n=t.$$ngModelGet(e);if(n!==t.$modelValue&&(t.$modelValue===t.$modelValue||n===n)){t.$modelValue=t.$$rawModelValue=n,t.$$parserValid=void 0;for(var r=t.$formatters,i=r.length,o=n;i--;)o=r[i](o);t.$viewValue!==o&&(t.$$updateEmptyClasses(o),t.$viewValue=t.$$lastCommittedViewValue=o,t.$render(),t.$$runValidators(t.$modelValue,t.$viewValue,$))}return n})}function Jr(t){this.$$options=t}function Zr(t,e){o(e,function(e,n){b(t[n])||(t[n]=e)})}function Yr(t,e){t.prop("selected",e),t.attr("selected",e)}var Qr={objectMaxDepth:5},Xr=/^\/(.+)\/([a-z]*)$/,ti="validity",ei=Object.prototype.hasOwnProperty,ni=function(t){return C(t)?t.toLowerCase():t},ri=function(t){return C(t)?t.toUpperCase():t},ii=function(t){return C(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},oi=function(t){return C(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(t.charCodeAt(0)&-33)}):t};"i"!=="I".toLowerCase()&&(ni=ii,ri=oi);var ai,si,ui,ci,li=[].slice,fi=[].splice,hi=[].push,pi=Object.prototype.toString,di=Object.getPrototypeOf,$i=r("ng"),vi=t.angular||(t.angular={}),mi=0;ai=t.document.documentMode;var gi=Number.isNaN||function(t){return t!==t};$.$inject=[],v.$inject=[];var yi=Array.isArray,bi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,wi=function(t){return C(t)?t.trim():t},xi=function(t){return t.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ci=function Ms(){function e(){try{return new Function(""),!1}catch(t){return!0}}if(!b(Ms.rules)){var n=t.document.querySelector("[ng-csp]")||t.document.querySelector("[data-ng-csp]");if(n){var r=n.getAttribute("ng-csp")||n.getAttribute("data-ng-csp");Ms.rules={noUnsafeEval:!r||r.indexOf("no-unsafe-eval")!==-1,noInlineStyle:!r||r.indexOf("no-inline-style")!==-1}}else Ms.rules={noUnsafeEval:e(),noInlineStyle:!1}}return Ms.rules},Ei=function Vs(){if(b(Vs.name_))return Vs.name_;var e,n,r,i,o=ki.length;for(n=0;n<o;++n)if(r=ki[n],e=t.document.querySelector("["+r.replace(":","\\:")+"jq]")){i=e.getAttribute(r+"jq");break}return Vs.name_=i},Si=/:/g,ki=["ng-","data-ng-","ng:","x-ng-"],Ai=ut(t.document),Oi=/[A-Z]/g,Mi=!1,Vi=1,Ti=2,Ni=3,Ii=8,ji=9,_i=11,Di={full:"1.6.6",major:1,minor:6,dot:6,codeName:"interdimensional-cable"};Pt.expando="ng339";var Pi=Pt.cache={},Ri=1;Pt._data=function(t){return this.cache[t[this.expando]]||{}};var Ui=/-([a-z])/g,Li=/^-ms-/,qi={mouseleave:"mouseout",mouseenter:"mouseover"},Fi=r("jqLite"),Bi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Hi=/<|&#?\w+;/,zi=/<([\w:-]+)/,Wi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,Gi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Gi.optgroup=Gi.option,Gi.tbody=Gi.tfoot=Gi.colgroup=Gi.caption=Gi.thead,Gi.th=Gi.td;var Ki=t.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))},Ji=Pt.prototype={ready:Xt,toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return si(t>=0?this[t]:this[this.length+t])},length:0,push:hi,sort:[].sort,splice:[].splice},Zi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){Zi[ni(t)]=t});var Yi={};o("input,select,option,textarea,button,form,details".split(","),function(t){Yi[t]=!0});var Qi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:Bt,removeData:qt,hasData:It,cleanData:function(t){for(var e=0,n=t.length;e<n;e++)qt(t[e])}},function(t,e){Pt[e]=t}),o({data:Bt,inheritedData:Jt,scope:function(t){return si.data(t,"$scope")||Jt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return si.data(t,"$isolateScope")||si.data(t,"$isolateScopeNoTemplate")},controller:Kt,injector:function(t){return Jt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ht,css:function(t,e,n){return e=Ot(e),b(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,n){var r,i=t.nodeType;if(i!==Ni&&i!==Ti&&i!==Ii&&t.getAttribute){var o=ni(e),a=Zi[o];return b(n)?void(null===n||n===!1&&a?t.removeAttribute(e):t.setAttribute(e,a?o:n)):(r=t.getAttribute(e),a&&null!==r&&(r=o),null===r?void 0:r)}},prop:function(t,e,n){return b(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(y(e)){var n=t.nodeType;return n===Vi||n===Ni?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===L(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),n}return t.value}t.value=e},html:function(t,e){return y(e)?t.innerHTML:(Ut(t,!0),void(t.innerHTML=e))},empty:Zt},function(t,e){Pt.prototype[e]=function(e,n){var r,i,o=this.length;if(t!==Zt&&y(2===t.length&&t!==Ht&&t!==Kt?e:n)){if(w(e)){for(r=0;r<o;r++)if(t===Bt)t(this[r],e);else for(i in e)t(this[r],i,e[i]);return this}for(var a=t.$dv,s=y(a)?Math.min(o,1):o,u=0;u<s;u++){var c=t(this[u],e,n);a=a?a+c:c}return a}for(r=0;r<o;r++)t(this[r],e,n);return this}}),o({removeData:qt,on:function(t,e,n,r){if(b(r))throw Fi("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Nt(t)){var i=Ft(t,!0),o=i.events,a=i.handle;a||(a=i.handle=ne(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],u=s.length,c=function(e,r,i){var s=o[e];s||(s=o[e]=[],s.specialHandlerWrapper=r,"$destroy"===e||i||t.addEventListener(e,a)),s.push(n)};u--;)e=s[u],qi[e]?(c(qi[e],ie),c(e,void 0,!0)):c(e)}},off:Lt,one:function(t,e,n){t=si(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;Ut(t),o(new Pt(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function Ts(t){var Ts=[];return o(t.childNodes,function(t){t.nodeType===Vi&&Ts.push(t)}),Ts},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Vi||n===_i){e=new Pt(e);for(var r=0,i=e.length;r<i;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Vi){var n=t.firstChild;o(new Pt(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){Dt(t,si(e).eq(0).clone()[0])},remove:Yt,detach:function(t){Yt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;if(r){e=new Pt(e);for(var i=0,o=e.length;i<o;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}}},addClass:Wt,removeClass:zt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;y(r)&&(r=!Ht(t,e)),(r?Wt:zt)(t,e)})},parent:function Ns(t){var Ns=t.parentNode;return Ns&&Ns.nodeType!==_i?Ns:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Rt,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,u=Ft(t),c=u&&u.events,l=c&&c[s];l&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:$,type:s,target:t},e.type&&(r=f(r,e)),i=Ct(l),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){Pt.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;o<a;o++)y(i)?(i=t(this[o],e,n,r),b(i)&&(i=si(i))):Gt(i,t(this[o],e,n,r));return b(i)?i:this}}),Pt.prototype.bind=Pt.prototype.on,Pt.prototype.unbind=Pt.prototype.off;var Xi=Object.create(null);se.prototype={_idx:function(t){return t===this._lastKey?this._lastIndex:(this._lastKey=t,this._lastIndex=this._keys.indexOf(t),this._lastIndex)},_transformKey:function(t){return gi(t)?Xi:t},get:function(t){t=this._transformKey(t);var e=this._idx(t);if(e!==-1)return this._values[e]},set:function(t,e){t=this._transformKey(t);var n=this._idx(t);n===-1&&(n=this._lastIndex=this._keys.length),this._keys[n]=t,this._values[n]=e},"delete":function(t){t=this._transformKey(t);var e=this._idx(t);return e!==-1&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var to=se,eo=[function(){this.$get=[function(){return to}]}],no=/^([^(]+?)=>/,ro=/^[^(]*\(\s*([^)]*)\)/m,io=/,/,oo=/^\s*(_?)(\S+?)\1\s*$/,ao=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,so=r("$injector");he.$$annotate=fe;var uo=r("$animate"),co=1,lo="ng-animate",fo=function(){this.$get=$},ho=function(){var t=new to,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(t,e,n){var r=!1;return e&&(e=C(e)?e.split(" "):yi(e)?e:[],o(e,function(e){e&&(r=!0,t[e]=n)})),r}function a(){o(e,function(e){var n=t.get(e);if(n){var r=ve(e.attr("class")),i="",a="";o(n,function(t,e){var n=!!r[e];t!==n&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&Wt(t,i),a&&zt(t,a)}),t["delete"](e)}}),e.length=0}function s(n,o,s){var u=t.get(n)||{},c=i(u,o,!0),l=i(u,s,!1);(c||l)&&(t.set(n,u),e.push(n),1===e.length&&r.$$postDigest(a))}return{enabled:$,on:$,off:$,pin:$,push:function(t,e,r,i){i&&i(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&s(t,r.addClass,r.removeClass);var o=new n;return o.complete(),o}}}]},po=["$provide",function(t){var e=this,n=null,r=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw uo("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.customFilter=function(t){return 1===arguments.length&&(r=A(t)?t:null),r},this.classNameFilter=function(t){if(1===arguments.length&&(n=t instanceof RegExp?t:null)){var e=new RegExp("[(\\s|\\/)]"+lo+"[(\\s|\\/)]");if(e.test(n.toString()))throw n=null,uo("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',lo)}return n},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=$e(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&si(r),i=i&&si(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",me(o))},move:function(n,r,i,o){return r=r&&si(r),i=i&&si(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",me(o))},leave:function(e,n){return t.push(e,"leave",me(n),function(){e.remove()})},addClass:function(e,n,r){return r=me(r),r.addClass=de(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=me(r),r.removeClass=de(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=me(i),i.addClass=de(i.addClass,n),i.removeClass=de(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=me(o),o.from=o.from?f(o.from,n):n,o.to=o.to?f(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=de(o.tempClasses,i),t.push(e,"animate",o)}}}]}],$o=function(){this.$get=["$$rAF",function(t){function e(e){n.push(e),n.length>1||t(function(){for(var t=0;t<n.length;t++)n[t]();n=[]})}var n=[];return function(){var t=!1;return e(function(){t=!0}),function(n){t?n():e(n)}}}]},vo=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(t,e,n,r,i){function a(t){this.setHost(t);var e=n(),o=function(t){i(t,0,!1)};this._doneCallbacks=[],this._tick=function(t){r()?o(t):e(t)},this._state=0}var s=0,u=1,c=2;return a.chain=function(t,e){function n(){return r===t.length?void e(!0):void t[r](function(t){return t===!1?void e(!1):(r++,void n())})}var r=0;n()},a.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;o(t,function(t){t.done(n)})},a.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===c?t():this._doneCallbacks.push(t)},progress:$,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===s&&(e._state=u,e._tick(function(){e._resolve(t)}))},_resolve:function(t){this._state!==c&&(o(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=c)}},a}]},mo=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(t,e,n){return function(e,r){function i(){return t(function(){o(),s||u.complete(),s=!0}),u}function o(){a.addClass&&(e.addClass(a.addClass),a.addClass=null),a.removeClass&&(e.removeClass(a.removeClass),a.removeClass=null),a.to&&(e.css(a.to),a.to=null)}var a=r||{};a.$$prepared||(a=B(a)),a.cleanupStyles&&(a.from=a.to=null),a.from&&(e.css(a.from),a.from=null);var s,u=new n;return{start:i,end:i}}}]},go=r("$compile"),yo=new xe;Ce.$inject=["$provide","$$sanitizeUriProvider"],Ee.prototype.isFirstChange=function(){return this.previousValue===yo};var bo=/^((?:x|data)[:\-_])/i,wo=/[:\-_]+(.)/g,xo=r("$controller"),Co=/^(\S+)(\s+as\s+([\w$]+))?$/,Eo=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof si&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},So="application/json",ko={"Content-Type":So+";charset=utf-8"},Ao=/^\[|^\{(?!\{)/,Oo={"[":/]$/,"{":/}$/},Mo=/^\)]\}',?\n/,Vo=r("$http"),To=vi.$interpolateMinErr=r("$interpolate");To.throwNoconcat=function(t){throw To("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},To.interr=function(t,e){return To("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var No=function(){this.$get=function(){function t(t){var e=function n(t){n.data=t,n.called=!0};return e.id=t,e}var e=vi.callbacks,n={};return{createCallback:function(r){var i="_"+(e.$$counter++).toString(36),o="angular.callbacks."+i,a=t(i);return n[o]=e[i]=a,o},wasCalled:function(t){return n[t].called},getResponse:function(t){return n[t].data},removeCallback:function(t){var r=n[t];delete e[r.id],delete n[t]}}}},Io=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,jo={http:80,https:443,ftp:21},_o=r("$location"),Do=/^\s*[\\/]{2,}/,Po={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:sn("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Io.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:sn("$$protocol"),host:sn("$$host"),port:sn("$$port"),path:un("$$path",function(t){return t=null!==t?t.toString():"","/"===t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(C(t)||E(t))t=t.toString(),this.$$search=rt(t);else{if(!w(t))throw _o("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=B(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:un("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([an,on,rn],function(t){t.prototype=Object.create(Po),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==rn||!this.$$html5)throw _o("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this.$$urlUpdatedByLocation=!0,this}});var Ro=r("$parse"),Uo={}.constructor.prototype.valueOf,Lo=bt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Lo[t]=!0});var qo={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Fo=function(t){this.options=t};Fo.prototype={constructor:Fo,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Lo[e],o=Lo[n],a=Lo[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return e.indexOf(t)!==-1},peek:function(t){var e=t||1;return this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(t){return"0"<=t&&t<="9"&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"\t"===t||"\n"===t||"\x0B"===t||""===t},isIdentifierStart:function(t){return this.options.isIdentifierStart?this.options.isIdentifierStart(t,this.codePointAt(t)):this.isValidIdentifierStart(t)},isValidIdentifierStart:function(t){return"a"<=t&&t<="z"||"A"<=t&&t<="Z"||"_"===t||"$"===t},isIdentifierContinue:function(t){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(t,this.codePointAt(t)):this.isValidIdentifierContinue(t)},isValidIdentifierContinue:function(t,e){return this.isValidIdentifierStart(t,e)||this.isNumber(t)},codePointAt:function(t){return 1===t.length?t.charCodeAt(0):(t.charCodeAt(0)<<10)+t.charCodeAt(1)-56613888},peekMultichar:function(){var t=this.text.charAt(this.index),e=this.peek();if(!e)return t;var n=t.charCodeAt(0),r=e.charCodeAt(0);return n>=55296&&n<=56319&&r>=56320&&r<=57343?t+e:t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw Ro("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=ni(this.text.charAt(this.index));if("."===n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"===n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"===t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!==t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){var t=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var e=this.peekMultichar();if(!this.isIdentifierContinue(e))break;this.index+=e.length}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=qo[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Bo=function(t,e){this.lexer=t,this.options=e};Bo.Program="Program",Bo.ExpressionStatement="ExpressionStatement",Bo.AssignmentExpression="AssignmentExpression",Bo.ConditionalExpression="ConditionalExpression",Bo.LogicalExpression="LogicalExpression",Bo.BinaryExpression="BinaryExpression",Bo.UnaryExpression="UnaryExpression",Bo.CallExpression="CallExpression",Bo.MemberExpression="MemberExpression",Bo.Identifier="Identifier",Bo.Literal="Literal",Bo.ArrayExpression="ArrayExpression",Bo.Property="Property",Bo.ObjectExpression="ObjectExpression",Bo.ThisExpression="ThisExpression",Bo.LocalsExpression="LocalsExpression",Bo.NGValueParameter="NGValueParameter",Bo.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Bo.Program,body:t}},expressionStatement:function(){return{type:Bo.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t=this.expression();this.expect("|");)t=this.filter(t);return t},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();if(this.expect("=")){if(!gn(t))throw Ro("lval","Trying to assign a value to a non l-value");t={type:Bo.AssignmentExpression,left:t,right:this.assignment(),operator:"="}}return t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Bo.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Bo.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Bo.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Bo.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Bo.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary();
},primary:function Is(){var Is;this.expect("(")?(Is=this.filterChain(),this.consume(")")):this.expect("[")?Is=this.arrayDeclaration():this.expect("{")?Is=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?Is=B(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?Is={type:Bo.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?Is=this.identifier():this.peek().constant?Is=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(Is={type:Bo.CallExpression,callee:Is,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(Is={type:Bo.MemberExpression,object:Is,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?Is={type:Bo.MemberExpression,object:Is,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return Is},filter:function(t){for(var e=[t],n={type:Bo.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.filterChain());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Bo.Identifier,name:t.text}},constant:function(){return{type:Bo.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Bo.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Bo.Property,kind:"init"},this.peek().constant?(t.key=this.constant(),t.computed=!1,this.consume(":"),t.value=this.expression()):this.peek().identifier?(t.key=this.identifier(),t.computed=!1,this.peek(":")?(this.consume(":"),t.value=this.expression()):t.value=t.key):this.peek("[")?(this.consume("["),t.key=this.expression(),this.consume("]"),t.computed=!0,this.consume(":"),t.value=this.expression()):this.throwError("invalid key",this.peek()),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Bo.ObjectExpression,properties:e}},throwError:function(t,e){throw Ro("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw Ro("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw Ro("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return!!i&&(this.tokens.shift(),i)},selfReferential:{"this":{type:Bo.ThisExpression},$locals:{type:Bo.LocalsExpression}}};var Ho=1,zo=2;xn.prototype={compile:function(t){var e=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},vn(t,e.$filter);var n,r="";if(this.stage="assign",n=yn(t)){this.state.computing="assign";var i=this.nextId();this.recurse(n,i),this.return_(i),r="fn.assign="+this.generateFunction("assign","s,v,l")}var a=mn(t.body);e.stage="inputs",o(a,function(t,n){var r="fn"+n;e.state[r]={vars:[],body:[],own:{}},e.state.computing=r;var i=e.nextId();e.recurse(t,i),e.return_(i),e.state.inputs.push({name:r,isPure:t.isPure}),t.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(t);var s='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+r+this.watchFns()+"return fn;",u=new Function("$filter","getStringValue","ifDefined","plus",s)(this.$filter,fn,hn,pn);return this.state=this.stage=void 0,u},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e.name+"="+n.generateFunction(e.name,"s")),e.isPure&&t.push(e.name,".isPure="+JSON.stringify(e.isPure)+";")}),e.length&&t.push("fn.inputs=["+e.map(function(t){return t.name}).join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,n,r,i,a){var s,u,c,l,f,h=this;if(r=r||$,!a&&b(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,n,r,i,!0));switch(t.type){case Bo.Program:o(t.body,function(e,n){h.recurse(e.expression,void 0,void 0,function(t){u=t}),n!==t.body.length-1?h.current().body.push(u,";"):h.return_(u)});break;case Bo.Literal:l=this.escape(t.value),this.assign(e,l),r(e||l);break;case Bo.UnaryExpression:this.recurse(t.argument,void 0,void 0,function(t){u=t}),l=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,l),r(l);break;case Bo.BinaryExpression:this.recurse(t.left,void 0,void 0,function(t){s=t}),this.recurse(t.right,void 0,void 0,function(t){u=t}),l="+"===t.operator?this.plus(s,u):"-"===t.operator?this.ifDefined(s,0)+t.operator+this.ifDefined(u,0):"("+s+")"+t.operator+"("+u+")",this.assign(e,l),r(l);break;case Bo.LogicalExpression:e=e||this.nextId(),h.recurse(t.left,e),h.if_("&&"===t.operator?e:h.not(e),h.lazyRecurse(t.right,e)),r(e);break;case Bo.ConditionalExpression:e=e||this.nextId(),h.recurse(t.test,e),h.if_(e,h.lazyRecurse(t.alternate,e),h.lazyRecurse(t.consequent,e)),r(e);break;case Bo.Identifier:e=e||this.nextId(),n&&(n.context="inputs"===h.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),n.computed=!1,n.name=t.name),h.if_("inputs"===h.stage||h.not(h.getHasOwnProperty("l",t.name)),function(){h.if_("inputs"===h.stage||"s",function(){i&&1!==i&&h.if_(h.isNull(h.nonComputedMember("s",t.name)),h.lazyAssign(h.nonComputedMember("s",t.name),"{}")),h.assign(e,h.nonComputedMember("s",t.name))})},e&&h.lazyAssign(e,h.nonComputedMember("l",t.name))),r(e);break;case Bo.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),e=e||this.nextId(),h.recurse(t.object,s,void 0,function(){h.if_(h.notNull(s),function(){t.computed?(u=h.nextId(),h.recurse(t.property,u),h.getStringValue(u),i&&1!==i&&h.if_(h.not(h.computedMember(s,u)),h.lazyAssign(h.computedMember(s,u),"{}")),l=h.computedMember(s,u),h.assign(e,l),n&&(n.computed=!0,n.name=u)):(i&&1!==i&&h.if_(h.isNull(h.nonComputedMember(s,t.property.name)),h.lazyAssign(h.nonComputedMember(s,t.property.name),"{}")),l=h.nonComputedMember(s,t.property.name),h.assign(e,l),n&&(n.computed=!1,n.name=t.property.name))},function(){h.assign(e,"undefined")}),r(e)},!!i);break;case Bo.CallExpression:e=e||this.nextId(),t.filter?(u=h.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=h.nextId();h.recurse(t,e),c.push(e)}),l=u+"("+c.join(",")+")",h.assign(e,l),r(e)):(u=h.nextId(),s={},c=[],h.recurse(t.callee,u,s,function(){h.if_(h.notNull(u),function(){o(t.arguments,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l=s.name?h.member(s.context,s.name,s.computed)+"("+c.join(",")+")":u+"("+c.join(",")+")",h.assign(e,l)},function(){h.assign(e,"undefined")}),r(e)}));break;case Bo.AssignmentExpression:u=this.nextId(),s={},this.recurse(t.left,void 0,s,function(){h.if_(h.notNull(s.context),function(){h.recurse(t.right,u),l=h.member(s.context,s.name,s.computed)+t.operator+u,h.assign(e,l),r(e||l)})},1);break;case Bo.ArrayExpression:c=[],o(t.elements,function(e){h.recurse(e,t.constant?void 0:h.nextId(),void 0,function(t){c.push(t)})}),l="["+c.join(",")+"]",this.assign(e,l),r(e||l);break;case Bo.ObjectExpression:c=[],f=!1,o(t.properties,function(t){t.computed&&(f=!0)}),f?(e=e||this.nextId(),this.assign(e,"{}"),o(t.properties,function(t){t.computed?(s=h.nextId(),h.recurse(t.key,s)):s=t.key.type===Bo.Identifier?t.key.name:""+t.key.value,u=h.nextId(),h.recurse(t.value,u),h.assign(h.member(e,s,t.computed),u)})):(o(t.properties,function(e){h.recurse(e.value,t.constant?void 0:h.nextId(),void 0,function(t){c.push(h.escape(e.key.type===Bo.Identifier?e.key.name:""+e.key.value)+":"+t)})}),l="{"+c.join(",")+"}",this.assign(e,l)),r(e||l);break;case Bo.ThisExpression:this.assign(e,"s"),r(e||"s");break;case Bo.LocalsExpression:this.assign(e,"l"),r(e||"l");break;case Bo.NGValueParameter:this.assign(e,"v"),r(e||"v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){if(t)return this.current().body.push(t,"=",e,";"),t},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},isNull:function(t){return t+"==null"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){var n=/^[$_a-zA-Z][$_a-zA-Z0-9]*$/,r=/[^$_a-zA-Z0-9]/g;return n.test(e)?t+"."+e:t+'["'+e.replace(r,this.stringEscapeFn)+'"]'},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},getStringValue:function(t){this.assign(t,"getStringValue("+t+")")},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(C(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(E(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw Ro("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},Cn.prototype={compile:function(t){var e=this;vn(t,e.$filter);var n,r;(n=yn(t))&&(r=this.recurse(n));var i,a=mn(t.body);a&&(i=[],o(a,function(t,n){var r=e.recurse(t);r.isPure=t.isPure,t.input=r,i.push(r),t.watchId=n}));var s=[];o(t.body,function(t){s.push(e.recurse(t.expression))});var u=0===t.body.length?$:1===t.body.length?s[0]:function(t,e){var n;return o(s,function(r){n=r(t,e)}),n};return r&&(u.assign=function(t,e,n){return r(t,n,e)}),i&&(u.inputs=i),u},recurse:function(t,e,n){var r,i,a,s=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Bo.Literal:return this.value(t.value,e);case Bo.UnaryExpression:return i=this.recurse(t.argument),this["unary"+t.operator](i,e);case Bo.BinaryExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,e);case Bo.LogicalExpression:return r=this.recurse(t.left),i=this.recurse(t.right),this["binary"+t.operator](r,i,e);case Bo.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Bo.Identifier:return s.identifier(t.name,e,n);case Bo.MemberExpression:return r=this.recurse(t.object,!1,!!n),t.computed||(i=t.property.name),t.computed&&(i=this.recurse(t.property)),t.computed?this.computedMember(r,i,e,n):this.nonComputedMember(r,i,e,n);case Bo.CallExpression:return a=[],o(t.arguments,function(t){a.push(s.recurse(t))}),t.filter&&(i=this.$filter(t.callee.name)),t.filter||(i=this.recurse(t.callee,!0)),t.filter?function(t,n,r,o){for(var s=[],u=0;u<a.length;++u)s.push(a[u](t,n,r,o));var c=i.apply(void 0,s,o);return e?{context:void 0,name:void 0,value:c}:c}:function(t,n,r,o){var s,u=i(t,n,r,o);if(null!=u.value){for(var c=[],l=0;l<a.length;++l)c.push(a[l](t,n,r,o));s=u.value.apply(u.context,c)}return e?{value:s}:s};case Bo.AssignmentExpression:return r=this.recurse(t.left,!0,1),i=this.recurse(t.right),function(t,n,o,a){var s=r(t,n,o,a),u=i(t,n,o,a);return s.context[s.name]=u,e?{value:u}:u};case Bo.ArrayExpression:return a=[],o(t.elements,function(t){a.push(s.recurse(t))}),function(t,n,r,i){for(var o=[],s=0;s<a.length;++s)o.push(a[s](t,n,r,i));return e?{value:o}:o};case Bo.ObjectExpression:return a=[],o(t.properties,function(t){t.computed?a.push({key:s.recurse(t.key),computed:!0,value:s.recurse(t.value)}):a.push({key:t.key.type===Bo.Identifier?t.key.name:""+t.key.value,computed:!1,value:s.recurse(t.value)})}),function(t,n,r,i){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(t,n,r,i)]=a[s].value(t,n,r,i):o[a[s].key]=a[s].value(t,n,r,i);return e?{value:o}:o};case Bo.ThisExpression:return function(t){return e?{value:t}:t};case Bo.LocalsExpression:return function(t,n){return e?{value:n}:n};case Bo.NGValueParameter:return function(t,n,r){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?-a:-0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=pn(s,u);return n?{value:c}:c}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),u=e(r,i,o,a),c=(b(s)?s:0)-(b(u)?u:0);return n?{value:c}:c}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:u}:u}},value:function(t,e){return function(){return e?{context:void 0,name:void 0,value:t}:t}},identifier:function(t,e,n){return function(r,i,o,a){var s=i&&t in i?i:r;n&&1!==n&&s&&null==s[t]&&(s[t]={});var u=s?s[t]:void 0;return e?{context:s,name:t,value:u}:u}},computedMember:function(t,e,n,r){return function(i,o,a,s){var u,c,l=t(i,o,a,s);return null!=l&&(u=e(i,o,a,s),u=fn(u),r&&1!==r&&l&&!l[u]&&(l[u]={}),c=l[u]),n?{context:l,name:u,value:c}:c}},nonComputedMember:function(t,e,n,r){return function(i,o,a,s){var u=t(i,o,a,s);r&&1!==r&&u&&null==u[e]&&(u[e]={});var c=null!=u?u[e]:void 0;return n?{context:u,name:e,value:c}:c}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}},En.prototype={constructor:En,parse:function(t){var e=this.ast.ast(t),n=this.astCompiler.compile(e);return n.literal=bn(e),n.constant=wn(e),n}};var Wo=r("$sce"),Go={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ko=/_([a-z])/g,Jo=r("$compile"),Zo=t.document.createElement("a"),Yo=zn(t.location.href);Kn.$inject=["$document"],Zn.$inject=["$provide"];var Qo=22,Xo=".",ta="0";er.$inject=["$locale"],nr.$inject=["$locale"];var ea={yyyy:sr("FullYear",4,0,!1,!0),yy:sr("FullYear",2,0,!0,!0),y:sr("FullYear",1,0,!1,!0),MMMM:ur("Month"),MMM:ur("Month",!0),MM:sr("Month",2,1),M:sr("Month",1,1),LLLL:ur("Month",!1,!0),dd:sr("Date",2),d:sr("Date",1),HH:sr("Hours",2),H:sr("Hours",1),hh:sr("Hours",2,-12),h:sr("Hours",1,-12),mm:sr("Minutes",2),m:sr("Minutes",1),ss:sr("Seconds",2),s:sr("Seconds",1),sss:sr("Milliseconds",3),EEEE:ur("Day"),EEE:ur("Day",!0),a:pr,Z:cr,ww:hr(2),w:hr(1),G:dr,GG:dr,GGG:dr,GGGG:$r},na=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,ra=/^-?\d+$/;vr.$inject=["$locale"];var ia=m(ni),oa=m(ri);br.$inject=["$parse"];var aa=m({restrict:"E",compile:function(t,e){if(!e.href&&!e.xlinkHref)return function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===pi.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),sa={};o(Zi,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!==t){var r=Se("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),sa[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(Qi,function(t,e){sa[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"===r.ngPattern.charAt(0)){var i=r.ngPattern.match(Xr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=Se("ng-"+t);sa[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===pi.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(ai&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var ua={$addControl:$,$$renameControl:xr,$removeControl:$,$setValidity:$,$setDirty:$,$setPristine:$,$setSubmitted:$},ca="ng-pending",la="ng-submitted";Cr.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Cr.prototype={$rollbackViewValue:function(){o(this.$$controls,function(t){t.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(t){t.$commitViewValue()})},$addControl:function(t){mt(t.$name,"input"),this.$$controls.push(t),t.$name&&(this[t.$name]=t),t.$$parentForm=this},$$renameControl:function(t,e){var n=t.$name;this[n]===t&&delete this[n],this[e]=t,t.$name=e},$removeControl:function(t){t.$name&&this[t.$name]===t&&delete this[t.$name],o(this.$pending,function(e,n){this.$setValidity(n,null,t)},this),o(this.$error,function(e,n){this.$setValidity(n,null,t)},this),o(this.$$success,function(e,n){this.$setValidity(n,null,t)},this),F(this.$$controls,t),t.$$parentForm=ua},$setDirty:function(){this.$$animate.removeClass(this.$$element,Ga),this.$$animate.addClass(this.$$element,Ka),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Ga,Ka+" "+la),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(t){t.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(t){t.$setUntouched()})},$setSubmitted:function(){this.$$animate.addClass(this.$$element,la),this.$submitted=!0,this.$$parentForm.$setSubmitted()}},Sr({clazz:Cr,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);i===-1&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(F(r,n),0===r.length&&delete t[e])}});var fa=function(t){return["$timeout","$parse",function(e,n){function r(t){return""===t?n('this[""]').assign:n(t).assign||$}var i={name:"form",restrict:t?"EAC":"E",require:["form","^^?form"],controller:Cr,compile:function(n,i){n.addClass(Ga).addClass(za);var o=i.name?"name":!(!t||!i.ngForm)&&"ngForm";return{pre:function(t,n,i,a){var s=a[0];if(!("action"in i)){var u=function(e){t.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),e.preventDefault()};n[0].addEventListener("submit",u),n.on("$destroy",function(){e(function(){n[0].removeEventListener("submit",u)},0,!1)})}var c=a[1]||s.$$parentForm;c.$addControl(s);var l=o?r(s.$name):$;o&&(l(t,s),i.$observe(o,function(e){s.$name!==e&&(l(t,void 0),s.$$parentForm.$$renameControl(s,e),(l=r(s.$name))(t,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),l(t,void 0),f(s,ua)})}}}};return i}]},ha=fa(),pa=fa(!0),da=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,$a=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,va=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,ma=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ga=/^(\d{4,})-(\d{2})-(\d{2})$/,ya=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ba=/^(\d{4,})-W(\d\d)$/,wa=/^(\d{4,})-(\d\d)$/,xa=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Ca="keydown wheel mousedown",Ea=bt();o("date,datetime-local,month,time,week".split(","),function(t){Ea[t]=!0});var Sa={text:Or,date:Nr("date",ga,Tr(ga,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Nr("datetimelocal",ya,Tr(ya,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:Nr("time",xa,Tr(xa,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Nr("week",ba,Vr,"yyyy-Www"),month:Nr("month",wa,Tr(wa,["yyyy","MM"]),"yyyy-MM"),number:Ur,url:qr,email:Fr,radio:Br,range:Lr,checkbox:zr,hidden:$,button:$,submit:$,reset:$,file:$},ka=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(Sa[ni(a.type)]||Sa.text)(i,o,a,s[0],e,t,n,r)}}}}],Aa=/^(true|false|\d+)$/,Oa=function(){function t(t,e,n){var r=b(n)?n:9===ai?"":null;t.prop("value",r),e.$set("value",n)}return{restrict:"A",priority:100,compile:function(e,n){return Aa.test(n.ngValue)?function(e,n,r){var i=e.$eval(r.ngValue);t(n,r,i)}:function(e,n,r){e.$watch(r.ngValue,function(e){t(n,r,e)})}}}},Ma=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,n,r){t.$$addBindingInfo(n,r.ngBind),n=n[0],e.$watch(r.ngBind,function(t){n.textContent=wt(t)})}}}}],Va=["$interpolate","$compile",function(t,e){return{compile:function(n){return e.$$addBindingClass(n),function(n,r,i){var o=t(r.attr(i.$attr.ngBindTemplate));e.$$addBindingInfo(r,o.expressions),r=r[0],i.$observe("ngBindTemplate",function(t){r.textContent=y(t)?"":t})}}}}],Ta=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(e){return t.valueOf(e)});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){var n=o(e);r.html(t.getTrustedHtml(n)||"")})}}}}],Na=m({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Ia=Wr("",!0),ja=Wr("Odd",0),_a=Wr("Even",1),Da=wr({compile:function(t,e){e.$set("ngCloak",void 0),t.removeClass("ng-cloak")}}),Pa=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Ra={},Ua={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=Se("ng-"+t);Ra[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e]);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};Ua[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var La=["$animate","$compile",function(t,e){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,u,c;n.$watch(i.ngIf,function(n){n?u||a(function(n,o){u=o,n[n.length++]=e.$$createComment("end ngIf",i.ngIf),s={clone:n},t.enter(n,r.parent(),r)}):(c&&(c.remove(),c=null),u&&(u.$destroy(),u=null),s&&(c=yt(s.clone),t.leave(c).done(function(t){t!==!1&&(c=null)}),s=null))})}}}],qa=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:vi.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,u,c,l){var f,h,p,d=0,$=function(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).done(function(t){t!==!1&&(h=null)}),h=p,p=null)};r.$watch(o,function(o){var u=function(t){t===!1||!b(s)||s&&!r.$eval(s)||e()},h=++d;o?(t(o,!0).then(function(t){if(!r.$$destroyed&&h===d){var e=r.$new();c.template=t;var s=l(e,function(t){$(),n.enter(t,null,i).done(u)});f=e,p=s,f.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){r.$$destroyed||h===d&&($(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):($(),c.template=null)})}}}}],Fa=["$compile",function(e){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return pi.call(r[0]).match(/SVG/)?(r.empty(),void e(jt(o.template,t.document).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void e(r.contents())(n))}}}],Ba=wr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Ha=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,n,r){var i=n.ngList||", ",a="false"!==n.ngTrim,s=a?wi(i):i,u=function(t){if(!y(t)){var e=[];return t&&o(t.split(s),function(t){t&&e.push(a?wi(t):t)}),e}};r.$parsers.push(u),r.$formatters.push(function(t){if(yi(t))return t.join(i)}),r.$isEmpty=function(t){return!t||!t.length}}}},za="ng-valid",Wa="ng-invalid",Ga="ng-pristine",Ka="ng-dirty",Ja="ng-untouched",Za="ng-touched",Ya="ng-empty",Qa="ng-not-empty",Xa=r("ngModel");Gr.$inject=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$q","$interpolate"],Gr.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var t=this.$$parse(this.$$attr.ngModel+"()"),e=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(e){var n=this.$$parsedNgModel(e);return A(n)&&(n=t(e)),n},this.$$ngModelSet=function(t,n){A(this.$$parsedNgModel(t))?e(t,{$$$p:n}):this.$$parsedNgModelAssign(t,n)}}else if(!this.$$parsedNgModel.assign)throw Xa("nonassign","Expression '{0}' is non-assignable. Element: {1}",this.$$attr.ngModel,et(this.$$element))},$render:$,$isEmpty:function(t){return y(t)||""===t||null===t||t!==t},$$updateEmptyClasses:function(t){this.$isEmpty(t)?(this.$$animate.removeClass(this.$$element,Qa),this.$$animate.addClass(this.$$element,Ya)):(this.$$animate.removeClass(this.$$element,Ya),this.$$animate.addClass(this.$$element,Qa))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,Ka),this.$$animate.addClass(this.$$element,Ga)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Ga),this.$$animate.addClass(this.$$element,Ka),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,Ja,Za)},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,Za,Ja)},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!gi(this.$modelValue)){var t=this.$$lastCommittedViewValue,e=this.$$rawModelValue,n=this.$valid,r=this.$modelValue,i=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(e,t,function(t){i||n===t||(o.$modelValue=t?e:void 0,o.$modelValue!==r&&o.$$writeModelToScope())})}},$$runValidators:function(t,e,n){function r(){var t=l.$$parserName||"parse";return y(l.$$parserValid)?(s(t,null),!0):(l.$$parserValid||(o(l.$validators,function(t,e){s(e,null)}),o(l.$asyncValidators,function(t,e){s(e,null)})),s(t,l.$$parserValid),l.$$parserValid)}function i(){var n=!0;return o(l.$validators,function(r,i){var o=Boolean(r(t,e));n=n&&o,s(i,o)}),!!n||(o(l.$asyncValidators,function(t,e){s(e,null)}),!1)}function a(){var n=[],r=!0;o(l.$asyncValidators,function(i,o){var a=i(t,e);if(!_(a))throw Xa("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",a);s(o,void 0),n.push(a.then(function(){s(o,!0)},function(){r=!1,s(o,!1)}))}),n.length?l.$$q.all(n).then(function(){u(r)},$):u(!0)}function s(t,e){c===l.$$currentValidationRunId&&l.$setValidity(t,e)}function u(t){c===l.$$currentValidationRunId&&n(t)}this.$$currentValidationRunId++;var c=this.$$currentValidationRunId,l=this;return r()&&i()?void a():void u(!1)},$commitViewValue:function(){var t=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==t||""===t&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(t),this.$$lastCommittedViewValue=t,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){function t(){r.$modelValue!==o&&r.$$writeModelToScope()}var e=this.$$lastCommittedViewValue,n=e,r=this;if(this.$$parserValid=!y(n)||void 0,this.$$parserValid)for(var i=0;i<this.$parsers.length;i++)if(n=this.$parsers[i](n),y(n)){this.$$parserValid=!1;break}gi(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var o=this.$modelValue,a=this.$options.getOption("allowInvalid");this.$$rawModelValue=n,a&&(this.$modelValue=n,t()),this.$$runValidators(n,this.$$lastCommittedViewValue,function(e){a||(r.$modelValue=e?n:void 0,t())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(t){try{t()}catch(e){this.$$exceptionHandler(e)}},this)},$setViewValue:function(t,e){this.$viewValue=t,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(e)},$$debounceViewValueCommit:function(t){var e=this.$options.getOption("debounce");E(e[t])?e=e[t]:E(e["default"])&&(e=e["default"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;e>0?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},e):this.$$scope.$root.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(t){this.$options=this.$options.createChild(t)}},Sr({clazz:Gr,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]}});var ts,es=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Gr,priority:1,compile:function(e){return e.addClass(Ga).addClass(Ja).addClass(za),{pre:function(t,e,n,r){var i=r[0],o=r[1]||i.$$parentForm,a=r[2];a&&(i.$options=a.$options),i.$$initGetterSetters(),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&i.$$parentForm.$$renameControl(i,t)}),t.$on("$destroy",function(){i.$$parentForm.$removeControl(i)})},post:function(e,n,r,i){function o(){a.$setTouched()}var a=i[0];a.$options.getOption("updateOn")&&n.on(a.$options.getOption("updateOn"),function(t){a.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(){a.$touched||(t.$$phase?e.$evalAsync(o):e.$apply(o))})}}}}}],ns=/(\s+|^)default(\s+|$)/;Jr.prototype={getOption:function(t){return this.$$options[t]},createChild:function(t){var e=!1;return t=f({},t),o(t,function(n,r){"$inherit"===n?"*"===r?e=!0:(t[r]=this.$$options[r],"updateOn"===r&&(t.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===r&&(t.updateOnDefault=!1,t[r]=wi(n.replace(ns,function(){
return t.updateOnDefault=!0," "})))},this),e&&(delete t["*"],Zr(t,this.$$options)),Zr(t,ts.$$options),new Jr(t)}},ts=new Jr({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var rs=function(){function t(t,e){this.$$attrs=t,this.$$scope=e}return t.$inject=["$attrs","$scope"],t.prototype={$onInit:function(){var t=this.parentCtrl?this.parentCtrl.$options:ts,e=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=t.createChild(e)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:t}},is=wr({terminal:!0,priority:1e3}),os=r("ngOptions"),as=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ss=["$compile","$document","$parse",function(e,n,r){function a(t,e,n){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!c&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(as);if(!s)throw os("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,et(e));var u=s[5]||s[7],c=s[6],l=/ as /.test(s[0])&&s[1],f=s[9],h=r(s[2]?s[1]:u),p=l&&r(l),d=p||h,$=f&&r(f),v=f?function(t,e){return $(n,e)}:function(t){return ae(t)},m=function(t,e){return v(t,C(t,e))},g=r(s[2]||s[1]),y=r(s[3]||""),b=r(s[4]||""),w=r(s[8]),x={},C=c?function(t,e){return x[c]=e,x[u]=t,x}:function(t){return x[u]=t,x};return{trackBy:f,getTrackByValue:m,getWatchables:r(w,function(t){var e=[];t=t||[];for(var r=a(t),i=r.length,o=0;o<i;o++){var u=t===r?o:r[o],c=t[u],l=C(c,u),f=v(c,l);if(e.push(f),s[2]||s[1]){var h=g(n,l);e.push(h)}if(s[4]){var p=b(n,l);e.push(p)}}return e}),getOptions:function(){for(var t=[],e={},r=w(n)||[],i=a(r),s=i.length,u=0;u<s;u++){var c=r===i?u:i[u],l=r[c],h=C(l,c),p=d(n,h),$=v(p,h),x=g(n,h),E=y(n,h),S=b(n,h),k=new o($,p,x,E,S);t.push(k),e[$]=k}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[m(t)]},getViewValueFromOption:function(t){return f?B(t.viewValue):t.viewValue}}}}}function s(t,r,i,s){function l(t,e){var n=u.cloneNode(!1);e.appendChild(n),h(t,n)}function f(t){var e=C.getOptionFromViewValue(t),n=e&&e.element;return n&&!n.selected&&(n.selected=!0),e}function h(t,e){t.element=e,e.disabled=t.disabled,t.label!==e.label&&(e.label=t.label,e.textContent=t.label),e.value=t.selectValue}function p(){var t=C&&d.readValue();if(C)for(var e=C.items.length-1;e>=0;e--){var n=C.items[e];Yt(b(n.group)?n.element.parentNode:n.element)}C=E.getOptions();var i={};if(C.items.forEach(function(t){var e;b(t.group)?(e=i[t.group],e||(e=c.cloneNode(!1),S.appendChild(e),e.label=null===t.group?"null":t.group,i[t.group]=e),l(t,e)):l(t,S)}),r[0].appendChild(S),$.$render(),!$.$isEmpty(t)){var o=d.readValue(),a=E.trackBy||v;(a?z(t,o):t===o)||($.$setViewValue(o),$.$render())}}for(var d=s[0],$=s[1],v=i.multiple,m=0,g=r.children(),y=g.length;m<y;m++)if(""===g[m].value){d.hasEmptyOption=!0,d.emptyOption=g.eq(m);break}r.empty();var w=!!d.emptyOption,x=si(u.cloneNode(!1));x.val("?");var C,E=a(i.ngOptions,r,t),S=n[0].createDocumentFragment();d.generateUnknownOptionValue=function(t){return"?"},v?(d.writeValue=function(t){if(C){var e=t&&t.map(f)||[];C.items.forEach(function(t){t.element.selected&&!q(e,t)&&(t.element.selected=!1)})}},d.readValue=function(){var t=r.val()||[],e=[];return o(t,function(t){var n=C.selectValueMap[t];n&&!n.disabled&&e.push(C.getViewValueFromOption(n))}),e},E.trackBy&&t.$watchCollection(function(){if(yi($.$viewValue))return $.$viewValue.map(function(t){return E.getTrackByValue(t)})},function(){$.$render()})):(d.writeValue=function(t){if(C){var e=r[0].options[r[0].selectedIndex],n=C.getOptionFromViewValue(t);e&&e.removeAttribute("selected"),n?(r[0].value!==n.selectValue&&(d.removeUnknownOption(),r[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):d.selectUnknownOrEmptyOption(t)}},d.readValue=function(){var t=C.selectValueMap[r.val()];return t&&!t.disabled?(d.unselectEmptyOption(),d.removeUnknownOption(),C.getViewValueFromOption(t)):null},E.trackBy&&t.$watch(function(){return E.getTrackByValue($.$viewValue)},function(){$.$render()})),w&&(e(d.emptyOption)(t),r.prepend(d.emptyOption),d.emptyOption[0].nodeType===Ii?(d.hasEmptyOption=!1,d.registerOption=function(t,e){""===e.val()&&(d.hasEmptyOption=!0,d.emptyOption=e,d.emptyOption.removeClass("ng-scope"),$.$render(),e.on("$destroy",function(){var t=d.$isEmptyOptionSelected();d.hasEmptyOption=!1,d.emptyOption=void 0,t&&$.$render()}))}):d.emptyOption.removeClass("ng-scope")),t.$watchCollection(E.getWatchables,p)}var u=t.document.createElement("option"),c=t.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(t,e,n,r){r[0].registerOption=$},post:s}}}],us=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,u){function c(t){s.text(t||"")}var l,f=u.count,h=u.$attr.when&&s.attr(u.$attr.when),p=u.offset||0,d=a.$eval(h)||{},v={},m=e.startSymbol(),g=e.endSymbol(),b=m+f+"-"+p+g,w=vi.noop;o(u,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+ni(n[2]);d[r]=s.attr(u.$attr[e])}}),o(d,function(t,n){v[n]=e(t.replace(r,b))}),a.$watch(f,function(e){var r=parseFloat(e),i=gi(r);if(i||r in d||(r=t.pluralCat(r-p)),!(r===l||i&&gi(l))){w();var o=v[r];y(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+h),w=$,c()):w=a.$watch(o,c),l=r}})}}}],cs=["$parse","$animate","$compile",function(t,e,n){var a="$$NG_REMOVED",s=r("ngRepeat"),u=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},l=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,f){var h=f.ngRepeat,p=n.$$createComment("end ngRepeat",h),d=h.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!d)throw s("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",h);var $=d[1],v=d[2],m=d[3],g=d[4];if(d=$.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/),!d)throw s("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",$);var y=d[3]||d[1],b=d[2];if(m&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(m)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(m)))throw s("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",m);var w,x,C,E,S={$id:ae};return g?w=t(g):(C=function(t,e){return ae(e)},E=function(t){return t}),function(t,n,r,f,d){w&&(x=function(e,n,r){return b&&(S[b]=e),S[y]=n,S.$index=r,w(t,S)});var $=bt();t.$watchCollection(v,function(r){var f,v,g,w,S,k,A,O,M,V,T,N,I=n[0],j=bt();if(m&&(t[m]=r),i(r))M=r,O=x||C;else{O=x||E,M=[];for(var _ in r)ei.call(r,_)&&"$"!==_.charAt(0)&&M.push(_)}for(w=M.length,T=new Array(w),f=0;f<w;f++)if(S=r===M?f:M[f],k=r[S],A=O(S,k,f),$[A])V=$[A],delete $[A],j[A]=V,T[f]=V;else{if(j[A])throw o(T,function(t){t&&t.scope&&($[t.id]=t)}),s("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",h,A,k);T[f]={id:A,scope:void 0,clone:void 0},j[A]=!0}for(var D in $){if(V=$[D],N=yt(V.clone),e.leave(N),N[0].parentNode)for(f=0,v=N.length;f<v;f++)N[f][a]=!0;V.scope.$destroy()}for(f=0;f<w;f++)if(S=r===M?f:M[f],k=r[S],V=T[f],V.scope){g=I;do g=g.nextSibling;while(g&&g[a]);c(V)!==g&&e.move(yt(V.clone),null,I),I=l(V),u(V.scope,f,y,k,b,S,w)}else d(function(t,n){V.scope=n;var r=p.cloneNode(!1);t[t.length++]=r,e.enter(t,null,I),I=r,V.clone=t,j[V.id]=V,u(V.scope,f,y,k,b,S,w)});$=j})}}}}],ls="ng-hide",fs="ng-hide-animate",hs=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,ls,{tempClasses:fs})})}}}],ps=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,ls,{tempClasses:fs})})}}}],ds=wr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),$s=["$animate","$compile",function(t,e){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,u=[],c=[],l=[],f=[],h=function(t,e){return function(n){n!==!1&&t.splice(e,1)}};n.$watch(s,function(n){for(var r,i;l.length;)t.cancel(l.pop());for(r=0,i=f.length;r<i;++r){var s=yt(c[r].clone);f[r].$destroy();var p=l[r]=t.leave(s);p.done(h(l,r))}c.length=0,f.length=0,(u=a.cases["!"+n]||a.cases["?"])&&o(u,function(n){n.transclude(function(r,i){f.push(i);var o=n.element;r[r.length++]=e.$$createComment("end ngSwitchWhen");var a={clone:r};c.push(a),t.enter(r,o.parent(),o)})})})}}}],vs=wr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){var a=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(t,e,n){return n[e-1]!==t});o(a,function(t){r.cases["!"+t]=r.cases["!"+t]||[],r.cases["!"+t].push({transclude:i,element:e})})}}),ms=wr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),gs=r("ngTransclude"),ys=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var n=t(e.contents());return e.empty(),function(t,e,r,i,o){function a(t,n){t.length&&u(t)?e.append(t):(s(),n.$destroy())}function s(){n(t,function(t){e.append(t)})}function u(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];if(r.nodeType!==Ni||r.nodeValue.trim())return!0}}if(!o)throw gs("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",et(e));r.ngTransclude===r.$attr.ngTransclude&&(r.ngTransclude="");var c=r.ngTransclude||r.ngTranscludeSlot;o(a,null,c),c&&!o.isSlotFilled(c)&&s()}}}}],bs=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"===n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],ws={$setViewValue:$,$render:$},xs=["$element","$scope",function(e,n){function r(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function i(t){u||(u=!0,n.$$postDigest(function(){n.$$destroyed||(u=!1,o.ngModelCtrl.$setViewValue(o.readValue()),t&&o.ngModelCtrl.$render())}))}var o=this,a=new to;o.selectValueMap={},o.ngModelCtrl=ws,o.multiple=!1,o.unknownOption=si(t.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),e.prepend(o.unknownOption),Yr(o.unknownOption,!0),e.val(n)},o.updateUnknownOption=function(t){var n=o.generateUnknownOptionValue(t);o.unknownOption.val(n),Yr(o.unknownOption,!0),e.val(n)},o.generateUnknownOptionValue=function(t){return"? "+ae(t)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(e.val(""),Yr(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&Yr(o.emptyOption,!1)},n.$on("$destroy",function(){o.renderUnknownOption=$}),o.readValue=function(){var t=e.val(),n=t in o.selectValueMap?o.selectValueMap[t]:t;return o.hasOption(n)?n:null},o.writeValue=function(t){var n=e[0].options[e[0].selectedIndex];if(n&&Yr(si(n),!1),o.hasOption(t)){o.removeUnknownOption();var r=ae(t);e.val(r in o.selectValueMap?r:t);var i=e[0].options[e[0].selectedIndex];Yr(si(i),!0)}else o.selectUnknownOrEmptyOption(t)},o.addOption=function(t,e){if(e[0].nodeType!==Ii){mt(t,'"option value"'),""===t&&(o.hasEmptyOption=!0,o.emptyOption=e);var n=a.get(t)||0;a.set(t,n+1),r()}},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a["delete"](t),""===t&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(t,e-1))},o.hasOption=function(t){return!!a.get(t)},o.$hasEmptyOption=function(){return o.hasEmptyOption},o.$isUnknownOptionSelected=function(){return e[0].options[0]===o.unknownOption[0]},o.$isEmptyOptionSelected=function(){return o.hasEmptyOption&&e[0].options[e[0].selectedIndex]===o.emptyOption[0]},o.selectUnknownOrEmptyOption=function(t){null==t&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(t):o.renderUnknownOption(t)};var s=!1,u=!1;o.registerOption=function(t,e,n,a,s){if(n.$attr.ngValue){var u,c=NaN;n.$observe("value",function(t){var n,r=e.prop("selected");b(c)&&(o.removeOption(u),delete o.selectValueMap[c],n=!0),c=ae(t),u=t,o.selectValueMap[c]=t,o.addOption(t,e),e.attr("value",c),n&&r&&i()})}else a?n.$observe("value",function(t){o.readValue();var n,r=e.prop("selected");b(u)&&(o.removeOption(u),n=!0),u=t,o.addOption(t,e),n&&r&&i()}):s?t.$watch(s,function(t,r){n.$set("value",t);var a=e.prop("selected");r!==t&&o.removeOption(r),o.addOption(t,e),r&&a&&i()}):o.addOption(n.value,e);n.$observe("disabled",function(t){("true"===t||t&&e.prop("selected"))&&(o.multiple?i(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),e.on("$destroy",function(){var t=o.readValue(),e=n.value;o.removeOption(e),r(),(o.multiple&&t&&t.indexOf(e)!==-1||t===e)&&i(!0)})}}],Cs=function(){function t(t,e,n,r){var i=r[0],a=r[1];if(!a)return void(i.registerOption=$);if(i.ngModelCtrl=a,e.on("change",function(){i.removeUnknownOption(),t.$apply(function(){a.$setViewValue(i.readValue())})}),n.multiple){i.multiple=!0,i.readValue=function(){var t=[];return o(e.find("option"),function(e){if(e.selected&&!e.disabled){var n=e.value;t.push(n in i.selectValueMap?i.selectValueMap[n]:n)}}),t},i.writeValue=function(t){o(e.find("option"),function(e){var n=!!t&&(q(t,e.value)||q(t,i.selectValueMap[e.value])),r=e.selected;n!==r&&Yr(si(e),n)})};var s,u=NaN;t.$watch(function(){u!==a.$viewValue||z(s,a.$viewValue)||(s=Ct(a.$viewValue),a.$render()),u=a.$viewValue}),a.$isEmpty=function(t){return!t||0===t.length}}}function e(t,e,n,r){var i=r[1];if(i){var o=r[0];i.$render=function(){o.writeValue(i.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:xs,priority:1,link:{pre:t,post:e}}},Es=["$interpolate",function(t){return{restrict:"E",priority:100,compile:function(e,n){var r,i;return b(n.ngValue)||(b(n.value)?r=t(n.value,!0):(i=t(e.text(),!0),i||n.$set("value",e.text()))),function(t,e,n){var o="$selectController",a=e.parent(),s=a.data(o)||a.parent().data(o);s&&s.registerOption(t,e,n,r,i)}}}}],Ss=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},ks=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,i){if(i){var o,a=n.ngPattern||n.pattern;n.$observe("pattern",function(t){if(C(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",a,t,et(e));o=t||void 0,i.$validate()}),i.$validators.pattern=function(t,e){return i.$isEmpty(e)||y(o)||o.test(e)}}}}},As=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=p(t);i=gi(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return i<0||r.$isEmpty(e)||e.length<=i}}}}},Os=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=p(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void(t.console&&console.log("WARNING: Tried to load angular more than once.")):(dt(),kt(vi),vi.module("ngLocale",[],["$provide",function(t){function e(t){t+="";var e=t.indexOf(".");return e==-1?0:t.length-e-1}function n(t,n){var r=n;void 0===r&&(r=Math.min(e(t),3));var i=Math.pow(10,r),o=(t*i|0)%i;return{v:r,f:o}}var r={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};t.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(t,e){var i=0|t,o=n(t,e);return 1==i&&0==o.v?r.ONE:r.OTHER}})}]),void si(function(){ct(t.document,lt)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>');
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNvZnQvYW5ndWxhci5qcyJdLCJuYW1lcyI6WyJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJvYmoiLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIndpbmRvdyIsImVycm9ySGFuZGxpbmdDb25maWciLCJjb25maWciLCJpc09iamVjdCIsImlzRGVmaW5lZCIsIm9iamVjdE1heERlcHRoIiwibWluRXJyQ29uZmlnIiwiaXNWYWxpZE9iamVjdE1heERlcHRoIiwiTmFOIiwibWF4RGVwdGgiLCJpc051bWJlciIsIm1pbkVyciIsIm1vZHVsZSIsIkVycm9yQ29uc3RydWN0b3IiLCJFcnJvciIsInBhcmFtUHJlZml4IiwiaSIsImNvZGUiLCJhcmd1bWVudHMiLCJ0ZW1wbGF0ZSIsIm1lc3NhZ2UiLCJ0ZW1wbGF0ZUFyZ3MiLCJzbGljZUFyZ3MiLCJtYXAiLCJhcmciLCJ0b0RlYnVnU3RyaW5nIiwicmVwbGFjZSIsIm1hdGNoIiwiaW5kZXgiLCJzbGljZSIsImxlbmd0aCIsImVuY29kZVVSSUNvbXBvbmVudCIsImlzQXJyYXlMaWtlIiwiaXNXaW5kb3ciLCJpc0FycmF5IiwiaXNTdHJpbmciLCJqcUxpdGUiLCJPYmplY3QiLCJBcnJheSIsIml0ZW0iLCJmb3JFYWNoIiwiY29udGV4dCIsImtleSIsImlzRnVuY3Rpb24iLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpc1ByaW1pdGl2ZSIsImlzQmxhbmtPYmplY3QiLCJmb3JFYWNoU29ydGVkIiwia2V5cyIsInNvcnQiLCJyZXZlcnNlUGFyYW1zIiwiaXRlcmF0b3JGbiIsInZhbHVlIiwibmV4dFVpZCIsInVpZCIsInNldEhhc2hLZXkiLCJoIiwiJCRoYXNoS2V5IiwiYmFzZUV4dGVuZCIsImRzdCIsIm9ianMiLCJkZWVwIiwiaWkiLCJqIiwiamoiLCJzcmMiLCJpc0RhdGUiLCJEYXRlIiwidmFsdWVPZiIsImlzUmVnRXhwIiwiUmVnRXhwIiwibm9kZU5hbWUiLCJjbG9uZU5vZGUiLCJpc0VsZW1lbnQiLCJjbG9uZSIsImV4dGVuZCIsIm1lcmdlIiwidG9JbnQiLCJzdHIiLCJwYXJzZUludCIsImluaGVyaXQiLCJwYXJlbnQiLCJleHRyYSIsImNyZWF0ZSIsIm5vb3AiLCJpZGVudGl0eSIsIiQiLCJ2YWx1ZUZuIiwiaGFzQ3VzdG9tVG9TdHJpbmciLCJ0b1N0cmluZyIsImlzVW5kZWZpbmVkIiwiZ2V0UHJvdG90eXBlT2YiLCJpc0Vycm9yIiwidGFnIiwiaXNTY29wZSIsIiRldmFsQXN5bmMiLCIkd2F0Y2giLCJpc0ZpbGUiLCJpc0Zvcm1EYXRhIiwiaXNCbG9iIiwiaXNCb29sZWFuIiwiaXNQcm9taXNlTGlrZSIsInRoZW4iLCJpc1R5cGVkQXJyYXkiLCJUWVBFRF9BUlJBWV9SRUdFWFAiLCJ0ZXN0IiwiaXNBcnJheUJ1ZmZlciIsIm5vZGUiLCJwcm9wIiwiYXR0ciIsImZpbmQiLCJtYWtlTWFwIiwiaXRlbXMiLCJzcGxpdCIsIm5vZGVOYW1lXyIsImVsZW1lbnQiLCJsb3dlcmNhc2UiLCJpbmNsdWRlcyIsImFycmF5IiwiaW5kZXhPZiIsImFycmF5UmVtb3ZlIiwic3BsaWNlIiwiY29weSIsInNvdXJjZSIsImRlc3RpbmF0aW9uIiwiY29weVJlY3Vyc2UiLCJwdXNoIiwiY29weUVsZW1lbnQiLCJzdGFja1NvdXJjZSIsInN0YWNrRGVzdCIsIm5nTWluRXJyIiwibmVlZHNSZWN1cnNlIiwiY29weVR5cGUiLCJ1bmRlZmluZWQiLCJidWZmZXIiLCJieXRlT2Zmc2V0IiwiY29waWVkIiwiQXJyYXlCdWZmZXIiLCJieXRlTGVuZ3RoIiwiVWludDhBcnJheSIsInNldCIsInJlIiwibGFzdEluZGV4IiwidHlwZSIsInNpbXBsZUNvbXBhcmUiLCJhIiwiYiIsImVxdWFscyIsIm8xIiwibzIiLCJrZXlTZXQiLCJ0MSIsInQyIiwiZ2V0VGltZSIsImNyZWF0ZU1hcCIsImNoYXJBdCIsImNvbmNhdCIsImFycmF5MSIsImFycmF5MiIsImFyZ3MiLCJzdGFydEluZGV4IiwiYmluZCIsInNlbGYiLCJmbiIsImN1cnJ5QXJncyIsImFwcGx5IiwidG9Kc29uUmVwbGFjZXIiLCJ2YWwiLCJkb2N1bWVudCIsInRvSnNvbiIsInByZXR0eSIsIkpTT04iLCJzdHJpbmdpZnkiLCJmcm9tSnNvbiIsImpzb24iLCJwYXJzZSIsInRpbWV6b25lVG9PZmZzZXQiLCJ0aW1lem9uZSIsImZhbGxiYWNrIiwiQUxMX0NPTE9OUyIsInJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0IiwiaXNOdW1iZXJOYU4iLCJhZGREYXRlTWludXRlcyIsImRhdGUiLCJtaW51dGVzIiwic2V0TWludXRlcyIsImdldE1pbnV0ZXMiLCJjb252ZXJ0VGltZXpvbmVUb0xvY2FsIiwicmV2ZXJzZSIsImRhdGVUaW1lem9uZU9mZnNldCIsImdldFRpbWV6b25lT2Zmc2V0IiwidGltZXpvbmVPZmZzZXQiLCJzdGFydGluZ1RhZyIsImVtcHR5IiwiZWxlbUh0bWwiLCJhcHBlbmQiLCJodG1sIiwibm9kZVR5cGUiLCJOT0RFX1RZUEVfVEVYVCIsImUiLCJ0cnlEZWNvZGVVUklDb21wb25lbnQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJwYXJzZUtleVZhbHVlIiwia2V5VmFsdWUiLCJzcGxpdFBvaW50Iiwic3Vic3RyaW5nIiwidG9LZXlWYWx1ZSIsInBhcnRzIiwiYXJyYXlWYWx1ZSIsImVuY29kZVVyaVF1ZXJ5Iiwiam9pbiIsImVuY29kZVVyaVNlZ21lbnQiLCJwY3RFbmNvZGVTcGFjZXMiLCJnZXROZ0F0dHJpYnV0ZSIsIm5nQXR0ciIsIm5nQXR0clByZWZpeGVzIiwiZ2V0QXR0cmlidXRlIiwiYWxsb3dBdXRvQm9vdHN0cmFwIiwic2NyaXB0IiwiY3VycmVudFNjcmlwdCIsIkhUTUxTY3JpcHRFbGVtZW50IiwiU1ZHU2NyaXB0RWxlbWVudCIsImF0dHJpYnV0ZXMiLCJzcmNzIiwiZ2V0TmFtZWRJdGVtIiwiZXZlcnkiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJsb2NhdGlvbiIsIm9yaWdpbiIsInByb3RvY29sIiwiYW5ndWxhckluaXQiLCJib290c3RyYXAiLCJhcHBFbGVtZW50IiwicHJlZml4IiwibmFtZSIsImhhc0F0dHJpYnV0ZSIsImNhbmRpZGF0ZSIsInF1ZXJ5U2VsZWN0b3IiLCJpc0F1dG9Cb290c3RyYXBBbGxvd2VkIiwiY29uc29sZSIsImVycm9yIiwic3RyaWN0RGkiLCJtb2R1bGVzIiwiZGVmYXVsdENvbmZpZyIsImRvQm9vdHN0cmFwIiwiaW5qZWN0b3IiLCJ1bnNoaWZ0IiwiJHByb3ZpZGUiLCJkZWJ1Z0luZm9FbmFibGVkIiwiJGNvbXBpbGVQcm92aWRlciIsImNyZWF0ZUluamVjdG9yIiwiaW52b2tlIiwic2NvcGUiLCJjb21waWxlIiwiJGFwcGx5IiwiZGF0YSIsIk5HX0VOQUJMRV9ERUJVR19JTkZPIiwiTkdfREVGRVJfQk9PVFNUUkFQIiwiYW5ndWxhciIsInJlc3VtZUJvb3RzdHJhcCIsImV4dHJhTW9kdWxlcyIsInJlc3VtZURlZmVycmVkQm9vdHN0cmFwIiwicmVsb2FkV2l0aERlYnVnSW5mbyIsInJlbG9hZCIsImdldFRlc3RhYmlsaXR5Iiwicm9vdEVsZW1lbnQiLCJnZXQiLCJzbmFrZV9jYXNlIiwic2VwYXJhdG9yIiwiU05BS0VfQ0FTRV9SRUdFWFAiLCJsZXR0ZXIiLCJwb3MiLCJ0b0xvd2VyQ2FzZSIsImJpbmRKUXVlcnkiLCJvcmlnaW5hbENsZWFuRGF0YSIsImJpbmRKUXVlcnlGaXJlZCIsImpxTmFtZSIsImpxIiwialF1ZXJ5Iiwib24iLCJKUUxpdGVQcm90b3R5cGUiLCJpc29sYXRlU2NvcGUiLCJjb250cm9sbGVyIiwiaW5oZXJpdGVkRGF0YSIsImNsZWFuRGF0YSIsImVsZW1zIiwiZXZlbnRzIiwiZWxlbSIsIl9kYXRhIiwiJGRlc3Ryb3kiLCJ0cmlnZ2VySGFuZGxlciIsIkpRTGl0ZSIsImFzc2VydEFyZyIsInJlYXNvbiIsImFzc2VydEFyZ0ZuIiwiYWNjZXB0QXJyYXlBbm5vdGF0aW9uIiwiYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkiLCJnZXR0ZXIiLCJwYXRoIiwiYmluZEZuVG9TY29wZSIsImxhc3RJbnN0YW5jZSIsImxlbiIsImdldEJsb2NrTm9kZXMiLCJub2RlcyIsImJsb2NrTm9kZXMiLCJlbmROb2RlIiwibmV4dFNpYmxpbmciLCJzZXR1cE1vZHVsZUxvYWRlciIsImVuc3VyZSIsImZhY3RvcnkiLCIkaW5qZWN0b3JNaW5FcnIiLCIkJG1pbkVyciIsInJlcXVpcmVzIiwiY29uZmlnRm4iLCJfaW5mbyIsImludm9rZUxhdGVyIiwicHJvdmlkZXIiLCJtZXRob2QiLCJpbnNlcnRNZXRob2QiLCJxdWV1ZSIsImludm9rZVF1ZXVlIiwibW9kdWxlSW5zdGFuY2UiLCJpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUiLCJyZWNpcGVOYW1lIiwiZmFjdG9yeUZ1bmN0aW9uIiwiJCRtb2R1bGVOYW1lIiwiY29uZmlnQmxvY2tzIiwicnVuQmxvY2tzIiwiX2ludm9rZVF1ZXVlIiwiX2NvbmZpZ0Jsb2NrcyIsIl9ydW5CbG9ja3MiLCJpbmZvIiwidGhpcyIsInNlcnZpY2UiLCJjb25zdGFudCIsImRlY29yYXRvciIsImFuaW1hdGlvbiIsImZpbHRlciIsImRpcmVjdGl2ZSIsImNvbXBvbmVudCIsInJ1biIsImJsb2NrIiwic2hhbGxvd0NvcHkiLCJzZXJpYWxpemVPYmplY3QiLCJzZWVuIiwicHVibGlzaEV4dGVybmFsQVBJIiwidmVyc2lvbiIsInVwcGVyY2FzZSIsImNhbGxiYWNrcyIsIiQkY291bnRlciIsIiQkY3NwIiwiY3NwIiwiJCRlbmNvZGVVcmlTZWdtZW50IiwiJCRlbmNvZGVVcmlRdWVyeSIsIiQkc3RyaW5naWZ5IiwiYW5ndWxhck1vZHVsZSIsIiQkc2FuaXRpemVVcmkiLCIkJFNhbml0aXplVXJpUHJvdmlkZXIiLCIkQ29tcGlsZVByb3ZpZGVyIiwiaHRtbEFuY2hvckRpcmVjdGl2ZSIsImlucHV0IiwiaW5wdXREaXJlY3RpdmUiLCJ0ZXh0YXJlYSIsImZvcm0iLCJmb3JtRGlyZWN0aXZlIiwic2NyaXB0RGlyZWN0aXZlIiwic2VsZWN0Iiwic2VsZWN0RGlyZWN0aXZlIiwib3B0aW9uIiwib3B0aW9uRGlyZWN0aXZlIiwibmdCaW5kIiwibmdCaW5kRGlyZWN0aXZlIiwibmdCaW5kSHRtbCIsIm5nQmluZEh0bWxEaXJlY3RpdmUiLCJuZ0JpbmRUZW1wbGF0ZSIsIm5nQmluZFRlbXBsYXRlRGlyZWN0aXZlIiwibmdDbGFzcyIsIm5nQ2xhc3NEaXJlY3RpdmUiLCJuZ0NsYXNzRXZlbiIsIm5nQ2xhc3NFdmVuRGlyZWN0aXZlIiwibmdDbGFzc09kZCIsIm5nQ2xhc3NPZGREaXJlY3RpdmUiLCJuZ0Nsb2FrIiwibmdDbG9ha0RpcmVjdGl2ZSIsIm5nQ29udHJvbGxlciIsIm5nQ29udHJvbGxlckRpcmVjdGl2ZSIsIm5nRm9ybSIsIm5nRm9ybURpcmVjdGl2ZSIsIm5nSGlkZSIsIm5nSGlkZURpcmVjdGl2ZSIsIm5nSWYiLCJuZ0lmRGlyZWN0aXZlIiwibmdJbmNsdWRlIiwibmdJbmNsdWRlRGlyZWN0aXZlIiwibmdJbml0IiwibmdJbml0RGlyZWN0aXZlIiwibmdOb25CaW5kYWJsZSIsIm5nTm9uQmluZGFibGVEaXJlY3RpdmUiLCJuZ1BsdXJhbGl6ZSIsIm5nUGx1cmFsaXplRGlyZWN0aXZlIiwibmdSZXBlYXQiLCJuZ1JlcGVhdERpcmVjdGl2ZSIsIm5nU2hvdyIsIm5nU2hvd0RpcmVjdGl2ZSIsIm5nU3R5bGUiLCJuZ1N0eWxlRGlyZWN0aXZlIiwibmdTd2l0Y2giLCJuZ1N3aXRjaERpcmVjdGl2ZSIsIm5nU3dpdGNoV2hlbiIsIm5nU3dpdGNoV2hlbkRpcmVjdGl2ZSIsIm5nU3dpdGNoRGVmYXVsdCIsIm5nU3dpdGNoRGVmYXVsdERpcmVjdGl2ZSIsIm5nT3B0aW9ucyIsIm5nT3B0aW9uc0RpcmVjdGl2ZSIsIm5nVHJhbnNjbHVkZSIsIm5nVHJhbnNjbHVkZURpcmVjdGl2ZSIsIm5nTW9kZWwiLCJuZ01vZGVsRGlyZWN0aXZlIiwibmdMaXN0IiwibmdMaXN0RGlyZWN0aXZlIiwibmdDaGFuZ2UiLCJuZ0NoYW5nZURpcmVjdGl2ZSIsInBhdHRlcm4iLCJwYXR0ZXJuRGlyZWN0aXZlIiwibmdQYXR0ZXJuIiwicmVxdWlyZWQiLCJyZXF1aXJlZERpcmVjdGl2ZSIsIm5nUmVxdWlyZWQiLCJtaW5sZW5ndGgiLCJtaW5sZW5ndGhEaXJlY3RpdmUiLCJuZ01pbmxlbmd0aCIsIm1heGxlbmd0aCIsIm1heGxlbmd0aERpcmVjdGl2ZSIsIm5nTWF4bGVuZ3RoIiwibmdWYWx1ZSIsIm5nVmFsdWVEaXJlY3RpdmUiLCJuZ01vZGVsT3B0aW9ucyIsIm5nTW9kZWxPcHRpb25zRGlyZWN0aXZlIiwibmdJbmNsdWRlRmlsbENvbnRlbnREaXJlY3RpdmUiLCJuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyIsIm5nRXZlbnREaXJlY3RpdmVzIiwiJGFuY2hvclNjcm9sbCIsIiRBbmNob3JTY3JvbGxQcm92aWRlciIsIiRhbmltYXRlIiwiJEFuaW1hdGVQcm92aWRlciIsIiRhbmltYXRlQ3NzIiwiJENvcmVBbmltYXRlQ3NzUHJvdmlkZXIiLCIkJGFuaW1hdGVKcyIsIiQkQ29yZUFuaW1hdGVKc1Byb3ZpZGVyIiwiJCRhbmltYXRlUXVldWUiLCIkJENvcmVBbmltYXRlUXVldWVQcm92aWRlciIsIiQkQW5pbWF0ZVJ1bm5lciIsIiQkQW5pbWF0ZVJ1bm5lckZhY3RvcnlQcm92aWRlciIsIiQkYW5pbWF0ZUFzeW5jUnVuIiwiJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIiLCIkYnJvd3NlciIsIiRCcm93c2VyUHJvdmlkZXIiLCIkY2FjaGVGYWN0b3J5IiwiJENhY2hlRmFjdG9yeVByb3ZpZGVyIiwiJGNvbnRyb2xsZXIiLCIkQ29udHJvbGxlclByb3ZpZGVyIiwiJGRvY3VtZW50IiwiJERvY3VtZW50UHJvdmlkZXIiLCIkJGlzRG9jdW1lbnRIaWRkZW4iLCIkJElzRG9jdW1lbnRIaWRkZW5Qcm92aWRlciIsIiRleGNlcHRpb25IYW5kbGVyIiwiJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlciIsIiRmaWx0ZXIiLCIkRmlsdGVyUHJvdmlkZXIiLCIkJGZvcmNlUmVmbG93IiwiJCRGb3JjZVJlZmxvd1Byb3ZpZGVyIiwiJGludGVycG9sYXRlIiwiJEludGVycG9sYXRlUHJvdmlkZXIiLCIkaW50ZXJ2YWwiLCIkSW50ZXJ2YWxQcm92aWRlciIsIiRodHRwIiwiJEh0dHBQcm92aWRlciIsIiRodHRwUGFyYW1TZXJpYWxpemVyIiwiJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlciIsIiRodHRwUGFyYW1TZXJpYWxpemVySlFMaWtlIiwiJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlciIsIiRodHRwQmFja2VuZCIsIiRIdHRwQmFja2VuZFByb3ZpZGVyIiwiJHhockZhY3RvcnkiLCIkeGhyRmFjdG9yeVByb3ZpZGVyIiwiJGpzb25wQ2FsbGJhY2tzIiwiJGpzb25wQ2FsbGJhY2tzUHJvdmlkZXIiLCIkbG9jYXRpb24iLCIkTG9jYXRpb25Qcm92aWRlciIsIiRsb2ciLCIkTG9nUHJvdmlkZXIiLCIkcGFyc2UiLCIkUGFyc2VQcm92aWRlciIsIiRyb290U2NvcGUiLCIkUm9vdFNjb3BlUHJvdmlkZXIiLCIkcSIsIiRRUHJvdmlkZXIiLCIkJHEiLCIkJFFQcm92aWRlciIsIiRzY2UiLCIkU2NlUHJvdmlkZXIiLCIkc2NlRGVsZWdhdGUiLCIkU2NlRGVsZWdhdGVQcm92aWRlciIsIiRzbmlmZmVyIiwiJFNuaWZmZXJQcm92aWRlciIsIiR0ZW1wbGF0ZUNhY2hlIiwiJFRlbXBsYXRlQ2FjaGVQcm92aWRlciIsIiR0ZW1wbGF0ZVJlcXVlc3QiLCIkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIiLCIkJHRlc3RhYmlsaXR5IiwiJCRUZXN0YWJpbGl0eVByb3ZpZGVyIiwiJHRpbWVvdXQiLCIkVGltZW91dFByb3ZpZGVyIiwiJHdpbmRvdyIsIiRXaW5kb3dQcm92aWRlciIsIiQkckFGIiwiJCRSQUZQcm92aWRlciIsIiQkanFMaXRlIiwiJCRqcUxpdGVQcm92aWRlciIsIiQkTWFwIiwiJCRNYXBQcm92aWRlciIsIiQkY29va2llUmVhZGVyIiwiJCRDb29raWVSZWFkZXJQcm92aWRlciIsImFuZ3VsYXJWZXJzaW9uIiwianFOZXh0SWQiLCJqcUlkIiwiY3NzS2ViYWJUb0NhbWVsIiwia2ViYWJUb0NhbWVsIiwiTVNfSEFDS19SRUdFWFAiLCJmbkNhbWVsQ2FzZVJlcGxhY2UiLCJhbGwiLCJ0b1VwcGVyQ2FzZSIsIkRBU0hfTE9XRVJDQVNFX1JFR0VYUCIsImpxTGl0ZUlzVGV4dE5vZGUiLCJIVE1MX1JFR0VYUCIsImpxTGl0ZUFjY2VwdHNEYXRhIiwiTk9ERV9UWVBFX0VMRU1FTlQiLCJOT0RFX1RZUEVfRE9DVU1FTlQiLCJqcUxpdGVIYXNEYXRhIiwianFDYWNoZSIsIm5nMzM5IiwianFMaXRlQnVpbGRGcmFnbWVudCIsInRtcCIsIndyYXAiLCJmcmFnbWVudCIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJjcmVhdGVUZXh0Tm9kZSIsImFwcGVuZENoaWxkIiwiVEFHX05BTUVfUkVHRVhQIiwiZXhlYyIsIndyYXBNYXAiLCJfZGVmYXVsdCIsImlubmVySFRNTCIsIlhIVE1MX1RBR19SRUdFWFAiLCJsYXN0Q2hpbGQiLCJjaGlsZE5vZGVzIiwiZmlyc3RDaGlsZCIsInRleHRDb250ZW50IiwianFMaXRlUGFyc2VIVE1MIiwicGFyc2VkIiwiU0lOR0xFX1RBR19SRUdFWFAiLCJqcUxpdGVXcmFwTm9kZSIsIndyYXBwZXIiLCJwYXJlbnROb2RlIiwicmVwbGFjZUNoaWxkIiwiYXJnSXNTdHJpbmciLCJ0cmltIiwianFMaXRlTWluRXJyIiwianFMaXRlQWRkTm9kZXMiLCJqcUxpdGVSZWFkeSIsImpxTGl0ZUNsb25lIiwianFMaXRlRGVhbG9jIiwib25seURlc2NlbmRhbnRzIiwicXVlcnlTZWxlY3RvckFsbCIsImpxTGl0ZU9mZiIsInVuc3VwcG9ydGVkIiwiZXhwYW5kb1N0b3JlIiwianFMaXRlRXhwYW5kb1N0b3JlIiwiaGFuZGxlIiwicmVtb3ZlSGFuZGxlciIsImxpc3RlbmVyRm5zIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIk1PVVNFX0VWRU5UX01BUCIsImpxTGl0ZVJlbW92ZURhdGEiLCJleHBhbmRvSWQiLCJjcmVhdGVJZk5lY2Vzc2FyeSIsImpxTGl0ZURhdGEiLCJpc1NpbXBsZVNldHRlciIsImlzU2ltcGxlR2V0dGVyIiwibWFzc0dldHRlciIsImpxTGl0ZUhhc0NsYXNzIiwic2VsZWN0b3IiLCJqcUxpdGVSZW1vdmVDbGFzcyIsImNzc0NsYXNzZXMiLCJzZXRBdHRyaWJ1dGUiLCJjc3NDbGFzcyIsImpxTGl0ZUFkZENsYXNzIiwiZXhpc3RpbmdDbGFzc2VzIiwicm9vdCIsImVsZW1lbnRzIiwianFMaXRlQ29udHJvbGxlciIsImpxTGl0ZUluaGVyaXRlZERhdGEiLCJkb2N1bWVudEVsZW1lbnQiLCJuYW1lcyIsIk5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCIsImhvc3QiLCJqcUxpdGVFbXB0eSIsInJlbW92ZUNoaWxkIiwianFMaXRlUmVtb3ZlIiwia2VlcERhdGEiLCJqcUxpdGVEb2N1bWVudExvYWRlZCIsImFjdGlvbiIsIndpbiIsInJlYWR5U3RhdGUiLCJzZXRUaW1lb3V0IiwidHJpZ2dlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRCb29sZWFuQXR0ck5hbWUiLCJib29sZWFuQXR0ciIsIkJPT0xFQU5fQVRUUiIsIkJPT0xFQU5fRUxFTUVOVFMiLCJnZXRBbGlhc2VkQXR0ck5hbWUiLCJBTElBU0VEX0FUVFIiLCJjcmVhdGVFdmVudEhhbmRsZXIiLCJldmVudEhhbmRsZXIiLCJldmVudCIsImlzRGVmYXVsdFByZXZlbnRlZCIsImRlZmF1bHRQcmV2ZW50ZWQiLCJldmVudEZucyIsImV2ZW50Rm5zTGVuZ3RoIiwiaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkIiwib3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJzdG9wUHJvcGFnYXRpb24iLCJpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCIsImhhbmRsZXJXcmFwcGVyIiwic3BlY2lhbEhhbmRsZXJXcmFwcGVyIiwiZGVmYXVsdEhhbmRsZXJXcmFwcGVyIiwiaGFuZGxlciIsInNwZWNpYWxNb3VzZUhhbmRsZXJXcmFwcGVyIiwidGFyZ2V0IiwicmVsYXRlZCIsInJlbGF0ZWRUYXJnZXQiLCJqcUxpdGVDb250YWlucyIsIiRnZXQiLCJoYXNDbGFzcyIsImNsYXNzZXMiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiaGFzaEtleSIsIm5leHRVaWRGbiIsIm9ialR5cGUiLCJOZ01hcFNoaW0iLCJfa2V5cyIsIl92YWx1ZXMiLCJfbGFzdEtleSIsIl9sYXN0SW5kZXgiLCJzdHJpbmdpZnlGbiIsIkZ1bmN0aW9uIiwiZXh0cmFjdEFyZ3MiLCJmblRleHQiLCJTVFJJUF9DT01NRU5UUyIsIkFSUk9XX0FSRyIsIkZOX0FSR1MiLCJhbm9uRm4iLCJhbm5vdGF0ZSIsIiRpbmplY3QiLCJhcmdEZWNsIiwibGFzdCIsIkZOX0FSR19TUExJVCIsIkZOX0FSRyIsInVuZGVyc2NvcmUiLCJtb2R1bGVzVG9Mb2FkIiwic3VwcG9ydE9iamVjdCIsImRlbGVnYXRlIiwicHJvdmlkZXJfIiwicHJvdmlkZXJJbmplY3RvciIsImluc3RhbnRpYXRlIiwicHJvdmlkZXJDYWNoZSIsInByb3ZpZGVyU3VmZml4IiwiZW5mb3JjZVJldHVyblZhbHVlIiwicmVzdWx0IiwiaW5zdGFuY2VJbmplY3RvciIsImZhY3RvcnlGbiIsImVuZm9yY2UiLCIkaW5qZWN0b3IiLCJpbnN0YW5jZUNhY2hlIiwic2VydmljZU5hbWUiLCJkZWNvckZuIiwib3JpZ1Byb3ZpZGVyIiwib3JpZyRnZXQiLCJvcmlnSW5zdGFuY2UiLCIkZGVsZWdhdGUiLCJsb2FkTW9kdWxlcyIsIm1vZHVsZUZuIiwicnVuSW52b2tlUXVldWUiLCJpbnZva2VBcmdzIiwibG9hZGVkTW9kdWxlcyIsInN0YWNrIiwiY3JlYXRlSW50ZXJuYWxJbmplY3RvciIsImNhY2hlIiwiZ2V0U2VydmljZSIsImNhbGxlciIsIklOU1RBTlRJQVRJTkciLCJlcnIiLCJzaGlmdCIsImluamVjdGlvbkFyZ3MiLCJsb2NhbHMiLCIkJGFubm90YXRlIiwiaXNDbGFzcyIsImZ1bmMiLCJtc2llIiwiJCRuZ0lzQ2xhc3MiLCJUeXBlIiwiY3RvciIsImhhcyIsIk5nTWFwIiwicHJvdG9JbnN0YW5jZUluamVjdG9yIiwiYXV0b1Njcm9sbGluZ0VuYWJsZWQiLCJkaXNhYmxlQXV0b1Njcm9sbGluZyIsImdldEZpcnN0QW5jaG9yIiwibGlzdCIsInNvbWUiLCJnZXRZT2Zmc2V0Iiwib2Zmc2V0Iiwic2Nyb2xsIiwieU9mZnNldCIsInN0eWxlIiwiZ2V0Q29tcHV0ZWRTdHlsZSIsInBvc2l0aW9uIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiYm90dG9tIiwic2Nyb2xsVG8iLCJzY3JvbGxJbnRvVmlldyIsImVsZW1Ub3AiLCJ0b3AiLCJzY3JvbGxCeSIsImhhc2giLCJlbG0iLCJnZXRFbGVtZW50QnlJZCIsImdldEVsZW1lbnRzQnlOYW1lIiwibmV3VmFsIiwib2xkVmFsIiwibWVyZ2VDbGFzc2VzIiwiZXh0cmFjdEVsZW1lbnROb2RlIiwiRUxFTUVOVF9OT0RFIiwic3BsaXRDbGFzc2VzIiwia2xhc3MiLCJwcmVwYXJlQW5pbWF0ZU9wdGlvbnMiLCJvcHRpb25zIiwiQnJvd3NlciIsImNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0Iiwib3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQiLCJvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MiLCJwb3AiLCJnZXRIYXNoIiwidXJsIiwic3Vic3RyIiwiY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UiLCJwZW5kaW5nTG9jYXRpb24iLCJmaXJlU3RhdGVPclVybENoYW5nZSIsImNhY2hlU3RhdGUiLCJjYWNoZWRTdGF0ZSIsImdldEN1cnJlbnRTdGF0ZSIsImxhc3RDYWNoZWRTdGF0ZSIsImxhc3RIaXN0b3J5U3RhdGUiLCJwcmV2TGFzdEhpc3RvcnlTdGF0ZSIsImxhc3RCcm93c2VyVXJsIiwidXJsQ2hhbmdlTGlzdGVuZXJzIiwibGlzdGVuZXIiLCJoaXN0b3J5IiwiY2xlYXJUaW1lb3V0IiwicGVuZGluZ0RlZmVySWRzIiwiaXNNb2NrIiwiJCRjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdCIsIiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQiLCJub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzIiwiY2FsbGJhY2siLCJiYXNlRWxlbWVudCIsInN0YXRlIiwic2FtZVN0YXRlIiwic2FtZUJhc2UiLCJzdHJpcEhhc2giLCJ1cmxDaGFuZ2VJbml0Iiwib25VcmxDaGFuZ2UiLCIkJGFwcGxpY2F0aW9uRGVzdHJveWVkIiwib2ZmIiwiJCRjaGVja1VybENoYW5nZSIsImJhc2VIcmVmIiwiZGVmZXIiLCJkZWxheSIsInRpbWVvdXRJZCIsImNhbmNlbCIsImRlZmVySWQiLCJjYWNoZUZhY3RvcnkiLCJjYWNoZUlkIiwicmVmcmVzaCIsImVudHJ5IiwiZnJlc2hFbmQiLCJzdGFsZUVuZCIsIm4iLCJwIiwibmV4dEVudHJ5IiwicHJldkVudHJ5IiwiY2FjaGVzIiwic2l6ZSIsInN0YXRzIiwiaWQiLCJjYXBhY2l0eSIsIk51bWJlciIsIk1BWF9WQUxVRSIsImxydUhhc2giLCJwdXQiLCJscnVFbnRyeSIsInJlbW92ZSIsInJlbW92ZUFsbCIsImRlc3Ryb3kiLCJVTklOSVRJQUxJWkVEX1ZBTFVFIiwiJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIiwicGFyc2VJc29sYXRlQmluZGluZ3MiLCJkaXJlY3RpdmVOYW1lIiwiaXNDb250cm9sbGVyIiwiTE9DQUxfUkVHRVhQIiwiYmluZGluZ3MiLCJkZWZpbml0aW9uIiwic2NvcGVOYW1lIiwiYmluZGluZ0NhY2hlIiwiJGNvbXBpbGVNaW5FcnIiLCJtb2RlIiwiY29sbGVjdGlvbiIsIm9wdGlvbmFsIiwiYXR0ck5hbWUiLCJwYXJzZURpcmVjdGl2ZUJpbmRpbmdzIiwiYmluZFRvQ29udHJvbGxlciIsImFzc2VydFZhbGlkRGlyZWN0aXZlTmFtZSIsImdldERpcmVjdGl2ZVJlcXVpcmUiLCJyZXF1aXJlIiwiUkVRVUlSRV9QUkVGSVhfUkVHRVhQIiwiZ2V0RGlyZWN0aXZlUmVzdHJpY3QiLCJyZXN0cmljdCIsImhhc0RpcmVjdGl2ZXMiLCJTdWZmaXgiLCJDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAiLCJDTEFTU19ESVJFQ1RJVkVfUkVHRVhQIiwiQUxMX09SX05PVEhJTkdfQVRUUlMiLCJFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQIiwicmVnaXN0ZXJEaXJlY3RpdmUiLCJkaXJlY3RpdmVGYWN0b3J5IiwiZGlyZWN0aXZlcyIsInByaW9yaXR5IiwicmVnaXN0ZXJDb21wb25lbnQiLCJtYWtlSW5qZWN0YWJsZSIsInRFbGVtZW50IiwidEF0dHJzIiwiJGVsZW1lbnQiLCIkYXR0cnMiLCJ0ZW1wbGF0ZVVybCIsImRkbyIsImNvbnRyb2xsZXJBcyIsImlkZW50aWZpZXJGb3JDb250cm9sbGVyIiwidHJhbnNjbHVkZSIsImFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwicmVnZXhwIiwiaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0IiwiZW5hYmxlZCIsInByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZCIsInN0cmljdENvbXBvbmVudEJpbmRpbmdzRW5hYmxlZCIsIlRUTCIsIm9uQ2hhbmdlc1R0bCIsImNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZENvbmZpZyIsImNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZCIsImNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWciLCJjc3NDbGFzc0RpcmVjdGl2ZXNFbmFibGVkIiwiZmx1c2hPbkNoYW5nZXNRdWV1ZSIsIm9uQ2hhbmdlc1F1ZXVlIiwiZXJyb3JzIiwiQXR0cmlidXRlcyIsImF0dHJpYnV0ZXNUb0NvcHkiLCJsIiwiJGF0dHIiLCIkJGVsZW1lbnQiLCJzZXRTcGVjaWFsQXR0ciIsInNwZWNpYWxBdHRySG9sZGVyIiwiYXR0cmlidXRlIiwicmVtb3ZlTmFtZWRJdGVtIiwic2V0TmFtZWRJdGVtIiwic2FmZUFkZENsYXNzIiwiY2xhc3NOYW1lIiwiJGNvbXBpbGVOb2RlcyIsInRyYW5zY2x1ZGVGbiIsIm1heFByaW9yaXR5IiwiaWdub3JlRGlyZWN0aXZlIiwicHJldmlvdXNDb21waWxlQ29udGV4dCIsImNvbXBvc2l0ZUxpbmtGbiIsImNvbXBpbGVOb2RlcyIsIiQkYWRkU2NvcGVDbGFzcyIsIm5hbWVzcGFjZSIsImNsb25lQ29ubmVjdEZuIiwibmVlZHNOZXdTY29wZSIsIiRwYXJlbnQiLCIkbmV3IiwicGFyZW50Qm91bmRUcmFuc2NsdWRlRm4iLCJ0cmFuc2NsdWRlQ29udHJvbGxlcnMiLCJmdXR1cmVQYXJlbnRFbGVtZW50IiwiJCRib3VuZFRyYW5zY2x1ZGUiLCJkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzIiwiJGxpbmtOb2RlIiwid3JhcFRlbXBsYXRlIiwiY29udHJvbGxlck5hbWUiLCJpbnN0YW5jZSIsIiQkYWRkU2NvcGVJbmZvIiwicGFyZW50RWxlbWVudCIsIm5vZGVMaXN0IiwiJHJvb3RFbGVtZW50Iiwibm9kZUxpbmtGbiIsImNoaWxkTGlua0ZuIiwiY2hpbGRTY29wZSIsImlkeCIsImNoaWxkQm91bmRUcmFuc2NsdWRlRm4iLCJzdGFibGVOb2RlTGlzdCIsIm5vZGVMaW5rRm5Gb3VuZCIsIm5vZGVMaXN0TGVuZ3RoIiwibGlua0ZucyIsInRyYW5zY2x1ZGVPblRoaXNFbGVtZW50IiwiY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4iLCJ0ZW1wbGF0ZU9uVGhpc0VsZW1lbnQiLCJhdHRycyIsImxpbmtGbkZvdW5kIiwibm90TGl2ZUxpc3QiLCJtZXJnZUNvbnNlY3V0aXZlVGV4dE5vZGVzIiwiY29sbGVjdERpcmVjdGl2ZXMiLCJhcHBseURpcmVjdGl2ZXNUb05vZGUiLCJ0ZXJtaW5hbCIsInNpYmxpbmciLCJub2RlVmFsdWUiLCJwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuIiwiYm91bmRUcmFuc2NsdWRlRm4iLCJ0cmFuc2NsdWRlZFNjb3BlIiwiY2xvbmVGbiIsImNvbnRyb2xsZXJzIiwiY29udGFpbmluZ1Njb3BlIiwiJCR0cmFuc2NsdWRlZCIsImJvdW5kU2xvdHMiLCIkJHNsb3RzIiwic2xvdE5hbWUiLCJhdHRyc01hcCIsImFkZERpcmVjdGl2ZSIsImRpcmVjdGl2ZU5vcm1hbGl6ZSIsIm5OYW1lIiwibmdBdHRyTmFtZSIsImlzTmdBdHRyIiwibkF0dHJzIiwiYXR0clN0YXJ0TmFtZSIsImF0dHJFbmROYW1lIiwiTkdfQVRUUl9CSU5ESU5HIiwiUFJFRklYX1JFR0VYUCIsIm11bHRpRWxlbWVudE1hdGNoIiwiTVVMVElfRUxFTUVOVF9ESVJfUkUiLCJkaXJlY3RpdmVJc011bHRpRWxlbWVudCIsImFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZSIsImFuaW1WYWwiLCJhZGRUZXh0SW50ZXJwb2xhdGVEaXJlY3RpdmUiLCJOT0RFX1RZUEVfQ09NTUVOVCIsImNvbGxlY3RDb21tZW50RGlyZWN0aXZlcyIsImJ5UHJpb3JpdHkiLCJncm91cFNjYW4iLCJhdHRyU3RhcnQiLCJhdHRyRW5kIiwiZGVwdGgiLCJncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlciIsImxpbmtGbiIsImNvbXBpbGF0aW9uR2VuZXJhdG9yIiwiZWFnZXIiLCJjb21waWxlZCIsImNvbXBpbGVOb2RlIiwidGVtcGxhdGVBdHRycyIsImpxQ29sbGVjdGlvbiIsIm9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSIsInByZUxpbmtGbnMiLCJwb3N0TGlua0ZucyIsImFkZExpbmtGbnMiLCJwcmUiLCJwb3N0IiwibmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIiwiJCRpc29sYXRlU2NvcGUiLCJjbG9uZUFuZEFubm90YXRlRm4iLCJsaW5rTm9kZSIsImNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlIiwiY2xvbmVBdHRhY2hGbiIsImhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlIiwiZWxlbWVudENvbnRyb2xsZXJzIiwic2NvcGVUb0NoaWxkIiwic2xvdFRyYW5zY2x1ZGVGbiIsImNvbnRyb2xsZXJTY29wZSIsInNjb3BlQmluZGluZ0luZm8iLCJuZXdTY29wZURpcmVjdGl2ZSIsImlzU2xvdEZpbGxlZCIsImNvbnRyb2xsZXJEaXJlY3RpdmVzIiwic2V0dXBDb250cm9sbGVycyIsInRlbXBsYXRlRGlyZWN0aXZlIiwiJCRvcmlnaW5hbERpcmVjdGl2ZSIsIiQkaXNvbGF0ZUJpbmRpbmdzIiwiaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzIiwicmVtb3ZlV2F0Y2hlcyIsIiRvbiIsImNvbnRyb2xsZXJEaXJlY3RpdmUiLCIkJGJpbmRpbmdzIiwiYmluZGluZ0luZm8iLCJjb250cm9sbGVyUmVzdWx0IiwiZ2V0Q29udHJvbGxlcnMiLCJjb250cm9sbGVySW5zdGFuY2UiLCIkb25DaGFuZ2VzIiwiaW5pdGlhbENoYW5nZXMiLCIkb25Jbml0IiwiJGRvQ2hlY2siLCIkb25EZXN0cm95IiwiaW52b2tlTGlua0ZuIiwiJHBvc3RMaW5rIiwiJHRlbXBsYXRlIiwiZGlyZWN0aXZlVmFsdWUiLCJ0ZXJtaW5hbFByaW9yaXR5Iiwibm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSIsImhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUiLCJoYXNUZW1wbGF0ZSIsIiRjb21waWxlTm9kZSIsInJlcGxhY2VEaXJlY3RpdmUiLCJjaGlsZFRyYW5zY2x1ZGVGbiIsImRpZFNjYW5Gb3JNdWx0aXBsZVRyYW5zY2x1c2lvbiIsIm1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IiLCIkJHN0YXJ0IiwiJCRlbmQiLCJhc3NlcnROb0R1cGxpY2F0ZSIsIiQkdGxiIiwiY2FuZGlkYXRlRGlyZWN0aXZlIiwic2Nhbm5pbmdJbmRleCIsIiQkY3JlYXRlQ29tbWVudCIsInJlcGxhY2VXaXRoIiwiJCRwYXJlbnROb2RlIiwic2xvdHMiLCJzbG90TWFwIiwiZmlsbGVkU2xvdHMiLCJlbGVtZW50U2VsZWN0b3IiLCJjb250ZW50cyIsImZpbGxlZCIsIiQkbmV3U2NvcGUiLCJkZW5vcm1hbGl6ZVRlbXBsYXRlIiwicmVtb3ZlQ29tbWVudHMiLCJ0ZW1wbGF0ZU5hbWVzcGFjZSIsIm5ld1RlbXBsYXRlQXR0cnMiLCJ0ZW1wbGF0ZURpcmVjdGl2ZXMiLCJ1bnByb2Nlc3NlZERpcmVjdGl2ZXMiLCJtYXJrRGlyZWN0aXZlU2NvcGUiLCJtZXJnZVRlbXBsYXRlQXR0cmlidXRlcyIsImNvbXBpbGVUZW1wbGF0ZVVybCIsIk1hdGgiLCJtYXgiLCJpbmhlcml0VHlwZSIsImRhdGFOYW1lIiwicHJvcGVydHkiLCJjb250cm9sbGVyS2V5IiwiJHNjb3BlIiwiJHRyYW5zY2x1ZGUiLCJuZXdTY29wZSIsInREaXJlY3RpdmVzIiwic3RhcnRBdHRyTmFtZSIsImVuZEF0dHJOYW1lIiwibXVsdGlFbGVtZW50Iiwic3JjQXR0ciIsImRzdEF0dHIiLCIkc2V0IiwiYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4iLCJhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4iLCJsaW5rUXVldWUiLCJiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlIiwib3JpZ0FzeW5jRGlyZWN0aXZlIiwiZGVyaXZlZFN5bmNEaXJlY3RpdmUiLCJjb250ZW50IiwidGVtcFRlbXBsYXRlQXR0cnMiLCJiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlIiwibGlua1Jvb3RFbGVtZW50IiwiJCRkZXN0cm95ZWQiLCJvbGRDbGFzc2VzIiwiaWdub3JlQ2hpbGRMaW5rRm4iLCJkaWZmIiwid2hhdCIsInByZXZpb3VzRGlyZWN0aXZlIiwid3JhcE1vZHVsZU5hbWVJZkRlZmluZWQiLCJtb2R1bGVOYW1lIiwidGV4dCIsImludGVycG9sYXRlRm4iLCJ0ZW1wbGF0ZU5vZGUiLCJ0ZW1wbGF0ZU5vZGVQYXJlbnQiLCJoYXNDb21waWxlUGFyZW50IiwiJCRhZGRCaW5kaW5nQ2xhc3MiLCIkJGFkZEJpbmRpbmdJbmZvIiwiZXhwcmVzc2lvbnMiLCJnZXRUcnVzdGVkQ29udGV4dCIsImF0dHJOb3JtYWxpemVkTmFtZSIsIkhUTUwiLCJSRVNPVVJDRV9VUkwiLCJ0cnVzdGVkQ29udGV4dCIsIm11c3RIYXZlRXhwcmVzc2lvbiIsImFsbE9yTm90aGluZyIsIiQkb2JzZXJ2ZXJzIiwibmV3VmFsdWUiLCIkJGludGVyIiwiJCRzY29wZSIsIm9sZFZhbHVlIiwiJHVwZGF0ZUNsYXNzIiwiZWxlbWVudHNUb1JlbW92ZSIsIm5ld05vZGUiLCJmaXJzdEVsZW1lbnRUb1JlbW92ZSIsInJlbW92ZUNvdW50IiwiajIiLCJoYXNEYXRhIiwiYW5ub3RhdGlvbiIsInN0cmljdEJpbmRpbmdzQ2hlY2siLCJyZWNvcmRDaGFuZ2VzIiwiY3VycmVudFZhbHVlIiwicHJldmlvdXNWYWx1ZSIsIiQkcG9zdERpZ2VzdCIsImNoYW5nZXMiLCJ0cmlnZ2VyT25DaGFuZ2VzSG9vayIsIlNpbXBsZUNoYW5nZSIsInJlbW92ZVdhdGNoQ29sbGVjdGlvbiIsImxhc3RWYWx1ZSIsInBhcmVudEdldCIsInBhcmVudFNldCIsImNvbXBhcmUiLCJyZW1vdmVXYXRjaCIsIiRvYnNlcnZlIiwiX1VOSU5JVElBTElaRURfVkFMVUUiLCJsaXRlcmFsIiwiYXNzaWduIiwicGFyZW50VmFsdWVXYXRjaCIsInBhcmVudFZhbHVlIiwiJHN0YXRlZnVsIiwiJHdhdGNoQ29sbGVjdGlvbiIsImRlZXBXYXRjaCIsImluaXRpYWxWYWx1ZSIsIlNJTVBMRV9BVFRSX05BTUUiLCIkbm9ybWFsaXplIiwiJGFkZENsYXNzIiwiY2xhc3NWYWwiLCIkcmVtb3ZlQ2xhc3MiLCJuZXdDbGFzc2VzIiwidG9BZGQiLCJ0b2tlbkRpZmZlcmVuY2UiLCJ0b1JlbW92ZSIsIndyaXRlQXR0ciIsImJvb2xlYW5LZXkiLCJhbGlhc2VkS2V5Iiwib2JzZXJ2ZXIiLCJ0cmltbWVkU3Jjc2V0Iiwic3JjUGF0dGVybiIsInJhd1VyaXMiLCJuYnJVcmlzV2l0aDJwYXJ0cyIsImZsb29yIiwiaW5uZXJJZHgiLCJsYXN0VHVwbGUiLCJyZW1vdmVBdHRyIiwibGlzdGVuZXJzIiwic3RhcnRTeW1ib2wiLCJlbmRTeW1ib2wiLCJiaW5kaW5nIiwiaXNvbGF0ZWQiLCJub1RlbXBsYXRlIiwiY29tbWVudCIsImNyZWF0ZUNvbW1lbnQiLCJwcmV2aW91cyIsImN1cnJlbnQiLCJTUEVDSUFMX0NIQVJTX1JFR0VYUCIsInN0cjEiLCJzdHIyIiwidmFsdWVzIiwidG9rZW5zMSIsInRva2VuczIiLCJvdXRlciIsInRva2VuIiwianFOb2RlcyIsImlkZW50IiwiQ05UUkxfUkVHIiwiZ2xvYmFscyIsInJlZ2lzdGVyIiwiYWxsb3dHbG9iYWxzIiwiYWRkSWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJleHByZXNzaW9uIiwibGF0ZXIiLCIkY29udHJvbGxlck1pbkVyciIsImNvbnRyb2xsZXJQcm90b3R5cGUiLCJjaGFuZ2VMaXN0ZW5lciIsImhpZGRlbiIsImRvYyIsImV4Y2VwdGlvbiIsImNhdXNlIiwic2VyaWFsaXplVmFsdWUiLCJ2IiwidG9JU09TdHJpbmciLCJwYXJhbXMiLCJzZXJpYWxpemUiLCJ0b1NlcmlhbGl6ZSIsInRvcExldmVsIiwiZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybSIsImhlYWRlcnMiLCJ0ZW1wRGF0YSIsIkpTT05fUFJPVEVDVElPTl9QUkVGSVgiLCJjb250ZW50VHlwZSIsImhhc0pzb25Db250ZW50VHlwZSIsIkFQUExJQ0FUSU9OX0pTT04iLCJpc0pzb25MaWtlIiwiJGh0dHBNaW5FcnIiLCJqc29uU3RhcnQiLCJKU09OX1NUQVJUIiwiSlNPTl9FTkRTIiwicGFyc2VIZWFkZXJzIiwiZmlsbEluUGFyc2VkIiwibGluZSIsImhlYWRlclZhbCIsImhlYWRlcktleSIsImhlYWRlcnNHZXR0ZXIiLCJoZWFkZXJzT2JqIiwidHJhbnNmb3JtRGF0YSIsInN0YXR1cyIsImZucyIsImlzU3VjY2VzcyIsImRlZmF1bHRzIiwidHJhbnNmb3JtUmVzcG9uc2UiLCJ0cmFuc2Zvcm1SZXF1ZXN0IiwiZCIsImNvbW1vbiIsIkFjY2VwdCIsIkNPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OIiwicGF0Y2giLCJ4c3JmQ29va2llTmFtZSIsInhzcmZIZWFkZXJOYW1lIiwicGFyYW1TZXJpYWxpemVyIiwianNvbnBDYWxsYmFja1BhcmFtIiwidXNlQXBwbHlBc3luYyIsImludGVyY2VwdG9yRmFjdG9yaWVzIiwiaW50ZXJjZXB0b3JzIiwicmVxdWVzdENvbmZpZyIsImNoYWluSW50ZXJjZXB0b3JzIiwicHJvbWlzZSIsInRoZW5GbiIsInJlamVjdEZuIiwiZXhlY3V0ZUhlYWRlckZucyIsImhlYWRlckNvbnRlbnQiLCJwcm9jZXNzZWRIZWFkZXJzIiwiaGVhZGVyRm4iLCJoZWFkZXIiLCJtZXJnZUhlYWRlcnMiLCJkZWZIZWFkZXJOYW1lIiwibG93ZXJjYXNlRGVmSGVhZGVyTmFtZSIsInJlcUhlYWRlck5hbWUiLCJkZWZIZWFkZXJzIiwicmVxSGVhZGVycyIsImRlZmF1bHRIZWFkZXJzSXRlcmF0aW9uIiwic2VydmVyUmVxdWVzdCIsInJlcURhdGEiLCJ3aXRoQ3JlZGVudGlhbHMiLCJzZW5kUmVxIiwicmVzcG9uc2UiLCJyZXNwIiwicmVqZWN0IiwicmVxdWVzdEludGVyY2VwdG9ycyIsInJlc3BvbnNlSW50ZXJjZXB0b3JzIiwicmVzb2x2ZSIsInJldmVyc2VkSW50ZXJjZXB0b3JzIiwiaW50ZXJjZXB0b3IiLCJyZXF1ZXN0IiwicmVxdWVzdEVycm9yIiwicmVzcG9uc2VFcnJvciIsImNyZWF0ZVNob3J0TWV0aG9kcyIsImNyZWF0ZVNob3J0TWV0aG9kc1dpdGhEYXRhIiwiY3JlYXRlQXBwbHlIYW5kbGVycyIsImV2ZW50SGFuZGxlcnMiLCJhcHBseUhhbmRsZXJzIiwiY2FsbEV2ZW50SGFuZGxlciIsIiRhcHBseUFzeW5jIiwiJCRwaGFzZSIsImRvbmUiLCJoZWFkZXJzU3RyaW5nIiwic3RhdHVzVGV4dCIsInhoclN0YXR1cyIsInJlc29sdmVIdHRwUHJvbWlzZSIsInJlc29sdmVQcm9taXNlIiwiZGVmZXJyZWQiLCJyZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQiLCJyZW1vdmVQZW5kaW5nUmVxIiwicGVuZGluZ1JlcXVlc3RzIiwiY2FjaGVkUmVzcCIsImlzSnNvbnAiLCJnZXRUcnVzdGVkUmVzb3VyY2VVcmwiLCJidWlsZFVybCIsInNhbml0aXplSnNvbnBDYWxsYmFja1BhcmFtIiwiZGVmYXVsdENhY2hlIiwieHNyZlZhbHVlIiwidXJsSXNTYW1lT3JpZ2luIiwidGltZW91dCIsInJlc3BvbnNlVHlwZSIsInVwbG9hZEV2ZW50SGFuZGxlcnMiLCJzZXJpYWxpemVkUGFyYW1zIiwiY2FsbGJhY2tQYXJhbVJlZ2V4IiwiaW50ZXJjZXB0b3JGYWN0b3J5IiwiWE1MSHR0cFJlcXVlc3QiLCJjcmVhdGVIdHRwQmFja2VuZCIsImNyZWF0ZVhociIsIiRicm93c2VyRGVmZXIiLCJyYXdEb2N1bWVudCIsImpzb25wUmVxIiwiY2FsbGJhY2tQYXRoIiwiX2NhbGxiYWNrIiwiYXN5bmMiLCJib2R5Iiwid2FzQ2FsbGVkIiwidGltZW91dFJlcXVlc3QiLCJqc29ucERvbmUiLCJ4aHIiLCJhYm9ydCIsImNvbXBsZXRlUmVxdWVzdCIsImNyZWF0ZUNhbGxiYWNrIiwiZ2V0UmVzcG9uc2UiLCJyZW1vdmVDYWxsYmFjayIsIm9wZW4iLCJzZXRSZXF1ZXN0SGVhZGVyIiwib25sb2FkIiwicmVzcG9uc2VUZXh0IiwidXJsUmVzb2x2ZSIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlcXVlc3RBYm9ydGVkIiwicmVxdWVzdFRpbWVvdXQiLCJvbmVycm9yIiwib25hYm9ydCIsIm9udGltZW91dCIsInVwbG9hZCIsInNlbmQiLCJlc2NhcGUiLCJjaCIsInVuZXNjYXBlVGV4dCIsImVzY2FwZWRTdGFydFJlZ2V4cCIsImVzY2FwZWRFbmRSZWdleHAiLCJjb25zdGFudFdhdGNoRGVsZWdhdGUiLCJvYmplY3RFcXVhbGl0eSIsImNvbnN0YW50SW50ZXJwIiwidW53YXRjaCIsInBhcnNlU3RyaW5naWZ5SW50ZXJjZXB0b3IiLCJnZXRWYWx1ZSIsIiRpbnRlcnBvbGF0ZU1pbkVyciIsImludGVyciIsInVuZXNjYXBlZFRleHQiLCJleHAiLCIkJHdhdGNoRGVsZWdhdGUiLCJlbmRJbmRleCIsInBhcnNlRm5zIiwidGV4dExlbmd0aCIsImV4cHJlc3Npb25Qb3NpdGlvbnMiLCJzdGFydFN5bWJvbExlbmd0aCIsImVuZFN5bWJvbExlbmd0aCIsInRocm93Tm9jb25jYXQiLCJjb21wdXRlIiwiZ2V0VHJ1c3RlZCIsIiR3YXRjaEdyb3VwIiwib2xkVmFsdWVzIiwiY3VyclZhbHVlIiwiaW50ZXJ2YWwiLCJjb3VudCIsImludm9rZUFwcGx5IiwiaGFzUGFyYW1zIiwiaXRlcmF0aW9uIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic2tpcEFwcGx5IiwiJCRpbnRlcnZhbElkIiwibm90aWZ5IiwiaW50ZXJ2YWxzIiwibWFya1FFeGNlcHRpb25IYW5kbGVkIiwiZW5jb2RlUGF0aCIsInNlZ21lbnRzIiwicGFyc2VBYnNvbHV0ZVVybCIsImFic29sdXRlVXJsIiwibG9jYXRpb25PYmoiLCJwYXJzZWRVcmwiLCIkJHByb3RvY29sIiwiJCRob3N0IiwiaG9zdG5hbWUiLCIkJHBvcnQiLCJwb3J0IiwiREVGQVVMVF9QT1JUUyIsInBhcnNlQXBwVXJsIiwiRE9VQkxFX1NMQVNIX1JFR0VYIiwiJGxvY2F0aW9uTWluRXJyIiwicHJlZml4ZWQiLCIkJHBhdGgiLCJwYXRobmFtZSIsIiQkc2VhcmNoIiwic2VhcmNoIiwiJCRoYXNoIiwic3RhcnRzV2l0aCIsInN0cmlwQmFzZVVybCIsImJhc2UiLCJ0cmltRW1wdHlIYXNoIiwic3RyaXBGaWxlIiwibGFzdEluZGV4T2YiLCJzZXJ2ZXJCYXNlIiwiTG9jYXRpb25IdG1sNVVybCIsImFwcEJhc2UiLCJhcHBCYXNlTm9GaWxlIiwiYmFzZVByZWZpeCIsIiQkaHRtbDUiLCIkJHBhcnNlIiwicGF0aFVybCIsIiQkY29tcG9zZSIsIiQkdXJsIiwiJCRhYnNVcmwiLCIkJHVybFVwZGF0ZWRCeUxvY2F0aW9uIiwiJCRwYXJzZUxpbmtVcmwiLCJyZWxIcmVmIiwiYXBwVXJsIiwicHJldkFwcFVybCIsInJld3JpdHRlblVybCIsIkxvY2F0aW9uSGFzaGJhbmdVcmwiLCJoYXNoUHJlZml4IiwicmVtb3ZlV2luZG93c0RyaXZlTmFtZSIsImZpcnN0UGF0aFNlZ21lbnRNYXRjaCIsIndpbmRvd3NGaWxlUGF0aEV4cCIsIndpdGhvdXRIYXNoVXJsIiwid2l0aG91dEJhc2VVcmwiLCJMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCIsImxvY2F0aW9uR2V0dGVyIiwibG9jYXRpb25HZXR0ZXJTZXR0ZXIiLCJwcmVwcm9jZXNzIiwiaHRtbDVNb2RlIiwicmVxdWlyZUJhc2UiLCJyZXdyaXRlTGlua3MiLCJzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrIiwib2xkVXJsIiwib2xkU3RhdGUiLCIkJHN0YXRlIiwiYWZ0ZXJMb2NhdGlvbkNoYW5nZSIsIiRicm9hZGNhc3QiLCJhYnNVcmwiLCJMb2NhdGlvbk1vZGUiLCJpbml0aWFsVXJsIiwiSUdOT1JFX1VSSV9SRUdFWFAiLCJjdHJsS2V5IiwibWV0YUtleSIsInNoaWZ0S2V5Iiwid2hpY2giLCJidXR0b24iLCJhYnNIcmVmIiwicHJldmVudERlZmF1bHQiLCJpbml0aWFsaXppbmciLCJuZXdVcmwiLCJuZXdTdGF0ZSIsIiRkaWdlc3QiLCJjdXJyZW50UmVwbGFjZSIsIiQkcmVwbGFjZSIsInVybE9yU3RhdGVDaGFuZ2VkIiwiZGVidWciLCJkZWJ1Z0VuYWJsZWQiLCJmbGFnIiwiZm9ybWF0RXJyb3IiLCJmb3JtYXRTdGFja1RyYWNlIiwic291cmNlVVJMIiwiY29uc29sZUxvZyIsImxvZ0ZuIiwibG9nIiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwid2FybiIsImdldFN0cmluZ1ZhbHVlIiwiaWZEZWZpbmVkIiwicGx1c0ZuIiwiciIsImlzU3RhdGVsZXNzIiwiZmlsdGVyTmFtZSIsImlzUHVyZSIsInBhcmVudElzUHVyZSIsIkFTVCIsIk1lbWJlckV4cHJlc3Npb24iLCJjb21wdXRlZCIsIlVuYXJ5RXhwcmVzc2lvbiIsIlBVUklUWV9BQlNPTFVURSIsIkJpbmFyeUV4cHJlc3Npb24iLCJvcGVyYXRvciIsIkNhbGxFeHByZXNzaW9uIiwiUFVSSVRZX1JFTEFUSVZFIiwiZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyIsImFzdCIsImFsbENvbnN0YW50cyIsImFyZ3NUb1dhdGNoIiwiaXNTdGF0ZWxlc3NGaWx0ZXIiLCJhc3RJc1B1cmUiLCJQcm9ncmFtIiwiZXhwciIsIkxpdGVyYWwiLCJ0b1dhdGNoIiwiYXJndW1lbnQiLCJsZWZ0IiwicmlnaHQiLCJMb2dpY2FsRXhwcmVzc2lvbiIsIkNvbmRpdGlvbmFsRXhwcmVzc2lvbiIsImFsdGVybmF0ZSIsImNvbnNlcXVlbnQiLCJJZGVudGlmaWVyIiwib2JqZWN0IiwiY2FsbGVlIiwiQXNzaWdubWVudEV4cHJlc3Npb24iLCJBcnJheUV4cHJlc3Npb24iLCJPYmplY3RFeHByZXNzaW9uIiwicHJvcGVydGllcyIsIlRoaXNFeHByZXNzaW9uIiwiTG9jYWxzRXhwcmVzc2lvbiIsImdldElucHV0cyIsImxhc3RFeHByZXNzaW9uIiwiaXNBc3NpZ25hYmxlIiwiYXNzaWduYWJsZUFTVCIsIk5HVmFsdWVQYXJhbWV0ZXIiLCJpc0xpdGVyYWwiLCJpc0NvbnN0YW50IiwiQVNUQ29tcGlsZXIiLCJBU1RJbnRlcnByZXRlciIsIlBhcnNlciIsImxleGVyIiwiYXN0Q29tcGlsZXIiLCJnZXRWYWx1ZU9mIiwib2JqZWN0VmFsdWVPZiIsImlkZW50U3RhcnQiLCJpZGVudENvbnRpbnVlIiwibGl0ZXJhbHMiLCJ0cnVlIiwiZmFsc2UiLCJudWxsIiwiYWRkTGl0ZXJhbCIsImxpdGVyYWxOYW1lIiwibGl0ZXJhbFZhbHVlIiwic2V0SWRlbnRpZmllckZucyIsImlkZW50aWZpZXJTdGFydCIsImlkZW50aWZpZXJDb250aW51ZSIsImludGVyY2VwdG9yRm4iLCJwYXJzZWRFeHByZXNzaW9uIiwib25lVGltZSIsImNhY2hlS2V5IiwiTGV4ZXIiLCIkcGFyc2VPcHRpb25zIiwicGFyc2VyIiwib25lVGltZUxpdGVyYWxXYXRjaERlbGVnYXRlIiwib25lVGltZVdhdGNoRGVsZWdhdGUiLCJpbnB1dHMiLCJpbnB1dHNXYXRjaERlbGVnYXRlIiwiYWRkSW50ZXJjZXB0b3IiLCJleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrIiwib2xkVmFsdWVPZlZhbHVlIiwiY29tcGFyZU9iamVjdElkZW50aXR5IiwicHJldHR5UHJpbnRFeHByZXNzaW9uIiwibGFzdFJlc3VsdCIsImlucHV0RXhwcmVzc2lvbnMiLCJvbGRJbnB1dFZhbHVlT2YiLCJuZXdJbnB1dFZhbHVlIiwib2xkSW5wdXRWYWx1ZU9mVmFsdWVzIiwib2xkSW5wdXRWYWx1ZXMiLCJjaGFuZ2VkIiwib25lVGltZVdhdGNoIiwib25lVGltZUxpc3RlbmVyIiwib2xkIiwiaXNBbGxEZWZpbmVkIiwiYWxsRGVmaW5lZCIsIndhdGNoRGVsZWdhdGUiLCJ1c2VJbnB1dHMiLCJyZWd1bGFyV2F0Y2giLCJzIiwibm9VbnNhZmVFdmFsIiwiaXNJZGVudGlmaWVyU3RhcnQiLCJpc0lkZW50aWZpZXJDb250aW51ZSIsImVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zIiwicUZhY3RvcnkiLCJuZXh0VGljayIsImV4Y2VwdGlvbkhhbmRsZXIiLCJEZWZlcnJlZCIsIlByb21pc2UiLCJyZWplY3RQcm9taXNlIiwicHJvZ3Jlc3MiLCJub3RpZnlQcm9taXNlIiwicHJvY2Vzc1F1ZXVlIiwicGVuZGluZyIsInByb2Nlc3NTY2hlZHVsZWQiLCJtYXJrUVN0YXRlRXhjZXB0aW9uSGFuZGxlZCIsInF1ZXVlU2l6ZSIsInByb2Nlc3NDaGVja3MiLCJjaGVja1F1ZXVlIiwidG9DaGVjayIsImlzU3RhdGVFeGNlcHRpb25IYW5kbGVkIiwiZXJyb3JNZXNzYWdlIiwic2NoZWR1bGVQcm9jZXNzUXVldWUiLCIkJHJlamVjdCIsIiRxTWluRXJyIiwiJCRyZXNvbHZlIiwiZG9SZXNvbHZlIiwiZG9SZWplY3QiLCJkb05vdGlmeSIsImhhbmRsZUNhbGxiYWNrIiwicmVzb2x2ZXIiLCJjYWxsYmFja091dHB1dCIsIndoZW4iLCJlcnJiYWNrIiwicHJvZ3Jlc3NCYWNrIiwicHJvbWlzZXMiLCJjb3VudGVyIiwicmVzdWx0cyIsInJhY2UiLCIkUSIsInJlc29sdmVGbiIsIlR5cGVFcnJvciIsIm9uRnVsZmlsbGVkIiwib25SZWplY3RlZCIsImNhdGNoIiwiZmluYWxseSIsInB1ciIsInEiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ3ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicmFmU3VwcG9ydGVkIiwicmFmIiwidGltZXIiLCJzdXBwb3J0ZWQiLCJjcmVhdGVDaGlsZFNjb3BlQ2xhc3MiLCJDaGlsZFNjb3BlIiwiJCR3YXRjaGVycyIsIiQkbmV4dFNpYmxpbmciLCIkJGNoaWxkSGVhZCIsIiQkY2hpbGRUYWlsIiwiJCRsaXN0ZW5lcnMiLCIkJGxpc3RlbmVyQ291bnQiLCIkJHdhdGNoZXJzQ291bnQiLCIkaWQiLCIkJENoaWxkU2NvcGUiLCIkcm9vdFNjb3BlTWluRXJyIiwibGFzdERpcnR5V2F0Y2giLCJhcHBseUFzeW5jSWQiLCJkaWdlc3RUdGwiLCJkZXN0cm95Q2hpbGRTY29wZSIsIiRldmVudCIsImN1cnJlbnRTY29wZSIsImNsZWFuVXBTY29wZSIsIiQkcHJldlNpYmxpbmciLCIkcm9vdCIsIlNjb3BlIiwiYmVnaW5QaGFzZSIsInBoYXNlIiwiY2xlYXJQaGFzZSIsImluY3JlbWVudFdhdGNoZXJzQ291bnQiLCJkZWNyZW1lbnRMaXN0ZW5lckNvdW50IiwiaW5pdFdhdGNoVmFsIiwiZmx1c2hBcHBseUFzeW5jIiwiYXBwbHlBc3luY1F1ZXVlIiwic2NoZWR1bGVBcHBseUFzeW5jIiwiaXNvbGF0ZSIsImNoaWxkIiwid2F0Y2hFeHAiLCJ3YXRjaGVyIiwiZXEiLCIkJGRpZ2VzdFdhdGNoSW5kZXgiLCJ3YXRjaEV4cHJlc3Npb25zIiwid2F0Y2hHcm91cEFjdGlvbiIsImNoYW5nZVJlYWN0aW9uU2NoZWR1bGVkIiwiZmlyc3RSdW4iLCJuZXdWYWx1ZXMiLCJkZXJlZ2lzdGVyRm5zIiwic2hvdWxkQ2FsbCIsInVud2F0Y2hGbiIsIiR3YXRjaENvbGxlY3Rpb25JbnRlcmNlcHRvciIsIl92YWx1ZSIsIm5ld0xlbmd0aCIsImJvdGhOYU4iLCJuZXdJdGVtIiwib2xkSXRlbSIsImludGVybmFsQXJyYXkiLCJvbGRMZW5ndGgiLCJjaGFuZ2VEZXRlY3RlZCIsImludGVybmFsT2JqZWN0IiwiJHdhdGNoQ29sbGVjdGlvbkFjdGlvbiIsImluaXRSdW4iLCJ2ZXJ5T2xkVmFsdWUiLCJ0cmFja1ZlcnlPbGRWYWx1ZSIsImNoYW5nZURldGVjdG9yIiwid2F0Y2giLCJ3YXRjaGVycyIsImRpcnR5IiwibmV4dCIsImxvZ0lkeCIsImFzeW5jVGFzayIsInR0bCIsIndhdGNoTG9nIiwiYXN5bmNRdWV1ZVBvc2l0aW9uIiwiYXN5bmNRdWV1ZSIsInRyYXZlcnNlU2NvcGVzTG9vcCIsIm1zZyIsInBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uIiwicG9zdERpZ2VzdFF1ZXVlIiwiZXZlbnROYW1lIiwiJGV2YWwiLCIkYXBwbHlBc3luY0V4cHJlc3Npb24iLCJuYW1lZExpc3RlbmVycyIsImluZGV4T2ZMaXN0ZW5lciIsIiRlbWl0IiwiX3N0b3BQcm9wYWdhdGlvbiIsInRhcmdldFNjb3BlIiwibGlzdGVuZXJBcmdzIiwiJCRhc3luY1F1ZXVlIiwiJCRwb3N0RGlnZXN0UXVldWUiLCIkJGFwcGx5QXN5bmNRdWV1ZSIsInVyaSIsImlzSW1hZ2UiLCJub3JtYWxpemVkVmFsIiwicmVnZXgiLCJzbmFrZVRvQ2FtZWwiLCJVTkRFUlNDT1JFX0xPV0VSQ0FTRV9SRUdFWFAiLCJhZGp1c3RNYXRjaGVyIiwibWF0Y2hlciIsIiRzY2VNaW5FcnIiLCJlc2NhcGVGb3JSZWdleHAiLCJhZGp1c3RNYXRjaGVycyIsIm1hdGNoZXJzIiwiYWRqdXN0ZWRNYXRjaGVycyIsIlNDRV9DT05URVhUUyIsInJlc291cmNlVXJsV2hpdGVsaXN0IiwicmVzb3VyY2VVcmxCbGFja2xpc3QiLCJtYXRjaFVybCIsImlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kiLCJhbGxvd2VkIiwiZ2VuZXJhdGVIb2xkZXJUeXBlIiwiQmFzZSIsImhvbGRlclR5cGUiLCJ0cnVzdGVkVmFsdWUiLCIkJHVud3JhcFRydXN0ZWRWYWx1ZSIsInRydXN0QXMiLCJDb25zdHJ1Y3RvciIsImJ5VHlwZSIsIm1heWJlVHJ1c3RlZCIsInRydXN0ZWRWYWx1ZUhvbGRlckJhc2UiLCJodG1sU2FuaXRpemVyIiwiQ1NTIiwiVVJMIiwiSlMiLCJzY2UiLCJpc0VuYWJsZWQiLCJwYXJzZUFzIiwiZW51bVZhbHVlIiwibE5hbWUiLCJldmVudFN1cHBvcnQiLCJpc053IiwibnciLCJwcm9jZXNzIiwiaXNDaHJvbWVQYWNrYWdlZEFwcCIsImNocm9tZSIsImFwcCIsInJ1bnRpbWUiLCJoYXNIaXN0b3J5UHVzaFN0YXRlIiwicHVzaFN0YXRlIiwiYW5kcm9pZCIsImJveGVlIiwiYm9keVN0eWxlIiwidHJhbnNpdGlvbnMiLCJhbmltYXRpb25zIiwiaGFzRXZlbnQiLCJkaXZFbG0iLCJodHRwT3B0aW9ucyIsImhhbmRsZVJlcXVlc3RGbiIsInRwbCIsImlnbm9yZVJlcXVlc3RFcnJvciIsImhhbmRsZUVycm9yIiwiJHRlbXBsYXRlUmVxdWVzdE1pbkVyciIsInRvdGFsUGVuZGluZ1JlcXVlc3RzIiwidHJhbnNmb3JtZXIiLCJ0ZXN0YWJpbGl0eSIsImZpbmRCaW5kaW5ncyIsIm9wdF9leGFjdE1hdGNoIiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsIm1hdGNoZXMiLCJkYXRhQmluZGluZyIsImJpbmRpbmdOYW1lIiwiZmluZE1vZGVscyIsInByZWZpeGVzIiwiYXR0cmlidXRlRXF1YWxzIiwiZ2V0TG9jYXRpb24iLCJzZXRMb2NhdGlvbiIsIndoZW5TdGFibGUiLCJkZWZlcnJlZHMiLCIkJHRpbWVvdXRJZCIsInVybFBhcnNpbmdOb2RlIiwicmVxdWVzdFVybCIsIm9yaWdpblVybCIsIiQkQ29va2llUmVhZGVyIiwic2FmZUdldENvb2tpZSIsImNvb2tpZSIsInNhZmVEZWNvZGVVUklDb21wb25lbnQiLCJsYXN0Q29va2llcyIsImxhc3RDb29raWVTdHJpbmciLCJjb29raWVBcnJheSIsImN1cnJlbnRDb29raWVTdHJpbmciLCJmaWx0ZXJzIiwic3VmZml4IiwiY3VycmVuY3lGaWx0ZXIiLCJkYXRlRmlsdGVyIiwiZmlsdGVyRmlsdGVyIiwianNvbkZpbHRlciIsImxpbWl0VG9GaWx0ZXIiLCJsb3dlcmNhc2VGaWx0ZXIiLCJudW1iZXJGaWx0ZXIiLCJvcmRlckJ5RmlsdGVyIiwidXBwZXJjYXNlRmlsdGVyIiwiY29tcGFyYXRvciIsImFueVByb3BlcnR5S2V5IiwicHJlZGljYXRlRm4iLCJtYXRjaEFnYWluc3RBbnlQcm9wIiwiZXhwcmVzc2lvblR5cGUiLCJnZXRUeXBlRm9yRmlsdGVyIiwiY3JlYXRlUHJlZGljYXRlRm4iLCJzaG91bGRNYXRjaFByaW1pdGl2ZXMiLCJhY3R1YWwiLCJleHBlY3RlZCIsImRlZXBDb21wYXJlIiwiZG9udE1hdGNoV2hvbGVPYmplY3QiLCJhY3R1YWxUeXBlIiwiZXhwZWN0ZWRUeXBlIiwiZXhwZWN0ZWRWYWwiLCJtYXRjaEFueVByb3BlcnR5IiwiYWN0dWFsVmFsIiwiJGxvY2FsZSIsImZvcm1hdHMiLCJOVU1CRVJfRk9STUFUUyIsImFtb3VudCIsImN1cnJlbmN5U3ltYm9sIiwiZnJhY3Rpb25TaXplIiwiQ1VSUkVOQ1lfU1lNIiwiUEFUVEVSTlMiLCJtYXhGcmFjIiwiZm9ybWF0TnVtYmVyIiwiR1JPVVBfU0VQIiwiREVDSU1BTF9TRVAiLCJudW1iZXIiLCJudW1TdHIiLCJkaWdpdHMiLCJudW1iZXJPZkludGVnZXJEaWdpdHMiLCJ6ZXJvcyIsImV4cG9uZW50IiwiWkVST19DSEFSIiwiTUFYX0RJR0lUUyIsInJvdW5kTnVtYmVyIiwicGFyc2VkTnVtYmVyIiwibWluRnJhYyIsImZyYWN0aW9uTGVuIiwibWluIiwicm91bmRBdCIsImRpZ2l0IiwiayIsImNhcnJ5IiwicmVkdWNlUmlnaHQiLCJncm91cFNlcCIsImRlY2ltYWxTZXAiLCJpc05hTiIsImlzSW5maW5pdHkiLCJpc0Zpbml0ZSIsImlzWmVybyIsImFicyIsImZvcm1hdHRlZFRleHQiLCJpbnRlZ2VyTGVuIiwiZGVjaW1hbHMiLCJyZWR1Y2UiLCJncm91cHMiLCJsZ1NpemUiLCJnU2l6ZSIsIm5lZ1ByZSIsIm5lZ1N1ZiIsInBvc1ByZSIsInBvc1N1ZiIsInBhZE51bWJlciIsIm51bSIsIm5lZ1dyYXAiLCJuZWciLCJkYXRlR2V0dGVyIiwiZGF0ZVN0ckdldHRlciIsInNob3J0Rm9ybSIsInN0YW5kQWxvbmUiLCJwcm9wUHJlZml4IiwidGltZVpvbmVHZXR0ZXIiLCJ6b25lIiwicGFkZGVkWm9uZSIsImdldEZpcnN0VGh1cnNkYXlPZlllYXIiLCJ5ZWFyIiwiZGF5T2ZXZWVrT25GaXJzdCIsImdldERheSIsImdldFRodXJzZGF5VGhpc1dlZWsiLCJkYXRldGltZSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwid2Vla0dldHRlciIsImZpcnN0VGh1cnMiLCJ0aGlzVGh1cnMiLCJyb3VuZCIsImFtcG1HZXR0ZXIiLCJnZXRIb3VycyIsIkFNUE1TIiwiZXJhR2V0dGVyIiwiRVJBUyIsImxvbmdFcmFHZXR0ZXIiLCJFUkFOQU1FUyIsImpzb25TdHJpbmdUb0RhdGUiLCJzdHJpbmciLCJSX0lTTzg2MDFfU1RSIiwidHpIb3VyIiwidHpNaW4iLCJkYXRlU2V0dGVyIiwic2V0VVRDRnVsbFllYXIiLCJzZXRGdWxsWWVhciIsInRpbWVTZXR0ZXIiLCJzZXRVVENIb3VycyIsInNldEhvdXJzIiwibSIsIm1zIiwicGFyc2VGbG9hdCIsImZvcm1hdCIsIkRBVEVUSU1FX0ZPUk1BVFMiLCJOVU1CRVJfU1RSSU5HIiwiREFURV9GT1JNQVRTX1NQTElUIiwiREFURV9GT1JNQVRTIiwic3BhY2luZyIsImxpbWl0IiwiYmVnaW4iLCJJbmZpbml0eSIsInNsaWNlRm4iLCJlbmQiLCJwcm9jZXNzUHJlZGljYXRlcyIsInNvcnRQcmVkaWNhdGVzIiwicHJlZGljYXRlIiwiZGVzY2VuZGluZyIsIm9iamVjdFZhbHVlIiwiZ2V0UHJlZGljYXRlVmFsdWUiLCJkZWZhdWx0Q29tcGFyZSIsInYxIiwidjIiLCJ0eXBlMSIsInR5cGUyIiwidmFsdWUxIiwidmFsdWUyIiwic29ydFByZWRpY2F0ZSIsInJldmVyc2VPcmRlciIsImNvbXBhcmVGbiIsImdldENvbXBhcmlzb25PYmplY3QiLCJ0aWVCcmVha2VyIiwicHJlZGljYXRlVmFsdWVzIiwicHJlZGljYXRlcyIsImRvQ29tcGFyaXNvbiIsImNvbXBhcmVWYWx1ZXMiLCJuZ0RpcmVjdGl2ZSIsIm51bGxGb3JtUmVuYW1lQ29udHJvbCIsImNvbnRyb2wiLCIkbmFtZSIsIkZvcm1Db250cm9sbGVyIiwiJCRjb250cm9scyIsIiRlcnJvciIsIiQkc3VjY2VzcyIsIiRwZW5kaW5nIiwiJGRpcnR5IiwiJHByaXN0aW5lIiwiJHZhbGlkIiwiJGludmFsaWQiLCIkc3VibWl0dGVkIiwiJCRwYXJlbnRGb3JtIiwibnVsbEZvcm1DdHJsIiwiJCRhbmltYXRlIiwic2V0dXBWYWxpZGl0eSIsIiQkY2xhc3NDYWNoZSIsIklOVkFMSURfQ0xBU1MiLCJWQUxJRF9DTEFTUyIsImFkZFNldFZhbGlkaXR5TWV0aG9kIiwiY3JlYXRlQW5kU2V0IiwiY3RybCIsInVuc2V0QW5kQ2xlYW51cCIsInVuc2V0IiwiaXNPYmplY3RFbXB0eSIsImNhY2hlZFRvZ2dsZUNsYXNzIiwic3dpdGNoVmFsdWUiLCJ0b2dnbGVWYWxpZGF0aW9uQ3NzIiwidmFsaWRhdGlvbkVycm9yS2V5IiwiaXNWYWxpZCIsImNsYXp6IiwiJHNldFZhbGlkaXR5IiwiUEVORElOR19DTEFTUyIsImNvbWJpbmVkU3RhdGUiLCJzdHJpbmdCYXNlZElucHV0VHlwZSIsIiRmb3JtYXR0ZXJzIiwiJGlzRW1wdHkiLCJ0ZXh0SW5wdXRUeXBlIiwiYmFzZUlucHV0VHlwZSIsImNvbXBvc2luZyIsImV2IiwibmdUcmltIiwiJHZpZXdWYWx1ZSIsIiQkaGFzTmF0aXZlVmFsaWRhdG9ycyIsIiRzZXRWaWV3VmFsdWUiLCJkZWZlckxpc3RlbmVyIiwib3JpZ1ZhbHVlIiwia2V5Q29kZSIsIlBBUlRJQUxfVkFMSURBVElPTl9UWVBFUyIsIlBBUlRJQUxfVkFMSURBVElPTl9FVkVOVFMiLCJ2YWxpZGl0eSIsIlZBTElESVRZX1NUQVRFX1BST1BFUlRZIiwib3JpZ0JhZElucHV0IiwiYmFkSW5wdXQiLCJvcmlnVHlwZU1pc21hdGNoIiwidHlwZU1pc21hdGNoIiwiJHJlbmRlciIsIndlZWtQYXJzZXIiLCJpc29XZWVrIiwiZXhpc3RpbmdEYXRlIiwiV0VFS19SRUdFWFAiLCJ3ZWVrIiwiaG91cnMiLCJzZWNvbmRzIiwibWlsbGlzZWNvbmRzIiwiYWRkRGF5cyIsImdldFNlY29uZHMiLCJnZXRNaWxsaXNlY29uZHMiLCJjcmVhdGVEYXRlUGFyc2VyIiwibWFwcGluZyIsImlzbyIsIklTT19EQVRFX1JFR0VYUCIsInl5eXkiLCJNTSIsImRkIiwiSEgiLCJtbSIsInNzIiwic3NzIiwicGFydCIsImNyZWF0ZURhdGVJbnB1dFR5cGUiLCJwYXJzZURhdGUiLCJpc1ZhbGlkRGF0ZSIsInBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUiLCJiYWRJbnB1dENoZWNrZXIiLCJwcmV2aW91c0RhdGUiLCIkb3B0aW9ucyIsImdldE9wdGlvbiIsIiQkcGFyc2VyTmFtZSIsIiRwYXJzZXJzIiwicGFyc2VkRGF0ZSIsIm5nTW9kZWxNaW5FcnIiLCJuZ01pbiIsIm1pblZhbCIsIiR2YWxpZGF0b3JzIiwiJHZhbGlkYXRlIiwibmdNYXgiLCJtYXhWYWwiLCJuYXRpdmVWYWxpZGF0aW9uIiwibnVtYmVyRm9ybWF0dGVyUGFyc2VyIiwiTlVNQkVSX1JFR0VYUCIsInBhcnNlTnVtYmVyQXR0clZhbCIsImlzTnVtYmVySW50ZWdlciIsImNvdW50RGVjaW1hbHMiLCJudW1TdHJpbmciLCJkZWNpbWFsU3ltYm9sSW5kZXgiLCJpc1ZhbGlkRm9yU3RlcCIsInZpZXdWYWx1ZSIsInN0ZXBCYXNlIiwic3RlcCIsImlzTm9uSW50ZWdlclZhbHVlIiwiaXNOb25JbnRlZ2VyU3RlcEJhc2UiLCJpc05vbkludGVnZXJTdGVwIiwidmFsdWVEZWNpbWFscyIsInN0ZXBCYXNlRGVjaW1hbHMiLCJzdGVwRGVjaW1hbHMiLCJkZWNpbWFsQ291bnQiLCJtdWx0aXBsaWVyIiwicG93IiwibnVtYmVySW5wdXRUeXBlIiwibmdTdGVwIiwic3RlcFZhbCIsIm1vZGVsVmFsdWUiLCJyYW5nZUlucHV0VHlwZSIsInNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyIiwiaHRtbEF0dHJOYW1lIiwiY2hhbmdlRm4iLCJtaW5DaGFuZ2UiLCIkbW9kZWxWYWx1ZSIsInN1cHBvcnRzUmFuZ2UiLCJlbFZhbCIsIm1heENoYW5nZSIsInN0ZXBDaGFuZ2UiLCJoYXNNaW5BdHRyIiwiaGFzTWF4QXR0ciIsImhhc1N0ZXBBdHRyIiwib3JpZ2luYWxSZW5kZXIiLCJyYW5nZVVuZGVyZmxvdyIsInJhbmdlT3ZlcmZsb3ciLCJzdGVwTWlzbWF0Y2giLCJ1cmxJbnB1dFR5cGUiLCJVUkxfUkVHRVhQIiwiZW1haWxJbnB1dFR5cGUiLCJlbWFpbCIsIkVNQUlMX1JFR0VYUCIsInJhZGlvSW5wdXRUeXBlIiwiZG9UcmltIiwiY2hlY2tlZCIsInBhcnNlQ29uc3RhbnRFeHByIiwicGFyc2VGbiIsImNoZWNrYm94SW5wdXRUeXBlIiwidHJ1ZVZhbHVlIiwibmdUcnVlVmFsdWUiLCJmYWxzZVZhbHVlIiwibmdGYWxzZVZhbHVlIiwiY2xhc3NEaXJlY3RpdmUiLCJhcnJheURpZmZlcmVuY2UiLCJjbGFzc1N0cmluZyIsInRvQ2xhc3NTdHJpbmciLCJjbGFzc1ZhbHVlIiwidG9GbGF0VmFsdWUiLCJmbGF0VmFsdWUiLCJoYXNVbmRlZmluZWQiLCJpbmRleFdhdGNoRXhwcmVzc2lvbiIsImFkZENsYXNzZXMiLCJkaWdlc3RDbGFzc0NvdW50cyIsInJlbW92ZUNsYXNzZXMiLCJ1cGRhdGVDbGFzc2VzIiwib2xkQ2xhc3NTdHJpbmciLCJuZXdDbGFzc1N0cmluZyIsIm9sZENsYXNzQXJyYXkiLCJuZXdDbGFzc0FycmF5IiwidG9SZW1vdmVBcnJheSIsInRvQWRkQXJyYXkiLCJ0b1JlbW92ZVN0cmluZyIsInRvQWRkU3RyaW5nIiwiY2xhc3NBcnJheSIsImNsYXNzZXNUb1VwZGF0ZSIsImNsYXNzQ291bnRzIiwibmdDbGFzc0luZGV4V2F0Y2hBY3Rpb24iLCJuZXdNb2R1bG8iLCJvbGRNb2R1bG8iLCJuZ0NsYXNzT25lVGltZVdhdGNoQWN0aW9uIiwibmV3Q2xhc3NWYWx1ZSIsIm5nQ2xhc3NXYXRjaEFjdGlvbiIsImlzT25lVGltZSIsIndhdGNoSW50ZXJjZXB0b3IiLCJ3YXRjaEV4cHJlc3Npb24iLCJ3YXRjaEFjdGlvbiIsIiRpbmRleCIsIk5nTW9kZWxDb250cm9sbGVyIiwiJCRyYXdNb2RlbFZhbHVlIiwiJGFzeW5jVmFsaWRhdG9ycyIsIiR2aWV3Q2hhbmdlTGlzdGVuZXJzIiwiJHVudG91Y2hlZCIsIiR0b3VjaGVkIiwiZGVmYXVsdE1vZGVsT3B0aW9ucyIsIiQkcGFyc2VkTmdNb2RlbCIsIiQkcGFyc2VkTmdNb2RlbEFzc2lnbiIsIiQkbmdNb2RlbEdldCIsIiQkbmdNb2RlbFNldCIsIiQkcGVuZGluZ0RlYm91bmNlIiwiJCRwYXJzZXJWYWxpZCIsIiQkY3VycmVudFZhbGlkYXRpb25SdW5JZCIsImRlZmluZVByb3BlcnR5IiwiJCRhdHRyIiwiJCR0aW1lb3V0IiwiJCRleGNlcHRpb25IYW5kbGVyIiwic2V0dXBNb2RlbFdhdGNoZXIiLCJmb3JtYXR0ZXJzIiwiJCR1cGRhdGVFbXB0eUNsYXNzZXMiLCIkJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUiLCIkJHJ1blZhbGlkYXRvcnMiLCJNb2RlbE9wdGlvbnMiLCIkJG9wdGlvbnMiLCJzZXRPcHRpb25TZWxlY3RlZFN0YXR1cyIsIm9wdGlvbkVsIiwiUkVHRVhfU1RSSU5HX1JFR0VYUCIsIm1hbnVhbExvd2VyY2FzZSIsIlN0cmluZyIsImZyb21DaGFyQ29kZSIsImNoYXJDb2RlQXQiLCJtYW51YWxVcHBlcmNhc2UiLCJkb2N1bWVudE1vZGUiLCJydWxlcyIsIm5nQ3NwRWxlbWVudCIsIm5nQ3NwQXR0cmlidXRlIiwibm9JbmxpbmVTdHlsZSIsIm5hbWVfIiwiZWwiLCJOT0RFX1RZUEVfQVRUUklCVVRFIiwiZnVsbCIsIm1ham9yIiwibWlub3IiLCJkb3QiLCJjb2RlTmFtZSIsImV4cGFuZG8iLCJtb3VzZWxlYXZlIiwibW91c2VlbnRlciIsInRoZWFkIiwiY29sIiwidHIiLCJ0ZCIsIm9wdGdyb3VwIiwidGJvZHkiLCJ0Zm9vdCIsImNvbGdyb3VwIiwiY2FwdGlvbiIsInRoIiwiTm9kZSIsImNvbnRhaW5zIiwiY29tcGFyZURvY3VtZW50UG9zaXRpb24iLCJyZWFkeSIsInJlbW92ZURhdGEiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjc3MiLCJyZXQiLCJsb3dlcmNhc2VkTmFtZSIsImlzQm9vbGVhbkF0dHIiLCJnZXRUZXh0IiwiJGR2IiwibXVsdGlwbGUiLCJzZWxlY3RlZCIsImFyZzEiLCJhcmcyIiwibm9kZUNvdW50IiwidHlwZXMiLCJhZGRIYW5kbGVyIiwibm9FdmVudExpc3RlbmVyIiwib25lIiwib25GbiIsInJlcGxhY2VOb2RlIiwiaW5zZXJ0QmVmb3JlIiwiY2hpbGRyZW4iLCJjb250ZW50RG9jdW1lbnQiLCJwcmVwZW5kIiwid3JhcE5vZGUiLCJkZXRhY2giLCJhZnRlciIsIm5ld0VsZW1lbnQiLCJ0b2dnbGVDbGFzcyIsImNvbmRpdGlvbiIsImNsYXNzQ29uZGl0aW9uIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJleHRyYVBhcmFtZXRlcnMiLCJkdW1teUV2ZW50IiwiZXZlbnRGbnNDb3B5IiwiaGFuZGxlckFyZ3MiLCJhcmczIiwidW5iaW5kIiwibmFuS2V5IiwiX2lkeCIsIl90cmFuc2Zvcm1LZXkiLCJkZWxldGUiLCIkYW5pbWF0ZU1pbkVyciIsIk5HX0FOSU1BVEVfQ0xBU1NOQU1FIiwicG9zdERpZ2VzdEVsZW1lbnRzIiwidXBkYXRlRGF0YSIsImhhbmRsZUNTU0NsYXNzQ2hhbmdlcyIsImV4aXN0aW5nIiwiYWRkUmVtb3ZlQ2xhc3Nlc1Bvc3REaWdlc3QiLCJhZGQiLCJjbGFzc2VzQWRkZWQiLCJjbGFzc2VzUmVtb3ZlZCIsInBpbiIsImRvbU9wZXJhdGlvbiIsImZyb20iLCJ0byIsInJ1bm5lciIsImNvbXBsZXRlIiwiY2xhc3NOYW1lRmlsdGVyIiwiY3VzdG9tRmlsdGVyIiwiJCRyZWdpc3RlcmVkQW5pbWF0aW9ucyIsImZpbHRlckZuIiwicmVzZXJ2ZWRSZWdleCIsImRvbUluc2VydCIsImFmdGVyRWxlbWVudCIsImFmdGVyTm9kZSIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJlbnRlciIsIm1vdmUiLCJsZWF2ZSIsImFkZGNsYXNzIiwic2V0Q2xhc3MiLCJhbmltYXRlIiwidGVtcENsYXNzZXMiLCJ3YWl0Rm9yVGljayIsIndhaXRRdWV1ZSIsInBhc3NlZCIsIkFuaW1hdGVSdW5uZXIiLCJzZXRIb3N0IiwicmFmVGljayIsInRpbWVvdXRUaWNrIiwiX2RvbmVDYWxsYmFja3MiLCJfdGljayIsIl9zdGF0ZSIsIklOSVRJQUxfU1RBVEUiLCJET05FX1BFTkRJTkdfU1RBVEUiLCJET05FX0NPTVBMRVRFX1NUQVRFIiwiY2hhaW4iLCJydW5uZXJzIiwib25Qcm9ncmVzcyIsImdldFByb21pc2UiLCJyZXNvbHZlSGFuZGxlciIsInJlamVjdEhhbmRsZXIiLCJwYXVzZSIsInJlc3VtZSIsIl9yZXNvbHZlIiwiaW5pdGlhbE9wdGlvbnMiLCJhcHBseUFuaW1hdGlvbkNvbnRlbnRzIiwiY2xvc2VkIiwiJCRwcmVwYXJlZCIsImNsZWFudXBTdHlsZXMiLCJzdGFydCIsImlzRmlyc3RDaGFuZ2UiLCJkb21Ob2RlIiwib2Zmc2V0V2lkdGgiLCJDb250ZW50LVR5cGUiLCJbIiwieyIsIl9jcmVhdGVDYWxsYmFjayIsImNhbGxiYWNrSWQiLCJjYWxsZWQiLCJjYWxsYmFja01hcCIsIlBBVEhfTUFUQ0giLCJodHRwIiwiaHR0cHMiLCJmdHAiLCJsb2NhdGlvblByb3RvdHlwZSIsIl91cmwiLCJfc2VhcmNoIiwicGFyYW1WYWx1ZSIsIkxvY2F0aW9uIiwiJHBhcnNlTWluRXJyIiwiT1BFUkFUT1JTIiwiRVNDQVBFIiwiZiIsInQiLCInIiwiXCIiLCJsZXgiLCJ0b2tlbnMiLCJyZWFkU3RyaW5nIiwicGVlayIsInJlYWROdW1iZXIiLCJwZWVrTXVsdGljaGFyIiwicmVhZElkZW50IiwiaXMiLCJpc1doaXRlc3BhY2UiLCJjaDIiLCJjaDMiLCJvcDEiLCJvcDIiLCJvcDMiLCJ0aHJvd0Vycm9yIiwiY2hhcnMiLCJjb2RlUG9pbnRBdCIsImlzVmFsaWRJZGVudGlmaWVyU3RhcnQiLCJpc1ZhbGlkSWRlbnRpZmllckNvbnRpbnVlIiwiY3AiLCJjcDEiLCJjcDIiLCJpc0V4cE9wZXJhdG9yIiwiY29sU3RyIiwicGVla0NoIiwicXVvdGUiLCJyYXdTdHJpbmciLCJoZXgiLCJyZXAiLCJFeHByZXNzaW9uU3RhdGVtZW50IiwiUHJvcGVydHkiLCJwcm9ncmFtIiwiZXhwcmVzc2lvblN0YXRlbWVudCIsImV4cGVjdCIsImZpbHRlckNoYWluIiwiYXNzaWdubWVudCIsInRlcm5hcnkiLCJsb2dpY2FsT1IiLCJjb25zdW1lIiwibG9naWNhbEFORCIsImVxdWFsaXR5IiwicmVsYXRpb25hbCIsImFkZGl0aXZlIiwibXVsdGlwbGljYXRpdmUiLCJ1bmFyeSIsInByaW1hcnkiLCJhcnJheURlY2xhcmF0aW9uIiwic2VsZlJlZmVyZW50aWFsIiwicGFyc2VBcmd1bWVudHMiLCJiYXNlRXhwcmVzc2lvbiIsInBlZWtUb2tlbiIsImtpbmQiLCJlMSIsImUyIiwiZTMiLCJlNCIsInBlZWtBaGVhZCIsIiRsb2NhbHMiLCJuZXh0SWQiLCJ2YXJzIiwib3duIiwiYXNzaWduYWJsZSIsInN0YWdlIiwiY29tcHV0aW5nIiwicmVjdXJzZSIsInJldHVybl8iLCJnZW5lcmF0ZUZ1bmN0aW9uIiwiZm5LZXkiLCJpbnRvSWQiLCJ3YXRjaElkIiwiZm5TdHJpbmciLCJVU0UiLCJTVFJJQ1QiLCJmaWx0ZXJQcmVmaXgiLCJ3YXRjaEZucyIsInZhcnNQcmVmaXgiLCJzZWN0aW9uIiwibmFtZUlkIiwicmVjdXJzaW9uRm4iLCJza2lwV2F0Y2hJZENoZWNrIiwiaWZfIiwibGF6eUFzc2lnbiIsImNvbXB1dGVkTWVtYmVyIiwibGF6eVJlY3Vyc2UiLCJwbHVzIiwibm90IiwiZ2V0SGFzT3duUHJvcGVydHkiLCJpc051bGwiLCJub25Db21wdXRlZE1lbWJlciIsIm5vdE51bGwiLCJtZW1iZXIiLCJkZWZhdWx0VmFsdWUiLCJTQUZFX0lERU5USUZJRVIiLCJVTlNBRkVfQ0hBUkFDVEVSUyIsInN0cmluZ0VzY2FwZUZuIiwic3RyaW5nRXNjYXBlUmVnZXgiLCJjIiwic2tpcCIsImluaXQiLCJyaHMiLCJsaHMiLCJ1bmFyeSsiLCJ1bmFyeS0iLCJ1bmFyeSEiLCJiaW5hcnkrIiwiYmluYXJ5LSIsImJpbmFyeSoiLCJiaW5hcnkvIiwiYmluYXJ5JSIsImJpbmFyeT09PSIsImJpbmFyeSE9PSIsImJpbmFyeT09IiwiYmluYXJ5IT0iLCJiaW5hcnk8IiwiYmluYXJ5PiIsImJpbmFyeTw9IiwiYmluYXJ5Pj0iLCJiaW5hcnkmJiIsImJpbmFyeXx8IiwidGVybmFyeT86IiwiX3ZhbHVlMiIsInl5IiwieSIsIk1NTU0iLCJNTU0iLCJNIiwiTExMTCIsIkgiLCJoaCIsIkVFRUUiLCJFRUUiLCJaIiwid3ciLCJ3IiwiRyIsIkdHIiwiR0dHIiwiR0dHRyIsInhsaW5rSHJlZiIsInByb3BOYW1lIiwiZGVmYXVsdExpbmtGbiIsIm5vcm1hbGl6ZWQiLCJodG1sQXR0ciIsIiRhZGRDb250cm9sIiwiJCRyZW5hbWVDb250cm9sIiwiJHJlbW92ZUNvbnRyb2wiLCIkc2V0RGlydHkiLCIkc2V0UHJpc3RpbmUiLCIkc2V0U3VibWl0dGVkIiwiU1VCTUlUVEVEX0NMQVNTIiwiJHJvbGxiYWNrVmlld1ZhbHVlIiwiJGNvbW1pdFZpZXdWYWx1ZSIsIm5ld05hbWUiLCJvbGROYW1lIiwiUFJJU1RJTkVfQ0xBU1MiLCJESVJUWV9DTEFTUyIsIiRzZXRVbnRvdWNoZWQiLCJmb3JtRGlyZWN0aXZlRmFjdG9yeSIsImlzTmdGb3JtIiwiZ2V0U2V0dGVyIiwiZm9ybUVsZW1lbnQiLCJuYW1lQXR0ciIsImN0cmxzIiwiaGFuZGxlRm9ybVN1Ym1pc3Npb24iLCJwYXJlbnRGb3JtQ3RybCIsInNldHRlciIsIkRBVEVfUkVHRVhQIiwiREFURVRJTUVMT0NBTF9SRUdFWFAiLCJNT05USF9SRUdFWFAiLCJUSU1FX1JFR0VYUCIsImlucHV0VHlwZSIsImRhdGV0aW1lLWxvY2FsIiwidGltZSIsIm1vbnRoIiwicmFkaW8iLCJyYW5nZSIsImNoZWNrYm94Iiwic3VibWl0IiwicmVzZXQiLCJmaWxlIiwiQ09OU1RBTlRfVkFMVUVfUkVHRVhQIiwidXBkYXRlRWxlbWVudFZhbHVlIiwicHJvcFZhbHVlIiwidHBsQXR0ciIsIiRjb21waWxlIiwidGVtcGxhdGVFbGVtZW50IiwibmdCaW5kSHRtbEdldHRlciIsIm5nQmluZEh0bWxXYXRjaCIsImdldFRydXN0ZWRIdG1sIiwiZm9yY2VBc3luY0V2ZW50cyIsImJsdXIiLCJmb2N1cyIsInByZXZpb3VzRWxlbWVudHMiLCJzcmNFeHAiLCJvbmxvYWRFeHAiLCJhdXRvU2Nyb2xsRXhwIiwiYXV0b3Njcm9sbCIsInByZXZpb3VzRWxlbWVudCIsImN1cnJlbnRFbGVtZW50IiwiY2hhbmdlQ291bnRlciIsImNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQiLCJhZnRlckFuaW1hdGlvbiIsInRoaXNDaGFuZ2VJZCIsInRyaW1WYWx1ZXMiLCJVTlRPVUNIRURfQ0xBU1MiLCJUT1VDSEVEX0NMQVNTIiwiRU1QVFlfQ0xBU1MiLCJOT1RfRU1QVFlfQ0xBU1MiLCIkJGluaXRHZXR0ZXJTZXR0ZXJzIiwiaW52b2tlTW9kZWxHZXR0ZXIiLCJpbnZva2VNb2RlbFNldHRlciIsIiQkJHAiLCIkc2V0VG91Y2hlZCIsInByZXZWYWxpZCIsInByZXZNb2RlbFZhbHVlIiwiYWxsb3dJbnZhbGlkIiwidGhhdCIsImFsbFZhbGlkIiwiJCR3cml0ZU1vZGVsVG9TY29wZSIsImRvbmVDYWxsYmFjayIsInByb2Nlc3NQYXJzZUVycm9ycyIsImVycm9yS2V5Iiwic2V0VmFsaWRpdHkiLCJwcm9jZXNzU3luY1ZhbGlkYXRvcnMiLCJzeW5jVmFsaWRhdG9yc1ZhbGlkIiwidmFsaWRhdG9yIiwiQm9vbGVhbiIsInByb2Nlc3NBc3luY1ZhbGlkYXRvcnMiLCJ2YWxpZGF0b3JQcm9taXNlcyIsInZhbGlkYXRpb25Eb25lIiwibG9jYWxWYWxpZGF0aW9uUnVuSWQiLCIkJHBhcnNlQW5kVmFsaWRhdGUiLCJ3cml0ZVRvTW9kZWxJZk5lZWRlZCIsIiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQiLCJkZWJvdW5jZURlbGF5IiwiJG92ZXJyaWRlTW9kZWxPcHRpb25zIiwiY3JlYXRlQ2hpbGQiLCJtb2RlbEN0cmwiLCJmb3JtQ3RybCIsIm9wdGlvbnNDdHJsIiwic2V0VG91Y2hlZCIsIkRFRkFVTFRfUkVHRVhQIiwiaW5oZXJpdEFsbCIsInVwZGF0ZU9uRGVmYXVsdCIsInVwZGF0ZU9uIiwiZGVib3VuY2UiLCJnZXR0ZXJTZXR0ZXIiLCJOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXIiLCIkJGF0dHJzIiwicGFyZW50T3B0aW9ucyIsInBhcmVudEN0cmwiLCJtb2RlbE9wdGlvbnNEZWZpbml0aW9uIiwibmdPcHRpb25zTWluRXJyIiwiTkdfT1BUSU9OU19SRUdFWFAiLCJwYXJzZU9wdGlvbnNFeHByZXNzaW9uIiwib3B0aW9uc0V4cCIsInNlbGVjdEVsZW1lbnQiLCJPcHRpb24iLCJzZWxlY3RWYWx1ZSIsImxhYmVsIiwiZ3JvdXAiLCJkaXNhYmxlZCIsImdldE9wdGlvblZhbHVlc0tleXMiLCJvcHRpb25WYWx1ZXMiLCJvcHRpb25WYWx1ZXNLZXlzIiwia2V5TmFtZSIsIml0ZW1LZXkiLCJ2YWx1ZU5hbWUiLCJzZWxlY3RBcyIsInRyYWNrQnkiLCJzZWxlY3RBc0ZuIiwidmlld1ZhbHVlRm4iLCJ0cmFja0J5Rm4iLCJnZXRUcmFja0J5VmFsdWVGbiIsImdldFRyYWNrQnlWYWx1ZSIsImdldExvY2FscyIsImRpc3BsYXlGbiIsImdyb3VwQnlGbiIsImRpc2FibGVXaGVuRm4iLCJ2YWx1ZXNGbiIsImdldFdhdGNoYWJsZXMiLCJ3YXRjaGVkQXJyYXkiLCJvcHRpb25WYWx1ZXNMZW5ndGgiLCJkaXNhYmxlV2hlbiIsImdldE9wdGlvbnMiLCJvcHRpb25JdGVtcyIsInNlbGVjdFZhbHVlTWFwIiwib3B0aW9uSXRlbSIsImdldE9wdGlvbkZyb21WaWV3VmFsdWUiLCJnZXRWaWV3VmFsdWVGcm9tT3B0aW9uIiwibmdPcHRpb25zUG9zdExpbmsiLCJhZGRPcHRpb25FbGVtZW50Iiwib3B0aW9uRWxlbWVudCIsIm9wdGlvblRlbXBsYXRlIiwidXBkYXRlT3B0aW9uRWxlbWVudCIsImdldEFuZFVwZGF0ZVNlbGVjdGVkT3B0aW9uIiwidXBkYXRlT3B0aW9ucyIsInNlbGVjdEN0cmwiLCJyZWFkVmFsdWUiLCJncm91cEVsZW1lbnRNYXAiLCJncm91cEVsZW1lbnQiLCJvcHRHcm91cFRlbXBsYXRlIiwibGlzdEZyYWdtZW50IiwibmdNb2RlbEN0cmwiLCJuZXh0VmFsdWUiLCJpc05vdFByaW1pdGl2ZSIsImhhc0VtcHR5T3B0aW9uIiwiZW1wdHlPcHRpb24iLCJwcm92aWRlZEVtcHR5T3B0aW9uIiwidW5rbm93bk9wdGlvbiIsImdlbmVyYXRlVW5rbm93bk9wdGlvblZhbHVlIiwid3JpdGVWYWx1ZSIsInNlbGVjdGVkT3B0aW9ucyIsInNlbGVjdGVkVmFsdWVzIiwic2VsZWN0aW9ucyIsInNlbGVjdGVkT3B0aW9uIiwic2VsZWN0ZWRJbmRleCIsInJlbW92ZVVua25vd25PcHRpb24iLCJzZWxlY3RVbmtub3duT3JFbXB0eU9wdGlvbiIsInVuc2VsZWN0RW1wdHlPcHRpb24iLCJyZWdpc3Rlck9wdGlvbiIsIm9wdGlvblNjb3BlIiwibmVlZHNSZXJlbmRlciIsIiRpc0VtcHR5T3B0aW9uU2VsZWN0ZWQiLCJCUkFDRSIsIklTX1dIRU4iLCJ1cGRhdGVFbGVtZW50VGV4dCIsIm5ld1RleHQiLCJsYXN0Q291bnQiLCJudW1iZXJFeHAiLCJ3aGVuRXhwIiwid2hlbnMiLCJ3aGVuc0V4cEZucyIsImJyYWNlUmVwbGFjZW1lbnQiLCJ3YXRjaFJlbW92ZXIiLCJhdHRyaWJ1dGVOYW1lIiwidG1wTWF0Y2giLCJ3aGVuS2V5IiwiY291bnRJc05hTiIsInBsdXJhbENhdCIsIndoZW5FeHBGbiIsIk5HX1JFTU9WRUQiLCJuZ1JlcGVhdE1pbkVyciIsInVwZGF0ZVNjb3BlIiwidmFsdWVJZGVudGlmaWVyIiwia2V5SWRlbnRpZmllciIsImFycmF5TGVuZ3RoIiwiJGZpcnN0IiwiJGxhc3QiLCIkbWlkZGxlIiwiJG9kZCIsIiRldmVuIiwiZ2V0QmxvY2tTdGFydCIsImdldEJsb2NrRW5kIiwibmdSZXBlYXRFbmRDb21tZW50IiwiYWxpYXNBcyIsInRyYWNrQnlFeHAiLCJ0cmFja0J5RXhwR2V0dGVyIiwidHJhY2tCeUlkRXhwRm4iLCJ0cmFja0J5SWRBcnJheUZuIiwidHJhY2tCeUlkT2JqRm4iLCJoYXNoRm5Mb2NhbHMiLCJsYXN0QmxvY2tNYXAiLCJuZXh0Tm9kZSIsImNvbGxlY3Rpb25MZW5ndGgiLCJ0cmFja0J5SWQiLCJ0cmFja0J5SWRGbiIsImNvbGxlY3Rpb25LZXlzIiwibmV4dEJsb2NrT3JkZXIiLCJwcmV2aW91c05vZGUiLCJuZXh0QmxvY2tNYXAiLCJibG9ja0tleSIsIk5HX0hJREVfQ0xBU1MiLCJOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTIiwibmV3U3R5bGVzIiwib2xkU3R5bGVzIiwiY2FzZXMiLCJuZ1N3aXRjaENvbnRyb2xsZXIiLCJ3YXRjaEV4cHIiLCJzZWxlY3RlZFRyYW5zY2x1ZGVzIiwic2VsZWN0ZWRFbGVtZW50cyIsInByZXZpb3VzTGVhdmVBbmltYXRpb25zIiwic2VsZWN0ZWRTY29wZXMiLCJzcGxpY2VGYWN0b3J5Iiwic2VsZWN0ZWRUcmFuc2NsdWRlIiwiY2FzZUVsZW1lbnQiLCJzZWxlY3RlZFNjb3BlIiwiYW5jaG9yIiwibmdTd2l0Y2hXaGVuU2VwYXJhdG9yIiwid2hlbkNhc2UiLCJuZ1RyYW5zY2x1ZGVNaW5FcnIiLCJmYWxsYmFja0xpbmtGbiIsIm5nVHJhbnNjbHVkZUNsb25lQXR0YWNoRm4iLCJub3RXaGl0ZXNwYWNlIiwidXNlRmFsbGJhY2tDb250ZW50IiwibmdUcmFuc2NsdWRlU2xvdCIsIm5vb3BOZ01vZGVsQ29udHJvbGxlciIsIlNlbGVjdENvbnRyb2xsZXIiLCJzY2hlZHVsZVJlbmRlciIsInJlbmRlclNjaGVkdWxlZCIsInNjaGVkdWxlVmlld1ZhbHVlVXBkYXRlIiwicmVuZGVyQWZ0ZXIiLCJ1cGRhdGVTY2hlZHVsZWQiLCJvcHRpb25zTWFwIiwicmVuZGVyVW5rbm93bk9wdGlvbiIsInVua25vd25WYWwiLCJ1cGRhdGVVbmtub3duT3B0aW9uIiwic2VsZWN0RW1wdHlPcHRpb24iLCJyZWFsVmFsIiwiaGFzT3B0aW9uIiwiY3VycmVudGx5U2VsZWN0ZWRPcHRpb24iLCJoYXNoZWRWYWwiLCJhZGRPcHRpb24iLCJyZW1vdmVPcHRpb24iLCIkaGFzRW1wdHlPcHRpb24iLCIkaXNVbmtub3duT3B0aW9uU2VsZWN0ZWQiLCJvcHRpb25BdHRycyIsImludGVycG9sYXRlVmFsdWVGbiIsImludGVycG9sYXRlVGV4dEZuIiwicmVtb3ZhbCIsInByZXZpb3VzbHlTZWxlY3RlZCIsInJlbW92ZVZhbHVlIiwic2VsZWN0UHJlTGluayIsInNob3VsZEJlU2VsZWN0ZWQiLCJjdXJyZW50bHlTZWxlY3RlZCIsImxhc3RWaWV3IiwibGFzdFZpZXdSZWYiLCJzZWxlY3RQb3N0TGluayIsInNlbGVjdEN0cmxOYW1lIiwicGF0dGVybkV4cCIsImludFZhbCIsImdldERlY2ltYWxzIiwiZ2V0VkYiLCJvcHRfcHJlY2lzaW9uIiwiUExVUkFMX0NBVEVHT1JZIiwiWkVSTyIsIk9ORSIsIlRXTyIsIkZFVyIsIk1BTlkiLCJPVEhFUiIsIkRBWSIsIkZJUlNUREFZT0ZXRUVLIiwiTU9OVEgiLCJTSE9SVERBWSIsIlNIT1JUTU9OVEgiLCJTVEFOREFMT05FTU9OVEgiLCJXRUVLRU5EUkFOR0UiLCJmdWxsRGF0ZSIsImxvbmdEYXRlIiwibWVkaXVtIiwibWVkaXVtRGF0ZSIsIm1lZGl1bVRpbWUiLCJzaG9ydCIsInNob3J0RGF0ZSIsInNob3J0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QUFRLFNBQVUsWUFBYSxVQUFXLFdBQVksWUFDbElDLGNBQWlCLEVBQUcsR0FDcEJDLFNBQVksa0JBQ1pDLFNBQVksWUFDWkMsT0FBVSxxQkFDVkMsV0FBYyxXQUNkQyxXQUFjLFlBQ2RDLFFBQVMsZ0JBQ1RDLFVBQWEsU0FDYkMsVUFBYSxVQUVmbjhCLGdCQUNFSSxhQUFnQixJQUNoQkssWUFBZSxJQUNmRCxVQUFhLElBQ2JILFdBQ0VvQyxNQUFTLEVBQ1RELE9BQVUsRUFDVmxDLFFBQVcsRUFDWGMsUUFBVyxFQUNYZzdCLE9BQVUsRUFDVjE1QixPQUFVLElBQ1ZDLE9BQVUsR0FDVkMsT0FBVSxHQUNWQyxPQUFVLEtBRVZKLE1BQVMsRUFDVEQsT0FBVSxFQUNWbEMsUUFBVyxFQUNYYyxRQUFXLEVBQ1hnN0IsT0FBVSxFQUNWMTVCLE9BQVUsS0FDVkMsT0FBVSxHQUNWQyxPQUFVLElBQ1ZDLE9BQVUsTUFHZGhqQyxHQUFNLFFBQ053OEQsU0FBWSxRQUNadEgsVUFBYSxTQUFtQnoxRCxFQUFHdTdELEdBQ2pDLEdBQUkxc0YsR0FBUSxFQUFKbXhCLEVBQVVnOUQsRUFBSzFCLEVBQU10N0QsRUFBR3U3RCxFQUFlLE9BQVMsSUFBTDFzRixHQUFrQixHQUFSbXVGLEVBQUdua0QsRUFDdkQyaUQsRUFBZ0JFLElBQ2pCRixFQUFnQk0sZ0JBSzlCN3JGLElBQU8sV0FDTHFNLEdBQVl6TyxFQUFPeUssU0FBVWlFLFFBRTlCMU8sU0FFRkEsT0FBT3FRLFFBQVE0RixRQUFROHlELGVBQWlCL29FLE9BQU9xUSxRQUFRakosUUFBUXFELFNBQVMya0YsTUFBTXJqQixRQUFRIiwiZmlsZSI6InNvZnQvYW5ndWxhci5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcclxuXHJcbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcclxuXHJcbi8qKlxyXG4gKiBAbGljZW5zZSBBbmd1bGFySlMgdjEuNi42XHJcbiAqIChjKSAyMDEwLTIwMTcgR29vZ2xlLCBJbmMuIGh0dHA6Ly9hbmd1bGFyanMub3JnXHJcbiAqIExpY2Vuc2U6IE1JVFxyXG4gKi9cclxuKGZ1bmN0aW9uICh3aW5kb3cpIHtcclxuICAndXNlIHN0cmljdCc7XHJcblxyXG4gIC8qIGV4cG9ydGVkXHJcbiAgICBtaW5FcnJDb25maWcsXHJcbiAgICBlcnJvckhhbmRsaW5nQ29uZmlnLFxyXG4gICAgaXNWYWxpZE9iamVjdE1heERlcHRoXHJcbiAgKi9cclxuXHJcbiAgdmFyIG1pbkVyckNvbmZpZyA9IHtcclxuICAgIG9iamVjdE1heERlcHRoOiA1XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgYW5ndWxhci5lcnJvckhhbmRsaW5nQ29uZmlnXHJcbiAgICogQG1vZHVsZSBuZ1xyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDb25maWd1cmUgc2V2ZXJhbCBhc3BlY3RzIG9mIGVycm9yIGhhbmRsaW5nIGluIEFuZ3VsYXJKUyBpZiB1c2VkIGFzIGEgc2V0dGVyIG9yIHJldHVybiB0aGVcclxuICAgKiBjdXJyZW50IGNvbmZpZ3VyYXRpb24gaWYgdXNlZCBhcyBhIGdldHRlci4gVGhlIGZvbGxvd2luZyBvcHRpb25zIGFyZSBzdXBwb3J0ZWQ6XHJcbiAgICpcclxuICAgKiAtICoqb2JqZWN0TWF4RGVwdGgqKjogVGhlIG1heGltdW0gZGVwdGggdG8gd2hpY2ggb2JqZWN0cyBhcmUgdHJhdmVyc2VkIHdoZW4gc3RyaW5naWZpZWQgZm9yIGVycm9yIG1lc3NhZ2VzLlxyXG4gICAqXHJcbiAgICogT21pdHRlZCBvciB1bmRlZmluZWQgb3B0aW9ucyB3aWxsIGxlYXZlIHRoZSBjb3JyZXNwb25kaW5nIGNvbmZpZ3VyYXRpb24gdmFsdWVzIHVuY2hhbmdlZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIC0gVGhlIGNvbmZpZ3VyYXRpb24gb2JqZWN0LiBNYXkgb25seSBjb250YWluIHRoZSBvcHRpb25zIHRoYXQgbmVlZCB0byBiZVxyXG4gICAqICAgICB1cGRhdGVkLiBTdXBwb3J0ZWQga2V5czpcclxuICAgKlxyXG4gICAqICogYG9iamVjdE1heERlcHRoYCAgKip7TnVtYmVyfSoqIC0gVGhlIG1heCBkZXB0aCBmb3Igc3RyaW5naWZ5aW5nIG9iamVjdHMuIFNldHRpbmcgdG8gYVxyXG4gICAqICAgbm9uLXBvc2l0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCByZW1vdmVzIHRoZSBtYXggZGVwdGggbGltaXQuXHJcbiAgICogICBEZWZhdWx0OiA1XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZXJyb3JIYW5kbGluZ0NvbmZpZyhjb25maWcpIHtcclxuICAgIGlmIChpc09iamVjdChjb25maWcpKSB7XHJcbiAgICAgIGlmIChpc0RlZmluZWQoY29uZmlnLm9iamVjdE1heERlcHRoKSkge1xyXG4gICAgICAgIG1pbkVyckNvbmZpZy5vYmplY3RNYXhEZXB0aCA9IGlzVmFsaWRPYmplY3RNYXhEZXB0aChjb25maWcub2JqZWN0TWF4RGVwdGgpID8gY29uZmlnLm9iamVjdE1heERlcHRoIDogTmFOO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gbWluRXJyQ29uZmlnO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0ge051bWJlcn0gbWF4RGVwdGhcclxuICAgKiBAcmV0dXJuIHtib29sZWFufVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzVmFsaWRPYmplY3RNYXhEZXB0aChtYXhEZXB0aCkge1xyXG4gICAgcmV0dXJuIGlzTnVtYmVyKG1heERlcHRoKSAmJiBtYXhEZXB0aCA+IDA7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIFRoaXMgb2JqZWN0IHByb3ZpZGVzIGEgdXRpbGl0eSBmb3IgcHJvZHVjaW5nIHJpY2ggRXJyb3IgbWVzc2FnZXMgd2l0aGluXHJcbiAgICogQW5ndWxhci4gSXQgY2FuIGJlIGNhbGxlZCBhcyBmb2xsb3dzOlxyXG4gICAqXHJcbiAgICogdmFyIGV4YW1wbGVNaW5FcnIgPSBtaW5FcnIoJ2V4YW1wbGUnKTtcclxuICAgKiB0aHJvdyBleGFtcGxlTWluRXJyKCdvbmUnLCAnVGhpcyB7MH0gaXMgezF9JywgZm9vLCBiYXIpO1xyXG4gICAqXHJcbiAgICogVGhlIGFib3ZlIGNyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgbWluRXJyIGluIHRoZSBleGFtcGxlIG5hbWVzcGFjZS4gVGhlXHJcbiAgICogcmVzdWx0aW5nIGVycm9yIHdpbGwgaGF2ZSBhIG5hbWVzcGFjZWQgZXJyb3IgY29kZSBvZiBleGFtcGxlLm9uZS4gIFRoZVxyXG4gICAqIHJlc3VsdGluZyBlcnJvciB3aWxsIHJlcGxhY2UgezB9IHdpdGggdGhlIHZhbHVlIG9mIGZvbywgYW5kIHsxfSB3aXRoIHRoZVxyXG4gICAqIHZhbHVlIG9mIGJhci4gVGhlIG9iamVjdCBpcyBub3QgcmVzdHJpY3RlZCBpbiB0aGUgbnVtYmVyIG9mIGFyZ3VtZW50cyBpdCBjYW5cclxuICAgKiB0YWtlLlxyXG4gICAqXHJcbiAgICogSWYgZmV3ZXIgYXJndW1lbnRzIGFyZSBzcGVjaWZpZWQgdGhhbiBuZWNlc3NhcnkgZm9yIGludGVycG9sYXRpb24sIHRoZSBleHRyYVxyXG4gICAqIGludGVycG9sYXRpb24gbWFya2VycyB3aWxsIGJlIHByZXNlcnZlZCBpbiB0aGUgZmluYWwgc3RyaW5nLlxyXG4gICAqXHJcbiAgICogU2luY2UgZGF0YSB3aWxsIGJlIHBhcnNlZCBzdGF0aWNhbGx5IGR1cmluZyBhIGJ1aWxkIHN0ZXAsIHNvbWUgcmVzdHJpY3Rpb25zXHJcbiAgICogYXJlIGFwcGxpZWQgd2l0aCByZXNwZWN0IHRvIGhvdyBtaW5FcnIgaW5zdGFuY2VzIGFyZSBjcmVhdGVkIGFuZCBjYWxsZWQuXHJcbiAgICogSW5zdGFuY2VzIHNob3VsZCBoYXZlIG5hbWVzIG9mIHRoZSBmb3JtIG5hbWVzcGFjZU1pbkVyciBmb3IgYSBtaW5FcnIgY3JlYXRlZFxyXG4gICAqIHVzaW5nIG1pbkVycignbmFtZXNwYWNlJykgLiBFcnJvciBjb2RlcywgbmFtZXNwYWNlcyBhbmQgdGVtcGxhdGUgc3RyaW5nc1xyXG4gICAqIHNob3VsZCBhbGwgYmUgc3RhdGljIHN0cmluZ3MsIG5vdCB2YXJpYWJsZXMgb3IgZ2VuZXJhbCBleHByZXNzaW9ucy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBtb2R1bGUgVGhlIG5hbWVzcGFjZSB0byB1c2UgZm9yIHRoZSBuZXcgbWluRXJyIGluc3RhbmNlLlxyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb259IEVycm9yQ29uc3RydWN0b3IgQ3VzdG9tIGVycm9yIGNvbnN0cnVjdG9yIHRvIGJlIGluc3RhbnRpYXRlZCB3aGVuIHJldHVybmluZ1xyXG4gICAqICAgZXJyb3IgZnJvbSByZXR1cm5lZCBmdW5jdGlvbiwgZm9yIGNhc2VzIHdoZW4gYSBwYXJ0aWN1bGFyIHR5cGUgb2YgZXJyb3IgaXMgdXNlZnVsLlxyXG4gICAqIEByZXR1cm5zIHtmdW5jdGlvbihjb2RlOnN0cmluZywgdGVtcGxhdGU6c3RyaW5nLCAuLi50ZW1wbGF0ZUFyZ3MpOiBFcnJvcn0gbWluRXJyIGluc3RhbmNlXHJcbiAgICovXHJcblxyXG4gIGZ1bmN0aW9uIG1pbkVycihtb2R1bGUsIEVycm9yQ29uc3RydWN0b3IpIHtcclxuICAgIEVycm9yQ29uc3RydWN0b3IgPSBFcnJvckNvbnN0cnVjdG9yIHx8IEVycm9yO1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIGNvZGUgPSBhcmd1bWVudHNbMF0sXHJcbiAgICAgICAgICB0ZW1wbGF0ZSA9IGFyZ3VtZW50c1sxXSxcclxuICAgICAgICAgIG1lc3NhZ2UgPSAnWycgKyAobW9kdWxlID8gbW9kdWxlICsgJzonIDogJycpICsgY29kZSArICddICcsXHJcbiAgICAgICAgICB0ZW1wbGF0ZUFyZ3MgPSBzbGljZUFyZ3MoYXJndW1lbnRzLCAyKS5tYXAoZnVuY3Rpb24gKGFyZykge1xyXG4gICAgICAgIHJldHVybiB0b0RlYnVnU3RyaW5nKGFyZywgbWluRXJyQ29uZmlnLm9iamVjdE1heERlcHRoKTtcclxuICAgICAgfSksXHJcbiAgICAgICAgICBwYXJhbVByZWZpeCxcclxuICAgICAgICAgIGk7XHJcblxyXG4gICAgICBtZXNzYWdlICs9IHRlbXBsYXRlLnJlcGxhY2UoL1xce1xcZCtcXH0vZywgZnVuY3Rpb24gKG1hdGNoKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gK21hdGNoLnNsaWNlKDEsIC0xKTtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4IDwgdGVtcGxhdGVBcmdzLmxlbmd0aCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRlbXBsYXRlQXJnc1tpbmRleF07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbWF0Y2g7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgbWVzc2FnZSArPSAnXFxuaHR0cDovL2Vycm9ycy5hbmd1bGFyanMub3JnLzEuNi42LycgKyAobW9kdWxlID8gbW9kdWxlICsgJy8nIDogJycpICsgY29kZTtcclxuXHJcbiAgICAgIGZvciAoaSA9IDAsIHBhcmFtUHJlZml4ID0gJz8nOyBpIDwgdGVtcGxhdGVBcmdzLmxlbmd0aDsgaSsrLCBwYXJhbVByZWZpeCA9ICcmJykge1xyXG4gICAgICAgIG1lc3NhZ2UgKz0gcGFyYW1QcmVmaXggKyAncCcgKyBpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHRlbXBsYXRlQXJnc1tpXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBuZXcgRXJyb3JDb25zdHJ1Y3RvcihtZXNzYWdlKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKiBXZSBuZWVkIHRvIHRlbGwgRVNMaW50IHdoYXQgdmFyaWFibGVzIGFyZSBiZWluZyBleHBvcnRlZCAqL1xyXG4gIC8qIGV4cG9ydGVkXHJcbiAgICBhbmd1bGFyLFxyXG4gICAgbXNpZSxcclxuICAgIGpxTGl0ZSxcclxuICAgIGpRdWVyeSxcclxuICAgIHNsaWNlLFxyXG4gICAgc3BsaWNlLFxyXG4gICAgcHVzaCxcclxuICAgIHRvU3RyaW5nLFxyXG4gICAgbWluRXJyQ29uZmlnLFxyXG4gICAgZXJyb3JIYW5kbGluZ0NvbmZpZyxcclxuICAgIGlzVmFsaWRPYmplY3RNYXhEZXB0aCxcclxuICAgIG5nTWluRXJyLFxyXG4gICAgYW5ndWxhck1vZHVsZSxcclxuICAgIHVpZCxcclxuICAgIFJFR0VYX1NUUklOR19SRUdFWFAsXHJcbiAgICBWQUxJRElUWV9TVEFURV9QUk9QRVJUWSxcclxuICBcclxuICAgIGxvd2VyY2FzZSxcclxuICAgIHVwcGVyY2FzZSxcclxuICAgIG1hbnVhbExvd2VyY2FzZSxcclxuICAgIG1hbnVhbFVwcGVyY2FzZSxcclxuICAgIG5vZGVOYW1lXyxcclxuICAgIGlzQXJyYXlMaWtlLFxyXG4gICAgZm9yRWFjaCxcclxuICAgIGZvckVhY2hTb3J0ZWQsXHJcbiAgICByZXZlcnNlUGFyYW1zLFxyXG4gICAgbmV4dFVpZCxcclxuICAgIHNldEhhc2hLZXksXHJcbiAgICBleHRlbmQsXHJcbiAgICB0b0ludCxcclxuICAgIGluaGVyaXQsXHJcbiAgICBtZXJnZSxcclxuICAgIG5vb3AsXHJcbiAgICBpZGVudGl0eSxcclxuICAgIHZhbHVlRm4sXHJcbiAgICBpc1VuZGVmaW5lZCxcclxuICAgIGlzRGVmaW5lZCxcclxuICAgIGlzT2JqZWN0LFxyXG4gICAgaXNCbGFua09iamVjdCxcclxuICAgIGlzU3RyaW5nLFxyXG4gICAgaXNOdW1iZXIsXHJcbiAgICBpc051bWJlck5hTixcclxuICAgIGlzRGF0ZSxcclxuICAgIGlzRXJyb3IsXHJcbiAgICBpc0FycmF5LFxyXG4gICAgaXNGdW5jdGlvbixcclxuICAgIGlzUmVnRXhwLFxyXG4gICAgaXNXaW5kb3csXHJcbiAgICBpc1Njb3BlLFxyXG4gICAgaXNGaWxlLFxyXG4gICAgaXNGb3JtRGF0YSxcclxuICAgIGlzQmxvYixcclxuICAgIGlzQm9vbGVhbixcclxuICAgIGlzUHJvbWlzZUxpa2UsXHJcbiAgICB0cmltLFxyXG4gICAgZXNjYXBlRm9yUmVnZXhwLFxyXG4gICAgaXNFbGVtZW50LFxyXG4gICAgbWFrZU1hcCxcclxuICAgIGluY2x1ZGVzLFxyXG4gICAgYXJyYXlSZW1vdmUsXHJcbiAgICBjb3B5LFxyXG4gICAgc2ltcGxlQ29tcGFyZSxcclxuICAgIGVxdWFscyxcclxuICAgIGNzcCxcclxuICAgIGpxLFxyXG4gICAgY29uY2F0LFxyXG4gICAgc2xpY2VBcmdzLFxyXG4gICAgYmluZCxcclxuICAgIHRvSnNvblJlcGxhY2VyLFxyXG4gICAgdG9Kc29uLFxyXG4gICAgZnJvbUpzb24sXHJcbiAgICBjb252ZXJ0VGltZXpvbmVUb0xvY2FsLFxyXG4gICAgdGltZXpvbmVUb09mZnNldCxcclxuICAgIHN0YXJ0aW5nVGFnLFxyXG4gICAgdHJ5RGVjb2RlVVJJQ29tcG9uZW50LFxyXG4gICAgcGFyc2VLZXlWYWx1ZSxcclxuICAgIHRvS2V5VmFsdWUsXHJcbiAgICBlbmNvZGVVcmlTZWdtZW50LFxyXG4gICAgZW5jb2RlVXJpUXVlcnksXHJcbiAgICBhbmd1bGFySW5pdCxcclxuICAgIGJvb3RzdHJhcCxcclxuICAgIGdldFRlc3RhYmlsaXR5LFxyXG4gICAgc25ha2VfY2FzZSxcclxuICAgIGJpbmRKUXVlcnksXHJcbiAgICBhc3NlcnRBcmcsXHJcbiAgICBhc3NlcnRBcmdGbixcclxuICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5LFxyXG4gICAgZ2V0dGVyLFxyXG4gICAgZ2V0QmxvY2tOb2RlcyxcclxuICAgIGhhc093blByb3BlcnR5LFxyXG4gICAgY3JlYXRlTWFwLFxyXG4gICAgc3RyaW5naWZ5LFxyXG4gIFxyXG4gICAgTk9ERV9UWVBFX0VMRU1FTlQsXHJcbiAgICBOT0RFX1RZUEVfQVRUUklCVVRFLFxyXG4gICAgTk9ERV9UWVBFX1RFWFQsXHJcbiAgICBOT0RFX1RZUEVfQ09NTUVOVCxcclxuICAgIE5PREVfVFlQRV9ET0NVTUVOVCxcclxuICAgIE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVFxyXG4gICovXHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbW9kdWxlXHJcbiAgICogQG5hbWUgbmdcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQGluc3RhbGxhdGlvblxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogIyBuZyAoY29yZSBtb2R1bGUpXHJcbiAgICogVGhlIG5nIG1vZHVsZSBpcyBsb2FkZWQgYnkgZGVmYXVsdCB3aGVuIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbiBpcyBzdGFydGVkLiBUaGUgbW9kdWxlIGl0c2VsZlxyXG4gICAqIGNvbnRhaW5zIHRoZSBlc3NlbnRpYWwgY29tcG9uZW50cyBmb3IgYW4gQW5ndWxhckpTIGFwcGxpY2F0aW9uIHRvIGZ1bmN0aW9uLiBUaGUgdGFibGUgYmVsb3dcclxuICAgKiBsaXN0cyBhIGhpZ2ggbGV2ZWwgYnJlYWtkb3duIG9mIGVhY2ggb2YgdGhlIHNlcnZpY2VzL2ZhY3RvcmllcywgZmlsdGVycywgZGlyZWN0aXZlcyBhbmQgdGVzdGluZ1xyXG4gICAqIGNvbXBvbmVudHMgYXZhaWxhYmxlIHdpdGhpbiB0aGlzIGNvcmUgbW9kdWxlLlxyXG4gICAqXHJcbiAgICogPGRpdiBkb2MtbW9kdWxlLWNvbXBvbmVudHM9XCJuZ1wiPjwvZGl2PlxyXG4gICAqL1xyXG5cclxuICB2YXIgUkVHRVhfU1RSSU5HX1JFR0VYUCA9IC9eXFwvKC4rKVxcLyhbYS16XSopJC87XHJcblxyXG4gIC8vIFRoZSBuYW1lIG9mIGEgZm9ybSBjb250cm9sJ3MgVmFsaWRpdHlTdGF0ZSBwcm9wZXJ0eS5cclxuICAvLyBUaGlzIGlzIHVzZWQgc28gdGhhdCBpdCdzIHBvc3NpYmxlIGZvciBpbnRlcm5hbCB0ZXN0cyB0byBjcmVhdGUgbW9jayBWYWxpZGl0eVN0YXRlcy5cclxuICB2YXIgVkFMSURJVFlfU1RBVEVfUFJPUEVSVFkgPSAndmFsaWRpdHknO1xyXG5cclxuICB2YXIgaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBhbmd1bGFyLmxvd2VyY2FzZVxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKiBzaW5jZVZlcnNpb249XCIxLjUuMFwiXHJcbiAgICogcmVtb3ZlVmVyc2lvbj1cIjEuNy4wXCJcclxuICAgKiBVc2UgW1N0cmluZy5wcm90b3R5cGUudG9Mb3dlckNhc2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b0xvd2VyQ2FzZSkgaW5zdGVhZC5cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHN0cmluZyB0byBsb3dlcmNhc2UuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gYmUgY29udmVydGVkIHRvIGxvd2VyY2FzZS5cclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBMb3dlcmNhc2VkIHN0cmluZy5cclxuICAgKi9cclxuICB2YXIgbG93ZXJjYXNlID0gZnVuY3Rpb24gbG93ZXJjYXNlKHN0cmluZykge1xyXG4gICAgcmV0dXJuIGlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9Mb3dlckNhc2UoKSA6IHN0cmluZztcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBhbmd1bGFyLnVwcGVyY2FzZVxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlcHJlY2F0ZWRcclxuICAgKiBzaW5jZVZlcnNpb249XCIxLjUuMFwiXHJcbiAgICogcmVtb3ZlVmVyc2lvbj1cIjEuNy4wXCJcclxuICAgKiBVc2UgW1N0cmluZy5wcm90b3R5cGUudG9VcHBlckNhc2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1N0cmluZy90b1VwcGVyQ2FzZSkgaW5zdGVhZC5cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvbiBDb252ZXJ0cyB0aGUgc3BlY2lmaWVkIHN0cmluZyB0byB1cHBlcmNhc2UuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBTdHJpbmcgdG8gYmUgY29udmVydGVkIHRvIHVwcGVyY2FzZS5cclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBVcHBlcmNhc2VkIHN0cmluZy5cclxuICAgKi9cclxuICB2YXIgdXBwZXJjYXNlID0gZnVuY3Rpb24gdXBwZXJjYXNlKHN0cmluZykge1xyXG4gICAgcmV0dXJuIGlzU3RyaW5nKHN0cmluZykgPyBzdHJpbmcudG9VcHBlckNhc2UoKSA6IHN0cmluZztcclxuICB9O1xyXG5cclxuICB2YXIgbWFudWFsTG93ZXJjYXNlID0gZnVuY3Rpb24gbWFudWFsTG93ZXJjYXNlKHMpIHtcclxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cclxuICAgIHJldHVybiBpc1N0cmluZyhzKSA/IHMucmVwbGFjZSgvW0EtWl0vZywgZnVuY3Rpb24gKGNoKSB7XHJcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoLmNoYXJDb2RlQXQoMCkgfCAzMik7XHJcbiAgICB9KSA6IHM7XHJcbiAgICAvKiBlc2xpbnQtZW5hYmxlICovXHJcbiAgfTtcclxuICB2YXIgbWFudWFsVXBwZXJjYXNlID0gZnVuY3Rpb24gbWFudWFsVXBwZXJjYXNlKHMpIHtcclxuICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UgKi9cclxuICAgIHJldHVybiBpc1N0cmluZyhzKSA/IHMucmVwbGFjZSgvW2Etel0vZywgZnVuY3Rpb24gKGNoKSB7XHJcbiAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKGNoLmNoYXJDb2RlQXQoMCkgJiB+MzIpO1xyXG4gICAgfSkgOiBzO1xyXG4gICAgLyogZXNsaW50LWVuYWJsZSAqL1xyXG4gIH07XHJcblxyXG4gIC8vIFN0cmluZyN0b0xvd2VyQ2FzZSBhbmQgU3RyaW5nI3RvVXBwZXJDYXNlIGRvbid0IHByb2R1Y2UgY29ycmVjdCByZXN1bHRzIGluIGJyb3dzZXJzIHdpdGggVHVya2lzaFxyXG4gIC8vIGxvY2FsZSwgZm9yIHRoaXMgcmVhc29uIHdlIG5lZWQgdG8gZGV0ZWN0IHRoaXMgY2FzZSBhbmQgcmVkZWZpbmUgbG93ZXJjYXNlL3VwcGVyY2FzZSBtZXRob2RzXHJcbiAgLy8gd2l0aCBjb3JyZWN0IGJ1dCBzbG93ZXIgYWx0ZXJuYXRpdmVzLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTEzODdcclxuICBpZiAoJ2knICE9PSAnSScudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgbG93ZXJjYXNlID0gbWFudWFsTG93ZXJjYXNlO1xyXG4gICAgdXBwZXJjYXNlID0gbWFudWFsVXBwZXJjYXNlO1xyXG4gIH1cclxuXHJcbiAgdmFyIG1zaWUsXHJcbiAgICAgIC8vIGhvbGRzIG1ham9yIHZlcnNpb24gbnVtYmVyIGZvciBJRSwgb3IgTmFOIGlmIFVBIGlzIG5vdCBJRS5cclxuICBqcUxpdGUsXHJcbiAgICAgIC8vIGRlbGF5IGJpbmRpbmcgc2luY2UgalF1ZXJ5IGNvdWxkIGJlIGxvYWRlZCBhZnRlciB1cy5cclxuICBqUXVlcnksXHJcbiAgICAgIC8vIGRlbGF5IGJpbmRpbmdcclxuICBzbGljZSA9IFtdLnNsaWNlLFxyXG4gICAgICBzcGxpY2UgPSBbXS5zcGxpY2UsXHJcbiAgICAgIHB1c2ggPSBbXS5wdXNoLFxyXG4gICAgICB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsXHJcbiAgICAgIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mLFxyXG4gICAgICBuZ01pbkVyciA9IG1pbkVycignbmcnKSxcclxuXHJcblxyXG4gIC8qKiBAbmFtZSBhbmd1bGFyICovXHJcbiAgYW5ndWxhciA9IHdpbmRvdy5hbmd1bGFyIHx8ICh3aW5kb3cuYW5ndWxhciA9IHt9KSxcclxuICAgICAgYW5ndWxhck1vZHVsZSxcclxuICAgICAgdWlkID0gMDtcclxuXHJcbiAgLy8gU3VwcG9ydDogSUUgOS0xMSBvbmx5XHJcbiAgLyoqXHJcbiAgICogZG9jdW1lbnRNb2RlIGlzIGFuIElFLW9ubHkgcHJvcGVydHlcclxuICAgKiBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvY2MxOTY5ODgodj12cy44NSkuYXNweFxyXG4gICAqL1xyXG4gIG1zaWUgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRNb2RlO1xyXG5cclxuICAvKipcclxuICAgKiBAcHJpdmF0ZVxyXG4gICAqIEBwYXJhbSB7Kn0gb2JqXHJcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gUmV0dXJucyB0cnVlIGlmIGBvYmpgIGlzIGFuIGFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0IChOb2RlTGlzdCwgQXJndW1lbnRzLFxyXG4gICAqICAgICAgICAgICAgICAgICAgIFN0cmluZyAuLi4pXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaXNBcnJheUxpa2Uob2JqKSB7XHJcblxyXG4gICAgLy8gYG51bGxgLCBgdW5kZWZpbmVkYCBhbmQgYHdpbmRvd2AgYXJlIG5vdCBhcnJheS1saWtlXHJcbiAgICBpZiAob2JqID09IG51bGwgfHwgaXNXaW5kb3cob2JqKSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgIC8vIGFycmF5cywgc3RyaW5ncyBhbmQgalF1ZXJ5L2pxTGl0ZSBvYmplY3RzIGFyZSBhcnJheSBsaWtlXHJcbiAgICAvLyAqIGpxTGl0ZSBpcyBlaXRoZXIgdGhlIGpRdWVyeSBvciBqcUxpdGUgY29uc3RydWN0b3IgZnVuY3Rpb25cclxuICAgIC8vICogd2UgaGF2ZSB0byBjaGVjayB0aGUgZXhpc3RlbmNlIG9mIGpxTGl0ZSBmaXJzdCBhcyB0aGlzIG1ldGhvZCBpcyBjYWxsZWRcclxuICAgIC8vICAgdmlhIHRoZSBmb3JFYWNoIG1ldGhvZCB3aGVuIGNvbnN0cnVjdGluZyB0aGUganFMaXRlIG9iamVjdCBpbiB0aGUgZmlyc3QgcGxhY2VcclxuICAgIGlmIChpc0FycmF5KG9iaikgfHwgaXNTdHJpbmcob2JqKSB8fCBqcUxpdGUgJiYgb2JqIGluc3RhbmNlb2YganFMaXRlKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICAvLyBTdXBwb3J0OiBpT1MgOC4yIChub3QgcmVwcm9kdWNpYmxlIGluIHNpbXVsYXRvcilcclxuICAgIC8vIFwibGVuZ3RoXCIgaW4gb2JqIHVzZWQgdG8gcHJldmVudCBKSVQgZXJyb3IgKGdoLTExNTA4KVxyXG4gICAgdmFyIGxlbmd0aCA9ICdsZW5ndGgnIGluIE9iamVjdChvYmopICYmIG9iai5sZW5ndGg7XHJcblxyXG4gICAgLy8gTm9kZUxpc3Qgb2JqZWN0cyAod2l0aCBgaXRlbWAgbWV0aG9kKSBhbmRcclxuICAgIC8vIG90aGVyIG9iamVjdHMgd2l0aCBzdWl0YWJsZSBsZW5ndGggY2hhcmFjdGVyaXN0aWNzIGFyZSBhcnJheS1saWtlXHJcbiAgICByZXR1cm4gaXNOdW1iZXIobGVuZ3RoKSAmJiAobGVuZ3RoID49IDAgJiYgKGxlbmd0aCAtIDEgaW4gb2JqIHx8IG9iaiBpbnN0YW5jZW9mIEFycmF5KSB8fCB0eXBlb2Ygb2JqLml0ZW0gPT09ICdmdW5jdGlvbicpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgYW5ndWxhci5mb3JFYWNoXHJcbiAgICogQG1vZHVsZSBuZ1xyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBJbnZva2VzIHRoZSBgaXRlcmF0b3JgIGZ1bmN0aW9uIG9uY2UgZm9yIGVhY2ggaXRlbSBpbiBgb2JqYCBjb2xsZWN0aW9uLCB3aGljaCBjYW4gYmUgZWl0aGVyIGFuXHJcbiAgICogb2JqZWN0IG9yIGFuIGFycmF5LiBUaGUgYGl0ZXJhdG9yYCBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggYGl0ZXJhdG9yKHZhbHVlLCBrZXksIG9iailgLCB3aGVyZSBgdmFsdWVgXHJcbiAgICogaXMgdGhlIHZhbHVlIG9mIGFuIG9iamVjdCBwcm9wZXJ0eSBvciBhbiBhcnJheSBlbGVtZW50LCBga2V5YCBpcyB0aGUgb2JqZWN0IHByb3BlcnR5IGtleSBvclxyXG4gICAqIGFycmF5IGVsZW1lbnQgaW5kZXggYW5kIG9iaiBpcyB0aGUgYG9iamAgaXRzZWxmLiBTcGVjaWZ5aW5nIGEgYGNvbnRleHRgIGZvciB0aGUgZnVuY3Rpb24gaXMgb3B0aW9uYWwuXHJcbiAgICpcclxuICAgKiBJdCBpcyB3b3J0aCBub3RpbmcgdGhhdCBgLmZvckVhY2hgIGRvZXMgbm90IGl0ZXJhdGUgb3ZlciBpbmhlcml0ZWQgcHJvcGVydGllcyBiZWNhdXNlIGl0IGZpbHRlcnNcclxuICAgKiB1c2luZyB0aGUgYGhhc093blByb3BlcnR5YCBtZXRob2QuXHJcbiAgICpcclxuICAgKiBVbmxpa2UgRVMyNjInc1xyXG4gICAqIFtBcnJheS5wcm90b3R5cGUuZm9yRWFjaF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzUuMS8jc2VjLTE1LjQuNC4xOCksXHJcbiAgICogcHJvdmlkaW5nICd1bmRlZmluZWQnIG9yICdudWxsJyB2YWx1ZXMgZm9yIGBvYmpgIHdpbGwgbm90IHRocm93IGEgVHlwZUVycm9yLCBidXQgcmF0aGVyIGp1c3RcclxuICAgKiByZXR1cm4gdGhlIHZhbHVlIHByb3ZpZGVkLlxyXG4gICAqXHJcbiAgICAgYGBganNcclxuICAgICAgIHZhciB2YWx1ZXMgPSB7bmFtZTogJ21pc2tvJywgZ2VuZGVyOiAnbWFsZSd9O1xyXG4gICAgICAgdmFyIGxvZyA9IFtdO1xyXG4gICAgICAgYW5ndWxhci5mb3JFYWNoKHZhbHVlcywgZnVuY3Rpb24odmFsdWUsIGtleSkge1xyXG4gICAgICAgICB0aGlzLnB1c2goa2V5ICsgJzogJyArIHZhbHVlKTtcclxuICAgICAgIH0sIGxvZyk7XHJcbiAgICAgICBleHBlY3QobG9nKS50b0VxdWFsKFsnbmFtZTogbWlza28nLCAnZ2VuZGVyOiBtYWxlJ10pO1xyXG4gICAgIGBgYFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBPYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdG9yIEl0ZXJhdG9yIGZ1bmN0aW9uLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gY29udGV4dCBPYmplY3QgdG8gYmVjb21lIGNvbnRleHQgKGB0aGlzYCkgZm9yIHRoZSBpdGVyYXRvciBmdW5jdGlvbi5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fEFycmF5fSBSZWZlcmVuY2UgdG8gYG9iamAuXHJcbiAgICovXHJcblxyXG4gIGZ1bmN0aW9uIGZvckVhY2gob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xyXG4gICAgdmFyIGtleSwgbGVuZ3RoO1xyXG4gICAgaWYgKG9iaikge1xyXG4gICAgICBpZiAoaXNGdW5jdGlvbihvYmopKSB7XHJcbiAgICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgICBpZiAoa2V5ICE9PSAncHJvdG90eXBlJyAmJiBrZXkgIT09ICdsZW5ndGgnICYmIGtleSAhPT0gJ25hbWUnICYmIG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XHJcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmopIHx8IGlzQXJyYXlMaWtlKG9iaikpIHtcclxuICAgICAgICB2YXIgaXNQcmltaXRpdmUgPSAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2Yob2JqKSkgIT09ICdvYmplY3QnO1xyXG4gICAgICAgIGZvciAoa2V5ID0gMCwgbGVuZ3RoID0gb2JqLmxlbmd0aDsga2V5IDwgbGVuZ3RoOyBrZXkrKykge1xyXG4gICAgICAgICAgaWYgKGlzUHJpbWl0aXZlIHx8IGtleSBpbiBvYmopIHtcclxuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChvYmouZm9yRWFjaCAmJiBvYmouZm9yRWFjaCAhPT0gZm9yRWFjaCkge1xyXG4gICAgICAgIG9iai5mb3JFYWNoKGl0ZXJhdG9yLCBjb250ZXh0LCBvYmopO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzQmxhbmtPYmplY3Qob2JqKSkge1xyXG4gICAgICAgIC8vIGNyZWF0ZU1hcCgpIGZhc3QgcGF0aCAtLS0gU2FmZSB0byBhdm9pZCBoYXNPd25Qcm9wZXJ0eSBjaGVjayBiZWNhdXNlIHByb3RvdHlwZSBjaGFpbiBpcyBlbXB0eVxyXG4gICAgICAgIGZvciAoa2V5IGluIG9iaikge1xyXG4gICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqLmhhc093blByb3BlcnR5ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgLy8gU2xvdyBwYXRoIGZvciBvYmplY3RzIGluaGVyaXRpbmcgT2JqZWN0LnByb3RvdHlwZSwgaGFzT3duUHJvcGVydHkgY2hlY2sgbmVlZGVkXHJcbiAgICAgICAgZm9yIChrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBTbG93IHBhdGggZm9yIG9iamVjdHMgd2hpY2ggZG8gbm90IGhhdmUgYSBtZXRob2QgYGhhc093blByb3BlcnR5YFxyXG4gICAgICAgIGZvciAoa2V5IGluIG9iaikge1xyXG4gICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvYmo7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBmb3JFYWNoU29ydGVkKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcclxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKS5zb3J0KCk7XHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpba2V5c1tpXV0sIGtleXNbaV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGtleXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiB3aGVuIHVzaW5nIGZvckVhY2ggdGhlIHBhcmFtcyBhcmUgdmFsdWUsIGtleSwgYnV0IGl0IGlzIG9mdGVuIHVzZWZ1bCB0byBoYXZlIGtleSwgdmFsdWUuXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmcsICopfSBpdGVyYXRvckZuXHJcbiAgICogQHJldHVybnMge2Z1bmN0aW9uKCosIHN0cmluZyl9XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcmV2ZXJzZVBhcmFtcyhpdGVyYXRvckZuKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgaXRlcmF0b3JGbihrZXksIHZhbHVlKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBIGNvbnNpc3RlbnQgd2F5IG9mIGNyZWF0aW5nIHVuaXF1ZSBJRHMgaW4gYW5ndWxhci5cclxuICAgKlxyXG4gICAqIFVzaW5nIHNpbXBsZSBudW1iZXJzIGFsbG93cyB1cyB0byBnZW5lcmF0ZSAyOC42IG1pbGxpb24gdW5pcXVlIGlkcyBwZXIgc2Vjb25kIGZvciAxMCB5ZWFycyBiZWZvcmVcclxuICAgKiB3ZSBoaXQgbnVtYmVyIHByZWNpc2lvbiBpc3N1ZXMgaW4gSmF2YVNjcmlwdC5cclxuICAgKlxyXG4gICAqIE1hdGgucG93KDIsNTMpIC8gNjAgLyA2MCAvIDI0IC8gMzY1IC8gMTAgPSAyOC42TVxyXG4gICAqXHJcbiAgICogQHJldHVybnMge251bWJlcn0gYW4gdW5pcXVlIGFscGhhLW51bWVyaWMgc3RyaW5nXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbmV4dFVpZCgpIHtcclxuICAgIHJldHVybiArK3VpZDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFNldCBvciBjbGVhciB0aGUgaGFzaGtleSBmb3IgYW4gb2JqZWN0LlxyXG4gICAqIEBwYXJhbSBvYmogb2JqZWN0XHJcbiAgICogQHBhcmFtIGggdGhlIGhhc2hrZXkgKCF0cnV0aHkgdG8gZGVsZXRlIHRoZSBoYXNoa2V5KVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHNldEhhc2hLZXkob2JqLCBoKSB7XHJcbiAgICBpZiAoaCkge1xyXG4gICAgICBvYmouJCRoYXNoS2V5ID0gaDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRlbGV0ZSBvYmouJCRoYXNoS2V5O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYmFzZUV4dGVuZChkc3QsIG9ianMsIGRlZXApIHtcclxuICAgIHZhciBoID0gZHN0LiQkaGFzaEtleTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBvYmpzLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcclxuICAgICAgdmFyIG9iaiA9IG9ianNbaV07XHJcbiAgICAgIGlmICghaXNPYmplY3Qob2JqKSAmJiAhaXNGdW5jdGlvbihvYmopKSBjb250aW51ZTtcclxuICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xyXG4gICAgICBmb3IgKHZhciBqID0gMCwgamogPSBrZXlzLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcclxuICAgICAgICB2YXIga2V5ID0ga2V5c1tqXTtcclxuICAgICAgICB2YXIgc3JjID0gb2JqW2tleV07XHJcblxyXG4gICAgICAgIGlmIChkZWVwICYmIGlzT2JqZWN0KHNyYykpIHtcclxuICAgICAgICAgIGlmIChpc0RhdGUoc3JjKSkge1xyXG4gICAgICAgICAgICBkc3Rba2V5XSA9IG5ldyBEYXRlKHNyYy52YWx1ZU9mKCkpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChpc1JlZ0V4cChzcmMpKSB7XHJcbiAgICAgICAgICAgIGRzdFtrZXldID0gbmV3IFJlZ0V4cChzcmMpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChzcmMubm9kZU5hbWUpIHtcclxuICAgICAgICAgICAgZHN0W2tleV0gPSBzcmMuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChpc0VsZW1lbnQoc3JjKSkge1xyXG4gICAgICAgICAgICBkc3Rba2V5XSA9IHNyYy5jbG9uZSgpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChkc3Rba2V5XSkpIGRzdFtrZXldID0gaXNBcnJheShzcmMpID8gW10gOiB7fTtcclxuICAgICAgICAgICAgYmFzZUV4dGVuZChkc3Rba2V5XSwgW3NyY10sIHRydWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkc3Rba2V5XSA9IHNyYztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRIYXNoS2V5KGRzdCwgaCk7XHJcbiAgICByZXR1cm4gZHN0O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgYW5ndWxhci5leHRlbmRcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEV4dGVuZHMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBgZHN0YCBieSBjb3B5aW5nIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZnJvbSB0aGUgYHNyY2Agb2JqZWN0KHMpXHJcbiAgICogdG8gYGRzdGAuIFlvdSBjYW4gc3BlY2lmeSBtdWx0aXBsZSBgc3JjYCBvYmplY3RzLiBJZiB5b3Ugd2FudCB0byBwcmVzZXJ2ZSBvcmlnaW5hbCBvYmplY3RzLCB5b3UgY2FuIGRvIHNvXHJcbiAgICogYnkgcGFzc2luZyBhbiBlbXB0eSBvYmplY3QgYXMgdGhlIHRhcmdldDogYHZhciBvYmplY3QgPSBhbmd1bGFyLmV4dGVuZCh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxyXG4gICAqXHJcbiAgICogKipOb3RlOioqIEtlZXAgaW4gbWluZCB0aGF0IGBhbmd1bGFyLmV4dGVuZGAgZG9lcyBub3Qgc3VwcG9ydCByZWN1cnNpdmUgbWVyZ2UgKGRlZXAgY29weSkuIFVzZVxyXG4gICAqIHtAbGluayBhbmd1bGFyLm1lcmdlfSBmb3IgdGhpcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBkc3QgRGVzdGluYXRpb24gb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzcmMgU291cmNlIG9iamVjdChzKS5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZWZlcmVuY2UgdG8gYGRzdGAuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZXh0ZW5kKGRzdCkge1xyXG4gICAgcmV0dXJuIGJhc2VFeHRlbmQoZHN0LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSksIGZhbHNlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgKiBAbmFtZSBhbmd1bGFyLm1lcmdlXHJcbiAgKiBAbW9kdWxlIG5nXHJcbiAgKiBAa2luZCBmdW5jdGlvblxyXG4gICpcclxuICAqIEBkZXNjcmlwdGlvblxyXG4gICogRGVlcGx5IGV4dGVuZHMgdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBgZHN0YCBieSBjb3B5aW5nIG93biBlbnVtZXJhYmxlIHByb3BlcnRpZXMgZnJvbSB0aGUgYHNyY2Agb2JqZWN0KHMpXHJcbiAgKiB0byBgZHN0YC4gWW91IGNhbiBzcGVjaWZ5IG11bHRpcGxlIGBzcmNgIG9iamVjdHMuIElmIHlvdSB3YW50IHRvIHByZXNlcnZlIG9yaWdpbmFsIG9iamVjdHMsIHlvdSBjYW4gZG8gc29cclxuICAqIGJ5IHBhc3NpbmcgYW4gZW1wdHkgb2JqZWN0IGFzIHRoZSB0YXJnZXQ6IGB2YXIgb2JqZWN0ID0gYW5ndWxhci5tZXJnZSh7fSwgb2JqZWN0MSwgb2JqZWN0MilgLlxyXG4gICpcclxuICAqIFVubGlrZSB7QGxpbmsgYW5ndWxhci5leHRlbmQgZXh0ZW5kKCl9LCBgbWVyZ2UoKWAgcmVjdXJzaXZlbHkgZGVzY2VuZHMgaW50byBvYmplY3QgcHJvcGVydGllcyBvZiBzb3VyY2VcclxuICAqIG9iamVjdHMsIHBlcmZvcm1pbmcgYSBkZWVwIGNvcHkuXHJcbiAgKlxyXG4gICogQGRlcHJlY2F0ZWRcclxuICAqIHNpbmNlVmVyc2lvbj1cIjEuNi41XCJcclxuICAqIFRoaXMgZnVuY3Rpb24gaXMgZGVwcmVjYXRlZCwgYnV0IHdpbGwgbm90IGJlIHJlbW92ZWQgaW4gdGhlIDEueCBsaWZlY3ljbGUuXHJcbiAgKiBUaGVyZSBhcmUgZWRnZSBjYXNlcyAoc2VlIHtAbGluayBhbmd1bGFyLm1lcmdlI2tub3duLWlzc3VlcyBrbm93biBpc3N1ZXN9KSB0aGF0IGFyZSBub3RcclxuICAqIHN1cHBvcnRlZCBieSB0aGlzIGZ1bmN0aW9uLiBXZSBzdWdnZXN0XHJcbiAgKiB1c2luZyBbbG9kYXNoJ3MgbWVyZ2UoKV0oaHR0cHM6Ly9sb2Rhc2guY29tL2RvY3MvNC4xNy40I21lcmdlKSBpbnN0ZWFkLlxyXG4gICpcclxuICAqIEBrbm93bklzc3VlXHJcbiAgKiBUaGlzIGlzIGEgbGlzdCBvZiAoa25vd24pIG9iamVjdCB0eXBlcyB0aGF0IGFyZSBub3QgaGFuZGxlZCBjb3JyZWN0bHkgYnkgdGhpcyBmdW5jdGlvbjpcclxuICAqIC0gW2BCbG9iYF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0Jsb2IpXHJcbiAgKiAtIFtgTWVkaWFTdHJlYW1gXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvTWVkaWFTdHJlYW0pXHJcbiAgKiAtIFtgQ2FudmFzR3JhZGllbnRgXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvQ2FudmFzR3JhZGllbnQpXHJcbiAgKiAtIEFuZ3VsYXJKUyB7QGxpbmsgJHJvb3RTY29wZS5TY29wZSBzY29wZXN9O1xyXG4gICpcclxuICAqIEBwYXJhbSB7T2JqZWN0fSBkc3QgRGVzdGluYXRpb24gb2JqZWN0LlxyXG4gICogQHBhcmFtIHsuLi5PYmplY3R9IHNyYyBTb3VyY2Ugb2JqZWN0KHMpLlxyXG4gICogQHJldHVybnMge09iamVjdH0gUmVmZXJlbmNlIHRvIGBkc3RgLlxyXG4gICovXHJcbiAgZnVuY3Rpb24gbWVyZ2UoZHN0KSB7XHJcbiAgICByZXR1cm4gYmFzZUV4dGVuZChkc3QsIHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSwgdHJ1ZSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0b0ludChzdHIpIHtcclxuICAgIHJldHVybiBwYXJzZUludChzdHIsIDEwKTtcclxuICB9XHJcblxyXG4gIHZhciBpc051bWJlck5hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBpc051bWJlck5hTihudW0pIHtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcclxuICAgIHJldHVybiBudW0gIT09IG51bTtcclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBpbmhlcml0KHBhcmVudCwgZXh0cmEpIHtcclxuICAgIHJldHVybiBleHRlbmQoT2JqZWN0LmNyZWF0ZShwYXJlbnQpLCBleHRyYSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBhbmd1bGFyLm5vb3BcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBubyBvcGVyYXRpb25zLiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VmdWwgd2hlbiB3cml0aW5nIGNvZGUgaW4gdGhlXHJcbiAgICogZnVuY3Rpb25hbCBzdHlsZS5cclxuICAgICBgYGBqc1xyXG4gICAgICAgZnVuY3Rpb24gZm9vKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgIHZhciByZXN1bHQgPSBjYWxjdWxhdGVSZXN1bHQoKTtcclxuICAgICAgICAgKGNhbGxiYWNrIHx8IGFuZ3VsYXIubm9vcCkocmVzdWx0KTtcclxuICAgICAgIH1cclxuICAgICBgYGBcclxuICAgKi9cclxuICBmdW5jdGlvbiBub29wKCkge31cclxuICBub29wLiRpbmplY3QgPSBbXTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgYW5ndWxhci5pZGVudGl0eVxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQSBmdW5jdGlvbiB0aGF0IHJldHVybnMgaXRzIGZpcnN0IGFyZ3VtZW50LiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWZ1bCB3aGVuIHdyaXRpbmcgY29kZSBpbiB0aGVcclxuICAgKiBmdW5jdGlvbmFsIHN0eWxlLlxyXG4gICAqXHJcbiAgICAgYGBganNcclxuICAgICBmdW5jdGlvbiB0cmFuc2Zvcm1lcih0cmFuc2Zvcm1hdGlvbkZuLCB2YWx1ZSkge1xyXG4gICAgICAgcmV0dXJuICh0cmFuc2Zvcm1hdGlvbkZuIHx8IGFuZ3VsYXIuaWRlbnRpdHkpKHZhbHVlKTtcclxuICAgICB9O1xyXG4gIFxyXG4gICAgIC8vIEUuZy5cclxuICAgICBmdW5jdGlvbiBnZXRSZXN1bHQoZm4sIGlucHV0KSB7XHJcbiAgICAgICByZXR1cm4gKGZuIHx8IGFuZ3VsYXIuaWRlbnRpdHkpKGlucHV0KTtcclxuICAgICB9O1xyXG4gIFxyXG4gICAgIGdldFJlc3VsdChmdW5jdGlvbihuKSB7IHJldHVybiBuICogMjsgfSwgMjEpOyAgIC8vIHJldHVybnMgNDJcclxuICAgICBnZXRSZXN1bHQobnVsbCwgMjEpOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm5zIDIxXHJcbiAgICAgZ2V0UmVzdWx0KHVuZGVmaW5lZCwgMjEpOyAgICAgICAgICAgICAgICAgICAgICAgLy8gcmV0dXJucyAyMVxyXG4gICAgIGBgYFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSB0byBiZSByZXR1cm5lZC5cclxuICAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHBhc3NlZCBpbi5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpZGVudGl0eSgkKSB7XHJcbiAgICByZXR1cm4gJDtcclxuICB9XHJcbiAgaWRlbnRpdHkuJGluamVjdCA9IFtdO1xyXG5cclxuICBmdW5jdGlvbiB2YWx1ZUZuKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gdmFsdWVSZWYoKSB7XHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBoYXNDdXN0b21Ub1N0cmluZyhvYmopIHtcclxuICAgIHJldHVybiBpc0Z1bmN0aW9uKG9iai50b1N0cmluZykgJiYgb2JqLnRvU3RyaW5nICE9PSB0b1N0cmluZztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIGFuZ3VsYXIuaXNVbmRlZmluZWRcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgdW5kZWZpbmVkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyB1bmRlZmluZWQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgYW5ndWxhci5pc0RlZmluZWRcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgZGVmaW5lZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgZGVmaW5lZC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc0RlZmluZWQodmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgYW5ndWxhci5pc09iamVjdFxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhbiBgT2JqZWN0YC4gVW5saWtlIGB0eXBlb2ZgIGluIEphdmFTY3JpcHQsIGBudWxsYHMgYXJlIG5vdFxyXG4gICAqIGNvbnNpZGVyZWQgdG8gYmUgb2JqZWN0cy4gTm90ZSB0aGF0IEphdmFTY3JpcHQgYXJyYXlzIGFyZSBvYmplY3RzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgT2JqZWN0YCBidXQgbm90IGBudWxsYC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xyXG4gICAgLy8gaHR0cDovL2pzcGVyZi5jb20vaXNvYmplY3Q0XHJcbiAgICByZXR1cm4gdmFsdWUgIT09IG51bGwgJiYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFsdWUpKSA9PT0gJ29iamVjdCc7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBEZXRlcm1pbmUgaWYgYSB2YWx1ZSBpcyBhbiBvYmplY3Qgd2l0aCBhIG51bGwgcHJvdG90eXBlXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGFuIGBPYmplY3RgIHdpdGggYSBudWxsIHByb3RvdHlwZVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzQmxhbmtPYmplY3QodmFsdWUpIHtcclxuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2YWx1ZSkpID09PSAnb2JqZWN0JyAmJiAhZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgYW5ndWxhci5pc1N0cmluZ1xyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBTdHJpbmdgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBTdHJpbmdgLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIGFuZ3VsYXIuaXNOdW1iZXJcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBgTnVtYmVyYC5cclxuICAgKlxyXG4gICAqIFRoaXMgaW5jbHVkZXMgdGhlIFwic3BlY2lhbFwiIG51bWJlcnMgYE5hTmAsIGArSW5maW5pdHlgIGFuZCBgLUluZmluaXR5YC5cclxuICAgKlxyXG4gICAqIElmIHlvdSB3aXNoIHRvIGV4Y2x1ZGUgdGhlc2UgdGhlbiB5b3UgY2FuIHVzZSB0aGUgbmF0aXZlXHJcbiAgICogW2Bpc0Zpbml0ZSddKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2lzRmluaXRlKVxyXG4gICAqIG1ldGhvZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgTnVtYmVyYC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcic7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBhbmd1bGFyLmlzRGF0ZVxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgZGF0ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgUmVmZXJlbmNlIHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgaXMgYSBgRGF0ZWAuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IERhdGVdJztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIGFuZ3VsYXIuaXNBcnJheVxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhbiBgQXJyYXlgLiBBbGlhcyBvZiBBcnJheS5pc0FycmF5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgQXJyYXlgLlxyXG4gICAqL1xyXG4gIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcclxuXHJcbiAgLyoqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhbiBgRXJyb3JgLlxyXG4gICAqIExvb3NlbHkgYmFzZWQgb24gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvaXNlcnJvclxyXG4gICAqXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzRXJyb3IodmFsdWUpIHtcclxuICAgIHZhciB0YWcgPSB0b1N0cmluZy5jYWxsKHZhbHVlKTtcclxuICAgIHN3aXRjaCAodGFnKSB7XHJcbiAgICAgIGNhc2UgJ1tvYmplY3QgRXJyb3JdJzpcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgY2FzZSAnW29iamVjdCBFeGNlcHRpb25dJzpcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgY2FzZSAnW29iamVjdCBET01FeGNlcHRpb25dJzpcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBFcnJvcjtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIGFuZ3VsYXIuaXNGdW5jdGlvblxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRGV0ZXJtaW5lcyBpZiBhIHJlZmVyZW5jZSBpcyBhIGBGdW5jdGlvbmAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgYEZ1bmN0aW9uYC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRGV0ZXJtaW5lcyBpZiBhIHZhbHVlIGlzIGEgcmVndWxhciBleHByZXNzaW9uIG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBSZWZlcmVuY2UgdG8gY2hlY2suXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYHZhbHVlYCBpcyBhIGBSZWdFeHBgLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzUmVnRXhwKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2hlY2tzIGlmIGBvYmpgIGlzIGEgd2luZG93IG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICogQHBhcmFtIHsqfSBvYmogT2JqZWN0IHRvIGNoZWNrXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYG9iamAgaXMgYSB3aW5kb3cgb2JqLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzV2luZG93KG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiAmJiBvYmoud2luZG93ID09PSBvYmo7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1Njb3BlKG9iaikge1xyXG4gICAgcmV0dXJuIG9iaiAmJiBvYmouJGV2YWxBc3luYyAmJiBvYmouJHdhdGNoO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNGaWxlKG9iaikge1xyXG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgRmlsZV0nO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNGb3JtRGF0YShvYmopIHtcclxuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEZvcm1EYXRhXSc7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc0Jsb2Iob2JqKSB7XHJcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09PSAnW29iamVjdCBCbG9iXSc7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcclxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzUHJvbWlzZUxpa2Uob2JqKSB7XHJcbiAgICByZXR1cm4gb2JqICYmIGlzRnVuY3Rpb24ob2JqLnRoZW4pO1xyXG4gIH1cclxuXHJcbiAgdmFyIFRZUEVEX0FSUkFZX1JFR0VYUCA9IC9eXFxbb2JqZWN0ICg/OlVpbnQ4fFVpbnQ4Q2xhbXBlZHxVaW50MTZ8VWludDMyfEludDh8SW50MTZ8SW50MzJ8RmxvYXQzMnxGbG9hdDY0KUFycmF5XSQvO1xyXG4gIGZ1bmN0aW9uIGlzVHlwZWRBcnJheSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlICYmIGlzTnVtYmVyKHZhbHVlLmxlbmd0aCkgJiYgVFlQRURfQVJSQVlfUkVHRVhQLnRlc3QodG9TdHJpbmcuY2FsbCh2YWx1ZSkpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNBcnJheUJ1ZmZlcihvYmopIHtcclxuICAgIHJldHVybiB0b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XHJcbiAgfVxyXG5cclxuICB2YXIgdHJpbSA9IGZ1bmN0aW9uIHRyaW0odmFsdWUpIHtcclxuICAgIHJldHVybiBpc1N0cmluZyh2YWx1ZSkgPyB2YWx1ZS50cmltKCkgOiB2YWx1ZTtcclxuICB9O1xyXG5cclxuICAvLyBDb3BpZWQgZnJvbTpcclxuICAvLyBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2xvY2FsX2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmUxMDIxXHJcbiAgLy8gUHJlcmVxOiBzIGlzIGEgc3RyaW5nLlxyXG4gIHZhciBlc2NhcGVGb3JSZWdleHAgPSBmdW5jdGlvbiBlc2NhcGVGb3JSZWdleHAocykge1xyXG4gICAgcmV0dXJuIHMucmVwbGFjZSgvKFstKClbXFxde30rPyouJF58LDojPCFcXFxcXSkvZywgJ1xcXFwkMScpXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29udHJvbC1yZWdleFxyXG4gICAgLnJlcGxhY2UoL1xceDA4L2csICdcXFxceDA4Jyk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgYW5ndWxhci5pc0VsZW1lbnRcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIERldGVybWluZXMgaWYgYSByZWZlcmVuY2UgaXMgYSBET00gZWxlbWVudCAob3Igd3JhcHBlZCBqUXVlcnkgZWxlbWVudCkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFJlZmVyZW5jZSB0byBjaGVjay5cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIGEgRE9NIGVsZW1lbnQgKG9yIHdyYXBwZWQgalF1ZXJ5IGVsZW1lbnQpLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGlzRWxlbWVudChub2RlKSB7XHJcbiAgICByZXR1cm4gISEobm9kZSAmJiAobm9kZS5ub2RlTmFtZSAvLyBXZSBhcmUgYSBkaXJlY3QgZWxlbWVudC5cclxuICAgIHx8IG5vZGUucHJvcCAmJiBub2RlLmF0dHIgJiYgbm9kZS5maW5kKSk7IC8vIFdlIGhhdmUgYW4gb24gYW5kIGZpbmQgbWV0aG9kIHBhcnQgb2YgalF1ZXJ5IEFQSS5cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSBzdHIgJ2tleTEsa2V5MiwuLi4nXHJcbiAgICogQHJldHVybnMge29iamVjdH0gaW4gdGhlIGZvcm0gb2Yge2tleTE6dHJ1ZSwga2V5Mjp0cnVlLCAuLi59XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gbWFrZU1hcChzdHIpIHtcclxuICAgIHZhciBvYmogPSB7fSxcclxuICAgICAgICBpdGVtcyA9IHN0ci5zcGxpdCgnLCcpLFxyXG4gICAgICAgIGk7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgb2JqW2l0ZW1zW2ldXSA9IHRydWU7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbm9kZU5hbWVfKGVsZW1lbnQpIHtcclxuICAgIHJldHVybiBsb3dlcmNhc2UoZWxlbWVudC5ub2RlTmFtZSB8fCBlbGVtZW50WzBdICYmIGVsZW1lbnRbMF0ubm9kZU5hbWUpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaW5jbHVkZXMoYXJyYXksIG9iaikge1xyXG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYXJyYXksIG9iaikgIT09IC0xO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYXJyYXlSZW1vdmUoYXJyYXksIHZhbHVlKSB7XHJcbiAgICB2YXIgaW5kZXggPSBhcnJheS5pbmRleE9mKHZhbHVlKTtcclxuICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgIGFycmF5LnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaW5kZXg7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBhbmd1bGFyLmNvcHlcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENyZWF0ZXMgYSBkZWVwIGNvcHkgb2YgYHNvdXJjZWAsIHdoaWNoIHNob3VsZCBiZSBhbiBvYmplY3Qgb3IgYW4gYXJyYXkuXHJcbiAgICpcclxuICAgKiAqIElmIG5vIGRlc3RpbmF0aW9uIGlzIHN1cHBsaWVkLCBhIGNvcHkgb2YgdGhlIG9iamVjdCBvciBhcnJheSBpcyBjcmVhdGVkLlxyXG4gICAqICogSWYgYSBkZXN0aW5hdGlvbiBpcyBwcm92aWRlZCwgYWxsIG9mIGl0cyBlbGVtZW50cyAoZm9yIGFycmF5cykgb3IgcHJvcGVydGllcyAoZm9yIG9iamVjdHMpXHJcbiAgICogICBhcmUgZGVsZXRlZCBhbmQgdGhlbiBhbGwgZWxlbWVudHMvcHJvcGVydGllcyBmcm9tIHRoZSBzb3VyY2UgYXJlIGNvcGllZCB0byBpdC5cclxuICAgKiAqIElmIGBzb3VyY2VgIGlzIG5vdCBhbiBvYmplY3Qgb3IgYXJyYXkgKGluYy4gYG51bGxgIGFuZCBgdW5kZWZpbmVkYCksIGBzb3VyY2VgIGlzIHJldHVybmVkLlxyXG4gICAqICogSWYgYHNvdXJjZWAgaXMgaWRlbnRpY2FsIHRvIGBkZXN0aW5hdGlvbmAgYW4gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duLlxyXG4gICAqXHJcbiAgICogPGJyIC8+XHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgKiAgIE9ubHkgZW51bWVyYWJsZSBwcm9wZXJ0aWVzIGFyZSB0YWtlbiBpbnRvIGFjY291bnQuIE5vbi1lbnVtZXJhYmxlIHByb3BlcnRpZXMgKGJvdGggb24gYHNvdXJjZWBcclxuICAgKiAgIGFuZCBvbiBgZGVzdGluYXRpb25gKSB3aWxsIGJlIGlnbm9yZWQuXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IHNvdXJjZSBUaGUgc291cmNlIHRoYXQgd2lsbCBiZSB1c2VkIHRvIG1ha2UgYSBjb3B5LlxyXG4gICAqICAgICAgICAgICAgICAgICAgIENhbiBiZSBhbnkgdHlwZSwgaW5jbHVkaW5nIHByaW1pdGl2ZXMsIGBudWxsYCwgYW5kIGB1bmRlZmluZWRgLlxyXG4gICAqIEBwYXJhbSB7KE9iamVjdHxBcnJheSk9fSBkZXN0aW5hdGlvbiBEZXN0aW5hdGlvbiBpbnRvIHdoaWNoIHRoZSBzb3VyY2UgaXMgY29waWVkLiBJZlxyXG4gICAqICAgICBwcm92aWRlZCwgbXVzdCBiZSBvZiB0aGUgc2FtZSB0eXBlIGFzIGBzb3VyY2VgLlxyXG4gICAqIEByZXR1cm5zIHsqfSBUaGUgY29weSBvciB1cGRhdGVkIGBkZXN0aW5hdGlvbmAsIGlmIGBkZXN0aW5hdGlvbmAgd2FzIHNwZWNpZmllZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJjb3B5RXhhbXBsZVwiIG5hbWU9XCJhbmd1bGFyLWNvcHlcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgPGZvcm0gbm92YWxpZGF0ZSBjbGFzcz1cInNpbXBsZS1mb3JtXCI+XHJcbiAgICAgICAgICAgIDxsYWJlbD5OYW1lOiA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInVzZXIubmFtZVwiIC8+PC9sYWJlbD48YnIgLz5cclxuICAgICAgICAgICAgPGxhYmVsPkFnZTogIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJ1c2VyLmFnZVwiIC8+PC9sYWJlbD48YnIgLz5cclxuICAgICAgICAgICAgR2VuZGVyOiA8bGFiZWw+PGlucHV0IHR5cGU9XCJyYWRpb1wiIG5nLW1vZGVsPVwidXNlci5nZW5kZXJcIiB2YWx1ZT1cIm1hbGVcIiAvPm1hbGU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbD48aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJ1c2VyLmdlbmRlclwiIHZhbHVlPVwiZmVtYWxlXCIgLz5mZW1hbGU8L2xhYmVsPjxiciAvPlxyXG4gICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicmVzZXQoKVwiPlJFU0VUPC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJ1cGRhdGUodXNlcilcIj5TQVZFPC9idXR0b24+XHJcbiAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICA8cHJlPmZvcm0gPSB7e3VzZXIgfCBqc29ufX08L3ByZT5cclxuICAgICAgICAgIDxwcmU+bWFzdGVyID0ge3ttYXN0ZXIgfCBqc29ufX08L3ByZT5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgLy8gTW9kdWxlOiBjb3B5RXhhbXBsZVxyXG4gICAgICAgIGFuZ3VsYXIuXHJcbiAgICAgICAgICBtb2R1bGUoJ2NvcHlFeGFtcGxlJywgW10pLlxyXG4gICAgICAgICAgY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUubWFzdGVyID0ge307XHJcbiAgXHJcbiAgICAgICAgICAgICRzY29wZS5yZXNldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIC8vIEV4YW1wbGUgd2l0aCAxIGFyZ3VtZW50XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSBhbmd1bGFyLmNvcHkoJHNjb3BlLm1hc3Rlcik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgXHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGUgPSBmdW5jdGlvbih1c2VyKSB7XHJcbiAgICAgICAgICAgICAgLy8gRXhhbXBsZSB3aXRoIDIgYXJndW1lbnRzXHJcbiAgICAgICAgICAgICAgYW5ndWxhci5jb3B5KHVzZXIsICRzY29wZS5tYXN0ZXIpO1xyXG4gICAgICAgICAgICB9O1xyXG4gIFxyXG4gICAgICAgICAgICAkc2NvcGUucmVzZXQoKTtcclxuICAgICAgICAgIH1dKTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNvcHkoc291cmNlLCBkZXN0aW5hdGlvbiwgbWF4RGVwdGgpIHtcclxuICAgIHZhciBzdGFja1NvdXJjZSA9IFtdO1xyXG4gICAgdmFyIHN0YWNrRGVzdCA9IFtdO1xyXG4gICAgbWF4RGVwdGggPSBpc1ZhbGlkT2JqZWN0TWF4RGVwdGgobWF4RGVwdGgpID8gbWF4RGVwdGggOiBOYU47XHJcblxyXG4gICAgaWYgKGRlc3RpbmF0aW9uKSB7XHJcbiAgICAgIGlmIChpc1R5cGVkQXJyYXkoZGVzdGluYXRpb24pIHx8IGlzQXJyYXlCdWZmZXIoZGVzdGluYXRpb24pKSB7XHJcbiAgICAgICAgdGhyb3cgbmdNaW5FcnIoJ2NwdGEnLCAnQ2FuXFwndCBjb3B5ISBUeXBlZEFycmF5IGRlc3RpbmF0aW9uIGNhbm5vdCBiZSBtdXRhdGVkLicpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzb3VyY2UgPT09IGRlc3RpbmF0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgbmdNaW5FcnIoJ2NwaScsICdDYW5cXCd0IGNvcHkhIFNvdXJjZSBhbmQgZGVzdGluYXRpb24gYXJlIGlkZW50aWNhbC4nKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRW1wdHkgdGhlIGRlc3RpbmF0aW9uIG9iamVjdFxyXG4gICAgICBpZiAoaXNBcnJheShkZXN0aW5hdGlvbikpIHtcclxuICAgICAgICBkZXN0aW5hdGlvbi5sZW5ndGggPSAwO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvckVhY2goZGVzdGluYXRpb24sIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICBpZiAoa2V5ICE9PSAnJCRoYXNoS2V5Jykge1xyXG4gICAgICAgICAgICBkZWxldGUgZGVzdGluYXRpb25ba2V5XTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgc3RhY2tTb3VyY2UucHVzaChzb3VyY2UpO1xyXG4gICAgICBzdGFja0Rlc3QucHVzaChkZXN0aW5hdGlvbik7XHJcbiAgICAgIHJldHVybiBjb3B5UmVjdXJzZShzb3VyY2UsIGRlc3RpbmF0aW9uLCBtYXhEZXB0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNvcHlFbGVtZW50KHNvdXJjZSwgbWF4RGVwdGgpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNvcHlSZWN1cnNlKHNvdXJjZSwgZGVzdGluYXRpb24sIG1heERlcHRoKSB7XHJcbiAgICAgIG1heERlcHRoLS07XHJcbiAgICAgIGlmIChtYXhEZXB0aCA8IDApIHtcclxuICAgICAgICByZXR1cm4gJy4uLic7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGggPSBkZXN0aW5hdGlvbi4kJGhhc2hLZXk7XHJcbiAgICAgIHZhciBrZXk7XHJcbiAgICAgIGlmIChpc0FycmF5KHNvdXJjZSkpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBzb3VyY2UubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgZGVzdGluYXRpb24ucHVzaChjb3B5RWxlbWVudChzb3VyY2VbaV0sIG1heERlcHRoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKGlzQmxhbmtPYmplY3Qoc291cmNlKSkge1xyXG4gICAgICAgIC8vIGNyZWF0ZU1hcCgpIGZhc3QgcGF0aCAtLS0gU2FmZSB0byBhdm9pZCBoYXNPd25Qcm9wZXJ0eSBjaGVjayBiZWNhdXNlIHByb3RvdHlwZSBjaGFpbiBpcyBlbXB0eVxyXG4gICAgICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xyXG4gICAgICAgICAgZGVzdGluYXRpb25ba2V5XSA9IGNvcHlFbGVtZW50KHNvdXJjZVtrZXldLCBtYXhEZXB0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHNvdXJjZSAmJiB0eXBlb2Ygc291cmNlLmhhc093blByb3BlcnR5ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgLy8gU2xvdyBwYXRoLCB3aGljaCBtdXN0IHJlbHkgb24gaGFzT3duUHJvcGVydHlcclxuICAgICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcclxuICAgICAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gY29weUVsZW1lbnQoc291cmNlW2tleV0sIG1heERlcHRoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gU2xvd2VzdCBwYXRoIC0tLSBoYXNPd25Qcm9wZXJ0eSBjYW4ndCBiZSBjYWxsZWQgYXMgYSBtZXRob2RcclxuICAgICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcclxuICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xyXG4gICAgICAgICAgICBkZXN0aW5hdGlvbltrZXldID0gY29weUVsZW1lbnQoc291cmNlW2tleV0sIG1heERlcHRoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgc2V0SGFzaEtleShkZXN0aW5hdGlvbiwgaCk7XHJcbiAgICAgIHJldHVybiBkZXN0aW5hdGlvbjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBjb3B5RWxlbWVudChzb3VyY2UsIG1heERlcHRoKSB7XHJcbiAgICAgIC8vIFNpbXBsZSB2YWx1ZXNcclxuICAgICAgaWYgKCFpc09iamVjdChzb3VyY2UpKSB7XHJcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQWxyZWFkeSBjb3BpZWQgdmFsdWVzXHJcbiAgICAgIHZhciBpbmRleCA9IHN0YWNrU291cmNlLmluZGV4T2Yoc291cmNlKTtcclxuICAgICAgaWYgKGluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIHJldHVybiBzdGFja0Rlc3RbaW5kZXhdO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNXaW5kb3coc291cmNlKSB8fCBpc1Njb3BlKHNvdXJjZSkpIHtcclxuICAgICAgICB0aHJvdyBuZ01pbkVycignY3B3cycsICdDYW5cXCd0IGNvcHkhIE1ha2luZyBjb3BpZXMgb2YgV2luZG93IG9yIFNjb3BlIGluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLicpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgbmVlZHNSZWN1cnNlID0gZmFsc2U7XHJcbiAgICAgIHZhciBkZXN0aW5hdGlvbiA9IGNvcHlUeXBlKHNvdXJjZSk7XHJcblxyXG4gICAgICBpZiAoZGVzdGluYXRpb24gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGRlc3RpbmF0aW9uID0gaXNBcnJheShzb3VyY2UpID8gW10gOiBPYmplY3QuY3JlYXRlKGdldFByb3RvdHlwZU9mKHNvdXJjZSkpO1xyXG4gICAgICAgIG5lZWRzUmVjdXJzZSA9IHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHN0YWNrU291cmNlLnB1c2goc291cmNlKTtcclxuICAgICAgc3RhY2tEZXN0LnB1c2goZGVzdGluYXRpb24pO1xyXG5cclxuICAgICAgcmV0dXJuIG5lZWRzUmVjdXJzZSA/IGNvcHlSZWN1cnNlKHNvdXJjZSwgZGVzdGluYXRpb24sIG1heERlcHRoKSA6IGRlc3RpbmF0aW9uO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNvcHlUeXBlKHNvdXJjZSkge1xyXG4gICAgICBzd2l0Y2ggKHRvU3RyaW5nLmNhbGwoc291cmNlKSkge1xyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgSW50OEFycmF5XSc6XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBJbnQxNkFycmF5XSc6XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBJbnQzMkFycmF5XSc6XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBGbG9hdDMyQXJyYXldJzpcclxuICAgICAgICBjYXNlICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nOlxyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgVWludDhBcnJheV0nOlxyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJzpcclxuICAgICAgICBjYXNlICdbb2JqZWN0IFVpbnQxNkFycmF5XSc6XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBVaW50MzJBcnJheV0nOlxyXG4gICAgICAgICAgcmV0dXJuIG5ldyBzb3VyY2UuY29uc3RydWN0b3IoY29weUVsZW1lbnQoc291cmNlLmJ1ZmZlciksIHNvdXJjZS5ieXRlT2Zmc2V0LCBzb3VyY2UubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nOlxyXG4gICAgICAgICAgLy8gU3VwcG9ydDogSUUxMFxyXG4gICAgICAgICAgaWYgKCFzb3VyY2Uuc2xpY2UpIHtcclxuICAgICAgICAgICAgLy8gSWYgd2UncmUgaW4gdGhpcyBjYXNlIHdlIGtub3cgdGhlIGVudmlyb25tZW50IHN1cHBvcnRzIEFycmF5QnVmZmVyXHJcbiAgICAgICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLXVuZGVmICovXHJcbiAgICAgICAgICAgIHZhciBjb3BpZWQgPSBuZXcgQXJyYXlCdWZmZXIoc291cmNlLmJ5dGVMZW5ndGgpO1xyXG4gICAgICAgICAgICBuZXcgVWludDhBcnJheShjb3BpZWQpLnNldChuZXcgVWludDhBcnJheShzb3VyY2UpKTtcclxuICAgICAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xyXG4gICAgICAgICAgICByZXR1cm4gY29waWVkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHNvdXJjZS5zbGljZSgwKTtcclxuXHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBCb29sZWFuXSc6XHJcbiAgICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcclxuICAgICAgICBjYXNlICdbb2JqZWN0IFN0cmluZ10nOlxyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgRGF0ZV0nOlxyXG4gICAgICAgICAgcmV0dXJuIG5ldyBzb3VyY2UuY29uc3RydWN0b3Ioc291cmNlLnZhbHVlT2YoKSk7XHJcblxyXG4gICAgICAgIGNhc2UgJ1tvYmplY3QgUmVnRXhwXSc6XHJcbiAgICAgICAgICB2YXIgcmUgPSBuZXcgUmVnRXhwKHNvdXJjZS5zb3VyY2UsIHNvdXJjZS50b1N0cmluZygpLm1hdGNoKC9bXi9dKiQvKVswXSk7XHJcbiAgICAgICAgICByZS5sYXN0SW5kZXggPSBzb3VyY2UubGFzdEluZGV4O1xyXG4gICAgICAgICAgcmV0dXJuIHJlO1xyXG5cclxuICAgICAgICBjYXNlICdbb2JqZWN0IEJsb2JdJzpcclxuICAgICAgICAgIHJldHVybiBuZXcgc291cmNlLmNvbnN0cnVjdG9yKFtzb3VyY2VdLCB7IHR5cGU6IHNvdXJjZS50eXBlIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNGdW5jdGlvbihzb3VyY2UuY2xvbmVOb2RlKSkge1xyXG4gICAgICAgIHJldHVybiBzb3VyY2UuY2xvbmVOb2RlKHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXHJcbiAgZnVuY3Rpb24gc2ltcGxlQ29tcGFyZShhLCBiKSB7XHJcbiAgICByZXR1cm4gYSA9PT0gYiB8fCBhICE9PSBhICYmIGIgIT09IGI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBhbmd1bGFyLmVxdWFsc1xyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRGV0ZXJtaW5lcyBpZiB0d28gb2JqZWN0cyBvciB0d28gdmFsdWVzIGFyZSBlcXVpdmFsZW50LiBTdXBwb3J0cyB2YWx1ZSB0eXBlcywgcmVndWxhclxyXG4gICAqIGV4cHJlc3Npb25zLCBhcnJheXMgYW5kIG9iamVjdHMuXHJcbiAgICpcclxuICAgKiBUd28gb2JqZWN0cyBvciB2YWx1ZXMgYXJlIGNvbnNpZGVyZWQgZXF1aXZhbGVudCBpZiBhdCBsZWFzdCBvbmUgb2YgdGhlIGZvbGxvd2luZyBpcyB0cnVlOlxyXG4gICAqXHJcbiAgICogKiBCb3RoIG9iamVjdHMgb3IgdmFsdWVzIHBhc3MgYD09PWAgY29tcGFyaXNvbi5cclxuICAgKiAqIEJvdGggb2JqZWN0cyBvciB2YWx1ZXMgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYW5kIGFsbCBvZiB0aGVpciBwcm9wZXJ0aWVzIGFyZSBlcXVhbCBieVxyXG4gICAqICAgY29tcGFyaW5nIHRoZW0gd2l0aCBgYW5ndWxhci5lcXVhbHNgLlxyXG4gICAqICogQm90aCB2YWx1ZXMgYXJlIE5hTi4gKEluIEphdmFTY3JpcHQsIE5hTiA9PSBOYU4gPT4gZmFsc2UuIEJ1dCB3ZSBjb25zaWRlciB0d28gTmFOIGFzIGVxdWFsKVxyXG4gICAqICogQm90aCB2YWx1ZXMgcmVwcmVzZW50IHRoZSBzYW1lIHJlZ3VsYXIgZXhwcmVzc2lvbiAoSW4gSmF2YVNjcmlwdCxcclxuICAgKiAgIC9hYmMvID09IC9hYmMvID0+IGZhbHNlLiBCdXQgd2UgY29uc2lkZXIgdHdvIHJlZ3VsYXIgZXhwcmVzc2lvbnMgYXMgZXF1YWwgd2hlbiB0aGVpciB0ZXh0dWFsXHJcbiAgICogICByZXByZXNlbnRhdGlvbiBtYXRjaGVzKS5cclxuICAgKlxyXG4gICAqIER1cmluZyBhIHByb3BlcnR5IGNvbXBhcmlzb24sIHByb3BlcnRpZXMgb2YgYGZ1bmN0aW9uYCB0eXBlIGFuZCBwcm9wZXJ0aWVzIHdpdGggbmFtZXNcclxuICAgKiB0aGF0IGJlZ2luIHdpdGggYCRgIGFyZSBpZ25vcmVkLlxyXG4gICAqXHJcbiAgICogU2NvcGUgYW5kIERPTVdpbmRvdyBvYmplY3RzIGFyZSBiZWluZyBjb21wYXJlZCBvbmx5IGJ5IGlkZW50aWZ5IChgPT09YCkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IG8xIE9iamVjdCBvciB2YWx1ZSB0byBjb21wYXJlLlxyXG4gICAqIEBwYXJhbSB7Kn0gbzIgT2JqZWN0IG9yIHZhbHVlIHRvIGNvbXBhcmUuXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgYXJndW1lbnRzIGFyZSBlcXVhbC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiZXF1YWxzRXhhbXBsZVwiIG5hbWU9XCJlcXVhbHNFeGFtcGxlXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICA8Zm9ybSBub3ZhbGlkYXRlPlxyXG4gICAgICAgICAgICA8aDM+VXNlciAxPC9oMz5cclxuICAgICAgICAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyMS5uYW1lXCI+XHJcbiAgICAgICAgICAgIEFnZTogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cInVzZXIxLmFnZVwiPlxyXG4gIFxyXG4gICAgICAgICAgICA8aDM+VXNlciAyPC9oMz5cclxuICAgICAgICAgICAgTmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1c2VyMi5uYW1lXCI+XHJcbiAgICAgICAgICAgIEFnZTogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cInVzZXIyLmFnZVwiPlxyXG4gIFxyXG4gICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgIDxici8+XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cIkNvbXBhcmVcIiBuZy1jbGljaz1cImNvbXBhcmUoKVwiPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgVXNlciAxOiA8cHJlPnt7dXNlcjEgfCBqc29ufX08L3ByZT5cclxuICAgICAgICAgICAgVXNlciAyOiA8cHJlPnt7dXNlcjIgfCBqc29ufX08L3ByZT5cclxuICAgICAgICAgICAgRXF1YWw6IDxwcmU+e3tyZXN1bHR9fTwvcHJlPlxyXG4gICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdlcXVhbHNFeGFtcGxlJywgW10pLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLnVzZXIxID0ge307XHJcbiAgICAgICAgICAgICRzY29wZS51c2VyMiA9IHt9O1xyXG4gICAgICAgICAgICAkc2NvcGUuY29tcGFyZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5yZXN1bHQgPSBhbmd1bGFyLmVxdWFscygkc2NvcGUudXNlcjEsICRzY29wZS51c2VyMik7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICBmdW5jdGlvbiBlcXVhbHMobzEsIG8yKSB7XHJcbiAgICBpZiAobzEgPT09IG8yKSByZXR1cm4gdHJ1ZTtcclxuICAgIGlmIChvMSA9PT0gbnVsbCB8fCBvMiA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxyXG4gICAgaWYgKG8xICE9PSBvMSAmJiBvMiAhPT0gbzIpIHJldHVybiB0cnVlOyAvLyBOYU4gPT09IE5hTlxyXG4gICAgdmFyIHQxID0gdHlwZW9mIG8xID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvMSksXHJcbiAgICAgICAgdDIgPSB0eXBlb2YgbzIgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG8yKSxcclxuICAgICAgICBsZW5ndGgsXHJcbiAgICAgICAga2V5LFxyXG4gICAgICAgIGtleVNldDtcclxuICAgIGlmICh0MSA9PT0gdDIgJiYgdDEgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgIGlmIChpc0FycmF5KG8xKSkge1xyXG4gICAgICAgIGlmICghaXNBcnJheShvMikpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBpZiAoKGxlbmd0aCA9IG8xLmxlbmd0aCkgPT09IG8yLmxlbmd0aCkge1xyXG4gICAgICAgICAgZm9yIChrZXkgPSAwOyBrZXkgPCBsZW5ndGg7IGtleSsrKSB7XHJcbiAgICAgICAgICAgIGlmICghZXF1YWxzKG8xW2tleV0sIG8yW2tleV0pKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNEYXRlKG8xKSkge1xyXG4gICAgICAgIGlmICghaXNEYXRlKG8yKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBzaW1wbGVDb21wYXJlKG8xLmdldFRpbWUoKSwgbzIuZ2V0VGltZSgpKTtcclxuICAgICAgfSBlbHNlIGlmIChpc1JlZ0V4cChvMSkpIHtcclxuICAgICAgICBpZiAoIWlzUmVnRXhwKG8yKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBvMS50b1N0cmluZygpID09PSBvMi50b1N0cmluZygpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChpc1Njb3BlKG8xKSB8fCBpc1Njb3BlKG8yKSB8fCBpc1dpbmRvdyhvMSkgfHwgaXNXaW5kb3cobzIpIHx8IGlzQXJyYXkobzIpIHx8IGlzRGF0ZShvMikgfHwgaXNSZWdFeHAobzIpKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAga2V5U2V0ID0gY3JlYXRlTWFwKCk7XHJcbiAgICAgICAgZm9yIChrZXkgaW4gbzEpIHtcclxuICAgICAgICAgIGlmIChrZXkuY2hhckF0KDApID09PSAnJCcgfHwgaXNGdW5jdGlvbihvMVtrZXldKSkgY29udGludWU7XHJcbiAgICAgICAgICBpZiAoIWVxdWFscyhvMVtrZXldLCBvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAga2V5U2V0W2tleV0gPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGtleSBpbiBvMikge1xyXG4gICAgICAgICAgaWYgKCEoa2V5IGluIGtleVNldCkgJiYga2V5LmNoYXJBdCgwKSAhPT0gJyQnICYmIGlzRGVmaW5lZChvMltrZXldKSAmJiAhaXNGdW5jdGlvbihvMltrZXldKSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgdmFyIGNzcCA9IGZ1bmN0aW9uIGNzcCgpIHtcclxuICAgIGlmICghaXNEZWZpbmVkKGNzcC5ydWxlcykpIHtcclxuXHJcbiAgICAgIHZhciBuZ0NzcEVsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW25nLWNzcF0nKSB8fCB3aW5kb3cuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtbmctY3NwXScpO1xyXG5cclxuICAgICAgaWYgKG5nQ3NwRWxlbWVudCkge1xyXG4gICAgICAgIHZhciBuZ0NzcEF0dHJpYnV0ZSA9IG5nQ3NwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25nLWNzcCcpIHx8IG5nQ3NwRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtbmctY3NwJyk7XHJcbiAgICAgICAgY3NwLnJ1bGVzID0ge1xyXG4gICAgICAgICAgbm9VbnNhZmVFdmFsOiAhbmdDc3BBdHRyaWJ1dGUgfHwgbmdDc3BBdHRyaWJ1dGUuaW5kZXhPZignbm8tdW5zYWZlLWV2YWwnKSAhPT0gLTEsXHJcbiAgICAgICAgICBub0lubGluZVN0eWxlOiAhbmdDc3BBdHRyaWJ1dGUgfHwgbmdDc3BBdHRyaWJ1dGUuaW5kZXhPZignbm8taW5saW5lLXN0eWxlJykgIT09IC0xXHJcbiAgICAgICAgfTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjc3AucnVsZXMgPSB7XHJcbiAgICAgICAgICBub1Vuc2FmZUV2YWw6IG5vVW5zYWZlRXZhbCgpLFxyXG4gICAgICAgICAgbm9JbmxpbmVTdHlsZTogZmFsc2VcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGNzcC5ydWxlcztcclxuXHJcbiAgICBmdW5jdGlvbiBub1Vuc2FmZUV2YWwoKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldywgbm8tbmV3LWZ1bmNcclxuICAgICAgICBuZXcgRnVuY3Rpb24oJycpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAbmFtZSBuZ0pxXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nSnEgdGhlIG5hbWUgb2YgdGhlIGxpYnJhcnkgYXZhaWxhYmxlIHVuZGVyIGB3aW5kb3dgXHJcbiAgICogdG8gYmUgdXNlZCBmb3IgYW5ndWxhci5lbGVtZW50XHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVXNlIHRoaXMgZGlyZWN0aXZlIHRvIGZvcmNlIHRoZSBhbmd1bGFyLmVsZW1lbnQgbGlicmFyeS4gIFRoaXMgc2hvdWxkIGJlXHJcbiAgICogdXNlZCB0byBmb3JjZSBlaXRoZXIganFMaXRlIGJ5IGxlYXZpbmcgbmctanEgYmxhbmsgb3Igc2V0dGluZyB0aGUgbmFtZSBvZlxyXG4gICAqIHRoZSBqcXVlcnkgdmFyaWFibGUgdW5kZXIgd2luZG93IChlZy4galF1ZXJ5KS5cclxuICAgKlxyXG4gICAqIFNpbmNlIGFuZ3VsYXIgbG9va3MgZm9yIHRoaXMgZGlyZWN0aXZlIHdoZW4gaXQgaXMgbG9hZGVkIChkb2Vzbid0IHdhaXQgZm9yIHRoZVxyXG4gICAqIERPTUNvbnRlbnRMb2FkZWQgZXZlbnQpLCBpdCBtdXN0IGJlIHBsYWNlZCBvbiBhbiBlbGVtZW50IHRoYXQgY29tZXMgYmVmb3JlIHRoZSBzY3JpcHRcclxuICAgKiB3aGljaCBsb2FkcyBhbmd1bGFyLiBBbHNvLCBvbmx5IHRoZSBmaXJzdCBpbnN0YW5jZSBvZiBgbmctanFgIHdpbGwgYmUgdXNlZCBhbmQgYWxsXHJcbiAgICogb3RoZXJzIGlnbm9yZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gZm9yY2UganFMaXRlIHVzaW5nIHRoZSBgbmdKcWAgZGlyZWN0aXZlIHRvIHRoZSBgaHRtbGAgdGFnLlxyXG4gICBgYGBodG1sXHJcbiAgIDwhZG9jdHlwZSBodG1sPlxyXG4gICA8aHRtbCBuZy1hcHAgbmctanE+XHJcbiAgIC4uLlxyXG4gICAuLi5cclxuICAgPC9odG1sPlxyXG4gICBgYGBcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGEgalF1ZXJ5IGJhc2VkIGxpYnJhcnkgb2YgYSBkaWZmZXJlbnQgbmFtZS5cclxuICAgKiBUaGUgbGlicmFyeSBuYW1lIG11c3QgYmUgYXZhaWxhYmxlIGF0IHRoZSB0b3AgbW9zdCAnd2luZG93Jy5cclxuICAgYGBgaHRtbFxyXG4gICA8IWRvY3R5cGUgaHRtbD5cclxuICAgPGh0bWwgbmctYXBwIG5nLWpxPVwialF1ZXJ5TGliXCI+XHJcbiAgIC4uLlxyXG4gICAuLi5cclxuICAgPC9odG1sPlxyXG4gICBgYGBcclxuICAgKi9cclxuICB2YXIganEgPSBmdW5jdGlvbiBqcSgpIHtcclxuICAgIGlmIChpc0RlZmluZWQoanEubmFtZV8pKSByZXR1cm4ganEubmFtZV87XHJcbiAgICB2YXIgZWw7XHJcbiAgICB2YXIgaSxcclxuICAgICAgICBpaSA9IG5nQXR0clByZWZpeGVzLmxlbmd0aCxcclxuICAgICAgICBwcmVmaXgsXHJcbiAgICAgICAgbmFtZTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBpaTsgKytpKSB7XHJcbiAgICAgIHByZWZpeCA9IG5nQXR0clByZWZpeGVzW2ldO1xyXG4gICAgICBlbCA9IHdpbmRvdy5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbJyArIHByZWZpeC5yZXBsYWNlKCc6JywgJ1xcXFw6JykgKyAnanFdJyk7XHJcbiAgICAgIGlmIChlbCkge1xyXG4gICAgICAgIG5hbWUgPSBlbC5nZXRBdHRyaWJ1dGUocHJlZml4ICsgJ2pxJyk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ganEubmFtZV8gPSBuYW1lO1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIGNvbmNhdChhcnJheTEsIGFycmF5MiwgaW5kZXgpIHtcclxuICAgIHJldHVybiBhcnJheTEuY29uY2F0KHNsaWNlLmNhbGwoYXJyYXkyLCBpbmRleCkpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc2xpY2VBcmdzKGFyZ3MsIHN0YXJ0SW5kZXgpIHtcclxuICAgIHJldHVybiBzbGljZS5jYWxsKGFyZ3MsIHN0YXJ0SW5kZXggfHwgMCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZnVuY3Rpb25cclxuICAgKiBAbmFtZSBhbmd1bGFyLmJpbmRcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJldHVybnMgYSBmdW5jdGlvbiB3aGljaCBjYWxscyBmdW5jdGlvbiBgZm5gIGJvdW5kIHRvIGBzZWxmYCAoYHNlbGZgIGJlY29tZXMgdGhlIGB0aGlzYCBmb3JcclxuICAgKiBgZm5gKS4gWW91IGNhbiBzdXBwbHkgb3B0aW9uYWwgYGFyZ3NgIHRoYXQgYXJlIHByZWJvdW5kIHRvIHRoZSBmdW5jdGlvbi4gVGhpcyBmZWF0dXJlIGlzIGFsc29cclxuICAgKiBrbm93biBhcyBbcGFydGlhbCBhcHBsaWNhdGlvbl0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9QYXJ0aWFsX2FwcGxpY2F0aW9uKSwgYXNcclxuICAgKiBkaXN0aW5ndWlzaGVkIGZyb20gW2Z1bmN0aW9uIGN1cnJ5aW5nXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0N1cnJ5aW5nI0NvbnRyYXN0X3dpdGhfcGFydGlhbF9mdW5jdGlvbl9hcHBsaWNhdGlvbikuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gc2VsZiBDb250ZXh0IHdoaWNoIGBmbmAgc2hvdWxkIGJlIGV2YWx1YXRlZCBpbi5cclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKCl9IGZuIEZ1bmN0aW9uIHRvIGJlIGJvdW5kLlxyXG4gICAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBhcmd1bWVudHMgdG8gYmUgcHJlYm91bmQgdG8gdGhlIGBmbmAgZnVuY3Rpb24gY2FsbC5cclxuICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gRnVuY3Rpb24gdGhhdCB3cmFwcyB0aGUgYGZuYCB3aXRoIGFsbCB0aGUgc3BlY2lmaWVkIGJpbmRpbmdzLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGJpbmQoc2VsZiwgZm4pIHtcclxuICAgIHZhciBjdXJyeUFyZ3MgPSBhcmd1bWVudHMubGVuZ3RoID4gMiA/IHNsaWNlQXJncyhhcmd1bWVudHMsIDIpIDogW107XHJcbiAgICBpZiAoaXNGdW5jdGlvbihmbikgJiYgIShmbiBpbnN0YW5jZW9mIFJlZ0V4cCkpIHtcclxuICAgICAgcmV0dXJuIGN1cnJ5QXJncy5sZW5ndGggPyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyBmbi5hcHBseShzZWxmLCBjb25jYXQoY3VycnlBcmdzLCBhcmd1bWVudHMsIDApKSA6IGZuLmFwcGx5KHNlbGYsIGN1cnJ5QXJncyk7XHJcbiAgICAgIH0gOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50cy5sZW5ndGggPyBmbi5hcHBseShzZWxmLCBhcmd1bWVudHMpIDogZm4uY2FsbChzZWxmKTtcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIEluIElFLCBuYXRpdmUgbWV0aG9kcyBhcmUgbm90IGZ1bmN0aW9ucyBzbyB0aGV5IGNhbm5vdCBiZSBib3VuZCAobm90ZTogdGhleSBkb24ndCBuZWVkIHRvIGJlKS5cclxuICAgICAgcmV0dXJuIGZuO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdG9Kc29uUmVwbGFjZXIoa2V5LCB2YWx1ZSkge1xyXG4gICAgdmFyIHZhbCA9IHZhbHVlO1xyXG5cclxuICAgIGlmICh0eXBlb2Yga2V5ID09PSAnc3RyaW5nJyAmJiBrZXkuY2hhckF0KDApID09PSAnJCcgJiYga2V5LmNoYXJBdCgxKSA9PT0gJyQnKSB7XHJcbiAgICAgIHZhbCA9IHVuZGVmaW5lZDtcclxuICAgIH0gZWxzZSBpZiAoaXNXaW5kb3codmFsdWUpKSB7XHJcbiAgICAgIHZhbCA9ICckV0lORE9XJztcclxuICAgIH0gZWxzZSBpZiAodmFsdWUgJiYgd2luZG93LmRvY3VtZW50ID09PSB2YWx1ZSkge1xyXG4gICAgICB2YWwgPSAnJERPQ1VNRU5UJztcclxuICAgIH0gZWxzZSBpZiAoaXNTY29wZSh2YWx1ZSkpIHtcclxuICAgICAgdmFsID0gJyRTQ09QRSc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHZhbDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIGFuZ3VsYXIudG9Kc29uXHJcbiAgICogQG1vZHVsZSBuZ1xyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXJpYWxpemVzIGlucHV0IGludG8gYSBKU09OLWZvcm1hdHRlZCBzdHJpbmcuIFByb3BlcnRpZXMgd2l0aCBsZWFkaW5nICQkIGNoYXJhY3RlcnMgd2lsbCBiZVxyXG4gICAqIHN0cmlwcGVkIHNpbmNlIGFuZ3VsYXIgdXNlcyB0aGlzIG5vdGF0aW9uIGludGVybmFsbHkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdHxBcnJheXxEYXRlfHN0cmluZ3xudW1iZXJ8Ym9vbGVhbn0gb2JqIElucHV0IHRvIGJlIHNlcmlhbGl6ZWQgaW50byBKU09OLlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbnxudW1iZXJ9IFtwcmV0dHk9Ml0gSWYgc2V0IHRvIHRydWUsIHRoZSBKU09OIG91dHB1dCB3aWxsIGNvbnRhaW4gbmV3bGluZXMgYW5kIHdoaXRlc3BhY2UuXHJcbiAgICogICAgSWYgc2V0IHRvIGFuIGludGVnZXIsIHRoZSBKU09OIG91dHB1dCB3aWxsIGNvbnRhaW4gdGhhdCBtYW55IHNwYWNlcyBwZXIgaW5kZW50YXRpb24uXHJcbiAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IEpTT04taWZpZWQgc3RyaW5nIHJlcHJlc2VudGluZyBgb2JqYC5cclxuICAgKiBAa25vd25Jc3N1ZVxyXG4gICAqXHJcbiAgICogVGhlIFNhZmFyaSBicm93c2VyIHRocm93cyBhIGBSYW5nZUVycm9yYCBpbnN0ZWFkIG9mIHJldHVybmluZyBgbnVsbGAgd2hlbiBpdCB0cmllcyB0byBzdHJpbmdpZnkgYSBgRGF0ZWBcclxuICAgKiBvYmplY3Qgd2l0aCBhbiBpbnZhbGlkIGRhdGUgdmFsdWUuIFRoZSBvbmx5IHJlbGlhYmxlIHdheSB0byBwcmV2ZW50IHRoaXMgaXMgdG8gbW9ua2V5cGF0Y2ggdGhlXHJcbiAgICogYERhdGUucHJvdG90eXBlLnRvSlNPTmAgbWV0aG9kIGFzIGZvbGxvd3M6XHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKiB2YXIgX0RhdGV0b0pTT04gPSBEYXRlLnByb3RvdHlwZS50b0pTT047XHJcbiAgICogRGF0ZS5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24oKSB7XHJcbiAgICogICB0cnkge1xyXG4gICAqICAgICByZXR1cm4gX0RhdGV0b0pTT04uY2FsbCh0aGlzKTtcclxuICAgKiAgIH0gY2F0Y2goZSkge1xyXG4gICAqICAgICBpZiAoZSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpIHtcclxuICAgKiAgICAgICByZXR1cm4gbnVsbDtcclxuICAgKiAgICAgfVxyXG4gICAqICAgICB0aHJvdyBlO1xyXG4gICAqICAgfVxyXG4gICAqIH07XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzE0MjIxIGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHRvSnNvbihvYmosIHByZXR0eSkge1xyXG4gICAgaWYgKGlzVW5kZWZpbmVkKG9iaikpIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICBpZiAoIWlzTnVtYmVyKHByZXR0eSkpIHtcclxuICAgICAgcHJldHR5ID0gcHJldHR5ID8gMiA6IG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCB0b0pzb25SZXBsYWNlciwgcHJldHR5KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIGFuZ3VsYXIuZnJvbUpzb25cclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIERlc2VyaWFsaXplcyBhIEpTT04gc3RyaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGpzb24gSlNPTiBzdHJpbmcgdG8gZGVzZXJpYWxpemUuXHJcbiAgICogQHJldHVybnMge09iamVjdHxBcnJheXxzdHJpbmd8bnVtYmVyfSBEZXNlcmlhbGl6ZWQgSlNPTiBzdHJpbmcuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZnJvbUpzb24oanNvbikge1xyXG4gICAgcmV0dXJuIGlzU3RyaW5nKGpzb24pID8gSlNPTi5wYXJzZShqc29uKSA6IGpzb247XHJcbiAgfVxyXG5cclxuICB2YXIgQUxMX0NPTE9OUyA9IC86L2c7XHJcbiAgZnVuY3Rpb24gdGltZXpvbmVUb09mZnNldCh0aW1lem9uZSwgZmFsbGJhY2spIHtcclxuICAgIC8vIFN1cHBvcnQ6IElFIDktMTEgb25seSwgRWRnZSAxMy0xNStcclxuICAgIC8vIElFL0VkZ2UgZG8gbm90IFwidW5kZXJzdGFuZFwiIGNvbG9uIChgOmApIGluIHRpbWV6b25lXHJcbiAgICB0aW1lem9uZSA9IHRpbWV6b25lLnJlcGxhY2UoQUxMX0NPTE9OUywgJycpO1xyXG4gICAgdmFyIHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0ID0gRGF0ZS5wYXJzZSgnSmFuIDAxLCAxOTcwIDAwOjAwOjAwICcgKyB0aW1lem9uZSkgLyA2MDAwMDtcclxuICAgIHJldHVybiBpc051bWJlck5hTihyZXF1ZXN0ZWRUaW1lem9uZU9mZnNldCkgPyBmYWxsYmFjayA6IHJlcXVlc3RlZFRpbWV6b25lT2Zmc2V0O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYWRkRGF0ZU1pbnV0ZXMoZGF0ZSwgbWludXRlcykge1xyXG4gICAgZGF0ZSA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcclxuICAgIGRhdGUuc2V0TWludXRlcyhkYXRlLmdldE1pbnV0ZXMoKSArIG1pbnV0ZXMpO1xyXG4gICAgcmV0dXJuIGRhdGU7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjb252ZXJ0VGltZXpvbmVUb0xvY2FsKGRhdGUsIHRpbWV6b25lLCByZXZlcnNlKSB7XHJcbiAgICByZXZlcnNlID0gcmV2ZXJzZSA/IC0xIDogMTtcclxuICAgIHZhciBkYXRlVGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICB2YXIgdGltZXpvbmVPZmZzZXQgPSB0aW1lem9uZVRvT2Zmc2V0KHRpbWV6b25lLCBkYXRlVGltZXpvbmVPZmZzZXQpO1xyXG4gICAgcmV0dXJuIGFkZERhdGVNaW51dGVzKGRhdGUsIHJldmVyc2UgKiAodGltZXpvbmVPZmZzZXQgLSBkYXRlVGltZXpvbmVPZmZzZXQpKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZWxlbWVudC5cclxuICAgKi9cclxuICBmdW5jdGlvbiBzdGFydGluZ1RhZyhlbGVtZW50KSB7XHJcbiAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpLmNsb25lKCkuZW1wdHkoKTtcclxuICAgIHZhciBlbGVtSHRtbCA9IGpxTGl0ZSgnPGRpdj4nKS5hcHBlbmQoZWxlbWVudCkuaHRtbCgpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgcmV0dXJuIGVsZW1lbnRbMF0ubm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUID8gbG93ZXJjYXNlKGVsZW1IdG1sKSA6IGVsZW1IdG1sLm1hdGNoKC9eKDxbXj5dKz4pLylbMV0ucmVwbGFjZSgvXjwoW1xcdy1dKykvLCBmdW5jdGlvbiAobWF0Y2gsIG5vZGVOYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuICc8JyArIGxvd2VyY2FzZShub2RlTmFtZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICByZXR1cm4gbG93ZXJjYXNlKGVsZW1IdG1sKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgLyoqXHJcbiAgICogVHJpZXMgdG8gZGVjb2RlIHRoZSBVUkkgY29tcG9uZW50IHdpdGhvdXQgdGhyb3dpbmcgYW4gZXhjZXB0aW9uLlxyXG4gICAqXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAcGFyYW0gc3RyIHZhbHVlIHBvdGVudGlhbCBVUkkgY29tcG9uZW50IHRvIGNoZWNrLlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIGB2YWx1ZWAgY2FuIGJlIGRlY29kZWRcclxuICAgKiB3aXRoIHRoZSBkZWNvZGVVUklDb21wb25lbnQgZnVuY3Rpb24uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcclxuICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgLy8gSWdub3JlIGFueSBpbnZhbGlkIHVyaSBjb21wb25lbnQuXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQYXJzZXMgYW4gZXNjYXBlZCB1cmwgcXVlcnkgc3RyaW5nIGludG8ga2V5LXZhbHVlIHBhaXJzLlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3QuPHN0cmluZyxib29sZWFufEFycmF5Pn1cclxuICAgKi9cclxuICBmdW5jdGlvbiBwYXJzZUtleVZhbHVlKCAvKipzdHJpbmcqL2tleVZhbHVlKSB7XHJcbiAgICB2YXIgb2JqID0ge307XHJcbiAgICBmb3JFYWNoKChrZXlWYWx1ZSB8fCAnJykuc3BsaXQoJyYnKSwgZnVuY3Rpb24gKGtleVZhbHVlKSB7XHJcbiAgICAgIHZhciBzcGxpdFBvaW50LCBrZXksIHZhbDtcclxuICAgICAgaWYgKGtleVZhbHVlKSB7XHJcbiAgICAgICAga2V5ID0ga2V5VmFsdWUgPSBrZXlWYWx1ZS5yZXBsYWNlKC9cXCsvZywgJyUyMCcpO1xyXG4gICAgICAgIHNwbGl0UG9pbnQgPSBrZXlWYWx1ZS5pbmRleE9mKCc9Jyk7XHJcbiAgICAgICAgaWYgKHNwbGl0UG9pbnQgIT09IC0xKSB7XHJcbiAgICAgICAgICBrZXkgPSBrZXlWYWx1ZS5zdWJzdHJpbmcoMCwgc3BsaXRQb2ludCk7XHJcbiAgICAgICAgICB2YWwgPSBrZXlWYWx1ZS5zdWJzdHJpbmcoc3BsaXRQb2ludCArIDEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBrZXkgPSB0cnlEZWNvZGVVUklDb21wb25lbnQoa2V5KTtcclxuICAgICAgICBpZiAoaXNEZWZpbmVkKGtleSkpIHtcclxuICAgICAgICAgIHZhbCA9IGlzRGVmaW5lZCh2YWwpID8gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbCkgOiB0cnVlO1xyXG4gICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgICBvYmpba2V5XSA9IHZhbDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheShvYmpba2V5XSkpIHtcclxuICAgICAgICAgICAgb2JqW2tleV0ucHVzaCh2YWwpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgb2JqW2tleV0gPSBbb2JqW2tleV0sIHZhbF07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBvYmo7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0b0tleVZhbHVlKG9iaikge1xyXG4gICAgdmFyIHBhcnRzID0gW107XHJcbiAgICBmb3JFYWNoKG9iaiwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gKGFycmF5VmFsdWUpIHtcclxuICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5LCB0cnVlKSArIChhcnJheVZhbHVlID09PSB0cnVlID8gJycgOiAnPScgKyBlbmNvZGVVcmlRdWVyeShhcnJheVZhbHVlLCB0cnVlKSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5LCB0cnVlKSArICh2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogJz0nICsgZW5jb2RlVXJpUXVlcnkodmFsdWUsIHRydWUpKSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHBhcnRzLmxlbmd0aCA/IHBhcnRzLmpvaW4oJyYnKSA6ICcnO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogV2UgbmVlZCBvdXIgY3VzdG9tIG1ldGhvZCBiZWNhdXNlIGVuY29kZVVSSUNvbXBvbmVudCBpcyB0b28gYWdncmVzc2l2ZSBhbmQgZG9lc24ndCBmb2xsb3dcclxuICAgKiBodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzOTg2LnR4dCB3aXRoIHJlZ2FyZHMgdG8gdGhlIGNoYXJhY3RlciBzZXQgKHBjaGFyKSBhbGxvd2VkIGluIHBhdGhcclxuICAgKiBzZWdtZW50czpcclxuICAgKiAgICBzZWdtZW50ICAgICAgID0gKnBjaGFyXHJcbiAgICogICAgcGNoYXIgICAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyBcIjpcIiAvIFwiQFwiXHJcbiAgICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcclxuICAgKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXHJcbiAgICogICAgc3ViLWRlbGltcyAgICA9IFwiIVwiIC8gXCIkXCIgLyBcIiZcIiAvIFwiJ1wiIC8gXCIoXCIgLyBcIilcIlxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgLyBcIipcIiAvIFwiK1wiIC8gXCIsXCIgLyBcIjtcIiAvIFwiPVwiXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZW5jb2RlVXJpU2VnbWVudCh2YWwpIHtcclxuICAgIHJldHVybiBlbmNvZGVVcmlRdWVyeSh2YWwsIHRydWUpLnJlcGxhY2UoLyUyNi9naSwgJyYnKS5yZXBsYWNlKC8lM0QvZ2ksICc9JykucmVwbGFjZSgvJTJCL2dpLCAnKycpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVGhpcyBtZXRob2QgaXMgaW50ZW5kZWQgZm9yIGVuY29kaW5nICprZXkqIG9yICp2YWx1ZSogcGFydHMgb2YgcXVlcnkgY29tcG9uZW50LiBXZSBuZWVkIGEgY3VzdG9tXHJcbiAgICogbWV0aG9kIGJlY2F1c2UgZW5jb2RlVVJJQ29tcG9uZW50IGlzIHRvbyBhZ2dyZXNzaXZlIGFuZCBlbmNvZGVzIHN0dWZmIHRoYXQgZG9lc24ndCBoYXZlIHRvIGJlXHJcbiAgICogZW5jb2RlZCBwZXIgaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NjpcclxuICAgKiAgICBxdWVyeSAgICAgICAgID0gKiggcGNoYXIgLyBcIi9cIiAvIFwiP1wiIClcclxuICAgKiAgICBwY2hhciAgICAgICAgID0gdW5yZXNlcnZlZCAvIHBjdC1lbmNvZGVkIC8gc3ViLWRlbGltcyAvIFwiOlwiIC8gXCJAXCJcclxuICAgKiAgICB1bnJlc2VydmVkICAgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXHJcbiAgICogICAgcGN0LWVuY29kZWQgICA9IFwiJVwiIEhFWERJRyBIRVhESUdcclxuICAgKiAgICBzdWItZGVsaW1zICAgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAvIFwiKlwiIC8gXCIrXCIgLyBcIixcIiAvIFwiO1wiIC8gXCI9XCJcclxuICAgKi9cclxuICBmdW5jdGlvbiBlbmNvZGVVcmlRdWVyeSh2YWwsIHBjdEVuY29kZVNwYWNlcykge1xyXG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudCh2YWwpLnJlcGxhY2UoLyU0MC9naSwgJ0AnKS5yZXBsYWNlKC8lM0EvZ2ksICc6JykucmVwbGFjZSgvJTI0L2csICckJykucmVwbGFjZSgvJTJDL2dpLCAnLCcpLnJlcGxhY2UoLyUzQi9naSwgJzsnKS5yZXBsYWNlKC8lMjAvZywgcGN0RW5jb2RlU3BhY2VzID8gJyUyMCcgOiAnKycpO1xyXG4gIH1cclxuXHJcbiAgdmFyIG5nQXR0clByZWZpeGVzID0gWyduZy0nLCAnZGF0YS1uZy0nLCAnbmc6JywgJ3gtbmctJ107XHJcblxyXG4gIGZ1bmN0aW9uIGdldE5nQXR0cmlidXRlKGVsZW1lbnQsIG5nQXR0cikge1xyXG4gICAgdmFyIGF0dHIsXHJcbiAgICAgICAgaSxcclxuICAgICAgICBpaSA9IG5nQXR0clByZWZpeGVzLmxlbmd0aDtcclxuICAgIGZvciAoaSA9IDA7IGkgPCBpaTsgKytpKSB7XHJcbiAgICAgIGF0dHIgPSBuZ0F0dHJQcmVmaXhlc1tpXSArIG5nQXR0cjtcclxuICAgICAgaWYgKGlzU3RyaW5nKGF0dHIgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyKSkpIHtcclxuICAgICAgICByZXR1cm4gYXR0cjtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBhbGxvd0F1dG9Cb290c3RyYXAoZG9jdW1lbnQpIHtcclxuICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0O1xyXG5cclxuICAgIGlmICghc2NyaXB0KSB7XHJcbiAgICAgIC8vIFN1cHBvcnQ6IElFIDktMTEgb25seVxyXG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGBkb2N1bWVudC5jdXJyZW50U2NyaXB0YFxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgYGN1cnJlbnRTY3JpcHRgIHByb3BlcnR5IGhhcyBiZWVuIGNsb2JiZXJlZCBqdXN0IHJldHVybiBmYWxzZSwgc2luY2UgdGhpcyBpbmRpY2F0ZXMgYSBwcm9iYWJsZSBhdHRhY2tcclxuICAgIGlmICghKHNjcmlwdCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MU2NyaXB0RWxlbWVudCB8fCBzY3JpcHQgaW5zdGFuY2VvZiB3aW5kb3cuU1ZHU2NyaXB0RWxlbWVudCkpIHtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBhdHRyaWJ1dGVzID0gc2NyaXB0LmF0dHJpYnV0ZXM7XHJcbiAgICB2YXIgc3JjcyA9IFthdHRyaWJ1dGVzLmdldE5hbWVkSXRlbSgnc3JjJyksIGF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKCdocmVmJyksIGF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKCd4bGluazpocmVmJyldO1xyXG5cclxuICAgIHJldHVybiBzcmNzLmV2ZXJ5KGZ1bmN0aW9uIChzcmMpIHtcclxuICAgICAgaWYgKCFzcmMpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoIXNyYy52YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICAgIGxpbmsuaHJlZiA9IHNyYy52YWx1ZTtcclxuXHJcbiAgICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5vcmlnaW4gPT09IGxpbmsub3JpZ2luKSB7XHJcbiAgICAgICAgLy8gU2FtZS1vcmlnaW4gcmVzb3VyY2VzIGFyZSBhbHdheXMgYWxsb3dlZCwgZXZlbiBmb3Igbm9uLXdoaXRlbGlzdGVkIHNjaGVtZXMuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgLy8gRGlzYWJsZWQgYm9vdHN0cmFwcGluZyB1bmxlc3MgYW5ndWxhci5qcyB3YXMgbG9hZGVkIGZyb20gYSBrbm93biBzY2hlbWUgdXNlZCBvbiB0aGUgd2ViLlxyXG4gICAgICAvLyBUaGlzIGlzIHRvIHByZXZlbnQgYW5ndWxhci5qcyBidW5kbGVkIHdpdGggYnJvd3NlciBleHRlbnNpb25zIGZyb20gYmVpbmcgdXNlZCB0byBieXBhc3MgdGhlXHJcbiAgICAgIC8vIGNvbnRlbnQgc2VjdXJpdHkgcG9saWN5IGluIHdlYiBwYWdlcyBhbmQgb3RoZXIgYnJvd3NlciBleHRlbnNpb25zLlxyXG4gICAgICBzd2l0Y2ggKGxpbmsucHJvdG9jb2wpIHtcclxuICAgICAgICBjYXNlICdodHRwOic6XHJcbiAgICAgICAgY2FzZSAnaHR0cHM6JzpcclxuICAgICAgICBjYXNlICdmdHA6JzpcclxuICAgICAgICBjYXNlICdibG9iOic6XHJcbiAgICAgICAgY2FzZSAnZmlsZTonOlxyXG4gICAgICAgIGNhc2UgJ2RhdGE6JzpcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2FjaGVkIGFzIGl0IGhhcyB0byBydW4gZHVyaW5nIGxvYWRpbmcgc28gdGhhdCBkb2N1bWVudC5jdXJyZW50U2NyaXB0IGlzIGF2YWlsYWJsZS5cclxuICB2YXIgaXNBdXRvQm9vdHN0cmFwQWxsb3dlZCA9IGFsbG93QXV0b0Jvb3RzdHJhcCh3aW5kb3cuZG9jdW1lbnQpO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdBcHBcclxuICAgKiBAbW9kdWxlIG5nXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcGFyYW0ge2FuZ3VsYXIuTW9kdWxlfSBuZ0FwcCBhbiBvcHRpb25hbCBhcHBsaWNhdGlvblxyXG4gICAqICAge0BsaW5rIGFuZ3VsYXIubW9kdWxlIG1vZHVsZX0gbmFtZSB0byBsb2FkLlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG5nU3RyaWN0RGkgaWYgdGhpcyBhdHRyaWJ1dGUgaXMgcHJlc2VudCBvbiB0aGUgYXBwIGVsZW1lbnQsIHRoZSBpbmplY3RvciB3aWxsIGJlXHJcbiAgICogICBjcmVhdGVkIGluIFwic3RyaWN0LWRpXCIgbW9kZS4gVGhpcyBtZWFucyB0aGF0IHRoZSBhcHBsaWNhdGlvbiB3aWxsIGZhaWwgdG8gaW52b2tlIGZ1bmN0aW9ucyB3aGljaFxyXG4gICAqICAgZG8gbm90IHVzZSBleHBsaWNpdCBmdW5jdGlvbiBhbm5vdGF0aW9uIChhbmQgYXJlIHRodXMgdW5zdWl0YWJsZSBmb3IgbWluaWZpY2F0aW9uKSwgYXMgZGVzY3JpYmVkXHJcbiAgICogICBpbiB7QGxpbmsgZ3VpZGUvZGkgdGhlIERlcGVuZGVuY3kgSW5qZWN0aW9uIGd1aWRlfSwgYW5kIHVzZWZ1bCBkZWJ1Z2dpbmcgaW5mbyB3aWxsIGFzc2lzdCBpblxyXG4gICAqICAgdHJhY2tpbmcgZG93biB0aGUgcm9vdCBvZiB0aGVzZSBidWdzLlxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBVc2UgdGhpcyBkaXJlY3RpdmUgdG8gKiphdXRvLWJvb3RzdHJhcCoqIGFuIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbi4gVGhlIGBuZ0FwcGAgZGlyZWN0aXZlXHJcbiAgICogZGVzaWduYXRlcyB0aGUgKipyb290IGVsZW1lbnQqKiBvZiB0aGUgYXBwbGljYXRpb24gYW5kIGlzIHR5cGljYWxseSBwbGFjZWQgbmVhciB0aGUgcm9vdCBlbGVtZW50XHJcbiAgICogb2YgdGhlIHBhZ2UgLSBlLmcuIG9uIHRoZSBgPGJvZHk+YCBvciBgPGh0bWw+YCB0YWdzLlxyXG4gICAqXHJcbiAgICogVGhlcmUgYXJlIGEgZmV3IHRoaW5ncyB0byBrZWVwIGluIG1pbmQgd2hlbiB1c2luZyBgbmdBcHBgOlxyXG4gICAqIC0gb25seSBvbmUgQW5ndWxhckpTIGFwcGxpY2F0aW9uIGNhbiBiZSBhdXRvLWJvb3RzdHJhcHBlZCBwZXIgSFRNTCBkb2N1bWVudC4gVGhlIGZpcnN0IGBuZ0FwcGBcclxuICAgKiAgIGZvdW5kIGluIHRoZSBkb2N1bWVudCB3aWxsIGJlIHVzZWQgdG8gZGVmaW5lIHRoZSByb290IGVsZW1lbnQgdG8gYXV0by1ib290c3RyYXAgYXMgYW5cclxuICAgKiAgIGFwcGxpY2F0aW9uLiBUbyBydW4gbXVsdGlwbGUgYXBwbGljYXRpb25zIGluIGFuIEhUTUwgZG9jdW1lbnQgeW91IG11c3QgbWFudWFsbHkgYm9vdHN0cmFwIHRoZW0gdXNpbmdcclxuICAgKiAgIHtAbGluayBhbmd1bGFyLmJvb3RzdHJhcH0gaW5zdGVhZC5cclxuICAgKiAtIEFuZ3VsYXJKUyBhcHBsaWNhdGlvbnMgY2Fubm90IGJlIG5lc3RlZCB3aXRoaW4gZWFjaCBvdGhlci5cclxuICAgKiAtIERvIG5vdCB1c2UgYSBkaXJlY3RpdmUgdGhhdCB1c2VzIHtAbGluayBuZy4kY29tcGlsZSN0cmFuc2NsdXNpb24gdHJhbnNjbHVzaW9ufSBvbiB0aGUgc2FtZSBlbGVtZW50IGFzIGBuZ0FwcGAuXHJcbiAgICogICBUaGlzIGluY2x1ZGVzIGRpcmVjdGl2ZXMgc3VjaCBhcyB7QGxpbmsgbmcubmdJZiBgbmdJZmB9LCB7QGxpbmsgbmcubmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSBhbmRcclxuICAgKiAgIHtAbGluayBuZ1JvdXRlLm5nVmlldyBgbmdWaWV3YH0uXHJcbiAgICogICBEb2luZyB0aGlzIG1pc3BsYWNlcyB0aGUgYXBwIHtAbGluayBuZy4kcm9vdEVsZW1lbnQgYCRyb290RWxlbWVudGB9IGFuZCB0aGUgYXBwJ3Mge0BsaW5rIGF1dG8uJGluamVjdG9yIGluamVjdG9yfSxcclxuICAgKiAgIGNhdXNpbmcgYW5pbWF0aW9ucyB0byBzdG9wIHdvcmtpbmcgYW5kIG1ha2luZyB0aGUgaW5qZWN0b3IgaW5hY2Nlc3NpYmxlIGZyb20gb3V0c2lkZSB0aGUgYXBwLlxyXG4gICAqXHJcbiAgICogWW91IGNhbiBzcGVjaWZ5IGFuICoqQW5ndWxhckpTIG1vZHVsZSoqIHRvIGJlIHVzZWQgYXMgdGhlIHJvb3QgbW9kdWxlIGZvciB0aGUgYXBwbGljYXRpb24uICBUaGlzXHJcbiAgICogbW9kdWxlIHdpbGwgYmUgbG9hZGVkIGludG8gdGhlIHtAbGluayBhdXRvLiRpbmplY3Rvcn0gd2hlbiB0aGUgYXBwbGljYXRpb24gaXMgYm9vdHN0cmFwcGVkLiBJdFxyXG4gICAqIHNob3VsZCBjb250YWluIHRoZSBhcHBsaWNhdGlvbiBjb2RlIG5lZWRlZCBvciBoYXZlIGRlcGVuZGVuY2llcyBvbiBvdGhlciBtb2R1bGVzIHRoYXQgd2lsbFxyXG4gICAqIGNvbnRhaW4gdGhlIGNvZGUuIFNlZSB7QGxpbmsgYW5ndWxhci5tb2R1bGV9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gICAqXHJcbiAgICogSW4gdGhlIGV4YW1wbGUgYmVsb3cgaWYgdGhlIGBuZ0FwcGAgZGlyZWN0aXZlIHdlcmUgbm90IHBsYWNlZCBvbiB0aGUgYGh0bWxgIGVsZW1lbnQgdGhlbiB0aGVcclxuICAgKiBkb2N1bWVudCB3b3VsZCBub3QgYmUgY29tcGlsZWQsIHRoZSBgQXBwQ29udHJvbGxlcmAgd291bGQgbm90IGJlIGluc3RhbnRpYXRlZCBhbmQgdGhlIGB7eyBhK2IgfX1gXHJcbiAgICogd291bGQgbm90IGJlIHJlc29sdmVkIHRvIGAzYC5cclxuICAgKlxyXG4gICAqIGBuZ0FwcGAgaXMgdGhlIGVhc2llc3QsIGFuZCBtb3N0IGNvbW1vbiB3YXkgdG8gYm9vdHN0cmFwIGFuIGFwcGxpY2F0aW9uLlxyXG4gICAqXHJcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nQXBwRGVtb1wiIG5hbWU9XCJuZy1hcHBcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgIDxkaXYgbmctY29udHJvbGxlcj1cIm5nQXBwRGVtb0NvbnRyb2xsZXJcIj5cclxuICAgICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cclxuICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgIGFuZ3VsYXIubW9kdWxlKCduZ0FwcERlbW8nLCBbXSkuY29udHJvbGxlcignbmdBcHBEZW1vQ29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgJHNjb3BlLmEgPSAxO1xyXG4gICAgICAgJHNjb3BlLmIgPSAyO1xyXG4gICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICogVXNpbmcgYG5nU3RyaWN0RGlgLCB5b3Ugd291bGQgc2VlIHNvbWV0aGluZyBsaWtlIHRoaXM6XHJcbiAgICpcclxuICAgPGV4YW1wbGUgbmctYXBwLWluY2x1ZGVkPVwidHJ1ZVwiIG5hbWU9XCJzdHJpY3QtZGlcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgIDxkaXYgbmctYXBwPVwibmdBcHBTdHJpY3REZW1vXCIgbmctc3RyaWN0LWRpPlxyXG4gICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJHb29kQ29udHJvbGxlcjFcIj5cclxuICAgICAgICAgICAgIEkgY2FuIGFkZDoge3thfX0gKyB7e2J9fSA9ICB7eyBhK2IgfX1cclxuICBcclxuICAgICAgICAgICAgIDxwPlRoaXMgcmVuZGVycyBiZWNhdXNlIHRoZSBjb250cm9sbGVyIGRvZXMgbm90IGZhaWwgdG9cclxuICAgICAgICAgICAgICAgIGluc3RhbnRpYXRlLCBieSB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9uIHN0eWxlIChzZWVcclxuICAgICAgICAgICAgICAgIHNjcmlwdC5qcyBmb3IgZGV0YWlscylcclxuICAgICAgICAgICAgIDwvcD5cclxuICAgICAgICAgPC9kaXY+XHJcbiAgXHJcbiAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkdvb2RDb250cm9sbGVyMlwiPlxyXG4gICAgICAgICAgICAgTmFtZTogPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPjxiciAvPlxyXG4gICAgICAgICAgICAgSGVsbG8sIHt7bmFtZX19IVxyXG4gIFxyXG4gICAgICAgICAgICAgPHA+VGhpcyByZW5kZXJzIGJlY2F1c2UgdGhlIGNvbnRyb2xsZXIgZG9lcyBub3QgZmFpbCB0b1xyXG4gICAgICAgICAgICAgICAgaW5zdGFudGlhdGUsIGJ5IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gc3R5bGVcclxuICAgICAgICAgICAgICAgIChzZWUgc2NyaXB0LmpzIGZvciBkZXRhaWxzKVxyXG4gICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICBcclxuICAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQmFkQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgICAgSSBjYW4gYWRkOiB7e2F9fSArIHt7Yn19ID0gIHt7IGErYiB9fVxyXG4gIFxyXG4gICAgICAgICAgICAgPHA+VGhlIGNvbnRyb2xsZXIgY291bGQgbm90IGJlIGluc3RhbnRpYXRlZCwgZHVlIHRvIHJlbHlpbmdcclxuICAgICAgICAgICAgICAgIG9uIGF1dG9tYXRpYyBmdW5jdGlvbiBhbm5vdGF0aW9ucyAod2hpY2ggYXJlIGRpc2FibGVkIGluXHJcbiAgICAgICAgICAgICAgICBzdHJpY3QgbW9kZSkuIEFzIHN1Y2gsIHRoZSBjb250ZW50IG9mIHRoaXMgc2VjdGlvbiBpcyBub3RcclxuICAgICAgICAgICAgICAgIGludGVycG9sYXRlZCwgYW5kIHRoZXJlIHNob3VsZCBiZSBhbiBlcnJvciBpbiB5b3VyIHdlYiBjb25zb2xlLlxyXG4gICAgICAgICAgICAgPC9wPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICA8L2Rpdj5cclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgIGFuZ3VsYXIubW9kdWxlKCduZ0FwcFN0cmljdERlbW8nLCBbXSlcclxuICAgICAgIC8vIEJhZENvbnRyb2xsZXIgd2lsbCBmYWlsIHRvIGluc3RhbnRpYXRlLCBkdWUgdG8gcmVseWluZyBvbiBhdXRvbWF0aWMgZnVuY3Rpb24gYW5ub3RhdGlvbixcclxuICAgICAgIC8vIHJhdGhlciB0aGFuIGFuIGV4cGxpY2l0IGFubm90YXRpb25cclxuICAgICAgIC5jb250cm9sbGVyKCdCYWRDb250cm9sbGVyJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICRzY29wZS5hID0gMTtcclxuICAgICAgICAgJHNjb3BlLmIgPSAyO1xyXG4gICAgICAgfSlcclxuICAgICAgIC8vIFVubGlrZSBCYWRDb250cm9sbGVyLCBHb29kQ29udHJvbGxlcjEgYW5kIEdvb2RDb250cm9sbGVyMiB3aWxsIG5vdCBmYWlsIHRvIGJlIGluc3RhbnRpYXRlZCxcclxuICAgICAgIC8vIGR1ZSB0byB1c2luZyBleHBsaWNpdCBhbm5vdGF0aW9ucyB1c2luZyB0aGUgYXJyYXkgc3R5bGUgYW5kICRpbmplY3QgcHJvcGVydHksIHJlc3BlY3RpdmVseS5cclxuICAgICAgIC5jb250cm9sbGVyKCdHb29kQ29udHJvbGxlcjEnLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAkc2NvcGUuYSA9IDE7XHJcbiAgICAgICAgICRzY29wZS5iID0gMjtcclxuICAgICAgIH1dKVxyXG4gICAgICAgLmNvbnRyb2xsZXIoJ0dvb2RDb250cm9sbGVyMicsIEdvb2RDb250cm9sbGVyMik7XHJcbiAgICAgICBmdW5jdGlvbiBHb29kQ29udHJvbGxlcjIoJHNjb3BlKSB7XHJcbiAgICAgICAgICRzY29wZS5uYW1lID0gJ1dvcmxkJztcclxuICAgICAgIH1cclxuICAgICAgIEdvb2RDb250cm9sbGVyMi4kaW5qZWN0ID0gWyckc2NvcGUnXTtcclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgIGRpdltuZy1jb250cm9sbGVyXSB7XHJcbiAgICAgICAgIG1hcmdpbi1ib3R0b206IDFlbTtcclxuICAgICAgICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcclxuICAgICAgICAgYm9yZGVyOiAxcHggc29saWQ7XHJcbiAgICAgICAgIHBhZGRpbmc6IC41ZW07XHJcbiAgICAgfVxyXG4gICAgIGRpdltuZy1jb250cm9sbGVyXj1Hb29kXSB7XHJcbiAgICAgICAgIGJvcmRlci1jb2xvcjogI2Q2ZTljNjtcclxuICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2RmZjBkODtcclxuICAgICAgICAgY29sb3I6ICMzYzc2M2Q7XHJcbiAgICAgfVxyXG4gICAgIGRpdltuZy1jb250cm9sbGVyXj1CYWRdIHtcclxuICAgICAgICAgYm9yZGVyLWNvbG9yOiAjZWJjY2QxO1xyXG4gICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJkZWRlO1xyXG4gICAgICAgICBjb2xvcjogI2E5NDQ0MjtcclxuICAgICAgICAgbWFyZ2luLWJvdHRvbTogMDtcclxuICAgICB9XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYW5ndWxhckluaXQoZWxlbWVudCwgYm9vdHN0cmFwKSB7XHJcbiAgICB2YXIgYXBwRWxlbWVudCxcclxuICAgICAgICBtb2R1bGUsXHJcbiAgICAgICAgY29uZmlnID0ge307XHJcblxyXG4gICAgLy8gVGhlIGVsZW1lbnQgYGVsZW1lbnRgIGhhcyBwcmlvcml0eSBvdmVyIGFueSBvdGhlciBlbGVtZW50LlxyXG4gICAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24gKHByZWZpeCkge1xyXG4gICAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xyXG5cclxuICAgICAgaWYgKCFhcHBFbGVtZW50ICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlICYmIGVsZW1lbnQuaGFzQXR0cmlidXRlKG5hbWUpKSB7XHJcbiAgICAgICAgYXBwRWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgICAgbW9kdWxlID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgZm9yRWFjaChuZ0F0dHJQcmVmaXhlcywgZnVuY3Rpb24gKHByZWZpeCkge1xyXG4gICAgICB2YXIgbmFtZSA9IHByZWZpeCArICdhcHAnO1xyXG4gICAgICB2YXIgY2FuZGlkYXRlO1xyXG5cclxuICAgICAgaWYgKCFhcHBFbGVtZW50ICYmIChjYW5kaWRhdGUgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ1snICsgbmFtZS5yZXBsYWNlKCc6JywgJ1xcXFw6JykgKyAnXScpKSkge1xyXG4gICAgICAgIGFwcEVsZW1lbnQgPSBjYW5kaWRhdGU7XHJcbiAgICAgICAgbW9kdWxlID0gY2FuZGlkYXRlLmdldEF0dHJpYnV0ZShuYW1lKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBpZiAoYXBwRWxlbWVudCkge1xyXG4gICAgICBpZiAoIWlzQXV0b0Jvb3RzdHJhcEFsbG93ZWQpIHtcclxuICAgICAgICB3aW5kb3cuY29uc29sZS5lcnJvcignQW5ndWxhcjogZGlzYWJsaW5nIGF1dG9tYXRpYyBib290c3RyYXAuIDxzY3JpcHQ+IHByb3RvY29sIGluZGljYXRlcyAnICsgJ2FuIGV4dGVuc2lvbiwgZG9jdW1lbnQubG9jYXRpb24uaHJlZiBkb2VzIG5vdCBtYXRjaC4nKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgY29uZmlnLnN0cmljdERpID0gZ2V0TmdBdHRyaWJ1dGUoYXBwRWxlbWVudCwgJ3N0cmljdC1kaScpICE9PSBudWxsO1xyXG4gICAgICBib290c3RyYXAoYXBwRWxlbWVudCwgbW9kdWxlID8gW21vZHVsZV0gOiBbXSwgY29uZmlnKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBuYW1lIGFuZ3VsYXIuYm9vdHN0cmFwXHJcbiAgICogQG1vZHVsZSBuZ1xyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIG1hbnVhbGx5IHN0YXJ0IHVwIGFuZ3VsYXIgYXBwbGljYXRpb24uXHJcbiAgICpcclxuICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgc2VlIHRoZSB7QGxpbmsgZ3VpZGUvYm9vdHN0cmFwIEJvb3RzdHJhcCBndWlkZX0uXHJcbiAgICpcclxuICAgKiBBbmd1bGFyIHdpbGwgZGV0ZWN0IGlmIGl0IGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSBicm93c2VyIG1vcmUgdGhhbiBvbmNlIGFuZCBvbmx5IGFsbG93IHRoZVxyXG4gICAqIGZpcnN0IGxvYWRlZCBzY3JpcHQgdG8gYmUgYm9vdHN0cmFwcGVkIGFuZCB3aWxsIHJlcG9ydCBhIHdhcm5pbmcgdG8gdGhlIGJyb3dzZXIgY29uc29sZSBmb3JcclxuICAgKiBlYWNoIG9mIHRoZSBzdWJzZXF1ZW50IHNjcmlwdHMuIFRoaXMgcHJldmVudHMgc3RyYW5nZSByZXN1bHRzIGluIGFwcGxpY2F0aW9ucywgd2hlcmUgb3RoZXJ3aXNlXHJcbiAgICogbXVsdGlwbGUgaW5zdGFuY2VzIG9mIEFuZ3VsYXIgdHJ5IHRvIHdvcmsgb24gdGhlIERPTS5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogKipOb3RlOioqIFByb3RyYWN0b3IgYmFzZWQgZW5kLXRvLWVuZCB0ZXN0cyBjYW5ub3QgdXNlIHRoaXMgZnVuY3Rpb24gdG8gYm9vdHN0cmFwIG1hbnVhbGx5LlxyXG4gICAqIFRoZXkgbXVzdCB1c2Uge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0uXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICoqTm90ZToqKiBEbyBub3QgYm9vdHN0cmFwIHRoZSBhcHAgb24gYW4gZWxlbWVudCB3aXRoIGEgZGlyZWN0aXZlIHRoYXQgdXNlcyB7QGxpbmsgbmcuJGNvbXBpbGUjdHJhbnNjbHVzaW9uIHRyYW5zY2x1c2lvbn0sXHJcbiAgICogc3VjaCBhcyB7QGxpbmsgbmcubmdJZiBgbmdJZmB9LCB7QGxpbmsgbmcubmdJbmNsdWRlIGBuZ0luY2x1ZGVgfSBhbmQge0BsaW5rIG5nUm91dGUubmdWaWV3IGBuZ1ZpZXdgfS5cclxuICAgKiBEb2luZyB0aGlzIG1pc3BsYWNlcyB0aGUgYXBwIHtAbGluayBuZy4kcm9vdEVsZW1lbnQgYCRyb290RWxlbWVudGB9IGFuZCB0aGUgYXBwJ3Mge0BsaW5rIGF1dG8uJGluamVjdG9yIGluamVjdG9yfSxcclxuICAgKiBjYXVzaW5nIGFuaW1hdGlvbnMgdG8gc3RvcCB3b3JraW5nIGFuZCBtYWtpbmcgdGhlIGluamVjdG9yIGluYWNjZXNzaWJsZSBmcm9tIG91dHNpZGUgdGhlIGFwcC5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIGBgYGh0bWxcclxuICAgKiA8IWRvY3R5cGUgaHRtbD5cclxuICAgKiA8aHRtbD5cclxuICAgKiA8Ym9keT5cclxuICAgKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJXZWxjb21lQ29udHJvbGxlclwiPlxyXG4gICAqICAge3tncmVldGluZ319XHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiA8c2NyaXB0IHNyYz1cImFuZ3VsYXIuanNcIj48L3NjcmlwdD5cclxuICAgKiA8c2NyaXB0PlxyXG4gICAqICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdkZW1vJywgW10pXHJcbiAgICogICAuY29udHJvbGxlcignV2VsY29tZUNvbnRyb2xsZXInLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgKiAgICAgICAkc2NvcGUuZ3JlZXRpbmcgPSAnV2VsY29tZSEnO1xyXG4gICAqICAgfSk7XHJcbiAgICogICBhbmd1bGFyLmJvb3RzdHJhcChkb2N1bWVudCwgWydkZW1vJ10pO1xyXG4gICAqIDwvc2NyaXB0PlxyXG4gICAqIDwvYm9keT5cclxuICAgKiA8L2h0bWw+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cclxuICAgKiBAcGFyYW0ge0FycmF5PFN0cmluZ3xGdW5jdGlvbnxBcnJheT49fSBtb2R1bGVzIGFuIGFycmF5IG9mIG1vZHVsZXMgdG8gbG9hZCBpbnRvIHRoZSBhcHBsaWNhdGlvbi5cclxuICAgKiAgICAgRWFjaCBpdGVtIGluIHRoZSBhcnJheSBzaG91bGQgYmUgdGhlIG5hbWUgb2YgYSBwcmVkZWZpbmVkIG1vZHVsZSBvciBhIChESSBhbm5vdGF0ZWQpXHJcbiAgICogICAgIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnZva2VkIGJ5IHRoZSBpbmplY3RvciBhcyBhIGBjb25maWdgIGJsb2NrLlxyXG4gICAqICAgICBTZWU6IHtAbGluayBhbmd1bGFyLm1vZHVsZSBtb2R1bGVzfVxyXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIGFuIG9iamVjdCBmb3IgZGVmaW5pbmcgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgYXBwbGljYXRpb24uIFRoZVxyXG4gICAqICAgICBmb2xsb3dpbmcga2V5cyBhcmUgc3VwcG9ydGVkOlxyXG4gICAqXHJcbiAgICogKiBgc3RyaWN0RGlgIC0gZGlzYWJsZSBhdXRvbWF0aWMgZnVuY3Rpb24gYW5ub3RhdGlvbiBmb3IgdGhlIGFwcGxpY2F0aW9uLiBUaGlzIGlzIG1lYW50IHRvXHJcbiAgICogICBhc3Npc3QgaW4gZmluZGluZyBidWdzIHdoaWNoIGJyZWFrIG1pbmlmaWVkIGNvZGUuIERlZmF1bHRzIHRvIGBmYWxzZWAuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7YXV0by4kaW5qZWN0b3J9IFJldHVybnMgdGhlIG5ld2x5IGNyZWF0ZWQgaW5qZWN0b3IgZm9yIHRoaXMgYXBwLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGJvb3RzdHJhcChlbGVtZW50LCBtb2R1bGVzLCBjb25maWcpIHtcclxuICAgIGlmICghaXNPYmplY3QoY29uZmlnKSkgY29uZmlnID0ge307XHJcbiAgICB2YXIgZGVmYXVsdENvbmZpZyA9IHtcclxuICAgICAgc3RyaWN0RGk6IGZhbHNlXHJcbiAgICB9O1xyXG4gICAgY29uZmlnID0gZXh0ZW5kKGRlZmF1bHRDb25maWcsIGNvbmZpZyk7XHJcbiAgICB2YXIgZG9Cb290c3RyYXAgPSBmdW5jdGlvbiBkb0Jvb3RzdHJhcCgpIHtcclxuICAgICAgZWxlbWVudCA9IGpxTGl0ZShlbGVtZW50KTtcclxuXHJcbiAgICAgIGlmIChlbGVtZW50LmluamVjdG9yKCkpIHtcclxuICAgICAgICB2YXIgdGFnID0gZWxlbWVudFswXSA9PT0gd2luZG93LmRvY3VtZW50ID8gJ2RvY3VtZW50JyA6IHN0YXJ0aW5nVGFnKGVsZW1lbnQpO1xyXG4gICAgICAgIC8vIEVuY29kZSBhbmdsZSBicmFja2V0cyB0byBwcmV2ZW50IGlucHV0IGZyb20gYmVpbmcgc2FuaXRpemVkIHRvIGVtcHR5IHN0cmluZyAjODY4My5cclxuICAgICAgICB0aHJvdyBuZ01pbkVycignYnRzdHJwZCcsICdBcHAgYWxyZWFkeSBib290c3RyYXBwZWQgd2l0aCB0aGlzIGVsZW1lbnQgXFwnezB9XFwnJywgdGFnLnJlcGxhY2UoLzwvLCAnJmx0OycpLnJlcGxhY2UoLz4vLCAnJmd0OycpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbW9kdWxlcyA9IG1vZHVsZXMgfHwgW107XHJcbiAgICAgIG1vZHVsZXMudW5zaGlmdChbJyRwcm92aWRlJywgZnVuY3Rpb24gKCRwcm92aWRlKSB7XHJcbiAgICAgICAgJHByb3ZpZGUudmFsdWUoJyRyb290RWxlbWVudCcsIGVsZW1lbnQpO1xyXG4gICAgICB9XSk7XHJcblxyXG4gICAgICBpZiAoY29uZmlnLmRlYnVnSW5mb0VuYWJsZWQpIHtcclxuICAgICAgICAvLyBQdXNoaW5nIHNvIHRoYXQgdGhpcyBvdmVycmlkZXMgYGRlYnVnSW5mb0VuYWJsZWRgIHNldHRpbmcgZGVmaW5lZCBpbiB1c2VyJ3MgYG1vZHVsZXNgLlxyXG4gICAgICAgIG1vZHVsZXMucHVzaChbJyRjb21waWxlUHJvdmlkZXInLCBmdW5jdGlvbiAoJGNvbXBpbGVQcm92aWRlcikge1xyXG4gICAgICAgICAgJGNvbXBpbGVQcm92aWRlci5kZWJ1Z0luZm9FbmFibGVkKHRydWUpO1xyXG4gICAgICAgIH1dKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgbW9kdWxlcy51bnNoaWZ0KCduZycpO1xyXG4gICAgICB2YXIgaW5qZWN0b3IgPSBjcmVhdGVJbmplY3Rvcihtb2R1bGVzLCBjb25maWcuc3RyaWN0RGkpO1xyXG4gICAgICBpbmplY3Rvci5pbnZva2UoWyckcm9vdFNjb3BlJywgJyRyb290RWxlbWVudCcsICckY29tcGlsZScsICckaW5qZWN0b3InLCBmdW5jdGlvbiBib290c3RyYXBBcHBseShzY29wZSwgZWxlbWVudCwgY29tcGlsZSwgaW5qZWN0b3IpIHtcclxuICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgZWxlbWVudC5kYXRhKCckaW5qZWN0b3InLCBpbmplY3Rvcik7XHJcbiAgICAgICAgICBjb21waWxlKGVsZW1lbnQpKHNjb3BlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfV0pO1xyXG4gICAgICByZXR1cm4gaW5qZWN0b3I7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBOR19FTkFCTEVfREVCVUdfSU5GTyA9IC9eTkdfRU5BQkxFX0RFQlVHX0lORk8hLztcclxuICAgIHZhciBOR19ERUZFUl9CT09UU1RSQVAgPSAvXk5HX0RFRkVSX0JPT1RTVFJBUCEvO1xyXG5cclxuICAgIGlmICh3aW5kb3cgJiYgTkdfRU5BQkxFX0RFQlVHX0lORk8udGVzdCh3aW5kb3cubmFtZSkpIHtcclxuICAgICAgY29uZmlnLmRlYnVnSW5mb0VuYWJsZWQgPSB0cnVlO1xyXG4gICAgICB3aW5kb3cubmFtZSA9IHdpbmRvdy5uYW1lLnJlcGxhY2UoTkdfRU5BQkxFX0RFQlVHX0lORk8sICcnKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAod2luZG93ICYmICFOR19ERUZFUl9CT09UU1RSQVAudGVzdCh3aW5kb3cubmFtZSkpIHtcclxuICAgICAgcmV0dXJuIGRvQm9vdHN0cmFwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgd2luZG93Lm5hbWUgPSB3aW5kb3cubmFtZS5yZXBsYWNlKE5HX0RFRkVSX0JPT1RTVFJBUCwgJycpO1xyXG4gICAgYW5ndWxhci5yZXN1bWVCb290c3RyYXAgPSBmdW5jdGlvbiAoZXh0cmFNb2R1bGVzKSB7XHJcbiAgICAgIGZvckVhY2goZXh0cmFNb2R1bGVzLCBmdW5jdGlvbiAobW9kdWxlKSB7XHJcbiAgICAgICAgbW9kdWxlcy5wdXNoKG1vZHVsZSk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gZG9Cb290c3RyYXAoKTtcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGlzRnVuY3Rpb24oYW5ndWxhci5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCkpIHtcclxuICAgICAgYW5ndWxhci5yZXN1bWVEZWZlcnJlZEJvb3RzdHJhcCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgYW5ndWxhci5yZWxvYWRXaXRoRGVidWdJbmZvXHJcbiAgICogQG1vZHVsZSBuZ1xyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFVzZSB0aGlzIGZ1bmN0aW9uIHRvIHJlbG9hZCB0aGUgY3VycmVudCBhcHBsaWNhdGlvbiB3aXRoIGRlYnVnIGluZm9ybWF0aW9uIHR1cm5lZCBvbi5cclxuICAgKiBUaGlzIHRha2VzIHByZWNlZGVuY2Ugb3ZlciBhIGNhbGwgdG8gYCRjb21waWxlUHJvdmlkZXIuZGVidWdJbmZvRW5hYmxlZChmYWxzZSlgLlxyXG4gICAqXHJcbiAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RlYnVnSW5mb0VuYWJsZWR9IGZvciBtb3JlLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHJlbG9hZFdpdGhEZWJ1Z0luZm8oKSB7XHJcbiAgICB3aW5kb3cubmFtZSA9ICdOR19FTkFCTEVfREVCVUdfSU5GTyEnICsgd2luZG93Lm5hbWU7XHJcbiAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmFtZSBhbmd1bGFyLmdldFRlc3RhYmlsaXR5XHJcbiAgICogQG1vZHVsZSBuZ1xyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEdldCB0aGUgdGVzdGFiaWxpdHkgc2VydmljZSBmb3IgdGhlIGluc3RhbmNlIG9mIEFuZ3VsYXIgb24gdGhlIGdpdmVuXHJcbiAgICogZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgRE9NIGVsZW1lbnQgd2hpY2ggaXMgdGhlIHJvb3Qgb2YgYW5ndWxhciBhcHBsaWNhdGlvbi5cclxuICAgKi9cclxuICBmdW5jdGlvbiBnZXRUZXN0YWJpbGl0eShyb290RWxlbWVudCkge1xyXG4gICAgdmFyIGluamVjdG9yID0gYW5ndWxhci5lbGVtZW50KHJvb3RFbGVtZW50KS5pbmplY3RvcigpO1xyXG4gICAgaWYgKCFpbmplY3Rvcikge1xyXG4gICAgICB0aHJvdyBuZ01pbkVycigndGVzdCcsICdubyBpbmplY3RvciBmb3VuZCBmb3IgZWxlbWVudCBhcmd1bWVudCB0byBnZXRUZXN0YWJpbGl0eScpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGluamVjdG9yLmdldCgnJCR0ZXN0YWJpbGl0eScpO1xyXG4gIH1cclxuXHJcbiAgdmFyIFNOQUtFX0NBU0VfUkVHRVhQID0gL1tBLVpdL2c7XHJcbiAgZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lLCBzZXBhcmF0b3IpIHtcclxuICAgIHNlcGFyYXRvciA9IHNlcGFyYXRvciB8fCAnXyc7XHJcbiAgICByZXR1cm4gbmFtZS5yZXBsYWNlKFNOQUtFX0NBU0VfUkVHRVhQLCBmdW5jdGlvbiAobGV0dGVyLCBwb3MpIHtcclxuICAgICAgcmV0dXJuIChwb3MgPyBzZXBhcmF0b3IgOiAnJykgKyBsZXR0ZXIudG9Mb3dlckNhc2UoKTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgdmFyIGJpbmRKUXVlcnlGaXJlZCA9IGZhbHNlO1xyXG4gIGZ1bmN0aW9uIGJpbmRKUXVlcnkoKSB7XHJcbiAgICB2YXIgb3JpZ2luYWxDbGVhbkRhdGE7XHJcblxyXG4gICAgaWYgKGJpbmRKUXVlcnlGaXJlZCkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gYmluZCB0byBqUXVlcnkgaWYgcHJlc2VudDtcclxuICAgIHZhciBqcU5hbWUgPSBqcSgpO1xyXG4gICAgalF1ZXJ5ID0gaXNVbmRlZmluZWQoanFOYW1lKSA/IHdpbmRvdy5qUXVlcnkgOiAvLyB1c2UgalF1ZXJ5IChpZiBwcmVzZW50KVxyXG4gICAgIWpxTmFtZSA/IHVuZGVmaW5lZCA6IC8vIHVzZSBqcUxpdGVcclxuICAgIHdpbmRvd1tqcU5hbWVdOyAvLyB1c2UgalF1ZXJ5IHNwZWNpZmllZCBieSBgbmdKcWBcclxuXHJcbiAgICAvLyBVc2UgalF1ZXJ5IGlmIGl0IGV4aXN0cyB3aXRoIHByb3BlciBmdW5jdGlvbmFsaXR5LCBvdGhlcndpc2UgZGVmYXVsdCB0byB1cy5cclxuICAgIC8vIEFuZ3VsYXIgMS4yKyByZXF1aXJlcyBqUXVlcnkgMS43KyBmb3Igb24oKS9vZmYoKSBzdXBwb3J0LlxyXG4gICAgLy8gQW5ndWxhciAxLjMrIHRlY2huaWNhbGx5IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSAyLjErIGJ1dCBpdCBtYXkgd29yayB3aXRoIG9sZGVyXHJcbiAgICAvLyB2ZXJzaW9ucy4gSXQgd2lsbCBub3Qgd29yayBmb3Igc3VyZSB3aXRoIGpRdWVyeSA8MS43LCB0aG91Z2guXHJcbiAgICBpZiAoalF1ZXJ5ICYmIGpRdWVyeS5mbi5vbikge1xyXG4gICAgICBqcUxpdGUgPSBqUXVlcnk7XHJcbiAgICAgIGV4dGVuZChqUXVlcnkuZm4sIHtcclxuICAgICAgICBzY29wZTogSlFMaXRlUHJvdG90eXBlLnNjb3BlLFxyXG4gICAgICAgIGlzb2xhdGVTY29wZTogSlFMaXRlUHJvdG90eXBlLmlzb2xhdGVTY29wZSxcclxuICAgICAgICBjb250cm9sbGVyOiAvKiogQHR5cGUgez99ICovSlFMaXRlUHJvdG90eXBlLmNvbnRyb2xsZXIsXHJcbiAgICAgICAgaW5qZWN0b3I6IEpRTGl0ZVByb3RvdHlwZS5pbmplY3RvcixcclxuICAgICAgICBpbmhlcml0ZWREYXRhOiBKUUxpdGVQcm90b3R5cGUuaW5oZXJpdGVkRGF0YVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIEFsbCBub2RlcyByZW1vdmVkIGZyb20gdGhlIERPTSB2aWEgdmFyaW91cyBqUXVlcnkgQVBJcyBsaWtlIC5yZW1vdmUoKVxyXG4gICAgICAvLyBhcmUgcGFzc2VkIHRocm91Z2ggalF1ZXJ5LmNsZWFuRGF0YS4gTW9ua2V5LXBhdGNoIHRoaXMgbWV0aG9kIHRvIGZpcmVcclxuICAgICAgLy8gdGhlICRkZXN0cm95IGV2ZW50IG9uIGFsbCByZW1vdmVkIG5vZGVzLlxyXG4gICAgICBvcmlnaW5hbENsZWFuRGF0YSA9IGpRdWVyeS5jbGVhbkRhdGE7XHJcbiAgICAgIGpRdWVyeS5jbGVhbkRhdGEgPSBmdW5jdGlvbiAoZWxlbXMpIHtcclxuICAgICAgICB2YXIgZXZlbnRzO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBlbGVtOyAoZWxlbSA9IGVsZW1zW2ldKSAhPSBudWxsOyBpKyspIHtcclxuICAgICAgICAgIGV2ZW50cyA9IGpRdWVyeS5fZGF0YShlbGVtLCAnZXZlbnRzJyk7XHJcbiAgICAgICAgICBpZiAoZXZlbnRzICYmIGV2ZW50cy4kZGVzdHJveSkge1xyXG4gICAgICAgICAgICBqUXVlcnkoZWxlbSkudHJpZ2dlckhhbmRsZXIoJyRkZXN0cm95Jyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIG9yaWdpbmFsQ2xlYW5EYXRhKGVsZW1zKTtcclxuICAgICAgfTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGpxTGl0ZSA9IEpRTGl0ZTtcclxuICAgIH1cclxuXHJcbiAgICBhbmd1bGFyLmVsZW1lbnQgPSBqcUxpdGU7XHJcblxyXG4gICAgLy8gUHJldmVudCBkb3VibGUtcHJveHlpbmcuXHJcbiAgICBiaW5kSlF1ZXJ5RmlyZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogdGhyb3cgZXJyb3IgaWYgdGhlIGFyZ3VtZW50IGlzIGZhbHN5LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGFzc2VydEFyZyhhcmcsIG5hbWUsIHJlYXNvbikge1xyXG4gICAgaWYgKCFhcmcpIHtcclxuICAgICAgdGhyb3cgbmdNaW5FcnIoJ2FyZXEnLCAnQXJndW1lbnQgXFwnezB9XFwnIGlzIHsxfScsIG5hbWUgfHwgJz8nLCByZWFzb24gfHwgJ3JlcXVpcmVkJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXJnO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYXNzZXJ0QXJnRm4oYXJnLCBuYW1lLCBhY2NlcHRBcnJheUFubm90YXRpb24pIHtcclxuICAgIGlmIChhY2NlcHRBcnJheUFubm90YXRpb24gJiYgaXNBcnJheShhcmcpKSB7XHJcbiAgICAgIGFyZyA9IGFyZ1thcmcubGVuZ3RoIC0gMV07XHJcbiAgICB9XHJcblxyXG4gICAgYXNzZXJ0QXJnKGlzRnVuY3Rpb24oYXJnKSwgbmFtZSwgJ25vdCBhIGZ1bmN0aW9uLCBnb3QgJyArIChhcmcgJiYgKHR5cGVvZiBhcmcgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKGFyZykpID09PSAnb2JqZWN0JyA/IGFyZy5jb25zdHJ1Y3Rvci5uYW1lIHx8ICdPYmplY3QnIDogdHlwZW9mIGFyZyA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoYXJnKSkpO1xyXG4gICAgcmV0dXJuIGFyZztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIHRocm93IGVycm9yIGlmIHRoZSBuYW1lIGdpdmVuIGlzIGhhc093blByb3BlcnR5XHJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lICAgIHRoZSBuYW1lIHRvIHRlc3RcclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNvbnRleHQgdGhlIGNvbnRleHQgaW4gd2hpY2ggdGhlIG5hbWUgaXMgdXNlZCwgc3VjaCBhcyBtb2R1bGUgb3IgZGlyZWN0aXZlXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgY29udGV4dCkge1xyXG4gICAgaWYgKG5hbWUgPT09ICdoYXNPd25Qcm9wZXJ0eScpIHtcclxuICAgICAgdGhyb3cgbmdNaW5FcnIoJ2JhZG5hbWUnLCAnaGFzT3duUHJvcGVydHkgaXMgbm90IGEgdmFsaWQgezB9IG5hbWUnLCBjb250ZXh0KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJldHVybiB0aGUgdmFsdWUgYWNjZXNzaWJsZSBmcm9tIHRoZSBvYmplY3QgYnkgcGF0aC4gQW55IHVuZGVmaW5lZCB0cmF2ZXJzYWxzIGFyZSBpZ25vcmVkXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iaiBzdGFydGluZyBvYmplY3RcclxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGF0aCBwYXRoIHRvIHRyYXZlcnNlXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBbYmluZEZuVG9TY29wZT10cnVlXVxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IHZhbHVlIGFzIGFjY2Vzc2libGUgYnkgcGF0aFxyXG4gICAqL1xyXG4gIC8vVE9ETyhtaXNrbyk6IHRoaXMgZnVuY3Rpb24gbmVlZHMgdG8gYmUgcmVtb3ZlZFxyXG4gIGZ1bmN0aW9uIGdldHRlcihvYmosIHBhdGgsIGJpbmRGblRvU2NvcGUpIHtcclxuICAgIGlmICghcGF0aCkgcmV0dXJuIG9iajtcclxuICAgIHZhciBrZXlzID0gcGF0aC5zcGxpdCgnLicpO1xyXG4gICAgdmFyIGtleTtcclxuICAgIHZhciBsYXN0SW5zdGFuY2UgPSBvYmo7XHJcbiAgICB2YXIgbGVuID0ga2V5cy5sZW5ndGg7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xyXG4gICAgICBrZXkgPSBrZXlzW2ldO1xyXG4gICAgICBpZiAob2JqKSB7XHJcbiAgICAgICAgb2JqID0gKGxhc3RJbnN0YW5jZSA9IG9iailba2V5XTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKCFiaW5kRm5Ub1Njb3BlICYmIGlzRnVuY3Rpb24ob2JqKSkge1xyXG4gICAgICByZXR1cm4gYmluZChsYXN0SW5zdGFuY2UsIG9iaik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJuIHRoZSBET00gc2libGluZ3MgYmV0d2VlbiB0aGUgZmlyc3QgYW5kIGxhc3Qgbm9kZSBpbiB0aGUgZ2l2ZW4gYXJyYXkuXHJcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgbGlrZSBvYmplY3RcclxuICAgKiBAcmV0dXJucyB7QXJyYXl9IHRoZSBpbnB1dHRlZCBvYmplY3Qgb3IgYSBqcUxpdGUgY29sbGVjdGlvbiBjb250YWluaW5nIHRoZSBub2Rlc1xyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGdldEJsb2NrTm9kZXMobm9kZXMpIHtcclxuICAgIC8vIFRPRE8ocGVyZik6IHVwZGF0ZSBgbm9kZXNgIGluc3RlYWQgb2YgY3JlYXRpbmcgYSBuZXcgb2JqZWN0P1xyXG4gICAgdmFyIG5vZGUgPSBub2Rlc1swXTtcclxuICAgIHZhciBlbmROb2RlID0gbm9kZXNbbm9kZXMubGVuZ3RoIC0gMV07XHJcbiAgICB2YXIgYmxvY2tOb2RlcztcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMTsgbm9kZSAhPT0gZW5kTm9kZSAmJiAobm9kZSA9IG5vZGUubmV4dFNpYmxpbmcpOyBpKyspIHtcclxuICAgICAgaWYgKGJsb2NrTm9kZXMgfHwgbm9kZXNbaV0gIT09IG5vZGUpIHtcclxuICAgICAgICBpZiAoIWJsb2NrTm9kZXMpIHtcclxuICAgICAgICAgIGJsb2NrTm9kZXMgPSBqcUxpdGUoc2xpY2UuY2FsbChub2RlcywgMCwgaSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBibG9ja05vZGVzLnB1c2gobm9kZSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYmxvY2tOb2RlcyB8fCBub2RlcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENyZWF0ZXMgYSBuZXcgb2JqZWN0IHdpdGhvdXQgYSBwcm90b3R5cGUuIFRoaXMgb2JqZWN0IGlzIHVzZWZ1bCBmb3IgbG9va3VwIHdpdGhvdXQgaGF2aW5nIHRvXHJcbiAgICogZ3VhcmQgYWdhaW5zdCBwcm90b3R5cGljYWxseSBpbmhlcml0ZWQgcHJvcGVydGllcyB2aWEgaGFzT3duUHJvcGVydHkuXHJcbiAgICpcclxuICAgKiBSZWxhdGVkIG1pY3JvLWJlbmNobWFya3M6XHJcbiAgICogLSBodHRwOi8vanNwZXJmLmNvbS9vYmplY3QtY3JlYXRlMlxyXG4gICAqIC0gaHR0cDovL2pzcGVyZi5jb20vcHJvdG8tbWFwLWxvb2t1cC8yXHJcbiAgICogLSBodHRwOi8vanNwZXJmLmNvbS9mb3ItaW4tdnMtb2JqZWN0LWtleXMyXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGNyZWF0ZU1hcCgpIHtcclxuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc3RyaW5naWZ5KHZhbHVlKSB7XHJcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAvLyBudWxsIHx8IHVuZGVmaW5lZFxyXG4gICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFsdWUpKSB7XHJcbiAgICAgIGNhc2UgJ3N0cmluZyc6XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ251bWJlcic6XHJcbiAgICAgICAgdmFsdWUgPSAnJyArIHZhbHVlO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGlmIChoYXNDdXN0b21Ub1N0cmluZyh2YWx1ZSkgJiYgIWlzQXJyYXkodmFsdWUpICYmICFpc0RhdGUodmFsdWUpKSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhbHVlID0gdG9Kc29uKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG4gIH1cclxuXHJcbiAgdmFyIE5PREVfVFlQRV9FTEVNRU5UID0gMTtcclxuICB2YXIgTk9ERV9UWVBFX0FUVFJJQlVURSA9IDI7XHJcbiAgdmFyIE5PREVfVFlQRV9URVhUID0gMztcclxuICB2YXIgTk9ERV9UWVBFX0NPTU1FTlQgPSA4O1xyXG4gIHZhciBOT0RFX1RZUEVfRE9DVU1FTlQgPSA5O1xyXG4gIHZhciBOT0RFX1RZUEVfRE9DVU1FTlRfRlJBR01FTlQgPSAxMTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHR5cGVcclxuICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZVxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIEludGVyZmFjZSBmb3IgY29uZmlndXJpbmcgYW5ndWxhciB7QGxpbmsgYW5ndWxhci5tb2R1bGUgbW9kdWxlc30uXHJcbiAgICovXHJcblxyXG4gIGZ1bmN0aW9uIHNldHVwTW9kdWxlTG9hZGVyKHdpbmRvdykge1xyXG5cclxuICAgIHZhciAkaW5qZWN0b3JNaW5FcnIgPSBtaW5FcnIoJyRpbmplY3RvcicpO1xyXG4gICAgdmFyIG5nTWluRXJyID0gbWluRXJyKCduZycpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGVuc3VyZShvYmosIG5hbWUsIGZhY3RvcnkpIHtcclxuICAgICAgcmV0dXJuIG9ialtuYW1lXSB8fCAob2JqW25hbWVdID0gZmFjdG9yeSgpKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgYW5ndWxhciA9IGVuc3VyZSh3aW5kb3csICdhbmd1bGFyJywgT2JqZWN0KTtcclxuXHJcbiAgICAvLyBXZSBuZWVkIHRvIGV4cG9zZSBgYW5ndWxhci4kJG1pbkVycmAgdG8gbW9kdWxlcyBzdWNoIGFzIGBuZ1Jlc291cmNlYCB0aGF0IHJlZmVyZW5jZSBpdCBkdXJpbmcgYm9vdHN0cmFwXHJcbiAgICBhbmd1bGFyLiQkbWluRXJyID0gYW5ndWxhci4kJG1pbkVyciB8fCBtaW5FcnI7XHJcblxyXG4gICAgcmV0dXJuIGVuc3VyZShhbmd1bGFyLCAnbW9kdWxlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAvKiogQHR5cGUge09iamVjdC48c3RyaW5nLCBhbmd1bGFyLk1vZHVsZT59ICovXHJcbiAgICAgIHZhciBtb2R1bGVzID0ge307XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBuYW1lIGFuZ3VsYXIubW9kdWxlXHJcbiAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSBgYW5ndWxhci5tb2R1bGVgIGlzIGEgZ2xvYmFsIHBsYWNlIGZvciBjcmVhdGluZywgcmVnaXN0ZXJpbmcgYW5kIHJldHJpZXZpbmcgQW5ndWxhclxyXG4gICAgICAgKiBtb2R1bGVzLlxyXG4gICAgICAgKiBBbGwgbW9kdWxlcyAoYW5ndWxhciBjb3JlIG9yIDNyZCBwYXJ0eSkgdGhhdCBzaG91bGQgYmUgYXZhaWxhYmxlIHRvIGFuIGFwcGxpY2F0aW9uIG11c3QgYmVcclxuICAgICAgICogcmVnaXN0ZXJlZCB1c2luZyB0aGlzIG1lY2hhbmlzbS5cclxuICAgICAgICpcclxuICAgICAgICogUGFzc2luZyBvbmUgYXJndW1lbnQgcmV0cmlldmVzIGFuIGV4aXN0aW5nIHtAbGluayBhbmd1bGFyLk1vZHVsZX0sXHJcbiAgICAgICAqIHdoZXJlYXMgcGFzc2luZyBtb3JlIHRoYW4gb25lIGFyZ3VtZW50IGNyZWF0ZXMgYSBuZXcge0BsaW5rIGFuZ3VsYXIuTW9kdWxlfVxyXG4gICAgICAgKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAjIE1vZHVsZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBIG1vZHVsZSBpcyBhIGNvbGxlY3Rpb24gb2Ygc2VydmljZXMsIGRpcmVjdGl2ZXMsIGNvbnRyb2xsZXJzLCBmaWx0ZXJzLCBhbmQgY29uZmlndXJhdGlvbiBpbmZvcm1hdGlvbi5cclxuICAgICAgICogYGFuZ3VsYXIubW9kdWxlYCBpcyB1c2VkIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqIC8vIENyZWF0ZSBhIG5ldyBtb2R1bGVcclxuICAgICAgICogdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoJ215TW9kdWxlJywgW10pO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyByZWdpc3RlciBhIG5ldyBzZXJ2aWNlXHJcbiAgICAgICAqIG15TW9kdWxlLnZhbHVlKCdhcHBOYW1lJywgJ015Q29vbEFwcCcpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAvLyBjb25maWd1cmUgZXhpc3Rpbmcgc2VydmljZXMgaW5zaWRlIGluaXRpYWxpemF0aW9uIGJsb2Nrcy5cclxuICAgICAgICogbXlNb2R1bGUuY29uZmlnKFsnJGxvY2F0aW9uUHJvdmlkZXInLCBmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlcikge1xyXG4gICAgICAgKiAgIC8vIENvbmZpZ3VyZSBleGlzdGluZyBwcm92aWRlcnNcclxuICAgICAgICogICAkbG9jYXRpb25Qcm92aWRlci5oYXNoUHJlZml4KCchJyk7XHJcbiAgICAgICAqIH1dKTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZW4geW91IGNhbiBjcmVhdGUgYW4gaW5qZWN0b3IgYW5kIGxvYWQgeW91ciBtb2R1bGVzIGxpa2UgdGhpczpcclxuICAgICAgICpcclxuICAgICAgICogYGBganNcclxuICAgICAgICogdmFyIGluamVjdG9yID0gYW5ndWxhci5pbmplY3RvcihbJ25nJywgJ215TW9kdWxlJ10pXHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBIb3dldmVyIGl0J3MgbW9yZSBsaWtlbHkgdGhhdCB5b3UnbGwganVzdCB1c2VcclxuICAgICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0gb3JcclxuICAgICAgICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfSB0byBzaW1wbGlmeSB0aGlzIHByb2Nlc3MgZm9yIHlvdS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHshc3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBtb2R1bGUgdG8gY3JlYXRlIG9yIHJldHJpZXZlLlxyXG4gICAgICAgKiBAcGFyYW0geyFBcnJheS48c3RyaW5nPj19IHJlcXVpcmVzIElmIHNwZWNpZmllZCB0aGVuIG5ldyBtb2R1bGUgaXMgYmVpbmcgY3JlYXRlZC4gSWZcclxuICAgICAgICogICAgICAgIHVuc3BlY2lmaWVkIHRoZW4gdGhlIG1vZHVsZSBpcyBiZWluZyByZXRyaWV2ZWQgZm9yIGZ1cnRoZXIgY29uZmlndXJhdGlvbi5cclxuICAgICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGNvbmZpZ0ZuIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gZm9yIHRoZSBtb2R1bGUuIFNhbWUgYXNcclxuICAgICAgICogICAgICAgIHtAbGluayBhbmd1bGFyLk1vZHVsZSNjb25maWcgTW9kdWxlI2NvbmZpZygpfS5cclxuICAgICAgICogQHJldHVybnMge2FuZ3VsYXIuTW9kdWxlfSBuZXcgbW9kdWxlIHdpdGggdGhlIHtAbGluayBhbmd1bGFyLk1vZHVsZX0gYXBpLlxyXG4gICAgICAgKi9cclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG1vZHVsZShuYW1lLCByZXF1aXJlcywgY29uZmlnRm4pIHtcclxuXHJcbiAgICAgICAgdmFyIF9pbmZvID0ge307XHJcblxyXG4gICAgICAgIHZhciBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSA9IGZ1bmN0aW9uIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsIGNvbnRleHQpIHtcclxuICAgICAgICAgIGlmIChuYW1lID09PSAnaGFzT3duUHJvcGVydHknKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5nTWluRXJyKCdiYWRuYW1lJywgJ2hhc093blByb3BlcnR5IGlzIG5vdCBhIHZhbGlkIHswfSBuYW1lJywgY29udGV4dCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ21vZHVsZScpO1xyXG4gICAgICAgIGlmIChyZXF1aXJlcyAmJiBtb2R1bGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XHJcbiAgICAgICAgICBtb2R1bGVzW25hbWVdID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVuc3VyZShtb2R1bGVzLCBuYW1lLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBpZiAoIXJlcXVpcmVzKSB7XHJcbiAgICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignbm9tb2QnLCAnTW9kdWxlIFxcJ3swfVxcJyBpcyBub3QgYXZhaWxhYmxlISBZb3UgZWl0aGVyIG1pc3NwZWxsZWQgJyArICd0aGUgbW9kdWxlIG5hbWUgb3IgZm9yZ290IHRvIGxvYWQgaXQuIElmIHJlZ2lzdGVyaW5nIGEgbW9kdWxlIGVuc3VyZSB0aGF0IHlvdSAnICsgJ3NwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LicsIG5hbWUpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8qKiBAdHlwZSB7IUFycmF5LjxBcnJheS48Kj4+fSAqL1xyXG4gICAgICAgICAgdmFyIGludm9rZVF1ZXVlID0gW107XHJcblxyXG4gICAgICAgICAgLyoqIEB0eXBlIHshQXJyYXkuPEZ1bmN0aW9uPn0gKi9cclxuICAgICAgICAgIHZhciBjb25maWdCbG9ja3MgPSBbXTtcclxuXHJcbiAgICAgICAgICAvKiogQHR5cGUgeyFBcnJheS48RnVuY3Rpb24+fSAqL1xyXG4gICAgICAgICAgdmFyIHJ1bkJsb2NrcyA9IFtdO1xyXG5cclxuICAgICAgICAgIHZhciBjb25maWcgPSBpbnZva2VMYXRlcignJGluamVjdG9yJywgJ2ludm9rZScsICdwdXNoJywgY29uZmlnQmxvY2tzKTtcclxuXHJcbiAgICAgICAgICAvKiogQHR5cGUge2FuZ3VsYXIuTW9kdWxlfSAqL1xyXG4gICAgICAgICAgdmFyIG1vZHVsZUluc3RhbmNlID0ge1xyXG4gICAgICAgICAgICAvLyBQcml2YXRlIHN0YXRlXHJcbiAgICAgICAgICAgIF9pbnZva2VRdWV1ZTogaW52b2tlUXVldWUsXHJcbiAgICAgICAgICAgIF9jb25maWdCbG9ja3M6IGNvbmZpZ0Jsb2NrcyxcclxuICAgICAgICAgICAgX3J1bkJsb2NrczogcnVuQmxvY2tzLFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjaW5mb1xyXG4gICAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gaW5mbyBJbmZvcm1hdGlvbiBhYm91dCB0aGUgbW9kdWxlXHJcbiAgICAgICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R8TW9kdWxlfSBUaGUgY3VycmVudCBpbmZvIG9iamVjdCBmb3IgdGhpcyBtb2R1bGUgaWYgY2FsbGVkIGFzIGEgZ2V0dGVyLFxyXG4gICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgb3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlci5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAqIFJlYWQgYW5kIHdyaXRlIGN1c3RvbSBpbmZvcm1hdGlvbiBhYm91dCB0aGlzIG1vZHVsZS5cclxuICAgICAgICAgICAgICogRm9yIGV4YW1wbGUgeW91IGNvdWxkIHB1dCB0aGUgdmVyc2lvbiBvZiB0aGUgbW9kdWxlIGluIGhlcmUuXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAgICAqIGFuZ3VsYXIubW9kdWxlKCdteU1vZHVsZScsIFtdKS5pbmZvKHsgdmVyc2lvbjogJzEuMC4wJyB9KTtcclxuICAgICAgICAgICAgICogYGBgXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIFRoZSB2ZXJzaW9uIGNvdWxkIHRoZW4gYmUgcmVhZCBiYWNrIG91dCBieSBhY2Nlc3NpbmcgdGhlIG1vZHVsZSBlbHNld2hlcmU6XHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIGBgYFxyXG4gICAgICAgICAgICAgKiB2YXIgdmVyc2lvbiA9IGFuZ3VsYXIubW9kdWxlKCdteU1vZHVsZScpLmluZm8oKS52ZXJzaW9uO1xyXG4gICAgICAgICAgICAgKiBgYGBcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogWW91IGNhbiBhbHNvIHJldHJpZXZlIHRoaXMgaW5mb3JtYXRpb24gZHVyaW5nIHJ1bnRpbWUgdmlhIHRoZVxyXG4gICAgICAgICAgICAgKiB7QGxpbmsgJGluamVjdG9yI21vZHVsZXMgYCRpbmplY3Rvci5tb2R1bGVzYH0gcHJvcGVydHk6XHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICAgICAqIHZhciB2ZXJzaW9uID0gJGluamVjdG9yLm1vZHVsZXNbJ215TW9kdWxlJ10uaW5mbygpLnZlcnNpb247XHJcbiAgICAgICAgICAgICAqIGBgYFxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaW5mbzogZnVuY3Rpb24gaW5mbyh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkgdGhyb3cgbmdNaW5FcnIoJ2FvYmonLCAnQXJndW1lbnQgXFwnezB9XFwnIG11c3QgYmUgYW4gb2JqZWN0JywgJ3ZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICBfaW5mbyA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJldHVybiBfaW5mbztcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjcmVxdWlyZXNcclxuICAgICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICogSG9sZHMgdGhlIGxpc3Qgb2YgbW9kdWxlcyB3aGljaCB0aGUgaW5qZWN0b3Igd2lsbCBsb2FkIGJlZm9yZSB0aGUgY3VycmVudCBtb2R1bGUgaXNcclxuICAgICAgICAgICAgICogbG9hZGVkLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgcmVxdWlyZXM6IHJlcXVpcmVzLFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNuYW1lXHJcbiAgICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAqIE5hbWUgb2YgdGhlIG1vZHVsZS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNwcm92aWRlclxyXG4gICAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcm92aWRlclR5cGUgQ29uc3RydWN0aW9uIGZ1bmN0aW9uIGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2Ugb2YgdGhlXHJcbiAgICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2aWNlLlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyICRwcm92aWRlLnByb3ZpZGVyKCl9LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgcHJvdmlkZXI6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAncHJvdmlkZXInKSxcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2ZhY3RvcnlcclxuICAgICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBzZXJ2aWNlIG5hbWVcclxuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvdmlkZXJGdW5jdGlvbiBGdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIHRoZSBzZXJ2aWNlLlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeSgpfS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGZhY3Rvcnk6IGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZSgnJHByb3ZpZGUnLCAnZmFjdG9yeScpLFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjc2VydmljZVxyXG4gICAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb25zdHJ1Y3RvciBBIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBpbnN0YW50aWF0ZWQuXHJcbiAgICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKCl9LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgc2VydmljZTogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckcHJvdmlkZScsICdzZXJ2aWNlJyksXHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSN2YWx1ZVxyXG4gICAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHNlcnZpY2UgbmFtZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBTZXJ2aWNlIGluc3RhbmNlIG9iamVjdC5cclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAqIFNlZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSAkcHJvdmlkZS52YWx1ZSgpfS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHZhbHVlOiBpbnZva2VMYXRlcignJHByb3ZpZGUnLCAndmFsdWUnKSxcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI2NvbnN0YW50XHJcbiAgICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgY29uc3RhbnQgbmFtZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0geyp9IG9iamVjdCBDb25zdGFudCB2YWx1ZS5cclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAqIEJlY2F1c2UgdGhlIGNvbnN0YW50cyBhcmUgZml4ZWQsIHRoZXkgZ2V0IGFwcGxpZWQgYmVmb3JlIG90aGVyIHByb3ZpZGUgbWV0aG9kcy5cclxuICAgICAgICAgICAgICogU2VlIHtAbGluayBhdXRvLiRwcm92aWRlI2NvbnN0YW50ICRwcm92aWRlLmNvbnN0YW50KCl9LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY29uc3RhbnQ6IGludm9rZUxhdGVyKCckcHJvdmlkZScsICdjb25zdGFudCcsICd1bnNoaWZ0JyksXHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjZGVjb3JhdG9yXHJcbiAgICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBzZXJ2aWNlIHRvIGRlY29yYXRlLlxyXG4gICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGRlY29yRm4gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgc2VydmljZSBuZWVkcyB0byBiZVxyXG4gICAgICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFudGlhdGVkIGFuZCBzaG91bGQgcmV0dXJuIHRoZSBkZWNvcmF0ZWQgc2VydmljZSBpbnN0YW5jZS5cclxuICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgKiBTZWUge0BsaW5rIGF1dG8uJHByb3ZpZGUjZGVjb3JhdG9yICRwcm92aWRlLmRlY29yYXRvcigpfS5cclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZGVjb3JhdG9yOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRwcm92aWRlJywgJ2RlY29yYXRvcicsIGNvbmZpZ0Jsb2NrcyksXHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNhbmltYXRpb25cclxuICAgICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBhbmltYXRpb24gbmFtZVxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBhbmltYXRpb25GYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZiBhblxyXG4gICAgICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbi5cclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAqXHJcbiAgICAgICAgICAgICAqICoqTk9URSoqOiBhbmltYXRpb25zIHRha2UgZWZmZWN0IG9ubHkgaWYgdGhlICoqbmdBbmltYXRlKiogbW9kdWxlIGlzIGxvYWRlZC5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogRGVmaW5lcyBhbiBhbmltYXRpb24gaG9vayB0aGF0IGNhbiBiZSBsYXRlciB1c2VkIHdpdGhcclxuICAgICAgICAgICAgICoge0BsaW5rICRhbmltYXRlICRhbmltYXRlfSBzZXJ2aWNlIGFuZCBkaXJlY3RpdmVzIHRoYXQgdXNlIHRoaXMgc2VydmljZS5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogYGBganNcclxuICAgICAgICAgICAgICogbW9kdWxlLmFuaW1hdGlvbignLmFuaW1hdGlvbi1uYW1lJywgZnVuY3Rpb24oJGluamVjdDEsICRpbmplY3QyKSB7XHJcbiAgICAgICAgICAgICAqICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICogICAgIGV2ZW50TmFtZSA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUpIHtcclxuICAgICAgICAgICAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgICAqICAgICAgIC8vb25jZSBjb21wbGV0ZSwgdGhlbiBydW4gZG9uZSgpXHJcbiAgICAgICAgICAgICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBjYW5jZWxsYXRpb25GdW5jdGlvbihlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAqICAgICAgICAgLy9jb2RlIHRvIGNhbmNlbCB0aGUgYW5pbWF0aW9uXHJcbiAgICAgICAgICAgICAqICAgICAgIH1cclxuICAgICAgICAgICAgICogICAgIH1cclxuICAgICAgICAgICAgICogICB9XHJcbiAgICAgICAgICAgICAqIH0pXHJcbiAgICAgICAgICAgICAqIGBgYFxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBTZWUge0BsaW5rIG5nLiRhbmltYXRlUHJvdmlkZXIjcmVnaXN0ZXIgJGFuaW1hdGVQcm92aWRlci5yZWdpc3RlcigpfSBhbmRcclxuICAgICAgICAgICAgICoge0BsaW5rIG5nQW5pbWF0ZSBuZ0FuaW1hdGUgbW9kdWxlfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGFuaW1hdGlvbjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckYW5pbWF0ZVByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNmaWx0ZXJcclxuICAgICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBGaWx0ZXIgbmFtZSAtIHRoaXMgbXVzdCBiZSBhIHZhbGlkIGFuZ3VsYXIgZXhwcmVzc2lvbiBpZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZpbHRlckZhY3RvcnkgRmFjdG9yeSBmdW5jdGlvbiBmb3IgY3JlYXRpbmcgbmV3IGluc3RhbmNlIG9mIGZpbHRlci5cclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGZpbHRlclByb3ZpZGVyI3JlZ2lzdGVyICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcigpfS5cclxuICAgICAgICAgICAgICpcclxuICAgICAgICAgICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAgICAgICAgICogKipOb3RlOioqIEZpbHRlciBuYW1lcyBtdXN0IGJlIHZhbGlkIGFuZ3VsYXIge0BsaW5rIGV4cHJlc3Npb259IGlkZW50aWZpZXJzLCBzdWNoIGFzIGB1cHBlcmNhc2VgIG9yIGBvcmRlckJ5YC5cclxuICAgICAgICAgICAgICogTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcclxuICAgICAgICAgICAgICogeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXHJcbiAgICAgICAgICAgICAqIChgbXlhcHBfc3Vic2VjdGlvbl9maWx0ZXJ4YCkuXHJcbiAgICAgICAgICAgICAqIDwvZGl2PlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgZmlsdGVyOiBpbnZva2VMYXRlckFuZFNldE1vZHVsZU5hbWUoJyRmaWx0ZXJQcm92aWRlcicsICdyZWdpc3RlcicpLFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29udHJvbGxlclxyXG4gICAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfE9iamVjdH0gbmFtZSBDb250cm9sbGVyIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgY29udHJvbGxlcnMgd2hlcmUgdGhlXHJcbiAgICAgICAgICAgICAqICAgIGtleXMgYXJlIHRoZSBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGNvbnN0cnVjdG9ycy5cclxuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uc3RydWN0b3IgQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAqIFNlZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlciAkY29udHJvbGxlclByb3ZpZGVyLnJlZ2lzdGVyKCl9LlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgY29udHJvbGxlcjogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29udHJvbGxlclByb3ZpZGVyJywgJ3JlZ2lzdGVyJyksXHJcblxyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICAgKiBAbmFtZSBhbmd1bGFyLk1vZHVsZSNkaXJlY3RpdmVcclxuICAgICAgICAgICAgICogQG1vZHVsZSBuZ1xyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgRGlyZWN0aXZlIG5hbWUsIG9yIGFuIG9iamVjdCBtYXAgb2YgZGlyZWN0aXZlcyB3aGVyZSB0aGVcclxuICAgICAgICAgICAgICogICAga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgZmFjdG9yaWVzLlxyXG4gICAgICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBkaXJlY3RpdmVGYWN0b3J5IEZhY3RvcnkgZnVuY3Rpb24gZm9yIGNyZWF0aW5nIG5ldyBpbnN0YW5jZSBvZlxyXG4gICAgICAgICAgICAgKiBkaXJlY3RpdmVzLlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgpfS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZTogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29tcGlsZVByb3ZpZGVyJywgJ2RpcmVjdGl2ZScpLFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29tcG9uZW50XHJcbiAgICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGluIGNhbWVsLWNhc2UgKGkuZS4gbXlDb21wIHdoaWNoIHdpbGwgbWF0Y2ggYXMgbXktY29tcClcclxuICAgICAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0IChhIHNpbXBsaWZpZWRcclxuICAgICAgICAgICAgICogICAge0BsaW5rIG5nLiRjb21waWxlI2RpcmVjdGl2ZS1kZWZpbml0aW9uLW9iamVjdCBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3R9KVxyXG4gICAgICAgICAgICAgKlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICogU2VlIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2NvbXBvbmVudCAkY29tcGlsZVByb3ZpZGVyLmNvbXBvbmVudCgpfS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGNvbXBvbmVudDogaW52b2tlTGF0ZXJBbmRTZXRNb2R1bGVOYW1lKCckY29tcGlsZVByb3ZpZGVyJywgJ2NvbXBvbmVudCcpLFxyXG5cclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAgICogQG5hbWUgYW5ndWxhci5Nb2R1bGUjY29uZmlnXHJcbiAgICAgICAgICAgICAqIEBtb2R1bGUgbmdcclxuICAgICAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29uZmlnRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIG9uIG1vZHVsZSBsb2FkLiBVc2VmdWwgZm9yIHNlcnZpY2VcclxuICAgICAgICAgICAgICogICAgY29uZmlndXJhdGlvbi5cclxuICAgICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgICAqIFVzZSB0aGlzIG1ldGhvZCB0byByZWdpc3RlciB3b3JrIHdoaWNoIG5lZWRzIHRvIGJlIHBlcmZvcm1lZCBvbiBtb2R1bGUgbG9hZGluZy5cclxuICAgICAgICAgICAgICogRm9yIG1vcmUgYWJvdXQgaG93IHRvIGNvbmZpZ3VyZSBzZXJ2aWNlcywgc2VlXHJcbiAgICAgICAgICAgICAqIHtAbGluayBwcm92aWRlcnMjcHJvdmlkZXItcmVjaXBlIFByb3ZpZGVyIFJlY2lwZX0uXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBjb25maWc6IGNvbmZpZyxcclxuXHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgICAqIEBuYW1lIGFuZ3VsYXIuTW9kdWxlI3J1blxyXG4gICAgICAgICAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGluaXRpYWxpemF0aW9uRm4gRXhlY3V0ZSB0aGlzIGZ1bmN0aW9uIGFmdGVyIGluamVjdG9yIGNyZWF0aW9uLlxyXG4gICAgICAgICAgICAgKiAgICBVc2VmdWwgZm9yIGFwcGxpY2F0aW9uIGluaXRpYWxpemF0aW9uLlxyXG4gICAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAgICogVXNlIHRoaXMgbWV0aG9kIHRvIHJlZ2lzdGVyIHdvcmsgd2hpY2ggc2hvdWxkIGJlIHBlcmZvcm1lZCB3aGVuIHRoZSBpbmplY3RvciBpcyBkb25lXHJcbiAgICAgICAgICAgICAqIGxvYWRpbmcgYWxsIG1vZHVsZXMuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICBydW46IGZ1bmN0aW9uIHJ1bihibG9jaykge1xyXG4gICAgICAgICAgICAgIHJ1bkJsb2Nrcy5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICBpZiAoY29uZmlnRm4pIHtcclxuICAgICAgICAgICAgY29uZmlnKGNvbmZpZ0ZuKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJvdmlkZXJcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2RcclxuICAgICAgICAgICAqIEBwYXJhbSB7U3RyaW5nPX0gaW5zZXJ0TWV0aG9kXHJcbiAgICAgICAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5Nb2R1bGV9XHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGZ1bmN0aW9uIGludm9rZUxhdGVyKHByb3ZpZGVyLCBtZXRob2QsIGluc2VydE1ldGhvZCwgcXVldWUpIHtcclxuICAgICAgICAgICAgaWYgKCFxdWV1ZSkgcXVldWUgPSBpbnZva2VRdWV1ZTtcclxuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICBxdWV1ZVtpbnNlcnRNZXRob2QgfHwgJ3B1c2gnXShbcHJvdmlkZXIsIG1ldGhvZCwgYXJndW1lbnRzXSk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIG1vZHVsZUluc3RhbmNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHByb3ZpZGVyXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kXHJcbiAgICAgICAgICAgKiBAcmV0dXJucyB7YW5ndWxhci5Nb2R1bGV9XHJcbiAgICAgICAgICAgKi9cclxuICAgICAgICAgIGZ1bmN0aW9uIGludm9rZUxhdGVyQW5kU2V0TW9kdWxlTmFtZShwcm92aWRlciwgbWV0aG9kLCBxdWV1ZSkge1xyXG4gICAgICAgICAgICBpZiAoIXF1ZXVlKSBxdWV1ZSA9IGludm9rZVF1ZXVlO1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHJlY2lwZU5hbWUsIGZhY3RvcnlGdW5jdGlvbikge1xyXG4gICAgICAgICAgICAgIGlmIChmYWN0b3J5RnVuY3Rpb24gJiYgaXNGdW5jdGlvbihmYWN0b3J5RnVuY3Rpb24pKSBmYWN0b3J5RnVuY3Rpb24uJCRtb2R1bGVOYW1lID0gbmFtZTtcclxuICAgICAgICAgICAgICBxdWV1ZS5wdXNoKFtwcm92aWRlciwgbWV0aG9kLCBhcmd1bWVudHNdKTtcclxuICAgICAgICAgICAgICByZXR1cm4gbW9kdWxlSW5zdGFuY2U7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qIGdsb2JhbCBzaGFsbG93Q29weTogdHJ1ZSAqL1xyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgc2hhbGxvdyBjb3B5IG9mIGFuIG9iamVjdCwgYW4gYXJyYXkgb3IgYSBwcmltaXRpdmUuXHJcbiAgICpcclxuICAgKiBBc3N1bWVzIHRoYXQgdGhlcmUgYXJlIG5vIHByb3RvIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gc2hhbGxvd0NvcHkoc3JjLCBkc3QpIHtcclxuICAgIGlmIChpc0FycmF5KHNyYykpIHtcclxuICAgICAgZHN0ID0gZHN0IHx8IFtdO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gc3JjLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICBkc3RbaV0gPSBzcmNbaV07XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSBpZiAoaXNPYmplY3Qoc3JjKSkge1xyXG4gICAgICBkc3QgPSBkc3QgfHwge307XHJcblxyXG4gICAgICBmb3IgKHZhciBrZXkgaW4gc3JjKSB7XHJcbiAgICAgICAgaWYgKCEoa2V5LmNoYXJBdCgwKSA9PT0gJyQnICYmIGtleS5jaGFyQXQoMSkgPT09ICckJykpIHtcclxuICAgICAgICAgIGRzdFtrZXldID0gc3JjW2tleV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGRzdCB8fCBzcmM7XHJcbiAgfVxyXG5cclxuICAvKiBleHBvcnRlZCB0b0RlYnVnU3RyaW5nICovXHJcblxyXG4gIGZ1bmN0aW9uIHNlcmlhbGl6ZU9iamVjdChvYmosIG1heERlcHRoKSB7XHJcbiAgICB2YXIgc2VlbiA9IFtdO1xyXG5cclxuICAgIC8vIFRoZXJlIGlzIG5vIGRpcmVjdCB3YXkgdG8gc3RyaW5naWZ5IG9iamVjdCB1bnRpbCByZWFjaGluZyBhIHNwZWNpZmljIGRlcHRoXHJcbiAgICAvLyBhbmQgYSB2ZXJ5IGRlZXAgb2JqZWN0IGNhbiBjYXVzZSBhIHBlcmZvcm1hbmNlIGlzc3VlLCBzbyB3ZSBjb3B5IHRoZSBvYmplY3RcclxuICAgIC8vIGJhc2VkIG9uIHRoaXMgc3BlY2lmaWMgZGVwdGggYW5kIHRoZW4gc3RyaW5naWZ5IGl0LlxyXG4gICAgaWYgKGlzVmFsaWRPYmplY3RNYXhEZXB0aChtYXhEZXB0aCkpIHtcclxuICAgICAgLy8gVGhpcyBmaWxlIGlzIGFsc28gaW5jbHVkZWQgaW4gYGFuZ3VsYXItbG9hZGVyYCwgc28gYGNvcHkoKWAgbWlnaHQgbm90IGFsd2F5cyBiZSBhdmFpbGFibGUgaW5cclxuICAgICAgLy8gdGhlIGNsb3N1cmUuIFRoZXJlZm9yZSwgaXQgaXMgbGF6aWx5IHJldHJpZXZlZCBhcyBgYW5ndWxhci5jb3B5KClgIHdoZW4gbmVlZGVkLlxyXG4gICAgICBvYmogPSBhbmd1bGFyLmNvcHkob2JqLCBudWxsLCBtYXhEZXB0aCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcclxuICAgICAgdmFsID0gdG9Kc29uUmVwbGFjZXIoa2V5LCB2YWwpO1xyXG4gICAgICBpZiAoaXNPYmplY3QodmFsKSkge1xyXG5cclxuICAgICAgICBpZiAoc2Vlbi5pbmRleE9mKHZhbCkgPj0gMCkgcmV0dXJuICcuLi4nO1xyXG5cclxuICAgICAgICBzZWVuLnB1c2godmFsKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdmFsO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0b0RlYnVnU3RyaW5nKG9iaiwgbWF4RGVwdGgpIHtcclxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIHJldHVybiBvYmoudG9TdHJpbmcoKS5yZXBsYWNlKC8gXFx7W1xcc1xcU10qJC8sICcnKTtcclxuICAgIH0gZWxzZSBpZiAoaXNVbmRlZmluZWQob2JqKSkge1xyXG4gICAgICByZXR1cm4gJ3VuZGVmaW5lZCc7XHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIHJldHVybiBzZXJpYWxpemVPYmplY3Qob2JqLCBtYXhEZXB0aCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH1cclxuXHJcbiAgLyogZ2xvYmFsIGFuZ3VsYXJNb2R1bGU6IHRydWUsXHJcbiAgICB2ZXJzaW9uOiB0cnVlLFxyXG4gIFxyXG4gICAgJENvbXBpbGVQcm92aWRlcixcclxuICBcclxuICAgIGh0bWxBbmNob3JEaXJlY3RpdmUsXHJcbiAgICBpbnB1dERpcmVjdGl2ZSxcclxuICAgIGlucHV0RGlyZWN0aXZlLFxyXG4gICAgZm9ybURpcmVjdGl2ZSxcclxuICAgIHNjcmlwdERpcmVjdGl2ZSxcclxuICAgIHNlbGVjdERpcmVjdGl2ZSxcclxuICAgIG9wdGlvbkRpcmVjdGl2ZSxcclxuICAgIG5nQmluZERpcmVjdGl2ZSxcclxuICAgIG5nQmluZEh0bWxEaXJlY3RpdmUsXHJcbiAgICBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSxcclxuICAgIG5nQ2xhc3NEaXJlY3RpdmUsXHJcbiAgICBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcclxuICAgIG5nQ2xhc3NPZGREaXJlY3RpdmUsXHJcbiAgICBuZ0Nsb2FrRGlyZWN0aXZlLFxyXG4gICAgbmdDb250cm9sbGVyRGlyZWN0aXZlLFxyXG4gICAgbmdGb3JtRGlyZWN0aXZlLFxyXG4gICAgbmdIaWRlRGlyZWN0aXZlLFxyXG4gICAgbmdJZkRpcmVjdGl2ZSxcclxuICAgIG5nSW5jbHVkZURpcmVjdGl2ZSxcclxuICAgIG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlLFxyXG4gICAgbmdJbml0RGlyZWN0aXZlLFxyXG4gICAgbmdOb25CaW5kYWJsZURpcmVjdGl2ZSxcclxuICAgIG5nUGx1cmFsaXplRGlyZWN0aXZlLFxyXG4gICAgbmdSZXBlYXREaXJlY3RpdmUsXHJcbiAgICBuZ1Nob3dEaXJlY3RpdmUsXHJcbiAgICBuZ1N0eWxlRGlyZWN0aXZlLFxyXG4gICAgbmdTd2l0Y2hEaXJlY3RpdmUsXHJcbiAgICBuZ1N3aXRjaFdoZW5EaXJlY3RpdmUsXHJcbiAgICBuZ1N3aXRjaERlZmF1bHREaXJlY3RpdmUsXHJcbiAgICBuZ09wdGlvbnNEaXJlY3RpdmUsXHJcbiAgICBuZ1RyYW5zY2x1ZGVEaXJlY3RpdmUsXHJcbiAgICBuZ01vZGVsRGlyZWN0aXZlLFxyXG4gICAgbmdMaXN0RGlyZWN0aXZlLFxyXG4gICAgbmdDaGFuZ2VEaXJlY3RpdmUsXHJcbiAgICBwYXR0ZXJuRGlyZWN0aXZlLFxyXG4gICAgcGF0dGVybkRpcmVjdGl2ZSxcclxuICAgIHJlcXVpcmVkRGlyZWN0aXZlLFxyXG4gICAgcmVxdWlyZWREaXJlY3RpdmUsXHJcbiAgICBtaW5sZW5ndGhEaXJlY3RpdmUsXHJcbiAgICBtaW5sZW5ndGhEaXJlY3RpdmUsXHJcbiAgICBtYXhsZW5ndGhEaXJlY3RpdmUsXHJcbiAgICBtYXhsZW5ndGhEaXJlY3RpdmUsXHJcbiAgICBuZ1ZhbHVlRGlyZWN0aXZlLFxyXG4gICAgbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmUsXHJcbiAgICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyxcclxuICAgIG5nRXZlbnREaXJlY3RpdmVzLFxyXG4gIFxyXG4gICAgJEFuY2hvclNjcm9sbFByb3ZpZGVyLFxyXG4gICAgJEFuaW1hdGVQcm92aWRlcixcclxuICAgICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyLFxyXG4gICAgJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIsXHJcbiAgICAkJENvcmVBbmltYXRlUXVldWVQcm92aWRlcixcclxuICAgICQkQW5pbWF0ZVJ1bm5lckZhY3RvcnlQcm92aWRlcixcclxuICAgICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeVByb3ZpZGVyLFxyXG4gICAgJEJyb3dzZXJQcm92aWRlcixcclxuICAgICRDYWNoZUZhY3RvcnlQcm92aWRlcixcclxuICAgICRDb250cm9sbGVyUHJvdmlkZXIsXHJcbiAgICAkRGF0ZVByb3ZpZGVyLFxyXG4gICAgJERvY3VtZW50UHJvdmlkZXIsXHJcbiAgICAkJElzRG9jdW1lbnRIaWRkZW5Qcm92aWRlcixcclxuICAgICRFeGNlcHRpb25IYW5kbGVyUHJvdmlkZXIsXHJcbiAgICAkRmlsdGVyUHJvdmlkZXIsXHJcbiAgICAkJEZvcmNlUmVmbG93UHJvdmlkZXIsXHJcbiAgICAkSW50ZXJwb2xhdGVQcm92aWRlcixcclxuICAgICRJbnRlcnZhbFByb3ZpZGVyLFxyXG4gICAgJEh0dHBQcm92aWRlcixcclxuICAgICRIdHRwUGFyYW1TZXJpYWxpemVyUHJvdmlkZXIsXHJcbiAgICAkSHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVByb3ZpZGVyLFxyXG4gICAgJEh0dHBCYWNrZW5kUHJvdmlkZXIsXHJcbiAgICAkeGhyRmFjdG9yeVByb3ZpZGVyLFxyXG4gICAgJGpzb25wQ2FsbGJhY2tzUHJvdmlkZXIsXHJcbiAgICAkTG9jYXRpb25Qcm92aWRlcixcclxuICAgICRMb2dQcm92aWRlcixcclxuICAgICQkTWFwUHJvdmlkZXIsXHJcbiAgICAkUGFyc2VQcm92aWRlcixcclxuICAgICRSb290U2NvcGVQcm92aWRlcixcclxuICAgICRRUHJvdmlkZXIsXHJcbiAgICAkJFFQcm92aWRlcixcclxuICAgICQkU2FuaXRpemVVcmlQcm92aWRlcixcclxuICAgICRTY2VQcm92aWRlcixcclxuICAgICRTY2VEZWxlZ2F0ZVByb3ZpZGVyLFxyXG4gICAgJFNuaWZmZXJQcm92aWRlcixcclxuICAgICRUZW1wbGF0ZUNhY2hlUHJvdmlkZXIsXHJcbiAgICAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsXHJcbiAgICAkJFRlc3RhYmlsaXR5UHJvdmlkZXIsXHJcbiAgICAkVGltZW91dFByb3ZpZGVyLFxyXG4gICAgJCRSQUZQcm92aWRlcixcclxuICAgICRXaW5kb3dQcm92aWRlcixcclxuICAgICQkanFMaXRlUHJvdmlkZXIsXHJcbiAgICAkJENvb2tpZVJlYWRlclByb3ZpZGVyXHJcbiAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG9iamVjdFxyXG4gICAqIEBuYW1lIGFuZ3VsYXIudmVyc2lvblxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBBbiBvYmplY3QgdGhhdCBjb250YWlucyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgY3VycmVudCBBbmd1bGFySlMgdmVyc2lvbi5cclxuICAgKlxyXG4gICAqIFRoaXMgb2JqZWN0IGhhcyB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICpcclxuICAgKiAtIGBmdWxsYCDigJMgYHtzdHJpbmd9YCDigJMgRnVsbCB2ZXJzaW9uIHN0cmluZywgc3VjaCBhcyBcIjAuOS4xOFwiLlxyXG4gICAqIC0gYG1ham9yYCDigJMgYHtudW1iZXJ9YCDigJMgTWFqb3IgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIwXCIuXHJcbiAgICogLSBgbWlub3JgIOKAkyBge251bWJlcn1gIOKAkyBNaW5vciB2ZXJzaW9uIG51bWJlciwgc3VjaCBhcyBcIjlcIi5cclxuICAgKiAtIGBkb3RgIOKAkyBge251bWJlcn1gIOKAkyBEb3QgdmVyc2lvbiBudW1iZXIsIHN1Y2ggYXMgXCIxOFwiLlxyXG4gICAqIC0gYGNvZGVOYW1lYCDigJMgYHtzdHJpbmd9YCDigJMgQ29kZSBuYW1lIG9mIHRoZSByZWxlYXNlLCBzdWNoIGFzIFwiamlnZ2xpbmctYXJtZmF0XCIuXHJcbiAgICovXHJcbiAgdmFyIHZlcnNpb24gPSB7XHJcbiAgICAvLyBUaGVzZSBwbGFjZWhvbGRlciBzdHJpbmdzIHdpbGwgYmUgcmVwbGFjZWQgYnkgZ3J1bnQncyBgYnVpbGRgIHRhc2suXHJcbiAgICAvLyBUaGV5IG5lZWQgdG8gYmUgZG91YmxlLSBvciBzaW5nbGUtcXVvdGVkLlxyXG4gICAgZnVsbDogJzEuNi42JyxcclxuICAgIG1ham9yOiAxLFxyXG4gICAgbWlub3I6IDYsXHJcbiAgICBkb3Q6IDYsXHJcbiAgICBjb2RlTmFtZTogJ2ludGVyZGltZW5zaW9uYWwtY2FibGUnXHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gcHVibGlzaEV4dGVybmFsQVBJKGFuZ3VsYXIpIHtcclxuICAgIGV4dGVuZChhbmd1bGFyLCB7XHJcbiAgICAgICdlcnJvckhhbmRsaW5nQ29uZmlnJzogZXJyb3JIYW5kbGluZ0NvbmZpZyxcclxuICAgICAgJ2Jvb3RzdHJhcCc6IGJvb3RzdHJhcCxcclxuICAgICAgJ2NvcHknOiBjb3B5LFxyXG4gICAgICAnZXh0ZW5kJzogZXh0ZW5kLFxyXG4gICAgICAnbWVyZ2UnOiBtZXJnZSxcclxuICAgICAgJ2VxdWFscyc6IGVxdWFscyxcclxuICAgICAgJ2VsZW1lbnQnOiBqcUxpdGUsXHJcbiAgICAgICdmb3JFYWNoJzogZm9yRWFjaCxcclxuICAgICAgJ2luamVjdG9yJzogY3JlYXRlSW5qZWN0b3IsXHJcbiAgICAgICdub29wJzogbm9vcCxcclxuICAgICAgJ2JpbmQnOiBiaW5kLFxyXG4gICAgICAndG9Kc29uJzogdG9Kc29uLFxyXG4gICAgICAnZnJvbUpzb24nOiBmcm9tSnNvbixcclxuICAgICAgJ2lkZW50aXR5JzogaWRlbnRpdHksXHJcbiAgICAgICdpc1VuZGVmaW5lZCc6IGlzVW5kZWZpbmVkLFxyXG4gICAgICAnaXNEZWZpbmVkJzogaXNEZWZpbmVkLFxyXG4gICAgICAnaXNTdHJpbmcnOiBpc1N0cmluZyxcclxuICAgICAgJ2lzRnVuY3Rpb24nOiBpc0Z1bmN0aW9uLFxyXG4gICAgICAnaXNPYmplY3QnOiBpc09iamVjdCxcclxuICAgICAgJ2lzTnVtYmVyJzogaXNOdW1iZXIsXHJcbiAgICAgICdpc0VsZW1lbnQnOiBpc0VsZW1lbnQsXHJcbiAgICAgICdpc0FycmF5JzogaXNBcnJheSxcclxuICAgICAgJ3ZlcnNpb24nOiB2ZXJzaW9uLFxyXG4gICAgICAnaXNEYXRlJzogaXNEYXRlLFxyXG4gICAgICAnbG93ZXJjYXNlJzogbG93ZXJjYXNlLFxyXG4gICAgICAndXBwZXJjYXNlJzogdXBwZXJjYXNlLFxyXG4gICAgICAnY2FsbGJhY2tzJzogeyAkJGNvdW50ZXI6IDAgfSxcclxuICAgICAgJ2dldFRlc3RhYmlsaXR5JzogZ2V0VGVzdGFiaWxpdHksXHJcbiAgICAgICdyZWxvYWRXaXRoRGVidWdJbmZvJzogcmVsb2FkV2l0aERlYnVnSW5mbyxcclxuICAgICAgJyQkbWluRXJyJzogbWluRXJyLFxyXG4gICAgICAnJCRjc3AnOiBjc3AsXHJcbiAgICAgICckJGVuY29kZVVyaVNlZ21lbnQnOiBlbmNvZGVVcmlTZWdtZW50LFxyXG4gICAgICAnJCRlbmNvZGVVcmlRdWVyeSc6IGVuY29kZVVyaVF1ZXJ5LFxyXG4gICAgICAnJCRzdHJpbmdpZnknOiBzdHJpbmdpZnlcclxuICAgIH0pO1xyXG5cclxuICAgIGFuZ3VsYXJNb2R1bGUgPSBzZXR1cE1vZHVsZUxvYWRlcih3aW5kb3cpO1xyXG5cclxuICAgIGFuZ3VsYXJNb2R1bGUoJ25nJywgWyduZ0xvY2FsZSddLCBbJyRwcm92aWRlJywgZnVuY3Rpb24gbmdNb2R1bGUoJHByb3ZpZGUpIHtcclxuICAgICAgLy8gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyIG5lZWRzIHRvIGJlIGJlZm9yZSAkY29tcGlsZVByb3ZpZGVyIGFzIGl0IGlzIHVzZWQgYnkgaXQuXHJcbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKHtcclxuICAgICAgICAkJHNhbml0aXplVXJpOiAkJFNhbml0aXplVXJpUHJvdmlkZXJcclxuICAgICAgfSk7XHJcbiAgICAgICRwcm92aWRlLnByb3ZpZGVyKCckY29tcGlsZScsICRDb21waWxlUHJvdmlkZXIpLmRpcmVjdGl2ZSh7XHJcbiAgICAgICAgYTogaHRtbEFuY2hvckRpcmVjdGl2ZSxcclxuICAgICAgICBpbnB1dDogaW5wdXREaXJlY3RpdmUsXHJcbiAgICAgICAgdGV4dGFyZWE6IGlucHV0RGlyZWN0aXZlLFxyXG4gICAgICAgIGZvcm06IGZvcm1EaXJlY3RpdmUsXHJcbiAgICAgICAgc2NyaXB0OiBzY3JpcHREaXJlY3RpdmUsXHJcbiAgICAgICAgc2VsZWN0OiBzZWxlY3REaXJlY3RpdmUsXHJcbiAgICAgICAgb3B0aW9uOiBvcHRpb25EaXJlY3RpdmUsXHJcbiAgICAgICAgbmdCaW5kOiBuZ0JpbmREaXJlY3RpdmUsXHJcbiAgICAgICAgbmdCaW5kSHRtbDogbmdCaW5kSHRtbERpcmVjdGl2ZSxcclxuICAgICAgICBuZ0JpbmRUZW1wbGF0ZTogbmdCaW5kVGVtcGxhdGVEaXJlY3RpdmUsXHJcbiAgICAgICAgbmdDbGFzczogbmdDbGFzc0RpcmVjdGl2ZSxcclxuICAgICAgICBuZ0NsYXNzRXZlbjogbmdDbGFzc0V2ZW5EaXJlY3RpdmUsXHJcbiAgICAgICAgbmdDbGFzc09kZDogbmdDbGFzc09kZERpcmVjdGl2ZSxcclxuICAgICAgICBuZ0Nsb2FrOiBuZ0Nsb2FrRGlyZWN0aXZlLFxyXG4gICAgICAgIG5nQ29udHJvbGxlcjogbmdDb250cm9sbGVyRGlyZWN0aXZlLFxyXG4gICAgICAgIG5nRm9ybTogbmdGb3JtRGlyZWN0aXZlLFxyXG4gICAgICAgIG5nSGlkZTogbmdIaWRlRGlyZWN0aXZlLFxyXG4gICAgICAgIG5nSWY6IG5nSWZEaXJlY3RpdmUsXHJcbiAgICAgICAgbmdJbmNsdWRlOiBuZ0luY2x1ZGVEaXJlY3RpdmUsXHJcbiAgICAgICAgbmdJbml0OiBuZ0luaXREaXJlY3RpdmUsXHJcbiAgICAgICAgbmdOb25CaW5kYWJsZTogbmdOb25CaW5kYWJsZURpcmVjdGl2ZSxcclxuICAgICAgICBuZ1BsdXJhbGl6ZTogbmdQbHVyYWxpemVEaXJlY3RpdmUsXHJcbiAgICAgICAgbmdSZXBlYXQ6IG5nUmVwZWF0RGlyZWN0aXZlLFxyXG4gICAgICAgIG5nU2hvdzogbmdTaG93RGlyZWN0aXZlLFxyXG4gICAgICAgIG5nU3R5bGU6IG5nU3R5bGVEaXJlY3RpdmUsXHJcbiAgICAgICAgbmdTd2l0Y2g6IG5nU3dpdGNoRGlyZWN0aXZlLFxyXG4gICAgICAgIG5nU3dpdGNoV2hlbjogbmdTd2l0Y2hXaGVuRGlyZWN0aXZlLFxyXG4gICAgICAgIG5nU3dpdGNoRGVmYXVsdDogbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlLFxyXG4gICAgICAgIG5nT3B0aW9uczogbmdPcHRpb25zRGlyZWN0aXZlLFxyXG4gICAgICAgIG5nVHJhbnNjbHVkZTogbmdUcmFuc2NsdWRlRGlyZWN0aXZlLFxyXG4gICAgICAgIG5nTW9kZWw6IG5nTW9kZWxEaXJlY3RpdmUsXHJcbiAgICAgICAgbmdMaXN0OiBuZ0xpc3REaXJlY3RpdmUsXHJcbiAgICAgICAgbmdDaGFuZ2U6IG5nQ2hhbmdlRGlyZWN0aXZlLFxyXG4gICAgICAgIHBhdHRlcm46IHBhdHRlcm5EaXJlY3RpdmUsXHJcbiAgICAgICAgbmdQYXR0ZXJuOiBwYXR0ZXJuRGlyZWN0aXZlLFxyXG4gICAgICAgIHJlcXVpcmVkOiByZXF1aXJlZERpcmVjdGl2ZSxcclxuICAgICAgICBuZ1JlcXVpcmVkOiByZXF1aXJlZERpcmVjdGl2ZSxcclxuICAgICAgICBtaW5sZW5ndGg6IG1pbmxlbmd0aERpcmVjdGl2ZSxcclxuICAgICAgICBuZ01pbmxlbmd0aDogbWlubGVuZ3RoRGlyZWN0aXZlLFxyXG4gICAgICAgIG1heGxlbmd0aDogbWF4bGVuZ3RoRGlyZWN0aXZlLFxyXG4gICAgICAgIG5nTWF4bGVuZ3RoOiBtYXhsZW5ndGhEaXJlY3RpdmUsXHJcbiAgICAgICAgbmdWYWx1ZTogbmdWYWx1ZURpcmVjdGl2ZSxcclxuICAgICAgICBuZ01vZGVsT3B0aW9uczogbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmVcclxuICAgICAgfSkuZGlyZWN0aXZlKHtcclxuICAgICAgICBuZ0luY2x1ZGU6IG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlXHJcbiAgICAgIH0pLmRpcmVjdGl2ZShuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcykuZGlyZWN0aXZlKG5nRXZlbnREaXJlY3RpdmVzKTtcclxuICAgICAgJHByb3ZpZGUucHJvdmlkZXIoe1xyXG4gICAgICAgICRhbmNob3JTY3JvbGw6ICRBbmNob3JTY3JvbGxQcm92aWRlcixcclxuICAgICAgICAkYW5pbWF0ZTogJEFuaW1hdGVQcm92aWRlcixcclxuICAgICAgICAkYW5pbWF0ZUNzczogJENvcmVBbmltYXRlQ3NzUHJvdmlkZXIsXHJcbiAgICAgICAgJCRhbmltYXRlSnM6ICQkQ29yZUFuaW1hdGVKc1Byb3ZpZGVyLFxyXG4gICAgICAgICQkYW5pbWF0ZVF1ZXVlOiAkJENvcmVBbmltYXRlUXVldWVQcm92aWRlcixcclxuICAgICAgICAkJEFuaW1hdGVSdW5uZXI6ICQkQW5pbWF0ZVJ1bm5lckZhY3RvcnlQcm92aWRlcixcclxuICAgICAgICAkJGFuaW1hdGVBc3luY1J1bjogJCRBbmltYXRlQXN5bmNSdW5GYWN0b3J5UHJvdmlkZXIsXHJcbiAgICAgICAgJGJyb3dzZXI6ICRCcm93c2VyUHJvdmlkZXIsXHJcbiAgICAgICAgJGNhY2hlRmFjdG9yeTogJENhY2hlRmFjdG9yeVByb3ZpZGVyLFxyXG4gICAgICAgICRjb250cm9sbGVyOiAkQ29udHJvbGxlclByb3ZpZGVyLFxyXG4gICAgICAgICRkb2N1bWVudDogJERvY3VtZW50UHJvdmlkZXIsXHJcbiAgICAgICAgJCRpc0RvY3VtZW50SGlkZGVuOiAkJElzRG9jdW1lbnRIaWRkZW5Qcm92aWRlcixcclxuICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcjogJEV4Y2VwdGlvbkhhbmRsZXJQcm92aWRlcixcclxuICAgICAgICAkZmlsdGVyOiAkRmlsdGVyUHJvdmlkZXIsXHJcbiAgICAgICAgJCRmb3JjZVJlZmxvdzogJCRGb3JjZVJlZmxvd1Byb3ZpZGVyLFxyXG4gICAgICAgICRpbnRlcnBvbGF0ZTogJEludGVycG9sYXRlUHJvdmlkZXIsXHJcbiAgICAgICAgJGludGVydmFsOiAkSW50ZXJ2YWxQcm92aWRlcixcclxuICAgICAgICAkaHR0cDogJEh0dHBQcm92aWRlcixcclxuICAgICAgICAkaHR0cFBhcmFtU2VyaWFsaXplcjogJEh0dHBQYXJhbVNlcmlhbGl6ZXJQcm92aWRlcixcclxuICAgICAgICAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZTogJEh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2VQcm92aWRlcixcclxuICAgICAgICAkaHR0cEJhY2tlbmQ6ICRIdHRwQmFja2VuZFByb3ZpZGVyLFxyXG4gICAgICAgICR4aHJGYWN0b3J5OiAkeGhyRmFjdG9yeVByb3ZpZGVyLFxyXG4gICAgICAgICRqc29ucENhbGxiYWNrczogJGpzb25wQ2FsbGJhY2tzUHJvdmlkZXIsXHJcbiAgICAgICAgJGxvY2F0aW9uOiAkTG9jYXRpb25Qcm92aWRlcixcclxuICAgICAgICAkbG9nOiAkTG9nUHJvdmlkZXIsXHJcbiAgICAgICAgJHBhcnNlOiAkUGFyc2VQcm92aWRlcixcclxuICAgICAgICAkcm9vdFNjb3BlOiAkUm9vdFNjb3BlUHJvdmlkZXIsXHJcbiAgICAgICAgJHE6ICRRUHJvdmlkZXIsXHJcbiAgICAgICAgJCRxOiAkJFFQcm92aWRlcixcclxuICAgICAgICAkc2NlOiAkU2NlUHJvdmlkZXIsXHJcbiAgICAgICAgJHNjZURlbGVnYXRlOiAkU2NlRGVsZWdhdGVQcm92aWRlcixcclxuICAgICAgICAkc25pZmZlcjogJFNuaWZmZXJQcm92aWRlcixcclxuICAgICAgICAkdGVtcGxhdGVDYWNoZTogJFRlbXBsYXRlQ2FjaGVQcm92aWRlcixcclxuICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0OiAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIsXHJcbiAgICAgICAgJCR0ZXN0YWJpbGl0eTogJCRUZXN0YWJpbGl0eVByb3ZpZGVyLFxyXG4gICAgICAgICR0aW1lb3V0OiAkVGltZW91dFByb3ZpZGVyLFxyXG4gICAgICAgICR3aW5kb3c6ICRXaW5kb3dQcm92aWRlcixcclxuICAgICAgICAkJHJBRjogJCRSQUZQcm92aWRlcixcclxuICAgICAgICAkJGpxTGl0ZTogJCRqcUxpdGVQcm92aWRlcixcclxuICAgICAgICAkJE1hcDogJCRNYXBQcm92aWRlcixcclxuICAgICAgICAkJGNvb2tpZVJlYWRlcjogJCRDb29raWVSZWFkZXJQcm92aWRlclxyXG4gICAgICB9KTtcclxuICAgIH1dKS5pbmZvKHsgYW5ndWxhclZlcnNpb246ICcxLjYuNicgfSk7XHJcbiAgfVxyXG5cclxuICAvKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXHJcbiAgICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxyXG4gICAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcclxuICAgKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXHJcbiAgICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxyXG4gICAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcclxuICAgKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xyXG5cclxuICAvKiBnbG9iYWxcclxuICAgIEpRTGl0ZVByb3RvdHlwZTogdHJ1ZSxcclxuICAgIEJPT0xFQU5fQVRUUjogdHJ1ZSxcclxuICAgIEFMSUFTRURfQVRUUjogdHJ1ZVxyXG4gICovXHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvL0pRTGl0ZVxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZ1bmN0aW9uXHJcbiAgICogQG5hbWUgYW5ndWxhci5lbGVtZW50XHJcbiAgICogQG1vZHVsZSBuZ1xyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBXcmFwcyBhIHJhdyBET00gZWxlbWVudCBvciBIVE1MIHN0cmluZyBhcyBhIFtqUXVlcnldKGh0dHA6Ly9qcXVlcnkuY29tKSBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogSWYgalF1ZXJ5IGlzIGF2YWlsYWJsZSwgYGFuZ3VsYXIuZWxlbWVudGAgaXMgYW4gYWxpYXMgZm9yIHRoZVxyXG4gICAqIFtqUXVlcnldKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qUXVlcnkvKSBmdW5jdGlvbi4gSWYgalF1ZXJ5IGlzIG5vdCBhdmFpbGFibGUsIGBhbmd1bGFyLmVsZW1lbnRgXHJcbiAgICogZGVsZWdhdGVzIHRvIEFuZ3VsYXIncyBidWlsdC1pbiBzdWJzZXQgb2YgalF1ZXJ5LCBjYWxsZWQgXCJqUXVlcnkgbGl0ZVwiIG9yICoqanFMaXRlKiouXHJcbiAgICpcclxuICAgKiBqcUxpdGUgaXMgYSB0aW55LCBBUEktY29tcGF0aWJsZSBzdWJzZXQgb2YgalF1ZXJ5IHRoYXQgYWxsb3dzXHJcbiAgICogQW5ndWxhciB0byBtYW5pcHVsYXRlIHRoZSBET00gaW4gYSBjcm9zcy1icm93c2VyIGNvbXBhdGlibGUgd2F5LiBqcUxpdGUgaW1wbGVtZW50cyBvbmx5IHRoZSBtb3N0XHJcbiAgICogY29tbW9ubHkgbmVlZGVkIGZ1bmN0aW9uYWxpdHkgd2l0aCB0aGUgZ29hbCBvZiBoYXZpbmcgYSB2ZXJ5IHNtYWxsIGZvb3RwcmludC5cclxuICAgKlxyXG4gICAqIFRvIHVzZSBgalF1ZXJ5YCwgc2ltcGx5IGVuc3VyZSBpdCBpcyBsb2FkZWQgYmVmb3JlIHRoZSBgYW5ndWxhci5qc2AgZmlsZS4gWW91IGNhbiBhbHNvIHVzZSB0aGVcclxuICAgKiB7QGxpbmsgbmdKcSBgbmdKcWB9IGRpcmVjdGl2ZSB0byBzcGVjaWZ5IHRoYXQganFsaXRlIHNob3VsZCBiZSB1c2VkIG92ZXIgalF1ZXJ5LCBvciB0byB1c2UgYVxyXG4gICAqIHNwZWNpZmljIHZlcnNpb24gb2YgalF1ZXJ5IGlmIG11bHRpcGxlIHZlcnNpb25zIGV4aXN0IG9uIHRoZSBwYWdlLlxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj4qKk5vdGU6KiogQWxsIGVsZW1lbnQgcmVmZXJlbmNlcyBpbiBBbmd1bGFyIGFyZSBhbHdheXMgd3JhcHBlZCB3aXRoIGpRdWVyeSBvclxyXG4gICAqIGpxTGl0ZSAoc3VjaCBhcyB0aGUgZWxlbWVudCBhcmd1bWVudCBpbiBhIGRpcmVjdGl2ZSdzIGNvbXBpbGUgLyBsaW5rIGZ1bmN0aW9uKS4gVGhleSBhcmUgbmV2ZXIgcmF3IERPTSByZWZlcmVuY2VzLjwvZGl2PlxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj4qKk5vdGU6KiogS2VlcCBpbiBtaW5kIHRoYXQgdGhpcyBmdW5jdGlvbiB3aWxsIG5vdCBmaW5kIGVsZW1lbnRzXHJcbiAgICogYnkgdGFnIG5hbWUgLyBDU1Mgc2VsZWN0b3IuIEZvciBsb29rdXBzIGJ5IHRhZyBuYW1lLCB0cnkgaW5zdGVhZCBgYW5ndWxhci5lbGVtZW50KGRvY3VtZW50KS5maW5kKC4uLilgXHJcbiAgICogb3IgYCRkb2N1bWVudC5maW5kKClgLCBvciB1c2UgdGhlIHN0YW5kYXJkIERPTSBBUElzLCBlLmcuIGBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKClgLjwvZGl2PlxyXG4gICAqXHJcbiAgICogIyMgQW5ndWxhcidzIGpxTGl0ZVxyXG4gICAqIGpxTGl0ZSBwcm92aWRlcyBvbmx5IHRoZSBmb2xsb3dpbmcgalF1ZXJ5IG1ldGhvZHM6XHJcbiAgICpcclxuICAgKiAtIFtgYWRkQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hZGRDbGFzcy8pIC0gRG9lcyBub3Qgc3VwcG9ydCBhIGZ1bmN0aW9uIGFzIGZpcnN0IGFyZ3VtZW50XHJcbiAgICogLSBbYGFmdGVyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYWZ0ZXIvKVxyXG4gICAqIC0gW2BhcHBlbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9hcHBlbmQvKVxyXG4gICAqIC0gW2BhdHRyKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYXR0ci8pIC0gRG9lcyBub3Qgc3VwcG9ydCBmdW5jdGlvbnMgYXMgcGFyYW1ldGVyc1xyXG4gICAqIC0gW2BiaW5kKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vYmluZC8pIChfZGVwcmVjYXRlZF8sIHVzZSBbYG9uKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb24vKSkgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMsIHNlbGVjdG9ycyBvciBldmVudERhdGFcclxuICAgKiAtIFtgY2hpbGRyZW4oKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jaGlsZHJlbi8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcclxuICAgKiAtIFtgY2xvbmUoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jbG9uZS8pXHJcbiAgICogLSBbYGNvbnRlbnRzKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vY29udGVudHMvKVxyXG4gICAqIC0gW2Bjc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9jc3MvKSAtIE9ubHkgcmV0cmlldmVzIGlubGluZS1zdHlsZXMsIGRvZXMgbm90IGNhbGwgYGdldENvbXB1dGVkU3R5bGUoKWAuXHJcbiAgICogICBBcyBhIHNldHRlciwgZG9lcyBub3QgY29udmVydCBudW1iZXJzIHRvIHN0cmluZ3Mgb3IgYXBwZW5kICdweCcsIGFuZCBhbHNvIGRvZXMgbm90IGhhdmUgYXV0b21hdGljIHByb3BlcnR5IHByZWZpeGluZy5cclxuICAgKiAtIFtgZGF0YSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2RhdGEvKVxyXG4gICAqIC0gW2BkZXRhY2goKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9kZXRhY2gvKVxyXG4gICAqIC0gW2BlbXB0eSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL2VtcHR5LylcclxuICAgKiAtIFtgZXEoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9lcS8pXHJcbiAgICogLSBbYGZpbmQoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9maW5kLykgLSBMaW1pdGVkIHRvIGxvb2t1cHMgYnkgdGFnIG5hbWVcclxuICAgKiAtIFtgaGFzQ2xhc3MoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9oYXNDbGFzcy8pXHJcbiAgICogLSBbYGh0bWwoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9odG1sLylcclxuICAgKiAtIFtgbmV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL25leHQvKSAtIERvZXMgbm90IHN1cHBvcnQgc2VsZWN0b3JzXHJcbiAgICogLSBbYG9uKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb24vKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50RGF0YVxyXG4gICAqIC0gW2BvZmYoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9vZmYvKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcywgc2VsZWN0b3JzIG9yIGV2ZW50IG9iamVjdCBhcyBwYXJhbWV0ZXJcclxuICAgKiAtIFtgb25lKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vb25lLykgLSBEb2VzIG5vdCBzdXBwb3J0IG5hbWVzcGFjZXMgb3Igc2VsZWN0b3JzXHJcbiAgICogLSBbYHBhcmVudCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3BhcmVudC8pIC0gRG9lcyBub3Qgc3VwcG9ydCBzZWxlY3RvcnNcclxuICAgKiAtIFtgcHJlcGVuZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ByZXBlbmQvKVxyXG4gICAqIC0gW2Bwcm9wKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcHJvcC8pXHJcbiAgICogLSBbYHJlYWR5KClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVhZHkvKSAoX2RlcHJlY2F0ZWRfLCB1c2UgYGFuZ3VsYXIuZWxlbWVudChjYWxsYmFjaylgIGluc3RlYWQgb2YgYGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkucmVhZHkoY2FsbGJhY2spYClcclxuICAgKiAtIFtgcmVtb3ZlKClgXShodHRwOi8vYXBpLmpxdWVyeS5jb20vcmVtb3ZlLylcclxuICAgKiAtIFtgcmVtb3ZlQXR0cigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUF0dHIvKSAtIERvZXMgbm90IHN1cHBvcnQgbXVsdGlwbGUgYXR0cmlidXRlc1xyXG4gICAqIC0gW2ByZW1vdmVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZUNsYXNzLykgLSBEb2VzIG5vdCBzdXBwb3J0IGEgZnVuY3Rpb24gYXMgZmlyc3QgYXJndW1lbnRcclxuICAgKiAtIFtgcmVtb3ZlRGF0YSgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlbW92ZURhdGEvKVxyXG4gICAqIC0gW2ByZXBsYWNlV2l0aCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3JlcGxhY2VXaXRoLylcclxuICAgKiAtIFtgdGV4dCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RleHQvKVxyXG4gICAqIC0gW2B0b2dnbGVDbGFzcygpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3RvZ2dsZUNsYXNzLykgLSBEb2VzIG5vdCBzdXBwb3J0IGEgZnVuY3Rpb24gYXMgZmlyc3QgYXJndW1lbnRcclxuICAgKiAtIFtgdHJpZ2dlckhhbmRsZXIoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS90cmlnZ2VySGFuZGxlci8pIC0gUGFzc2VzIGEgZHVtbXkgZXZlbnQgb2JqZWN0IHRvIGhhbmRsZXJzXHJcbiAgICogLSBbYHVuYmluZCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3VuYmluZC8pIChfZGVwcmVjYXRlZF8sIHVzZSBbYG9mZigpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL29mZi8pKSAtIERvZXMgbm90IHN1cHBvcnQgbmFtZXNwYWNlcyBvciBldmVudCBvYmplY3QgYXMgcGFyYW1ldGVyXHJcbiAgICogLSBbYHZhbCgpYF0oaHR0cDovL2FwaS5qcXVlcnkuY29tL3ZhbC8pXHJcbiAgICogLSBbYHdyYXAoKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS93cmFwLylcclxuICAgKlxyXG4gICAqICMjIGpRdWVyeS9qcUxpdGUgRXh0cmFzXHJcbiAgICogQW5ndWxhciBhbHNvIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgYWRkaXRpb25hbCBtZXRob2RzIGFuZCBldmVudHMgdG8gYm90aCBqUXVlcnkgYW5kIGpxTGl0ZTpcclxuICAgKlxyXG4gICAqICMjIyBFdmVudHNcclxuICAgKiAtIGAkZGVzdHJveWAgLSBBbmd1bGFySlMgaW50ZXJjZXB0cyBhbGwganFMaXRlL2pRdWVyeSdzIERPTSBkZXN0cnVjdGlvbiBhcGlzIGFuZCBmaXJlcyB0aGlzIGV2ZW50XHJcbiAgICogICAgb24gYWxsIERPTSBub2RlcyBiZWluZyByZW1vdmVkLiAgVGhpcyBjYW4gYmUgdXNlZCB0byBjbGVhbiB1cCBhbnkgM3JkIHBhcnR5IGJpbmRpbmdzIHRvIHRoZSBET01cclxuICAgKiAgICBlbGVtZW50IGJlZm9yZSBpdCBpcyByZW1vdmVkLlxyXG4gICAqXHJcbiAgICogIyMjIE1ldGhvZHNcclxuICAgKiAtIGBjb250cm9sbGVyKG5hbWUpYCAtIHJldHJpZXZlcyB0aGUgY29udHJvbGxlciBvZiB0aGUgY3VycmVudCBlbGVtZW50IG9yIGl0cyBwYXJlbnQuIEJ5IGRlZmF1bHRcclxuICAgKiAgIHJldHJpZXZlcyBjb250cm9sbGVyIGFzc29jaWF0ZWQgd2l0aCB0aGUgYG5nQ29udHJvbGxlcmAgZGlyZWN0aXZlLiBJZiBgbmFtZWAgaXMgcHJvdmlkZWQgYXNcclxuICAgKiAgIGNhbWVsQ2FzZSBkaXJlY3RpdmUgbmFtZSwgdGhlbiB0aGUgY29udHJvbGxlciBmb3IgdGhpcyBkaXJlY3RpdmUgd2lsbCBiZSByZXRyaWV2ZWQgKGUuZy5cclxuICAgKiAgIGAnbmdNb2RlbCdgKS5cclxuICAgKiAtIGBpbmplY3RvcigpYCAtIHJldHJpZXZlcyB0aGUgaW5qZWN0b3Igb2YgdGhlIGN1cnJlbnQgZWxlbWVudCBvciBpdHMgcGFyZW50LlxyXG4gICAqIC0gYHNjb3BlKClgIC0gcmV0cmlldmVzIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0gb2YgdGhlIGN1cnJlbnRcclxuICAgKiAgIGVsZW1lbnQgb3IgaXRzIHBhcmVudC4gUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG9cclxuICAgKiAgIGJlIGVuYWJsZWQuXHJcbiAgICogLSBgaXNvbGF0ZVNjb3BlKClgIC0gcmV0cmlldmVzIGFuIGlzb2xhdGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgc2NvcGV9IGlmIG9uZSBpcyBhdHRhY2hlZCBkaXJlY3RseSB0byB0aGVcclxuICAgKiAgIGN1cnJlbnQgZWxlbWVudC4gVGhpcyBnZXR0ZXIgc2hvdWxkIGJlIHVzZWQgb25seSBvbiBlbGVtZW50cyB0aGF0IGNvbnRhaW4gYSBkaXJlY3RpdmUgd2hpY2ggc3RhcnRzIGEgbmV3IGlzb2xhdGVcclxuICAgKiAgIHNjb3BlLiBDYWxsaW5nIGBzY29wZSgpYCBvbiB0aGlzIGVsZW1lbnQgYWx3YXlzIHJldHVybnMgdGhlIG9yaWdpbmFsIG5vbi1pc29sYXRlIHNjb3BlLlxyXG4gICAqICAgUmVxdWlyZXMge0BsaW5rIGd1aWRlL3Byb2R1Y3Rpb24jZGlzYWJsaW5nLWRlYnVnLWRhdGEgRGVidWcgRGF0YX0gdG8gYmUgZW5hYmxlZC5cclxuICAgKiAtIGBpbmhlcml0ZWREYXRhKClgIC0gc2FtZSBhcyBgZGF0YSgpYCwgYnV0IHdhbGtzIHVwIHRoZSBET00gdW50aWwgYSB2YWx1ZSBpcyBmb3VuZCBvciB0aGUgdG9wXHJcbiAgICogICBwYXJlbnQgZWxlbWVudCBpcyByZWFjaGVkLlxyXG4gICAqXHJcbiAgICogQGtub3duSXNzdWUgWW91IGNhbm5vdCBzcHkgb24gYGFuZ3VsYXIuZWxlbWVudGAgaWYgeW91IGFyZSB1c2luZyBKYXNtaW5lIHZlcnNpb24gMS54LiBTZWVcclxuICAgKiBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xNDI1MSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgSFRNTCBzdHJpbmcgb3IgRE9NRWxlbWVudCB0byBiZSB3cmFwcGVkIGludG8galF1ZXJ5LlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IGpRdWVyeSBvYmplY3QuXHJcbiAgICovXHJcblxyXG4gIEpRTGl0ZS5leHBhbmRvID0gJ25nMzM5JztcclxuXHJcbiAgdmFyIGpxQ2FjaGUgPSBKUUxpdGUuY2FjaGUgPSB7fSxcclxuICAgICAganFJZCA9IDE7XHJcblxyXG4gIC8qXHJcbiAgICogISEhIFRoaXMgaXMgYW4gdW5kb2N1bWVudGVkIFwicHJpdmF0ZVwiIGZ1bmN0aW9uICEhIVxyXG4gICAqL1xyXG4gIEpRTGl0ZS5fZGF0YSA9IGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAvL2pRdWVyeSBhbHdheXMgcmV0dXJucyBhbiBvYmplY3Qgb24gY2FjaGUgbWlzc1xyXG4gICAgcmV0dXJuIHRoaXMuY2FjaGVbbm9kZVt0aGlzLmV4cGFuZG9dXSB8fCB7fTtcclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBqcU5leHRJZCgpIHtcclxuICAgIHJldHVybiArK2pxSWQ7XHJcbiAgfVxyXG5cclxuICB2YXIgREFTSF9MT1dFUkNBU0VfUkVHRVhQID0gLy0oW2Etel0pL2c7XHJcbiAgdmFyIE1TX0hBQ0tfUkVHRVhQID0gL14tbXMtLztcclxuICB2YXIgTU9VU0VfRVZFTlRfTUFQID0geyBtb3VzZWxlYXZlOiAnbW91c2VvdXQnLCBtb3VzZWVudGVyOiAnbW91c2VvdmVyJyB9O1xyXG4gIHZhciBqcUxpdGVNaW5FcnIgPSBtaW5FcnIoJ2pxTGl0ZScpO1xyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0cyBrZWJhYi1jYXNlIHRvIGNhbWVsQ2FzZS5cclxuICAgKiBUaGVyZSBpcyBhbHNvIGEgc3BlY2lhbCBjYXNlIGZvciB0aGUgbXMgcHJlZml4IHN0YXJ0aW5nIHdpdGggYSBsb3dlcmNhc2UgbGV0dGVyLlxyXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gY3NzS2ViYWJUb0NhbWVsKG5hbWUpIHtcclxuICAgIHJldHVybiBrZWJhYlRvQ2FtZWwobmFtZS5yZXBsYWNlKE1TX0hBQ0tfUkVHRVhQLCAnbXMtJykpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZm5DYW1lbENhc2VSZXBsYWNlKGFsbCwgbGV0dGVyKSB7XHJcbiAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0cyBrZWJhYi1jYXNlIHRvIGNhbWVsQ2FzZS5cclxuICAgKiBAcGFyYW0gbmFtZSBOYW1lIHRvIG5vcm1hbGl6ZVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGtlYmFiVG9DYW1lbChuYW1lKSB7XHJcbiAgICByZXR1cm4gbmFtZS5yZXBsYWNlKERBU0hfTE9XRVJDQVNFX1JFR0VYUCwgZm5DYW1lbENhc2VSZXBsYWNlKTtcclxuICB9XHJcblxyXG4gIHZhciBTSU5HTEVfVEFHX1JFR0VYUCA9IC9ePChbXFx3LV0rKVxccypcXC8/Pig/OjxcXC9cXDE+fCkkLztcclxuICB2YXIgSFRNTF9SRUdFWFAgPSAvPHwmIz9cXHcrOy87XHJcbiAgdmFyIFRBR19OQU1FX1JFR0VYUCA9IC88KFtcXHc6LV0rKS87XHJcbiAgdmFyIFhIVE1MX1RBR19SRUdFWFAgPSAvPCg/IWFyZWF8YnJ8Y29sfGVtYmVkfGhyfGltZ3xpbnB1dHxsaW5rfG1ldGF8cGFyYW0pKChbXFx3Oi1dKylbXj5dKilcXC8+L2dpO1xyXG5cclxuICB2YXIgd3JhcE1hcCA9IHtcclxuICAgICdvcHRpb24nOiBbMSwgJzxzZWxlY3QgbXVsdGlwbGU9XCJtdWx0aXBsZVwiPicsICc8L3NlbGVjdD4nXSxcclxuXHJcbiAgICAndGhlYWQnOiBbMSwgJzx0YWJsZT4nLCAnPC90YWJsZT4nXSxcclxuICAgICdjb2wnOiBbMiwgJzx0YWJsZT48Y29sZ3JvdXA+JywgJzwvY29sZ3JvdXA+PC90YWJsZT4nXSxcclxuICAgICd0cic6IFsyLCAnPHRhYmxlPjx0Ym9keT4nLCAnPC90Ym9keT48L3RhYmxlPiddLFxyXG4gICAgJ3RkJzogWzMsICc8dGFibGU+PHRib2R5Pjx0cj4nLCAnPC90cj48L3Rib2R5PjwvdGFibGU+J10sXHJcbiAgICAnX2RlZmF1bHQnOiBbMCwgJycsICcnXVxyXG4gIH07XHJcblxyXG4gIHdyYXBNYXAub3B0Z3JvdXAgPSB3cmFwTWFwLm9wdGlvbjtcclxuICB3cmFwTWFwLnRib2R5ID0gd3JhcE1hcC50Zm9vdCA9IHdyYXBNYXAuY29sZ3JvdXAgPSB3cmFwTWFwLmNhcHRpb24gPSB3cmFwTWFwLnRoZWFkO1xyXG4gIHdyYXBNYXAudGggPSB3cmFwTWFwLnRkO1xyXG5cclxuICBmdW5jdGlvbiBqcUxpdGVJc1RleHROb2RlKGh0bWwpIHtcclxuICAgIHJldHVybiAhSFRNTF9SRUdFWFAudGVzdChodG1sKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGpxTGl0ZUFjY2VwdHNEYXRhKG5vZGUpIHtcclxuICAgIC8vIFRoZSB3aW5kb3cgb2JqZWN0IGNhbiBhY2NlcHQgZGF0YSBidXQgaGFzIG5vIG5vZGVUeXBlXHJcbiAgICAvLyBPdGhlcndpc2Ugd2UgYXJlIG9ubHkgaW50ZXJlc3RlZCBpbiBlbGVtZW50cyAoMSkgYW5kIGRvY3VtZW50cyAoOSlcclxuICAgIHZhciBub2RlVHlwZSA9IG5vZGUubm9kZVR5cGU7XHJcbiAgICByZXR1cm4gbm9kZVR5cGUgPT09IE5PREVfVFlQRV9FTEVNRU5UIHx8ICFub2RlVHlwZSB8fCBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0RPQ1VNRU5UO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24ganFMaXRlSGFzRGF0YShub2RlKSB7XHJcbiAgICBmb3IgKHZhciBrZXkgaW4ganFDYWNoZVtub2RlLm5nMzM5XSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGpxTGl0ZUJ1aWxkRnJhZ21lbnQoaHRtbCwgY29udGV4dCkge1xyXG4gICAgdmFyIHRtcCxcclxuICAgICAgICB0YWcsXHJcbiAgICAgICAgd3JhcCxcclxuICAgICAgICBmcmFnbWVudCA9IGNvbnRleHQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLFxyXG4gICAgICAgIG5vZGVzID0gW10sXHJcbiAgICAgICAgaTtcclxuXHJcbiAgICBpZiAoanFMaXRlSXNUZXh0Tm9kZShodG1sKSkge1xyXG4gICAgICAvLyBDb252ZXJ0IG5vbi1odG1sIGludG8gYSB0ZXh0IG5vZGVcclxuICAgICAgbm9kZXMucHVzaChjb250ZXh0LmNyZWF0ZVRleHROb2RlKGh0bWwpKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIENvbnZlcnQgaHRtbCBpbnRvIERPTSBub2Rlc1xyXG4gICAgICB0bXAgPSBmcmFnbWVudC5hcHBlbmRDaGlsZChjb250ZXh0LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKTtcclxuICAgICAgdGFnID0gKFRBR19OQU1FX1JFR0VYUC5leGVjKGh0bWwpIHx8IFsnJywgJyddKVsxXS50b0xvd2VyQ2FzZSgpO1xyXG4gICAgICB3cmFwID0gd3JhcE1hcFt0YWddIHx8IHdyYXBNYXAuX2RlZmF1bHQ7XHJcbiAgICAgIHRtcC5pbm5lckhUTUwgPSB3cmFwWzFdICsgaHRtbC5yZXBsYWNlKFhIVE1MX1RBR19SRUdFWFAsICc8JDE+PC8kMj4nKSArIHdyYXBbMl07XHJcblxyXG4gICAgICAvLyBEZXNjZW5kIHRocm91Z2ggd3JhcHBlcnMgdG8gdGhlIHJpZ2h0IGNvbnRlbnRcclxuICAgICAgaSA9IHdyYXBbMF07XHJcbiAgICAgIHdoaWxlIChpLS0pIHtcclxuICAgICAgICB0bXAgPSB0bXAubGFzdENoaWxkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBub2RlcyA9IGNvbmNhdChub2RlcywgdG1wLmNoaWxkTm9kZXMpO1xyXG5cclxuICAgICAgdG1wID0gZnJhZ21lbnQuZmlyc3RDaGlsZDtcclxuICAgICAgdG1wLnRleHRDb250ZW50ID0gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gUmVtb3ZlIHdyYXBwZXIgZnJvbSBmcmFnbWVudFxyXG4gICAgZnJhZ21lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgIGZyYWdtZW50LmlubmVySFRNTCA9ICcnOyAvLyBDbGVhciBpbm5lciBIVE1MXHJcbiAgICBmb3JFYWNoKG5vZGVzLCBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChub2RlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBmcmFnbWVudDtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGpxTGl0ZVBhcnNlSFRNTChodG1sLCBjb250ZXh0KSB7XHJcbiAgICBjb250ZXh0ID0gY29udGV4dCB8fCB3aW5kb3cuZG9jdW1lbnQ7XHJcbiAgICB2YXIgcGFyc2VkO1xyXG5cclxuICAgIGlmIChwYXJzZWQgPSBTSU5HTEVfVEFHX1JFR0VYUC5leGVjKGh0bWwpKSB7XHJcbiAgICAgIHJldHVybiBbY29udGV4dC5jcmVhdGVFbGVtZW50KHBhcnNlZFsxXSldO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChwYXJzZWQgPSBqcUxpdGVCdWlsZEZyYWdtZW50KGh0bWwsIGNvbnRleHQpKSB7XHJcbiAgICAgIHJldHVybiBwYXJzZWQuY2hpbGROb2RlcztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBqcUxpdGVXcmFwTm9kZShub2RlLCB3cmFwcGVyKSB7XHJcbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xyXG5cclxuICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZCh3cmFwcGVyLCBub2RlKTtcclxuICAgIH1cclxuXHJcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKG5vZGUpO1xyXG4gIH1cclxuXHJcbiAgLy8gSUU5LTExIGhhcyBubyBtZXRob2QgXCJjb250YWluc1wiIGluIFNWRyBlbGVtZW50IGFuZCBpbiBOb2RlLnByb3RvdHlwZS4gQnVnICMxMDI1OS5cclxuICB2YXIganFMaXRlQ29udGFpbnMgPSB3aW5kb3cuTm9kZS5wcm90b3R5cGUuY29udGFpbnMgfHwgLyoqIEB0aGlzICovZnVuY3Rpb24gKGFyZykge1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcclxuICAgIHJldHVybiAhISh0aGlzLmNvbXBhcmVEb2N1bWVudFBvc2l0aW9uKGFyZykgJiAxNik7XHJcbiAgfTtcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgZnVuY3Rpb24gSlFMaXRlKGVsZW1lbnQpIHtcclxuICAgIGlmIChlbGVtZW50IGluc3RhbmNlb2YgSlFMaXRlKSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50O1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBhcmdJc1N0cmluZztcclxuXHJcbiAgICBpZiAoaXNTdHJpbmcoZWxlbWVudCkpIHtcclxuICAgICAgZWxlbWVudCA9IHRyaW0oZWxlbWVudCk7XHJcbiAgICAgIGFyZ0lzU3RyaW5nID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBKUUxpdGUpKSB7XHJcbiAgICAgIGlmIChhcmdJc1N0cmluZyAmJiBlbGVtZW50LmNoYXJBdCgwKSAhPT0gJzwnKSB7XHJcbiAgICAgICAgdGhyb3cganFMaXRlTWluRXJyKCdub3NlbCcsICdMb29raW5nIHVwIGVsZW1lbnRzIHZpYSBzZWxlY3RvcnMgaXMgbm90IHN1cHBvcnRlZCBieSBqcUxpdGUhIFNlZTogaHR0cDovL2RvY3MuYW5ndWxhcmpzLm9yZy9hcGkvYW5ndWxhci5lbGVtZW50Jyk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIG5ldyBKUUxpdGUoZWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGFyZ0lzU3RyaW5nKSB7XHJcbiAgICAgIGpxTGl0ZUFkZE5vZGVzKHRoaXMsIGpxTGl0ZVBhcnNlSFRNTChlbGVtZW50KSk7XHJcbiAgICB9IGVsc2UgaWYgKGlzRnVuY3Rpb24oZWxlbWVudCkpIHtcclxuICAgICAganFMaXRlUmVhZHkoZWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBqcUxpdGVBZGROb2Rlcyh0aGlzLCBlbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGpxTGl0ZUNsb25lKGVsZW1lbnQpIHtcclxuICAgIHJldHVybiBlbGVtZW50LmNsb25lTm9kZSh0cnVlKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGpxTGl0ZURlYWxvYyhlbGVtZW50LCBvbmx5RGVzY2VuZGFudHMpIHtcclxuICAgIGlmICghb25seURlc2NlbmRhbnRzICYmIGpxTGl0ZUFjY2VwdHNEYXRhKGVsZW1lbnQpKSBqcUxpdGUuY2xlYW5EYXRhKFtlbGVtZW50XSk7XHJcblxyXG4gICAgaWYgKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCkge1xyXG4gICAgICBqcUxpdGUuY2xlYW5EYXRhKGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnKicpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGpxTGl0ZU9mZihlbGVtZW50LCB0eXBlLCBmbiwgdW5zdXBwb3J0ZWQpIHtcclxuICAgIGlmIChpc0RlZmluZWQodW5zdXBwb3J0ZWQpKSB0aHJvdyBqcUxpdGVNaW5FcnIoJ29mZmFyZ3MnLCAnanFMaXRlI29mZigpIGRvZXMgbm90IHN1cHBvcnQgdGhlIGBzZWxlY3RvcmAgYXJndW1lbnQnKTtcclxuXHJcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xyXG4gICAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuZXZlbnRzO1xyXG4gICAgdmFyIGhhbmRsZSA9IGV4cGFuZG9TdG9yZSAmJiBleHBhbmRvU3RvcmUuaGFuZGxlO1xyXG5cclxuICAgIGlmICghaGFuZGxlKSByZXR1cm47IC8vbm8gbGlzdGVuZXJzIHJlZ2lzdGVyZWRcclxuXHJcbiAgICBpZiAoIXR5cGUpIHtcclxuICAgICAgZm9yICh0eXBlIGluIGV2ZW50cykge1xyXG4gICAgICAgIGlmICh0eXBlICE9PSAnJGRlc3Ryb3knKSB7XHJcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuXHJcbiAgICAgIHZhciByZW1vdmVIYW5kbGVyID0gZnVuY3Rpb24gcmVtb3ZlSGFuZGxlcih0eXBlKSB7XHJcbiAgICAgICAgdmFyIGxpc3RlbmVyRm5zID0gZXZlbnRzW3R5cGVdO1xyXG4gICAgICAgIGlmIChpc0RlZmluZWQoZm4pKSB7XHJcbiAgICAgICAgICBhcnJheVJlbW92ZShsaXN0ZW5lckZucyB8fCBbXSwgZm4pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIShpc0RlZmluZWQoZm4pICYmIGxpc3RlbmVyRm5zICYmIGxpc3RlbmVyRm5zLmxlbmd0aCA+IDApKSB7XHJcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlKTtcclxuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgZm9yRWFjaCh0eXBlLnNwbGl0KCcgJyksIGZ1bmN0aW9uICh0eXBlKSB7XHJcbiAgICAgICAgcmVtb3ZlSGFuZGxlcih0eXBlKTtcclxuICAgICAgICBpZiAoTU9VU0VfRVZFTlRfTUFQW3R5cGVdKSB7XHJcbiAgICAgICAgICByZW1vdmVIYW5kbGVyKE1PVVNFX0VWRU5UX01BUFt0eXBlXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGpxTGl0ZVJlbW92ZURhdGEoZWxlbWVudCwgbmFtZSkge1xyXG4gICAgdmFyIGV4cGFuZG9JZCA9IGVsZW1lbnQubmczMzk7XHJcbiAgICB2YXIgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcclxuXHJcbiAgICBpZiAoZXhwYW5kb1N0b3JlKSB7XHJcbiAgICAgIGlmIChuYW1lKSB7XHJcbiAgICAgICAgZGVsZXRlIGV4cGFuZG9TdG9yZS5kYXRhW25hbWVdO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGV4cGFuZG9TdG9yZS5oYW5kbGUpIHtcclxuICAgICAgICBpZiAoZXhwYW5kb1N0b3JlLmV2ZW50cy4kZGVzdHJveSkge1xyXG4gICAgICAgICAgZXhwYW5kb1N0b3JlLmhhbmRsZSh7fSwgJyRkZXN0cm95Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGpxTGl0ZU9mZihlbGVtZW50KTtcclxuICAgICAgfVxyXG4gICAgICBkZWxldGUganFDYWNoZVtleHBhbmRvSWRdO1xyXG4gICAgICBlbGVtZW50Lm5nMzM5ID0gdW5kZWZpbmVkOyAvLyBkb24ndCBkZWxldGUgRE9NIGV4cGFuZG9zLiBJRSBhbmQgQ2hyb21lIGRvbid0IGxpa2UgaXRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCBjcmVhdGVJZk5lY2Vzc2FyeSkge1xyXG4gICAgdmFyIGV4cGFuZG9JZCA9IGVsZW1lbnQubmczMzksXHJcbiAgICAgICAgZXhwYW5kb1N0b3JlID0gZXhwYW5kb0lkICYmIGpxQ2FjaGVbZXhwYW5kb0lkXTtcclxuXHJcbiAgICBpZiAoY3JlYXRlSWZOZWNlc3NhcnkgJiYgIWV4cGFuZG9TdG9yZSkge1xyXG4gICAgICBlbGVtZW50Lm5nMzM5ID0gZXhwYW5kb0lkID0ganFOZXh0SWQoKTtcclxuICAgICAgZXhwYW5kb1N0b3JlID0ganFDYWNoZVtleHBhbmRvSWRdID0geyBldmVudHM6IHt9LCBkYXRhOiB7fSwgaGFuZGxlOiB1bmRlZmluZWQgfTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZXhwYW5kb1N0b3JlO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24ganFMaXRlRGF0YShlbGVtZW50LCBrZXksIHZhbHVlKSB7XHJcbiAgICBpZiAoanFMaXRlQWNjZXB0c0RhdGEoZWxlbWVudCkpIHtcclxuICAgICAgdmFyIHByb3A7XHJcblxyXG4gICAgICB2YXIgaXNTaW1wbGVTZXR0ZXIgPSBpc0RlZmluZWQodmFsdWUpO1xyXG4gICAgICB2YXIgaXNTaW1wbGVHZXR0ZXIgPSAhaXNTaW1wbGVTZXR0ZXIgJiYga2V5ICYmICFpc09iamVjdChrZXkpO1xyXG4gICAgICB2YXIgbWFzc0dldHRlciA9ICFrZXk7XHJcbiAgICAgIHZhciBleHBhbmRvU3RvcmUgPSBqcUxpdGVFeHBhbmRvU3RvcmUoZWxlbWVudCwgIWlzU2ltcGxlR2V0dGVyKTtcclxuICAgICAgdmFyIGRhdGEgPSBleHBhbmRvU3RvcmUgJiYgZXhwYW5kb1N0b3JlLmRhdGE7XHJcblxyXG4gICAgICBpZiAoaXNTaW1wbGVTZXR0ZXIpIHtcclxuICAgICAgICAvLyBkYXRhKCdrZXknLCB2YWx1ZSlcclxuICAgICAgICBkYXRhW2tlYmFiVG9DYW1lbChrZXkpXSA9IHZhbHVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChtYXNzR2V0dGVyKSB7XHJcbiAgICAgICAgICAvLyBkYXRhKClcclxuICAgICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoaXNTaW1wbGVHZXR0ZXIpIHtcclxuICAgICAgICAgICAgLy8gZGF0YSgna2V5JylcclxuICAgICAgICAgICAgLy8gZG9uJ3QgZm9yY2UgY3JlYXRpb24gb2YgZXhwYW5kb1N0b3JlIGlmIGl0IGRvZXNuJ3QgZXhpc3QgeWV0XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhICYmIGRhdGFba2ViYWJUb0NhbWVsKGtleSldO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gbWFzcy1zZXR0ZXI6IGRhdGEoe2tleTE6IHZhbDEsIGtleTI6IHZhbDJ9KVxyXG4gICAgICAgICAgICBmb3IgKHByb3AgaW4ga2V5KSB7XHJcbiAgICAgICAgICAgICAgZGF0YVtrZWJhYlRvQ2FtZWwocHJvcCldID0ga2V5W3Byb3BdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBqcUxpdGVIYXNDbGFzcyhlbGVtZW50LCBzZWxlY3Rvcikge1xyXG4gICAgaWYgKCFlbGVtZW50LmdldEF0dHJpYnV0ZSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgcmV0dXJuICgnICcgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgJyAnKS5yZXBsYWNlKC9bXFxuXFx0XS9nLCAnICcpLmluZGV4T2YoJyAnICsgc2VsZWN0b3IgKyAnICcpID4gLTE7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBqcUxpdGVSZW1vdmVDbGFzcyhlbGVtZW50LCBjc3NDbGFzc2VzKSB7XHJcbiAgICBpZiAoY3NzQ2xhc3NlcyAmJiBlbGVtZW50LnNldEF0dHJpYnV0ZSkge1xyXG4gICAgICBmb3JFYWNoKGNzc0NsYXNzZXMuc3BsaXQoJyAnKSwgZnVuY3Rpb24gKGNzc0NsYXNzKSB7XHJcbiAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdHJpbSgoJyAnICsgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpIHx8ICcnKSArICcgJykucmVwbGFjZSgvW1xcblxcdF0vZywgJyAnKS5yZXBsYWNlKCcgJyArIHRyaW0oY3NzQ2xhc3MpICsgJyAnLCAnICcpKSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24ganFMaXRlQWRkQ2xhc3MoZWxlbWVudCwgY3NzQ2xhc3Nlcykge1xyXG4gICAgaWYgKGNzc0NsYXNzZXMgJiYgZWxlbWVudC5zZXRBdHRyaWJ1dGUpIHtcclxuICAgICAgdmFyIGV4aXN0aW5nQ2xhc3NlcyA9ICgnICcgKyAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJycpICsgJyAnKS5yZXBsYWNlKC9bXFxuXFx0XS9nLCAnICcpO1xyXG5cclxuICAgICAgZm9yRWFjaChjc3NDbGFzc2VzLnNwbGl0KCcgJyksIGZ1bmN0aW9uIChjc3NDbGFzcykge1xyXG4gICAgICAgIGNzc0NsYXNzID0gdHJpbShjc3NDbGFzcyk7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nQ2xhc3Nlcy5pbmRleE9mKCcgJyArIGNzc0NsYXNzICsgJyAnKSA9PT0gLTEpIHtcclxuICAgICAgICAgIGV4aXN0aW5nQ2xhc3NlcyArPSBjc3NDbGFzcyArICcgJztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgdHJpbShleGlzdGluZ0NsYXNzZXMpKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGpxTGl0ZUFkZE5vZGVzKHJvb3QsIGVsZW1lbnRzKSB7XHJcbiAgICAvLyBUSElTIENPREUgSVMgVkVSWSBIT1QuIERvbid0IG1ha2UgY2hhbmdlcyB3aXRob3V0IGJlbmNobWFya2luZy5cclxuXHJcbiAgICBpZiAoZWxlbWVudHMpIHtcclxuXHJcbiAgICAgIC8vIGlmIGEgTm9kZSAodGhlIG1vc3QgY29tbW9uIGNhc2UpXHJcbiAgICAgIGlmIChlbGVtZW50cy5ub2RlVHlwZSkge1xyXG4gICAgICAgIHJvb3Rbcm9vdC5sZW5ndGgrK10gPSBlbGVtZW50cztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2YXIgbGVuZ3RoID0gZWxlbWVudHMubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBpZiBhbiBBcnJheSBvciBOb2RlTGlzdCBhbmQgbm90IGEgV2luZG93XHJcbiAgICAgICAgaWYgKHR5cGVvZiBsZW5ndGggPT09ICdudW1iZXInICYmIGVsZW1lbnRzLndpbmRvdyAhPT0gZWxlbWVudHMpIHtcclxuICAgICAgICAgIGlmIChsZW5ndGgpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIHJvb3Rbcm9vdC5sZW5ndGgrK10gPSBlbGVtZW50c1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByb290W3Jvb3QubGVuZ3RoKytdID0gZWxlbWVudHM7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBqcUxpdGVDb250cm9sbGVyKGVsZW1lbnQsIG5hbWUpIHtcclxuICAgIHJldHVybiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsICckJyArIChuYW1lIHx8ICduZ0NvbnRyb2xsZXInKSArICdDb250cm9sbGVyJyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBqcUxpdGVJbmhlcml0ZWREYXRhKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XHJcbiAgICAvLyBpZiBlbGVtZW50IGlzIHRoZSBkb2N1bWVudCBvYmplY3Qgd29yayB3aXRoIHRoZSBodG1sIGVsZW1lbnQgaW5zdGVhZFxyXG4gICAgLy8gdGhpcyBtYWtlcyAkKGRvY3VtZW50KS5zY29wZSgpIHBvc3NpYmxlXHJcbiAgICBpZiAoZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0RPQ1VNRU5UKSB7XHJcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LmRvY3VtZW50RWxlbWVudDtcclxuICAgIH1cclxuICAgIHZhciBuYW1lcyA9IGlzQXJyYXkobmFtZSkgPyBuYW1lIDogW25hbWVdO1xyXG5cclxuICAgIHdoaWxlIChlbGVtZW50KSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlID0ganFMaXRlLmRhdGEoZWxlbWVudCwgbmFtZXNbaV0pKSkgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBJZiBkZWFsaW5nIHdpdGggYSBkb2N1bWVudCBmcmFnbWVudCBub2RlIHdpdGggYSBob3N0IGVsZW1lbnQsIGFuZCBubyBwYXJlbnQsIHVzZSB0aGUgaG9zdFxyXG4gICAgICAvLyBlbGVtZW50IGFzIHRoZSBwYXJlbnQuIFRoaXMgZW5hYmxlcyBkaXJlY3RpdmVzIHdpdGhpbiBhIFNoYWRvdyBET00gb3IgcG9seWZpbGxlZCBTaGFkb3cgRE9NXHJcbiAgICAgIC8vIHRvIGxvb2t1cCBwYXJlbnQgY29udHJvbGxlcnMuXHJcbiAgICAgIGVsZW1lbnQgPSBlbGVtZW50LnBhcmVudE5vZGUgfHwgZWxlbWVudC5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UICYmIGVsZW1lbnQuaG9zdDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGpxTGl0ZUVtcHR5KGVsZW1lbnQpIHtcclxuICAgIGpxTGl0ZURlYWxvYyhlbGVtZW50LCB0cnVlKTtcclxuICAgIHdoaWxlIChlbGVtZW50LmZpcnN0Q2hpbGQpIHtcclxuICAgICAgZWxlbWVudC5yZW1vdmVDaGlsZChlbGVtZW50LmZpcnN0Q2hpbGQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24ganFMaXRlUmVtb3ZlKGVsZW1lbnQsIGtlZXBEYXRhKSB7XHJcbiAgICBpZiAoIWtlZXBEYXRhKSBqcUxpdGVEZWFsb2MoZWxlbWVudCk7XHJcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgaWYgKHBhcmVudCkgcGFyZW50LnJlbW92ZUNoaWxkKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24ganFMaXRlRG9jdW1lbnRMb2FkZWQoYWN0aW9uLCB3aW4pIHtcclxuICAgIHdpbiA9IHdpbiB8fCB3aW5kb3c7XHJcbiAgICBpZiAod2luLmRvY3VtZW50LnJlYWR5U3RhdGUgPT09ICdjb21wbGV0ZScpIHtcclxuICAgICAgLy8gRm9yY2UgdGhlIGFjdGlvbiB0byBiZSBydW4gYXN5bmMgZm9yIGNvbnNpc3RlbnQgYmVoYXZpb3JcclxuICAgICAgLy8gZnJvbSB0aGUgYWN0aW9uJ3MgcG9pbnQgb2Ygdmlld1xyXG4gICAgICAvLyBpLmUuIGl0IHdpbGwgZGVmaW5pdGVseSBub3QgYmUgaW4gYSAkYXBwbHlcclxuICAgICAgd2luLnNldFRpbWVvdXQoYWN0aW9uKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIE5vIG5lZWQgdG8gdW5iaW5kIHRoaXMgaGFuZGxlciBhcyBsb2FkIGlzIG9ubHkgZXZlciBjYWxsZWQgb25jZVxyXG4gICAgICBqcUxpdGUod2luKS5vbignbG9hZCcsIGFjdGlvbik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBqcUxpdGVSZWFkeShmbikge1xyXG4gICAgZnVuY3Rpb24gdHJpZ2dlcigpIHtcclxuICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCB0cmlnZ2VyKTtcclxuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2xvYWQnLCB0cmlnZ2VyKTtcclxuICAgICAgZm4oKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBjaGVjayBpZiBkb2N1bWVudCBpcyBhbHJlYWR5IGxvYWRlZFxyXG4gICAgaWYgKHdpbmRvdy5kb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKSB7XHJcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZuKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFdlIGNhbiBub3QgdXNlIGpxTGl0ZSBzaW5jZSB3ZSBhcmUgbm90IGRvbmUgbG9hZGluZyBhbmQgalF1ZXJ5IGNvdWxkIGJlIGxvYWRlZCBsYXRlci5cclxuXHJcbiAgICAgIC8vIFdvcmtzIGZvciBtb2Rlcm4gYnJvd3NlcnMgYW5kIElFOVxyXG4gICAgICB3aW5kb3cuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIHRyaWdnZXIpO1xyXG5cclxuICAgICAgLy8gRmFsbGJhY2sgdG8gd2luZG93Lm9ubG9hZCBmb3Igb3RoZXJzXHJcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgdHJpZ2dlcik7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAvLyBGdW5jdGlvbnMgd2hpY2ggYXJlIGRlY2xhcmVkIGRpcmVjdGx5LlxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIHZhciBKUUxpdGVQcm90b3R5cGUgPSBKUUxpdGUucHJvdG90eXBlID0ge1xyXG4gICAgcmVhZHk6IGpxTGl0ZVJlYWR5LFxyXG4gICAgdG9TdHJpbmc6IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xyXG4gICAgICB2YXIgdmFsdWUgPSBbXTtcclxuICAgICAgZm9yRWFjaCh0aGlzLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHZhbHVlLnB1c2goJycgKyBlKTtcclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiAnWycgKyB2YWx1ZS5qb2luKCcsICcpICsgJ10nO1xyXG4gICAgfSxcclxuXHJcbiAgICBlcTogZnVuY3Rpb24gZXEoaW5kZXgpIHtcclxuICAgICAgcmV0dXJuIGluZGV4ID49IDAgPyBqcUxpdGUodGhpc1tpbmRleF0pIDoganFMaXRlKHRoaXNbdGhpcy5sZW5ndGggKyBpbmRleF0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBsZW5ndGg6IDAsXHJcbiAgICBwdXNoOiBwdXNoLFxyXG4gICAgc29ydDogW10uc29ydCxcclxuICAgIHNwbGljZTogW10uc3BsaWNlXHJcbiAgfTtcclxuXHJcbiAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgLy8gRnVuY3Rpb25zIGl0ZXJhdGluZyBnZXR0ZXIvc2V0dGVycy5cclxuICAvLyB0aGVzZSBmdW5jdGlvbnMgcmV0dXJuIHNlbGYgb24gc2V0dGVyIGFuZFxyXG4gIC8vIHZhbHVlIG9uIGdldC5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICB2YXIgQk9PTEVBTl9BVFRSID0ge307XHJcbiAgZm9yRWFjaCgnbXVsdGlwbGUsc2VsZWN0ZWQsY2hlY2tlZCxkaXNhYmxlZCxyZWFkT25seSxyZXF1aXJlZCxvcGVuJy5zcGxpdCgnLCcpLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgIEJPT0xFQU5fQVRUUltsb3dlcmNhc2UodmFsdWUpXSA9IHZhbHVlO1xyXG4gIH0pO1xyXG4gIHZhciBCT09MRUFOX0VMRU1FTlRTID0ge307XHJcbiAgZm9yRWFjaCgnaW5wdXQsc2VsZWN0LG9wdGlvbix0ZXh0YXJlYSxidXR0b24sZm9ybSxkZXRhaWxzJy5zcGxpdCgnLCcpLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgIEJPT0xFQU5fRUxFTUVOVFNbdmFsdWVdID0gdHJ1ZTtcclxuICB9KTtcclxuICB2YXIgQUxJQVNFRF9BVFRSID0ge1xyXG4gICAgJ25nTWlubGVuZ3RoJzogJ21pbmxlbmd0aCcsXHJcbiAgICAnbmdNYXhsZW5ndGgnOiAnbWF4bGVuZ3RoJyxcclxuICAgICduZ01pbic6ICdtaW4nLFxyXG4gICAgJ25nTWF4JzogJ21heCcsXHJcbiAgICAnbmdQYXR0ZXJuJzogJ3BhdHRlcm4nLFxyXG4gICAgJ25nU3RlcCc6ICdzdGVwJ1xyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIGdldEJvb2xlYW5BdHRyTmFtZShlbGVtZW50LCBuYW1lKSB7XHJcbiAgICAvLyBjaGVjayBkb20gbGFzdCBzaW5jZSB3ZSB3aWxsIG1vc3QgbGlrZWx5IGZhaWwgb24gbmFtZVxyXG4gICAgdmFyIGJvb2xlYW5BdHRyID0gQk9PTEVBTl9BVFRSW25hbWUudG9Mb3dlckNhc2UoKV07XHJcblxyXG4gICAgLy8gYm9vbGVhbkF0dHIgaXMgaGVyZSB0d2ljZSB0byBtaW5pbWl6ZSBET00gYWNjZXNzXHJcbiAgICByZXR1cm4gYm9vbGVhbkF0dHIgJiYgQk9PTEVBTl9FTEVNRU5UU1tub2RlTmFtZV8oZWxlbWVudCldICYmIGJvb2xlYW5BdHRyO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZ2V0QWxpYXNlZEF0dHJOYW1lKG5hbWUpIHtcclxuICAgIHJldHVybiBBTElBU0VEX0FUVFJbbmFtZV07XHJcbiAgfVxyXG5cclxuICBmb3JFYWNoKHtcclxuICAgIGRhdGE6IGpxTGl0ZURhdGEsXHJcbiAgICByZW1vdmVEYXRhOiBqcUxpdGVSZW1vdmVEYXRhLFxyXG4gICAgaGFzRGF0YToganFMaXRlSGFzRGF0YSxcclxuICAgIGNsZWFuRGF0YTogZnVuY3Rpb24ganFMaXRlQ2xlYW5EYXRhKG5vZGVzKSB7XHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICBqcUxpdGVSZW1vdmVEYXRhKG5vZGVzW2ldKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sIGZ1bmN0aW9uIChmbiwgbmFtZSkge1xyXG4gICAgSlFMaXRlW25hbWVdID0gZm47XHJcbiAgfSk7XHJcblxyXG4gIGZvckVhY2goe1xyXG4gICAgZGF0YToganFMaXRlRGF0YSxcclxuICAgIGluaGVyaXRlZERhdGE6IGpxTGl0ZUluaGVyaXRlZERhdGEsXHJcblxyXG4gICAgc2NvcGU6IGZ1bmN0aW9uIHNjb3BlKGVsZW1lbnQpIHtcclxuICAgICAgLy8gQ2FuJ3QgdXNlIGpxTGl0ZURhdGEgaGVyZSBkaXJlY3RseSBzbyB3ZSBzdGF5IGNvbXBhdGlibGUgd2l0aCBqUXVlcnkhXHJcbiAgICAgIHJldHVybiBqcUxpdGUuZGF0YShlbGVtZW50LCAnJHNjb3BlJykgfHwganFMaXRlSW5oZXJpdGVkRGF0YShlbGVtZW50LnBhcmVudE5vZGUgfHwgZWxlbWVudCwgWyckaXNvbGF0ZVNjb3BlJywgJyRzY29wZSddKTtcclxuICAgIH0sXHJcblxyXG4gICAgaXNvbGF0ZVNjb3BlOiBmdW5jdGlvbiBpc29sYXRlU2NvcGUoZWxlbWVudCkge1xyXG4gICAgICAvLyBDYW4ndCB1c2UganFMaXRlRGF0YSBoZXJlIGRpcmVjdGx5IHNvIHdlIHN0YXkgY29tcGF0aWJsZSB3aXRoIGpRdWVyeSFcclxuICAgICAgcmV0dXJuIGpxTGl0ZS5kYXRhKGVsZW1lbnQsICckaXNvbGF0ZVNjb3BlJykgfHwganFMaXRlLmRhdGEoZWxlbWVudCwgJyRpc29sYXRlU2NvcGVOb1RlbXBsYXRlJyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGNvbnRyb2xsZXI6IGpxTGl0ZUNvbnRyb2xsZXIsXHJcblxyXG4gICAgaW5qZWN0b3I6IGZ1bmN0aW9uIGluamVjdG9yKGVsZW1lbnQpIHtcclxuICAgICAgcmV0dXJuIGpxTGl0ZUluaGVyaXRlZERhdGEoZWxlbWVudCwgJyRpbmplY3RvcicpO1xyXG4gICAgfSxcclxuXHJcbiAgICByZW1vdmVBdHRyOiBmdW5jdGlvbiByZW1vdmVBdHRyKGVsZW1lbnQsIG5hbWUpIHtcclxuICAgICAgZWxlbWVudC5yZW1vdmVBdHRyaWJ1dGUobmFtZSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGhhc0NsYXNzOiBqcUxpdGVIYXNDbGFzcyxcclxuXHJcbiAgICBjc3M6IGZ1bmN0aW9uIGNzcyhlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgICBuYW1lID0gY3NzS2ViYWJUb0NhbWVsKG5hbWUpO1xyXG5cclxuICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICBlbGVtZW50LnN0eWxlW25hbWVdID0gdmFsdWU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuc3R5bGVbbmFtZV07XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgYXR0cjogZnVuY3Rpb24gYXR0cihlbGVtZW50LCBuYW1lLCB2YWx1ZSkge1xyXG4gICAgICB2YXIgcmV0O1xyXG4gICAgICB2YXIgbm9kZVR5cGUgPSBlbGVtZW50Lm5vZGVUeXBlO1xyXG4gICAgICBpZiAobm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfQVRUUklCVVRFIHx8IG5vZGVUeXBlID09PSBOT0RFX1RZUEVfQ09NTUVOVCB8fCAhZWxlbWVudC5nZXRBdHRyaWJ1dGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBsb3dlcmNhc2VkTmFtZSA9IGxvd2VyY2FzZShuYW1lKTtcclxuICAgICAgdmFyIGlzQm9vbGVhbkF0dHIgPSBCT09MRUFOX0FUVFJbbG93ZXJjYXNlZE5hbWVdO1xyXG5cclxuICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAvLyBzZXR0ZXJcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSBmYWxzZSAmJiBpc0Jvb2xlYW5BdHRyKSB7XHJcbiAgICAgICAgICBlbGVtZW50LnJlbW92ZUF0dHJpYnV0ZShuYW1lKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZWxlbWVudC5zZXRBdHRyaWJ1dGUobmFtZSwgaXNCb29sZWFuQXR0ciA/IGxvd2VyY2FzZWROYW1lIDogdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBnZXR0ZXJcclxuXHJcbiAgICAgICAgcmV0ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUobmFtZSk7XHJcblxyXG4gICAgICAgIGlmIChpc0Jvb2xlYW5BdHRyICYmIHJldCAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgcmV0ID0gbG93ZXJjYXNlZE5hbWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBub24tZXhpc3RpbmcgYXR0cmlidXRlcyB0byB1bmRlZmluZWQgKGFzIGpRdWVyeSkuXHJcbiAgICAgICAgcmV0dXJuIHJldCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHJldDtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwcm9wOiBmdW5jdGlvbiBwcm9wKGVsZW1lbnQsIG5hbWUsIHZhbHVlKSB7XHJcbiAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgZWxlbWVudFtuYW1lXSA9IHZhbHVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBlbGVtZW50W25hbWVdO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHRleHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgZ2V0VGV4dC4kZHYgPSAnJztcclxuICAgICAgcmV0dXJuIGdldFRleHQ7XHJcblxyXG4gICAgICBmdW5jdGlvbiBnZXRUZXh0KGVsZW1lbnQsIHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcclxuICAgICAgICAgIHJldHVybiBub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQgfHwgbm9kZVR5cGUgPT09IE5PREVfVFlQRV9URVhUID8gZWxlbWVudC50ZXh0Q29udGVudCA6ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0oKSxcclxuXHJcbiAgICB2YWw6IGZ1bmN0aW9uIHZhbChlbGVtZW50LCB2YWx1ZSkge1xyXG4gICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgaWYgKGVsZW1lbnQubXVsdGlwbGUgJiYgbm9kZU5hbWVfKGVsZW1lbnQpID09PSAnc2VsZWN0Jykge1xyXG4gICAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xyXG4gICAgICAgICAgZm9yRWFjaChlbGVtZW50Lm9wdGlvbnMsIGZ1bmN0aW9uIChvcHRpb24pIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgIHJlc3VsdC5wdXNoKG9wdGlvbi52YWx1ZSB8fCBvcHRpb24udGV4dCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQudmFsdWU7XHJcbiAgICAgIH1cclxuICAgICAgZWxlbWVudC52YWx1ZSA9IHZhbHVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBodG1sOiBmdW5jdGlvbiBodG1sKGVsZW1lbnQsIHZhbHVlKSB7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICByZXR1cm4gZWxlbWVudC5pbm5lckhUTUw7XHJcbiAgICAgIH1cclxuICAgICAganFMaXRlRGVhbG9jKGVsZW1lbnQsIHRydWUpO1xyXG4gICAgICBlbGVtZW50LmlubmVySFRNTCA9IHZhbHVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBlbXB0eToganFMaXRlRW1wdHlcclxuICB9LCBmdW5jdGlvbiAoZm4sIG5hbWUpIHtcclxuICAgIC8qKlxyXG4gICAgICogUHJvcGVydGllczogd3JpdGVzIHJldHVybiBzZWxlY3Rpb24sIHJlYWRzIHJldHVybiBmaXJzdCB2YWx1ZVxyXG4gICAgICovXHJcbiAgICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIpIHtcclxuICAgICAgdmFyIGksIGtleTtcclxuICAgICAgdmFyIG5vZGVDb3VudCA9IHRoaXMubGVuZ3RoO1xyXG5cclxuICAgICAgLy8ganFMaXRlSGFzQ2xhc3MgaGFzIG9ubHkgdHdvIGFyZ3VtZW50cywgYnV0IGlzIGEgZ2V0dGVyLW9ubHkgZm4sIHNvIHdlIG5lZWQgdG8gc3BlY2lhbC1jYXNlIGl0XHJcbiAgICAgIC8vIGluIGEgd2F5IHRoYXQgc3Vydml2ZXMgbWluaWZpY2F0aW9uLlxyXG4gICAgICAvLyBqcUxpdGVFbXB0eSB0YWtlcyBubyBhcmd1bWVudHMgYnV0IGlzIGEgc2V0dGVyLlxyXG4gICAgICBpZiAoZm4gIT09IGpxTGl0ZUVtcHR5ICYmIGlzVW5kZWZpbmVkKGZuLmxlbmd0aCA9PT0gMiAmJiBmbiAhPT0ganFMaXRlSGFzQ2xhc3MgJiYgZm4gIT09IGpxTGl0ZUNvbnRyb2xsZXIgPyBhcmcxIDogYXJnMikpIHtcclxuICAgICAgICBpZiAoaXNPYmplY3QoYXJnMSkpIHtcclxuXHJcbiAgICAgICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgYnV0IHRoZSBvYmplY3QgcHJvcGVydGllcyBhcmUgdGhlIGtleS92YWx1ZXNcclxuICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBub2RlQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZm4gPT09IGpxTGl0ZURhdGEpIHtcclxuICAgICAgICAgICAgICAvLyBkYXRhKCkgdGFrZXMgdGhlIHdob2xlIG9iamVjdCBpbiBqUXVlcnlcclxuICAgICAgICAgICAgICBmbih0aGlzW2ldLCBhcmcxKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBmb3IgKGtleSBpbiBhcmcxKSB7XHJcbiAgICAgICAgICAgICAgICBmbih0aGlzW2ldLCBrZXksIGFyZzFba2V5XSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyByZXR1cm4gc2VsZiBmb3IgY2hhaW5pbmdcclxuICAgICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyB3ZSBhcmUgYSByZWFkLCBzbyByZWFkIHRoZSBmaXJzdCBjaGlsZC5cclxuICAgICAgICAgIC8vIFRPRE86IGRvIHdlIHN0aWxsIG5lZWQgdGhpcz9cclxuICAgICAgICAgIHZhciB2YWx1ZSA9IGZuLiRkdjtcclxuICAgICAgICAgIC8vIE9ubHkgaWYgd2UgaGF2ZSAkZHYgZG8gd2UgaXRlcmF0ZSBvdmVyIGFsbCwgb3RoZXJ3aXNlIGl0IGlzIGp1c3QgdGhlIGZpcnN0IGVsZW1lbnQuXHJcbiAgICAgICAgICB2YXIgamogPSBpc1VuZGVmaW5lZCh2YWx1ZSkgPyBNYXRoLm1pbihub2RlQ291bnQsIDEpIDogbm9kZUNvdW50O1xyXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBqajsgaisrKSB7XHJcbiAgICAgICAgICAgIHZhciBub2RlVmFsdWUgPSBmbih0aGlzW2pdLCBhcmcxLCBhcmcyKTtcclxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSA/IHZhbHVlICsgbm9kZVZhbHVlIDogbm9kZVZhbHVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyB3ZSBhcmUgYSB3cml0ZSwgc28gYXBwbHkgdG8gYWxsIGNoaWxkcmVuXHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5vZGVDb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICBmbih0aGlzW2ldLCBhcmcxLCBhcmcyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gcmV0dXJuIHNlbGYgZm9yIGNoYWluaW5nXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfSk7XHJcblxyXG4gIGZ1bmN0aW9uIGNyZWF0ZUV2ZW50SGFuZGxlcihlbGVtZW50LCBldmVudHMpIHtcclxuICAgIHZhciBldmVudEhhbmRsZXIgPSBmdW5jdGlvbiBldmVudEhhbmRsZXIoZXZlbnQsIHR5cGUpIHtcclxuICAgICAgLy8galF1ZXJ5IHNwZWNpZmljIGFwaVxyXG4gICAgICBldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICB2YXIgZXZlbnRGbnMgPSBldmVudHNbdHlwZSB8fCBldmVudC50eXBlXTtcclxuICAgICAgdmFyIGV2ZW50Rm5zTGVuZ3RoID0gZXZlbnRGbnMgPyBldmVudEZucy5sZW5ndGggOiAwO1xyXG5cclxuICAgICAgaWYgKCFldmVudEZuc0xlbmd0aCkgcmV0dXJuO1xyXG5cclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKGV2ZW50LmltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCkpIHtcclxuICAgICAgICB2YXIgb3JpZ2luYWxTdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24gPSBldmVudC5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb247XHJcbiAgICAgICAgZXZlbnQuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICBpZiAoZXZlbnQuc3RvcFByb3BhZ2F0aW9uKSB7XHJcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbikge1xyXG4gICAgICAgICAgICBvcmlnaW5hbFN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbi5jYWxsKGV2ZW50KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBldmVudC5pc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZXZlbnQuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID09PSB0cnVlO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gU29tZSBldmVudHMgaGF2ZSBzcGVjaWFsIGhhbmRsZXJzIHRoYXQgd3JhcCB0aGUgcmVhbCBoYW5kbGVyXHJcbiAgICAgIHZhciBoYW5kbGVyV3JhcHBlciA9IGV2ZW50Rm5zLnNwZWNpYWxIYW5kbGVyV3JhcHBlciB8fCBkZWZhdWx0SGFuZGxlcldyYXBwZXI7XHJcblxyXG4gICAgICAvLyBDb3B5IGV2ZW50IGhhbmRsZXJzIGluIGNhc2UgZXZlbnQgaGFuZGxlcnMgYXJyYXkgaXMgbW9kaWZpZWQgZHVyaW5nIGV4ZWN1dGlvbi5cclxuICAgICAgaWYgKGV2ZW50Rm5zTGVuZ3RoID4gMSkge1xyXG4gICAgICAgIGV2ZW50Rm5zID0gc2hhbGxvd0NvcHkoZXZlbnRGbnMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGV2ZW50Rm5zTGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBpZiAoIWV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcclxuICAgICAgICAgIGhhbmRsZXJXcmFwcGVyKGVsZW1lbnQsIGV2ZW50LCBldmVudEZuc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIFRPRE86IHRoaXMgaXMgYSBoYWNrIGZvciBhbmd1bGFyTW9ja3MvY2xlYXJEYXRhQ2FjaGUgdGhhdCBtYWtlcyBpdCBwb3NzaWJsZSB0byBkZXJlZ2lzdGVyIGFsbFxyXG4gICAgLy8gICAgICAgZXZlbnRzIG9uIGBlbGVtZW50YFxyXG4gICAgZXZlbnRIYW5kbGVyLmVsZW0gPSBlbGVtZW50O1xyXG4gICAgcmV0dXJuIGV2ZW50SGFuZGxlcjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGRlZmF1bHRIYW5kbGVyV3JhcHBlcihlbGVtZW50LCBldmVudCwgaGFuZGxlcikge1xyXG4gICAgaGFuZGxlci5jYWxsKGVsZW1lbnQsIGV2ZW50KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHNwZWNpYWxNb3VzZUhhbmRsZXJXcmFwcGVyKHRhcmdldCwgZXZlbnQsIGhhbmRsZXIpIHtcclxuICAgIC8vIFJlZmVyIHRvIGpRdWVyeSdzIGltcGxlbWVudGF0aW9uIG9mIG1vdXNlZW50ZXIgJiBtb3VzZWxlYXZlXHJcbiAgICAvLyBSZWFkIGFib3V0IG1vdXNlZW50ZXIgYW5kIG1vdXNlbGVhdmU6XHJcbiAgICAvLyBodHRwOi8vd3d3LnF1aXJrc21vZGUub3JnL2pzL2V2ZW50c19tb3VzZS5odG1sI2xpbms4XHJcbiAgICB2YXIgcmVsYXRlZCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7XHJcbiAgICAvLyBGb3IgbW91c2VudGVyL2xlYXZlIGNhbGwgdGhlIGhhbmRsZXIgaWYgcmVsYXRlZCBpcyBvdXRzaWRlIHRoZSB0YXJnZXQuXHJcbiAgICAvLyBOQjogTm8gcmVsYXRlZFRhcmdldCBpZiB0aGUgbW91c2UgbGVmdC9lbnRlcmVkIHRoZSBicm93c2VyIHdpbmRvd1xyXG4gICAgaWYgKCFyZWxhdGVkIHx8IHJlbGF0ZWQgIT09IHRhcmdldCAmJiAhanFMaXRlQ29udGFpbnMuY2FsbCh0YXJnZXQsIHJlbGF0ZWQpKSB7XHJcbiAgICAgIGhhbmRsZXIuY2FsbCh0YXJnZXQsIGV2ZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gIC8vIEZ1bmN0aW9ucyBpdGVyYXRpbmcgdHJhdmVyc2FsLlxyXG4gIC8vIFRoZXNlIGZ1bmN0aW9ucyBjaGFpbiByZXN1bHRzIGludG8gYSBzaW5nbGVcclxuICAvLyBzZWxlY3Rvci5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICBmb3JFYWNoKHtcclxuICAgIHJlbW92ZURhdGE6IGpxTGl0ZVJlbW92ZURhdGEsXHJcblxyXG4gICAgb246IGZ1bmN0aW9uIGpxTGl0ZU9uKGVsZW1lbnQsIHR5cGUsIGZuLCB1bnN1cHBvcnRlZCkge1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKHVuc3VwcG9ydGVkKSkgdGhyb3cganFMaXRlTWluRXJyKCdvbmFyZ3MnLCAnanFMaXRlI29uKCkgZG9lcyBub3Qgc3VwcG9ydCB0aGUgYHNlbGVjdG9yYCBvciBgZXZlbnREYXRhYCBwYXJhbWV0ZXJzJyk7XHJcblxyXG4gICAgICAvLyBEbyBub3QgYWRkIGV2ZW50IGhhbmRsZXJzIHRvIG5vbi1lbGVtZW50cyBiZWNhdXNlIHRoZXkgd2lsbCBub3QgYmUgY2xlYW5lZCB1cC5cclxuICAgICAgaWYgKCFqcUxpdGVBY2NlcHRzRGF0YShlbGVtZW50KSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGV4cGFuZG9TdG9yZSA9IGpxTGl0ZUV4cGFuZG9TdG9yZShlbGVtZW50LCB0cnVlKTtcclxuICAgICAgdmFyIGV2ZW50cyA9IGV4cGFuZG9TdG9yZS5ldmVudHM7XHJcbiAgICAgIHZhciBoYW5kbGUgPSBleHBhbmRvU3RvcmUuaGFuZGxlO1xyXG5cclxuICAgICAgaWYgKCFoYW5kbGUpIHtcclxuICAgICAgICBoYW5kbGUgPSBleHBhbmRvU3RvcmUuaGFuZGxlID0gY3JlYXRlRXZlbnRIYW5kbGVyKGVsZW1lbnQsIGV2ZW50cyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGh0dHA6Ly9qc3BlcmYuY29tL3N0cmluZy1pbmRleG9mLXZzLXNwbGl0XHJcbiAgICAgIHZhciB0eXBlcyA9IHR5cGUuaW5kZXhPZignICcpID49IDAgPyB0eXBlLnNwbGl0KCcgJykgOiBbdHlwZV07XHJcbiAgICAgIHZhciBpID0gdHlwZXMubGVuZ3RoO1xyXG5cclxuICAgICAgdmFyIGFkZEhhbmRsZXIgPSBmdW5jdGlvbiBhZGRIYW5kbGVyKHR5cGUsIHNwZWNpYWxIYW5kbGVyV3JhcHBlciwgbm9FdmVudExpc3RlbmVyKSB7XHJcbiAgICAgICAgdmFyIGV2ZW50Rm5zID0gZXZlbnRzW3R5cGVdO1xyXG5cclxuICAgICAgICBpZiAoIWV2ZW50Rm5zKSB7XHJcbiAgICAgICAgICBldmVudEZucyA9IGV2ZW50c1t0eXBlXSA9IFtdO1xyXG4gICAgICAgICAgZXZlbnRGbnMuc3BlY2lhbEhhbmRsZXJXcmFwcGVyID0gc3BlY2lhbEhhbmRsZXJXcmFwcGVyO1xyXG4gICAgICAgICAgaWYgKHR5cGUgIT09ICckZGVzdHJveScgJiYgIW5vRXZlbnRMaXN0ZW5lcikge1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGV2ZW50Rm5zLnB1c2goZm4pO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgd2hpbGUgKGktLSkge1xyXG4gICAgICAgIHR5cGUgPSB0eXBlc1tpXTtcclxuICAgICAgICBpZiAoTU9VU0VfRVZFTlRfTUFQW3R5cGVdKSB7XHJcbiAgICAgICAgICBhZGRIYW5kbGVyKE1PVVNFX0VWRU5UX01BUFt0eXBlXSwgc3BlY2lhbE1vdXNlSGFuZGxlcldyYXBwZXIpO1xyXG4gICAgICAgICAgYWRkSGFuZGxlcih0eXBlLCB1bmRlZmluZWQsIHRydWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhZGRIYW5kbGVyKHR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvZmY6IGpxTGl0ZU9mZixcclxuXHJcbiAgICBvbmU6IGZ1bmN0aW9uIG9uZShlbGVtZW50LCB0eXBlLCBmbikge1xyXG4gICAgICBlbGVtZW50ID0ganFMaXRlKGVsZW1lbnQpO1xyXG5cclxuICAgICAgLy9hZGQgdGhlIGxpc3RlbmVyIHR3aWNlIHNvIHRoYXQgd2hlbiBpdCBpcyBjYWxsZWRcclxuICAgICAgLy95b3UgY2FuIHJlbW92ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gYW5kIHN0aWxsIGJlXHJcbiAgICAgIC8vYWJsZSB0byBjYWxsIGVsZW1lbnQub2ZmKGV2LCBmbikgbm9ybWFsbHlcclxuICAgICAgZWxlbWVudC5vbih0eXBlLCBmdW5jdGlvbiBvbkZuKCkge1xyXG4gICAgICAgIGVsZW1lbnQub2ZmKHR5cGUsIGZuKTtcclxuICAgICAgICBlbGVtZW50Lm9mZih0eXBlLCBvbkZuKTtcclxuICAgICAgfSk7XHJcbiAgICAgIGVsZW1lbnQub24odHlwZSwgZm4pO1xyXG4gICAgfSxcclxuXHJcbiAgICByZXBsYWNlV2l0aDogZnVuY3Rpb24gcmVwbGFjZVdpdGgoZWxlbWVudCwgcmVwbGFjZU5vZGUpIHtcclxuICAgICAgdmFyIGluZGV4LFxyXG4gICAgICAgICAgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG4gICAgICBqcUxpdGVEZWFsb2MoZWxlbWVudCk7XHJcbiAgICAgIGZvckVhY2gobmV3IEpRTGl0ZShyZXBsYWNlTm9kZSksIGZ1bmN0aW9uIChub2RlKSB7XHJcbiAgICAgICAgaWYgKGluZGV4KSB7XHJcbiAgICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5vZGUsIGluZGV4Lm5leHRTaWJsaW5nKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGFyZW50LnJlcGxhY2VDaGlsZChub2RlLCBlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW5kZXggPSBub2RlO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgY2hpbGRyZW46IGZ1bmN0aW9uIGNoaWxkcmVuKGVsZW1lbnQpIHtcclxuICAgICAgdmFyIGNoaWxkcmVuID0gW107XHJcbiAgICAgIGZvckVhY2goZWxlbWVudC5jaGlsZE5vZGVzLCBmdW5jdGlvbiAoZWxlbWVudCkge1xyXG4gICAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xyXG4gICAgICAgICAgY2hpbGRyZW4ucHVzaChlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gY2hpbGRyZW47XHJcbiAgICB9LFxyXG5cclxuICAgIGNvbnRlbnRzOiBmdW5jdGlvbiBjb250ZW50cyhlbGVtZW50KSB7XHJcbiAgICAgIHJldHVybiBlbGVtZW50LmNvbnRlbnREb2N1bWVudCB8fCBlbGVtZW50LmNoaWxkTm9kZXMgfHwgW107XHJcbiAgICB9LFxyXG5cclxuICAgIGFwcGVuZDogZnVuY3Rpb24gYXBwZW5kKGVsZW1lbnQsIG5vZGUpIHtcclxuICAgICAgdmFyIG5vZGVUeXBlID0gZWxlbWVudC5ub2RlVHlwZTtcclxuICAgICAgaWYgKG5vZGVUeXBlICE9PSBOT0RFX1RZUEVfRUxFTUVOVCAmJiBub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0RPQ1VNRU5UX0ZSQUdNRU5UKSByZXR1cm47XHJcblxyXG4gICAgICBub2RlID0gbmV3IEpRTGl0ZShub2RlKTtcclxuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5vZGUubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XHJcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChjaGlsZCk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgcHJlcGVuZDogZnVuY3Rpb24gcHJlcGVuZChlbGVtZW50LCBub2RlKSB7XHJcbiAgICAgIGlmIChlbGVtZW50Lm5vZGVUeXBlID09PSBOT0RFX1RZUEVfRUxFTUVOVCkge1xyXG4gICAgICAgIHZhciBpbmRleCA9IGVsZW1lbnQuZmlyc3RDaGlsZDtcclxuICAgICAgICBmb3JFYWNoKG5ldyBKUUxpdGUobm9kZSksIGZ1bmN0aW9uIChjaGlsZCkge1xyXG4gICAgICAgICAgZWxlbWVudC5pbnNlcnRCZWZvcmUoY2hpbGQsIGluZGV4KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB3cmFwOiBmdW5jdGlvbiB3cmFwKGVsZW1lbnQsIHdyYXBOb2RlKSB7XHJcbiAgICAgIGpxTGl0ZVdyYXBOb2RlKGVsZW1lbnQsIGpxTGl0ZSh3cmFwTm9kZSkuZXEoMCkuY2xvbmUoKVswXSk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlbW92ZToganFMaXRlUmVtb3ZlLFxyXG5cclxuICAgIGRldGFjaDogZnVuY3Rpb24gZGV0YWNoKGVsZW1lbnQpIHtcclxuICAgICAganFMaXRlUmVtb3ZlKGVsZW1lbnQsIHRydWUpO1xyXG4gICAgfSxcclxuXHJcbiAgICBhZnRlcjogZnVuY3Rpb24gYWZ0ZXIoZWxlbWVudCwgbmV3RWxlbWVudCkge1xyXG4gICAgICB2YXIgaW5kZXggPSBlbGVtZW50LFxyXG4gICAgICAgICAgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgaWYgKHBhcmVudCkge1xyXG4gICAgICAgIG5ld0VsZW1lbnQgPSBuZXcgSlFMaXRlKG5ld0VsZW1lbnQpO1xyXG5cclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBuZXdFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgIHZhciBub2RlID0gbmV3RWxlbWVudFtpXTtcclxuICAgICAgICAgIHBhcmVudC5pbnNlcnRCZWZvcmUobm9kZSwgaW5kZXgubmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgaW5kZXggPSBub2RlO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBhZGRDbGFzczoganFMaXRlQWRkQ2xhc3MsXHJcbiAgICByZW1vdmVDbGFzczoganFMaXRlUmVtb3ZlQ2xhc3MsXHJcblxyXG4gICAgdG9nZ2xlQ2xhc3M6IGZ1bmN0aW9uIHRvZ2dsZUNsYXNzKGVsZW1lbnQsIHNlbGVjdG9yLCBjb25kaXRpb24pIHtcclxuICAgICAgaWYgKHNlbGVjdG9yKSB7XHJcbiAgICAgICAgZm9yRWFjaChzZWxlY3Rvci5zcGxpdCgnICcpLCBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICB2YXIgY2xhc3NDb25kaXRpb24gPSBjb25kaXRpb247XHJcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQoY2xhc3NDb25kaXRpb24pKSB7XHJcbiAgICAgICAgICAgIGNsYXNzQ29uZGl0aW9uID0gIWpxTGl0ZUhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAoY2xhc3NDb25kaXRpb24gPyBqcUxpdGVBZGRDbGFzcyA6IGpxTGl0ZVJlbW92ZUNsYXNzKShlbGVtZW50LCBjbGFzc05hbWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIHBhcmVudDogZnVuY3Rpb24gcGFyZW50KGVsZW1lbnQpIHtcclxuICAgICAgdmFyIHBhcmVudCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcclxuICAgICAgcmV0dXJuIHBhcmVudCAmJiBwYXJlbnQubm9kZVR5cGUgIT09IE5PREVfVFlQRV9ET0NVTUVOVF9GUkFHTUVOVCA/IHBhcmVudCA6IG51bGw7XHJcbiAgICB9LFxyXG5cclxuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQoZWxlbWVudCkge1xyXG4gICAgICByZXR1cm4gZWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICB9LFxyXG5cclxuICAgIGZpbmQ6IGZ1bmN0aW9uIGZpbmQoZWxlbWVudCwgc2VsZWN0b3IpIHtcclxuICAgICAgaWYgKGVsZW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUpIHtcclxuICAgICAgICByZXR1cm4gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShzZWxlY3Rvcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGNsb25lOiBqcUxpdGVDbG9uZSxcclxuXHJcbiAgICB0cmlnZ2VySGFuZGxlcjogZnVuY3Rpb24gdHJpZ2dlckhhbmRsZXIoZWxlbWVudCwgZXZlbnQsIGV4dHJhUGFyYW1ldGVycykge1xyXG5cclxuICAgICAgdmFyIGR1bW15RXZlbnQsIGV2ZW50Rm5zQ29weSwgaGFuZGxlckFyZ3M7XHJcbiAgICAgIHZhciBldmVudE5hbWUgPSBldmVudC50eXBlIHx8IGV2ZW50O1xyXG4gICAgICB2YXIgZXhwYW5kb1N0b3JlID0ganFMaXRlRXhwYW5kb1N0b3JlKGVsZW1lbnQpO1xyXG4gICAgICB2YXIgZXZlbnRzID0gZXhwYW5kb1N0b3JlICYmIGV4cGFuZG9TdG9yZS5ldmVudHM7XHJcbiAgICAgIHZhciBldmVudEZucyA9IGV2ZW50cyAmJiBldmVudHNbZXZlbnROYW1lXTtcclxuXHJcbiAgICAgIGlmIChldmVudEZucykge1xyXG4gICAgICAgIC8vIENyZWF0ZSBhIGR1bW15IGV2ZW50IHRvIHBhc3MgdG8gdGhlIGhhbmRsZXJzXHJcbiAgICAgICAgZHVtbXlFdmVudCA9IHtcclxuICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcclxuICAgICAgICAgICAgdGhpcy5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBpc0RlZmF1bHRQcmV2ZW50ZWQ6IGZ1bmN0aW9uIGlzRGVmYXVsdFByZXZlbnRlZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9PT0gdHJ1ZTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb246IGZ1bmN0aW9uIHN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5pbW1lZGlhdGVQcm9wYWdhdGlvblN0b3BwZWQgPSB0cnVlO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkOiBmdW5jdGlvbiBpc0ltbWVkaWF0ZVByb3BhZ2F0aW9uU3RvcHBlZCgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkID09PSB0cnVlO1xyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIHN0b3BQcm9wYWdhdGlvbjogbm9vcCxcclxuICAgICAgICAgIHR5cGU6IGV2ZW50TmFtZSxcclxuICAgICAgICAgIHRhcmdldDogZWxlbWVudFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIElmIGEgY3VzdG9tIGV2ZW50IHdhcyBwcm92aWRlZCB0aGVuIGV4dGVuZCBvdXIgZHVtbXkgZXZlbnQgd2l0aCBpdFxyXG4gICAgICAgIGlmIChldmVudC50eXBlKSB7XHJcbiAgICAgICAgICBkdW1teUV2ZW50ID0gZXh0ZW5kKGR1bW15RXZlbnQsIGV2ZW50KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENvcHkgZXZlbnQgaGFuZGxlcnMgaW4gY2FzZSBldmVudCBoYW5kbGVycyBhcnJheSBpcyBtb2RpZmllZCBkdXJpbmcgZXhlY3V0aW9uLlxyXG4gICAgICAgIGV2ZW50Rm5zQ29weSA9IHNoYWxsb3dDb3B5KGV2ZW50Rm5zKTtcclxuICAgICAgICBoYW5kbGVyQXJncyA9IGV4dHJhUGFyYW1ldGVycyA/IFtkdW1teUV2ZW50XS5jb25jYXQoZXh0cmFQYXJhbWV0ZXJzKSA6IFtkdW1teUV2ZW50XTtcclxuXHJcbiAgICAgICAgZm9yRWFjaChldmVudEZuc0NvcHksIGZ1bmN0aW9uIChmbikge1xyXG4gICAgICAgICAgaWYgKCFkdW1teUV2ZW50LmlzSW1tZWRpYXRlUHJvcGFnYXRpb25TdG9wcGVkKCkpIHtcclxuICAgICAgICAgICAgZm4uYXBwbHkoZWxlbWVudCwgaGFuZGxlckFyZ3MpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSwgZnVuY3Rpb24gKGZuLCBuYW1lKSB7XHJcbiAgICAvKipcclxuICAgICAqIGNoYWluaW5nIGZ1bmN0aW9uc1xyXG4gICAgICovXHJcbiAgICBKUUxpdGUucHJvdG90eXBlW25hbWVdID0gZnVuY3Rpb24gKGFyZzEsIGFyZzIsIGFyZzMpIHtcclxuICAgICAgdmFyIHZhbHVlO1xyXG5cclxuICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgICAgdmFsdWUgPSBmbih0aGlzW2ldLCBhcmcxLCBhcmcyLCBhcmczKTtcclxuICAgICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIC8vIGFueSBmdW5jdGlvbiB3aGljaCByZXR1cm5zIGEgdmFsdWUgbmVlZHMgdG8gYmUgd3JhcHBlZFxyXG4gICAgICAgICAgICB2YWx1ZSA9IGpxTGl0ZSh2YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGpxTGl0ZUFkZE5vZGVzKHZhbHVlLCBmbih0aGlzW2ldLCBhcmcxLCBhcmcyLCBhcmczKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBpc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiB0aGlzO1xyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgLy8gYmluZCBsZWdhY3kgYmluZC91bmJpbmQgdG8gb24vb2ZmXHJcbiAgSlFMaXRlLnByb3RvdHlwZS5iaW5kID0gSlFMaXRlLnByb3RvdHlwZS5vbjtcclxuICBKUUxpdGUucHJvdG90eXBlLnVuYmluZCA9IEpRTGl0ZS5wcm90b3R5cGUub2ZmO1xyXG5cclxuICAvLyBQcm92aWRlciBmb3IgcHJpdmF0ZSAkJGpxTGl0ZSBzZXJ2aWNlXHJcbiAgLyoqIEB0aGlzICovXHJcbiAgZnVuY3Rpb24gJCRqcUxpdGVQcm92aWRlcigpIHtcclxuICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICQkanFMaXRlKCkge1xyXG4gICAgICByZXR1cm4gZXh0ZW5kKEpRTGl0ZSwge1xyXG4gICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiBoYXNDbGFzcyhub2RlLCBjbGFzc2VzKSB7XHJcbiAgICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcclxuICAgICAgICAgIHJldHVybiBqcUxpdGVIYXNDbGFzcyhub2RlLCBjbGFzc2VzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiBhZGRDbGFzcyhub2RlLCBjbGFzc2VzKSB7XHJcbiAgICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcclxuICAgICAgICAgIHJldHVybiBqcUxpdGVBZGRDbGFzcyhub2RlLCBjbGFzc2VzKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHJlbW92ZUNsYXNzOiBmdW5jdGlvbiByZW1vdmVDbGFzcyhub2RlLCBjbGFzc2VzKSB7XHJcbiAgICAgICAgICBpZiAobm9kZS5hdHRyKSBub2RlID0gbm9kZVswXTtcclxuICAgICAgICAgIHJldHVybiBqcUxpdGVSZW1vdmVDbGFzcyhub2RlLCBjbGFzc2VzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbXB1dGVzIGEgaGFzaCBvZiBhbiAnb2JqJy5cclxuICAgKiBIYXNoIG9mIGE6XHJcbiAgICogIHN0cmluZyBpcyBzdHJpbmdcclxuICAgKiAgbnVtYmVyIGlzIG51bWJlciBhcyBzdHJpbmdcclxuICAgKiAgb2JqZWN0IGlzIGVpdGhlciByZXN1bHQgb2YgY2FsbGluZyAkJGhhc2hLZXkgZnVuY3Rpb24gb24gdGhlIG9iamVjdCBvciB1bmlxdWVseSBnZW5lcmF0ZWQgaWQsXHJcbiAgICogICAgICAgICB0aGF0IGlzIGFsc28gYXNzaWduZWQgdG8gdGhlICQkaGFzaEtleSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIG9ialxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGhhc2ggc3RyaW5nIHN1Y2ggdGhhdCB0aGUgc2FtZSBpbnB1dCB3aWxsIGhhdmUgdGhlIHNhbWUgaGFzaCBzdHJpbmcuXHJcbiAgICogICAgICAgICBUaGUgcmVzdWx0aW5nIHN0cmluZyBrZXkgaXMgaW4gJ3R5cGU6aGFzaEtleScgZm9ybWF0LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGhhc2hLZXkob2JqLCBuZXh0VWlkRm4pIHtcclxuICAgIHZhciBrZXkgPSBvYmogJiYgb2JqLiQkaGFzaEtleTtcclxuXHJcbiAgICBpZiAoa2V5KSB7XHJcbiAgICAgIGlmICh0eXBlb2Yga2V5ID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAga2V5ID0gb2JqLiQkaGFzaEtleSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBrZXk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIG9ialR5cGUgPSB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihvYmopO1xyXG4gICAgaWYgKG9ialR5cGUgPT09ICdmdW5jdGlvbicgfHwgb2JqVHlwZSA9PT0gJ29iamVjdCcgJiYgb2JqICE9PSBudWxsKSB7XHJcbiAgICAgIGtleSA9IG9iai4kJGhhc2hLZXkgPSBvYmpUeXBlICsgJzonICsgKG5leHRVaWRGbiB8fCBuZXh0VWlkKSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAga2V5ID0gb2JqVHlwZSArICc6JyArIG9iajtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ga2V5O1xyXG4gIH1cclxuXHJcbiAgLy8gQSBtaW5pbWFsIEVTMjAxNSBNYXAgaW1wbGVtZW50YXRpb24uXHJcbiAgLy8gU2hvdWxkIGJlIGJ1Zy9mZWF0dXJlIGVxdWl2YWxlbnQgdG8gdGhlIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnMgb2Ygc3VwcG9ydGVkIGJyb3dzZXJzXHJcbiAgLy8gKGZvciB0aGUgZmVhdHVyZXMgcmVxdWlyZWQgaW4gQW5ndWxhcikuXHJcbiAgLy8gU2VlIGh0dHBzOi8va2FuZ2F4LmdpdGh1Yi5pby9jb21wYXQtdGFibGUvZXM2LyN0ZXN0LU1hcFxyXG4gIHZhciBuYW5LZXkgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xyXG4gIGZ1bmN0aW9uIE5nTWFwU2hpbSgpIHtcclxuICAgIHRoaXMuX2tleXMgPSBbXTtcclxuICAgIHRoaXMuX3ZhbHVlcyA9IFtdO1xyXG4gICAgdGhpcy5fbGFzdEtleSA9IE5hTjtcclxuICAgIHRoaXMuX2xhc3RJbmRleCA9IC0xO1xyXG4gIH1cclxuICBOZ01hcFNoaW0ucHJvdG90eXBlID0ge1xyXG4gICAgX2lkeDogZnVuY3Rpb24gX2lkeChrZXkpIHtcclxuICAgICAgaWYgKGtleSA9PT0gdGhpcy5fbGFzdEtleSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9sYXN0SW5kZXg7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fbGFzdEtleSA9IGtleTtcclxuICAgICAgdGhpcy5fbGFzdEluZGV4ID0gdGhpcy5fa2V5cy5pbmRleE9mKGtleSk7XHJcbiAgICAgIHJldHVybiB0aGlzLl9sYXN0SW5kZXg7XHJcbiAgICB9LFxyXG4gICAgX3RyYW5zZm9ybUtleTogZnVuY3Rpb24gX3RyYW5zZm9ybUtleShrZXkpIHtcclxuICAgICAgcmV0dXJuIGlzTnVtYmVyTmFOKGtleSkgPyBuYW5LZXkgOiBrZXk7XHJcbiAgICB9LFxyXG4gICAgZ2V0OiBmdW5jdGlvbiBnZXQoa2V5KSB7XHJcbiAgICAgIGtleSA9IHRoaXMuX3RyYW5zZm9ybUtleShrZXkpO1xyXG4gICAgICB2YXIgaWR4ID0gdGhpcy5faWR4KGtleSk7XHJcbiAgICAgIGlmIChpZHggIT09IC0xKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlc1tpZHhdO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2V0OiBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICBrZXkgPSB0aGlzLl90cmFuc2Zvcm1LZXkoa2V5KTtcclxuICAgICAgdmFyIGlkeCA9IHRoaXMuX2lkeChrZXkpO1xyXG4gICAgICBpZiAoaWR4ID09PSAtMSkge1xyXG4gICAgICAgIGlkeCA9IHRoaXMuX2xhc3RJbmRleCA9IHRoaXMuX2tleXMubGVuZ3RoO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuX2tleXNbaWR4XSA9IGtleTtcclxuICAgICAgdGhpcy5fdmFsdWVzW2lkeF0gPSB2YWx1ZTtcclxuXHJcbiAgICAgIC8vIFN1cHBvcnQ6IElFMTFcclxuICAgICAgLy8gRG8gbm90IGByZXR1cm4gdGhpc2AgdG8gc2ltdWxhdGUgdGhlIHBhcnRpYWwgSUUxMSBpbXBsZW1lbnRhdGlvblxyXG4gICAgfSxcclxuICAgIGRlbGV0ZTogZnVuY3Rpb24gX2RlbGV0ZShrZXkpIHtcclxuICAgICAga2V5ID0gdGhpcy5fdHJhbnNmb3JtS2V5KGtleSk7XHJcbiAgICAgIHZhciBpZHggPSB0aGlzLl9pZHgoa2V5KTtcclxuICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5fa2V5cy5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgdGhpcy5fdmFsdWVzLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICB0aGlzLl9sYXN0S2V5ID0gTmFOO1xyXG4gICAgICB0aGlzLl9sYXN0SW5kZXggPSAtMTtcclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gRm9yIG5vdywgYWx3YXlzIHVzZSBgTmdNYXBTaGltYCwgZXZlbiBpZiBgd2luZG93Lk1hcGAgaXMgYXZhaWxhYmxlLiBTb21lIG5hdGl2ZSBpbXBsZW1lbnRhdGlvbnNcclxuICAvLyBhcmUgc3RpbGwgYnVnZ3kgKG9mdGVuIGluIHN1YnRsZSB3YXlzKSBhbmQgY2FuIGNhdXNlIGhhcmQtdG8tZGVidWcgZmFpbHVyZXMuIFdoZW4gbmF0aXZlIGBNYXBgXHJcbiAgLy8gaW1wbGVtZW50YXRpb25zIGdldCBtb3JlIHN0YWJsZSwgd2UgY2FuIHJlY29uc2lkZXIgc3dpdGNoaW5nIHRvIGB3aW5kb3cuTWFwYCAod2hlbiBhdmFpbGFibGUpLlxyXG4gIHZhciBOZ01hcCA9IE5nTWFwU2hpbTtcclxuXHJcbiAgdmFyICQkTWFwUHJvdmlkZXIgPSBbLyoqIEB0aGlzICovZnVuY3Rpb24gKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gW2Z1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIE5nTWFwO1xyXG4gICAgfV07XHJcbiAgfV07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxyXG4gICAqIEBtb2R1bGUgbmdcclxuICAgKiBAbmFtZSBhbmd1bGFyLmluamVjdG9yXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENyZWF0ZXMgYW4gaW5qZWN0b3Igb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgZm9yIHJldHJpZXZpbmcgc2VydmljZXMgYXMgd2VsbCBhcyBmb3JcclxuICAgKiBkZXBlbmRlbmN5IGluamVjdGlvbiAoc2VlIHtAbGluayBndWlkZS9kaSBkZXBlbmRlbmN5IGluamVjdGlvbn0pLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gbW9kdWxlcyBBIGxpc3Qgb2YgbW9kdWxlIGZ1bmN0aW9ucyBvciB0aGVpciBhbGlhc2VzLiBTZWVcclxuICAgKiAgICAge0BsaW5rIGFuZ3VsYXIubW9kdWxlfS4gVGhlIGBuZ2AgbW9kdWxlIG11c3QgYmUgZXhwbGljaXRseSBhZGRlZC5cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbc3RyaWN0RGk9ZmFsc2VdIFdoZXRoZXIgdGhlIGluamVjdG9yIHNob3VsZCBiZSBpbiBzdHJpY3QgbW9kZSwgd2hpY2hcclxuICAgKiAgICAgZGlzYWxsb3dzIGFyZ3VtZW50IG5hbWUgYW5ub3RhdGlvbiBpbmZlcmVuY2UuXHJcbiAgICogQHJldHVybnMge2luamVjdG9yfSBJbmplY3RvciBvYmplY3QuIFNlZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogVHlwaWNhbCB1c2FnZVxyXG4gICAqIGBgYGpzXHJcbiAgICogICAvLyBjcmVhdGUgYW4gaW5qZWN0b3JcclxuICAgKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKFsnbmcnXSk7XHJcbiAgICpcclxuICAgKiAgIC8vIHVzZSB0aGUgaW5qZWN0b3IgdG8ga2ljayBvZmYgeW91ciBhcHBsaWNhdGlvblxyXG4gICAqICAgLy8gdXNlIHRoZSB0eXBlIGluZmVyZW5jZSB0byBhdXRvIGluamVjdCBhcmd1bWVudHMsIG9yIHVzZSBpbXBsaWNpdCBpbmplY3Rpb25cclxuICAgKiAgICRpbmplY3Rvci5pbnZva2UoZnVuY3Rpb24oJHJvb3RTY29wZSwgJGNvbXBpbGUsICRkb2N1bWVudCkge1xyXG4gICAqICAgICAkY29tcGlsZSgkZG9jdW1lbnQpKCRyb290U2NvcGUpO1xyXG4gICAqICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogU29tZXRpbWVzIHlvdSB3YW50IHRvIGdldCBhY2Nlc3MgdG8gdGhlIGluamVjdG9yIG9mIGEgY3VycmVudGx5IHJ1bm5pbmcgQW5ndWxhciBhcHBcclxuICAgKiBmcm9tIG91dHNpZGUgQW5ndWxhci4gUGVyaGFwcywgeW91IHdhbnQgdG8gaW5qZWN0IGFuZCBjb21waWxlIHNvbWUgbWFya3VwIGFmdGVyIHRoZVxyXG4gICAqIGFwcGxpY2F0aW9uIGhhcyBiZWVuIGJvb3RzdHJhcHBlZC4gWW91IGNhbiBkbyB0aGlzIHVzaW5nIHRoZSBleHRyYSBgaW5qZWN0b3IoKWAgYWRkZWRcclxuICAgKiB0byBKUXVlcnkvanFMaXRlIGVsZW1lbnRzLiBTZWUge0BsaW5rIGFuZ3VsYXIuZWxlbWVudH0uXHJcbiAgICpcclxuICAgKiAqVGhpcyBpcyBmYWlybHkgcmFyZSBidXQgY291bGQgYmUgdGhlIGNhc2UgaWYgYSB0aGlyZCBwYXJ0eSBsaWJyYXJ5IGlzIGluamVjdGluZyB0aGVcclxuICAgKiBtYXJrdXAuKlxyXG4gICAqXHJcbiAgICogSW4gdGhlIGZvbGxvd2luZyBleGFtcGxlIGEgbmV3IGJsb2NrIG9mIEhUTUwgY29udGFpbmluZyBhIGBuZy1jb250cm9sbGVyYFxyXG4gICAqIGRpcmVjdGl2ZSBpcyBhZGRlZCB0byB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudCBib2R5IGJ5IEpRdWVyeS4gV2UgdGhlbiBjb21waWxlIGFuZCBsaW5rXHJcbiAgICogaXQgaW50byB0aGUgY3VycmVudCBBbmd1bGFySlMgc2NvcGUuXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqIHZhciAkZGl2ID0gJCgnPGRpdiBuZy1jb250cm9sbGVyPVwiTXlDdHJsXCI+e3tjb250ZW50LmxhYmVsfX08L2Rpdj4nKTtcclxuICAgKiAkKGRvY3VtZW50LmJvZHkpLmFwcGVuZCgkZGl2KTtcclxuICAgKlxyXG4gICAqIGFuZ3VsYXIuZWxlbWVudChkb2N1bWVudCkuaW5qZWN0b3IoKS5pbnZva2UoZnVuY3Rpb24oJGNvbXBpbGUpIHtcclxuICAgKiAgIHZhciBzY29wZSA9IGFuZ3VsYXIuZWxlbWVudCgkZGl2KS5zY29wZSgpO1xyXG4gICAqICAgJGNvbXBpbGUoJGRpdikoc2NvcGUpO1xyXG4gICAqIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbW9kdWxlXHJcbiAgICogQG5hbWUgYXV0b1xyXG4gICAqIEBpbnN0YWxsYXRpb25cclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIEltcGxpY2l0IG1vZHVsZSB3aGljaCBnZXRzIGF1dG9tYXRpY2FsbHkgYWRkZWQgdG8gZWFjaCB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfS5cclxuICAgKi9cclxuXHJcbiAgdmFyIEFSUk9XX0FSRyA9IC9eKFteKF0rPyk9Pi87XHJcbiAgdmFyIEZOX0FSR1MgPSAvXlteKF0qXFwoXFxzKihbXildKilcXCkvbTtcclxuICB2YXIgRk5fQVJHX1NQTElUID0gLywvO1xyXG4gIHZhciBGTl9BUkcgPSAvXlxccyooXz8pKFxcUys/KVxcMVxccyokLztcclxuICB2YXIgU1RSSVBfQ09NTUVOVFMgPSAvKChcXC9cXC8uKiQpfChcXC9cXCpbXFxzXFxTXSo/XFwqXFwvKSkvbWc7XHJcbiAgdmFyICRpbmplY3Rvck1pbkVyciA9IG1pbkVycignJGluamVjdG9yJyk7XHJcblxyXG4gIGZ1bmN0aW9uIHN0cmluZ2lmeUZuKGZuKSB7XHJcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZm4pO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZXh0cmFjdEFyZ3MoZm4pIHtcclxuICAgIHZhciBmblRleHQgPSBzdHJpbmdpZnlGbihmbikucmVwbGFjZShTVFJJUF9DT01NRU5UUywgJycpLFxyXG4gICAgICAgIGFyZ3MgPSBmblRleHQubWF0Y2goQVJST1dfQVJHKSB8fCBmblRleHQubWF0Y2goRk5fQVJHUyk7XHJcbiAgICByZXR1cm4gYXJncztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFub25Gbihmbikge1xyXG4gICAgLy8gRm9yIGFub255bW91cyBmdW5jdGlvbnMsIHNob3dpbmcgYXQgdGhlIHZlcnkgbGVhc3QgdGhlIGZ1bmN0aW9uIHNpZ25hdHVyZSBjYW4gaGVscCBpblxyXG4gICAgLy8gZGVidWdnaW5nLlxyXG4gICAgdmFyIGFyZ3MgPSBleHRyYWN0QXJncyhmbik7XHJcbiAgICBpZiAoYXJncykge1xyXG4gICAgICByZXR1cm4gJ2Z1bmN0aW9uKCcgKyAoYXJnc1sxXSB8fCAnJykucmVwbGFjZSgvW1xcc1xcclxcbl0rLywgJyAnKSArICcpJztcclxuICAgIH1cclxuICAgIHJldHVybiAnZm4nO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYW5ub3RhdGUoZm4sIHN0cmljdERpLCBuYW1lKSB7XHJcbiAgICB2YXIgJGluamVjdCwgYXJnRGVjbCwgbGFzdDtcclxuXHJcbiAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgIGlmICghKCRpbmplY3QgPSBmbi4kaW5qZWN0KSkge1xyXG4gICAgICAgICRpbmplY3QgPSBbXTtcclxuICAgICAgICBpZiAoZm4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICBpZiAoc3RyaWN0RGkpIHtcclxuICAgICAgICAgICAgaWYgKCFpc1N0cmluZyhuYW1lKSB8fCAhbmFtZSkge1xyXG4gICAgICAgICAgICAgIG5hbWUgPSBmbi5uYW1lIHx8IGFub25Gbihmbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhyb3cgJGluamVjdG9yTWluRXJyKCdzdHJpY3RkaScsICd7MH0gaXMgbm90IHVzaW5nIGV4cGxpY2l0IGFubm90YXRpb24gYW5kIGNhbm5vdCBiZSBpbnZva2VkIGluIHN0cmljdCBtb2RlJywgbmFtZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBhcmdEZWNsID0gZXh0cmFjdEFyZ3MoZm4pO1xyXG4gICAgICAgICAgZm9yRWFjaChhcmdEZWNsWzFdLnNwbGl0KEZOX0FSR19TUExJVCksIGZ1bmN0aW9uIChhcmcpIHtcclxuICAgICAgICAgICAgYXJnLnJlcGxhY2UoRk5fQVJHLCBmdW5jdGlvbiAoYWxsLCB1bmRlcnNjb3JlLCBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgJGluamVjdC5wdXNoKG5hbWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmbi4kaW5qZWN0ID0gJGluamVjdDtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChpc0FycmF5KGZuKSkge1xyXG4gICAgICBsYXN0ID0gZm4ubGVuZ3RoIC0gMTtcclxuICAgICAgYXNzZXJ0QXJnRm4oZm5bbGFzdF0sICdmbicpO1xyXG4gICAgICAkaW5qZWN0ID0gZm4uc2xpY2UoMCwgbGFzdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhc3NlcnRBcmdGbihmbiwgJ2ZuJywgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJGluamVjdDtcclxuICB9XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRpbmplY3RvclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBgJGluamVjdG9yYCBpcyB1c2VkIHRvIHJldHJpZXZlIG9iamVjdCBpbnN0YW5jZXMgYXMgZGVmaW5lZCBieVxyXG4gICAqIHtAbGluayBhdXRvLiRwcm92aWRlIHByb3ZpZGVyfSwgaW5zdGFudGlhdGUgdHlwZXMsIGludm9rZSBtZXRob2RzLFxyXG4gICAqIGFuZCBsb2FkIG1vZHVsZXMuXHJcbiAgICpcclxuICAgKiBUaGUgZm9sbG93aW5nIGFsd2F5cyBob2xkcyB0cnVlOlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAgIHZhciAkaW5qZWN0b3IgPSBhbmd1bGFyLmluamVjdG9yKCk7XHJcbiAgICogICBleHBlY3QoJGluamVjdG9yLmdldCgnJGluamVjdG9yJykpLnRvQmUoJGluamVjdG9yKTtcclxuICAgKiAgIGV4cGVjdCgkaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRpbmplY3Rvcikge1xyXG4gICAqICAgICByZXR1cm4gJGluamVjdG9yO1xyXG4gICAqICAgfSkpLnRvQmUoJGluamVjdG9yKTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqICMgSW5qZWN0aW9uIEZ1bmN0aW9uIEFubm90YXRpb25cclxuICAgKlxyXG4gICAqIEphdmFTY3JpcHQgZG9lcyBub3QgaGF2ZSBhbm5vdGF0aW9ucywgYW5kIGFubm90YXRpb25zIGFyZSBuZWVkZWQgZm9yIGRlcGVuZGVuY3kgaW5qZWN0aW9uLiBUaGVcclxuICAgKiBmb2xsb3dpbmcgYXJlIGFsbCB2YWxpZCB3YXlzIG9mIGFubm90YXRpbmcgZnVuY3Rpb24gd2l0aCBpbmplY3Rpb24gYXJndW1lbnRzIGFuZCBhcmUgZXF1aXZhbGVudC5cclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogICAvLyBpbmZlcnJlZCAob25seSB3b3JrcyBpZiBjb2RlIG5vdCBtaW5pZmllZC9vYmZ1c2NhdGVkKVxyXG4gICAqICAgJGluamVjdG9yLmludm9rZShmdW5jdGlvbihzZXJ2aWNlQSl7fSk7XHJcbiAgICpcclxuICAgKiAgIC8vIGFubm90YXRlZFxyXG4gICAqICAgZnVuY3Rpb24gZXhwbGljaXQoc2VydmljZUEpIHt9O1xyXG4gICAqICAgZXhwbGljaXQuJGluamVjdCA9IFsnc2VydmljZUEnXTtcclxuICAgKiAgICRpbmplY3Rvci5pbnZva2UoZXhwbGljaXQpO1xyXG4gICAqXHJcbiAgICogICAvLyBpbmxpbmVcclxuICAgKiAgICRpbmplY3Rvci5pbnZva2UoWydzZXJ2aWNlQScsIGZ1bmN0aW9uKHNlcnZpY2VBKXt9XSk7XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiAjIyBJbmZlcmVuY2VcclxuICAgKlxyXG4gICAqIEluIEphdmFTY3JpcHQgY2FsbGluZyBgdG9TdHJpbmcoKWAgb24gYSBmdW5jdGlvbiByZXR1cm5zIHRoZSBmdW5jdGlvbiBkZWZpbml0aW9uLiBUaGUgZGVmaW5pdGlvblxyXG4gICAqIGNhbiB0aGVuIGJlIHBhcnNlZCBhbmQgdGhlIGZ1bmN0aW9uIGFyZ3VtZW50cyBjYW4gYmUgZXh0cmFjdGVkLiBUaGlzIG1ldGhvZCBvZiBkaXNjb3ZlcmluZ1xyXG4gICAqIGFubm90YXRpb25zIGlzIGRpc2FsbG93ZWQgd2hlbiB0aGUgaW5qZWN0b3IgaXMgaW4gc3RyaWN0IG1vZGUuXHJcbiAgICogKk5PVEU6KiBUaGlzIGRvZXMgbm90IHdvcmsgd2l0aCBtaW5pZmljYXRpb24sIGFuZCBvYmZ1c2NhdGlvbiB0b29scyBzaW5jZSB0aGVzZSB0b29scyBjaGFuZ2UgdGhlXHJcbiAgICogYXJndW1lbnQgbmFtZXMuXHJcbiAgICpcclxuICAgKiAjIyBgJGluamVjdGAgQW5ub3RhdGlvblxyXG4gICAqIEJ5IGFkZGluZyBhbiBgJGluamVjdGAgcHJvcGVydHkgb250byBhIGZ1bmN0aW9uIHRoZSBpbmplY3Rpb24gcGFyYW1ldGVycyBjYW4gYmUgc3BlY2lmaWVkLlxyXG4gICAqXHJcbiAgICogIyMgSW5saW5lXHJcbiAgICogQXMgYW4gYXJyYXkgb2YgaW5qZWN0aW9uIG5hbWVzLCB3aGVyZSB0aGUgbGFzdCBpdGVtIGluIHRoZSBhcnJheSBpcyB0aGUgZnVuY3Rpb24gdG8gY2FsbC5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICogQG5hbWUgJGluamVjdG9yI21vZHVsZXNcclxuICAgKiBAdHlwZSB7T2JqZWN0fVxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEEgaGFzaCBjb250YWluaW5nIGFsbCB0aGUgbW9kdWxlcyB0aGF0IGhhdmUgYmVlbiBsb2FkZWQgaW50byB0aGVcclxuICAgKiAkaW5qZWN0b3IuXHJcbiAgICpcclxuICAgKiBZb3UgY2FuIHVzZSB0aGlzIHByb3BlcnR5IHRvIGZpbmQgb3V0IGluZm9ybWF0aW9uIGFib3V0IGEgbW9kdWxlIHZpYSB0aGVcclxuICAgKiB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjaW5mbyBgbXlNb2R1bGUuaW5mbyguLi4pYH0gbWV0aG9kLlxyXG4gICAqXHJcbiAgICogRm9yIGV4YW1wbGU6XHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKiB2YXIgaW5mbyA9ICRpbmplY3Rvci5tb2R1bGVzWyduZ0FuaW1hdGUnXS5pbmZvKCk7XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiAqKkRvIG5vdCB1c2UgdGhpcyBwcm9wZXJ0eSB0byBhdHRlbXB0IHRvIG1vZGlmeSB0aGUgbW9kdWxlcyBhZnRlciB0aGUgYXBwbGljYXRpb25cclxuICAgKiBoYXMgYmVlbiBib290c3RyYXBwZWQuKipcclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRpbmplY3RvciNnZXRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJldHVybiBhbiBpbnN0YW5jZSBvZiB0aGUgc2VydmljZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZSB0byByZXRyaWV2ZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IGNhbGxlciBBbiBvcHRpb25hbCBzdHJpbmcgdG8gcHJvdmlkZSB0aGUgb3JpZ2luIG9mIHRoZSBmdW5jdGlvbiBjYWxsIGZvciBlcnJvciBtZXNzYWdlcy5cclxuICAgKiBAcmV0dXJuIHsqfSBUaGUgaW5zdGFuY2UuXHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkaW5qZWN0b3IjaW52b2tlXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBJbnZva2UgdGhlIG1ldGhvZCBhbmQgc3VwcGx5IHRoZSBtZXRob2QgYXJndW1lbnRzIGZyb20gdGhlIGAkaW5qZWN0b3JgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gZm4gVGhlIGluamVjdGFibGUgZnVuY3Rpb24gdG8gaW52b2tlLiBGdW5jdGlvbiBwYXJhbWV0ZXJzIGFyZVxyXG4gICAqICAgaW5qZWN0ZWQgYWNjb3JkaW5nIHRvIHRoZSB7QGxpbmsgZ3VpZGUvZGkgJGluamVjdCBBbm5vdGF0aW9ufSBydWxlcy5cclxuICAgKiBAcGFyYW0ge09iamVjdD19IHNlbGYgVGhlIGB0aGlzYCBmb3IgdGhlIGludm9rZWQgbWV0aG9kLlxyXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gbG9jYWxzIE9wdGlvbmFsIG9iamVjdC4gSWYgcHJlc2V0IHRoZW4gYW55IGFyZ3VtZW50IG5hbWVzIGFyZSByZWFkIGZyb20gdGhpc1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdCBmaXJzdCwgYmVmb3JlIHRoZSBgJGluamVjdG9yYCBpcyBjb25zdWx0ZWQuXHJcbiAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSByZXR1cm5lZCBieSB0aGUgaW52b2tlZCBgZm5gIGZ1bmN0aW9uLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGluamVjdG9yI2hhc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQWxsb3dzIHRoZSB1c2VyIHRvIHF1ZXJ5IGlmIHRoZSBwYXJ0aWN1bGFyIHNlcnZpY2UgZXhpc3RzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvZiB0aGUgc2VydmljZSB0byBxdWVyeS5cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gYHRydWVgIGlmIGluamVjdG9yIGhhcyBnaXZlbiBzZXJ2aWNlLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJGluamVjdG9yI2luc3RhbnRpYXRlXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEpTIHR5cGUuIFRoZSBtZXRob2QgdGFrZXMgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiwgaW52b2tlcyB0aGUgbmV3XHJcbiAgICogb3BlcmF0b3IsIGFuZCBzdXBwbGllcyBhbGwgb2YgdGhlIGFyZ3VtZW50cyB0byB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24gYXMgc3BlY2lmaWVkIGJ5IHRoZVxyXG4gICAqIGNvbnN0cnVjdG9yIGFubm90YXRpb24uXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBUeXBlIEFubm90YXRlZCBjb25zdHJ1Y3RvciBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0ge09iamVjdD19IGxvY2FscyBPcHRpb25hbCBvYmplY3QuIElmIHByZXNldCB0aGVuIGFueSBhcmd1bWVudCBuYW1lcyBhcmUgcmVhZCBmcm9tIHRoaXNcclxuICAgKiBvYmplY3QgZmlyc3QsIGJlZm9yZSB0aGUgYCRpbmplY3RvcmAgaXMgY29uc3VsdGVkLlxyXG4gICAqIEByZXR1cm5zIHtPYmplY3R9IG5ldyBpbnN0YW5jZSBvZiBgVHlwZWAuXHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkaW5qZWN0b3IjYW5ub3RhdGVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFJldHVybnMgYW4gYXJyYXkgb2Ygc2VydmljZSBuYW1lcyB3aGljaCB0aGUgZnVuY3Rpb24gaXMgcmVxdWVzdGluZyBmb3IgaW5qZWN0aW9uLiBUaGlzIEFQSSBpc1xyXG4gICAqIHVzZWQgYnkgdGhlIGluamVjdG9yIHRvIGRldGVybWluZSB3aGljaCBzZXJ2aWNlcyBuZWVkIHRvIGJlIGluamVjdGVkIGludG8gdGhlIGZ1bmN0aW9uIHdoZW4gdGhlXHJcbiAgICogZnVuY3Rpb24gaXMgaW52b2tlZC4gVGhlcmUgYXJlIHRocmVlIHdheXMgaW4gd2hpY2ggdGhlIGZ1bmN0aW9uIGNhbiBiZSBhbm5vdGF0ZWQgd2l0aCB0aGUgbmVlZGVkXHJcbiAgICogZGVwZW5kZW5jaWVzLlxyXG4gICAqXHJcbiAgICogIyBBcmd1bWVudCBuYW1lc1xyXG4gICAqXHJcbiAgICogVGhlIHNpbXBsZXN0IGZvcm0gaXMgdG8gZXh0cmFjdCB0aGUgZGVwZW5kZW5jaWVzIGZyb20gdGhlIGFyZ3VtZW50cyBvZiB0aGUgZnVuY3Rpb24uIFRoaXMgaXMgZG9uZVxyXG4gICAqIGJ5IGNvbnZlcnRpbmcgdGhlIGZ1bmN0aW9uIGludG8gYSBzdHJpbmcgdXNpbmcgYHRvU3RyaW5nKClgIG1ldGhvZCBhbmQgZXh0cmFjdGluZyB0aGUgYXJndW1lbnRcclxuICAgKiBuYW1lcy5cclxuICAgKiBgYGBqc1xyXG4gICAqICAgLy8gR2l2ZW5cclxuICAgKiAgIGZ1bmN0aW9uIE15Q29udHJvbGxlcigkc2NvcGUsICRyb3V0ZSkge1xyXG4gICAqICAgICAvLyAuLi5cclxuICAgKiAgIH1cclxuICAgKlxyXG4gICAqICAgLy8gVGhlblxyXG4gICAqICAgZXhwZWN0KGluamVjdG9yLmFubm90YXRlKE15Q29udHJvbGxlcikpLnRvRXF1YWwoWyckc2NvcGUnLCAnJHJvdXRlJ10pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogWW91IGNhbiBkaXNhbGxvdyB0aGlzIG1ldGhvZCBieSB1c2luZyBzdHJpY3QgaW5qZWN0aW9uIG1vZGUuXHJcbiAgICpcclxuICAgKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCB3b3JrIHdpdGggY29kZSBtaW5pZmljYXRpb24gLyBvYmZ1c2NhdGlvbi4gRm9yIHRoaXMgcmVhc29uIHRoZSBmb2xsb3dpbmdcclxuICAgKiBhbm5vdGF0aW9uIHN0cmF0ZWdpZXMgYXJlIHN1cHBvcnRlZC5cclxuICAgKlxyXG4gICAqICMgVGhlIGAkaW5qZWN0YCBwcm9wZXJ0eVxyXG4gICAqXHJcbiAgICogSWYgYSBmdW5jdGlvbiBoYXMgYW4gYCRpbmplY3RgIHByb3BlcnR5IGFuZCBpdHMgdmFsdWUgaXMgYW4gYXJyYXkgb2Ygc3RyaW5ncywgdGhlbiB0aGUgc3RyaW5nc1xyXG4gICAqIHJlcHJlc2VudCBuYW1lcyBvZiBzZXJ2aWNlcyB0byBiZSBpbmplY3RlZCBpbnRvIHRoZSBmdW5jdGlvbi5cclxuICAgKiBgYGBqc1xyXG4gICAqICAgLy8gR2l2ZW5cclxuICAgKiAgIHZhciBNeUNvbnRyb2xsZXIgPSBmdW5jdGlvbihvYmZ1c2NhdGVkU2NvcGUsIG9iZnVzY2F0ZWRSb3V0ZSkge1xyXG4gICAqICAgICAvLyAuLi5cclxuICAgKiAgIH1cclxuICAgKiAgIC8vIERlZmluZSBmdW5jdGlvbiBkZXBlbmRlbmNpZXNcclxuICAgKiAgIE15Q29udHJvbGxlclsnJGluamVjdCddID0gWyckc2NvcGUnLCAnJHJvdXRlJ107XHJcbiAgICpcclxuICAgKiAgIC8vIFRoZW5cclxuICAgKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShNeUNvbnRyb2xsZXIpKS50b0VxdWFsKFsnJHNjb3BlJywgJyRyb3V0ZSddKTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqICMgVGhlIGFycmF5IG5vdGF0aW9uXHJcbiAgICpcclxuICAgKiBJdCBpcyBvZnRlbiBkZXNpcmFibGUgdG8gaW5saW5lIEluamVjdGVkIGZ1bmN0aW9ucyBhbmQgdGhhdCdzIHdoZW4gc2V0dGluZyB0aGUgYCRpbmplY3RgIHByb3BlcnR5XHJcbiAgICogaXMgdmVyeSBpbmNvbnZlbmllbnQuIEluIHRoZXNlIHNpdHVhdGlvbnMgdXNpbmcgdGhlIGFycmF5IG5vdGF0aW9uIHRvIHNwZWNpZnkgdGhlIGRlcGVuZGVuY2llcyBpblxyXG4gICAqIGEgd2F5IHRoYXQgc3Vydml2ZXMgbWluaWZpY2F0aW9uIGlzIGEgYmV0dGVyIGNob2ljZTpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogICAvLyBXZSB3aXNoIHRvIHdyaXRlIHRoaXMgKG5vdCBtaW5pZmljYXRpb24gLyBvYmZ1c2NhdGlvbiBzYWZlKVxyXG4gICAqICAgaW5qZWN0b3IuaW52b2tlKGZ1bmN0aW9uKCRjb21waWxlLCAkcm9vdFNjb3BlKSB7XHJcbiAgICogICAgIC8vIC4uLlxyXG4gICAqICAgfSk7XHJcbiAgICpcclxuICAgKiAgIC8vIFdlIGFyZSBmb3JjZWQgdG8gd3JpdGUgYnJlYWsgaW5saW5pbmdcclxuICAgKiAgIHZhciB0bXBGbiA9IGZ1bmN0aW9uKG9iZnVzY2F0ZWRDb21waWxlLCBvYmZ1c2NhdGVkUm9vdFNjb3BlKSB7XHJcbiAgICogICAgIC8vIC4uLlxyXG4gICAqICAgfTtcclxuICAgKiAgIHRtcEZuLiRpbmplY3QgPSBbJyRjb21waWxlJywgJyRyb290U2NvcGUnXTtcclxuICAgKiAgIGluamVjdG9yLmludm9rZSh0bXBGbik7XHJcbiAgICpcclxuICAgKiAgIC8vIFRvIGJldHRlciBzdXBwb3J0IGlubGluZSBmdW5jdGlvbiB0aGUgaW5saW5lIGFubm90YXRpb24gaXMgc3VwcG9ydGVkXHJcbiAgICogICBpbmplY3Rvci5pbnZva2UoWyckY29tcGlsZScsICckcm9vdFNjb3BlJywgZnVuY3Rpb24ob2JmQ29tcGlsZSwgb2JmUm9vdFNjb3BlKSB7XHJcbiAgICogICAgIC8vIC4uLlxyXG4gICAqICAgfV0pO1xyXG4gICAqXHJcbiAgICogICAvLyBUaGVyZWZvcmVcclxuICAgKiAgIGV4cGVjdChpbmplY3Rvci5hbm5vdGF0ZShcclxuICAgKiAgICAgIFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uKG9iZnVzXyRjb21waWxlLCBvYmZ1c18kcm9vdFNjb3BlKSB7fV0pXHJcbiAgICogICAgKS50b0VxdWFsKFsnJGNvbXBpbGUnLCAnJHJvb3RTY29wZSddKTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXkuPHN0cmluZ3xGdW5jdGlvbj59IGZuIEZ1bmN0aW9uIGZvciB3aGljaCBkZXBlbmRlbnQgc2VydmljZSBuYW1lcyBuZWVkIHRvXHJcbiAgICogYmUgcmV0cmlldmVkIGFzIGRlc2NyaWJlZCBhYm92ZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtzdHJpY3REaT1mYWxzZV0gRGlzYWxsb3cgYXJndW1lbnQgbmFtZSBhbm5vdGF0aW9uIGluZmVyZW5jZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtBcnJheS48c3RyaW5nPn0gVGhlIG5hbWVzIG9mIHRoZSBzZXJ2aWNlcyB3aGljaCB0aGUgZnVuY3Rpb24gcmVxdWlyZXMuXHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgJHByb3ZpZGVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogVGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhIG51bWJlciBvZiBtZXRob2RzIGZvciByZWdpc3RlcmluZyBjb21wb25lbnRzXHJcbiAgICogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIE1hbnkgb2YgdGhlc2UgZnVuY3Rpb25zIGFyZSBhbHNvIGV4cG9zZWQgb25cclxuICAgKiB7QGxpbmsgYW5ndWxhci5Nb2R1bGV9LlxyXG4gICAqXHJcbiAgICogQW4gQW5ndWxhciAqKnNlcnZpY2UqKiBpcyBhIHNpbmdsZXRvbiBvYmplY3QgY3JlYXRlZCBieSBhICoqc2VydmljZSBmYWN0b3J5KiouICBUaGVzZSAqKnNlcnZpY2VcclxuICAgKiBmYWN0b3JpZXMqKiBhcmUgZnVuY3Rpb25zIHdoaWNoLCBpbiB0dXJuLCBhcmUgY3JlYXRlZCBieSBhICoqc2VydmljZSBwcm92aWRlcioqLlxyXG4gICAqIFRoZSAqKnNlcnZpY2UgcHJvdmlkZXJzKiogYXJlIGNvbnN0cnVjdG9yIGZ1bmN0aW9ucy4gV2hlbiBpbnN0YW50aWF0ZWQgdGhleSBtdXN0IGNvbnRhaW4gYVxyXG4gICAqIHByb3BlcnR5IGNhbGxlZCBgJGdldGAsIHdoaWNoIGhvbGRzIHRoZSAqKnNlcnZpY2UgZmFjdG9yeSoqIGZ1bmN0aW9uLlxyXG4gICAqXHJcbiAgICogV2hlbiB5b3UgcmVxdWVzdCBhIHNlcnZpY2UsIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSBpcyByZXNwb25zaWJsZSBmb3IgZmluZGluZyB0aGVcclxuICAgKiBjb3JyZWN0ICoqc2VydmljZSBwcm92aWRlcioqLCBpbnN0YW50aWF0aW5nIGl0IGFuZCB0aGVuIGNhbGxpbmcgaXRzIGAkZ2V0YCAqKnNlcnZpY2UgZmFjdG9yeSoqXHJcbiAgICogZnVuY3Rpb24gdG8gZ2V0IHRoZSBpbnN0YW5jZSBvZiB0aGUgKipzZXJ2aWNlKiouXHJcbiAgICpcclxuICAgKiBPZnRlbiBzZXJ2aWNlcyBoYXZlIG5vIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBhbmQgdGhlcmUgaXMgbm8gbmVlZCB0byBhZGQgbWV0aG9kcyB0byB0aGUgc2VydmljZVxyXG4gICAqIHByb3ZpZGVyLiAgVGhlIHByb3ZpZGVyIHdpbGwgYmUgbm8gbW9yZSB0aGFuIGEgY29uc3RydWN0b3IgZnVuY3Rpb24gd2l0aCBhIGAkZ2V0YCBwcm9wZXJ0eS4gRm9yXHJcbiAgICogdGhlc2UgY2FzZXMgdGhlIHtAbGluayBhdXRvLiRwcm92aWRlICRwcm92aWRlfSBzZXJ2aWNlIGhhcyBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIHRvIHJlZ2lzdGVyXHJcbiAgICogc2VydmljZXMgd2l0aG91dCBzcGVjaWZ5aW5nIGEgcHJvdmlkZXIuXHJcbiAgICpcclxuICAgKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3Byb3ZpZGVyIHByb3ZpZGVyKG5hbWUsIHByb3ZpZGVyKX0gLSByZWdpc3RlcnMgYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiB3aXRoIHRoZVxyXG4gICAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfVxyXG4gICAqICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjY29uc3RhbnQgY29uc3RhbnQobmFtZSwgb2JqKX0gLSByZWdpc3RlcnMgYSB2YWx1ZS9vYmplY3QgdGhhdCBjYW4gYmUgYWNjZXNzZWQgYnlcclxuICAgKiAgICAgcHJvdmlkZXJzIGFuZCBzZXJ2aWNlcy5cclxuICAgKiAqIHtAbGluayBhdXRvLiRwcm92aWRlI3ZhbHVlIHZhbHVlKG5hbWUsIG9iail9IC0gcmVnaXN0ZXJzIGEgdmFsdWUvb2JqZWN0IHRoYXQgY2FuIG9ubHkgYmUgYWNjZXNzZWQgYnlcclxuICAgKiAgICAgc2VydmljZXMsIG5vdCBwcm92aWRlcnMuXHJcbiAgICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNmYWN0b3J5IGZhY3RvcnkobmFtZSwgZm4pfSAtIHJlZ2lzdGVycyBhIHNlcnZpY2UgKipmYWN0b3J5IGZ1bmN0aW9uKipcclxuICAgKiAgICAgdGhhdCB3aWxsIGJlIHdyYXBwZWQgaW4gYSAqKnNlcnZpY2UgcHJvdmlkZXIqKiBvYmplY3QsIHdob3NlIGAkZ2V0YCBwcm9wZXJ0eSB3aWxsIGNvbnRhaW4gdGhlXHJcbiAgICogICAgIGdpdmVuIGZhY3RvcnkgZnVuY3Rpb24uXHJcbiAgICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlIHNlcnZpY2UobmFtZSwgRm4pfSAtIHJlZ2lzdGVycyBhICoqY29uc3RydWN0b3IgZnVuY3Rpb24qKlxyXG4gICAqICAgICB0aGF0IHdpbGwgYmUgd3JhcHBlZCBpbiBhICoqc2VydmljZSBwcm92aWRlcioqIG9iamVjdCwgd2hvc2UgYCRnZXRgIHByb3BlcnR5IHdpbGwgaW5zdGFudGlhdGVcclxuICAgKiAgICAgIGEgbmV3IG9iamVjdCB1c2luZyB0aGUgZ2l2ZW4gY29uc3RydWN0b3IgZnVuY3Rpb24uXHJcbiAgICogKiB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yKG5hbWUsIGRlY29yRm4pfSAtIHJlZ2lzdGVycyBhICoqZGVjb3JhdG9yIGZ1bmN0aW9uKiogdGhhdFxyXG4gICAqICAgICAgd2lsbCBiZSBhYmxlIHRvIG1vZGlmeSBvciByZXBsYWNlIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBhbm90aGVyIHNlcnZpY2UuXHJcbiAgICpcclxuICAgKiBTZWUgdGhlIGluZGl2aWR1YWwgbWV0aG9kcyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhbmQgZXhhbXBsZXMuXHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkcHJvdmlkZSNwcm92aWRlclxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogUmVnaXN0ZXIgYSAqKnByb3ZpZGVyIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIFByb3ZpZGVyIGZ1bmN0aW9uc1xyXG4gICAqIGFyZSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMsIHdob3NlIGluc3RhbmNlcyBhcmUgcmVzcG9uc2libGUgZm9yIFwicHJvdmlkaW5nXCIgYSBmYWN0b3J5IGZvciBhXHJcbiAgICogc2VydmljZS5cclxuICAgKlxyXG4gICAqIFNlcnZpY2UgcHJvdmlkZXIgbmFtZXMgc3RhcnQgd2l0aCB0aGUgbmFtZSBvZiB0aGUgc2VydmljZSB0aGV5IHByb3ZpZGUgZm9sbG93ZWQgYnkgYFByb3ZpZGVyYC5cclxuICAgKiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy4kbG9nICRsb2d9IHNlcnZpY2UgaGFzIGEgcHJvdmlkZXIgY2FsbGVkXHJcbiAgICoge0BsaW5rIG5nLiRsb2dQcm92aWRlciAkbG9nUHJvdmlkZXJ9LlxyXG4gICAqXHJcbiAgICogU2VydmljZSBwcm92aWRlciBvYmplY3RzIGNhbiBoYXZlIGFkZGl0aW9uYWwgbWV0aG9kcyB3aGljaCBhbGxvdyBjb25maWd1cmF0aW9uIG9mIHRoZSBwcm92aWRlclxyXG4gICAqIGFuZCBpdHMgc2VydmljZS4gSW1wb3J0YW50bHksIHlvdSBjYW4gY29uZmlndXJlIHdoYXQga2luZCBvZiBzZXJ2aWNlIGlzIGNyZWF0ZWQgYnkgdGhlIGAkZ2V0YFxyXG4gICAqIG1ldGhvZCwgb3IgaG93IHRoYXQgc2VydmljZSB3aWxsIGFjdC4gRm9yIGV4YW1wbGUsIHRoZSB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyICRsb2dQcm92aWRlcn0gaGFzIGFcclxuICAgKiBtZXRob2Qge0BsaW5rIG5nLiRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWQgZGVidWdFbmFibGVkfVxyXG4gICAqIHdoaWNoIGxldHMgeW91IHNwZWNpZnkgd2hldGhlciB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB3aWxsIGxvZyBkZWJ1ZyBtZXNzYWdlcyB0byB0aGVcclxuICAgKiBjb25zb2xlIG9yIG5vdC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS4gTk9URTogdGhlIHByb3ZpZGVyIHdpbGwgYmUgYXZhaWxhYmxlIHVuZGVyIGBuYW1lICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAnUHJvdmlkZXInYCBrZXkuXHJcbiAgICogQHBhcmFtIHsoT2JqZWN0fGZ1bmN0aW9uKCkpfSBwcm92aWRlciBJZiB0aGUgcHJvdmlkZXIgaXM6XHJcbiAgICpcclxuICAgKiAgIC0gYE9iamVjdGA6IHRoZW4gaXQgc2hvdWxkIGhhdmUgYSBgJGdldGAgbWV0aG9kLiBUaGUgYCRnZXRgIG1ldGhvZCB3aWxsIGJlIGludm9rZWQgdXNpbmdcclxuICAgKiAgICAge0BsaW5rIGF1dG8uJGluamVjdG9yI2ludm9rZSAkaW5qZWN0b3IuaW52b2tlKCl9IHdoZW4gYW4gaW5zdGFuY2UgbmVlZHMgdG8gYmUgY3JlYXRlZC5cclxuICAgKiAgIC0gYENvbnN0cnVjdG9yYDogYSBuZXcgaW5zdGFuY2Ugb2YgdGhlIHByb3ZpZGVyIHdpbGwgYmUgY3JlYXRlZCB1c2luZ1xyXG4gICAqICAgICB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW5zdGFudGlhdGUgJGluamVjdG9yLmluc3RhbnRpYXRlKCl9LCB0aGVuIHRyZWF0ZWQgYXMgYG9iamVjdGAuXHJcbiAgICpcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXHJcbiAgXHJcbiAgICogQGV4YW1wbGVcclxuICAgKlxyXG4gICAqIFRoZSBmb2xsb3dpbmcgZXhhbXBsZSBzaG93cyBob3cgdG8gY3JlYXRlIGEgc2ltcGxlIGV2ZW50IHRyYWNraW5nIHNlcnZpY2UgYW5kIHJlZ2lzdGVyIGl0IHVzaW5nXHJcbiAgICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjcHJvdmlkZXIgJHByb3ZpZGUucHJvdmlkZXIoKX0uXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqICAvLyBEZWZpbmUgdGhlIGV2ZW50VHJhY2tlciBwcm92aWRlclxyXG4gICAqICBmdW5jdGlvbiBFdmVudFRyYWNrZXJQcm92aWRlcigpIHtcclxuICAgKiAgICB2YXIgdHJhY2tpbmdVcmwgPSAnL3RyYWNrJztcclxuICAgKlxyXG4gICAqICAgIC8vIEEgcHJvdmlkZXIgbWV0aG9kIGZvciBjb25maWd1cmluZyB3aGVyZSB0aGUgdHJhY2tlZCBldmVudHMgc2hvdWxkIGJlZW4gc2F2ZWRcclxuICAgKiAgICB0aGlzLnNldFRyYWNraW5nVXJsID0gZnVuY3Rpb24odXJsKSB7XHJcbiAgICogICAgICB0cmFja2luZ1VybCA9IHVybDtcclxuICAgKiAgICB9O1xyXG4gICAqXHJcbiAgICogICAgLy8gVGhlIHNlcnZpY2UgZmFjdG9yeSBmdW5jdGlvblxyXG4gICAqICAgIHRoaXMuJGdldCA9IFsnJGh0dHAnLCBmdW5jdGlvbigkaHR0cCkge1xyXG4gICAqICAgICAgdmFyIHRyYWNrZWRFdmVudHMgPSB7fTtcclxuICAgKiAgICAgIHJldHVybiB7XHJcbiAgICogICAgICAgIC8vIENhbGwgdGhpcyB0byB0cmFjayBhbiBldmVudFxyXG4gICAqICAgICAgICBldmVudDogZnVuY3Rpb24oZXZlbnQpIHtcclxuICAgKiAgICAgICAgICB2YXIgY291bnQgPSB0cmFja2VkRXZlbnRzW2V2ZW50XSB8fCAwO1xyXG4gICAqICAgICAgICAgIGNvdW50ICs9IDE7XHJcbiAgICogICAgICAgICAgdHJhY2tlZEV2ZW50c1tldmVudF0gPSBjb3VudDtcclxuICAgKiAgICAgICAgICByZXR1cm4gY291bnQ7XHJcbiAgICogICAgICAgIH0sXHJcbiAgICogICAgICAgIC8vIENhbGwgdGhpcyB0byBzYXZlIHRoZSB0cmFja2VkIGV2ZW50cyB0byB0aGUgdHJhY2tpbmdVcmxcclxuICAgKiAgICAgICAgc2F2ZTogZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICAgICAgJGh0dHAucG9zdCh0cmFja2luZ1VybCwgdHJhY2tlZEV2ZW50cyk7XHJcbiAgICogICAgICAgIH1cclxuICAgKiAgICAgIH07XHJcbiAgICogICAgfV07XHJcbiAgICogIH1cclxuICAgKlxyXG4gICAqICBkZXNjcmliZSgnZXZlbnRUcmFja2VyJywgZnVuY3Rpb24oKSB7XHJcbiAgICogICAgdmFyIHBvc3RTcHk7XHJcbiAgICpcclxuICAgKiAgICBiZWZvcmVFYWNoKG1vZHVsZShmdW5jdGlvbigkcHJvdmlkZSkge1xyXG4gICAqICAgICAgLy8gUmVnaXN0ZXIgdGhlIGV2ZW50VHJhY2tlciBwcm92aWRlclxyXG4gICAqICAgICAgJHByb3ZpZGUucHJvdmlkZXIoJ2V2ZW50VHJhY2tlcicsIEV2ZW50VHJhY2tlclByb3ZpZGVyKTtcclxuICAgKiAgICB9KSk7XHJcbiAgICpcclxuICAgKiAgICBiZWZvcmVFYWNoKG1vZHVsZShmdW5jdGlvbihldmVudFRyYWNrZXJQcm92aWRlcikge1xyXG4gICAqICAgICAgLy8gQ29uZmlndXJlIGV2ZW50VHJhY2tlciBwcm92aWRlclxyXG4gICAqICAgICAgZXZlbnRUcmFja2VyUHJvdmlkZXIuc2V0VHJhY2tpbmdVcmwoJy9jdXN0b20tdHJhY2snKTtcclxuICAgKiAgICB9KSk7XHJcbiAgICpcclxuICAgKiAgICBpdCgndHJhY2tzIGV2ZW50cycsIGluamVjdChmdW5jdGlvbihldmVudFRyYWNrZXIpIHtcclxuICAgKiAgICAgIGV4cGVjdChldmVudFRyYWNrZXIuZXZlbnQoJ2xvZ2luJykpLnRvRXF1YWwoMSk7XHJcbiAgICogICAgICBleHBlY3QoZXZlbnRUcmFja2VyLmV2ZW50KCdsb2dpbicpKS50b0VxdWFsKDIpO1xyXG4gICAqICAgIH0pKTtcclxuICAgKlxyXG4gICAqICAgIGl0KCdzYXZlcyB0byB0aGUgdHJhY2tpbmcgdXJsJywgaW5qZWN0KGZ1bmN0aW9uKGV2ZW50VHJhY2tlciwgJGh0dHApIHtcclxuICAgKiAgICAgIHBvc3RTcHkgPSBzcHlPbigkaHR0cCwgJ3Bvc3QnKTtcclxuICAgKiAgICAgIGV2ZW50VHJhY2tlci5ldmVudCgnbG9naW4nKTtcclxuICAgKiAgICAgIGV2ZW50VHJhY2tlci5zYXZlKCk7XHJcbiAgICogICAgICBleHBlY3QocG9zdFNweSkudG9IYXZlQmVlbkNhbGxlZCgpO1xyXG4gICAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1swXSkubm90LnRvRXF1YWwoJy90cmFjaycpO1xyXG4gICAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1swXSkudG9FcXVhbCgnL2N1c3RvbS10cmFjaycpO1xyXG4gICAqICAgICAgZXhwZWN0KHBvc3RTcHkubW9zdFJlY2VudENhbGwuYXJnc1sxXSkudG9FcXVhbCh7ICdsb2dpbic6IDEgfSk7XHJcbiAgICogICAgfSkpO1xyXG4gICAqICB9KTtcclxuICAgKiBgYGBcclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRwcm92aWRlI2ZhY3RvcnlcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIFJlZ2lzdGVyIGEgKipzZXJ2aWNlIGZhY3RvcnkqKiwgd2hpY2ggd2lsbCBiZSBjYWxsZWQgdG8gcmV0dXJuIHRoZSBzZXJ2aWNlIGluc3RhbmNlLlxyXG4gICAqIFRoaXMgaXMgc2hvcnQgZm9yIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB3aGVyZSBpdHMgcHJvdmlkZXIgY29uc2lzdHMgb2Ygb25seSBhIGAkZ2V0YCBwcm9wZXJ0eSxcclxuICAgKiB3aGljaCBpcyB0aGUgZ2l2ZW4gc2VydmljZSBmYWN0b3J5IGZ1bmN0aW9uLlxyXG4gICAqIFlvdSBzaG91bGQgdXNlIHtAbGluayBhdXRvLiRwcm92aWRlI2ZhY3RvcnkgJHByb3ZpZGUuZmFjdG9yeShnZXRGbil9IGlmIHlvdSBkbyBub3QgbmVlZCB0b1xyXG4gICAqIGNvbmZpZ3VyZSB5b3VyIHNlcnZpY2UgaW4gYSBwcm92aWRlci5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSAkZ2V0Rm4gVGhlIGluamVjdGFibGUgJGdldEZuIGZvciB0aGUgaW5zdGFuY2UgY3JlYXRpb24uXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgSW50ZXJuYWxseSB0aGlzIGlzIGEgc2hvcnQgaGFuZCBmb3IgYCRwcm92aWRlLnByb3ZpZGVyKG5hbWUsIHskZ2V0OiAkZ2V0Rm59KWAuXHJcbiAgICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlXHJcbiAgICogYGBganNcclxuICAgKiAgICRwcm92aWRlLmZhY3RvcnkoJ3BpbmcnLCBbJyRodHRwJywgZnVuY3Rpb24oJGh0dHApIHtcclxuICAgKiAgICAgcmV0dXJuIGZ1bmN0aW9uIHBpbmcoKSB7XHJcbiAgICogICAgICAgcmV0dXJuICRodHRwLnNlbmQoJy9waW5nJyk7XHJcbiAgICogICAgIH07XHJcbiAgICogICB9XSk7XHJcbiAgICogYGBgXHJcbiAgICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgc29tZU1vZHVsZS5jb250cm9sbGVyKCdDdHJsJywgWydwaW5nJywgZnVuY3Rpb24ocGluZykge1xyXG4gICAqICAgICBwaW5nKCk7XHJcbiAgICogICB9XSk7XHJcbiAgICogYGBgXHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkcHJvdmlkZSNzZXJ2aWNlXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBSZWdpc3RlciBhICoqc2VydmljZSBjb25zdHJ1Y3RvcioqLCB3aGljaCB3aWxsIGJlIGludm9rZWQgd2l0aCBgbmV3YCB0byBjcmVhdGUgdGhlIHNlcnZpY2VcclxuICAgKiBpbnN0YW5jZS5cclxuICAgKiBUaGlzIGlzIHNob3J0IGZvciByZWdpc3RlcmluZyBhIHNlcnZpY2Ugd2hlcmUgaXRzIHByb3ZpZGVyJ3MgYCRnZXRgIHByb3BlcnR5IGlzIGEgZmFjdG9yeVxyXG4gICAqIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhbiBpbnN0YW5jZSBpbnN0YW50aWF0ZWQgYnkgdGhlIGluamVjdG9yIGZyb20gdGhlIHNlcnZpY2UgY29uc3RydWN0b3JcclxuICAgKiBmdW5jdGlvbi5cclxuICAgKlxyXG4gICAqIEludGVybmFsbHkgaXQgbG9va3MgYSBiaXQgbGlrZSB0aGlzOlxyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICoge1xyXG4gICAqICAgJGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICogICAgIHJldHVybiAkaW5qZWN0b3IuaW5zdGFudGlhdGUoY29uc3RydWN0b3IpO1xyXG4gICAqICAgfVxyXG4gICAqIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqXHJcbiAgICogWW91IHNob3VsZCB1c2Uge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0gaWYgeW91IGRlZmluZSB5b3VyIHNlcnZpY2VcclxuICAgKiBhcyBhIHR5cGUvY2xhc3MuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgaW5zdGFuY2UuXHJcbiAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheS48c3RyaW5nfEZ1bmN0aW9uPn0gY29uc3RydWN0b3IgQW4gaW5qZWN0YWJsZSBjbGFzcyAoY29uc3RydWN0b3IgZnVuY3Rpb24pXHJcbiAgICogICAgIHRoYXQgd2lsbCBiZSBpbnN0YW50aWF0ZWQuXHJcbiAgICogQHJldHVybnMge09iamVjdH0gcmVnaXN0ZXJlZCBwcm92aWRlciBpbnN0YW5jZVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBIZXJlIGlzIGFuIGV4YW1wbGUgb2YgcmVnaXN0ZXJpbmcgYSBzZXJ2aWNlIHVzaW5nXHJcbiAgICoge0BsaW5rIGF1dG8uJHByb3ZpZGUjc2VydmljZSAkcHJvdmlkZS5zZXJ2aWNlKGNsYXNzKX0uXHJcbiAgICogYGBganNcclxuICAgKiAgIHZhciBQaW5nID0gZnVuY3Rpb24oJGh0dHApIHtcclxuICAgKiAgICAgdGhpcy4kaHR0cCA9ICRodHRwO1xyXG4gICAqICAgfTtcclxuICAgKlxyXG4gICAqICAgUGluZy4kaW5qZWN0ID0gWyckaHR0cCddO1xyXG4gICAqXHJcbiAgICogICBQaW5nLnByb3RvdHlwZS5zZW5kID0gZnVuY3Rpb24oKSB7XHJcbiAgICogICAgIHJldHVybiB0aGlzLiRodHRwLmdldCgnL3BpbmcnKTtcclxuICAgKiAgIH07XHJcbiAgICogICAkcHJvdmlkZS5zZXJ2aWNlKCdwaW5nJywgUGluZyk7XHJcbiAgICogYGBgXHJcbiAgICogWW91IHdvdWxkIHRoZW4gaW5qZWN0IGFuZCB1c2UgdGhpcyBzZXJ2aWNlIGxpa2UgdGhpczpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgc29tZU1vZHVsZS5jb250cm9sbGVyKCdDdHJsJywgWydwaW5nJywgZnVuY3Rpb24ocGluZykge1xyXG4gICAqICAgICBwaW5nLnNlbmQoKTtcclxuICAgKiAgIH1dKTtcclxuICAgKiBgYGBcclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRwcm92aWRlI3ZhbHVlXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBSZWdpc3RlciBhICoqdmFsdWUgc2VydmljZSoqIHdpdGggdGhlIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9LCBzdWNoIGFzIGEgc3RyaW5nLCBhXHJcbiAgICogbnVtYmVyLCBhbiBhcnJheSwgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24uIFRoaXMgaXMgc2hvcnQgZm9yIHJlZ2lzdGVyaW5nIGEgc2VydmljZSB3aGVyZSBpdHNcclxuICAgKiBwcm92aWRlcidzIGAkZ2V0YCBwcm9wZXJ0eSBpcyBhIGZhY3RvcnkgZnVuY3Rpb24gdGhhdCB0YWtlcyBubyBhcmd1bWVudHMgYW5kIHJldHVybnMgdGhlICoqdmFsdWVcclxuICAgKiBzZXJ2aWNlKiouIFRoYXQgYWxzbyBtZWFucyBpdCBpcyBub3QgcG9zc2libGUgdG8gaW5qZWN0IG90aGVyIHNlcnZpY2VzIGludG8gYSB2YWx1ZSBzZXJ2aWNlLlxyXG4gICAqXHJcbiAgICogVmFsdWUgc2VydmljZXMgYXJlIHNpbWlsYXIgdG8gY29uc3RhbnQgc2VydmljZXMsIGV4Y2VwdCB0aGF0IHRoZXkgY2Fubm90IGJlIGluamVjdGVkIGludG8gYVxyXG4gICAqIG1vZHVsZSBjb25maWd1cmF0aW9uIGZ1bmN0aW9uIChzZWUge0BsaW5rIGFuZ3VsYXIuTW9kdWxlI2NvbmZpZ30pIGJ1dCB0aGV5IGNhbiBiZSBvdmVycmlkZGVuIGJ5XHJcbiAgICogYW4gQW5ndWxhciB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yfS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBpbnN0YW5jZS5cclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIHByb3ZpZGVyIGluc3RhbmNlXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIEhlcmUgYXJlIHNvbWUgZXhhbXBsZXMgb2YgY3JlYXRpbmcgdmFsdWUgc2VydmljZXMuXHJcbiAgICogYGBganNcclxuICAgKiAgICRwcm92aWRlLnZhbHVlKCdBRE1JTl9VU0VSJywgJ2FkbWluJyk7XHJcbiAgICpcclxuICAgKiAgICRwcm92aWRlLnZhbHVlKCdSb2xlTG9va3VwJywgeyBhZG1pbjogMCwgd3JpdGVyOiAxLCByZWFkZXI6IDIgfSk7XHJcbiAgICpcclxuICAgKiAgICRwcm92aWRlLnZhbHVlKCdoYWxmT2YnLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAqICAgICByZXR1cm4gdmFsdWUgLyAyO1xyXG4gICAqICAgfSk7XHJcbiAgICogYGBgXHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkcHJvdmlkZSNjb25zdGFudFxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogUmVnaXN0ZXIgYSAqKmNvbnN0YW50IHNlcnZpY2UqKiB3aXRoIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IgJGluamVjdG9yfSwgc3VjaCBhcyBhIHN0cmluZyxcclxuICAgKiBhIG51bWJlciwgYW4gYXJyYXksIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uLiBMaWtlIHRoZSB7QGxpbmsgYXV0by4kcHJvdmlkZSN2YWx1ZSB2YWx1ZX0sIGl0IGlzIG5vdFxyXG4gICAqIHBvc3NpYmxlIHRvIGluamVjdCBvdGhlciBzZXJ2aWNlcyBpbnRvIGEgY29uc3RhbnQuXHJcbiAgICpcclxuICAgKiBCdXQgdW5saWtlIHtAbGluayBhdXRvLiRwcm92aWRlI3ZhbHVlIHZhbHVlfSwgYSBjb25zdGFudCBjYW4gYmVcclxuICAgKiBpbmplY3RlZCBpbnRvIGEgbW9kdWxlIGNvbmZpZ3VyYXRpb24gZnVuY3Rpb24gKHNlZSB7QGxpbmsgYW5ndWxhci5Nb2R1bGUjY29uZmlnfSkgYW5kIGl0IGNhbm5vdFxyXG4gICAqIGJlIG92ZXJyaWRkZW4gYnkgYW4gQW5ndWxhciB7QGxpbmsgYXV0by4kcHJvdmlkZSNkZWNvcmF0b3IgZGVjb3JhdG9yfS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBjb25zdGFudC5cclxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSBjb25zdGFudCB2YWx1ZS5cclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSByZWdpc3RlcmVkIGluc3RhbmNlXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIEhlcmUgYSBzb21lIGV4YW1wbGVzIG9mIGNyZWF0aW5nIGNvbnN0YW50czpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgJHByb3ZpZGUuY29uc3RhbnQoJ1NIQVJEX0hFSUdIVCcsIDMwNik7XHJcbiAgICpcclxuICAgKiAgICRwcm92aWRlLmNvbnN0YW50KCdNWV9DT0xPVVJTJywgWydyZWQnLCAnYmx1ZScsICdncmV5J10pO1xyXG4gICAqXHJcbiAgICogICAkcHJvdmlkZS5jb25zdGFudCgnZG91YmxlJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgKiAgICAgcmV0dXJuIHZhbHVlICogMjtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgJHByb3ZpZGUjZGVjb3JhdG9yXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBSZWdpc3RlciBhICoqZGVjb3JhdG9yIGZ1bmN0aW9uKiogd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIEEgZGVjb3JhdG9yIGZ1bmN0aW9uXHJcbiAgICogaW50ZXJjZXB0cyB0aGUgY3JlYXRpb24gb2YgYSBzZXJ2aWNlLCBhbGxvd2luZyBpdCB0byBvdmVycmlkZSBvciBtb2RpZnkgdGhlIGJlaGF2aW9yIG9mIHRoZVxyXG4gICAqIHNlcnZpY2UuIFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGRlY29yYXRvciBmdW5jdGlvbiBtYXkgYmUgdGhlIG9yaWdpbmFsIHNlcnZpY2UsIG9yIGEgbmV3IHNlcnZpY2VcclxuICAgKiB0aGF0IHJlcGxhY2VzIChvciB3cmFwcyBhbmQgZGVsZWdhdGVzIHRvKSB0aGUgb3JpZ2luYWwgc2VydmljZS5cclxuICAgKlxyXG4gICAqIFlvdSBjYW4gZmluZCBvdXQgbW9yZSBhYm91dCB1c2luZyBkZWNvcmF0b3JzIGluIHRoZSB7QGxpbmsgZ3VpZGUvZGVjb3JhdG9yc30gZ3VpZGUuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBUaGUgbmFtZSBvZiB0aGUgc2VydmljZSB0byBkZWNvcmF0ZS5cclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufEFycmF5LjxzdHJpbmd8RnVuY3Rpb24+fSBkZWNvcmF0b3IgVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgc2VydmljZSBuZWVkcyB0byBiZVxyXG4gICAqICAgIHByb3ZpZGVkIGFuZCBzaG91bGQgcmV0dXJuIHRoZSBkZWNvcmF0ZWQgc2VydmljZSBpbnN0YW5jZS4gVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCB1c2luZ1xyXG4gICAqICAgIHRoZSB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdG9yLmludm9rZX0gbWV0aG9kIGFuZCBpcyB0aGVyZWZvcmUgZnVsbHkgaW5qZWN0YWJsZS5cclxuICAgKiAgICBMb2NhbCBpbmplY3Rpb24gYXJndW1lbnRzOlxyXG4gICAqXHJcbiAgICogICAgKiBgJGRlbGVnYXRlYCAtIFRoZSBvcmlnaW5hbCBzZXJ2aWNlIGluc3RhbmNlLCB3aGljaCBjYW4gYmUgcmVwbGFjZWQsIG1vbmtleSBwYXRjaGVkLCBjb25maWd1cmVkLFxyXG4gICAqICAgICAgZGVjb3JhdGVkIG9yIGRlbGVnYXRlZCB0by5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogSGVyZSB3ZSBkZWNvcmF0ZSB0aGUge0BsaW5rIG5nLiRsb2cgJGxvZ30gc2VydmljZSB0byBjb252ZXJ0IHdhcm5pbmdzIHRvIGVycm9ycyBieSBpbnRlcmNlcHRpbmdcclxuICAgKiBjYWxscyB0byB7QGxpbmsgbmcuJGxvZyNlcnJvciAkbG9nLndhcm4oKX0uXHJcbiAgICogYGBganNcclxuICAgKiAgICRwcm92aWRlLmRlY29yYXRvcignJGxvZycsIFsnJGRlbGVnYXRlJywgZnVuY3Rpb24oJGRlbGVnYXRlKSB7XHJcbiAgICogICAgICRkZWxlZ2F0ZS53YXJuID0gJGRlbGVnYXRlLmVycm9yO1xyXG4gICAqICAgICByZXR1cm4gJGRlbGVnYXRlO1xyXG4gICAqICAgfV0pO1xyXG4gICAqIGBgYFxyXG4gICAqL1xyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVJbmplY3Rvcihtb2R1bGVzVG9Mb2FkLCBzdHJpY3REaSkge1xyXG4gICAgc3RyaWN0RGkgPSBzdHJpY3REaSA9PT0gdHJ1ZTtcclxuICAgIHZhciBJTlNUQU5USUFUSU5HID0ge30sXHJcbiAgICAgICAgcHJvdmlkZXJTdWZmaXggPSAnUHJvdmlkZXInLFxyXG4gICAgICAgIHBhdGggPSBbXSxcclxuICAgICAgICBsb2FkZWRNb2R1bGVzID0gbmV3IE5nTWFwKCksXHJcbiAgICAgICAgcHJvdmlkZXJDYWNoZSA9IHtcclxuICAgICAgJHByb3ZpZGU6IHtcclxuICAgICAgICBwcm92aWRlcjogc3VwcG9ydE9iamVjdChwcm92aWRlciksXHJcbiAgICAgICAgZmFjdG9yeTogc3VwcG9ydE9iamVjdChmYWN0b3J5KSxcclxuICAgICAgICBzZXJ2aWNlOiBzdXBwb3J0T2JqZWN0KHNlcnZpY2UpLFxyXG4gICAgICAgIHZhbHVlOiBzdXBwb3J0T2JqZWN0KHZhbHVlKSxcclxuICAgICAgICBjb25zdGFudDogc3VwcG9ydE9iamVjdChjb25zdGFudCksXHJcbiAgICAgICAgZGVjb3JhdG9yOiBkZWNvcmF0b3JcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgICAgICBwcm92aWRlckluamVjdG9yID0gcHJvdmlkZXJDYWNoZS4kaW5qZWN0b3IgPSBjcmVhdGVJbnRlcm5hbEluamVjdG9yKHByb3ZpZGVyQ2FjaGUsIGZ1bmN0aW9uIChzZXJ2aWNlTmFtZSwgY2FsbGVyKSB7XHJcbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGNhbGxlcikpIHtcclxuICAgICAgICBwYXRoLnB1c2goY2FsbGVyKTtcclxuICAgICAgfVxyXG4gICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ3VucHInLCAnVW5rbm93biBwcm92aWRlcjogezB9JywgcGF0aC5qb2luKCcgPC0gJykpO1xyXG4gICAgfSksXHJcbiAgICAgICAgaW5zdGFuY2VDYWNoZSA9IHt9LFxyXG4gICAgICAgIHByb3RvSW5zdGFuY2VJbmplY3RvciA9IGNyZWF0ZUludGVybmFsSW5qZWN0b3IoaW5zdGFuY2VDYWNoZSwgZnVuY3Rpb24gKHNlcnZpY2VOYW1lLCBjYWxsZXIpIHtcclxuICAgICAgdmFyIHByb3ZpZGVyID0gcHJvdmlkZXJJbmplY3Rvci5nZXQoc2VydmljZU5hbWUgKyBwcm92aWRlclN1ZmZpeCwgY2FsbGVyKTtcclxuICAgICAgcmV0dXJuIGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKHByb3ZpZGVyLiRnZXQsIHByb3ZpZGVyLCB1bmRlZmluZWQsIHNlcnZpY2VOYW1lKTtcclxuICAgIH0pLFxyXG4gICAgICAgIGluc3RhbmNlSW5qZWN0b3IgPSBwcm90b0luc3RhbmNlSW5qZWN0b3I7XHJcblxyXG4gICAgcHJvdmlkZXJDYWNoZVsnJGluamVjdG9yJyArIHByb3ZpZGVyU3VmZml4XSA9IHsgJGdldDogdmFsdWVGbihwcm90b0luc3RhbmNlSW5qZWN0b3IpIH07XHJcbiAgICBpbnN0YW5jZUluamVjdG9yLm1vZHVsZXMgPSBwcm92aWRlckluamVjdG9yLm1vZHVsZXMgPSBjcmVhdGVNYXAoKTtcclxuICAgIHZhciBydW5CbG9ja3MgPSBsb2FkTW9kdWxlcyhtb2R1bGVzVG9Mb2FkKTtcclxuICAgIGluc3RhbmNlSW5qZWN0b3IgPSBwcm90b0luc3RhbmNlSW5qZWN0b3IuZ2V0KCckaW5qZWN0b3InKTtcclxuICAgIGluc3RhbmNlSW5qZWN0b3Iuc3RyaWN0RGkgPSBzdHJpY3REaTtcclxuICAgIGZvckVhY2gocnVuQmxvY2tzLCBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgaWYgKGZuKSBpbnN0YW5jZUluamVjdG9yLmludm9rZShmbik7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gaW5zdGFuY2VJbmplY3RvcjtcclxuXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vICRwcm92aWRlclxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgZnVuY3Rpb24gc3VwcG9ydE9iamVjdChkZWxlZ2F0ZSkge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcclxuICAgICAgICBpZiAoaXNPYmplY3Qoa2V5KSkge1xyXG4gICAgICAgICAgZm9yRWFjaChrZXksIHJldmVyc2VQYXJhbXMoZGVsZWdhdGUpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmV0dXJuIGRlbGVnYXRlKGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcm92aWRlcihuYW1lLCBwcm92aWRlcl8pIHtcclxuICAgICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ3NlcnZpY2UnKTtcclxuICAgICAgaWYgKGlzRnVuY3Rpb24ocHJvdmlkZXJfKSB8fCBpc0FycmF5KHByb3ZpZGVyXykpIHtcclxuICAgICAgICBwcm92aWRlcl8gPSBwcm92aWRlckluamVjdG9yLmluc3RhbnRpYXRlKHByb3ZpZGVyXyk7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFwcm92aWRlcl8uJGdldCkge1xyXG4gICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigncGdldCcsICdQcm92aWRlciBcXCd7MH1cXCcgbXVzdCBkZWZpbmUgJGdldCBmYWN0b3J5IG1ldGhvZC4nLCBuYW1lKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcHJvdmlkZXJDYWNoZVtuYW1lICsgcHJvdmlkZXJTdWZmaXhdID0gcHJvdmlkZXJfO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGVuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLCBmYWN0b3J5KSB7XHJcbiAgICAgIHJldHVybiAoLyoqIEB0aGlzICovZnVuY3Rpb24gZW5mb3JjZWRSZXR1cm5WYWx1ZSgpIHtcclxuICAgICAgICAgIHZhciByZXN1bHQgPSBpbnN0YW5jZUluamVjdG9yLmludm9rZShmYWN0b3J5LCB0aGlzKTtcclxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChyZXN1bHQpKSB7XHJcbiAgICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycigndW5kZWYnLCAnUHJvdmlkZXIgXFwnezB9XFwnIG11c3QgcmV0dXJuIGEgdmFsdWUgZnJvbSAkZ2V0IGZhY3RvcnkgbWV0aG9kLicsIG5hbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmFjdG9yeShuYW1lLCBmYWN0b3J5Rm4sIGVuZm9yY2UpIHtcclxuICAgICAgcmV0dXJuIHByb3ZpZGVyKG5hbWUsIHtcclxuICAgICAgICAkZ2V0OiBlbmZvcmNlICE9PSBmYWxzZSA/IGVuZm9yY2VSZXR1cm5WYWx1ZShuYW1lLCBmYWN0b3J5Rm4pIDogZmFjdG9yeUZuXHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlcnZpY2UobmFtZSwgY29uc3RydWN0b3IpIHtcclxuICAgICAgcmV0dXJuIGZhY3RvcnkobmFtZSwgWyckaW5qZWN0b3InLCBmdW5jdGlvbiAoJGluamVjdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuICRpbmplY3Rvci5pbnN0YW50aWF0ZShjb25zdHJ1Y3Rvcik7XHJcbiAgICAgIH1dKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB2YWx1ZShuYW1lLCB2YWwpIHtcclxuICAgICAgcmV0dXJuIGZhY3RvcnkobmFtZSwgdmFsdWVGbih2YWwpLCBmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gY29uc3RhbnQobmFtZSwgdmFsdWUpIHtcclxuICAgICAgYXNzZXJ0Tm90SGFzT3duUHJvcGVydHkobmFtZSwgJ2NvbnN0YW50Jyk7XHJcbiAgICAgIHByb3ZpZGVyQ2FjaGVbbmFtZV0gPSB2YWx1ZTtcclxuICAgICAgaW5zdGFuY2VDYWNoZVtuYW1lXSA9IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGRlY29yYXRvcihzZXJ2aWNlTmFtZSwgZGVjb3JGbikge1xyXG4gICAgICB2YXIgb3JpZ1Byb3ZpZGVyID0gcHJvdmlkZXJJbmplY3Rvci5nZXQoc2VydmljZU5hbWUgKyBwcm92aWRlclN1ZmZpeCksXHJcbiAgICAgICAgICBvcmlnJGdldCA9IG9yaWdQcm92aWRlci4kZ2V0O1xyXG5cclxuICAgICAgb3JpZ1Byb3ZpZGVyLiRnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG9yaWdJbnN0YW5jZSA9IGluc3RhbmNlSW5qZWN0b3IuaW52b2tlKG9yaWckZ2V0LCBvcmlnUHJvdmlkZXIpO1xyXG4gICAgICAgIHJldHVybiBpbnN0YW5jZUluamVjdG9yLmludm9rZShkZWNvckZuLCBudWxsLCB7ICRkZWxlZ2F0ZTogb3JpZ0luc3RhbmNlIH0pO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgLy8gTW9kdWxlIExvYWRpbmdcclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgZnVuY3Rpb24gbG9hZE1vZHVsZXMobW9kdWxlc1RvTG9hZCkge1xyXG4gICAgICBhc3NlcnRBcmcoaXNVbmRlZmluZWQobW9kdWxlc1RvTG9hZCkgfHwgaXNBcnJheShtb2R1bGVzVG9Mb2FkKSwgJ21vZHVsZXNUb0xvYWQnLCAnbm90IGFuIGFycmF5Jyk7XHJcbiAgICAgIHZhciBydW5CbG9ja3MgPSBbXSxcclxuICAgICAgICAgIG1vZHVsZUZuO1xyXG4gICAgICBmb3JFYWNoKG1vZHVsZXNUb0xvYWQsIGZ1bmN0aW9uIChtb2R1bGUpIHtcclxuICAgICAgICBpZiAobG9hZGVkTW9kdWxlcy5nZXQobW9kdWxlKSkgcmV0dXJuO1xyXG4gICAgICAgIGxvYWRlZE1vZHVsZXMuc2V0KG1vZHVsZSwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJ1bkludm9rZVF1ZXVlKHF1ZXVlKSB7XHJcbiAgICAgICAgICB2YXIgaSwgaWk7XHJcbiAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHF1ZXVlLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGludm9rZUFyZ3MgPSBxdWV1ZVtpXSxcclxuICAgICAgICAgICAgICAgIHByb3ZpZGVyID0gcHJvdmlkZXJJbmplY3Rvci5nZXQoaW52b2tlQXJnc1swXSk7XHJcblxyXG4gICAgICAgICAgICBwcm92aWRlcltpbnZva2VBcmdzWzFdXS5hcHBseShwcm92aWRlciwgaW52b2tlQXJnc1syXSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgaWYgKGlzU3RyaW5nKG1vZHVsZSkpIHtcclxuICAgICAgICAgICAgbW9kdWxlRm4gPSBhbmd1bGFyTW9kdWxlKG1vZHVsZSk7XHJcbiAgICAgICAgICAgIGluc3RhbmNlSW5qZWN0b3IubW9kdWxlc1ttb2R1bGVdID0gbW9kdWxlRm47XHJcbiAgICAgICAgICAgIHJ1bkJsb2NrcyA9IHJ1bkJsb2Nrcy5jb25jYXQobG9hZE1vZHVsZXMobW9kdWxlRm4ucmVxdWlyZXMpKS5jb25jYXQobW9kdWxlRm4uX3J1bkJsb2Nrcyk7XHJcbiAgICAgICAgICAgIHJ1bkludm9rZVF1ZXVlKG1vZHVsZUZuLl9pbnZva2VRdWV1ZSk7XHJcbiAgICAgICAgICAgIHJ1bkludm9rZVF1ZXVlKG1vZHVsZUZuLl9jb25maWdCbG9ja3MpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmIChpc0Z1bmN0aW9uKG1vZHVsZSkpIHtcclxuICAgICAgICAgICAgcnVuQmxvY2tzLnB1c2gocHJvdmlkZXJJbmplY3Rvci5pbnZva2UobW9kdWxlKSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzQXJyYXkobW9kdWxlKSkge1xyXG4gICAgICAgICAgICBydW5CbG9ja3MucHVzaChwcm92aWRlckluamVjdG9yLmludm9rZShtb2R1bGUpKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGFzc2VydEFyZ0ZuKG1vZHVsZSwgJ21vZHVsZScpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIGlmIChpc0FycmF5KG1vZHVsZSkpIHtcclxuICAgICAgICAgICAgbW9kdWxlID0gbW9kdWxlW21vZHVsZS5sZW5ndGggLSAxXTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChlLm1lc3NhZ2UgJiYgZS5zdGFjayAmJiBlLnN0YWNrLmluZGV4T2YoZS5tZXNzYWdlKSA9PT0gLTEpIHtcclxuICAgICAgICAgICAgLy8gU2FmYXJpICYgRkYncyBzdGFjayB0cmFjZXMgZG9uJ3QgY29udGFpbiBlcnJvci5tZXNzYWdlIGNvbnRlbnRcclxuICAgICAgICAgICAgLy8gdW5saWtlIHRob3NlIG9mIENocm9tZSBhbmQgSUVcclxuICAgICAgICAgICAgLy8gU28gaWYgc3RhY2sgZG9lc24ndCBjb250YWluIG1lc3NhZ2UsIHdlIGNyZWF0ZSBhIG5ldyBzdHJpbmcgdGhhdCBjb250YWlucyBib3RoLlxyXG4gICAgICAgICAgICAvLyBTaW5jZSBlcnJvci5zdGFjayBpcyByZWFkLW9ubHkgaW4gU2FmYXJpLCBJJ20gb3ZlcnJpZGluZyBlIGFuZCBub3QgZS5zdGFjayBoZXJlLlxyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZXgtYXNzaWduXHJcbiAgICAgICAgICAgIGUgPSBlLm1lc3NhZ2UgKyAnXFxuJyArIGUuc3RhY2s7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ21vZHVsZXJyJywgJ0ZhaWxlZCB0byBpbnN0YW50aWF0ZSBtb2R1bGUgezB9IGR1ZSB0bzpcXG57MX0nLCBtb2R1bGUsIGUuc3RhY2sgfHwgZS5tZXNzYWdlIHx8IGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIHJldHVybiBydW5CbG9ja3M7XHJcbiAgICB9XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvLyBpbnRlcm5hbCBJbmplY3RvclxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gICAgZnVuY3Rpb24gY3JlYXRlSW50ZXJuYWxJbmplY3RvcihjYWNoZSwgZmFjdG9yeSkge1xyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0U2VydmljZShzZXJ2aWNlTmFtZSwgY2FsbGVyKSB7XHJcbiAgICAgICAgaWYgKGNhY2hlLmhhc093blByb3BlcnR5KHNlcnZpY2VOYW1lKSkge1xyXG4gICAgICAgICAgaWYgKGNhY2hlW3NlcnZpY2VOYW1lXSA9PT0gSU5TVEFOVElBVElORykge1xyXG4gICAgICAgICAgICB0aHJvdyAkaW5qZWN0b3JNaW5FcnIoJ2NkZXAnLCAnQ2lyY3VsYXIgZGVwZW5kZW5jeSBmb3VuZDogezB9Jywgc2VydmljZU5hbWUgKyAnIDwtICcgKyBwYXRoLmpvaW4oJyA8LSAnKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBwYXRoLnVuc2hpZnQoc2VydmljZU5hbWUpO1xyXG4gICAgICAgICAgICBjYWNoZVtzZXJ2aWNlTmFtZV0gPSBJTlNUQU5USUFUSU5HO1xyXG4gICAgICAgICAgICBjYWNoZVtzZXJ2aWNlTmFtZV0gPSBmYWN0b3J5KHNlcnZpY2VOYW1lLCBjYWxsZXIpO1xyXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVbc2VydmljZU5hbWVdO1xyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIGlmIChjYWNoZVtzZXJ2aWNlTmFtZV0gPT09IElOU1RBTlRJQVRJTkcpIHtcclxuICAgICAgICAgICAgICBkZWxldGUgY2FjaGVbc2VydmljZU5hbWVdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IGVycjtcclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHBhdGguc2hpZnQoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGluamVjdGlvbkFyZ3MoZm4sIGxvY2Fscywgc2VydmljZU5hbWUpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdLFxyXG4gICAgICAgICAgICAkaW5qZWN0ID0gY3JlYXRlSW5qZWN0b3IuJCRhbm5vdGF0ZShmbiwgc3RyaWN0RGksIHNlcnZpY2VOYW1lKTtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9ICRpbmplY3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIHZhciBrZXkgPSAkaW5qZWN0W2ldO1xyXG4gICAgICAgICAgaWYgKHR5cGVvZiBrZXkgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIHRocm93ICRpbmplY3Rvck1pbkVycignaXRrbicsICdJbmNvcnJlY3QgaW5qZWN0aW9uIHRva2VuISBFeHBlY3RlZCBzZXJ2aWNlIG5hbWUgYXMgc3RyaW5nLCBnb3QgezB9Jywga2V5KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGFyZ3MucHVzaChsb2NhbHMgJiYgbG9jYWxzLmhhc093blByb3BlcnR5KGtleSkgPyBsb2NhbHNba2V5XSA6IGdldFNlcnZpY2Uoa2V5LCBzZXJ2aWNlTmFtZSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXJncztcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaXNDbGFzcyhmdW5jKSB7XHJcbiAgICAgICAgLy8gU3VwcG9ydDogSUUgOS0xMSBvbmx5XHJcbiAgICAgICAgLy8gSUUgOS0xMSBkbyBub3Qgc3VwcG9ydCBjbGFzc2VzIGFuZCBJRTkgbGVha3Mgd2l0aCB0aGUgY29kZSBiZWxvdy5cclxuICAgICAgICBpZiAobXNpZSB8fCB0eXBlb2YgZnVuYyAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgcmVzdWx0ID0gZnVuYy4kJG5nSXNDbGFzcztcclxuICAgICAgICBpZiAoIWlzQm9vbGVhbihyZXN1bHQpKSB7XHJcbiAgICAgICAgICAvLyBTdXBwb3J0OiBFZGdlIDEyLTEzIG9ubHlcclxuICAgICAgICAgIC8vIFNlZTogaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9pc3N1ZXMvNjE1NjEzNS9cclxuICAgICAgICAgIHJlc3VsdCA9IGZ1bmMuJCRuZ0lzQ2xhc3MgPSAvXig/OmNsYXNzXFxifGNvbnN0cnVjdG9yXFwoKS8udGVzdChzdHJpbmdpZnlGbihmdW5jKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGludm9rZShmbiwgc2VsZiwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgbG9jYWxzID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgc2VydmljZU5hbWUgPSBsb2NhbHM7XHJcbiAgICAgICAgICBsb2NhbHMgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGFyZ3MgPSBpbmplY3Rpb25BcmdzKGZuLCBsb2NhbHMsIHNlcnZpY2VOYW1lKTtcclxuICAgICAgICBpZiAoaXNBcnJheShmbikpIHtcclxuICAgICAgICAgIGZuID0gZm5bZm4ubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzQ2xhc3MoZm4pKSB7XHJcbiAgICAgICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9hbmd1bGFyanMtaW52b2tlLWFwcGx5LXZzLXN3aXRjaFxyXG4gICAgICAgICAgLy8gIzUzODhcclxuICAgICAgICAgIHJldHVybiBmbi5hcHBseShzZWxmLCBhcmdzKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXJncy51bnNoaWZ0KG51bGwpO1xyXG4gICAgICAgICAgcmV0dXJuIG5ldyAoRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQuYXBwbHkoZm4sIGFyZ3MpKSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaW5zdGFudGlhdGUoVHlwZSwgbG9jYWxzLCBzZXJ2aWNlTmFtZSkge1xyXG4gICAgICAgIC8vIENoZWNrIGlmIFR5cGUgaXMgYW5ub3RhdGVkIGFuZCB1c2UganVzdCB0aGUgZ2l2ZW4gZnVuY3Rpb24gYXQgbi0xIGFzIHBhcmFtZXRlclxyXG4gICAgICAgIC8vIGUuZy4gc29tZU1vZHVsZS5mYWN0b3J5KCdncmVldGVyJywgWyckd2luZG93JywgZnVuY3Rpb24ocmVuYW1lZCR3aW5kb3cpIHt9XSk7XHJcbiAgICAgICAgdmFyIGN0b3IgPSBpc0FycmF5KFR5cGUpID8gVHlwZVtUeXBlLmxlbmd0aCAtIDFdIDogVHlwZTtcclxuICAgICAgICB2YXIgYXJncyA9IGluamVjdGlvbkFyZ3MoVHlwZSwgbG9jYWxzLCBzZXJ2aWNlTmFtZSk7XHJcbiAgICAgICAgLy8gRW1wdHkgb2JqZWN0IGF0IHBvc2l0aW9uIDAgaXMgaWdub3JlZCBmb3IgaW52b2NhdGlvbiB3aXRoIGBuZXdgLCBidXQgcmVxdWlyZWQuXHJcbiAgICAgICAgYXJncy51bnNoaWZ0KG51bGwpO1xyXG4gICAgICAgIHJldHVybiBuZXcgKEZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLmFwcGx5KGN0b3IsIGFyZ3MpKSgpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGludm9rZTogaW52b2tlLFxyXG4gICAgICAgIGluc3RhbnRpYXRlOiBpbnN0YW50aWF0ZSxcclxuICAgICAgICBnZXQ6IGdldFNlcnZpY2UsXHJcbiAgICAgICAgYW5ub3RhdGU6IGNyZWF0ZUluamVjdG9yLiQkYW5ub3RhdGUsXHJcbiAgICAgICAgaGFzOiBmdW5jdGlvbiBoYXMobmFtZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHByb3ZpZGVyQ2FjaGUuaGFzT3duUHJvcGVydHkobmFtZSArIHByb3ZpZGVyU3VmZml4KSB8fCBjYWNoZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjcmVhdGVJbmplY3Rvci4kJGFubm90YXRlID0gYW5ub3RhdGU7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm92aWRlclxyXG4gICAqIEBuYW1lICRhbmNob3JTY3JvbGxQcm92aWRlclxyXG4gICAqIEB0aGlzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBVc2UgYCRhbmNob3JTY3JvbGxQcm92aWRlcmAgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nIHdoZW5ldmVyXHJcbiAgICoge0BsaW5rIG5nLiRsb2NhdGlvbiNoYXNoICRsb2NhdGlvbi5oYXNoKCl9IGNoYW5nZXMuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gJEFuY2hvclNjcm9sbFByb3ZpZGVyKCkge1xyXG5cclxuICAgIHZhciBhdXRvU2Nyb2xsaW5nRW5hYmxlZCA9IHRydWU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkYW5jaG9yU2Nyb2xsUHJvdmlkZXIjZGlzYWJsZUF1dG9TY3JvbGxpbmdcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIEJ5IGRlZmF1bHQsIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsICRhbmNob3JTY3JvbGwoKX0gd2lsbCBhdXRvbWF0aWNhbGx5IGRldGVjdCBjaGFuZ2VzIHRvXHJcbiAgICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gYW5kIHNjcm9sbCB0byB0aGUgZWxlbWVudCBtYXRjaGluZyB0aGUgbmV3IGhhc2guPGJyIC8+XHJcbiAgICAgKiBVc2UgdGhpcyBtZXRob2QgdG8gZGlzYWJsZSBhdXRvbWF0aWMgc2Nyb2xsaW5nLlxyXG4gICAgICpcclxuICAgICAqIElmIGF1dG9tYXRpYyBzY3JvbGxpbmcgaXMgZGlzYWJsZWQsIG9uZSBtdXN0IGV4cGxpY2l0bHkgY2FsbFxyXG4gICAgICoge0BsaW5rIG5nLiRhbmNob3JTY3JvbGwgJGFuY2hvclNjcm9sbCgpfSBpbiBvcmRlciB0byBzY3JvbGwgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGVcclxuICAgICAqIGN1cnJlbnQgaGFzaC5cclxuICAgICAqL1xyXG4gICAgdGhpcy5kaXNhYmxlQXV0b1Njcm9sbGluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgYXV0b1Njcm9sbGluZ0VuYWJsZWQgPSBmYWxzZTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAgICogQG5hbWUgJGFuY2hvclNjcm9sbFxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqIEByZXF1aXJlcyAkd2luZG93XHJcbiAgICAgKiBAcmVxdWlyZXMgJGxvY2F0aW9uXHJcbiAgICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogV2hlbiBjYWxsZWQsIGl0IHNjcm9sbHMgdG8gdGhlIGVsZW1lbnQgcmVsYXRlZCB0byB0aGUgc3BlY2lmaWVkIGBoYXNoYCBvciAoaWYgb21pdHRlZCkgdG8gdGhlXHJcbiAgICAgKiBjdXJyZW50IHZhbHVlIG9mIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSwgYWNjb3JkaW5nIHRvIHRoZSBydWxlcyBzcGVjaWZpZWRcclxuICAgICAqIGluIHRoZVxyXG4gICAgICogW0hUTUw1IHNwZWNdKGh0dHA6Ly93d3cudzMub3JnL2h0bWwvd2cvZHJhZnRzL2h0bWwvbWFzdGVyL2Jyb3dzZXJzLmh0bWwjYW4taW5kaWNhdGVkLXBhcnQtb2YtdGhlLWRvY3VtZW50KS5cclxuICAgICAqXHJcbiAgICAgKiBJdCBhbHNvIHdhdGNoZXMgdGhlIHtAbGluayBuZy4kbG9jYXRpb24jaGFzaCAkbG9jYXRpb24uaGFzaCgpfSBhbmQgYXV0b21hdGljYWxseSBzY3JvbGxzIHRvXHJcbiAgICAgKiBtYXRjaCBhbnkgYW5jaG9yIHdoZW5ldmVyIGl0IGNoYW5nZXMuIFRoaXMgY2FuIGJlIGRpc2FibGVkIGJ5IGNhbGxpbmdcclxuICAgICAqIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsUHJvdmlkZXIjZGlzYWJsZUF1dG9TY3JvbGxpbmcgJGFuY2hvclNjcm9sbFByb3ZpZGVyLmRpc2FibGVBdXRvU2Nyb2xsaW5nKCl9LlxyXG4gICAgICpcclxuICAgICAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiB1c2UgaXRzIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsI3lPZmZzZXQgeU9mZnNldH0gcHJvcGVydHkgdG8gc3BlY2lmeSBhXHJcbiAgICAgKiB2ZXJ0aWNhbCBzY3JvbGwtb2Zmc2V0IChlaXRoZXIgZml4ZWQgb3IgZHluYW1pYykuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBoYXNoIFRoZSBoYXNoIHNwZWNpZnlpbmcgdGhlIGVsZW1lbnQgdG8gc2Nyb2xsIHRvLiBJZiBvbWl0dGVkLCB0aGUgdmFsdWUgb2ZcclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICB7QGxpbmsgbmcuJGxvY2F0aW9uI2hhc2ggJGxvY2F0aW9uLmhhc2goKX0gd2lsbCBiZSB1c2VkLlxyXG4gICAgICpcclxuICAgICAqIEBwcm9wZXJ0eSB7KG51bWJlcnxmdW5jdGlvbnxqcUxpdGUpfSB5T2Zmc2V0XHJcbiAgICAgKiBJZiBzZXQsIHNwZWNpZmllcyBhIHZlcnRpY2FsIHNjcm9sbC1vZmZzZXQuIFRoaXMgaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gdGhlcmUgYXJlIGZpeGVkXHJcbiAgICAgKiBwb3NpdGlvbmVkIGVsZW1lbnRzIGF0IHRoZSB0b3Agb2YgdGhlIHBhZ2UsIHN1Y2ggYXMgbmF2YmFycywgaGVhZGVycyBldGMuXHJcbiAgICAgKlxyXG4gICAgICogYHlPZmZzZXRgIGNhbiBiZSBzcGVjaWZpZWQgaW4gdmFyaW91cyB3YXlzOlxyXG4gICAgICogLSAqKm51bWJlcioqOiBBIGZpeGVkIG51bWJlciBvZiBwaXhlbHMgdG8gYmUgdXNlZCBhcyBvZmZzZXQuPGJyIC8+PGJyIC8+XHJcbiAgICAgKiAtICoqZnVuY3Rpb24qKjogQSBnZXR0ZXIgZnVuY3Rpb24gY2FsbGVkIGV2ZXJ5dGltZSBgJGFuY2hvclNjcm9sbCgpYCBpcyBleGVjdXRlZC4gTXVzdCByZXR1cm5cclxuICAgICAqICAgYSBudW1iZXIgcmVwcmVzZW50aW5nIHRoZSBvZmZzZXQgKGluIHBpeGVscykuPGJyIC8+PGJyIC8+XHJcbiAgICAgKiAtICoqanFMaXRlKio6IEEganFMaXRlL2pRdWVyeSBlbGVtZW50IHRvIGJlIHVzZWQgZm9yIHNwZWNpZnlpbmcgdGhlIG9mZnNldC4gVGhlIGRpc3RhbmNlIGZyb21cclxuICAgICAqICAgdGhlIHRvcCBvZiB0aGUgcGFnZSB0byB0aGUgZWxlbWVudCdzIGJvdHRvbSB3aWxsIGJlIHVzZWQgYXMgb2Zmc2V0LjxiciAvPlxyXG4gICAgICogICAqKk5vdGUqKjogVGhlIGVsZW1lbnQgd2lsbCBiZSB0YWtlbiBpbnRvIGFjY291bnQgb25seSBhcyBsb25nIGFzIGl0cyBgcG9zaXRpb25gIGlzIHNldCB0b1xyXG4gICAgICogICBgZml4ZWRgLiBUaGlzIG9wdGlvbiBpcyB1c2VmdWwsIHdoZW4gZGVhbGluZyB3aXRoIHJlc3BvbnNpdmUgbmF2YmFycy9oZWFkZXJzIHRoYXQgYWRqdXN0XHJcbiAgICAgKiAgIHRoZWlyIGhlaWdodCBhbmQvb3IgcG9zaXRpb25pbmcgYWNjb3JkaW5nIHRvIHRoZSB2aWV3cG9ydCdzIHNpemUuXHJcbiAgICAgKlxyXG4gICAgICogPGJyIC8+XHJcbiAgICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAgICogSW4gb3JkZXIgZm9yIGB5T2Zmc2V0YCB0byB3b3JrIHByb3Blcmx5LCBzY3JvbGxpbmcgc2hvdWxkIHRha2UgcGxhY2Ugb24gdGhlIGRvY3VtZW50J3Mgcm9vdCBhbmRcclxuICAgICAqIG5vdCBzb21lIGNoaWxkIGVsZW1lbnQuXHJcbiAgICAgKiA8L2Rpdj5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYW5jaG9yU2Nyb2xsRXhhbXBsZVwiIG5hbWU9XCJhbmNob3Itc2Nyb2xsXCI+XHJcbiAgICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgICAgPGRpdiBpZD1cInNjcm9sbEFyZWFcIiBuZy1jb250cm9sbGVyPVwiU2Nyb2xsQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgICAgPGEgbmctY2xpY2s9XCJnb3RvQm90dG9tKClcIj5HbyB0byBib3R0b208L2E+XHJcbiAgICAgICAgICAgICA8YSBpZD1cImJvdHRvbVwiPjwvYT4gWW91J3JlIGF0IHRoZSBib3R0b20hXHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgIDwvZmlsZT5cclxuICAgICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdhbmNob3JTY3JvbGxFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignU2Nyb2xsQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRsb2NhdGlvbicsICckYW5jaG9yU2Nyb2xsJyxcclxuICAgICAgICAgICAgICAgZnVuY3Rpb24oJHNjb3BlLCAkbG9jYXRpb24sICRhbmNob3JTY3JvbGwpIHtcclxuICAgICAgICAgICAgICAgICAkc2NvcGUuZ290b0JvdHRvbSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBsb2NhdGlvbi5oYXNoIHRvIHRoZSBpZCBvZlxyXG4gICAgICAgICAgICAgICAgICAgLy8gdGhlIGVsZW1lbnQgeW91IHdpc2ggdG8gc2Nyb2xsIHRvLlxyXG4gICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2JvdHRvbScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAvLyBjYWxsICRhbmNob3JTY3JvbGwoKVxyXG4gICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgPC9maWxlPlxyXG4gICAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgICAgI3Njcm9sbEFyZWEge1xyXG4gICAgICAgICAgICAgaGVpZ2h0OiAyODBweDtcclxuICAgICAgICAgICAgIG92ZXJmbG93OiBhdXRvO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgICAgICNib3R0b20ge1xyXG4gICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICAgICAgICAgICBtYXJnaW4tdG9wOiAyMDAwcHg7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8L2V4YW1wbGU+XHJcbiAgICAgKlxyXG4gICAgICogPGhyIC8+XHJcbiAgICAgKiBUaGUgZXhhbXBsZSBiZWxvdyBpbGx1c3RyYXRlcyB0aGUgdXNlIG9mIGEgdmVydGljYWwgc2Nyb2xsLW9mZnNldCAoc3BlY2lmaWVkIGFzIGEgZml4ZWQgdmFsdWUpLlxyXG4gICAgICogU2VlIHtAbGluayBuZy4kYW5jaG9yU2Nyb2xsI3lPZmZzZXQgJGFuY2hvclNjcm9sbC55T2Zmc2V0fSBmb3IgbW9yZSBkZXRhaWxzLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgICA8ZXhhbXBsZSBtb2R1bGU9XCJhbmNob3JTY3JvbGxPZmZzZXRFeGFtcGxlXCIgbmFtZT1cImFuY2hvci1zY3JvbGwtb2Zmc2V0XCI+XHJcbiAgICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpeGVkLWhlYWRlclwiIG5nLWNvbnRyb2xsZXI9XCJoZWFkZXJDdHJsXCI+XHJcbiAgICAgICAgICAgICA8YSBocmVmPVwiXCIgbmctY2xpY2s9XCJnb3RvQW5jaG9yKHgpXCIgbmctcmVwZWF0PVwieCBpbiBbMSwyLDMsNCw1XVwiPlxyXG4gICAgICAgICAgICAgICBHbyB0byBhbmNob3Ige3t4fX1cclxuICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICA8ZGl2IGlkPVwiYW5jaG9ye3t4fX1cIiBjbGFzcz1cImFuY2hvclwiIG5nLXJlcGVhdD1cInggaW4gWzEsMiwzLDQsNV1cIj5cclxuICAgICAgICAgICAgIEFuY2hvciB7e3h9fSBvZiA1XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgIDwvZmlsZT5cclxuICAgICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdhbmNob3JTY3JvbGxPZmZzZXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAucnVuKFsnJGFuY2hvclNjcm9sbCcsIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwpIHtcclxuICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbC55T2Zmc2V0ID0gNTA7ICAgLy8gYWx3YXlzIHNjcm9sbCBieSA1MCBleHRyYSBwaXhlbHNcclxuICAgICAgICAgICAgIH1dKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ2hlYWRlckN0cmwnLCBbJyRhbmNob3JTY3JvbGwnLCAnJGxvY2F0aW9uJywgJyRzY29wZScsXHJcbiAgICAgICAgICAgICAgIGZ1bmN0aW9uKCRhbmNob3JTY3JvbGwsICRsb2NhdGlvbiwgJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAgJHNjb3BlLmdvdG9BbmNob3IgPSBmdW5jdGlvbih4KSB7XHJcbiAgICAgICAgICAgICAgICAgICB2YXIgbmV3SGFzaCA9ICdhbmNob3InICsgeDtcclxuICAgICAgICAgICAgICAgICAgIGlmICgkbG9jYXRpb24uaGFzaCgpICE9PSBuZXdIYXNoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgJGxvY2F0aW9uLmhhc2ggdG8gYG5ld0hhc2hgIGFuZFxyXG4gICAgICAgICAgICAgICAgICAgICAvLyAkYW5jaG9yU2Nyb2xsIHdpbGwgYXV0b21hdGljYWxseSBzY3JvbGwgdG8gaXRcclxuICAgICAgICAgICAgICAgICAgICAgJGxvY2F0aW9uLmhhc2goJ2FuY2hvcicgKyB4KTtcclxuICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIC8vIGNhbGwgJGFuY2hvclNjcm9sbCgpIGV4cGxpY2l0bHksXHJcbiAgICAgICAgICAgICAgICAgICAgIC8vIHNpbmNlICRsb2NhdGlvbi5oYXNoIGhhc24ndCBjaGFuZ2VkXHJcbiAgICAgICAgICAgICAgICAgICAgICRhbmNob3JTY3JvbGwoKTtcclxuICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICBdKTtcclxuICAgICAgICAgPC9maWxlPlxyXG4gICAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgICAgYm9keSB7XHJcbiAgICAgICAgICAgICBwYWRkaW5nLXRvcDogNTBweDtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAuYW5jaG9yIHtcclxuICAgICAgICAgICAgIGJvcmRlcjogMnB4IGRhc2hlZCBEYXJrT3JjaGlkO1xyXG4gICAgICAgICAgICAgcGFkZGluZzogMTBweCAxMHB4IDIwMHB4IDEwcHg7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgLmZpeGVkLWhlYWRlciB7XHJcbiAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiByZ2JhKDAsIDAsIDAsIDAuMik7XHJcbiAgICAgICAgICAgICBoZWlnaHQ6IDUwcHg7XHJcbiAgICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XHJcbiAgICAgICAgICAgICB0b3A6IDA7IGxlZnQ6IDA7IHJpZ2h0OiAwO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgICAgIC5maXhlZC1oZWFkZXIgPiBhIHtcclxuICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcclxuICAgICAgICAgICAgIG1hcmdpbjogNXB4IDE1cHg7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuICAgIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckbG9jYXRpb24nLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkd2luZG93LCAkbG9jYXRpb24sICRyb290U2NvcGUpIHtcclxuICAgICAgdmFyIGRvY3VtZW50ID0gJHdpbmRvdy5kb2N1bWVudDtcclxuXHJcbiAgICAgIC8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgZmlyc3QgYW5jaG9yIGZyb20gYSBOb2RlTGlzdFxyXG4gICAgICAvLyAodXNpbmcgYEFycmF5I3NvbWUoKWAgaW5zdGVhZCBvZiBgYW5ndWxhciNmb3JFYWNoKClgIHNpbmNlIGl0J3MgbW9yZSBwZXJmb3JtYW50XHJcbiAgICAgIC8vICBhbmQgd29ya2luZyBpbiBhbGwgc3VwcG9ydGVkIGJyb3dzZXJzLilcclxuICAgICAgZnVuY3Rpb24gZ2V0Rmlyc3RBbmNob3IobGlzdCkge1xyXG4gICAgICAgIHZhciByZXN1bHQgPSBudWxsO1xyXG4gICAgICAgIEFycmF5LnByb3RvdHlwZS5zb21lLmNhbGwobGlzdCwgZnVuY3Rpb24gKGVsZW1lbnQpIHtcclxuICAgICAgICAgIGlmIChub2RlTmFtZV8oZWxlbWVudCkgPT09ICdhJykge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBlbGVtZW50O1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBnZXRZT2Zmc2V0KCkge1xyXG5cclxuICAgICAgICB2YXIgb2Zmc2V0ID0gc2Nyb2xsLnlPZmZzZXQ7XHJcblxyXG4gICAgICAgIGlmIChpc0Z1bmN0aW9uKG9mZnNldCkpIHtcclxuICAgICAgICAgIG9mZnNldCA9IG9mZnNldCgpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaXNFbGVtZW50KG9mZnNldCkpIHtcclxuICAgICAgICAgIHZhciBlbGVtID0gb2Zmc2V0WzBdO1xyXG4gICAgICAgICAgdmFyIHN0eWxlID0gJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0pO1xyXG4gICAgICAgICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKCFpc051bWJlcihvZmZzZXQpKSB7XHJcbiAgICAgICAgICBvZmZzZXQgPSAwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIG9mZnNldDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gc2Nyb2xsVG8oZWxlbSkge1xyXG4gICAgICAgIGlmIChlbGVtKSB7XHJcbiAgICAgICAgICBlbGVtLnNjcm9sbEludG9WaWV3KCk7XHJcblxyXG4gICAgICAgICAgdmFyIG9mZnNldCA9IGdldFlPZmZzZXQoKTtcclxuXHJcbiAgICAgICAgICBpZiAob2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIC8vIGBvZmZzZXRgIGlzIHRoZSBudW1iZXIgb2YgcGl4ZWxzIHdlIHNob3VsZCBzY3JvbGwgVVAgaW4gb3JkZXIgdG8gYWxpZ24gYGVsZW1gIHByb3Blcmx5LlxyXG4gICAgICAgICAgICAvLyBUaGlzIGlzIHRydWUgT05MWSBpZiB0aGUgY2FsbCB0byBgZWxlbS5zY3JvbGxJbnRvVmlldygpYCBpbml0aWFsbHkgYWxpZ25zIGBlbGVtYCBhdCB0aGVcclxuICAgICAgICAgICAgLy8gdG9wIG9mIHRoZSB2aWV3cG9ydC5cclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gSUYgdGhlIG51bWJlciBvZiBwaXhlbHMgZnJvbSB0aGUgdG9wIG9mIGBlbGVtYCB0byB0aGUgZW5kIG9mIHRoZSBwYWdlJ3MgY29udGVudCBpcyBsZXNzXHJcbiAgICAgICAgICAgIC8vIHRoYW4gdGhlIGhlaWdodCBvZiB0aGUgdmlld3BvcnQsIHRoZW4gYGVsZW0uc2Nyb2xsSW50b1ZpZXcoKWAgd2lsbCBhbGlnbiB0aGUgYGVsZW1gIHNvbWVcclxuICAgICAgICAgICAgLy8gd2F5IGRvd24gdGhlIHBhZ2UuXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFRoaXMgaXMgb2Z0ZW4gdGhlIGNhc2UgZm9yIGVsZW1lbnRzIG5lYXIgdGhlIGJvdHRvbSBvZiB0aGUgcGFnZS5cclxuICAgICAgICAgICAgLy9cclxuICAgICAgICAgICAgLy8gSW4gc3VjaCBjYXNlcyB3ZSBkbyBub3QgbmVlZCB0byBzY3JvbGwgdGhlIHdob2xlIGBvZmZzZXRgIHVwLCBqdXN0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW5cclxuICAgICAgICAgICAgLy8gdGhlIHRvcCBvZiB0aGUgZWxlbWVudCBhbmQgdGhlIG9mZnNldCwgd2hpY2ggaXMgZW5vdWdoIHRvIGFsaWduIHRoZSB0b3Agb2YgYGVsZW1gIGF0IHRoZVxyXG4gICAgICAgICAgICAvLyBkZXNpcmVkIHBvc2l0aW9uLlxyXG4gICAgICAgICAgICB2YXIgZWxlbVRvcCA9IGVsZW0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xyXG4gICAgICAgICAgICAkd2luZG93LnNjcm9sbEJ5KDAsIGVsZW1Ub3AgLSBvZmZzZXQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAkd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gc2Nyb2xsKGhhc2gpIHtcclxuICAgICAgICAvLyBBbGxvdyBudW1lcmljIGhhc2hlc1xyXG4gICAgICAgIGhhc2ggPSBpc1N0cmluZyhoYXNoKSA/IGhhc2ggOiBpc051bWJlcihoYXNoKSA/IGhhc2gudG9TdHJpbmcoKSA6ICRsb2NhdGlvbi5oYXNoKCk7XHJcbiAgICAgICAgdmFyIGVsbTtcclxuXHJcbiAgICAgICAgLy8gZW1wdHkgaGFzaCwgc2Nyb2xsIHRvIHRoZSB0b3Agb2YgdGhlIHBhZ2VcclxuICAgICAgICBpZiAoIWhhc2gpIHNjcm9sbFRvKG51bGwpO1xyXG5cclxuICAgICAgICAvLyBlbGVtZW50IHdpdGggZ2l2ZW4gaWRcclxuICAgICAgICBlbHNlIGlmIChlbG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKSkgc2Nyb2xsVG8oZWxtKTtcclxuXHJcbiAgICAgICAgICAvLyBmaXJzdCBhbmNob3Igd2l0aCBnaXZlbiBuYW1lIDotRFxyXG4gICAgICAgICAgZWxzZSBpZiAoZWxtID0gZ2V0Rmlyc3RBbmNob3IoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeU5hbWUoaGFzaCkpKSBzY3JvbGxUbyhlbG0pO1xyXG5cclxuICAgICAgICAgICAgLy8gbm8gZWxlbWVudCBhbmQgaGFzaCA9PT0gJ3RvcCcsIHNjcm9sbCB0byB0aGUgdG9wIG9mIHRoZSBwYWdlXHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGhhc2ggPT09ICd0b3AnKSBzY3JvbGxUbyhudWxsKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gZG9lcyBub3Qgc2Nyb2xsIHdoZW4gdXNlciBjbGlja3Mgb24gYW5jaG9yIGxpbmsgdGhhdCBpcyBjdXJyZW50bHkgb25cclxuICAgICAgLy8gKG5vIHVybCBjaGFuZ2UsIG5vICRsb2NhdGlvbi5oYXNoKCkgY2hhbmdlKSwgYnJvd3NlciBuYXRpdmUgZG9lcyBzY3JvbGxcclxuICAgICAgaWYgKGF1dG9TY3JvbGxpbmdFbmFibGVkKSB7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kd2F0Y2goZnVuY3Rpb24gYXV0b1Njcm9sbFdhdGNoKCkge1xyXG4gICAgICAgICAgcmV0dXJuICRsb2NhdGlvbi5oYXNoKCk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gYXV0b1Njcm9sbFdhdGNoQWN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XHJcbiAgICAgICAgICAvLyBza2lwIHRoZSBpbml0aWFsIHNjcm9sbCBpZiAkbG9jYXRpb24uaGFzaCBpcyBlbXB0eVxyXG4gICAgICAgICAgaWYgKG5ld1ZhbCA9PT0gb2xkVmFsICYmIG5ld1ZhbCA9PT0gJycpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBqcUxpdGVEb2N1bWVudExvYWRlZChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhzY3JvbGwpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBzY3JvbGw7XHJcbiAgICB9XTtcclxuICB9XHJcblxyXG4gIHZhciAkYW5pbWF0ZU1pbkVyciA9IG1pbkVycignJGFuaW1hdGUnKTtcclxuICB2YXIgRUxFTUVOVF9OT0RFID0gMTtcclxuICB2YXIgTkdfQU5JTUFURV9DTEFTU05BTUUgPSAnbmctYW5pbWF0ZSc7XHJcblxyXG4gIGZ1bmN0aW9uIG1lcmdlQ2xhc3NlcyhhLCBiKSB7XHJcbiAgICBpZiAoIWEgJiYgIWIpIHJldHVybiAnJztcclxuICAgIGlmICghYSkgcmV0dXJuIGI7XHJcbiAgICBpZiAoIWIpIHJldHVybiBhO1xyXG4gICAgaWYgKGlzQXJyYXkoYSkpIGEgPSBhLmpvaW4oJyAnKTtcclxuICAgIGlmIChpc0FycmF5KGIpKSBiID0gYi5qb2luKCcgJyk7XHJcbiAgICByZXR1cm4gYSArICcgJyArIGI7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBleHRyYWN0RWxlbWVudE5vZGUoZWxlbWVudCkge1xyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciBlbG0gPSBlbGVtZW50W2ldO1xyXG4gICAgICBpZiAoZWxtLm5vZGVUeXBlID09PSBFTEVNRU5UX05PREUpIHtcclxuICAgICAgICByZXR1cm4gZWxtO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzcGxpdENsYXNzZXMoY2xhc3Nlcykge1xyXG4gICAgaWYgKGlzU3RyaW5nKGNsYXNzZXMpKSB7XHJcbiAgICAgIGNsYXNzZXMgPSBjbGFzc2VzLnNwbGl0KCcgJyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gVXNlIGNyZWF0ZU1hcCgpIHRvIHByZXZlbnQgY2xhc3MgYXNzdW1wdGlvbnMgaW52b2x2aW5nIHByb3BlcnR5IG5hbWVzIGluXHJcbiAgICAvLyBPYmplY3QucHJvdG90eXBlXHJcbiAgICB2YXIgb2JqID0gY3JlYXRlTWFwKCk7XHJcbiAgICBmb3JFYWNoKGNsYXNzZXMsIGZ1bmN0aW9uIChrbGFzcykge1xyXG4gICAgICAvLyBzb21ldGltZXMgdGhlIHNwbGl0IGxlYXZlcyBlbXB0eSBzdHJpbmcgdmFsdWVzXHJcbiAgICAgIC8vIGluY2FzZSBleHRyYSBzcGFjZXMgd2VyZSBhcHBsaWVkIHRvIHRoZSBvcHRpb25zXHJcbiAgICAgIGlmIChrbGFzcy5sZW5ndGgpIHtcclxuICAgICAgICBvYmpba2xhc3NdID0gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gb2JqO1xyXG4gIH1cclxuXHJcbiAgLy8gaWYgYW55IG90aGVyIHR5cGUgb2Ygb3B0aW9ucyB2YWx1ZSBiZXNpZGVzIGFuIE9iamVjdCB2YWx1ZSBpc1xyXG4gIC8vIHBhc3NlZCBpbnRvIHRoZSAkYW5pbWF0ZS5tZXRob2QoKSBhbmltYXRpb24gdGhlbiB0aGlzIGhlbHBlciBjb2RlXHJcbiAgLy8gd2lsbCBiZSBydW4gd2hpY2ggd2lsbCBpZ25vcmUgaXQuIFdoaWxlIHRoaXMgcGF0Y2ggaXMgbm90IHRoZVxyXG4gIC8vIGdyZWF0ZXN0IHNvbHV0aW9uIHRvIHRoaXMsIGEgbG90IG9mIGV4aXN0aW5nIHBsdWdpbnMgZGVwZW5kIG9uXHJcbiAgLy8gJGFuaW1hdGUgdG8gZWl0aGVyIGNhbGwgdGhlIGNhbGxiYWNrICg8IDEuMikgb3IgcmV0dXJuIGEgcHJvbWlzZVxyXG4gIC8vIHRoYXQgY2FuIGJlIGNoYW5nZWQuIFRoaXMgaGVscGVyIGZ1bmN0aW9uIGVuc3VyZXMgdGhhdCB0aGUgb3B0aW9uc1xyXG4gIC8vIGFyZSB3aXBlZCBjbGVhbiBpbmNhc2UgYSBjYWxsYmFjayBmdW5jdGlvbiBpcyBwcm92aWRlZC5cclxuICBmdW5jdGlvbiBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucykge1xyXG4gICAgcmV0dXJuIGlzT2JqZWN0KG9wdGlvbnMpID8gb3B0aW9ucyA6IHt9O1xyXG4gIH1cclxuXHJcbiAgdmFyICQkQ29yZUFuaW1hdGVKc1Byb3ZpZGVyID0gLyoqIEB0aGlzICovZnVuY3Rpb24gJCRDb3JlQW5pbWF0ZUpzUHJvdmlkZXIoKSB7XHJcbiAgICB0aGlzLiRnZXQgPSBub29wO1xyXG4gIH07XHJcblxyXG4gIC8vIHRoaXMgaXMgcHJlZml4ZWQgd2l0aCBDb3JlIHNpbmNlIGl0IGNvbmZsaWN0cyB3aXRoXHJcbiAgLy8gdGhlIGFuaW1hdGVRdWV1ZVByb3ZpZGVyIGRlZmluZWQgaW4gbmdBbmltYXRlL2FuaW1hdGVRdWV1ZS5qc1xyXG4gIHZhciAkJENvcmVBbmltYXRlUXVldWVQcm92aWRlciA9IC8qKiBAdGhpcyAqL2Z1bmN0aW9uICQkQ29yZUFuaW1hdGVRdWV1ZVByb3ZpZGVyKCkge1xyXG4gICAgdmFyIHBvc3REaWdlc3RRdWV1ZSA9IG5ldyBOZ01hcCgpO1xyXG4gICAgdmFyIHBvc3REaWdlc3RFbGVtZW50cyA9IFtdO1xyXG5cclxuICAgIHRoaXMuJGdldCA9IFsnJCRBbmltYXRlUnVubmVyJywgJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJCRBbmltYXRlUnVubmVyLCAkcm9vdFNjb3BlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZW5hYmxlZDogbm9vcCxcclxuICAgICAgICBvbjogbm9vcCxcclxuICAgICAgICBvZmY6IG5vb3AsXHJcbiAgICAgICAgcGluOiBub29wLFxyXG5cclxuICAgICAgICBwdXNoOiBmdW5jdGlvbiBwdXNoKGVsZW1lbnQsIGV2ZW50LCBvcHRpb25zLCBkb21PcGVyYXRpb24pIHtcclxuICAgICAgICAgIGlmIChkb21PcGVyYXRpb24pIHtcclxuICAgICAgICAgICAgZG9tT3BlcmF0aW9uKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XHJcbiAgICAgICAgICBpZiAob3B0aW9ucy5mcm9tKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKG9wdGlvbnMuZnJvbSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAob3B0aW9ucy50bykge1xyXG4gICAgICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLnRvKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAob3B0aW9ucy5hZGRDbGFzcyB8fCBvcHRpb25zLnJlbW92ZUNsYXNzKSB7XHJcbiAgICAgICAgICAgIGFkZFJlbW92ZUNsYXNzZXNQb3N0RGlnZXN0KGVsZW1lbnQsIG9wdGlvbnMuYWRkQ2xhc3MsIG9wdGlvbnMucmVtb3ZlQ2xhc3MpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHZhciBydW5uZXIgPSBuZXcgJCRBbmltYXRlUnVubmVyKCk7XHJcblxyXG4gICAgICAgICAgLy8gc2luY2UgdGhlcmUgYXJlIG5vIGFuaW1hdGlvbnMgdG8gcnVuIHRoZSBydW5uZXIgbmVlZHMgdG8gYmVcclxuICAgICAgICAgIC8vIG5vdGlmaWVkIHRoYXQgdGhlIGFuaW1hdGlvbiBjYWxsIGlzIGNvbXBsZXRlLlxyXG4gICAgICAgICAgcnVubmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICByZXR1cm4gcnVubmVyO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHVwZGF0ZURhdGEoZGF0YSwgY2xhc3NlcywgdmFsdWUpIHtcclxuICAgICAgICB2YXIgY2hhbmdlZCA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChjbGFzc2VzKSB7XHJcbiAgICAgICAgICBjbGFzc2VzID0gaXNTdHJpbmcoY2xhc3NlcykgPyBjbGFzc2VzLnNwbGl0KCcgJykgOiBpc0FycmF5KGNsYXNzZXMpID8gY2xhc3NlcyA6IFtdO1xyXG4gICAgICAgICAgZm9yRWFjaChjbGFzc2VzLCBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgIGlmIChjbGFzc05hbWUpIHtcclxuICAgICAgICAgICAgICBjaGFuZ2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBkYXRhW2NsYXNzTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBjaGFuZ2VkO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBoYW5kbGVDU1NDbGFzc0NoYW5nZXMoKSB7XHJcbiAgICAgICAgZm9yRWFjaChwb3N0RGlnZXN0RWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XHJcbiAgICAgICAgICB2YXIgZGF0YSA9IHBvc3REaWdlc3RRdWV1ZS5nZXQoZWxlbWVudCk7XHJcbiAgICAgICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgICAgICB2YXIgZXhpc3RpbmcgPSBzcGxpdENsYXNzZXMoZWxlbWVudC5hdHRyKCdjbGFzcycpKTtcclxuICAgICAgICAgICAgdmFyIHRvQWRkID0gJyc7XHJcbiAgICAgICAgICAgIHZhciB0b1JlbW92ZSA9ICcnO1xyXG4gICAgICAgICAgICBmb3JFYWNoKGRhdGEsIGZ1bmN0aW9uIChzdGF0dXMsIGNsYXNzTmFtZSkge1xyXG4gICAgICAgICAgICAgIHZhciBoYXNDbGFzcyA9ICEhZXhpc3RpbmdbY2xhc3NOYW1lXTtcclxuICAgICAgICAgICAgICBpZiAoc3RhdHVzICE9PSBoYXNDbGFzcykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICB0b0FkZCArPSAodG9BZGQubGVuZ3RoID8gJyAnIDogJycpICsgY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgdG9SZW1vdmUgKz0gKHRvUmVtb3ZlLmxlbmd0aCA/ICcgJyA6ICcnKSArIGNsYXNzTmFtZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgZm9yRWFjaChlbGVtZW50LCBmdW5jdGlvbiAoZWxtKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHRvQWRkKSB7XHJcbiAgICAgICAgICAgICAgICBqcUxpdGVBZGRDbGFzcyhlbG0sIHRvQWRkKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKHRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICBqcUxpdGVSZW1vdmVDbGFzcyhlbG0sIHRvUmVtb3ZlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBwb3N0RGlnZXN0UXVldWUuZGVsZXRlKGVsZW1lbnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHBvc3REaWdlc3RFbGVtZW50cy5sZW5ndGggPSAwO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBhZGRSZW1vdmVDbGFzc2VzUG9zdERpZ2VzdChlbGVtZW50LCBhZGQsIHJlbW92ZSkge1xyXG4gICAgICAgIHZhciBkYXRhID0gcG9zdERpZ2VzdFF1ZXVlLmdldChlbGVtZW50KSB8fCB7fTtcclxuXHJcbiAgICAgICAgdmFyIGNsYXNzZXNBZGRlZCA9IHVwZGF0ZURhdGEoZGF0YSwgYWRkLCB0cnVlKTtcclxuICAgICAgICB2YXIgY2xhc3Nlc1JlbW92ZWQgPSB1cGRhdGVEYXRhKGRhdGEsIHJlbW92ZSwgZmFsc2UpO1xyXG5cclxuICAgICAgICBpZiAoY2xhc3Nlc0FkZGVkIHx8IGNsYXNzZXNSZW1vdmVkKSB7XHJcblxyXG4gICAgICAgICAgcG9zdERpZ2VzdFF1ZXVlLnNldChlbGVtZW50LCBkYXRhKTtcclxuICAgICAgICAgIHBvc3REaWdlc3RFbGVtZW50cy5wdXNoKGVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgIGlmIChwb3N0RGlnZXN0RWxlbWVudHMubGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJCRwb3N0RGlnZXN0KGhhbmRsZUNTU0NsYXNzQ2hhbmdlcyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvdmlkZXJcclxuICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIG9mICRhbmltYXRlIHRoYXQgZG9lc24ndCBwZXJmb3JtIGFueSBhbmltYXRpb25zLCBpbnN0ZWFkIGp1c3RcclxuICAgKiBzeW5jaHJvbm91c2x5IHBlcmZvcm1zIERPTSB1cGRhdGVzIGFuZCByZXNvbHZlcyB0aGUgcmV0dXJuZWQgcnVubmVyIHByb21pc2UuXHJcbiAgICpcclxuICAgKiBJbiBvcmRlciB0byBlbmFibGUgYW5pbWF0aW9ucyB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGhhcyB0byBiZSBsb2FkZWQuXHJcbiAgICpcclxuICAgKiBUbyBzZWUgdGhlIGZ1bmN0aW9uYWwgaW1wbGVtZW50YXRpb24gY2hlY2sgb3V0IGBzcmMvbmdBbmltYXRlL2FuaW1hdGUuanNgLlxyXG4gICAqL1xyXG4gIHZhciAkQW5pbWF0ZVByb3ZpZGVyID0gWyckcHJvdmlkZScsIC8qKiBAdGhpcyAqL2Z1bmN0aW9uICgkcHJvdmlkZSkge1xyXG4gICAgdmFyIHByb3ZpZGVyID0gdGhpcztcclxuICAgIHZhciBjbGFzc05hbWVGaWx0ZXIgPSBudWxsO1xyXG4gICAgdmFyIGN1c3RvbUZpbHRlciA9IG51bGw7XHJcblxyXG4gICAgdGhpcy4kJHJlZ2lzdGVyZWRBbmltYXRpb25zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcclxuXHJcbiAgICAvKipcclxuICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyI3JlZ2lzdGVyXHJcbiAgICAqXHJcbiAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgKiBSZWdpc3RlcnMgYSBuZXcgaW5qZWN0YWJsZSBhbmltYXRpb24gZmFjdG9yeSBmdW5jdGlvbi4gVGhlIGZhY3RvcnkgZnVuY3Rpb24gcHJvZHVjZXMgdGhlXHJcbiAgICAqIGFuaW1hdGlvbiBvYmplY3Qgd2hpY2ggY29udGFpbnMgY2FsbGJhY2sgZnVuY3Rpb25zIGZvciBlYWNoIGV2ZW50IHRoYXQgaXMgZXhwZWN0ZWQgdG8gYmVcclxuICAgICogYW5pbWF0ZWQuXHJcbiAgICAqXHJcbiAgICAqICAgKiBgZXZlbnRGbmA6IGBmdW5jdGlvbihlbGVtZW50LCAuLi4gLCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpYFxyXG4gICAgKiAgIFRoZSBlbGVtZW50IHRvIGFuaW1hdGUsIHRoZSBgZG9uZUZ1bmN0aW9uYCBhbmQgdGhlIG9wdGlvbnMgZmVkIGludG8gdGhlIGFuaW1hdGlvbi4gRGVwZW5kaW5nXHJcbiAgICAqICAgb24gdGhlIHR5cGUgb2YgYW5pbWF0aW9uIGFkZGl0aW9uYWwgYXJndW1lbnRzIHdpbGwgYmUgaW5qZWN0ZWQgaW50byB0aGUgYW5pbWF0aW9uIGZ1bmN0aW9uLiBUaGVcclxuICAgICogICBsaXN0IGJlbG93IGV4cGxhaW5zIHRoZSBmdW5jdGlvbiBzaWduYXR1cmVzIGZvciB0aGUgZGlmZmVyZW50IGFuaW1hdGlvbiBtZXRob2RzOlxyXG4gICAgKlxyXG4gICAgKiAgIC0gc2V0Q2xhc3M6IGZ1bmN0aW9uKGVsZW1lbnQsIGFkZGVkQ2xhc3NlcywgcmVtb3ZlZENsYXNzZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcclxuICAgICogICAtIGFkZENsYXNzOiBmdW5jdGlvbihlbGVtZW50LCBhZGRlZENsYXNzZXMsIGRvbmVGdW5jdGlvbiwgb3B0aW9ucylcclxuICAgICogICAtIHJlbW92ZUNsYXNzOiBmdW5jdGlvbihlbGVtZW50LCByZW1vdmVkQ2xhc3NlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxyXG4gICAgKiAgIC0gZW50ZXIsIGxlYXZlLCBtb3ZlOiBmdW5jdGlvbihlbGVtZW50LCBkb25lRnVuY3Rpb24sIG9wdGlvbnMpXHJcbiAgICAqICAgLSBhbmltYXRlOiBmdW5jdGlvbihlbGVtZW50LCBmcm9tU3R5bGVzLCB0b1N0eWxlcywgZG9uZUZ1bmN0aW9uLCBvcHRpb25zKVxyXG4gICAgKlxyXG4gICAgKiAgIE1ha2Ugc3VyZSB0byB0cmlnZ2VyIHRoZSBgZG9uZUZ1bmN0aW9uYCBvbmNlIHRoZSBhbmltYXRpb24gaXMgZnVsbHkgY29tcGxldGUuXHJcbiAgICAqXHJcbiAgICAqIGBgYGpzXHJcbiAgICAqICAgcmV0dXJuIHtcclxuICAgICogICAgIC8vZW50ZXIsIGxlYXZlLCBtb3ZlIHNpZ25hdHVyZVxyXG4gICAgKiAgICAgZXZlbnRGbiA6IGZ1bmN0aW9uKGVsZW1lbnQsIGRvbmUsIG9wdGlvbnMpIHtcclxuICAgICogICAgICAgLy9jb2RlIHRvIHJ1biB0aGUgYW5pbWF0aW9uXHJcbiAgICAqICAgICAgIC8vb25jZSBjb21wbGV0ZSwgdGhlbiBydW4gZG9uZSgpXHJcbiAgICAqICAgICAgIHJldHVybiBmdW5jdGlvbiBlbmRGdW5jdGlvbih3YXNDYW5jZWxsZWQpIHtcclxuICAgICogICAgICAgICAvL2NvZGUgdG8gY2FuY2VsIHRoZSBhbmltYXRpb25cclxuICAgICogICAgICAgfVxyXG4gICAgKiAgICAgfVxyXG4gICAgKiAgIH1cclxuICAgICogYGBgXHJcbiAgICAqXHJcbiAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFRoZSBuYW1lIG9mIHRoZSBhbmltYXRpb24gKHRoaXMgaXMgd2hhdCB0aGUgY2xhc3MtYmFzZWQgQ1NTIHZhbHVlIHdpbGwgYmUgY29tcGFyZWQgdG8pLlxyXG4gICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmYWN0b3J5IFRoZSBmYWN0b3J5IGZ1bmN0aW9uIHRoYXQgd2lsbCBiZSBleGVjdXRlZCB0byByZXR1cm4gdGhlIGFuaW1hdGlvblxyXG4gICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgIG9iamVjdC5cclxuICAgICovXHJcbiAgICB0aGlzLnJlZ2lzdGVyID0gZnVuY3Rpb24gKG5hbWUsIGZhY3RvcnkpIHtcclxuICAgICAgaWYgKG5hbWUgJiYgbmFtZS5jaGFyQXQoMCkgIT09ICcuJykge1xyXG4gICAgICAgIHRocm93ICRhbmltYXRlTWluRXJyKCdub3Rjc2VsJywgJ0V4cGVjdGluZyBjbGFzcyBzZWxlY3RvciBzdGFydGluZyB3aXRoIFxcJy5cXCcgZ290IFxcJ3swfVxcJy4nLCBuYW1lKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIGtleSA9IG5hbWUgKyAnLWFuaW1hdGlvbic7XHJcbiAgICAgIHByb3ZpZGVyLiQkcmVnaXN0ZXJlZEFuaW1hdGlvbnNbbmFtZS5zdWJzdHIoMSldID0ga2V5O1xyXG4gICAgICAkcHJvdmlkZS5mYWN0b3J5KGtleSwgZmFjdG9yeSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGFuaW1hdGVQcm92aWRlciNjdXN0b21GaWx0ZXJcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNldHMgYW5kL29yIHJldHVybnMgdGhlIGN1c3RvbSBmaWx0ZXIgZnVuY3Rpb24gdGhhdCBpcyB1c2VkIHRvIFwiZmlsdGVyXCIgYW5pbWF0aW9ucywgaS5lLlxyXG4gICAgICogZGV0ZXJtaW5lIGlmIGFuIGFuaW1hdGlvbiBpcyBhbGxvd2VkIG9yIG5vdC4gV2hlbiBubyBmaWx0ZXIgaXMgc3BlY2lmaWVkICh0aGUgZGVmYXVsdCksIG5vXHJcbiAgICAgKiBhbmltYXRpb24gd2lsbCBiZSBibG9ja2VkLiBTZXR0aW5nIHRoZSBgY3VzdG9tRmlsdGVyYCB2YWx1ZSB3aWxsIG9ubHkgYWxsb3cgYW5pbWF0aW9ucyBmb3JcclxuICAgICAqIHdoaWNoIHRoZSBmaWx0ZXIgZnVuY3Rpb24ncyByZXR1cm4gdmFsdWUgaXMgdHJ1dGh5LlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgYWxsb3dzIHRvIGVhc2lseSBjcmVhdGUgYXJiaXRyYXJpbHkgY29tcGxleCBydWxlcyBmb3IgZmlsdGVyaW5nIGFuaW1hdGlvbnMsIHN1Y2ggYXNcclxuICAgICAqIGFsbG93aW5nIHNwZWNpZmljIGV2ZW50cyBvbmx5LCBvciBlbmFibGluZyBhbmltYXRpb25zIG9uIHNwZWNpZmljIHN1YnRyZWVzIG9mIHRoZSBET00sIGV0Yy5cclxuICAgICAqIEZpbHRlcmluZyBhbmltYXRpb25zIGNhbiBhbHNvIGJvb3N0IHBlcmZvcm1hbmNlIGZvciBsb3ctcG93ZXJlZCBkZXZpY2VzLCBhcyB3ZWxsIGFzXHJcbiAgICAgKiBhcHBsaWNhdGlvbnMgY29udGFpbmluZyBhIGxvdCBvZiBzdHJ1Y3R1cmFsIG9wZXJhdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cclxuICAgICAqICAgKipCZXN0IFByYWN0aWNlOioqXHJcbiAgICAgKiAgIEtlZXAgdGhlIGZpbHRlcmluZyBmdW5jdGlvbiBhcyBsZWFuIGFzIHBvc3NpYmxlLCBiZWNhdXNlIGl0IHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoIERPTVxyXG4gICAgICogICBhY3Rpb24gKGUuZy4gaW5zZXJ0aW9uLCByZW1vdmFsLCBjbGFzcyBjaGFuZ2UpIHBlcmZvcm1lZCBieSBcImFuaW1hdGlvbi1hd2FyZVwiIGRpcmVjdGl2ZXMuXHJcbiAgICAgKiAgIFNlZSB7QGxpbmsgZ3VpZGUvYW5pbWF0aW9ucyN3aGljaC1kaXJlY3RpdmVzLXN1cHBvcnQtYW5pbWF0aW9ucy0gaGVyZX0gZm9yIGEgbGlzdCBvZiBidWlsdC1pblxyXG4gICAgICogICBkaXJlY3RpdmVzIHRoYXQgc3VwcG9ydCBhbmltYXRpb25zLlxyXG4gICAgICogICBQZXJmb3JtaW5nIGNvbXB1dGF0aW9uYWxseSBleHBlbnNpdmUgb3IgdGltZS1jb25zdW1pbmcgb3BlcmF0aW9ucyBvbiBlYWNoIGNhbGwgb2YgdGhlXHJcbiAgICAgKiAgIGZpbHRlcmluZyBmdW5jdGlvbiBjYW4gbWFrZSB5b3VyIGFuaW1hdGlvbnMgc2x1Z2dpc2guXHJcbiAgICAgKiA8L2Rpdj5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGU6KiogSWYgcHJlc2VudCwgYGN1c3RvbUZpbHRlcmAgd2lsbCBiZSBjaGVja2VkIGJlZm9yZVxyXG4gICAgICoge0BsaW5rICRhbmltYXRlUHJvdmlkZXIjY2xhc3NOYW1lRmlsdGVyIGNsYXNzTmFtZUZpbHRlcn0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbj19IGZpbHRlckZuIC0gVGhlIGZpbHRlciBmdW5jdGlvbiB3aGljaCB3aWxsIGJlIHVzZWQgdG8gZmlsdGVyIGFsbCBhbmltYXRpb25zLlxyXG4gICAgICogICBJZiBhIGZhbHN5IHZhbHVlIGlzIHJldHVybmVkLCBubyBhbmltYXRpb24gd2lsbCBiZSBwZXJmb3JtZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZFxyXG4gICAgICogICB3aXRoIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxyXG4gICAgICogICAtICoqbm9kZSoqIGB7RE9NRWxlbWVudH1gIC0gVGhlIERPTSBlbGVtZW50IHRvIGJlIGFuaW1hdGVkLlxyXG4gICAgICogICAtICoqZXZlbnQqKiBge1N0cmluZ31gIC0gVGhlIG5hbWUgb2YgdGhlIGFuaW1hdGlvbiBldmVudCAoZS5nLiBgZW50ZXJgLCBgbGVhdmVgLCBgYWRkQ2xhc3NgXHJcbiAgICAgKiAgICAgZXRjKS5cclxuICAgICAqICAgLSAqKm9wdGlvbnMqKiBge09iamVjdH1gIC0gQSBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHVzZWQgZm9yIHRoZSBhbmltYXRpb24uXHJcbiAgICAgKiBAcmV0dXJuIHtGdW5jdGlvbn0gVGhlIGN1cnJlbnQgZmlsdGVyIGZ1bmN0aW9uIG9yIGBudWxsYCBpZiB0aGVyZSBpcyBub25lIHNldC5cclxuICAgICAqL1xyXG4gICAgdGhpcy5jdXN0b21GaWx0ZXIgPSBmdW5jdGlvbiAoZmlsdGVyRm4pIHtcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICBjdXN0b21GaWx0ZXIgPSBpc0Z1bmN0aW9uKGZpbHRlckZuKSA/IGZpbHRlckZuIDogbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGN1c3RvbUZpbHRlcjtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkYW5pbWF0ZVByb3ZpZGVyI2NsYXNzTmFtZUZpbHRlclxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU2V0cyBhbmQvb3IgcmV0dXJucyB0aGUgQ1NTIGNsYXNzIHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIGNoZWNrZWQgd2hlbiBwZXJmb3JtaW5nXHJcbiAgICAgKiBhbiBhbmltYXRpb24uIFVwb24gYm9vdHN0cmFwIHRoZSBjbGFzc05hbWVGaWx0ZXIgdmFsdWUgaXMgbm90IHNldCBhdCBhbGwgYW5kIHdpbGxcclxuICAgICAqIHRoZXJlZm9yZSBlbmFibGUgJGFuaW1hdGUgdG8gYXR0ZW1wdCB0byBwZXJmb3JtIGFuIGFuaW1hdGlvbiBvbiBhbnkgZWxlbWVudCB0aGF0IGlzIHRyaWdnZXJlZC5cclxuICAgICAqIFdoZW4gc2V0dGluZyB0aGUgYGNsYXNzTmFtZUZpbHRlcmAgdmFsdWUsIGFuaW1hdGlvbnMgd2lsbCBvbmx5IGJlIHBlcmZvcm1lZCBvbiBlbGVtZW50c1xyXG4gICAgICogdGhhdCBzdWNjZXNzZnVsbHkgbWF0Y2ggdGhlIGZpbHRlciBleHByZXNzaW9uLiBUaGlzIGluIHR1cm4gY2FuIGJvb3N0IHBlcmZvcm1hbmNlXHJcbiAgICAgKiBmb3IgbG93LXBvd2VyZWQgZGV2aWNlcyBhcyB3ZWxsIGFzIGFwcGxpY2F0aW9ucyBjb250YWluaW5nIGEgbG90IG9mIHN0cnVjdHVyYWwgb3BlcmF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKiAqKk5vdGU6KiogSWYgcHJlc2VudCwgYGNsYXNzTmFtZUZpbHRlcmAgd2lsbCBiZSBjaGVja2VkIGFmdGVyXHJcbiAgICAgKiB7QGxpbmsgJGFuaW1hdGVQcm92aWRlciNjdXN0b21GaWx0ZXIgY3VzdG9tRmlsdGVyfS4gSWYgYGN1c3RvbUZpbHRlcmAgaXMgcHJlc2VudCBhbmQgcmV0dXJuc1xyXG4gICAgICogZmFsc2UsIGBjbGFzc05hbWVGaWx0ZXJgIHdpbGwgbm90IGJlIGNoZWNrZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtSZWdFeHA9fSBleHByZXNzaW9uIFRoZSBjbGFzc05hbWUgZXhwcmVzc2lvbiB3aGljaCB3aWxsIGJlIGNoZWNrZWQgYWdhaW5zdCBhbGwgYW5pbWF0aW9uc1xyXG4gICAgICogQHJldHVybiB7UmVnRXhwfSBUaGUgY3VycmVudCBDU1MgY2xhc3NOYW1lIGV4cHJlc3Npb24gdmFsdWUuIElmIG51bGwgdGhlbiB0aGVyZSBpcyBubyBleHByZXNzaW9uIHZhbHVlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuY2xhc3NOYW1lRmlsdGVyID0gZnVuY3Rpb24gKGV4cHJlc3Npb24pIHtcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICBjbGFzc05hbWVGaWx0ZXIgPSBleHByZXNzaW9uIGluc3RhbmNlb2YgUmVnRXhwID8gZXhwcmVzc2lvbiA6IG51bGw7XHJcbiAgICAgICAgaWYgKGNsYXNzTmFtZUZpbHRlcikge1xyXG4gICAgICAgICAgdmFyIHJlc2VydmVkUmVnZXggPSBuZXcgUmVnRXhwKCdbKFxcXFxzfFxcXFwvKV0nICsgTkdfQU5JTUFURV9DTEFTU05BTUUgKyAnWyhcXFxcc3xcXFxcLyldJyk7XHJcbiAgICAgICAgICBpZiAocmVzZXJ2ZWRSZWdleC50ZXN0KGNsYXNzTmFtZUZpbHRlci50b1N0cmluZygpKSkge1xyXG4gICAgICAgICAgICBjbGFzc05hbWVGaWx0ZXIgPSBudWxsO1xyXG4gICAgICAgICAgICB0aHJvdyAkYW5pbWF0ZU1pbkVycignbm9uZ2NscycsICckYW5pbWF0ZVByb3ZpZGVyLmNsYXNzTmFtZUZpbHRlcihyZWdleCkgcHJvaGliaXRzIGFjY2VwdGluZyBhIHJlZ2V4IHZhbHVlIHdoaWNoIG1hdGNoZXMvY29udGFpbnMgdGhlIFwiezB9XCIgQ1NTIGNsYXNzLicsIE5HX0FOSU1BVEVfQ0xBU1NOQU1FKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNsYXNzTmFtZUZpbHRlcjtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy4kZ2V0ID0gWyckJGFuaW1hdGVRdWV1ZScsIGZ1bmN0aW9uICgkJGFuaW1hdGVRdWV1ZSkge1xyXG4gICAgICBmdW5jdGlvbiBkb21JbnNlcnQoZWxlbWVudCwgcGFyZW50RWxlbWVudCwgYWZ0ZXJFbGVtZW50KSB7XHJcbiAgICAgICAgLy8gaWYgZm9yIHNvbWUgcmVhc29uIHRoZSBwcmV2aW91cyBlbGVtZW50IHdhcyByZW1vdmVkXHJcbiAgICAgICAgLy8gZnJvbSB0aGUgZG9tIHNvbWV0aW1lIGJlZm9yZSB0aGlzIGNvZGUgcnVucyB0aGVuIGxldCdzXHJcbiAgICAgICAgLy8ganVzdCBzdGljayB0byB1c2luZyB0aGUgcGFyZW50IGVsZW1lbnQgYXMgdGhlIGFuY2hvclxyXG4gICAgICAgIGlmIChhZnRlckVsZW1lbnQpIHtcclxuICAgICAgICAgIHZhciBhZnRlck5vZGUgPSBleHRyYWN0RWxlbWVudE5vZGUoYWZ0ZXJFbGVtZW50KTtcclxuICAgICAgICAgIGlmIChhZnRlck5vZGUgJiYgIWFmdGVyTm9kZS5wYXJlbnROb2RlICYmICFhZnRlck5vZGUucHJldmlvdXNFbGVtZW50U2libGluZykge1xyXG4gICAgICAgICAgICBhZnRlckVsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYWZ0ZXJFbGVtZW50KSB7XHJcbiAgICAgICAgICBhZnRlckVsZW1lbnQuYWZ0ZXIoZWxlbWVudCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHBhcmVudEVsZW1lbnQucHJlcGVuZChlbGVtZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAgICAgKiBAbmFtZSAkYW5pbWF0ZVxyXG4gICAgICAgKiBAZGVzY3JpcHRpb24gVGhlICRhbmltYXRlIHNlcnZpY2UgZXhwb3NlcyBhIHNlcmllcyBvZiBET00gdXRpbGl0eSBtZXRob2RzIHRoYXQgcHJvdmlkZSBzdXBwb3J0XHJcbiAgICAgICAqIGZvciBhbmltYXRpb24gaG9va3MuIFRoZSBkZWZhdWx0IGJlaGF2aW9yIGlzIHRoZSBhcHBsaWNhdGlvbiBvZiBET00gb3BlcmF0aW9ucywgaG93ZXZlcixcclxuICAgICAgICogd2hlbiBhbiBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgKGFuZCBhbmltYXRpb25zIGFyZSBlbmFibGVkKSwgJGFuaW1hdGUgd2lsbCBkbyB0aGUgaGVhdnkgbGlmdGluZ1xyXG4gICAgICAgKiB0byBlbnN1cmUgdGhhdCBhbmltYXRpb24gcnVucyB3aXRoIHRoZSB0cmlnZ2VyZWQgRE9NIG9wZXJhdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQnkgZGVmYXVsdCAkYW5pbWF0ZSBkb2Vzbid0IHRyaWdnZXIgYW55IGFuaW1hdGlvbnMuIFRoaXMgaXMgYmVjYXVzZSB0aGUgYG5nQW5pbWF0ZWAgbW9kdWxlIGlzbid0XHJcbiAgICAgICAqIGluY2x1ZGVkIGFuZCBvbmx5IHdoZW4gaXQgaXMgYWN0aXZlIHRoZW4gdGhlIGFuaW1hdGlvbiBob29rcyB0aGF0IGAkYW5pbWF0ZWAgdHJpZ2dlcnMgd2lsbCBiZVxyXG4gICAgICAgKiBmdW5jdGlvbmFsLiBPbmNlIGFjdGl2ZSB0aGVuIGFsbCBzdHJ1Y3R1cmFsIGBuZy1gIGRpcmVjdGl2ZXMgd2lsbCB0cmlnZ2VyIGFuaW1hdGlvbnMgYXMgdGhleSBwZXJmb3JtXHJcbiAgICAgICAqIHRoZWlyIERPTS1yZWxhdGVkIG9wZXJhdGlvbnMgKGVudGVyLCBsZWF2ZSBhbmQgbW92ZSkuIE90aGVyIGRpcmVjdGl2ZXMgc3VjaCBhcyBgbmdDbGFzc2AsXHJcbiAgICAgICAqIGBuZ1Nob3dgLCBgbmdIaWRlYCBhbmQgYG5nTWVzc2FnZXNgIGFsc28gcHJvdmlkZSBzdXBwb3J0IGZvciBhbmltYXRpb25zLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0IHRoZWAkYW5pbWF0ZWAgc2VydmljZSBpcyBhbHdheXMgdXNlZCB3aGVuIGV4ZWN1dGluZyBET00tcmVsYXRlZCBwcm9jZWR1cmVzIHdpdGhpbiBkaXJlY3RpdmVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUbyBsZWFybiBtb3JlIGFib3V0IGVuYWJsaW5nIGFuaW1hdGlvbiBzdXBwb3J0LCBjbGljayBoZXJlIHRvIHZpc2l0IHRoZVxyXG4gICAgICAgKiB7QGxpbmsgbmdBbmltYXRlIG5nQW5pbWF0ZSBtb2R1bGUgcGFnZX0uXHJcbiAgICAgICAqL1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC8vIHdlIGRvbid0IGNhbGwgaXQgZGlyZWN0bHkgc2luY2Ugbm9uLWV4aXN0YW50IGFyZ3VtZW50cyBtYXlcclxuICAgICAgICAvLyBiZSBpbnRlcnByZXRlZCBhcyBudWxsIHdpdGhpbiB0aGUgc3ViIGVuYWJsZWQgZnVuY3Rpb25cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjb25cclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBTZXRzIHVwIGFuIGV2ZW50IGxpc3RlbmVyIHRvIGZpcmUgd2hlbmV2ZXIgdGhlIGFuaW1hdGlvbiBldmVudCAoZW50ZXIsIGxlYXZlLCBtb3ZlLCBldGMuLi4pXHJcbiAgICAgICAgICogICAgaGFzIGZpcmVkIG9uIHRoZSBnaXZlbiBlbGVtZW50IG9yIGFtb25nIGFueSBvZiBpdHMgY2hpbGRyZW4uIE9uY2UgdGhlIGxpc3RlbmVyIGlzIGZpcmVkLCB0aGUgcHJvdmlkZWQgY2FsbGJhY2tcclxuICAgICAgICAgKiAgICBpcyBmaXJlZCB3aXRoIHRoZSBmb2xsb3dpbmcgcGFyYW1zOlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogYGBganNcclxuICAgICAgICAgKiAkYW5pbWF0ZS5vbignZW50ZXInLCBjb250YWluZXIsXHJcbiAgICAgICAgICogICAgZnVuY3Rpb24gY2FsbGJhY2soZWxlbWVudCwgcGhhc2UpIHtcclxuICAgICAgICAgKiAgICAgIC8vIGNvb2wgd2UgZGV0ZWN0ZWQgYW4gZW50ZXIgYW5pbWF0aW9uIHdpdGhpbiB0aGUgY29udGFpbmVyXHJcbiAgICAgICAgICogICAgfVxyXG4gICAgICAgICAqICk7XHJcbiAgICAgICAgICogYGBgXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnQgdGhlIGFuaW1hdGlvbiBldmVudCB0aGF0IHdpbGwgYmUgY2FwdHVyZWQgKGUuZy4gZW50ZXIsIGxlYXZlLCBtb3ZlLCBhZGRDbGFzcywgcmVtb3ZlQ2xhc3MsIGV0Yy4uLilcclxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGNvbnRhaW5lciB0aGUgY29udGFpbmVyIGVsZW1lbnQgdGhhdCB3aWxsIGNhcHR1cmUgZWFjaCBvZiB0aGUgYW5pbWF0aW9uIGV2ZW50cyB0aGF0IGFyZSBmaXJlZCBvbiBpdHNlbGZcclxuICAgICAgICAgKiAgICAgYXMgd2VsbCBhcyBhbW9uZyBpdHMgY2hpbGRyZW5cclxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGZpcmVkIHdoZW4gdGhlIGxpc3RlbmVyIGlzIHRyaWdnZXJlZFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhlIGFyZ3VtZW50cyBwcmVzZW50IGluIHRoZSBjYWxsYmFjayBmdW5jdGlvbiBhcmU6XHJcbiAgICAgICAgICogKiBgZWxlbWVudGAgLSBUaGUgY2FwdHVyZWQgRE9NIGVsZW1lbnQgdGhhdCB0aGUgYW5pbWF0aW9uIHdhcyBmaXJlZCBvbi5cclxuICAgICAgICAgKiAqIGBwaGFzZWAgLSBUaGUgcGhhc2Ugb2YgdGhlIGFuaW1hdGlvbi4gVGhlIHR3byBwb3NzaWJsZSBwaGFzZXMgYXJlICoqc3RhcnQqKiAod2hlbiB0aGUgYW5pbWF0aW9uIHN0YXJ0cykgYW5kICoqY2xvc2UqKiAod2hlbiBpdCBlbmRzKS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBvbjogJCRhbmltYXRlUXVldWUub24sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRhbmltYXRlI29mZlxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIERlcmVnaXN0ZXJzIGFuIGV2ZW50IGxpc3RlbmVyIGJhc2VkIG9uIHRoZSBldmVudCB3aGljaCBoYXMgYmVlbiBhc3NvY2lhdGVkIHdpdGggdGhlIHByb3ZpZGVkIGVsZW1lbnQuIFRoaXMgbWV0aG9kXHJcbiAgICAgICAgICogY2FuIGJlIHVzZWQgaW4gdGhyZWUgZGlmZmVyZW50IHdheXMgZGVwZW5kaW5nIG9uIHRoZSBhcmd1bWVudHM6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAqIC8vIHJlbW92ZSBhbGwgdGhlIGFuaW1hdGlvbiBldmVudCBsaXN0ZW5lcnMgbGlzdGVuaW5nIGZvciBgZW50ZXJgXHJcbiAgICAgICAgICogJGFuaW1hdGUub2ZmKCdlbnRlcicpO1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogLy8gcmVtb3ZlIGxpc3RlbmVycyBmb3IgYWxsIGFuaW1hdGlvbiBldmVudHMgZnJvbSB0aGUgY29udGFpbmVyIGVsZW1lbnRcclxuICAgICAgICAgKiAkYW5pbWF0ZS5vZmYoY29udGFpbmVyKTtcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIC8vIHJlbW92ZSBhbGwgdGhlIGFuaW1hdGlvbiBldmVudCBsaXN0ZW5lcnMgbGlzdGVuaW5nIGZvciBgZW50ZXJgIG9uIHRoZSBnaXZlbiBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW5cclxuICAgICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJywgY29udGFpbmVyKTtcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIC8vIHJlbW92ZSB0aGUgZXZlbnQgbGlzdGVuZXIgZnVuY3Rpb24gcHJvdmlkZWQgYnkgYGNhbGxiYWNrYCB0aGF0IGlzIHNldFxyXG4gICAgICAgICAqIC8vIHRvIGxpc3RlbiBmb3IgYGVudGVyYCBvbiB0aGUgZ2l2ZW4gYGNvbnRhaW5lcmAgYXMgd2VsbCBhcyBpdHMgY2hpbGRyZW5cclxuICAgICAgICAgKiAkYW5pbWF0ZS5vZmYoJ2VudGVyJywgY29udGFpbmVyLCBjYWxsYmFjayk7XHJcbiAgICAgICAgICogYGBgXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ3xET01FbGVtZW50fSBldmVudHxjb250YWluZXIgdGhlIGFuaW1hdGlvbiBldmVudCAoZS5nLiBlbnRlciwgbGVhdmUsIG1vdmUsXHJcbiAgICAgICAgICogYWRkQ2xhc3MsIHJlbW92ZUNsYXNzLCBldGMuLi4pLCBvciB0aGUgY29udGFpbmVyIGVsZW1lbnQuIElmIGl0IGlzIHRoZSBlbGVtZW50LCBhbGwgb3RoZXJcclxuICAgICAgICAgKiBhcmd1bWVudHMgYXJlIGlnbm9yZWQuXHJcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gY29udGFpbmVyIHRoZSBjb250YWluZXIgZWxlbWVudCB0aGUgZXZlbnQgbGlzdGVuZXIgd2FzIHBsYWNlZCBvblxyXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdGhhdCB3YXMgcmVnaXN0ZXJlZCBhcyB0aGUgbGlzdGVuZXJcclxuICAgICAgICAgKi9cclxuICAgICAgICBvZmY6ICQkYW5pbWF0ZVF1ZXVlLm9mZixcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRhbmltYXRlI3BpblxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIEFzc29jaWF0ZXMgdGhlIHByb3ZpZGVkIGVsZW1lbnQgd2l0aCBhIGhvc3QgcGFyZW50IGVsZW1lbnQgdG8gYWxsb3cgdGhlIGVsZW1lbnQgdG8gYmUgYW5pbWF0ZWQgZXZlbiBpZiBpdCBleGlzdHNcclxuICAgICAgICAgKiAgICBvdXRzaWRlIG9mIHRoZSBET00gc3RydWN0dXJlIG9mIHRoZSBBbmd1bGFyIGFwcGxpY2F0aW9uLiBCeSBkb2luZyBzbywgYW55IGFuaW1hdGlvbiB0cmlnZ2VyZWQgdmlhIGAkYW5pbWF0ZWAgY2FuIGJlIGlzc3VlZCBvbiB0aGVcclxuICAgICAgICAgKiAgICBlbGVtZW50IGRlc3BpdGUgYmVpbmcgb3V0c2lkZSB0aGUgcmVhbG0gb2YgdGhlIGFwcGxpY2F0aW9uIG9yIHdpdGhpbiBhbm90aGVyIGFwcGxpY2F0aW9uLiBTYXkgZm9yIGV4YW1wbGUgaWYgdGhlIGFwcGxpY2F0aW9uXHJcbiAgICAgICAgICogICAgd2FzIGJvb3RzdHJhcHBlZCBvbiBhbiBlbGVtZW50IHRoYXQgaXMgc29tZXdoZXJlIGluc2lkZSBvZiB0aGUgYDxib2R5PmAgdGFnLCBidXQgd2Ugd2FudGVkIHRvIGFsbG93IGZvciBhbiBlbGVtZW50IHRvIGJlIHNpdHVhdGVkXHJcbiAgICAgICAgICogICAgYXMgYSBkaXJlY3QgY2hpbGQgb2YgYGRvY3VtZW50LmJvZHlgLCB0aGVuIHRoaXMgY2FuIGJlIGFjaGlldmVkIGJ5IHBpbm5pbmcgdGhlIGVsZW1lbnQgdmlhIGAkYW5pbWF0ZS5waW4oZWxlbWVudClgLiBLZWVwIGluIG1pbmRcclxuICAgICAgICAgKiAgICB0aGF0IGNhbGxpbmcgYCRhbmltYXRlLnBpbihlbGVtZW50LCBwYXJlbnRFbGVtZW50KWAgd2lsbCBub3QgYWN0dWFsbHkgaW5zZXJ0IGludG8gdGhlIERPTSBhbnl3aGVyZTsgaXQgd2lsbCBqdXN0IGNyZWF0ZSB0aGUgYXNzb2NpYXRpb24uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICBOb3RlIHRoYXQgdGhpcyBmZWF0dXJlIGlzIG9ubHkgYWN0aXZlIHdoZW4gdGhlIGBuZ0FuaW1hdGVgIG1vZHVsZSBpcyB1c2VkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBleHRlcm5hbCBlbGVtZW50IHRoYXQgd2lsbCBiZSBwaW5uZWRcclxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudEVsZW1lbnQgdGhlIGhvc3QgcGFyZW50IGVsZW1lbnQgdGhhdCB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZXh0ZXJuYWwgZWxlbWVudFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHBpbjogJCRhbmltYXRlUXVldWUucGluLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNlbmFibGVkXHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gVXNlZCB0byBnZXQgYW5kIHNldCB3aGV0aGVyIGFuaW1hdGlvbnMgYXJlIGVuYWJsZWQgb3Igbm90IG9uIHRoZSBlbnRpcmUgYXBwbGljYXRpb24gb3Igb24gYW4gZWxlbWVudCBhbmQgaXRzIGNoaWxkcmVuLiBUaGlzXHJcbiAgICAgICAgICogZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCBpbiBmb3VyIHdheXM6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAqIC8vIHJldHVybnMgdHJ1ZSBvciBmYWxzZVxyXG4gICAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoKTtcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIC8vIGNoYW5nZXMgdGhlIGVuYWJsZWQgc3RhdGUgZm9yIGFsbCBhbmltYXRpb25zXHJcbiAgICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChmYWxzZSk7XHJcbiAgICAgICAgICogJGFuaW1hdGUuZW5hYmxlZCh0cnVlKTtcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIC8vIHJldHVybnMgdHJ1ZSBvciBmYWxzZSBpZiBhbmltYXRpb25zIGFyZSBlbmFibGVkIGZvciBhbiBlbGVtZW50XHJcbiAgICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50KTtcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIC8vIGNoYW5nZXMgdGhlIGVuYWJsZWQgc3RhdGUgZm9yIGFuIGVsZW1lbnQgYW5kIGl0cyBjaGlsZHJlblxyXG4gICAgICAgICAqICRhbmltYXRlLmVuYWJsZWQoZWxlbWVudCwgdHJ1ZSk7XHJcbiAgICAgICAgICogJGFuaW1hdGUuZW5hYmxlZChlbGVtZW50LCBmYWxzZSk7XHJcbiAgICAgICAgICogYGBgXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnQ9fSBlbGVtZW50IHRoZSBlbGVtZW50IHRoYXQgd2lsbCBiZSBjb25zaWRlcmVkIGZvciBjaGVja2luZy9zZXR0aW5nIHRoZSBlbmFibGVkIHN0YXRlXHJcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gZW5hYmxlZCB3aGV0aGVyIG9yIG5vdCB0aGUgYW5pbWF0aW9ucyB3aWxsIGJlIGVuYWJsZWQgZm9yIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtib29sZWFufSB3aGV0aGVyIG9yIG5vdCBhbmltYXRpb25zIGFyZSBlbmFibGVkXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZW5hYmxlZDogJCRhbmltYXRlUXVldWUuZW5hYmxlZCxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRhbmltYXRlI2NhbmNlbFxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIENhbmNlbHMgdGhlIHByb3ZpZGVkIGFuaW1hdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7UHJvbWlzZX0gYW5pbWF0aW9uUHJvbWlzZSBUaGUgYW5pbWF0aW9uIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZCB3aGVuIGFuIGFuaW1hdGlvbiBpcyBzdGFydGVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKHJ1bm5lcikge1xyXG4gICAgICAgICAgaWYgKHJ1bm5lci5lbmQpIHtcclxuICAgICAgICAgICAgcnVubmVyLmVuZCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRhbmltYXRlI2VudGVyXHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gSW5zZXJ0cyB0aGUgZWxlbWVudCBpbnRvIHRoZSBET00gZWl0aGVyIGFmdGVyIHRoZSBgYWZ0ZXJgIGVsZW1lbnQgKGlmIHByb3ZpZGVkKSBvclxyXG4gICAgICAgICAqICAgYXMgdGhlIGZpcnN0IGNoaWxkIHdpdGhpbiB0aGUgYHBhcmVudGAgZWxlbWVudCBhbmQgdGhlbiB0cmlnZ2VycyBhbiBhbmltYXRpb24uXHJcbiAgICAgICAgICogICBBIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGR1cmluZyB0aGUgbmV4dCBkaWdlc3Qgb25jZSB0aGUgYW5pbWF0aW9uXHJcbiAgICAgICAgICogICBoYXMgY29tcGxldGVkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHdpbGwgYmUgaW5zZXJ0ZWQgaW50byB0aGUgRE9NXHJcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBwYXJlbnQgdGhlIHBhcmVudCBlbGVtZW50IHdoaWNoIHdpbGwgYXBwZW5kIHRoZSBlbGVtZW50IGFzXHJcbiAgICAgICAgICogICBhIGNoaWxkIChzbyBsb25nIGFzIHRoZSBhZnRlciBlbGVtZW50IGlzIG5vdCBwcmVzZW50KVxyXG4gICAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudD19IGFmdGVyIHRoZSBzaWJsaW5nIGVsZW1lbnQgYWZ0ZXIgd2hpY2ggdGhlIGVsZW1lbnQgd2lsbCBiZSBhcHBlbmRlZFxyXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxyXG4gICAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxyXG4gICAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcclxuICAgICAgICAgKiAgIC0gKipyZW1vdmVDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSBlbGVtZW50XHJcbiAgICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBlbnRlcjogZnVuY3Rpb24gZW50ZXIoZWxlbWVudCwgcGFyZW50LCBhZnRlciwgb3B0aW9ucykge1xyXG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50ICYmIGpxTGl0ZShwYXJlbnQpO1xyXG4gICAgICAgICAgYWZ0ZXIgPSBhZnRlciAmJiBqcUxpdGUoYWZ0ZXIpO1xyXG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IGFmdGVyLnBhcmVudCgpO1xyXG4gICAgICAgICAgZG9tSW5zZXJ0KGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIpO1xyXG4gICAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2VudGVyJywgcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNtb3ZlXHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKiBAZGVzY3JpcHRpb24gSW5zZXJ0cyAobW92ZXMpIHRoZSBlbGVtZW50IGludG8gaXRzIG5ldyBwb3NpdGlvbiBpbiB0aGUgRE9NIGVpdGhlciBhZnRlclxyXG4gICAgICAgICAqICAgdGhlIGBhZnRlcmAgZWxlbWVudCAoaWYgcHJvdmlkZWQpIG9yIGFzIHRoZSBmaXJzdCBjaGlsZCB3aXRoaW4gdGhlIGBwYXJlbnRgIGVsZW1lbnRcclxuICAgICAgICAgKiAgIGFuZCB0aGVuIHRyaWdnZXJzIGFuIGFuaW1hdGlvbi4gQSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZFxyXG4gICAgICAgICAqICAgZHVyaW5nIHRoZSBuZXh0IGRpZ2VzdCBvbmNlIHRoZSBhbmltYXRpb24gaGFzIGNvbXBsZXRlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gZWxlbWVudCB0aGUgZWxlbWVudCB3aGljaCB3aWxsIGJlIG1vdmVkIGludG8gdGhlIG5ldyBET00gcG9zaXRpb25cclxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHBhcmVudCB0aGUgcGFyZW50IGVsZW1lbnQgd2hpY2ggd2lsbCBhcHBlbmQgdGhlIGVsZW1lbnQgYXNcclxuICAgICAgICAgKiAgIGEgY2hpbGQgKHNvIGxvbmcgYXMgdGhlIGFmdGVyIGVsZW1lbnQgaXMgbm90IHByZXNlbnQpXHJcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gYWZ0ZXIgdGhlIHNpYmxpbmcgZWxlbWVudCBhZnRlciB3aGljaCB0aGUgZWxlbWVudCB3aWxsIGJlIGFwcGVuZGVkXHJcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucy9zdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgLSAqKmFkZENsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIGFkZCB0byBlbGVtZW50XHJcbiAgICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxyXG4gICAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcclxuICAgICAgICAgKiAgIC0gKip0byoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IGVuZCBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgZnJvbWBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUoZWxlbWVudCwgcGFyZW50LCBhZnRlciwgb3B0aW9ucykge1xyXG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50ICYmIGpxTGl0ZShwYXJlbnQpO1xyXG4gICAgICAgICAgYWZ0ZXIgPSBhZnRlciAmJiBqcUxpdGUoYWZ0ZXIpO1xyXG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IGFmdGVyLnBhcmVudCgpO1xyXG4gICAgICAgICAgZG9tSW5zZXJ0KGVsZW1lbnQsIHBhcmVudCwgYWZ0ZXIpO1xyXG4gICAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ21vdmUnLCBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucykpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkYW5pbWF0ZSNsZWF2ZVxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFRyaWdnZXJzIGFuIGFuaW1hdGlvbiBhbmQgdGhlbiByZW1vdmVzIHRoZSBlbGVtZW50IGZyb20gdGhlIERPTS5cclxuICAgICAgICAgKiBXaGVuIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgYSBwcm9taXNlIGlzIHJldHVybmVkIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBkdXJpbmcgdGhlIG5leHRcclxuICAgICAgICAgKiBkaWdlc3Qgb25jZSB0aGUgYW5pbWF0aW9uIGhhcyBjb21wbGV0ZWQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlIERPTVxyXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxyXG4gICAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxyXG4gICAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcclxuICAgICAgICAgKiAgIC0gKipyZW1vdmVDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSBlbGVtZW50XHJcbiAgICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBsZWF2ZTogZnVuY3Rpb24gbGVhdmUoZWxlbWVudCwgb3B0aW9ucykge1xyXG4gICAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ2xlYXZlJywgcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjYWRkQ2xhc3NcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFRyaWdnZXJzIGFuIGFkZENsYXNzIGFuaW1hdGlvbiBzdXJyb3VuZGluZyB0aGUgYWRkaXRpb24gb2YgdGhlIHByb3ZpZGVkIENTUyBjbGFzcyhlcykuIFVwb25cclxuICAgICAgICAgKiAgIGV4ZWN1dGlvbiwgdGhlIGFkZENsYXNzIG9wZXJhdGlvbiB3aWxsIG9ubHkgYmUgaGFuZGxlZCBhZnRlciB0aGUgbmV4dCBkaWdlc3QgYW5kIGl0IHdpbGwgbm90IHRyaWdnZXIgYW5cclxuICAgICAgICAgKiAgIGFuaW1hdGlvbiBpZiBlbGVtZW50IGFscmVhZHkgY29udGFpbnMgdGhlIENTUyBjbGFzcyBvciBpZiB0aGUgY2xhc3MgaXMgcmVtb3ZlZCBhdCBhIGxhdGVyIHN0ZXAuXHJcbiAgICAgICAgICogICBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcclxuICAgICAgICAgKiAgIChsaWtlIGVudGVyLCBtb3ZlIGFuZCBsZWF2ZSkgc2luY2UgdGhlIENTUyBjbGFzc2VzIG1heSBiZSBhZGRlZC9yZW1vdmVkIGF0IGRpZmZlcmVudCBwb2ludHNcclxuICAgICAgICAgKiAgIGRlcGVuZGluZyBpZiBDU1Mgb3IgSmF2YVNjcmlwdCBhbmltYXRpb25zIGFyZSB1c2VkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHRoZSBDU1MgY2xhc3NlcyB3aWxsIGJlIGFwcGxpZWQgdG9cclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NOYW1lIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSBhZGRlZCAobXVsdGlwbGUgY2xhc3NlcyBhcmUgc2VwYXJhdGVkIHZpYSBzcGFjZXMpXHJcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3Q9fSBvcHRpb25zIGFuIG9wdGlvbmFsIGNvbGxlY3Rpb24gb2Ygb3B0aW9ucy9zdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgICogICBUaGUgb2JqZWN0IGNhbiBoYXZlIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgLSAqKmFkZENsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIGFkZCB0byBlbGVtZW50XHJcbiAgICAgICAgICogICAtICoqZnJvbSoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYHRvYFxyXG4gICAgICAgICAqICAgLSAqKnJlbW92ZUNsYXNzKiogLSBge3N0cmluZ31gIC0gc3BhY2Utc2VwYXJhdGVkIENTUyBjbGFzc2VzIHRvIHJlbW92ZSBmcm9tIGVsZW1lbnRcclxuICAgICAgICAgKiAgIC0gKip0byoqIC0gYHtPYmplY3R9YCAtIENTUyBwcm9wZXJ0aWVzICYgdmFsdWVzIGF0IGVuZCBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgZnJvbWBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm4ge1Byb21pc2V9IHRoZSBhbmltYXRpb24gY2FsbGJhY2sgcHJvbWlzZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGFkZENsYXNzOiBmdW5jdGlvbiBhZGRDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgICBvcHRpb25zLmFkZENsYXNzID0gbWVyZ2VDbGFzc2VzKG9wdGlvbnMuYWRkY2xhc3MsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgICByZXR1cm4gJCRhbmltYXRlUXVldWUucHVzaChlbGVtZW50LCAnYWRkQ2xhc3MnLCBvcHRpb25zKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJGFuaW1hdGUjcmVtb3ZlQ2xhc3NcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFRyaWdnZXJzIGEgcmVtb3ZlQ2xhc3MgYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSByZW1vdmFsIG9mIHRoZSBwcm92aWRlZCBDU1MgY2xhc3MoZXMpLiBVcG9uXHJcbiAgICAgICAgICogICBleGVjdXRpb24sIHRoZSByZW1vdmVDbGFzcyBvcGVyYXRpb24gd2lsbCBvbmx5IGJlIGhhbmRsZWQgYWZ0ZXIgdGhlIG5leHQgZGlnZXN0IGFuZCBpdCB3aWxsIG5vdCB0cmlnZ2VyIGFuXHJcbiAgICAgICAgICogICBhbmltYXRpb24gaWYgZWxlbWVudCBkb2VzIG5vdCBjb250YWluIHRoZSBDU1MgY2xhc3Mgb3IgaWYgdGhlIGNsYXNzIGlzIGFkZGVkIGF0IGEgbGF0ZXIgc3RlcC5cclxuICAgICAgICAgKiAgIE5vdGUgdGhhdCBjbGFzcy1iYXNlZCBhbmltYXRpb25zIGFyZSB0cmVhdGVkIGRpZmZlcmVudGx5IGNvbXBhcmVkIHRvIHN0cnVjdHVyYWwgYW5pbWF0aW9uc1xyXG4gICAgICAgICAqICAgKGxpa2UgZW50ZXIsIG1vdmUgYW5kIGxlYXZlKSBzaW5jZSB0aGUgQ1NTIGNsYXNzZXMgbWF5IGJlIGFkZGVkL3JlbW92ZWQgYXQgZGlmZmVyZW50IHBvaW50c1xyXG4gICAgICAgICAqICAgZGVwZW5kaW5nIGlmIENTUyBvciBKYXZhU2NyaXB0IGFuaW1hdGlvbnMgYXJlIHVzZWQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0b1xyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc05hbWUgdGhlIENTUyBjbGFzcyhlcykgdGhhdCB3aWxsIGJlIHJlbW92ZWQgKG11bHRpcGxlIGNsYXNzZXMgYXJlIHNlcGFyYXRlZCB2aWEgc3BhY2VzKVxyXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxyXG4gICAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxyXG4gICAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcclxuICAgICAgICAgKiAgIC0gKipyZW1vdmVDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSBlbGVtZW50XHJcbiAgICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICAgKi9cclxuICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gcmVtb3ZlQ2xhc3MoZWxlbWVudCwgY2xhc3NOYW1lLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgICAgb3B0aW9ucy5yZW1vdmVDbGFzcyA9IG1lcmdlQ2xhc3NlcyhvcHRpb25zLnJlbW92ZUNsYXNzLCBjbGFzc05hbWUpO1xyXG4gICAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3JlbW92ZUNsYXNzJywgb3B0aW9ucyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRhbmltYXRlI3NldENsYXNzXHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvbiBQZXJmb3JtcyBib3RoIHRoZSBhZGRpdGlvbiBhbmQgcmVtb3ZhbCBvZiBhIENTUyBjbGFzc2VzIG9uIGFuIGVsZW1lbnQgYW5kIChkdXJpbmcgdGhlIHByb2Nlc3MpXHJcbiAgICAgICAgICogICAgdHJpZ2dlcnMgYW4gYW5pbWF0aW9uIHN1cnJvdW5kaW5nIHRoZSBjbGFzcyBhZGRpdGlvbi9yZW1vdmFsLiBNdWNoIGxpa2UgYCRhbmltYXRlLmFkZENsYXNzYCBhbmRcclxuICAgICAgICAgKiAgICBgJGFuaW1hdGUucmVtb3ZlQ2xhc3NgLCBgc2V0Q2xhc3NgIHdpbGwgb25seSBldmFsdWF0ZSB0aGUgY2xhc3NlcyBiZWluZyBhZGRlZC9yZW1vdmVkIG9uY2UgYSBkaWdlc3QgaGFzXHJcbiAgICAgICAgICogICAgcGFzc2VkLiBOb3RlIHRoYXQgY2xhc3MtYmFzZWQgYW5pbWF0aW9ucyBhcmUgdHJlYXRlZCBkaWZmZXJlbnRseSBjb21wYXJlZCB0byBzdHJ1Y3R1cmFsIGFuaW1hdGlvbnNcclxuICAgICAgICAgKiAgICAobGlrZSBlbnRlciwgbW92ZSBhbmQgbGVhdmUpIHNpbmNlIHRoZSBDU1MgY2xhc3NlcyBtYXkgYmUgYWRkZWQvcmVtb3ZlZCBhdCBkaWZmZXJlbnQgcG9pbnRzXHJcbiAgICAgICAgICogICAgZGVwZW5kaW5nIGlmIENTUyBvciBKYXZhU2NyaXB0IGFuaW1hdGlvbnMgYXJlIHVzZWQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IGVsZW1lbnQgdGhlIGVsZW1lbnQgd2hpY2ggdGhlIENTUyBjbGFzc2VzIHdpbGwgYmUgYXBwbGllZCB0b1xyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBhZGQgdGhlIENTUyBjbGFzcyhlcykgdGhhdCB3aWxsIGJlIGFkZGVkIChtdWx0aXBsZSBjbGFzc2VzIGFyZSBzZXBhcmF0ZWQgdmlhIHNwYWNlcylcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gcmVtb3ZlIHRoZSBDU1MgY2xhc3MoZXMpIHRoYXQgd2lsbCBiZSByZW1vdmVkIChtdWx0aXBsZSBjbGFzc2VzIGFyZSBzZXBhcmF0ZWQgdmlhIHNwYWNlcylcclxuICAgICAgICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgYW4gb3B0aW9uYWwgY29sbGVjdGlvbiBvZiBvcHRpb25zL3N0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cclxuICAgICAgICAgKiAgIFRoZSBvYmplY3QgY2FuIGhhdmUgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAtICoqYWRkQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gYWRkIHRvIGVsZW1lbnRcclxuICAgICAgICAgKiAgIC0gKipmcm9tKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgdGhlIGJlZ2lubmluZyBvZiBhbmltYXRpb24uIE11c3QgaGF2ZSBtYXRjaGluZyBgdG9gXHJcbiAgICAgICAgICogICAtICoqcmVtb3ZlQ2xhc3MqKiAtIGB7c3RyaW5nfWAgLSBzcGFjZS1zZXBhcmF0ZWQgQ1NTIGNsYXNzZXMgdG8gcmVtb3ZlIGZyb20gZWxlbWVudFxyXG4gICAgICAgICAqICAgLSAqKnRvKiogLSBge09iamVjdH1gIC0gQ1NTIHByb3BlcnRpZXMgJiB2YWx1ZXMgYXQgZW5kIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGBmcm9tYFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHJldHVybiB7UHJvbWlzZX0gdGhlIGFuaW1hdGlvbiBjYWxsYmFjayBwcm9taXNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgc2V0Q2xhc3M6IGZ1bmN0aW9uIHNldENsYXNzKGVsZW1lbnQsIGFkZCwgcmVtb3ZlLCBvcHRpb25zKSB7XHJcbiAgICAgICAgICBvcHRpb25zID0gcHJlcGFyZUFuaW1hdGVPcHRpb25zKG9wdGlvbnMpO1xyXG4gICAgICAgICAgb3B0aW9ucy5hZGRDbGFzcyA9IG1lcmdlQ2xhc3NlcyhvcHRpb25zLmFkZENsYXNzLCBhZGQpO1xyXG4gICAgICAgICAgb3B0aW9ucy5yZW1vdmVDbGFzcyA9IG1lcmdlQ2xhc3NlcyhvcHRpb25zLnJlbW92ZUNsYXNzLCByZW1vdmUpO1xyXG4gICAgICAgICAgcmV0dXJuICQkYW5pbWF0ZVF1ZXVlLnB1c2goZWxlbWVudCwgJ3NldENsYXNzJywgb3B0aW9ucyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRhbmltYXRlI2FuaW1hdGVcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uIFBlcmZvcm1zIGFuIGlubGluZSBhbmltYXRpb24gb24gdGhlIGVsZW1lbnQgd2hpY2ggYXBwbGllcyB0aGUgcHJvdmlkZWQgdG8gYW5kIGZyb20gQ1NTIHN0eWxlcyB0byB0aGUgZWxlbWVudC5cclxuICAgICAgICAgKiBJZiBhbnkgZGV0ZWN0ZWQgQ1NTIHRyYW5zaXRpb24sIGtleWZyYW1lIG9yIEphdmFTY3JpcHQgbWF0Y2hlcyB0aGUgcHJvdmlkZWQgY2xhc3NOYW1lIHZhbHVlLCB0aGVuIHRoZSBhbmltYXRpb24gd2lsbCB0YWtlXHJcbiAgICAgICAgICogb24gdGhlIHByb3ZpZGVkIHN0eWxlcy4gRm9yIGV4YW1wbGUsIGlmIGEgdHJhbnNpdGlvbiBhbmltYXRpb24gaXMgc2V0IGZvciB0aGUgZ2l2ZW4gY2xhc3NOYW1lLCB0aGVuIHRoZSBwcm92aWRlZCBgZnJvbWAgYW5kXHJcbiAgICAgICAgICogYHRvYCBzdHlsZXMgd2lsbCBiZSBhcHBsaWVkIGFsb25nc2lkZSB0aGUgZ2l2ZW4gdHJhbnNpdGlvbi4gSWYgdGhlIENTUyBzdHlsZSBwcm92aWRlZCBpbiBgZnJvbWAgZG9lcyBub3QgaGF2ZSBhIGNvcnJlc3BvbmRpbmdcclxuICAgICAgICAgKiBzdHlsZSBpbiBgdG9gLCB0aGUgc3R5bGUgaW4gYGZyb21gIGlzIGFwcGxpZWQgaW1tZWRpYXRlbHksIGFuZCBubyBhbmltYXRpb24gaXMgcnVuLlxyXG4gICAgICAgICAqIElmIGEgSmF2YVNjcmlwdCBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgdGhlbiB0aGUgcHJvdmlkZWQgc3R5bGVzIHdpbGwgYmUgZ2l2ZW4gaW4gYXMgZnVuY3Rpb24gcGFyYW1ldGVycyBpbnRvIHRoZSBgYW5pbWF0ZWBcclxuICAgICAgICAgKiBtZXRob2QgKG9yIGFzIHBhcnQgb2YgdGhlIGBvcHRpb25zYCBwYXJhbWV0ZXIpOlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogYGBganNcclxuICAgICAgICAgKiBuZ01vZHVsZS5hbmltYXRpb24oJy5teS1pbmxpbmUtYW5pbWF0aW9uJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICogICByZXR1cm4ge1xyXG4gICAgICAgICAqICAgICBhbmltYXRlIDogZnVuY3Rpb24oZWxlbWVudCwgZnJvbSwgdG8sIGRvbmUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgKiAgICAgICAvL2FuaW1hdGlvblxyXG4gICAgICAgICAqICAgICAgIGRvbmUoKTtcclxuICAgICAgICAgKiAgICAgfVxyXG4gICAgICAgICAqICAgfVxyXG4gICAgICAgICAqIH0pO1xyXG4gICAgICAgICAqIGBgYFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtET01FbGVtZW50fSBlbGVtZW50IHRoZSBlbGVtZW50IHdoaWNoIHRoZSBDU1Mgc3R5bGVzIHdpbGwgYmUgYXBwbGllZCB0b1xyXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBmcm9tIHRoZSBmcm9tIChzdGFydGluZykgQ1NTIHN0eWxlcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBhbmQgYWNyb3NzIHRoZSBhbmltYXRpb24uXHJcbiAgICAgICAgICogQHBhcmFtIHtvYmplY3R9IHRvIHRoZSB0byAoZGVzdGluYXRpb24pIENTUyBzdHlsZXMgdGhhdCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgYW5kIGFjcm9zcyB0aGUgYW5pbWF0aW9uLlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gY2xhc3NOYW1lIGFuIG9wdGlvbmFsIENTUyBjbGFzcyB0aGF0IHdpbGwgYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudCBmb3IgdGhlIGR1cmF0aW9uIG9mIHRoZSBhbmltYXRpb24uIElmXHJcbiAgICAgICAgICogICAgdGhpcyB2YWx1ZSBpcyBsZWZ0IGFzIGVtcHR5IHRoZW4gYSBDU1MgY2xhc3Mgb2YgYG5nLWlubGluZS1hbmltYXRlYCB3aWxsIGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuXHJcbiAgICAgICAgICogICAgKE5vdGUgdGhhdCBpZiBubyBhbmltYXRpb24gaXMgZGV0ZWN0ZWQgdGhlbiB0aGlzIHZhbHVlIHdpbGwgbm90IGJlIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQuKVxyXG4gICAgICAgICAqIEBwYXJhbSB7b2JqZWN0PX0gb3B0aW9ucyBhbiBvcHRpb25hbCBjb2xsZWN0aW9uIG9mIG9wdGlvbnMvc3R5bGVzIHRoYXQgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBlbGVtZW50LlxyXG4gICAgICAgICAqICAgVGhlIG9iamVjdCBjYW4gaGF2ZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgIC0gKiphZGRDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byBhZGQgdG8gZWxlbWVudFxyXG4gICAgICAgICAqICAgLSAqKmZyb20qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCB0aGUgYmVnaW5uaW5nIG9mIGFuaW1hdGlvbi4gTXVzdCBoYXZlIG1hdGNoaW5nIGB0b2BcclxuICAgICAgICAgKiAgIC0gKipyZW1vdmVDbGFzcyoqIC0gYHtzdHJpbmd9YCAtIHNwYWNlLXNlcGFyYXRlZCBDU1MgY2xhc3NlcyB0byByZW1vdmUgZnJvbSBlbGVtZW50XHJcbiAgICAgICAgICogICAtICoqdG8qKiAtIGB7T2JqZWN0fWAgLSBDU1MgcHJvcGVydGllcyAmIHZhbHVlcyBhdCBlbmQgb2YgYW5pbWF0aW9uLiBNdXN0IGhhdmUgbWF0Y2hpbmcgYGZyb21gXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSB0aGUgYW5pbWF0aW9uIGNhbGxiYWNrIHByb21pc2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBhbmltYXRlOiBmdW5jdGlvbiBhbmltYXRlKGVsZW1lbnQsIGZyb20sIHRvLCBjbGFzc05hbWUsIG9wdGlvbnMpIHtcclxuICAgICAgICAgIG9wdGlvbnMgPSBwcmVwYXJlQW5pbWF0ZU9wdGlvbnMob3B0aW9ucyk7XHJcbiAgICAgICAgICBvcHRpb25zLmZyb20gPSBvcHRpb25zLmZyb20gPyBleHRlbmQob3B0aW9ucy5mcm9tLCBmcm9tKSA6IGZyb207XHJcbiAgICAgICAgICBvcHRpb25zLnRvID0gb3B0aW9ucy50byA/IGV4dGVuZChvcHRpb25zLnRvLCB0bykgOiB0bztcclxuXHJcbiAgICAgICAgICBjbGFzc05hbWUgPSBjbGFzc05hbWUgfHwgJ25nLWlubGluZS1hbmltYXRlJztcclxuICAgICAgICAgIG9wdGlvbnMudGVtcENsYXNzZXMgPSBtZXJnZUNsYXNzZXMob3B0aW9ucy50ZW1wQ2xhc3NlcywgY2xhc3NOYW1lKTtcclxuICAgICAgICAgIHJldHVybiAkJGFuaW1hdGVRdWV1ZS5wdXNoKGVsZW1lbnQsICdhbmltYXRlJywgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfV07XHJcbiAgfV07XHJcblxyXG4gIHZhciAkJEFuaW1hdGVBc3luY1J1bkZhY3RvcnlQcm92aWRlciA9IC8qKiBAdGhpcyAqL2Z1bmN0aW9uICQkQW5pbWF0ZUFzeW5jUnVuRmFjdG9yeVByb3ZpZGVyKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gWyckJHJBRicsIGZ1bmN0aW9uICgkJHJBRikge1xyXG4gICAgICB2YXIgd2FpdFF1ZXVlID0gW107XHJcblxyXG4gICAgICBmdW5jdGlvbiB3YWl0Rm9yVGljayhmbikge1xyXG4gICAgICAgIHdhaXRRdWV1ZS5wdXNoKGZuKTtcclxuICAgICAgICBpZiAod2FpdFF1ZXVlLmxlbmd0aCA+IDEpIHJldHVybjtcclxuICAgICAgICAkJHJBRihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdhaXRRdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB3YWl0UXVldWVbaV0oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHdhaXRRdWV1ZSA9IFtdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwYXNzZWQgPSBmYWxzZTtcclxuICAgICAgICB3YWl0Rm9yVGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBwYXNzZWQgPSB0cnVlO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgIGlmIChwYXNzZWQpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdhaXRGb3JUaWNrKGNhbGxiYWNrKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9O1xyXG4gICAgfV07XHJcbiAgfTtcclxuXHJcbiAgdmFyICQkQW5pbWF0ZVJ1bm5lckZhY3RvcnlQcm92aWRlciA9IC8qKiBAdGhpcyAqL2Z1bmN0aW9uICQkQW5pbWF0ZVJ1bm5lckZhY3RvcnlQcm92aWRlcigpIHtcclxuICAgIHRoaXMuJGdldCA9IFsnJHEnLCAnJHNuaWZmZXInLCAnJCRhbmltYXRlQXN5bmNSdW4nLCAnJCRpc0RvY3VtZW50SGlkZGVuJywgJyR0aW1lb3V0JywgZnVuY3Rpb24gKCRxLCAkc25pZmZlciwgJCRhbmltYXRlQXN5bmNSdW4sICQkaXNEb2N1bWVudEhpZGRlbiwgJHRpbWVvdXQpIHtcclxuXHJcbiAgICAgIHZhciBJTklUSUFMX1NUQVRFID0gMDtcclxuICAgICAgdmFyIERPTkVfUEVORElOR19TVEFURSA9IDE7XHJcbiAgICAgIHZhciBET05FX0NPTVBMRVRFX1NUQVRFID0gMjtcclxuXHJcbiAgICAgIEFuaW1hdGVSdW5uZXIuY2hhaW4gPSBmdW5jdGlvbiAoY2hhaW4sIGNhbGxiYWNrKSB7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuXHJcbiAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgIGZ1bmN0aW9uIG5leHQoKSB7XHJcbiAgICAgICAgICBpZiAoaW5kZXggPT09IGNoYWluLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayh0cnVlKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNoYWluW2luZGV4XShmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgIGNhbGxiYWNrKGZhbHNlKTtcclxuICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICAgICAgbmV4dCgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgQW5pbWF0ZVJ1bm5lci5hbGwgPSBmdW5jdGlvbiAocnVubmVycywgY2FsbGJhY2spIHtcclxuICAgICAgICB2YXIgY291bnQgPSAwO1xyXG4gICAgICAgIHZhciBzdGF0dXMgPSB0cnVlO1xyXG4gICAgICAgIGZvckVhY2gocnVubmVycywgZnVuY3Rpb24gKHJ1bm5lcikge1xyXG4gICAgICAgICAgcnVubmVyLmRvbmUob25Qcm9ncmVzcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uUHJvZ3Jlc3MocmVzcG9uc2UpIHtcclxuICAgICAgICAgIHN0YXR1cyA9IHN0YXR1cyAmJiByZXNwb25zZTtcclxuICAgICAgICAgIGlmICgrK2NvdW50ID09PSBydW5uZXJzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhzdGF0dXMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIEFuaW1hdGVSdW5uZXIoaG9zdCkge1xyXG4gICAgICAgIHRoaXMuc2V0SG9zdChob3N0KTtcclxuXHJcbiAgICAgICAgdmFyIHJhZlRpY2sgPSAkJGFuaW1hdGVBc3luY1J1bigpO1xyXG4gICAgICAgIHZhciB0aW1lb3V0VGljayA9IGZ1bmN0aW9uIHRpbWVvdXRUaWNrKGZuKSB7XHJcbiAgICAgICAgICAkdGltZW91dChmbiwgMCwgZmFsc2UpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MgPSBbXTtcclxuICAgICAgICB0aGlzLl90aWNrID0gZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgICBpZiAoJCRpc0RvY3VtZW50SGlkZGVuKCkpIHtcclxuICAgICAgICAgICAgdGltZW91dFRpY2soZm4pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmFmVGljayhmbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLl9zdGF0ZSA9IDA7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEFuaW1hdGVSdW5uZXIucHJvdG90eXBlID0ge1xyXG4gICAgICAgIHNldEhvc3Q6IGZ1bmN0aW9uIHNldEhvc3QoaG9zdCkge1xyXG4gICAgICAgICAgdGhpcy5ob3N0ID0gaG9zdCB8fCB7fTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBkb25lOiBmdW5jdGlvbiBkb25lKGZuKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5fc3RhdGUgPT09IERPTkVfQ09NUExFVEVfU1RBVEUpIHtcclxuICAgICAgICAgICAgZm4oKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MucHVzaChmbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcHJvZ3Jlc3M6IG5vb3AsXHJcblxyXG4gICAgICAgIGdldFByb21pc2U6IGZ1bmN0aW9uIGdldFByb21pc2UoKSB7XHJcbiAgICAgICAgICBpZiAoIXRoaXMucHJvbWlzZSkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICAgIHRoaXMucHJvbWlzZSA9ICRxKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICAgICAgICBzZWxmLmRvbmUoZnVuY3Rpb24gKHN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgICAgcmVqZWN0KCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICB0aGVuOiBmdW5jdGlvbiB0aGVuKHJlc29sdmVIYW5kbGVyLCByZWplY3RIYW5kbGVyKSB7XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXRQcm9taXNlKCkudGhlbihyZXNvbHZlSGFuZGxlciwgcmVqZWN0SGFuZGxlcik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgJ2NhdGNoJzogZnVuY3Rpb24gX2NhdGNoKGhhbmRsZXIpIHtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKVsnY2F0Y2gnXShoYW5kbGVyKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAnZmluYWxseSc6IGZ1bmN0aW9uIF9maW5hbGx5KGhhbmRsZXIpIHtcclxuICAgICAgICAgIHJldHVybiB0aGlzLmdldFByb21pc2UoKVsnZmluYWxseSddKGhhbmRsZXIpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZSgpIHtcclxuICAgICAgICAgIGlmICh0aGlzLmhvc3QucGF1c2UpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LnBhdXNlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgcmVzdW1lOiBmdW5jdGlvbiByZXN1bWUoKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5ob3N0LnJlc3VtZSkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QucmVzdW1lKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgZW5kOiBmdW5jdGlvbiBlbmQoKSB7XHJcbiAgICAgICAgICBpZiAodGhpcy5ob3N0LmVuZCkge1xyXG4gICAgICAgICAgICB0aGlzLmhvc3QuZW5kKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLl9yZXNvbHZlKHRydWUpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkge1xyXG4gICAgICAgICAgaWYgKHRoaXMuaG9zdC5jYW5jZWwpIHtcclxuICAgICAgICAgICAgdGhpcy5ob3N0LmNhbmNlbCgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGhpcy5fcmVzb2x2ZShmYWxzZSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgY29tcGxldGU6IGZ1bmN0aW9uIGNvbXBsZXRlKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgICAgICBpZiAoc2VsZi5fc3RhdGUgPT09IElOSVRJQUxfU1RBVEUpIHtcclxuICAgICAgICAgICAgc2VsZi5fc3RhdGUgPSBET05FX1BFTkRJTkdfU1RBVEU7XHJcbiAgICAgICAgICAgIHNlbGYuX3RpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHNlbGYuX3Jlc29sdmUocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICBfcmVzb2x2ZTogZnVuY3Rpb24gX3Jlc29sdmUocmVzcG9uc2UpIHtcclxuICAgICAgICAgIGlmICh0aGlzLl9zdGF0ZSAhPT0gRE9ORV9DT01QTEVURV9TVEFURSkge1xyXG4gICAgICAgICAgICBmb3JFYWNoKHRoaXMuX2RvbmVDYWxsYmFja3MsIGZ1bmN0aW9uIChmbikge1xyXG4gICAgICAgICAgICAgIGZuKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuX2RvbmVDYWxsYmFja3MubGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBET05FX0NPTVBMRVRFX1NUQVRFO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBBbmltYXRlUnVubmVyO1xyXG4gICAgfV07XHJcbiAgfTtcclxuXHJcbiAgLyogZXhwb3J0ZWQgJENvcmVBbmltYXRlQ3NzUHJvdmlkZXIgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSAkYW5pbWF0ZUNzc1xyXG4gICAqIEBraW5kIG9iamVjdFxyXG4gICAqIEB0aGlzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGlzIHRoZSBjb3JlIHZlcnNpb24gb2YgYCRhbmltYXRlQ3NzYC4gQnkgZGVmYXVsdCwgb25seSB3aGVuIHRoZSBgbmdBbmltYXRlYCBpcyBpbmNsdWRlZCxcclxuICAgKiB0aGVuIHRoZSBgJGFuaW1hdGVDc3NgIHNlcnZpY2Ugd2lsbCBhY3R1YWxseSBwZXJmb3JtIGFuaW1hdGlvbnMuXHJcbiAgICpcclxuICAgKiBDbGljayBoZXJlIHtAbGluayBuZ0FuaW1hdGUuJGFuaW1hdGVDc3MgdG8gcmVhZCB0aGUgZG9jdW1lbnRhdGlvbiBmb3IgJGFuaW1hdGVDc3N9LlxyXG4gICAqL1xyXG4gIHZhciAkQ29yZUFuaW1hdGVDc3NQcm92aWRlciA9IGZ1bmN0aW9uICRDb3JlQW5pbWF0ZUNzc1Byb3ZpZGVyKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gWyckJHJBRicsICckcScsICckJEFuaW1hdGVSdW5uZXInLCBmdW5jdGlvbiAoJCRyQUYsICRxLCAkJEFuaW1hdGVSdW5uZXIpIHtcclxuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZWxlbWVudCwgaW5pdGlhbE9wdGlvbnMpIHtcclxuICAgICAgICAvLyBhbGwgb2YgdGhlIGFuaW1hdGlvbiBmdW5jdGlvbnMgc2hvdWxkIGNyZWF0ZVxyXG4gICAgICAgIC8vIGEgY29weSBvZiB0aGUgb3B0aW9ucyBkYXRhLCBob3dldmVyLCBpZiBhXHJcbiAgICAgICAgLy8gcGFyZW50IHNlcnZpY2UgaGFzIGFscmVhZHkgY3JlYXRlZCBhIGNvcHkgdGhlblxyXG4gICAgICAgIC8vIHdlIHNob3VsZCBzdGljayB0byB1c2luZyB0aGF0XHJcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBpbml0aWFsT3B0aW9ucyB8fCB7fTtcclxuICAgICAgICBpZiAoIW9wdGlvbnMuJCRwcmVwYXJlZCkge1xyXG4gICAgICAgICAgb3B0aW9ucyA9IGNvcHkob3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyB0aGVyZSBpcyBubyBwb2ludCBpbiBhcHBseWluZyB0aGUgc3R5bGVzIHNpbmNlXHJcbiAgICAgICAgLy8gdGhlcmUgaXMgbm8gYW5pbWF0aW9uIHRoYXQgZ29lcyBvbiBhdCBhbGwgaW5cclxuICAgICAgICAvLyB0aGlzIHZlcnNpb24gb2YgJGFuaW1hdGVDc3MuXHJcbiAgICAgICAgaWYgKG9wdGlvbnMuY2xlYW51cFN0eWxlcykge1xyXG4gICAgICAgICAgb3B0aW9ucy5mcm9tID0gb3B0aW9ucy50byA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAob3B0aW9ucy5mcm9tKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmNzcyhvcHRpb25zLmZyb20pO1xyXG4gICAgICAgICAgb3B0aW9ucy5mcm9tID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBjbG9zZWQsXHJcbiAgICAgICAgICAgIHJ1bm5lciA9IG5ldyAkJEFuaW1hdGVSdW5uZXIoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgc3RhcnQ6IHJ1bixcclxuICAgICAgICAgIGVuZDogcnVuXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcnVuKCkge1xyXG4gICAgICAgICAgJCRyQUYoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBhcHBseUFuaW1hdGlvbkNvbnRlbnRzKCk7XHJcbiAgICAgICAgICAgIGlmICghY2xvc2VkKSB7XHJcbiAgICAgICAgICAgICAgcnVubmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2xvc2VkID0gdHJ1ZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIHJ1bm5lcjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIGFwcGx5QW5pbWF0aW9uQ29udGVudHMoKSB7XHJcbiAgICAgICAgICBpZiAob3B0aW9ucy5hZGRDbGFzcykge1xyXG4gICAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKG9wdGlvbnMuYWRkQ2xhc3MpO1xyXG4gICAgICAgICAgICBvcHRpb25zLmFkZENsYXNzID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChvcHRpb25zLnJlbW92ZUNsYXNzKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3Mob3B0aW9ucy5yZW1vdmVDbGFzcyk7XHJcbiAgICAgICAgICAgIG9wdGlvbnMucmVtb3ZlQ2xhc3MgPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKG9wdGlvbnMudG8pIHtcclxuICAgICAgICAgICAgZWxlbWVudC5jc3Mob3B0aW9ucy50byk7XHJcbiAgICAgICAgICAgIG9wdGlvbnMudG8gPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1dO1xyXG4gIH07XHJcblxyXG4gIC8qIGdsb2JhbCBzdHJpcEhhc2g6IHRydWUgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogISBUaGlzIGlzIGEgcHJpdmF0ZSB1bmRvY3VtZW50ZWQgc2VydmljZSAhXHJcbiAgICpcclxuICAgKiBAbmFtZSAkYnJvd3NlclxyXG4gICAqIEByZXF1aXJlcyAkbG9nXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhpcyBvYmplY3QgaGFzIHR3byBnb2FsczpcclxuICAgKlxyXG4gICAqIC0gaGlkZSBhbGwgdGhlIGdsb2JhbCBzdGF0ZSBpbiB0aGUgYnJvd3NlciBjYXVzZWQgYnkgdGhlIHdpbmRvdyBvYmplY3RcclxuICAgKiAtIGFic3RyYWN0IGF3YXkgYWxsIHRoZSBicm93c2VyIHNwZWNpZmljIGZlYXR1cmVzIGFuZCBpbmNvbnNpc3RlbmNpZXNcclxuICAgKlxyXG4gICAqIEZvciB0ZXN0cyB3ZSBwcm92aWRlIHtAbGluayBuZ01vY2suJGJyb3dzZXIgbW9jayBpbXBsZW1lbnRhdGlvbn0gb2YgdGhlIGAkYnJvd3NlcmBcclxuICAgKiBzZXJ2aWNlLCB3aGljaCBjYW4gYmUgdXNlZCBmb3IgY29udmVuaWVudCB0ZXN0aW5nIG9mIHRoZSBhcHBsaWNhdGlvbiB3aXRob3V0IHRoZSBpbnRlcmFjdGlvbiB3aXRoXHJcbiAgICogdGhlIHJlYWwgYnJvd3NlciBhcGlzLlxyXG4gICAqL1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB3aW5kb3cgVGhlIGdsb2JhbCB3aW5kb3cgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBkb2N1bWVudCBqUXVlcnkgd3JhcHBlZCBkb2N1bWVudC5cclxuICAgKiBAcGFyYW0ge29iamVjdH0gJGxvZyB3aW5kb3cuY29uc29sZSBvciBhbiBvYmplY3Qgd2l0aCB0aGUgc2FtZSBpbnRlcmZhY2UuXHJcbiAgICogQHBhcmFtIHtvYmplY3R9ICRzbmlmZmVyICRzbmlmZmVyIHNlcnZpY2VcclxuICAgKi9cclxuICBmdW5jdGlvbiBCcm93c2VyKHdpbmRvdywgZG9jdW1lbnQsICRsb2csICRzbmlmZmVyKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb24sXHJcbiAgICAgICAgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5LFxyXG4gICAgICAgIHNldFRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dCxcclxuICAgICAgICBjbGVhclRpbWVvdXQgPSB3aW5kb3cuY2xlYXJUaW1lb3V0LFxyXG4gICAgICAgIHBlbmRpbmdEZWZlcklkcyA9IHt9O1xyXG5cclxuICAgIHNlbGYuaXNNb2NrID0gZmFsc2U7XHJcblxyXG4gICAgdmFyIG91dHN0YW5kaW5nUmVxdWVzdENvdW50ID0gMDtcclxuICAgIHZhciBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MgPSBbXTtcclxuXHJcbiAgICAvLyBUT0RPKHZvanRhKTogcmVtb3ZlIHRoaXMgdGVtcG9yYXJ5IGFwaVxyXG4gICAgc2VsZi4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0ID0gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3Q7XHJcbiAgICBzZWxmLiQkaW5jT3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENvdW50Kys7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogRXhlY3V0ZXMgdGhlIGBmbmAgZnVuY3Rpb24oc3VwcG9ydHMgY3VycnlpbmcpIGFuZCBkZWNyZW1lbnRzIHRoZSBgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzYFxyXG4gICAgICogY291bnRlci4gSWYgdGhlIGNvdW50ZXIgcmVhY2hlcyAwLCBhbGwgdGhlIGBvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3NgIGFyZSBleGVjdXRlZC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoZm4pIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBmbi5hcHBseShudWxsLCBzbGljZUFyZ3MoYXJndW1lbnRzLCAxKSk7XHJcbiAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQtLTtcclxuICAgICAgICBpZiAob3V0c3RhbmRpbmdSZXF1ZXN0Q291bnQgPT09IDApIHtcclxuICAgICAgICAgIHdoaWxlIChvdXRzdGFuZGluZ1JlcXVlc3RDYWxsYmFja3MubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnBvcCgpKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAkbG9nLmVycm9yKGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0SGFzaCh1cmwpIHtcclxuICAgICAgdmFyIGluZGV4ID0gdXJsLmluZGV4T2YoJyMnKTtcclxuICAgICAgcmV0dXJuIGluZGV4ID09PSAtMSA/ICcnIDogdXJsLnN1YnN0cihpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICogTm90ZTogdGhpcyBtZXRob2QgaXMgdXNlZCBvbmx5IGJ5IHNjZW5hcmlvIHJ1bm5lclxyXG4gICAgICogVE9ETyh2b2p0YSk6IHByZWZpeCB0aGlzIG1ldGhvZCB3aXRoICQkID9cclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oKX0gY2FsbGJhY2sgRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuIG5vIG91dHN0YW5kaW5nIHJlcXVlc3RcclxuICAgICAqL1xyXG4gICAgc2VsZi5ub3RpZnlXaGVuTm9PdXRzdGFuZGluZ1JlcXVlc3RzID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgIGlmIChvdXRzdGFuZGluZ1JlcXVlc3RDb3VudCA9PT0gMCkge1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb3V0c3RhbmRpbmdSZXF1ZXN0Q2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcbiAgICAvLyBVUkwgQVBJXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgIHZhciBjYWNoZWRTdGF0ZSxcclxuICAgICAgICBsYXN0SGlzdG9yeVN0YXRlLFxyXG4gICAgICAgIGxhc3RCcm93c2VyVXJsID0gbG9jYXRpb24uaHJlZixcclxuICAgICAgICBiYXNlRWxlbWVudCA9IGRvY3VtZW50LmZpbmQoJ2Jhc2UnKSxcclxuICAgICAgICBwZW5kaW5nTG9jYXRpb24gPSBudWxsLFxyXG4gICAgICAgIGdldEN1cnJlbnRTdGF0ZSA9ICEkc25pZmZlci5oaXN0b3J5ID8gbm9vcCA6IGZ1bmN0aW9uIGdldEN1cnJlbnRTdGF0ZSgpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gaGlzdG9yeS5zdGF0ZTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIC8vIE1TSUUgY2FuIHJlcG9ydGVkbHkgdGhyb3cgd2hlbiB0aGVyZSBpcyBubyBzdGF0ZSAoVU5DT05GSVJNRUQpLlxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlU3RhdGUoKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lICRicm93c2VyI3VybFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogR0VUVEVSOlxyXG4gICAgICogV2l0aG91dCBhbnkgYXJndW1lbnQsIHRoaXMgbWV0aG9kIGp1c3QgcmV0dXJucyBjdXJyZW50IHZhbHVlIG9mIGxvY2F0aW9uLmhyZWYuXHJcbiAgICAgKlxyXG4gICAgICogU0VUVEVSOlxyXG4gICAgICogV2l0aCBhdCBsZWFzdCBvbmUgYXJndW1lbnQsIHRoaXMgbWV0aG9kIHNldHMgdXJsIHRvIG5ldyB2YWx1ZS5cclxuICAgICAqIElmIGh0bWw1IGhpc3RvcnkgYXBpIHN1cHBvcnRlZCwgcHVzaFN0YXRlL3JlcGxhY2VTdGF0ZSBpcyB1c2VkLCBvdGhlcndpc2VcclxuICAgICAqIGxvY2F0aW9uLmhyZWYvbG9jYXRpb24ucmVwbGFjZSBpcyB1c2VkLlxyXG4gICAgICogUmV0dXJucyBpdHMgb3duIGluc3RhbmNlIHRvIGFsbG93IGNoYWluaW5nXHJcbiAgICAgKlxyXG4gICAgICogTk9URTogdGhpcyBhcGkgaXMgaW50ZW5kZWQgZm9yIHVzZSBvbmx5IGJ5IHRoZSAkbG9jYXRpb24gc2VydmljZS4gUGxlYXNlIHVzZSB0aGVcclxuICAgICAqIHtAbGluayBuZy4kbG9jYXRpb24gJGxvY2F0aW9uIHNlcnZpY2V9IHRvIGNoYW5nZSB1cmwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBOZXcgdXJsICh3aGVuIHVzZWQgYXMgc2V0dGVyKVxyXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gcmVwbGFjZSBTaG91bGQgbmV3IHVybCByZXBsYWNlIGN1cnJlbnQgaGlzdG9yeSByZWNvcmQ/XHJcbiAgICAgKiBAcGFyYW0ge29iamVjdD19IHN0YXRlIG9iamVjdCB0byB1c2Ugd2l0aCBwdXNoU3RhdGUvcmVwbGFjZVN0YXRlXHJcbiAgICAgKi9cclxuICAgIHNlbGYudXJsID0gZnVuY3Rpb24gKHVybCwgcmVwbGFjZSwgc3RhdGUpIHtcclxuICAgICAgLy8gSW4gbW9kZXJuIGJyb3dzZXJzIGBoaXN0b3J5LnN0YXRlYCBpcyBgbnVsbGAgYnkgZGVmYXVsdDsgdHJlYXRpbmcgaXQgc2VwYXJhdGVseVxyXG4gICAgICAvLyBmcm9tIGB1bmRlZmluZWRgIHdvdWxkIGNhdXNlIGAkYnJvd3Nlci51cmwoJy9mb28nKWAgdG8gY2hhbmdlIGBoaXN0b3J5LnN0YXRlYFxyXG4gICAgICAvLyB0byB1bmRlZmluZWQgdmlhIGBwdXNoU3RhdGVgLiBJbnN0ZWFkLCBsZXQncyBjaGFuZ2UgYHVuZGVmaW5lZGAgdG8gYG51bGxgIGhlcmUuXHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChzdGF0ZSkpIHtcclxuICAgICAgICBzdGF0ZSA9IG51bGw7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEFuZHJvaWQgQnJvd3NlciBCRkNhY2hlIGNhdXNlcyBsb2NhdGlvbiwgaGlzdG9yeSByZWZlcmVuY2UgdG8gYmVjb21lIHN0YWxlLlxyXG4gICAgICBpZiAobG9jYXRpb24gIT09IHdpbmRvdy5sb2NhdGlvbikgbG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247XHJcbiAgICAgIGlmIChoaXN0b3J5ICE9PSB3aW5kb3cuaGlzdG9yeSkgaGlzdG9yeSA9IHdpbmRvdy5oaXN0b3J5O1xyXG5cclxuICAgICAgLy8gc2V0dGVyXHJcbiAgICAgIGlmICh1cmwpIHtcclxuICAgICAgICB2YXIgc2FtZVN0YXRlID0gbGFzdEhpc3RvcnlTdGF0ZSA9PT0gc3RhdGU7XHJcblxyXG4gICAgICAgIC8vIERvbid0IGNoYW5nZSBhbnl0aGluZyBpZiBwcmV2aW91cyBhbmQgY3VycmVudCBVUkxzIGFuZCBzdGF0ZXMgbWF0Y2guIFRoaXMgYWxzbyBwcmV2ZW50c1xyXG4gICAgICAgIC8vIElFPDEwIGZyb20gZ2V0dGluZyBpbnRvIHJlZGlyZWN0IGxvb3Agd2hlbiBpbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybCBtb2RlLlxyXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2NvbW1pdC9mZmIyNzAxXHJcbiAgICAgICAgaWYgKGxhc3RCcm93c2VyVXJsID09PSB1cmwgJiYgKCEkc25pZmZlci5oaXN0b3J5IHx8IHNhbWVTdGF0ZSkpIHtcclxuICAgICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgc2FtZUJhc2UgPSBsYXN0QnJvd3NlclVybCAmJiBzdHJpcEhhc2gobGFzdEJyb3dzZXJVcmwpID09PSBzdHJpcEhhc2godXJsKTtcclxuICAgICAgICBsYXN0QnJvd3NlclVybCA9IHVybDtcclxuICAgICAgICBsYXN0SGlzdG9yeVN0YXRlID0gc3RhdGU7XHJcbiAgICAgICAgLy8gRG9uJ3QgdXNlIGhpc3RvcnkgQVBJIGlmIG9ubHkgdGhlIGhhc2ggY2hhbmdlZFxyXG4gICAgICAgIC8vIGR1ZSB0byBhIGJ1ZyBpbiBJRTEwL0lFMTEgd2hpY2ggbGVhZHNcclxuICAgICAgICAvLyB0byBub3QgZmlyaW5nIGEgYGhhc2hjaGFuZ2VgIG5vciBgcG9wc3RhdGVgIGV2ZW50XHJcbiAgICAgICAgLy8gaW4gc29tZSBjYXNlcyAoc2VlICM5MTQzKS5cclxuICAgICAgICBpZiAoJHNuaWZmZXIuaGlzdG9yeSAmJiAoIXNhbWVCYXNlIHx8ICFzYW1lU3RhdGUpKSB7XHJcbiAgICAgICAgICBoaXN0b3J5W3JlcGxhY2UgPyAncmVwbGFjZVN0YXRlJyA6ICdwdXNoU3RhdGUnXShzdGF0ZSwgJycsIHVybCk7XHJcbiAgICAgICAgICBjYWNoZVN0YXRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmICghc2FtZUJhc2UpIHtcclxuICAgICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdXJsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHJlcGxhY2UpIHtcclxuICAgICAgICAgICAgbG9jYXRpb24ucmVwbGFjZSh1cmwpO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICghc2FtZUJhc2UpIHtcclxuICAgICAgICAgICAgbG9jYXRpb24uaHJlZiA9IHVybDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGxvY2F0aW9uLmhhc2ggPSBnZXRIYXNoKHVybCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAobG9jYXRpb24uaHJlZiAhPT0gdXJsKSB7XHJcbiAgICAgICAgICAgIHBlbmRpbmdMb2NhdGlvbiA9IHVybDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBlbmRpbmdMb2NhdGlvbikge1xyXG4gICAgICAgICAgcGVuZGluZ0xvY2F0aW9uID0gdXJsO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2VsZjtcclxuICAgICAgICAvLyBnZXR0ZXJcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyAtIHBlbmRpbmdMb2NhdGlvbiBpcyBuZWVkZWQgYXMgYnJvd3NlcnMgZG9uJ3QgYWxsb3cgdG8gcmVhZCBvdXRcclxuICAgICAgICAvLyAgIHRoZSBuZXcgbG9jYXRpb24uaHJlZiBpZiBhIHJlbG9hZCBoYXBwZW5lZCBvciBpZiB0aGVyZSBpcyBhIGJ1ZyBsaWtlIGluIGlPUyA5IChzZWVcclxuICAgICAgICAvLyAgIGh0dHBzOi8vb3BlbnJhZGFyLmFwcHNwb3QuY29tLzIyMTg2MTA5KS5cclxuICAgICAgICAvLyAtIHRoZSByZXBsYWNlbWVudCBpcyBhIHdvcmthcm91bmQgZm9yIGh0dHBzOi8vYnVnemlsbGEubW96aWxsYS5vcmcvc2hvd19idWcuY2dpP2lkPTQwNzE3MlxyXG4gICAgICAgIHJldHVybiBwZW5kaW5nTG9jYXRpb24gfHwgbG9jYXRpb24uaHJlZi5yZXBsYWNlKC8lMjcvZywgJ1xcJycpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5hbWUgJGJyb3dzZXIjc3RhdGVcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGEgZ2V0dGVyLlxyXG4gICAgICpcclxuICAgICAqIFJldHVybiBoaXN0b3J5LnN0YXRlIG9yIG51bGwgaWYgaGlzdG9yeS5zdGF0ZSBpcyB1bmRlZmluZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybnMge29iamVjdH0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgc2VsZi5zdGF0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIGNhY2hlZFN0YXRlO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgdXJsQ2hhbmdlTGlzdGVuZXJzID0gW10sXHJcbiAgICAgICAgdXJsQ2hhbmdlSW5pdCA9IGZhbHNlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKCkge1xyXG4gICAgICBwZW5kaW5nTG9jYXRpb24gPSBudWxsO1xyXG4gICAgICBmaXJlU3RhdGVPclVybENoYW5nZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFRoaXMgdmFyaWFibGUgc2hvdWxkIGJlIHVzZWQgKm9ubHkqIGluc2lkZSB0aGUgY2FjaGVTdGF0ZSBmdW5jdGlvbi5cclxuICAgIHZhciBsYXN0Q2FjaGVkU3RhdGUgPSBudWxsO1xyXG4gICAgZnVuY3Rpb24gY2FjaGVTdGF0ZSgpIHtcclxuICAgICAgLy8gVGhpcyBzaG91bGQgYmUgdGhlIG9ubHkgcGxhY2UgaW4gJGJyb3dzZXIgd2hlcmUgYGhpc3Rvcnkuc3RhdGVgIGlzIHJlYWQuXHJcbiAgICAgIGNhY2hlZFN0YXRlID0gZ2V0Q3VycmVudFN0YXRlKCk7XHJcbiAgICAgIGNhY2hlZFN0YXRlID0gaXNVbmRlZmluZWQoY2FjaGVkU3RhdGUpID8gbnVsbCA6IGNhY2hlZFN0YXRlO1xyXG5cclxuICAgICAgLy8gUHJldmVudCBjYWxsYmFja3MgZm8gZmlyZSB0d2ljZSBpZiBib3RoIGhhc2hjaGFuZ2UgJiBwb3BzdGF0ZSB3ZXJlIGZpcmVkLlxyXG4gICAgICBpZiAoZXF1YWxzKGNhY2hlZFN0YXRlLCBsYXN0Q2FjaGVkU3RhdGUpKSB7XHJcbiAgICAgICAgY2FjaGVkU3RhdGUgPSBsYXN0Q2FjaGVkU3RhdGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxhc3RDYWNoZWRTdGF0ZSA9IGNhY2hlZFN0YXRlO1xyXG4gICAgICBsYXN0SGlzdG9yeVN0YXRlID0gY2FjaGVkU3RhdGU7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmlyZVN0YXRlT3JVcmxDaGFuZ2UoKSB7XHJcbiAgICAgIHZhciBwcmV2TGFzdEhpc3RvcnlTdGF0ZSA9IGxhc3RIaXN0b3J5U3RhdGU7XHJcbiAgICAgIGNhY2hlU3RhdGUoKTtcclxuXHJcbiAgICAgIGlmIChsYXN0QnJvd3NlclVybCA9PT0gc2VsZi51cmwoKSAmJiBwcmV2TGFzdEhpc3RvcnlTdGF0ZSA9PT0gY2FjaGVkU3RhdGUpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGxhc3RCcm93c2VyVXJsID0gc2VsZi51cmwoKTtcclxuICAgICAgbGFzdEhpc3RvcnlTdGF0ZSA9IGNhY2hlZFN0YXRlO1xyXG4gICAgICBmb3JFYWNoKHVybENoYW5nZUxpc3RlbmVycywgZnVuY3Rpb24gKGxpc3RlbmVyKSB7XHJcbiAgICAgICAgbGlzdGVuZXIoc2VsZi51cmwoKSwgY2FjaGVkU3RhdGUpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuYW1lICRicm93c2VyI29uVXJsQ2hhbmdlXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBSZWdpc3RlciBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkLCB3aGVuIHVybCBjaGFuZ2VzLlxyXG4gICAgICpcclxuICAgICAqIEl0J3Mgb25seSBjYWxsZWQgd2hlbiB0aGUgdXJsIGlzIGNoYW5nZWQgZnJvbSBvdXRzaWRlIG9mIGFuZ3VsYXI6XHJcbiAgICAgKiAtIHVzZXIgdHlwZXMgZGlmZmVyZW50IHVybCBpbnRvIGFkZHJlc3MgYmFyXHJcbiAgICAgKiAtIHVzZXIgY2xpY2tzIG9uIGhpc3RvcnkgKGZvcndhcmQvYmFjaykgYnV0dG9uXHJcbiAgICAgKiAtIHVzZXIgY2xpY2tzIG9uIGEgbGlua1xyXG4gICAgICpcclxuICAgICAqIEl0J3Mgbm90IGNhbGxlZCB3aGVuIHVybCBpcyBjaGFuZ2VkIGJ5ICRicm93c2VyLnVybCgpIG1ldGhvZFxyXG4gICAgICpcclxuICAgICAqIFRoZSBsaXN0ZW5lciBnZXRzIGNhbGxlZCB3aXRoIG5ldyB1cmwgYXMgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSB0aGUgJGxvY2F0aW9uIHNlcnZpY2UuIFBsZWFzZSB1c2UgdGhlXHJcbiAgICAgKiB7QGxpbmsgbmcuJGxvY2F0aW9uICRsb2NhdGlvbiBzZXJ2aWNlfSB0byBtb25pdG9yIHVybCBjaGFuZ2VzIGluIGFuZ3VsYXIgYXBwcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKHN0cmluZyl9IGxpc3RlbmVyIExpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIHVybCBjaGFuZ2VzLlxyXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb24oc3RyaW5nKX0gUmV0dXJucyB0aGUgcmVnaXN0ZXJlZCBsaXN0ZW5lciBmbiAtIGhhbmR5IGlmIHRoZSBmbiBpcyBhbm9ueW1vdXMuXHJcbiAgICAgKi9cclxuICAgIHNlbGYub25VcmxDaGFuZ2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgLy8gVE9ETyh2b2p0YSk6IHJlZmFjdG9yIHRvIHVzZSBub2RlJ3Mgc3ludGF4IGZvciBldmVudHNcclxuICAgICAgaWYgKCF1cmxDaGFuZ2VJbml0KSB7XHJcbiAgICAgICAgLy8gV2UgbGlzdGVuIG9uIGJvdGggKGhhc2hjaGFuZ2UvcG9wc3RhdGUpIHdoZW4gYXZhaWxhYmxlLCBhcyBzb21lIGJyb3dzZXJzIGRvbid0XHJcbiAgICAgICAgLy8gZmlyZSBwb3BzdGF0ZSB3aGVuIHVzZXIgY2hhbmdlcyB0aGUgYWRkcmVzcyBiYXIgYW5kIGRvbid0IGZpcmUgaGFzaGNoYW5nZSB3aGVuIHVybFxyXG4gICAgICAgIC8vIGNoYW5nZWQgYnkgcHVzaC9yZXBsYWNlU3RhdGVcclxuXHJcbiAgICAgICAgLy8gaHRtbDUgaGlzdG9yeSBhcGkgLSBwb3BzdGF0ZSBldmVudFxyXG4gICAgICAgIGlmICgkc25pZmZlci5oaXN0b3J5KSBqcUxpdGUod2luZG93KS5vbigncG9wc3RhdGUnLCBjYWNoZVN0YXRlQW5kRmlyZVVybENoYW5nZSk7XHJcbiAgICAgICAgLy8gaGFzaGNoYW5nZSBldmVudFxyXG4gICAgICAgIGpxTGl0ZSh3aW5kb3cpLm9uKCdoYXNoY2hhbmdlJywgY2FjaGVTdGF0ZUFuZEZpcmVVcmxDaGFuZ2UpO1xyXG5cclxuICAgICAgICB1cmxDaGFuZ2VJbml0ID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdXJsQ2hhbmdlTGlzdGVuZXJzLnB1c2goY2FsbGJhY2spO1xyXG4gICAgICByZXR1cm4gY2FsbGJhY2s7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqIFJlbW92ZSBwb3BzdGF0ZSBhbmQgaGFzaGNoYW5nZSBoYW5kbGVyIGZyb20gd2luZG93LlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IHRoaXMgYXBpIGlzIGludGVuZGVkIGZvciB1c2Ugb25seSBieSAkcm9vdFNjb3BlLlxyXG4gICAgICovXHJcbiAgICBzZWxmLiQkYXBwbGljYXRpb25EZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGpxTGl0ZSh3aW5kb3cpLm9mZignaGFzaGNoYW5nZSBwb3BzdGF0ZScsIGNhY2hlU3RhdGVBbmRGaXJlVXJsQ2hhbmdlKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgdXJsIGhhcyBjaGFuZ2VkIG91dHNpZGUgb2YgQW5ndWxhci5cclxuICAgICAqIE5lZWRzIHRvIGJlIGV4cG9ydGVkIHRvIGJlIGFibGUgdG8gY2hlY2sgZm9yIGNoYW5nZXMgdGhhdCBoYXZlIGJlZW4gZG9uZSBpbiBzeW5jLFxyXG4gICAgICogYXMgaGFzaGNoYW5nZS9wb3BzdGF0ZSBldmVudHMgZmlyZSBpbiBhc3luYy5cclxuICAgICAqL1xyXG4gICAgc2VsZi4kJGNoZWNrVXJsQ2hhbmdlID0gZmlyZVN0YXRlT3JVcmxDaGFuZ2U7XHJcblxyXG4gICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuICAgIC8vIE1pc2MgQVBJXHJcbiAgICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5hbWUgJGJyb3dzZXIjYmFzZUhyZWZcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFJldHVybnMgY3VycmVudCA8YmFzZSBocmVmPlxyXG4gICAgICogKGFsd2F5cyByZWxhdGl2ZSAtIHdpdGhvdXQgZG9tYWluKVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBjdXJyZW50IGJhc2UgaHJlZlxyXG4gICAgICovXHJcbiAgICBzZWxmLmJhc2VIcmVmID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgaHJlZiA9IGJhc2VFbGVtZW50LmF0dHIoJ2hyZWYnKTtcclxuICAgICAgcmV0dXJuIGhyZWYgPyBocmVmLnJlcGxhY2UoL14oaHR0cHM/Oik/XFwvXFwvW14vXSovLCAnJykgOiAnJztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmFtZSAkYnJvd3NlciNkZWZlclxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uLCB3aG8ncyBleGVjdXRpb24gc2hvdWxkIGJlIGRlZmVycmVkLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBbZGVsYXk9MF0gb2YgbWlsbGlzZWNvbmRzIHRvIGRlZmVyIHRoZSBmdW5jdGlvbiBleGVjdXRpb24uXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gRGVmZXJJZCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgdGFzayB2aWEgYCRicm93c2VyLmRlZmVyLmNhbmNlbCgpYC5cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIEV4ZWN1dGVzIGEgZm4gYXN5bmNocm9ub3VzbHkgdmlhIGBzZXRUaW1lb3V0KGZuLCBkZWxheSlgLlxyXG4gICAgICpcclxuICAgICAqIFVubGlrZSB3aGVuIGNhbGxpbmcgYHNldFRpbWVvdXRgIGRpcmVjdGx5LCBpbiB0ZXN0IHRoaXMgZnVuY3Rpb24gaXMgbW9ja2VkIGFuZCBpbnN0ZWFkIG9mIHVzaW5nXHJcbiAgICAgKiBgc2V0VGltZW91dGAgaW4gdGVzdHMsIHRoZSBmbnMgYXJlIHF1ZXVlZCBpbiBhbiBhcnJheSwgd2hpY2ggY2FuIGJlIHByb2dyYW1tYXRpY2FsbHkgZmx1c2hlZFxyXG4gICAgICogdmlhIGAkYnJvd3Nlci5kZWZlci5mbHVzaCgpYC5cclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIHNlbGYuZGVmZXIgPSBmdW5jdGlvbiAoZm4sIGRlbGF5KSB7XHJcbiAgICAgIHZhciB0aW1lb3V0SWQ7XHJcbiAgICAgIG91dHN0YW5kaW5nUmVxdWVzdENvdW50Kys7XHJcbiAgICAgIHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXTtcclxuICAgICAgICBjb21wbGV0ZU91dHN0YW5kaW5nUmVxdWVzdChmbik7XHJcbiAgICAgIH0sIGRlbGF5IHx8IDApO1xyXG4gICAgICBwZW5kaW5nRGVmZXJJZHNbdGltZW91dElkXSA9IHRydWU7XHJcbiAgICAgIHJldHVybiB0aW1lb3V0SWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5hbWUgJGJyb3dzZXIjZGVmZXIuY2FuY2VsXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBDYW5jZWxzIGEgZGVmZXJyZWQgdGFzayBpZGVudGlmaWVkIHdpdGggYGRlZmVySWRgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gZGVmZXJJZCBUb2tlbiByZXR1cm5lZCBieSB0aGUgYCRicm93c2VyLmRlZmVyYCBmdW5jdGlvbi5cclxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayBoYXNuJ3QgZXhlY3V0ZWQgeWV0IGFuZCB3YXMgc3VjY2Vzc2Z1bGx5XHJcbiAgICAgKiAgICAgICAgICAgICAgICAgICAgY2FuY2VsZWQuXHJcbiAgICAgKi9cclxuICAgIHNlbGYuZGVmZXIuY2FuY2VsID0gZnVuY3Rpb24gKGRlZmVySWQpIHtcclxuICAgICAgaWYgKHBlbmRpbmdEZWZlcklkc1tkZWZlcklkXSkge1xyXG4gICAgICAgIGRlbGV0ZSBwZW5kaW5nRGVmZXJJZHNbZGVmZXJJZF07XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGRlZmVySWQpO1xyXG4gICAgICAgIGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKiogQHRoaXMgKi9cclxuICBmdW5jdGlvbiAkQnJvd3NlclByb3ZpZGVyKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gWyckd2luZG93JywgJyRsb2cnLCAnJHNuaWZmZXInLCAnJGRvY3VtZW50JywgZnVuY3Rpb24gKCR3aW5kb3csICRsb2csICRzbmlmZmVyLCAkZG9jdW1lbnQpIHtcclxuICAgICAgcmV0dXJuIG5ldyBCcm93c2VyKCR3aW5kb3csICRkb2N1bWVudCwgJGxvZywgJHNuaWZmZXIpO1xyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRjYWNoZUZhY3RvcnlcclxuICAgKiBAdGhpc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRmFjdG9yeSB0aGF0IGNvbnN0cnVjdHMge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdHMgYW5kIGdpdmVzIGFjY2VzcyB0b1xyXG4gICAqIHRoZW0uXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqXHJcbiAgICogIHZhciBjYWNoZSA9ICRjYWNoZUZhY3RvcnkoJ2NhY2hlSWQnKTtcclxuICAgKiAgZXhwZWN0KCRjYWNoZUZhY3RvcnkuZ2V0KCdjYWNoZUlkJykpLnRvQmUoY2FjaGUpO1xyXG4gICAqICBleHBlY3QoJGNhY2hlRmFjdG9yeS5nZXQoJ25vU3VjaENhY2hlSWQnKSkubm90LnRvQmVEZWZpbmVkKCk7XHJcbiAgICpcclxuICAgKiAgY2FjaGUucHV0KFwia2V5XCIsIFwidmFsdWVcIik7XHJcbiAgICogIGNhY2hlLnB1dChcImFub3RoZXIga2V5XCIsIFwiYW5vdGhlciB2YWx1ZVwiKTtcclxuICAgKlxyXG4gICAqICAvLyBXZSd2ZSBzcGVjaWZpZWQgbm8gb3B0aW9ucyBvbiBjcmVhdGlvblxyXG4gICAqICBleHBlY3QoY2FjaGUuaW5mbygpKS50b0VxdWFsKHtpZDogJ2NhY2hlSWQnLCBzaXplOiAyfSk7XHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGNhY2hlSWQgTmFtZSBvciBpZCBvZiB0aGUgbmV3bHkgY3JlYXRlZCBjYWNoZS5cclxuICAgKiBAcGFyYW0ge29iamVjdD19IG9wdGlvbnMgT3B0aW9ucyBvYmplY3QgdGhhdCBzcGVjaWZpZXMgdGhlIGNhY2hlIGJlaGF2aW9yLiBQcm9wZXJ0aWVzOlxyXG4gICAqXHJcbiAgICogICAtIGB7bnVtYmVyPX1gIGBjYXBhY2l0eWAg4oCUIHR1cm5zIHRoZSBjYWNoZSBpbnRvIExSVSBjYWNoZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IE5ld2x5IGNyZWF0ZWQgY2FjaGUgb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBzZXQgb2YgbWV0aG9kczpcclxuICAgKlxyXG4gICAqIC0gYHtvYmplY3R9YCBgaW5mbygpYCDigJQgUmV0dXJucyBpZCwgc2l6ZSwgYW5kIG9wdGlvbnMgb2YgY2FjaGUuXHJcbiAgICogLSBge3sqfX1gIGBwdXQoe3N0cmluZ30ga2V5LCB7Kn0gdmFsdWUpYCDigJQgUHV0cyBhIG5ldyBrZXktdmFsdWUgcGFpciBpbnRvIHRoZSBjYWNoZSBhbmQgcmV0dXJuc1xyXG4gICAqICAgaXQuXHJcbiAgICogLSBge3sqfX1gIGBnZXQoe3N0cmluZ30ga2V5KWAg4oCUIFJldHVybnMgY2FjaGVkIHZhbHVlIGZvciBga2V5YCBvciB1bmRlZmluZWQgZm9yIGNhY2hlIG1pc3MuXHJcbiAgICogLSBge3ZvaWR9YCBgcmVtb3ZlKHtzdHJpbmd9IGtleSlgIOKAlCBSZW1vdmVzIGEga2V5LXZhbHVlIHBhaXIgZnJvbSB0aGUgY2FjaGUuXHJcbiAgICogLSBge3ZvaWR9YCBgcmVtb3ZlQWxsKClgIOKAlCBSZW1vdmVzIGFsbCBjYWNoZWQgdmFsdWVzLlxyXG4gICAqIC0gYHt2b2lkfWAgYGRlc3Ryb3koKWAg4oCUIFJlbW92ZXMgcmVmZXJlbmNlcyB0byB0aGlzIGNhY2hlIGZyb20gJGNhY2hlRmFjdG9yeS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiY2FjaGVFeGFtcGxlQXBwXCIgbmFtZT1cImNhY2hlLWZhY3RvcnlcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkNhY2hlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxpbnB1dCBuZy1tb2RlbD1cIm5ld0NhY2hlS2V5XCIgcGxhY2Vob2xkZXI9XCJLZXlcIj5cclxuICAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJuZXdDYWNoZVZhbHVlXCIgcGxhY2Vob2xkZXI9XCJWYWx1ZVwiPlxyXG4gICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJwdXQobmV3Q2FjaGVLZXksIG5ld0NhY2hlVmFsdWUpXCI+Q2FjaGU8L2J1dHRvbj5cclxuICBcclxuICAgICAgICAgICA8cCBuZy1pZj1cImtleXMubGVuZ3RoXCI+Q2FjaGVkIFZhbHVlczwvcD5cclxuICAgICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cImtleSBpbiBrZXlzXCI+XHJcbiAgICAgICAgICAgICA8c3BhbiBuZy1iaW5kPVwia2V5XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgPHNwYW4+OiA8L3NwYW4+XHJcbiAgICAgICAgICAgICA8YiBuZy1iaW5kPVwiY2FjaGUuZ2V0KGtleSlcIj48L2I+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgXHJcbiAgICAgICAgICAgPHA+Q2FjaGUgSW5mbzwvcD5cclxuICAgICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cIihrZXksIHZhbHVlKSBpbiBjYWNoZS5pbmZvKClcIj5cclxuICAgICAgICAgICAgIDxzcGFuIG5nLWJpbmQ9XCJrZXlcIj48L3NwYW4+XHJcbiAgICAgICAgICAgICA8c3Bhbj46IDwvc3Bhbj5cclxuICAgICAgICAgICAgIDxiIG5nLWJpbmQ9XCJ2YWx1ZVwiPjwvYj5cclxuICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgPC9kaXY+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjYWNoZUV4YW1wbGVBcHAnLCBbXSkuXHJcbiAgICAgICAgICAgY29udHJvbGxlcignQ2FjaGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRzY29wZSwgJGNhY2hlRmFjdG9yeSkge1xyXG4gICAgICAgICAgICAgJHNjb3BlLmtleXMgPSBbXTtcclxuICAgICAgICAgICAgICRzY29wZS5jYWNoZSA9ICRjYWNoZUZhY3RvcnkoJ2NhY2hlSWQnKTtcclxuICAgICAgICAgICAgICRzY29wZS5wdXQgPSBmdW5jdGlvbihrZXksIHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKCRzY29wZS5jYWNoZS5nZXQoa2V5KSkpIHtcclxuICAgICAgICAgICAgICAgICAkc2NvcGUua2V5cy5wdXNoKGtleSk7XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgJHNjb3BlLmNhY2hlLnB1dChrZXksIGFuZ3VsYXIuaXNVbmRlZmluZWQodmFsdWUpID8gbnVsbCA6IHZhbHVlKTtcclxuICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgICBwIHtcclxuICAgICAgICAgICBtYXJnaW46IDEwcHggMCAzcHg7XHJcbiAgICAgICAgIH1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gJENhY2hlRmFjdG9yeVByb3ZpZGVyKCkge1xyXG5cclxuICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIGNhY2hlcyA9IHt9O1xyXG5cclxuICAgICAgZnVuY3Rpb24gY2FjaGVGYWN0b3J5KGNhY2hlSWQsIG9wdGlvbnMpIHtcclxuICAgICAgICBpZiAoY2FjaGVJZCBpbiBjYWNoZXMpIHtcclxuICAgICAgICAgIHRocm93IG1pbkVycignJGNhY2hlRmFjdG9yeScpKCdpaWQnLCAnQ2FjaGVJZCBcXCd7MH1cXCcgaXMgYWxyZWFkeSB0YWtlbiEnLCBjYWNoZUlkKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBzaXplID0gMCxcclxuICAgICAgICAgICAgc3RhdHMgPSBleHRlbmQoe30sIG9wdGlvbnMsIHsgaWQ6IGNhY2hlSWQgfSksXHJcbiAgICAgICAgICAgIGRhdGEgPSBjcmVhdGVNYXAoKSxcclxuICAgICAgICAgICAgY2FwYWNpdHkgPSBvcHRpb25zICYmIG9wdGlvbnMuY2FwYWNpdHkgfHwgTnVtYmVyLk1BWF9WQUxVRSxcclxuICAgICAgICAgICAgbHJ1SGFzaCA9IGNyZWF0ZU1hcCgpLFxyXG4gICAgICAgICAgICBmcmVzaEVuZCA9IG51bGwsXHJcbiAgICAgICAgICAgIHN0YWxlRW5kID0gbnVsbDtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIHR5cGVcclxuICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBBIGNhY2hlIG9iamVjdCB1c2VkIHRvIHN0b3JlIGFuZCByZXRyaWV2ZSBkYXRhLCBwcmltYXJpbHkgdXNlZCBieVxyXG4gICAgICAgICAqIHtAbGluayAkaHR0cCAkaHR0cH0gYW5kIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNjcmlwdCBzY3JpcHR9IGRpcmVjdGl2ZSB0byBjYWNoZVxyXG4gICAgICAgICAqIHRlbXBsYXRlcyBhbmQgb3RoZXIgZGF0YS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICogIGFuZ3VsYXIubW9kdWxlKCdzdXBlckNhY2hlJylcclxuICAgICAgICAgKiAgICAuZmFjdG9yeSgnc3VwZXJDYWNoZScsIFsnJGNhY2hlRmFjdG9yeScsIGZ1bmN0aW9uKCRjYWNoZUZhY3RvcnkpIHtcclxuICAgICAgICAgKiAgICAgIHJldHVybiAkY2FjaGVGYWN0b3J5KCdzdXBlci1jYWNoZScpO1xyXG4gICAgICAgICAqICAgIH1dKTtcclxuICAgICAgICAgKiBgYGBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEV4YW1wbGUgdGVzdDpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIGBgYGpzXHJcbiAgICAgICAgICogIGl0KCdzaG91bGQgYmVoYXZlIGxpa2UgYSBjYWNoZScsIGluamVjdChmdW5jdGlvbihzdXBlckNhY2hlKSB7XHJcbiAgICAgICAgICogICAgc3VwZXJDYWNoZS5wdXQoJ2tleScsICd2YWx1ZScpO1xyXG4gICAgICAgICAqICAgIHN1cGVyQ2FjaGUucHV0KCdhbm90aGVyIGtleScsICdhbm90aGVyIHZhbHVlJyk7XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5pbmZvKCkpLnRvRXF1YWwoe1xyXG4gICAgICAgICAqICAgICAgaWQ6ICdzdXBlci1jYWNoZScsXHJcbiAgICAgICAgICogICAgICBzaXplOiAyXHJcbiAgICAgICAgICogICAgfSk7XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICBzdXBlckNhY2hlLnJlbW92ZSgnYW5vdGhlciBrZXknKTtcclxuICAgICAgICAgKiAgICBleHBlY3Qoc3VwZXJDYWNoZS5nZXQoJ2Fub3RoZXIga2V5JykpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgIHN1cGVyQ2FjaGUucmVtb3ZlQWxsKCk7XHJcbiAgICAgICAgICogICAgZXhwZWN0KHN1cGVyQ2FjaGUuaW5mbygpKS50b0VxdWFsKHtcclxuICAgICAgICAgKiAgICAgIGlkOiAnc3VwZXItY2FjaGUnLFxyXG4gICAgICAgICAqICAgICAgc2l6ZTogMFxyXG4gICAgICAgICAqICAgIH0pO1xyXG4gICAgICAgICAqICB9KSk7XHJcbiAgICAgICAgICogYGBgXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmV0dXJuIGNhY2hlc1tjYWNoZUlkXSA9IHtcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjcHV0XHJcbiAgICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogSW5zZXJ0cyBhIG5hbWVkIGVudHJ5IGludG8gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5LkNhY2hlIENhY2hlfSBvYmplY3QgdG8gYmVcclxuICAgICAgICAgICAqIHJldHJpZXZlZCBsYXRlciwgYW5kIGluY3JlbWVudGluZyB0aGUgc2l6ZSBvZiB0aGUgY2FjaGUgaWYgdGhlIGtleSB3YXMgbm90IGFscmVhZHlcclxuICAgICAgICAgICAqIHByZXNlbnQgaW4gdGhlIGNhY2hlLiBJZiBiZWhhdmluZyBsaWtlIGFuIExSVSBjYWNoZSwgaXQgd2lsbCBhbHNvIHJlbW92ZSBzdGFsZVxyXG4gICAgICAgICAgICogZW50cmllcyBmcm9tIHRoZSBzZXQuXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogSXQgd2lsbCBub3QgaW5zZXJ0IHVuZGVmaW5lZCB2YWx1ZXMgaW50byB0aGUgY2FjaGUuXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSB0aGUga2V5IHVuZGVyIHdoaWNoIHRoZSBjYWNoZWQgZGF0YSBpcyBzdG9yZWQuXHJcbiAgICAgICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIHRoZSB2YWx1ZSB0byBzdG9yZSBhbG9uZ3NpZGUgdGhlIGtleS4gSWYgaXQgaXMgdW5kZWZpbmVkLCB0aGUga2V5XHJcbiAgICAgICAgICAgKiAgICB3aWxsIG5vdCBiZSBzdG9yZWQuXHJcbiAgICAgICAgICAgKiBAcmV0dXJucyB7Kn0gdGhlIHZhbHVlIHN0b3JlZC5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgcHV0OiBmdW5jdGlvbiBwdXQoa2V5LCB2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcclxuICAgICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV0gfHwgKGxydUhhc2hba2V5XSA9IHsga2V5OiBrZXkgfSk7XHJcblxyXG4gICAgICAgICAgICAgIHJlZnJlc2gobHJ1RW50cnkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gZGF0YSkpIHNpemUrKztcclxuICAgICAgICAgICAgZGF0YVtrZXldID0gdmFsdWU7XHJcblxyXG4gICAgICAgICAgICBpZiAoc2l6ZSA+IGNhcGFjaXR5KSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoc3RhbGVFbmQua2V5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAvKipcclxuICAgICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkuQ2FjaGUjZ2V0XHJcbiAgICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogUmV0cmlldmVzIG5hbWVkIGRhdGEgc3RvcmVkIGluIHRoZSB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0gb2JqZWN0LlxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgdGhlIGtleSBvZiB0aGUgZGF0YSB0byBiZSByZXRyaWV2ZWRcclxuICAgICAgICAgICAqIEByZXR1cm5zIHsqfSB0aGUgdmFsdWUgc3RvcmVkLlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldChrZXkpIHtcclxuICAgICAgICAgICAgaWYgKGNhcGFjaXR5IDwgTnVtYmVyLk1BWF9WQUxVRSkge1xyXG4gICAgICAgICAgICAgIHZhciBscnVFbnRyeSA9IGxydUhhc2hba2V5XTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKCFscnVFbnRyeSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICByZWZyZXNoKGxydUVudHJ5KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGRhdGFba2V5XTtcclxuICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZVxyXG4gICAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIFJlbW92ZXMgYW4gZW50cnkgZnJvbSB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdC5cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGJlIHJlbW92ZWRcclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoa2V5KSB7XHJcbiAgICAgICAgICAgIGlmIChjYXBhY2l0eSA8IE51bWJlci5NQVhfVkFMVUUpIHtcclxuICAgICAgICAgICAgICB2YXIgbHJ1RW50cnkgPSBscnVIYXNoW2tleV07XHJcblxyXG4gICAgICAgICAgICAgIGlmICghbHJ1RW50cnkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGxydUVudHJ5ID09PSBmcmVzaEVuZCkgZnJlc2hFbmQgPSBscnVFbnRyeS5wO1xyXG4gICAgICAgICAgICAgIGlmIChscnVFbnRyeSA9PT0gc3RhbGVFbmQpIHN0YWxlRW5kID0gbHJ1RW50cnkubjtcclxuICAgICAgICAgICAgICBsaW5rKGxydUVudHJ5Lm4sIGxydUVudHJ5LnApO1xyXG5cclxuICAgICAgICAgICAgICBkZWxldGUgbHJ1SGFzaFtrZXldO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoIShrZXkgaW4gZGF0YSkpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgIGRlbGV0ZSBkYXRhW2tleV07XHJcbiAgICAgICAgICAgIHNpemUtLTtcclxuICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI3JlbW92ZUFsbFxyXG4gICAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgICAqXHJcbiAgICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgICAqIENsZWFycyB0aGUgY2FjaGUgb2JqZWN0IG9mIGFueSBlbnRyaWVzLlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICByZW1vdmVBbGw6IGZ1bmN0aW9uIHJlbW92ZUFsbCgpIHtcclxuICAgICAgICAgICAgZGF0YSA9IGNyZWF0ZU1hcCgpO1xyXG4gICAgICAgICAgICBzaXplID0gMDtcclxuICAgICAgICAgICAgbHJ1SGFzaCA9IGNyZWF0ZU1hcCgpO1xyXG4gICAgICAgICAgICBmcmVzaEVuZCA9IHN0YWxlRW5kID0gbnVsbDtcclxuICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICAgKiBAbmFtZSAkY2FjaGVGYWN0b3J5LkNhY2hlI2Rlc3Ryb3lcclxuICAgICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICAgKiBEZXN0cm95cyB0aGUge0BsaW5rICRjYWNoZUZhY3RvcnkuQ2FjaGUgQ2FjaGV9IG9iamVjdCBlbnRpcmVseSxcclxuICAgICAgICAgICAqIHJlbW92aW5nIGl0IGZyb20gdGhlIHtAbGluayAkY2FjaGVGYWN0b3J5ICRjYWNoZUZhY3Rvcnl9IHNldC5cclxuICAgICAgICAgICAqL1xyXG4gICAgICAgICAgZGVzdHJveTogZnVuY3Rpb24gZGVzdHJveSgpIHtcclxuICAgICAgICAgICAgZGF0YSA9IG51bGw7XHJcbiAgICAgICAgICAgIHN0YXRzID0gbnVsbDtcclxuICAgICAgICAgICAgbHJ1SGFzaCA9IG51bGw7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBjYWNoZXNbY2FjaGVJZF07XHJcbiAgICAgICAgICB9LFxyXG5cclxuICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeS5DYWNoZSNpbmZvXHJcbiAgICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAgICpcclxuICAgICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAgICogUmV0cmlldmUgaW5mb3JtYXRpb24gcmVnYXJkaW5nIGEgcGFydGljdWxhciB7QGxpbmsgJGNhY2hlRmFjdG9yeS5DYWNoZSBDYWNoZX0uXHJcbiAgICAgICAgICAgKlxyXG4gICAgICAgICAgICogQHJldHVybnMge29iamVjdH0gYW4gb2JqZWN0IHdpdGggdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gICAgICAgICAgICogICA8dWw+XHJcbiAgICAgICAgICAgKiAgICAgPGxpPioqaWQqKjogdGhlIGlkIG9mIHRoZSBjYWNoZSBpbnN0YW5jZTwvbGk+XHJcbiAgICAgICAgICAgKiAgICAgPGxpPioqc2l6ZSoqOiB0aGUgbnVtYmVyIG9mIGVudHJpZXMga2VwdCBpbiB0aGUgY2FjaGUgaW5zdGFuY2U8L2xpPlxyXG4gICAgICAgICAgICogICAgIDxsaT4qKi4uLioqOiBhbnkgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0IHdoZW4gY3JlYXRpbmcgdGhlXHJcbiAgICAgICAgICAgKiAgICAgICBjYWNoZS48L2xpPlxyXG4gICAgICAgICAgICogICA8L3VsPlxyXG4gICAgICAgICAgICovXHJcbiAgICAgICAgICBpbmZvOiBmdW5jdGlvbiBpbmZvKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXh0ZW5kKHt9LCBzdGF0cywgeyBzaXplOiBzaXplIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIG1ha2VzIHRoZSBgZW50cnlgIHRoZSBmcmVzaEVuZCBvZiB0aGUgTFJVIGxpbmtlZCBsaXN0XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaChlbnRyeSkge1xyXG4gICAgICAgICAgaWYgKGVudHJ5ICE9PSBmcmVzaEVuZCkge1xyXG4gICAgICAgICAgICBpZiAoIXN0YWxlRW5kKSB7XHJcbiAgICAgICAgICAgICAgc3RhbGVFbmQgPSBlbnRyeTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFsZUVuZCA9PT0gZW50cnkpIHtcclxuICAgICAgICAgICAgICBzdGFsZUVuZCA9IGVudHJ5Lm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxpbmsoZW50cnkubiwgZW50cnkucCk7XHJcbiAgICAgICAgICAgIGxpbmsoZW50cnksIGZyZXNoRW5kKTtcclxuICAgICAgICAgICAgZnJlc2hFbmQgPSBlbnRyeTtcclxuICAgICAgICAgICAgZnJlc2hFbmQubiA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBiaWRpcmVjdGlvbmFsbHkgbGlua3MgdHdvIGVudHJpZXMgb2YgdGhlIExSVSBsaW5rZWQgbGlzdFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIGxpbmsobmV4dEVudHJ5LCBwcmV2RW50cnkpIHtcclxuICAgICAgICAgIGlmIChuZXh0RW50cnkgIT09IHByZXZFbnRyeSkge1xyXG4gICAgICAgICAgICBpZiAobmV4dEVudHJ5KSBuZXh0RW50cnkucCA9IHByZXZFbnRyeTsgLy9wIHN0YW5kcyBmb3IgcHJldmlvdXMsICdwcmV2JyBkaWRuJ3QgbWluaWZ5XHJcbiAgICAgICAgICAgIGlmIChwcmV2RW50cnkpIHByZXZFbnRyeS5uID0gbmV4dEVudHJ5OyAvL24gc3RhbmRzIGZvciBuZXh0LCAnbmV4dCcgZGlkbid0IG1pbmlmeVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGNhY2hlRmFjdG9yeSNpbmZvXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBHZXQgaW5mb3JtYXRpb24gYWJvdXQgYWxsIHRoZSBjYWNoZXMgdGhhdCBoYXZlIGJlZW4gY3JlYXRlZFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSAtIGtleS12YWx1ZSBtYXAgb2YgYGNhY2hlSWRgIHRvIHRoZSByZXN1bHQgb2YgY2FsbGluZyBgY2FjaGUjaW5mb2BcclxuICAgICAgICovXHJcbiAgICAgIGNhY2hlRmFjdG9yeS5pbmZvID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbmZvID0ge307XHJcbiAgICAgICAgZm9yRWFjaChjYWNoZXMsIGZ1bmN0aW9uIChjYWNoZSwgY2FjaGVJZCkge1xyXG4gICAgICAgICAgaW5mb1tjYWNoZUlkXSA9IGNhY2hlLmluZm8oKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gaW5mbztcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRjYWNoZUZhY3RvcnkjZ2V0XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBHZXQgYWNjZXNzIHRvIGEgY2FjaGUgb2JqZWN0IGJ5IHRoZSBgY2FjaGVJZGAgdXNlZCB3aGVuIGl0IHdhcyBjcmVhdGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FjaGVJZCBOYW1lIG9yIGlkIG9mIGEgY2FjaGUgdG8gYWNjZXNzLlxyXG4gICAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBDYWNoZSBvYmplY3QgaWRlbnRpZmllZCBieSB0aGUgY2FjaGVJZCBvciB1bmRlZmluZWQgaWYgbm8gc3VjaCBjYWNoZS5cclxuICAgICAgICovXHJcbiAgICAgIGNhY2hlRmFjdG9yeS5nZXQgPSBmdW5jdGlvbiAoY2FjaGVJZCkge1xyXG4gICAgICAgIHJldHVybiBjYWNoZXNbY2FjaGVJZF07XHJcbiAgICAgIH07XHJcblxyXG4gICAgICByZXR1cm4gY2FjaGVGYWN0b3J5O1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgJHRlbXBsYXRlQ2FjaGVcclxuICAgKiBAdGhpc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhlIGZpcnN0IHRpbWUgYSB0ZW1wbGF0ZSBpcyB1c2VkLCBpdCBpcyBsb2FkZWQgaW4gdGhlIHRlbXBsYXRlIGNhY2hlIGZvciBxdWljayByZXRyaWV2YWwuIFlvdVxyXG4gICAqIGNhbiBsb2FkIHRlbXBsYXRlcyBkaXJlY3RseSBpbnRvIHRoZSBjYWNoZSBpbiBhIGBzY3JpcHRgIHRhZywgb3IgYnkgY29uc3VtaW5nIHRoZVxyXG4gICAqIGAkdGVtcGxhdGVDYWNoZWAgc2VydmljZSBkaXJlY3RseS5cclxuICAgKlxyXG4gICAqIEFkZGluZyB2aWEgdGhlIGBzY3JpcHRgIHRhZzpcclxuICAgKlxyXG4gICAqIGBgYGh0bWxcclxuICAgKiAgIDxzY3JpcHQgdHlwZT1cInRleHQvbmctdGVtcGxhdGVcIiBpZD1cInRlbXBsYXRlSWQuaHRtbFwiPlxyXG4gICAqICAgICA8cD5UaGlzIGlzIHRoZSBjb250ZW50IG9mIHRoZSB0ZW1wbGF0ZTwvcD5cclxuICAgKiAgIDwvc2NyaXB0PlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogKipOb3RlOioqIHRoZSBgc2NyaXB0YCB0YWcgY29udGFpbmluZyB0aGUgdGVtcGxhdGUgZG9lcyBub3QgbmVlZCB0byBiZSBpbmNsdWRlZCBpbiB0aGUgYGhlYWRgIG9mXHJcbiAgICogdGhlIGRvY3VtZW50LCBidXQgaXQgbXVzdCBiZSBhIGRlc2NlbmRlbnQgb2YgdGhlIHtAbGluayBuZy4kcm9vdEVsZW1lbnQgJHJvb3RFbGVtZW50fSAoSUUsXHJcbiAgICogZWxlbWVudCB3aXRoIG5nLWFwcCBhdHRyaWJ1dGUpLCBvdGhlcndpc2UgdGhlIHRlbXBsYXRlIHdpbGwgYmUgaWdub3JlZC5cclxuICAgKlxyXG4gICAqIEFkZGluZyB2aWEgdGhlIGAkdGVtcGxhdGVDYWNoZWAgc2VydmljZTpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogdmFyIG15QXBwID0gYW5ndWxhci5tb2R1bGUoJ215QXBwJywgW10pO1xyXG4gICAqIG15QXBwLnJ1bihmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xyXG4gICAqICAgJHRlbXBsYXRlQ2FjaGUucHV0KCd0ZW1wbGF0ZUlkLmh0bWwnLCAnVGhpcyBpcyB0aGUgY29udGVudCBvZiB0aGUgdGVtcGxhdGUnKTtcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIFRvIHJldHJpZXZlIHRoZSB0ZW1wbGF0ZSBsYXRlciwgc2ltcGx5IHVzZSBpdCBpbiB5b3VyIGNvbXBvbmVudDpcclxuICAgKiBgYGBqc1xyXG4gICAqIG15QXBwLmNvbXBvbmVudCgnbXlDb21wb25lbnQnLCB7XHJcbiAgICogICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZUlkLmh0bWwnXHJcbiAgICogfSk7XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBvciBnZXQgaXQgdmlhIHRoZSBgJHRlbXBsYXRlQ2FjaGVgIHNlcnZpY2U6XHJcbiAgICogYGBganNcclxuICAgKiAkdGVtcGxhdGVDYWNoZS5nZXQoJ3RlbXBsYXRlSWQuaHRtbCcpXHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBTZWUge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgJGNhY2hlRmFjdG9yeX0uXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiAkVGVtcGxhdGVDYWNoZVByb3ZpZGVyKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gWyckY2FjaGVGYWN0b3J5JywgZnVuY3Rpb24gKCRjYWNoZUZhY3RvcnkpIHtcclxuICAgICAgcmV0dXJuICRjYWNoZUZhY3RvcnkoJ3RlbXBsYXRlcycpO1xyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICAvKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXHJcbiAgICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxyXG4gICAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcclxuICAgKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXHJcbiAgICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxyXG4gICAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlIGRvY3VtZW50IG9yIHdpbmRvdz8gICAgKlxyXG4gICAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICovXHJcblxyXG4gIC8qICEgVkFSSUFCTEUvRlVOQ1RJT04gTkFNSU5HIENPTlZFTlRJT05TIFRIQVQgQVBQTFkgVE8gVEhJUyBGSUxFIVxyXG4gICAqXHJcbiAgICogRE9NLXJlbGF0ZWQgdmFyaWFibGVzOlxyXG4gICAqXHJcbiAgICogLSBcIm5vZGVcIiAtIERPTSBOb2RlXHJcbiAgICogLSBcImVsZW1lbnRcIiAtIERPTSBFbGVtZW50IG9yIE5vZGVcclxuICAgKiAtIFwiJG5vZGVcIiBvciBcIiRlbGVtZW50XCIgLSBqcUxpdGUtd3JhcHBlZCBub2RlIG9yIGVsZW1lbnRcclxuICAgKlxyXG4gICAqXHJcbiAgICogQ29tcGlsZXIgcmVsYXRlZCBzdHVmZjpcclxuICAgKlxyXG4gICAqIC0gXCJsaW5rRm5cIiAtIGxpbmtpbmcgZm4gb2YgYSBzaW5nbGUgZGlyZWN0aXZlXHJcbiAgICogLSBcIm5vZGVMaW5rRm5cIiAtIGZ1bmN0aW9uIHRoYXQgYWdncmVnYXRlcyBhbGwgbGlua2luZyBmbnMgZm9yIGEgcGFydGljdWxhciBub2RlXHJcbiAgICogLSBcImNoaWxkTGlua0ZuXCIgLSAgZnVuY3Rpb24gdGhhdCBhZ2dyZWdhdGVzIGFsbCBsaW5raW5nIGZucyBmb3IgY2hpbGQgbm9kZXMgb2YgYSBwYXJ0aWN1bGFyIG5vZGVcclxuICAgKiAtIFwiY29tcG9zaXRlTGlua0ZuXCIgLSBmdW5jdGlvbiB0aGF0IGFnZ3JlZ2F0ZXMgYWxsIGxpbmtpbmcgZm5zIGZvciBhIGNvbXBpbGF0aW9uIHJvb3QgKG5vZGVMaXN0KVxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRjb21waWxlXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENvbXBpbGVzIGFuIEhUTUwgc3RyaW5nIG9yIERPTSBpbnRvIGEgdGVtcGxhdGUgYW5kIHByb2R1Y2VzIGEgdGVtcGxhdGUgZnVuY3Rpb24sIHdoaWNoXHJcbiAgICogY2FuIHRoZW4gYmUgdXNlZCB0byBsaW5rIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIGBzY29wZWB9IGFuZCB0aGUgdGVtcGxhdGUgdG9nZXRoZXIuXHJcbiAgICpcclxuICAgKiBUaGUgY29tcGlsYXRpb24gaXMgYSBwcm9jZXNzIG9mIHdhbGtpbmcgdGhlIERPTSB0cmVlIGFuZCBtYXRjaGluZyBET00gZWxlbWVudHMgdG9cclxuICAgKiB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlc30uXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICoqTm90ZToqKiBUaGlzIGRvY3VtZW50IGlzIGFuIGluLWRlcHRoIHJlZmVyZW5jZSBvZiBhbGwgZGlyZWN0aXZlIG9wdGlvbnMuXHJcbiAgICogRm9yIGEgZ2VudGxlIGludHJvZHVjdGlvbiB0byBkaXJlY3RpdmVzIHdpdGggZXhhbXBsZXMgb2YgY29tbW9uIHVzZSBjYXNlcyxcclxuICAgKiBzZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUgZGlyZWN0aXZlIGd1aWRlfS5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqICMjIENvbXByZWhlbnNpdmUgRGlyZWN0aXZlIEFQSVxyXG4gICAqXHJcbiAgICogVGhlcmUgYXJlIG1hbnkgZGlmZmVyZW50IG9wdGlvbnMgZm9yIGEgZGlyZWN0aXZlLlxyXG4gICAqXHJcbiAgICogVGhlIGRpZmZlcmVuY2UgcmVzaWRlcyBpbiB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBmYWN0b3J5IGZ1bmN0aW9uLlxyXG4gICAqIFlvdSBjYW4gZWl0aGVyIHJldHVybiBhIHtAbGluayAkY29tcGlsZSNkaXJlY3RpdmUtZGVmaW5pdGlvbi1vYmplY3QgRGlyZWN0aXZlIERlZmluaXRpb24gT2JqZWN0IChzZWUgYmVsb3cpfVxyXG4gICAqIHRoYXQgZGVmaW5lcyB0aGUgZGlyZWN0aXZlIHByb3BlcnRpZXMsIG9yIGp1c3QgdGhlIGBwb3N0TGlua2AgZnVuY3Rpb24gKGFsbCBvdGhlciBwcm9wZXJ0aWVzIHdpbGwgaGF2ZVxyXG4gICAqIHRoZSBkZWZhdWx0IHZhbHVlcykuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxyXG4gICAqICoqQmVzdCBQcmFjdGljZToqKiBJdCdzIHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgXCJkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3RcIiBmb3JtLlxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogSGVyZSdzIGFuIGV4YW1wbGUgZGlyZWN0aXZlIGRlY2xhcmVkIHdpdGggYSBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3Q6XHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcclxuICAgKlxyXG4gICAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykge1xyXG4gICAqICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcclxuICAgKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLXByaW9yaXR5LSBwcmlvcml0eX06IDAsXHJcbiAgICogICAgICAge0BsaW5rICRjb21waWxlIy10ZW1wbGF0ZS0gdGVtcGxhdGV9OiAnPGRpdj48L2Rpdj4nLCAvLyBvciAvLyBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7IC4uLiB9LFxyXG4gICAqICAgICAgIC8vIG9yXHJcbiAgICogICAgICAgLy8ge0BsaW5rICRjb21waWxlIy10ZW1wbGF0ZXVybC0gdGVtcGxhdGVVcmx9OiAnZGlyZWN0aXZlLmh0bWwnLCAvLyBvciAvLyBmdW5jdGlvbih0RWxlbWVudCwgdEF0dHJzKSB7IC4uLiB9LFxyXG4gICAqICAgICAgIHtAbGluayAkY29tcGlsZSMtdHJhbnNjbHVkZS0gdHJhbnNjbHVkZX06IGZhbHNlLFxyXG4gICAqICAgICAgIHtAbGluayAkY29tcGlsZSMtcmVzdHJpY3QtIHJlc3RyaWN0fTogJ0EnLFxyXG4gICAqICAgICAgIHtAbGluayAkY29tcGlsZSMtdGVtcGxhdGVuYW1lc3BhY2UtIHRlbXBsYXRlTmFtZXNwYWNlfTogJ2h0bWwnLFxyXG4gICAqICAgICAgIHtAbGluayAkY29tcGlsZSMtc2NvcGUtIHNjb3BlfTogZmFsc2UsXHJcbiAgICogICAgICAge0BsaW5rICRjb21waWxlIy1jb250cm9sbGVyLSBjb250cm9sbGVyfTogZnVuY3Rpb24oJHNjb3BlLCAkZWxlbWVudCwgJGF0dHJzLCAkdHJhbnNjbHVkZSwgb3RoZXJJbmplY3RhYmxlcykgeyAuLi4gfSxcclxuICAgKiAgICAgICB7QGxpbmsgJGNvbXBpbGUjLWNvbnRyb2xsZXJhcy0gY29udHJvbGxlckFzfTogJ3N0cmluZ0lkZW50aWZpZXInLFxyXG4gICAqICAgICAgIHtAbGluayAkY29tcGlsZSMtYmluZHRvY29udHJvbGxlci0gYmluZFRvQ29udHJvbGxlcn06IGZhbHNlLFxyXG4gICAqICAgICAgIHtAbGluayAkY29tcGlsZSMtcmVxdWlyZS0gcmVxdWlyZX06ICdzaWJsaW5nRGlyZWN0aXZlTmFtZScsIC8vIG9yIC8vIFsnXnBhcmVudERpcmVjdGl2ZU5hbWUnLCAnP29wdGlvbmFsRGlyZWN0aXZlTmFtZScsICc/Xm9wdGlvbmFsUGFyZW50J10sXHJcbiAgICogICAgICAge0BsaW5rICRjb21waWxlIy1tdWx0aWVsZW1lbnQtIG11bHRpRWxlbWVudH06IGZhbHNlLFxyXG4gICAqICAgICAgIHtAbGluayAkY29tcGlsZSMtY29tcGlsZS0gY29tcGlsZX06IGZ1bmN0aW9uIGNvbXBpbGUodEVsZW1lbnQsIHRBdHRycywgdHJhbnNjbHVkZSkge1xyXG4gICAqICAgICAgICAgcmV0dXJuIHtcclxuICAgKiAgICAgICAgICAgIHtAbGluayAkY29tcGlsZSNwcmUtbGlua2luZy1mdW5jdGlvbiBwcmV9OiBmdW5jdGlvbiBwcmVMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzLCBjb250cm9sbGVyKSB7IC4uLiB9LFxyXG4gICAqICAgICAgICAgICAge0BsaW5rICRjb21waWxlI3Bvc3QtbGlua2luZy1mdW5jdGlvbiBwb3N0fTogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH1cclxuICAgKiAgICAgICAgIH1cclxuICAgKiAgICAgICAgIC8vIG9yXHJcbiAgICogICAgICAgICAvLyByZXR1cm4gZnVuY3Rpb24gcG9zdExpbmsoIC4uLiApIHsgLi4uIH1cclxuICAgKiAgICAgICB9LFxyXG4gICAqICAgICAgIC8vIG9yXHJcbiAgICogICAgICAgLy8ge0BsaW5rICRjb21waWxlIy1saW5rLSBsaW5rfToge1xyXG4gICAqICAgICAgIC8vICB7QGxpbmsgJGNvbXBpbGUjcHJlLWxpbmtpbmctZnVuY3Rpb24gcHJlfTogZnVuY3Rpb24gcHJlTGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlcikgeyAuLi4gfSxcclxuICAgKiAgICAgICAvLyAge0BsaW5rICRjb21waWxlI3Bvc3QtbGlua2luZy1mdW5jdGlvbiBwb3N0fTogZnVuY3Rpb24gcG9zdExpbmsoc2NvcGUsIGlFbGVtZW50LCBpQXR0cnMsIGNvbnRyb2xsZXIpIHsgLi4uIH1cclxuICAgKiAgICAgICAvLyB9XHJcbiAgICogICAgICAgLy8gb3JcclxuICAgKiAgICAgICAvLyB7QGxpbmsgJGNvbXBpbGUjLWxpbmstIGxpbmt9OiBmdW5jdGlvbiBwb3N0TGluayggLi4uICkgeyAuLi4gfVxyXG4gICAqICAgICB9O1xyXG4gICAqICAgICByZXR1cm4gZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdDtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgKiAqKk5vdGU6KiogQW55IHVuc3BlY2lmaWVkIG9wdGlvbnMgd2lsbCB1c2UgdGhlIGRlZmF1bHQgdmFsdWUuIFlvdSBjYW4gc2VlIHRoZSBkZWZhdWx0IHZhbHVlcyBiZWxvdy5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIFRoZXJlZm9yZSB0aGUgYWJvdmUgY2FuIGJlIHNpbXBsaWZpZWQgYXM6XHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgdmFyIG15TW9kdWxlID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcclxuICAgKlxyXG4gICAqICAgbXlNb2R1bGUuZGlyZWN0aXZlKCdkaXJlY3RpdmVOYW1lJywgZnVuY3Rpb24gZmFjdG9yeShpbmplY3RhYmxlcykge1xyXG4gICAqICAgICB2YXIgZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdCA9IHtcclxuICAgKiAgICAgICBsaW5rOiBmdW5jdGlvbiBwb3N0TGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycykgeyAuLi4gfVxyXG4gICAqICAgICB9O1xyXG4gICAqICAgICByZXR1cm4gZGlyZWN0aXZlRGVmaW5pdGlvbk9iamVjdDtcclxuICAgKiAgICAgLy8gb3JcclxuICAgKiAgICAgLy8gcmV0dXJuIGZ1bmN0aW9uIHBvc3RMaW5rKHNjb3BlLCBpRWxlbWVudCwgaUF0dHJzKSB7IC4uLiB9XHJcbiAgICogICB9KTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqICMjIyBMaWZlLWN5Y2xlIGhvb2tzXHJcbiAgICogRGlyZWN0aXZlIGNvbnRyb2xsZXJzIGNhbiBwcm92aWRlIHRoZSBmb2xsb3dpbmcgbWV0aG9kcyB0aGF0IGFyZSBjYWxsZWQgYnkgQW5ndWxhciBhdCBwb2ludHMgaW4gdGhlIGxpZmUtY3ljbGUgb2YgdGhlXHJcbiAgICogZGlyZWN0aXZlOlxyXG4gICAqICogYCRvbkluaXQoKWAgLSBDYWxsZWQgb24gZWFjaCBjb250cm9sbGVyIGFmdGVyIGFsbCB0aGUgY29udHJvbGxlcnMgb24gYW4gZWxlbWVudCBoYXZlIGJlZW4gY29uc3RydWN0ZWQgYW5kXHJcbiAgICogICBoYWQgdGhlaXIgYmluZGluZ3MgaW5pdGlhbGl6ZWQgKGFuZCBiZWZvcmUgdGhlIHByZSAmYW1wOyBwb3N0IGxpbmtpbmcgZnVuY3Rpb25zIGZvciB0aGUgZGlyZWN0aXZlcyBvblxyXG4gICAqICAgdGhpcyBlbGVtZW50KS4gVGhpcyBpcyBhIGdvb2QgcGxhY2UgdG8gcHV0IGluaXRpYWxpemF0aW9uIGNvZGUgZm9yIHlvdXIgY29udHJvbGxlci5cclxuICAgKiAqIGAkb25DaGFuZ2VzKGNoYW5nZXNPYmopYCAtIENhbGxlZCB3aGVuZXZlciBvbmUtd2F5IChgPGApIG9yIGludGVycG9sYXRpb24gKGBAYCkgYmluZGluZ3MgYXJlIHVwZGF0ZWQuIFRoZVxyXG4gICAqICAgYGNoYW5nZXNPYmpgIGlzIGEgaGFzaCB3aG9zZSBrZXlzIGFyZSB0aGUgbmFtZXMgb2YgdGhlIGJvdW5kIHByb3BlcnRpZXMgdGhhdCBoYXZlIGNoYW5nZWQsIGFuZCB0aGUgdmFsdWVzIGFyZSBhblxyXG4gICAqICAgb2JqZWN0IG9mIHRoZSBmb3JtIGB7IGN1cnJlbnRWYWx1ZSwgcHJldmlvdXNWYWx1ZSwgaXNGaXJzdENoYW5nZSgpIH1gLiBVc2UgdGhpcyBob29rIHRvIHRyaWdnZXIgdXBkYXRlcyB3aXRoaW4gYVxyXG4gICAqICAgY29tcG9uZW50IHN1Y2ggYXMgY2xvbmluZyB0aGUgYm91bmQgdmFsdWUgdG8gcHJldmVudCBhY2NpZGVudGFsIG11dGF0aW9uIG9mIHRoZSBvdXRlciB2YWx1ZS4gTm90ZSB0aGF0IHRoaXMgd2lsbFxyXG4gICAqICAgYWxzbyBiZSBjYWxsZWQgd2hlbiB5b3VyIGJpbmRpbmdzIGFyZSBpbml0aWFsaXplZC5cclxuICAgKiAqIGAkZG9DaGVjaygpYCAtIENhbGxlZCBvbiBlYWNoIHR1cm4gb2YgdGhlIGRpZ2VzdCBjeWNsZS4gUHJvdmlkZXMgYW4gb3Bwb3J0dW5pdHkgdG8gZGV0ZWN0IGFuZCBhY3Qgb25cclxuICAgKiAgIGNoYW5nZXMuIEFueSBhY3Rpb25zIHRoYXQgeW91IHdpc2ggdG8gdGFrZSBpbiByZXNwb25zZSB0byB0aGUgY2hhbmdlcyB0aGF0IHlvdSBkZXRlY3QgbXVzdCBiZVxyXG4gICAqICAgaW52b2tlZCBmcm9tIHRoaXMgaG9vazsgaW1wbGVtZW50aW5nIHRoaXMgaGFzIG5vIGVmZmVjdCBvbiB3aGVuIGAkb25DaGFuZ2VzYCBpcyBjYWxsZWQuIEZvciBleGFtcGxlLCB0aGlzIGhvb2tcclxuICAgKiAgIGNvdWxkIGJlIHVzZWZ1bCBpZiB5b3Ugd2lzaCB0byBwZXJmb3JtIGEgZGVlcCBlcXVhbGl0eSBjaGVjaywgb3IgdG8gY2hlY2sgYSBEYXRlIG9iamVjdCwgY2hhbmdlcyB0byB3aGljaCB3b3VsZCBub3RcclxuICAgKiAgIGJlIGRldGVjdGVkIGJ5IEFuZ3VsYXIncyBjaGFuZ2UgZGV0ZWN0b3IgYW5kIHRodXMgbm90IHRyaWdnZXIgYCRvbkNoYW5nZXNgLiBUaGlzIGhvb2sgaXMgaW52b2tlZCB3aXRoIG5vIGFyZ3VtZW50cztcclxuICAgKiAgIGlmIGRldGVjdGluZyBjaGFuZ2VzLCB5b3UgbXVzdCBzdG9yZSB0aGUgcHJldmlvdXMgdmFsdWUocykgZm9yIGNvbXBhcmlzb24gdG8gdGhlIGN1cnJlbnQgdmFsdWVzLlxyXG4gICAqICogYCRvbkRlc3Ryb3koKWAgLSBDYWxsZWQgb24gYSBjb250cm9sbGVyIHdoZW4gaXRzIGNvbnRhaW5pbmcgc2NvcGUgaXMgZGVzdHJveWVkLiBVc2UgdGhpcyBob29rIGZvciByZWxlYXNpbmdcclxuICAgKiAgIGV4dGVybmFsIHJlc291cmNlcywgd2F0Y2hlcyBhbmQgZXZlbnQgaGFuZGxlcnMuIE5vdGUgdGhhdCBjb21wb25lbnRzIGhhdmUgdGhlaXIgYCRvbkRlc3Ryb3koKWAgaG9va3MgY2FsbGVkIGluXHJcbiAgICogICB0aGUgc2FtZSBvcmRlciBhcyB0aGUgYCRzY29wZS4kYnJvYWRjYXN0YCBldmVudHMgYXJlIHRyaWdnZXJlZCwgd2hpY2ggaXMgdG9wIGRvd24uIFRoaXMgbWVhbnMgdGhhdCBwYXJlbnRcclxuICAgKiAgIGNvbXBvbmVudHMgd2lsbCBoYXZlIHRoZWlyIGAkb25EZXN0cm95KClgIGhvb2sgY2FsbGVkIGJlZm9yZSBjaGlsZCBjb21wb25lbnRzLlxyXG4gICAqICogYCRwb3N0TGluaygpYCAtIENhbGxlZCBhZnRlciB0aGlzIGNvbnRyb2xsZXIncyBlbGVtZW50IGFuZCBpdHMgY2hpbGRyZW4gaGF2ZSBiZWVuIGxpbmtlZC4gU2ltaWxhciB0byB0aGUgcG9zdC1saW5rXHJcbiAgICogICBmdW5jdGlvbiB0aGlzIGhvb2sgY2FuIGJlIHVzZWQgdG8gc2V0IHVwIERPTSBldmVudCBoYW5kbGVycyBhbmQgZG8gZGlyZWN0IERPTSBtYW5pcHVsYXRpb24uXHJcbiAgICogICBOb3RlIHRoYXQgY2hpbGQgZWxlbWVudHMgdGhhdCBjb250YWluIGB0ZW1wbGF0ZVVybGAgZGlyZWN0aXZlcyB3aWxsIG5vdCBoYXZlIGJlZW4gY29tcGlsZWQgYW5kIGxpbmtlZCBzaW5jZVxyXG4gICAqICAgdGhleSBhcmUgd2FpdGluZyBmb3IgdGhlaXIgdGVtcGxhdGUgdG8gbG9hZCBhc3luY2hyb25vdXNseSBhbmQgdGhlaXIgb3duIGNvbXBpbGF0aW9uIGFuZCBsaW5raW5nIGhhcyBiZWVuXHJcbiAgICogICBzdXNwZW5kZWQgdW50aWwgdGhhdCBvY2N1cnMuXHJcbiAgICpcclxuICAgKiAjIyMjIENvbXBhcmlzb24gd2l0aCBBbmd1bGFyIDIgbGlmZS1jeWNsZSBob29rc1xyXG4gICAqIEFuZ3VsYXIgMiBhbHNvIHVzZXMgbGlmZS1jeWNsZSBob29rcyBmb3IgaXRzIGNvbXBvbmVudHMuIFdoaWxlIHRoZSBBbmd1bGFyIDEgbGlmZS1jeWNsZSBob29rcyBhcmUgc2ltaWxhciB0aGVyZSBhcmVcclxuICAgKiBzb21lIGRpZmZlcmVuY2VzIHRoYXQgeW91IHNob3VsZCBiZSBhd2FyZSBvZiwgZXNwZWNpYWxseSB3aGVuIGl0IGNvbWVzIHRvIG1vdmluZyB5b3VyIGNvZGUgZnJvbSBBbmd1bGFyIDEgdG8gQW5ndWxhciAyOlxyXG4gICAqXHJcbiAgICogKiBBbmd1bGFyIDEgaG9va3MgYXJlIHByZWZpeGVkIHdpdGggYCRgLCBzdWNoIGFzIGAkb25Jbml0YC4gQW5ndWxhciAyIGhvb2tzIGFyZSBwcmVmaXhlZCB3aXRoIGBuZ2AsIHN1Y2ggYXMgYG5nT25Jbml0YC5cclxuICAgKiAqIEFuZ3VsYXIgMSBob29rcyBjYW4gYmUgZGVmaW5lZCBvbiB0aGUgY29udHJvbGxlciBwcm90b3R5cGUgb3IgYWRkZWQgdG8gdGhlIGNvbnRyb2xsZXIgaW5zaWRlIGl0cyBjb25zdHJ1Y3Rvci5cclxuICAgKiAgIEluIEFuZ3VsYXIgMiB5b3UgY2FuIG9ubHkgZGVmaW5lIGhvb2tzIG9uIHRoZSBwcm90b3R5cGUgb2YgdGhlIENvbXBvbmVudCBjbGFzcy5cclxuICAgKiAqIER1ZSB0byB0aGUgZGlmZmVyZW5jZXMgaW4gY2hhbmdlLWRldGVjdGlvbiwgeW91IG1heSBnZXQgbWFueSBtb3JlIGNhbGxzIHRvIGAkZG9DaGVja2AgaW4gQW5ndWxhciAxIHRoYW4geW91IHdvdWxkIHRvXHJcbiAgICogICBgbmdEb0NoZWNrYCBpbiBBbmd1bGFyIDJcclxuICAgKiAqIENoYW5nZXMgdG8gdGhlIG1vZGVsIGluc2lkZSBgJGRvQ2hlY2tgIHdpbGwgdHJpZ2dlciBuZXcgdHVybnMgb2YgdGhlIGRpZ2VzdCBsb29wLCB3aGljaCB3aWxsIGNhdXNlIHRoZSBjaGFuZ2VzIHRvIGJlXHJcbiAgICogICBwcm9wYWdhdGVkIHRocm91Z2hvdXQgdGhlIGFwcGxpY2F0aW9uLlxyXG4gICAqICAgQW5ndWxhciAyIGRvZXMgbm90IGFsbG93IHRoZSBgbmdEb0NoZWNrYCBob29rIHRvIHRyaWdnZXIgYSBjaGFuZ2Ugb3V0c2lkZSBvZiB0aGUgY29tcG9uZW50LiBJdCB3aWxsIGVpdGhlciB0aHJvdyBhblxyXG4gICAqICAgZXJyb3Igb3IgZG8gbm90aGluZyBkZXBlbmRpbmcgdXBvbiB0aGUgc3RhdGUgb2YgYGVuYWJsZVByb2RNb2RlKClgLlxyXG4gICAqXHJcbiAgICogIyMjIyBMaWZlLWN5Y2xlIGhvb2sgZXhhbXBsZXNcclxuICAgKlxyXG4gICAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgeW91IGNhbiBjaGVjayBmb3IgbXV0YXRpb25zIHRvIGEgRGF0ZSBvYmplY3QgZXZlbiB0aG91Z2ggdGhlIGlkZW50aXR5IG9mIHRoZSBvYmplY3RcclxuICAgKiBoYXMgbm90IGNoYW5nZWQuXHJcbiAgICpcclxuICAgKiA8ZXhhbXBsZSBuYW1lPVwiZG9DaGVja0RhdGVFeGFtcGxlXCIgbW9kdWxlPVwiZG8tY2hlY2stbW9kdWxlXCI+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdkby1jaGVjay1tb2R1bGUnLCBbXSlcclxuICAgKiAgICAgICAuY29tcG9uZW50KCdhcHAnLCB7XHJcbiAgICogICAgICAgICB0ZW1wbGF0ZTpcclxuICAgKiAgICAgICAgICAgJ01vbnRoOiA8aW5wdXQgbmctbW9kZWw9XCIkY3RybC5tb250aFwiIG5nLWNoYW5nZT1cIiRjdHJsLnVwZGF0ZURhdGUoKVwiPicgK1xyXG4gICAqICAgICAgICAgICAnRGF0ZToge3sgJGN0cmwuZGF0ZSB9fScgK1xyXG4gICAqICAgICAgICAgICAnPHRlc3QgZGF0ZT1cIiRjdHJsLmRhdGVcIj48L3Rlc3Q+JyxcclxuICAgKiAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgICAgICB0aGlzLmRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAqICAgICAgICAgICB0aGlzLm1vbnRoID0gdGhpcy5kYXRlLmdldE1vbnRoKCk7XHJcbiAgICogICAgICAgICAgIHRoaXMudXBkYXRlRGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgICAgICAgIHRoaXMuZGF0ZS5zZXRNb250aCh0aGlzLm1vbnRoKTtcclxuICAgKiAgICAgICAgICAgfTtcclxuICAgKiAgICAgICAgIH1cclxuICAgKiAgICAgICB9KVxyXG4gICAqICAgICAgIC5jb21wb25lbnQoJ3Rlc3QnLCB7XHJcbiAgICogICAgICAgICBiaW5kaW5nczogeyBkYXRlOiAnPCcgfSxcclxuICAgKiAgICAgICAgIHRlbXBsYXRlOlxyXG4gICAqICAgICAgICAgICAnPHByZT57eyAkY3RybC5sb2cgfCBqc29uIH19PC9wcmU+JyxcclxuICAgKiAgICAgICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgICAgICB2YXIgcHJldmlvdXNWYWx1ZTtcclxuICAgKiAgICAgICAgICAgdGhpcy5sb2cgPSBbXTtcclxuICAgKiAgICAgICAgICAgdGhpcy4kZG9DaGVjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSB0aGlzLmRhdGUgJiYgdGhpcy5kYXRlLnZhbHVlT2YoKTtcclxuICAgKiAgICAgICAgICAgICBpZiAocHJldmlvdXNWYWx1ZSAhPT0gY3VycmVudFZhbHVlKSB7XHJcbiAgICogICAgICAgICAgICAgICB0aGlzLmxvZy5wdXNoKCdkb0NoZWNrOiBkYXRlIG11dGF0ZWQ6ICcgKyB0aGlzLmRhdGUpO1xyXG4gICAqICAgICAgICAgICAgICAgcHJldmlvdXNWYWx1ZSA9IGN1cnJlbnRWYWx1ZTtcclxuICAgKiAgICAgICAgICAgICB9XHJcbiAgICogICAgICAgICAgIH07XHJcbiAgICogICAgICAgICB9XHJcbiAgICogICAgICAgfSk7XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAqICAgICA8YXBwPjwvYXBwPlxyXG4gICAqICAgPC9maWxlPlxyXG4gICAqIDwvZXhhbXBsZT5cclxuICAgKlxyXG4gICAqIFRoaXMgZXhhbXBsZSBzaG93IGhvdyB5b3UgbWlnaHQgdXNlIGAkZG9DaGVja2AgdG8gdHJpZ2dlciBjaGFuZ2VzIGluIHlvdXIgY29tcG9uZW50J3MgaW5wdXRzIGV2ZW4gaWYgdGhlXHJcbiAgICogYWN0dWFsIGlkZW50aXR5IG9mIHRoZSBjb21wb25lbnQgZG9lc24ndCBjaGFuZ2UuIChCZSBhd2FyZSB0aGF0IGNsb25pbmcgYW5kIGRlZXAgZXF1YWxpdHkgY2hlY2tzIG9uIGxhcmdlXHJcbiAgICogYXJyYXlzIG9yIG9iamVjdHMgY2FuIGhhdmUgYSBuZWdhdGl2ZSBpbXBhY3Qgb24geW91ciBhcHBsaWNhdGlvbiBwZXJmb3JtYW5jZSlcclxuICAgKlxyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJkb0NoZWNrQXJyYXlFeGFtcGxlXCIgbW9kdWxlPVwiZG8tY2hlY2stbW9kdWxlXCI+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAqICAgICA8ZGl2IG5nLWluaXQ9XCJpdGVtcyA9IFtdXCI+XHJcbiAgICogICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIml0ZW1zLnB1c2goaXRlbXMubGVuZ3RoKVwiPkFkZCBJdGVtPC9idXR0b24+XHJcbiAgICogICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIml0ZW1zID0gW11cIj5SZXNldCBJdGVtczwvYnV0dG9uPlxyXG4gICAqICAgICAgIDxwcmU+e3sgaXRlbXMgfX08L3ByZT5cclxuICAgKiAgICAgICA8dGVzdCBpdGVtcz1cIml0ZW1zXCI+PC90ZXN0PlxyXG4gICAqICAgICA8L2Rpdj5cclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICAgKiAgICAgIGFuZ3VsYXIubW9kdWxlKCdkby1jaGVjay1tb2R1bGUnLCBbXSlcclxuICAgKiAgICAgICAgLmNvbXBvbmVudCgndGVzdCcsIHtcclxuICAgKiAgICAgICAgICBiaW5kaW5nczogeyBpdGVtczogJzwnIH0sXHJcbiAgICogICAgICAgICAgdGVtcGxhdGU6XHJcbiAgICogICAgICAgICAgICAnPHByZT57eyAkY3RybC5sb2cgfCBqc29uIH19PC9wcmU+JyxcclxuICAgKiAgICAgICAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcclxuICAgKiAgICAgICAgICAgIHRoaXMubG9nID0gW107XHJcbiAgICpcclxuICAgKiAgICAgICAgICAgIHRoaXMuJGRvQ2hlY2sgPSBmdW5jdGlvbigpIHtcclxuICAgKiAgICAgICAgICAgICAgaWYgKHRoaXMuaXRlbXNfcmVmICE9PSB0aGlzLml0ZW1zKSB7XHJcbiAgICogICAgICAgICAgICAgICAgdGhpcy5sb2cucHVzaCgnZG9DaGVjazogaXRlbXMgY2hhbmdlZCcpO1xyXG4gICAqICAgICAgICAgICAgICAgIHRoaXMuaXRlbXNfcmVmID0gdGhpcy5pdGVtcztcclxuICAgKiAgICAgICAgICAgICAgfVxyXG4gICAqICAgICAgICAgICAgICBpZiAoIWFuZ3VsYXIuZXF1YWxzKHRoaXMuaXRlbXNfY2xvbmUsIHRoaXMuaXRlbXMpKSB7XHJcbiAgICogICAgICAgICAgICAgICAgdGhpcy5sb2cucHVzaCgnZG9DaGVjazogaXRlbXMgbXV0YXRlZCcpO1xyXG4gICAqICAgICAgICAgICAgICAgIHRoaXMuaXRlbXNfY2xvbmUgPSBhbmd1bGFyLmNvcHkodGhpcy5pdGVtcyk7XHJcbiAgICogICAgICAgICAgICAgIH1cclxuICAgKiAgICAgICAgICAgIH07XHJcbiAgICogICAgICAgICAgfVxyXG4gICAqICAgICAgICB9KTtcclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiA8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKlxyXG4gICAqICMjIyBEaXJlY3RpdmUgRGVmaW5pdGlvbiBPYmplY3RcclxuICAgKlxyXG4gICAqIFRoZSBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvYmplY3QgcHJvdmlkZXMgaW5zdHJ1Y3Rpb25zIHRvIHRoZSB7QGxpbmsgbmcuJGNvbXBpbGVcclxuICAgKiBjb21waWxlcn0uIFRoZSBhdHRyaWJ1dGVzIGFyZTpcclxuICAgKlxyXG4gICAqICMjIyMgYG11bHRpRWxlbWVudGBcclxuICAgKiBXaGVuIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIHRydWUgKGRlZmF1bHQgaXMgYGZhbHNlYCksIHRoZSBIVE1MIGNvbXBpbGVyIHdpbGwgY29sbGVjdCBET00gbm9kZXMgYmV0d2VlblxyXG4gICAqIG5vZGVzIHdpdGggdGhlIGF0dHJpYnV0ZXMgYGRpcmVjdGl2ZS1uYW1lLXN0YXJ0YCBhbmQgYGRpcmVjdGl2ZS1uYW1lLWVuZGAsIGFuZCBncm91cCB0aGVtXHJcbiAgICogdG9nZXRoZXIgYXMgdGhlIGRpcmVjdGl2ZSBlbGVtZW50cy4gSXQgaXMgcmVjb21tZW5kZWQgdGhhdCB0aGlzIGZlYXR1cmUgYmUgdXNlZCBvbiBkaXJlY3RpdmVzXHJcbiAgICogd2hpY2ggYXJlIG5vdCBzdHJpY3RseSBiZWhhdmlvcmFsIChzdWNoIGFzIHtAbGluayBuZ0NsaWNrfSksIGFuZCB3aGljaFxyXG4gICAqIGRvIG5vdCBtYW5pcHVsYXRlIG9yIHJlcGxhY2UgY2hpbGQgbm9kZXMgKHN1Y2ggYXMge0BsaW5rIG5nSW5jbHVkZX0pLlxyXG4gICAqXHJcbiAgICogIyMjIyBgcHJpb3JpdHlgXHJcbiAgICogV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgZGlyZWN0aXZlcyBkZWZpbmVkIG9uIGEgc2luZ2xlIERPTSBlbGVtZW50LCBzb21ldGltZXMgaXRcclxuICAgKiBpcyBuZWNlc3NhcnkgdG8gc3BlY2lmeSB0aGUgb3JkZXIgaW4gd2hpY2ggdGhlIGRpcmVjdGl2ZXMgYXJlIGFwcGxpZWQuIFRoZSBgcHJpb3JpdHlgIGlzIHVzZWRcclxuICAgKiB0byBzb3J0IHRoZSBkaXJlY3RpdmVzIGJlZm9yZSB0aGVpciBgY29tcGlsZWAgZnVuY3Rpb25zIGdldCBjYWxsZWQuIFByaW9yaXR5IGlzIGRlZmluZWQgYXMgYVxyXG4gICAqIG51bWJlci4gRGlyZWN0aXZlcyB3aXRoIGdyZWF0ZXIgbnVtZXJpY2FsIGBwcmlvcml0eWAgYXJlIGNvbXBpbGVkIGZpcnN0LiBQcmUtbGluayBmdW5jdGlvbnNcclxuICAgKiBhcmUgYWxzbyBydW4gaW4gcHJpb3JpdHkgb3JkZXIsIGJ1dCBwb3N0LWxpbmsgZnVuY3Rpb25zIGFyZSBydW4gaW4gcmV2ZXJzZSBvcmRlci4gVGhlIG9yZGVyXHJcbiAgICogb2YgZGlyZWN0aXZlcyB3aXRoIHRoZSBzYW1lIHByaW9yaXR5IGlzIHVuZGVmaW5lZC4gVGhlIGRlZmF1bHQgcHJpb3JpdHkgaXMgYDBgLlxyXG4gICAqXHJcbiAgICogIyMjIyBgdGVybWluYWxgXHJcbiAgICogSWYgc2V0IHRvIHRydWUgdGhlbiB0aGUgY3VycmVudCBgcHJpb3JpdHlgIHdpbGwgYmUgdGhlIGxhc3Qgc2V0IG9mIGRpcmVjdGl2ZXNcclxuICAgKiB3aGljaCB3aWxsIGV4ZWN1dGUgKGFueSBkaXJlY3RpdmVzIGF0IHRoZSBjdXJyZW50IHByaW9yaXR5IHdpbGwgc3RpbGwgZXhlY3V0ZVxyXG4gICAqIGFzIHRoZSBvcmRlciBvZiBleGVjdXRpb24gb24gc2FtZSBgcHJpb3JpdHlgIGlzIHVuZGVmaW5lZCkuIE5vdGUgdGhhdCBleHByZXNzaW9uc1xyXG4gICAqIGFuZCBvdGhlciBkaXJlY3RpdmVzIHVzZWQgaW4gdGhlIGRpcmVjdGl2ZSdzIHRlbXBsYXRlIHdpbGwgYWxzbyBiZSBleGNsdWRlZCBmcm9tIGV4ZWN1dGlvbi5cclxuICAgKlxyXG4gICAqICMjIyMgYHNjb3BlYFxyXG4gICAqIFRoZSBzY29wZSBwcm9wZXJ0eSBjYW4gYmUgYGZhbHNlYCwgYHRydWVgLCBvciBhbiBvYmplY3Q6XHJcbiAgICpcclxuICAgKiAqICoqYGZhbHNlYCAoZGVmYXVsdCk6KiogTm8gc2NvcGUgd2lsbCBiZSBjcmVhdGVkIGZvciB0aGUgZGlyZWN0aXZlLiBUaGUgZGlyZWN0aXZlIHdpbGwgdXNlIGl0c1xyXG4gICAqIHBhcmVudCdzIHNjb3BlLlxyXG4gICAqXHJcbiAgICogKiAqKmB0cnVlYDoqKiBBIG5ldyBjaGlsZCBzY29wZSB0aGF0IHByb3RvdHlwaWNhbGx5IGluaGVyaXRzIGZyb20gaXRzIHBhcmVudCB3aWxsIGJlIGNyZWF0ZWQgZm9yXHJcbiAgICogdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuIElmIG11bHRpcGxlIGRpcmVjdGl2ZXMgb24gdGhlIHNhbWUgZWxlbWVudCByZXF1ZXN0IGEgbmV3IHNjb3BlLFxyXG4gICAqIG9ubHkgb25lIG5ldyBzY29wZSBpcyBjcmVhdGVkLlxyXG4gICAqXHJcbiAgICogKiAqKmB7Li4ufWAgKGFuIG9iamVjdCBoYXNoKToqKiBBIG5ldyBcImlzb2xhdGVcIiBzY29wZSBpcyBjcmVhdGVkIGZvciB0aGUgZGlyZWN0aXZlJ3MgdGVtcGxhdGUuXHJcbiAgICogVGhlICdpc29sYXRlJyBzY29wZSBkaWZmZXJzIGZyb20gbm9ybWFsIHNjb3BlIGluIHRoYXQgaXQgZG9lcyBub3QgcHJvdG90eXBpY2FsbHlcclxuICAgKiBpbmhlcml0IGZyb20gaXRzIHBhcmVudCBzY29wZS4gVGhpcyBpcyB1c2VmdWwgd2hlbiBjcmVhdGluZyByZXVzYWJsZSBjb21wb25lbnRzLCB3aGljaCBzaG91bGQgbm90XHJcbiAgICogYWNjaWRlbnRhbGx5IHJlYWQgb3IgbW9kaWZ5IGRhdGEgaW4gdGhlIHBhcmVudCBzY29wZS4gTm90ZSB0aGF0IGFuIGlzb2xhdGUgc2NvcGVcclxuICAgKiBkaXJlY3RpdmUgd2l0aG91dCBhIGB0ZW1wbGF0ZWAgb3IgYHRlbXBsYXRlVXJsYCB3aWxsIG5vdCBhcHBseSB0aGUgaXNvbGF0ZSBzY29wZVxyXG4gICAqIHRvIGl0cyBjaGlsZHJlbiBlbGVtZW50cy5cclxuICAgKlxyXG4gICAqIFRoZSAnaXNvbGF0ZScgc2NvcGUgb2JqZWN0IGhhc2ggZGVmaW5lcyBhIHNldCBvZiBsb2NhbCBzY29wZSBwcm9wZXJ0aWVzIGRlcml2ZWQgZnJvbSBhdHRyaWJ1dGVzIG9uIHRoZVxyXG4gICAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQuIFRoZXNlIGxvY2FsIHByb3BlcnRpZXMgYXJlIHVzZWZ1bCBmb3IgYWxpYXNpbmcgdmFsdWVzIGZvciB0ZW1wbGF0ZXMuIFRoZSBrZXlzIGluXHJcbiAgICogdGhlIG9iamVjdCBoYXNoIG1hcCB0byB0aGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgb24gdGhlIGlzb2xhdGUgc2NvcGU7IHRoZSB2YWx1ZXMgZGVmaW5lIGhvdyB0aGUgcHJvcGVydHlcclxuICAgKiBpcyBib3VuZCB0byB0aGUgcGFyZW50IHNjb3BlLCB2aWEgbWF0Y2hpbmcgYXR0cmlidXRlcyBvbiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudDpcclxuICAgKlxyXG4gICAqICogYEBgIG9yIGBAYXR0cmAgLSBiaW5kIGEgbG9jYWwgc2NvcGUgcHJvcGVydHkgdG8gdGhlIHZhbHVlIG9mIERPTSBhdHRyaWJ1dGUuIFRoZSByZXN1bHQgaXNcclxuICAgKiAgIGFsd2F5cyBhIHN0cmluZyBzaW5jZSBET00gYXR0cmlidXRlcyBhcmUgc3RyaW5ncy4gSWYgbm8gYGF0dHJgIG5hbWUgaXMgc3BlY2lmaWVkIHRoZW4gdGhlXHJcbiAgICogICBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbCBuYW1lLiBHaXZlbiBgPG15LWNvbXBvbmVudFxyXG4gICAqICAgbXktYXR0cj1cImhlbGxvIHt7bmFtZX19XCI+YCBhbmQgdGhlIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBgc2NvcGU6IHsgbG9jYWxOYW1lOidAbXlBdHRyJyB9YCxcclxuICAgKiAgIHRoZSBkaXJlY3RpdmUncyBzY29wZSBwcm9wZXJ0eSBgbG9jYWxOYW1lYCB3aWxsIHJlZmxlY3QgdGhlIGludGVycG9sYXRlZCB2YWx1ZSBvZiBgaGVsbG9cclxuICAgKiAgIHt7bmFtZX19YC4gQXMgdGhlIGBuYW1lYCBhdHRyaWJ1dGUgY2hhbmdlcyBzbyB3aWxsIHRoZSBgbG9jYWxOYW1lYCBwcm9wZXJ0eSBvbiB0aGUgZGlyZWN0aXZlJ3NcclxuICAgKiAgIHNjb3BlLiBUaGUgYG5hbWVgIGlzIHJlYWQgZnJvbSB0aGUgcGFyZW50IHNjb3BlIChub3QgdGhlIGRpcmVjdGl2ZSdzIHNjb3BlKS5cclxuICAgKlxyXG4gICAqICogYD1gIG9yIGA9YXR0cmAgLSBzZXQgdXAgYSBiaWRpcmVjdGlvbmFsIGJpbmRpbmcgYmV0d2VlbiBhIGxvY2FsIHNjb3BlIHByb3BlcnR5IGFuZCBhbiBleHByZXNzaW9uXHJcbiAgICogICBwYXNzZWQgdmlhIHRoZSBhdHRyaWJ1dGUgYGF0dHJgLiBUaGUgZXhwcmVzc2lvbiBpcyBldmFsdWF0ZWQgaW4gdGhlIGNvbnRleHQgb2YgdGhlIHBhcmVudCBzY29wZS5cclxuICAgKiAgIElmIG5vIGBhdHRyYCBuYW1lIGlzIHNwZWNpZmllZCB0aGVuIHRoZSBhdHRyaWJ1dGUgbmFtZSBpcyBhc3N1bWVkIHRvIGJlIHRoZSBzYW1lIGFzIHRoZSBsb2NhbFxyXG4gICAqICAgbmFtZS4gR2l2ZW4gYDxteS1jb21wb25lbnQgbXktYXR0cj1cInBhcmVudE1vZGVsXCI+YCBhbmQgdGhlIGlzb2xhdGUgc2NvcGUgZGVmaW5pdGlvbiBgc2NvcGU6IHtcclxuICAgKiAgIGxvY2FsTW9kZWw6ICc9bXlBdHRyJyB9YCwgdGhlIHByb3BlcnR5IGBsb2NhbE1vZGVsYCBvbiB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUgd2lsbCByZWZsZWN0IHRoZVxyXG4gICAqICAgdmFsdWUgb2YgYHBhcmVudE1vZGVsYCBvbiB0aGUgcGFyZW50IHNjb3BlLiBDaGFuZ2VzIHRvIGBwYXJlbnRNb2RlbGAgd2lsbCBiZSByZWZsZWN0ZWQgaW5cclxuICAgKiAgIGBsb2NhbE1vZGVsYCBhbmQgdmljZSB2ZXJzYS4gT3B0aW9uYWwgYXR0cmlidXRlcyBzaG91bGQgYmUgbWFya2VkIGFzIHN1Y2ggd2l0aCBhIHF1ZXN0aW9uIG1hcms6XHJcbiAgICogICBgPT9gIG9yIGA9P2F0dHJgLiBJZiB0aGUgYmluZGluZyBleHByZXNzaW9uIGlzIG5vbi1hc3NpZ25hYmxlLCBvciBpZiB0aGUgYXR0cmlidXRlIGlzbid0XHJcbiAgICogICBvcHRpb25hbCBhbmQgZG9lc24ndCBleGlzdCwgYW4gZXhjZXB0aW9uICh7QGxpbmsgZXJyb3IvJGNvbXBpbGUvbm9uYXNzaWduIGAkY29tcGlsZTpub25hc3NpZ25gfSlcclxuICAgKiAgIHdpbGwgYmUgdGhyb3duIHVwb24gZGlzY292ZXJpbmcgY2hhbmdlcyB0byB0aGUgbG9jYWwgdmFsdWUsIHNpbmNlIGl0IHdpbGwgYmUgaW1wb3NzaWJsZSB0byBzeW5jXHJcbiAgICogICB0aGVtIGJhY2sgdG8gdGhlIHBhcmVudCBzY29wZS4gQnkgZGVmYXVsdCwgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCBgJHdhdGNoYH1cclxuICAgKiAgIG1ldGhvZCBpcyB1c2VkIGZvciB0cmFja2luZyBjaGFuZ2VzLCBhbmQgdGhlIGVxdWFsaXR5IGNoZWNrIGlzIGJhc2VkIG9uIG9iamVjdCBpZGVudGl0eS5cclxuICAgKiAgIEhvd2V2ZXIsIGlmIGFuIG9iamVjdCBsaXRlcmFsIG9yIGFuIGFycmF5IGxpdGVyYWwgaXMgcGFzc2VkIGFzIHRoZSBiaW5kaW5nIGV4cHJlc3Npb24sIHRoZVxyXG4gICAqICAgZXF1YWxpdHkgY2hlY2sgaXMgZG9uZSBieSB2YWx1ZSAodXNpbmcgdGhlIHtAbGluayBhbmd1bGFyLmVxdWFsc30gZnVuY3Rpb24pLiBJdCdzIGFsc28gcG9zc2libGVcclxuICAgKiAgIHRvIHdhdGNoIHRoZSBldmFsdWF0ZWQgdmFsdWUgc2hhbGxvd2x5IHdpdGgge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvblxyXG4gICAqICAgYCR3YXRjaENvbGxlY3Rpb25gfTogdXNlIGA9KmAgb3IgYD0qYXR0cmAgKGA9Kj9gIG9yIGA9Kj9hdHRyYCBpZiB0aGUgYXR0cmlidXRlIGlzIG9wdGlvbmFsKS5cclxuICAgKlxyXG4gICAgKiAqIGA8YCBvciBgPGF0dHJgIC0gc2V0IHVwIGEgb25lLXdheSAob25lLWRpcmVjdGlvbmFsKSBiaW5kaW5nIGJldHdlZW4gYSBsb2NhbCBzY29wZSBwcm9wZXJ0eSBhbmQgYW5cclxuICAgKiAgIGV4cHJlc3Npb24gcGFzc2VkIHZpYSB0aGUgYXR0cmlidXRlIGBhdHRyYC4gVGhlIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkIGluIHRoZSBjb250ZXh0IG9mIHRoZVxyXG4gICAqICAgcGFyZW50IHNjb3BlLiBJZiBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGVcclxuICAgKiAgIGxvY2FsIG5hbWUuIFlvdSBjYW4gYWxzbyBtYWtlIHRoZSBiaW5kaW5nIG9wdGlvbmFsIGJ5IGFkZGluZyBgP2A6IGA8P2Agb3IgYDw/YXR0cmAuXHJcbiAgICpcclxuICAgKiAgIEZvciBleGFtcGxlLCBnaXZlbiBgPG15LWNvbXBvbmVudCBteS1hdHRyPVwicGFyZW50TW9kZWxcIj5gIGFuZCBkaXJlY3RpdmUgZGVmaW5pdGlvbiBvZlxyXG4gICAqICAgYHNjb3BlOiB7IGxvY2FsTW9kZWw6JzxteUF0dHInIH1gLCB0aGVuIHRoZSBpc29sYXRlZCBzY29wZSBwcm9wZXJ0eSBgbG9jYWxNb2RlbGAgd2lsbCByZWZsZWN0IHRoZVxyXG4gICAqICAgdmFsdWUgb2YgYHBhcmVudE1vZGVsYCBvbiB0aGUgcGFyZW50IHNjb3BlLiBBbnkgY2hhbmdlcyB0byBgcGFyZW50TW9kZWxgIHdpbGwgYmUgcmVmbGVjdGVkXHJcbiAgICogICBpbiBgbG9jYWxNb2RlbGAsIGJ1dCBjaGFuZ2VzIGluIGBsb2NhbE1vZGVsYCB3aWxsIG5vdCByZWZsZWN0IGluIGBwYXJlbnRNb2RlbGAuIFRoZXJlIGFyZSBob3dldmVyXHJcbiAgICogICB0d28gY2F2ZWF0czpcclxuICAgKiAgICAgMS4gb25lLXdheSBiaW5kaW5nIGRvZXMgbm90IGNvcHkgdGhlIHZhbHVlIGZyb20gdGhlIHBhcmVudCB0byB0aGUgaXNvbGF0ZSBzY29wZSwgaXQgc2ltcGx5XHJcbiAgICogICAgIHNldHMgdGhlIHNhbWUgdmFsdWUuIFRoYXQgbWVhbnMgaWYgeW91ciBib3VuZCB2YWx1ZSBpcyBhbiBvYmplY3QsIGNoYW5nZXMgdG8gaXRzIHByb3BlcnRpZXNcclxuICAgKiAgICAgaW4gdGhlIGlzb2xhdGVkIHNjb3BlIHdpbGwgYmUgcmVmbGVjdGVkIGluIHRoZSBwYXJlbnQgc2NvcGUgKGJlY2F1c2UgYm90aCByZWZlcmVuY2UgdGhlIHNhbWUgb2JqZWN0KS5cclxuICAgKiAgICAgMi4gb25lLXdheSBiaW5kaW5nIHdhdGNoZXMgY2hhbmdlcyB0byB0aGUgKippZGVudGl0eSoqIG9mIHRoZSBwYXJlbnQgdmFsdWUuIFRoYXQgbWVhbnMgdGhlXHJcbiAgICogICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCBgJHdhdGNoYH0gb24gdGhlIHBhcmVudCB2YWx1ZSBvbmx5IGZpcmVzIGlmIHRoZSByZWZlcmVuY2VcclxuICAgKiAgICAgdG8gdGhlIHZhbHVlIGhhcyBjaGFuZ2VkLiBJbiBtb3N0IGNhc2VzLCB0aGlzIHNob3VsZCBub3QgYmUgb2YgY29uY2VybiwgYnV0IGNhbiBiZSBpbXBvcnRhbnRcclxuICAgKiAgICAgdG8ga25vdyBpZiB5b3Ugb25lLXdheSBiaW5kIHRvIGFuIG9iamVjdCwgYW5kIHRoZW4gcmVwbGFjZSB0aGF0IG9iamVjdCBpbiB0aGUgaXNvbGF0ZWQgc2NvcGUuXHJcbiAgICogICAgIElmIHlvdSBub3cgY2hhbmdlIGEgcHJvcGVydHkgb2YgdGhlIG9iamVjdCBpbiB5b3VyIHBhcmVudCBzY29wZSwgdGhlIGNoYW5nZSB3aWxsIG5vdCBiZVxyXG4gICAqICAgICBwcm9wYWdhdGVkIHRvIHRoZSBpc29sYXRlZCBzY29wZSwgYmVjYXVzZSB0aGUgaWRlbnRpdHkgb2YgdGhlIG9iamVjdCBvbiB0aGUgcGFyZW50IHNjb3BlXHJcbiAgICogICAgIGhhcyBub3QgY2hhbmdlZC4gSW5zdGVhZCB5b3UgbXVzdCBhc3NpZ24gYSBuZXcgb2JqZWN0LlxyXG4gICAqXHJcbiAgICogICBPbmUtd2F5IGJpbmRpbmcgaXMgdXNlZnVsIGlmIHlvdSBkbyBub3QgcGxhbiB0byBwcm9wYWdhdGUgY2hhbmdlcyB0byB5b3VyIGlzb2xhdGVkIHNjb3BlIGJpbmRpbmdzXHJcbiAgICogICBiYWNrIHRvIHRoZSBwYXJlbnQuIEhvd2V2ZXIsIGl0IGRvZXMgbm90IG1ha2UgdGhpcyBjb21wbGV0ZWx5IGltcG9zc2libGUuXHJcbiAgICpcclxuICAgKiAqIGAmYCBvciBgJmF0dHJgIC0gcHJvdmlkZXMgYSB3YXkgdG8gZXhlY3V0ZSBhbiBleHByZXNzaW9uIGluIHRoZSBjb250ZXh0IG9mIHRoZSBwYXJlbnQgc2NvcGUuIElmXHJcbiAgICogICBubyBgYXR0cmAgbmFtZSBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgYXR0cmlidXRlIG5hbWUgaXMgYXNzdW1lZCB0byBiZSB0aGUgc2FtZSBhcyB0aGUgbG9jYWwgbmFtZS5cclxuICAgKiAgIEdpdmVuIGA8bXktY29tcG9uZW50IG15LWF0dHI9XCJjb3VudCA9IGNvdW50ICsgdmFsdWVcIj5gIGFuZCB0aGUgaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uIGBzY29wZToge1xyXG4gICAqICAgbG9jYWxGbjonJm15QXR0cicgfWAsIHRoZSBpc29sYXRlIHNjb3BlIHByb3BlcnR5IGBsb2NhbEZuYCB3aWxsIHBvaW50IHRvIGEgZnVuY3Rpb24gd3JhcHBlciBmb3JcclxuICAgKiAgIHRoZSBgY291bnQgPSBjb3VudCArIHZhbHVlYCBleHByZXNzaW9uLiBPZnRlbiBpdCdzIGRlc2lyYWJsZSB0byBwYXNzIGRhdGEgZnJvbSB0aGUgaXNvbGF0ZWQgc2NvcGVcclxuICAgKiAgIHZpYSBhbiBleHByZXNzaW9uIHRvIHRoZSBwYXJlbnQgc2NvcGUuIFRoaXMgY2FuIGJlIGRvbmUgYnkgcGFzc2luZyBhIG1hcCBvZiBsb2NhbCB2YXJpYWJsZSBuYW1lc1xyXG4gICAqICAgYW5kIHZhbHVlcyBpbnRvIHRoZSBleHByZXNzaW9uIHdyYXBwZXIgZm4uIEZvciBleGFtcGxlLCBpZiB0aGUgZXhwcmVzc2lvbiBpcyBgaW5jcmVtZW50KGFtb3VudClgXHJcbiAgICogICB0aGVuIHdlIGNhbiBzcGVjaWZ5IHRoZSBhbW91bnQgdmFsdWUgYnkgY2FsbGluZyB0aGUgYGxvY2FsRm5gIGFzIGBsb2NhbEZuKHthbW91bnQ6IDIyfSlgLlxyXG4gICAqXHJcbiAgICogSW4gZ2VuZXJhbCBpdCdzIHBvc3NpYmxlIHRvIGFwcGx5IG1vcmUgdGhhbiBvbmUgZGlyZWN0aXZlIHRvIG9uZSBlbGVtZW50LCBidXQgdGhlcmUgbWlnaHQgYmUgbGltaXRhdGlvbnNcclxuICAgKiBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2Ygc2NvcGUgcmVxdWlyZWQgYnkgdGhlIGRpcmVjdGl2ZXMuIFRoZSBmb2xsb3dpbmcgcG9pbnRzIHdpbGwgaGVscCBleHBsYWluIHRoZXNlIGxpbWl0YXRpb25zLlxyXG4gICAqIEZvciBzaW1wbGljaXR5IG9ubHkgdHdvIGRpcmVjdGl2ZXMgYXJlIHRha2VuIGludG8gYWNjb3VudCwgYnV0IGl0IGlzIGFsc28gYXBwbGljYWJsZSBmb3Igc2V2ZXJhbCBkaXJlY3RpdmVzOlxyXG4gICAqXHJcbiAgICogKiAqKm5vIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gVHdvIGRpcmVjdGl2ZXMgd2hpY2ggZG9uJ3QgcmVxdWlyZSB0aGVpciBvd24gc2NvcGUgd2lsbCB1c2UgdGhlaXIgcGFyZW50J3Mgc2NvcGVcclxuICAgKiAqICoqY2hpbGQgc2NvcGUqKiArICoqbm8gc2NvcGUqKiA9PiAgQm90aCBkaXJlY3RpdmVzIHdpbGwgc2hhcmUgb25lIHNpbmdsZSBjaGlsZCBzY29wZVxyXG4gICAqICogKipjaGlsZCBzY29wZSoqICsgKipjaGlsZCBzY29wZSoqID0+ICBCb3RoIGRpcmVjdGl2ZXMgd2lsbCBzaGFyZSBvbmUgc2luZ2xlIGNoaWxkIHNjb3BlXHJcbiAgICogKiAqKmlzb2xhdGVkIHNjb3BlKiogKyAqKm5vIHNjb3BlKiogPT4gIFRoZSBpc29sYXRlZCBkaXJlY3RpdmUgd2lsbCB1c2UgaXQncyBvd24gY3JlYXRlZCBpc29sYXRlZCBzY29wZS4gVGhlIG90aGVyIGRpcmVjdGl2ZSB3aWxsIHVzZVxyXG4gICAqIGl0cyBwYXJlbnQncyBzY29wZVxyXG4gICAqICogKippc29sYXRlZCBzY29wZSoqICsgKipjaGlsZCBzY29wZSoqID0+ICAqKldvbid0IHdvcmshKiogT25seSBvbmUgc2NvcGUgY2FuIGJlIHJlbGF0ZWQgdG8gb25lIGVsZW1lbnQuIFRoZXJlZm9yZSB0aGVzZSBkaXJlY3RpdmVzIGNhbm5vdFxyXG4gICAqIGJlIGFwcGxpZWQgdG8gdGhlIHNhbWUgZWxlbWVudC5cclxuICAgKiAqICoqaXNvbGF0ZWQgc2NvcGUqKiArICoqaXNvbGF0ZWQgc2NvcGUqKiAgPT4gICoqV29uJ3Qgd29yayEqKiBPbmx5IG9uZSBzY29wZSBjYW4gYmUgcmVsYXRlZCB0byBvbmUgZWxlbWVudC4gVGhlcmVmb3JlIHRoZXNlIGRpcmVjdGl2ZXNcclxuICAgKiBjYW5ub3QgYmUgYXBwbGllZCB0byB0aGUgc2FtZSBlbGVtZW50LlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIyMjIGBiaW5kVG9Db250cm9sbGVyYFxyXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCB0byBiaW5kIHNjb3BlIHByb3BlcnRpZXMgZGlyZWN0bHkgdG8gdGhlIGNvbnRyb2xsZXIuIEl0IGNhbiBiZSBlaXRoZXJcclxuICAgKiBgdHJ1ZWAgb3IgYW4gb2JqZWN0IGhhc2ggd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgdGhlIGBzY29wZWAgcHJvcGVydHkuXHJcbiAgICpcclxuICAgKiBXaGVuIGFuIGlzb2xhdGUgc2NvcGUgaXMgdXNlZCBmb3IgYSBkaXJlY3RpdmUgKHNlZSBhYm92ZSksIGBiaW5kVG9Db250cm9sbGVyOiB0cnVlYCB3aWxsXHJcbiAgICogYWxsb3cgYSBjb21wb25lbnQgdG8gaGF2ZSBpdHMgcHJvcGVydGllcyBib3VuZCB0byB0aGUgY29udHJvbGxlciwgcmF0aGVyIHRoYW4gdG8gc2NvcGUuXHJcbiAgICpcclxuICAgKiBBZnRlciB0aGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQsIHRoZSBpbml0aWFsIHZhbHVlcyBvZiB0aGUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyB3aWxsIGJlIGJvdW5kIHRvIHRoZSBjb250cm9sbGVyXHJcbiAgICogcHJvcGVydGllcy4gWW91IGNhbiBhY2Nlc3MgdGhlc2UgYmluZGluZ3Mgb25jZSB0aGV5IGhhdmUgYmVlbiBpbml0aWFsaXplZCBieSBwcm92aWRpbmcgYSBjb250cm9sbGVyIG1ldGhvZCBjYWxsZWRcclxuICAgKiBgJG9uSW5pdGAsIHdoaWNoIGlzIGNhbGxlZCBhZnRlciBhbGwgdGhlIGNvbnRyb2xsZXJzIG9uIGFuIGVsZW1lbnQgaGF2ZSBiZWVuIGNvbnN0cnVjdGVkIGFuZCBoYWQgdGhlaXIgYmluZGluZ3NcclxuICAgKiBpbml0aWFsaXplZC5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogKipEZXByZWNhdGlvbiB3YXJuaW5nOioqIGlmIGAkY29tcGlsZVByb2N2aWRlci5wcmVBc3NpZ25CaW5kaW5nc0VuYWJsZWQodHJ1ZSlgIHdhcyBjYWxsZWQsIGJpbmRpbmdzIGZvciBub24tRVM2IGNsYXNzXHJcbiAgICogY29udHJvbGxlcnMgYXJlIGJvdW5kIHRvIGB0aGlzYCBiZWZvcmUgdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgaXMgY2FsbGVkIGJ1dCB0aGlzIHVzZSBpcyBub3cgZGVwcmVjYXRlZC4gUGxlYXNlXHJcbiAgICogcGxhY2UgaW5pdGlhbGl6YXRpb24gY29kZSB0aGF0IHJlbGllcyB1cG9uIGJpbmRpbmdzIGluc2lkZSBhIGAkb25Jbml0YCBtZXRob2Qgb24gdGhlIGNvbnRyb2xsZXIsIGluc3RlYWQuXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIHNldCBgYmluZFRvQ29udHJvbGxlcmAgdG8gYW4gb2JqZWN0IGhhc2ggd2l0aCB0aGUgc2FtZSBmb3JtYXQgYXMgdGhlIGBzY29wZWAgcHJvcGVydHkuXHJcbiAgICogVGhpcyB3aWxsIHNldCB1cCB0aGUgc2NvcGUgYmluZGluZ3MgdG8gdGhlIGNvbnRyb2xsZXIgZGlyZWN0bHkuIE5vdGUgdGhhdCBgc2NvcGVgIGNhbiBzdGlsbCBiZSB1c2VkXHJcbiAgICogdG8gZGVmaW5lIHdoaWNoIGtpbmQgb2Ygc2NvcGUgaXMgY3JlYXRlZC4gQnkgZGVmYXVsdCwgbm8gc2NvcGUgaXMgY3JlYXRlZC4gVXNlIGBzY29wZToge31gIHRvIGNyZWF0ZSBhbiBpc29sYXRlXHJcbiAgICogc2NvcGUgKHVzZWZ1bCBmb3IgY29tcG9uZW50IGRpcmVjdGl2ZXMpLlxyXG4gICAqXHJcbiAgICogSWYgYm90aCBgYmluZFRvQ29udHJvbGxlcmAgYW5kIGBzY29wZWAgYXJlIGRlZmluZWQgYW5kIGhhdmUgb2JqZWN0IGhhc2hlcywgYGJpbmRUb0NvbnRyb2xsZXJgIG92ZXJyaWRlcyBgc2NvcGVgLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIyMjIGBjb250cm9sbGVyYFxyXG4gICAqIENvbnRyb2xsZXIgY29uc3RydWN0b3IgZnVuY3Rpb24uIFRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBiZWZvcmUgdGhlXHJcbiAgICogcHJlLWxpbmtpbmcgcGhhc2UgYW5kIGNhbiBiZSBhY2Nlc3NlZCBieSBvdGhlciBkaXJlY3RpdmVzIChzZWVcclxuICAgKiBgcmVxdWlyZWAgYXR0cmlidXRlKS4gVGhpcyBhbGxvd3MgdGhlIGRpcmVjdGl2ZXMgdG8gY29tbXVuaWNhdGUgd2l0aCBlYWNoIG90aGVyIGFuZCBhdWdtZW50XHJcbiAgICogZWFjaCBvdGhlcidzIGJlaGF2aW9yLiBUaGUgY29udHJvbGxlciBpcyBpbmplY3RhYmxlIChhbmQgc3VwcG9ydHMgYnJhY2tldCBub3RhdGlvbikgd2l0aCB0aGUgZm9sbG93aW5nIGxvY2FsczpcclxuICAgKlxyXG4gICAqICogYCRzY29wZWAgLSBDdXJyZW50IHNjb3BlIGFzc29jaWF0ZWQgd2l0aCB0aGUgZWxlbWVudFxyXG4gICAqICogYCRlbGVtZW50YCAtIEN1cnJlbnQgZWxlbWVudFxyXG4gICAqICogYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxyXG4gICAqICogYCR0cmFuc2NsdWRlYCAtIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uIHByZS1ib3VuZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGU6XHJcbiAgICogICBgZnVuY3Rpb24oW3Njb3BlXSwgY2xvbmVMaW5raW5nRm4sIGZ1dHVyZVBhcmVudEVsZW1lbnQsIHNsb3ROYW1lKWA6XHJcbiAgICogICAgKiBgc2NvcGVgOiAob3B0aW9uYWwpIG92ZXJyaWRlIHRoZSBzY29wZS5cclxuICAgKiAgICAqIGBjbG9uZUxpbmtpbmdGbmA6IChvcHRpb25hbCkgYXJndW1lbnQgdG8gY3JlYXRlIGNsb25lcyBvZiB0aGUgb3JpZ2luYWwgdHJhbnNjbHVkZWQgY29udGVudC5cclxuICAgKiAgICAqIGBmdXR1cmVQYXJlbnRFbGVtZW50YCAob3B0aW9uYWwpOlxyXG4gICAqICAgICAgICAqIGRlZmluZXMgdGhlIHBhcmVudCB0byB3aGljaCB0aGUgYGNsb25lTGlua2luZ0ZuYCB3aWxsIGFkZCB0aGUgY2xvbmVkIGVsZW1lbnRzLlxyXG4gICAqICAgICAgICAqIGRlZmF1bHQ6IGAkZWxlbWVudC5wYXJlbnQoKWAgcmVzcC4gYCRlbGVtZW50YCBmb3IgYHRyYW5zY2x1ZGU6J2VsZW1lbnQnYCByZXNwLiBgdHJhbnNjbHVkZTp0cnVlYC5cclxuICAgKiAgICAgICAgKiBvbmx5IG5lZWRlZCBmb3IgdHJhbnNjbHVkZXMgdGhhdCBhcmUgYWxsb3dlZCB0byBjb250YWluIG5vbiBodG1sIGVsZW1lbnRzIChlLmcuIFNWRyBlbGVtZW50cylcclxuICAgKiAgICAgICAgICBhbmQgd2hlbiB0aGUgYGNsb25lTGlua2luZ0ZuYCBpcyBwYXNzZWQsXHJcbiAgICogICAgICAgICAgYXMgdGhvc2UgZWxlbWVudHMgbmVlZCB0byBjcmVhdGVkIGFuZCBjbG9uZWQgaW4gYSBzcGVjaWFsIHdheSB3aGVuIHRoZXkgYXJlIGRlZmluZWQgb3V0c2lkZSB0aGVpclxyXG4gICAqICAgICAgICAgIHVzdWFsIGNvbnRhaW5lcnMgKGUuZy4gbGlrZSBgPHN2Zz5gKS5cclxuICAgKiAgICAgICAgKiBTZWUgYWxzbyB0aGUgYGRpcmVjdGl2ZS50ZW1wbGF0ZU5hbWVzcGFjZWAgcHJvcGVydHkuXHJcbiAgICogICAgKiBgc2xvdE5hbWVgOiAob3B0aW9uYWwpIHRoZSBuYW1lIG9mIHRoZSBzbG90IHRvIHRyYW5zY2x1ZGUuIElmIGZhbHN5IChlLmcuIGBudWxsYCwgYHVuZGVmaW5lZGAgb3IgYCcnYClcclxuICAgKiAgICAgIHRoZW4gdGhlIGRlZmF1bHQgdHJhbnNjbHVzaW9uIGlzIHByb3ZpZGVkLlxyXG4gICAqICAgIFRoZSBgJHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIGFsc28gaGFzIGEgbWV0aG9kIG9uIGl0LCBgJHRyYW5zY2x1ZGUuaXNTbG90RmlsbGVkKHNsb3ROYW1lKWAsIHdoaWNoIHJldHVybnNcclxuICAgKiAgICBgdHJ1ZWAgaWYgdGhlIHNwZWNpZmllZCBzbG90IGNvbnRhaW5zIGNvbnRlbnQgKGkuZS4gb25lIG9yIG1vcmUgRE9NIG5vZGVzKS5cclxuICAgKlxyXG4gICAqICMjIyMgYHJlcXVpcmVgXHJcbiAgICogUmVxdWlyZSBhbm90aGVyIGRpcmVjdGl2ZSBhbmQgaW5qZWN0IGl0cyBjb250cm9sbGVyIGFzIHRoZSBmb3VydGggYXJndW1lbnQgdG8gdGhlIGxpbmtpbmcgZnVuY3Rpb24uIFRoZVxyXG4gICAqIGByZXF1aXJlYCBwcm9wZXJ0eSBjYW4gYmUgYSBzdHJpbmcsIGFuIGFycmF5IG9yIGFuIG9iamVjdDpcclxuICAgKiAqIGEgKipzdHJpbmcqKiBjb250YWluaW5nIHRoZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gcGFzcyB0byB0aGUgbGlua2luZyBmdW5jdGlvblxyXG4gICAqICogYW4gKiphcnJheSoqIGNvbnRhaW5pbmcgdGhlIG5hbWVzIG9mIGRpcmVjdGl2ZXMgdG8gcGFzcyB0byB0aGUgbGlua2luZyBmdW5jdGlvbi4gVGhlIGFyZ3VtZW50IHBhc3NlZCB0byB0aGVcclxuICAgKiBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgYmUgYW4gYXJyYXkgb2YgY29udHJvbGxlcnMgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlIG5hbWVzIGluIHRoZSBgcmVxdWlyZWAgcHJvcGVydHlcclxuICAgKiAqIGFuICoqb2JqZWN0Kiogd2hvc2UgcHJvcGVydHkgdmFsdWVzIGFyZSB0aGUgbmFtZXMgb2YgdGhlIGRpcmVjdGl2ZXMgdG8gcGFzcyB0byB0aGUgbGlua2luZyBmdW5jdGlvbi4gVGhlIGFyZ3VtZW50XHJcbiAgICogcGFzc2VkIHRvIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgYWxzbyBiZSBhbiBvYmplY3Qgd2l0aCBtYXRjaGluZyBrZXlzLCB3aG9zZSB2YWx1ZXMgd2lsbCBob2xkIHRoZSBjb3JyZXNwb25kaW5nXHJcbiAgICogY29udHJvbGxlcnMuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgYHJlcXVpcmVgIHByb3BlcnR5IGlzIGFuIG9iamVjdCBhbmQgYGJpbmRUb0NvbnRyb2xsZXJgIGlzIHRydXRoeSwgdGhlbiB0aGUgcmVxdWlyZWQgY29udHJvbGxlcnMgYXJlXHJcbiAgICogYm91bmQgdG8gdGhlIGNvbnRyb2xsZXIgdXNpbmcgdGhlIGtleXMgb2YgdGhlIGByZXF1aXJlYCBwcm9wZXJ0eS4gVGhpcyBiaW5kaW5nIG9jY3VycyBhZnRlciBhbGwgdGhlIGNvbnRyb2xsZXJzXHJcbiAgICogaGF2ZSBiZWVuIGNvbnN0cnVjdGVkIGJ1dCBiZWZvcmUgYCRvbkluaXRgIGlzIGNhbGxlZC5cclxuICAgKiBJZiB0aGUgbmFtZSBvZiB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBpcyB0aGUgc2FtZSBhcyB0aGUgbG9jYWwgbmFtZSAodGhlIGtleSksIHRoZSBuYW1lIGNhbiBiZVxyXG4gICAqIG9taXR0ZWQuIEZvciBleGFtcGxlLCBge3BhcmVudERpcjogJ15eJ31gIGlzIGVxdWl2YWxlbnQgdG8gYHtwYXJlbnREaXI6ICdeXnBhcmVudERpcid9YC5cclxuICAgKiBTZWUgdGhlIHtAbGluayAkY29tcGlsZVByb3ZpZGVyI2NvbXBvbmVudH0gaGVscGVyIGZvciBhbiBleGFtcGxlIG9mIGhvdyB0aGlzIGNhbiBiZSB1c2VkLlxyXG4gICAqIElmIG5vIHN1Y2ggcmVxdWlyZWQgZGlyZWN0aXZlKHMpIGNhbiBiZSBmb3VuZCwgb3IgaWYgdGhlIGRpcmVjdGl2ZSBkb2VzIG5vdCBoYXZlIGEgY29udHJvbGxlciwgdGhlbiBhbiBlcnJvciBpc1xyXG4gICAqIHJhaXNlZCAodW5sZXNzIG5vIGxpbmsgZnVuY3Rpb24gaXMgc3BlY2lmaWVkIGFuZCB0aGUgcmVxdWlyZWQgY29udHJvbGxlcnMgYXJlIG5vdCBiZWluZyBib3VuZCB0byB0aGUgZGlyZWN0aXZlXHJcbiAgICogY29udHJvbGxlciwgaW4gd2hpY2ggY2FzZSBlcnJvciBjaGVja2luZyBpcyBza2lwcGVkKS4gVGhlIG5hbWUgY2FuIGJlIHByZWZpeGVkIHdpdGg6XHJcbiAgICpcclxuICAgKiAqIChubyBwcmVmaXgpIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9uIHRoZSBjdXJyZW50IGVsZW1lbnQuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cclxuICAgKiAqIGA/YCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIG9yIHBhc3MgYG51bGxgIHRvIHRoZSBgbGlua2AgZm4gaWYgbm90IGZvdW5kLlxyXG4gICAqICogYF5gIC0gTG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCBhbmQgaXRzIHBhcmVudHMuIFRocm93IGFuIGVycm9yIGlmIG5vdCBmb3VuZC5cclxuICAgKiAqIGBeXmAgLSBMb2NhdGUgdGhlIHJlcXVpcmVkIGNvbnRyb2xsZXIgYnkgc2VhcmNoaW5nIHRoZSBlbGVtZW50J3MgcGFyZW50cy4gVGhyb3cgYW4gZXJyb3IgaWYgbm90IGZvdW5kLlxyXG4gICAqICogYD9eYCAtIEF0dGVtcHQgdG8gbG9jYXRlIHRoZSByZXF1aXJlZCBjb250cm9sbGVyIGJ5IHNlYXJjaGluZyB0aGUgZWxlbWVudCBhbmQgaXRzIHBhcmVudHMgb3IgcGFzc1xyXG4gICAqICAgYG51bGxgIHRvIHRoZSBgbGlua2AgZm4gaWYgbm90IGZvdW5kLlxyXG4gICAqICogYD9eXmAgLSBBdHRlbXB0IHRvIGxvY2F0ZSB0aGUgcmVxdWlyZWQgY29udHJvbGxlciBieSBzZWFyY2hpbmcgdGhlIGVsZW1lbnQncyBwYXJlbnRzLCBvciBwYXNzXHJcbiAgICogICBgbnVsbGAgdG8gdGhlIGBsaW5rYCBmbiBpZiBub3QgZm91bmQuXHJcbiAgICpcclxuICAgKlxyXG4gICAqICMjIyMgYGNvbnRyb2xsZXJBc2BcclxuICAgKiBJZGVudGlmaWVyIG5hbWUgZm9yIGEgcmVmZXJlbmNlIHRvIHRoZSBjb250cm9sbGVyIGluIHRoZSBkaXJlY3RpdmUncyBzY29wZS5cclxuICAgKiBUaGlzIGFsbG93cyB0aGUgY29udHJvbGxlciB0byBiZSByZWZlcmVuY2VkIGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZS4gVGhpcyBpcyBlc3BlY2lhbGx5XHJcbiAgICogdXNlZnVsIHdoZW4gYSBkaXJlY3RpdmUgaXMgdXNlZCBhcyBjb21wb25lbnQsIGkuZS4gd2l0aCBhbiBgaXNvbGF0ZWAgc2NvcGUuIEl0J3MgYWxzbyBwb3NzaWJsZVxyXG4gICAqIHRvIHVzZSBpdCBpbiBhIGRpcmVjdGl2ZSB3aXRob3V0IGFuIGBpc29sYXRlYCAvIGBuZXdgIHNjb3BlLCBidXQgeW91IG5lZWQgdG8gYmUgYXdhcmUgdGhhdCB0aGVcclxuICAgKiBgY29udHJvbGxlckFzYCByZWZlcmVuY2UgbWlnaHQgb3ZlcndyaXRlIGEgcHJvcGVydHkgdGhhdCBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgcGFyZW50IHNjb3BlLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIyMjIGByZXN0cmljdGBcclxuICAgKiBTdHJpbmcgb2Ygc3Vic2V0IG9mIGBFQUNNYCB3aGljaCByZXN0cmljdHMgdGhlIGRpcmVjdGl2ZSB0byBhIHNwZWNpZmljIGRpcmVjdGl2ZVxyXG4gICAqIGRlY2xhcmF0aW9uIHN0eWxlLiBJZiBvbWl0dGVkLCB0aGUgZGVmYXVsdHMgKGVsZW1lbnRzIGFuZCBhdHRyaWJ1dGVzKSBhcmUgdXNlZC5cclxuICAgKlxyXG4gICAqICogYEVgIC0gRWxlbWVudCBuYW1lIChkZWZhdWx0KTogYDxteS1kaXJlY3RpdmU+PC9teS1kaXJlY3RpdmU+YFxyXG4gICAqICogYEFgIC0gQXR0cmlidXRlIChkZWZhdWx0KTogYDxkaXYgbXktZGlyZWN0aXZlPVwiZXhwXCI+PC9kaXY+YFxyXG4gICAqICogYENgIC0gQ2xhc3M6IGA8ZGl2IGNsYXNzPVwibXktZGlyZWN0aXZlOiBleHA7XCI+PC9kaXY+YFxyXG4gICAqICogYE1gIC0gQ29tbWVudDogYDwhLS0gZGlyZWN0aXZlOiBteS1kaXJlY3RpdmUgZXhwIC0tPmBcclxuICAgKlxyXG4gICAqXHJcbiAgICogIyMjIyBgdGVtcGxhdGVOYW1lc3BhY2VgXHJcbiAgICogU3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZG9jdW1lbnQgdHlwZSB1c2VkIGJ5IHRoZSBtYXJrdXAgaW4gdGhlIHRlbXBsYXRlLlxyXG4gICAqIEFuZ3VsYXJKUyBuZWVkcyB0aGlzIGluZm9ybWF0aW9uIGFzIHRob3NlIGVsZW1lbnRzIG5lZWQgdG8gYmUgY3JlYXRlZCBhbmQgY2xvbmVkXHJcbiAgICogaW4gYSBzcGVjaWFsIHdheSB3aGVuIHRoZXkgYXJlIGRlZmluZWQgb3V0c2lkZSB0aGVpciB1c3VhbCBjb250YWluZXJzIGxpa2UgYDxzdmc+YCBhbmQgYDxtYXRoPmAuXHJcbiAgICpcclxuICAgKiAqIGBodG1sYCAtIEFsbCByb290IG5vZGVzIGluIHRoZSB0ZW1wbGF0ZSBhcmUgSFRNTC4gUm9vdCBub2RlcyBtYXkgYWxzbyBiZVxyXG4gICAqICAgdG9wLWxldmVsIGVsZW1lbnRzIHN1Y2ggYXMgYDxzdmc+YCBvciBgPG1hdGg+YC5cclxuICAgKiAqIGBzdmdgIC0gVGhlIHJvb3Qgbm9kZXMgaW4gdGhlIHRlbXBsYXRlIGFyZSBTVkcgZWxlbWVudHMgKGV4Y2x1ZGluZyBgPG1hdGg+YCkuXHJcbiAgICogKiBgbWF0aGAgLSBUaGUgcm9vdCBub2RlcyBpbiB0aGUgdGVtcGxhdGUgYXJlIE1hdGhNTCBlbGVtZW50cyAoZXhjbHVkaW5nIGA8c3ZnPmApLlxyXG4gICAqXHJcbiAgICogSWYgbm8gYHRlbXBsYXRlTmFtZXNwYWNlYCBpcyBzcGVjaWZpZWQsIHRoZW4gdGhlIG5hbWVzcGFjZSBpcyBjb25zaWRlcmVkIHRvIGJlIGBodG1sYC5cclxuICAgKlxyXG4gICAqICMjIyMgYHRlbXBsYXRlYFxyXG4gICAqIEhUTUwgbWFya3VwIHRoYXQgbWF5OlxyXG4gICAqICogUmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQgKGRlZmF1bHQpLlxyXG4gICAqICogUmVwbGFjZSB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudCBpdHNlbGYgKGlmIGByZXBsYWNlYCBpcyB0cnVlIC0gREVQUkVDQVRFRCkuXHJcbiAgICogKiBXcmFwIHRoZSBjb250ZW50cyBvZiB0aGUgZGlyZWN0aXZlJ3MgZWxlbWVudCAoaWYgYHRyYW5zY2x1ZGVgIGlzIHRydWUpLlxyXG4gICAqXHJcbiAgICogVmFsdWUgbWF5IGJlOlxyXG4gICAqXHJcbiAgICogKiBBIHN0cmluZy4gRm9yIGV4YW1wbGUgYDxkaXYgcmVkLW9uLWhvdmVyPnt7ZGVsZXRlX3N0cn19PC9kaXY+YC5cclxuICAgKiAqIEEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgdHdvIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWBcclxuICAgKiAgIGZ1bmN0aW9uIGFwaSBiZWxvdykgYW5kIHJldHVybnMgYSBzdHJpbmcgdmFsdWUuXHJcbiAgICpcclxuICAgKlxyXG4gICAqICMjIyMgYHRlbXBsYXRlVXJsYFxyXG4gICAqIFRoaXMgaXMgc2ltaWxhciB0byBgdGVtcGxhdGVgIGJ1dCB0aGUgdGVtcGxhdGUgaXMgbG9hZGVkIGZyb20gdGhlIHNwZWNpZmllZCBVUkwsIGFzeW5jaHJvbm91c2x5LlxyXG4gICAqXHJcbiAgICogQmVjYXVzZSB0ZW1wbGF0ZSBsb2FkaW5nIGlzIGFzeW5jaHJvbm91cyB0aGUgY29tcGlsZXIgd2lsbCBzdXNwZW5kIGNvbXBpbGF0aW9uIG9mIGRpcmVjdGl2ZXMgb24gdGhhdCBlbGVtZW50XHJcbiAgICogZm9yIGxhdGVyIHdoZW4gdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHJlc29sdmVkLiAgSW4gdGhlIG1lYW50aW1lIGl0IHdpbGwgY29udGludWUgdG8gY29tcGlsZSBhbmQgbGlua1xyXG4gICAqIHNpYmxpbmcgYW5kIHBhcmVudCBlbGVtZW50cyBhcyB0aG91Z2ggdGhpcyBlbGVtZW50IGhhZCBub3QgY29udGFpbmVkIGFueSBkaXJlY3RpdmVzLlxyXG4gICAqXHJcbiAgICogVGhlIGNvbXBpbGVyIGRvZXMgbm90IHN1c3BlbmQgdGhlIGVudGlyZSBjb21waWxhdGlvbiB0byB3YWl0IGZvciB0ZW1wbGF0ZXMgdG8gYmUgbG9hZGVkIGJlY2F1c2UgdGhpc1xyXG4gICAqIHdvdWxkIHJlc3VsdCBpbiB0aGUgd2hvbGUgYXBwIFwic3RhbGxpbmdcIiB1bnRpbCBhbGwgdGVtcGxhdGVzIGFyZSBsb2FkZWQgYXN5bmNocm9ub3VzbHkgLSBldmVuIGluIHRoZVxyXG4gICAqIGNhc2Ugd2hlbiBvbmx5IG9uZSBkZWVwbHkgbmVzdGVkIGRpcmVjdGl2ZSBoYXMgYHRlbXBsYXRlVXJsYC5cclxuICAgKlxyXG4gICAqIFRlbXBsYXRlIGxvYWRpbmcgaXMgYXN5bmNocm9ub3VzIGV2ZW4gaWYgdGhlIHRlbXBsYXRlIGhhcyBiZWVuIHByZWxvYWRlZCBpbnRvIHRoZSB7QGxpbmsgJHRlbXBsYXRlQ2FjaGV9XHJcbiAgICpcclxuICAgKiBZb3UgY2FuIHNwZWNpZnkgYHRlbXBsYXRlVXJsYCBhcyBhIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIFVSTCBvciBhcyBhIGZ1bmN0aW9uIHdoaWNoIHRha2VzIHR3b1xyXG4gICAqIGFyZ3VtZW50cyBgdEVsZW1lbnRgIGFuZCBgdEF0dHJzYCAoZGVzY3JpYmVkIGluIHRoZSBgY29tcGlsZWAgZnVuY3Rpb24gYXBpIGJlbG93KSBhbmQgcmV0dXJuc1xyXG4gICAqIGEgc3RyaW5nIHZhbHVlIHJlcHJlc2VudGluZyB0aGUgdXJsLiAgSW4gZWl0aGVyIGNhc2UsIHRoZSB0ZW1wbGF0ZSBVUkwgaXMgcGFzc2VkIHRocm91Z2gge0BsaW5rXHJcbiAgICogJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmwgJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmx9LlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIyMjIGByZXBsYWNlYCAoWypERVBSRUNBVEVEKiFdLCB3aWxsIGJlIHJlbW92ZWQgaW4gbmV4dCBtYWpvciByZWxlYXNlIC0gaS5lLiB2Mi4wKVxyXG4gICAqIHNwZWNpZnkgd2hhdCB0aGUgdGVtcGxhdGUgc2hvdWxkIHJlcGxhY2UuIERlZmF1bHRzIHRvIGBmYWxzZWAuXHJcbiAgICpcclxuICAgKiAqIGB0cnVlYCAtIHRoZSB0ZW1wbGF0ZSB3aWxsIHJlcGxhY2UgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXHJcbiAgICogKiBgZmFsc2VgIC0gdGhlIHRlbXBsYXRlIHdpbGwgcmVwbGFjZSB0aGUgY29udGVudHMgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXHJcbiAgICpcclxuICAgKiBUaGUgcmVwbGFjZW1lbnQgcHJvY2VzcyBtaWdyYXRlcyBhbGwgb2YgdGhlIGF0dHJpYnV0ZXMgLyBjbGFzc2VzIGZyb20gdGhlIG9sZCBlbGVtZW50IHRvIHRoZSBuZXdcclxuICAgKiBvbmUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSN0ZW1wbGF0ZS1leHBhbmRpbmctZGlyZWN0aXZlXHJcbiAgICogRGlyZWN0aXZlcyBHdWlkZX0gZm9yIGFuIGV4YW1wbGUuXHJcbiAgICpcclxuICAgKiBUaGVyZSBhcmUgdmVyeSBmZXcgc2NlbmFyaW9zIHdoZXJlIGVsZW1lbnQgcmVwbGFjZW1lbnQgaXMgcmVxdWlyZWQgZm9yIHRoZSBhcHBsaWNhdGlvbiBmdW5jdGlvbixcclxuICAgKiB0aGUgbWFpbiBvbmUgYmVpbmcgcmV1c2FibGUgY3VzdG9tIGNvbXBvbmVudHMgdGhhdCBhcmUgdXNlZCB3aXRoaW4gU1ZHIGNvbnRleHRzXHJcbiAgICogKGJlY2F1c2UgU1ZHIGRvZXNuJ3Qgd29yayB3aXRoIGN1c3RvbSBlbGVtZW50cyBpbiB0aGUgRE9NIHRyZWUpLlxyXG4gICAqXHJcbiAgICogIyMjIyBgdHJhbnNjbHVkZWBcclxuICAgKiBFeHRyYWN0IHRoZSBjb250ZW50cyBvZiB0aGUgZWxlbWVudCB3aGVyZSB0aGUgZGlyZWN0aXZlIGFwcGVhcnMgYW5kIG1ha2UgaXQgYXZhaWxhYmxlIHRvIHRoZSBkaXJlY3RpdmUuXHJcbiAgICogVGhlIGNvbnRlbnRzIGFyZSBjb21waWxlZCBhbmQgcHJvdmlkZWQgdG8gdGhlIGRpcmVjdGl2ZSBhcyBhICoqdHJhbnNjbHVzaW9uIGZ1bmN0aW9uKiouIFNlZSB0aGVcclxuICAgKiB7QGxpbmsgJGNvbXBpbGUjdHJhbnNjbHVzaW9uIFRyYW5zY2x1c2lvbn0gc2VjdGlvbiBiZWxvdy5cclxuICAgKlxyXG4gICAqXHJcbiAgICogIyMjIyBgY29tcGlsZWBcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogICBmdW5jdGlvbiBjb21waWxlKHRFbGVtZW50LCB0QXR0cnMsIHRyYW5zY2x1ZGUpIHsgLi4uIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIFRoZSBjb21waWxlIGZ1bmN0aW9uIGRlYWxzIHdpdGggdHJhbnNmb3JtaW5nIHRoZSB0ZW1wbGF0ZSBET00uIFNpbmNlIG1vc3QgZGlyZWN0aXZlcyBkbyBub3QgZG9cclxuICAgKiB0ZW1wbGF0ZSB0cmFuc2Zvcm1hdGlvbiwgaXQgaXMgbm90IHVzZWQgb2Z0ZW4uIFRoZSBjb21waWxlIGZ1bmN0aW9uIHRha2VzIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxyXG4gICAqXHJcbiAgICogICAqIGB0RWxlbWVudGAgLSB0ZW1wbGF0ZSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBoYXMgYmVlbiBkZWNsYXJlZC4gSXQgaXNcclxuICAgKiAgICAgc2FmZSB0byBkbyB0ZW1wbGF0ZSB0cmFuc2Zvcm1hdGlvbiBvbiB0aGUgZWxlbWVudCBhbmQgY2hpbGQgZWxlbWVudHMgb25seS5cclxuICAgKlxyXG4gICAqICAgKiBgdEF0dHJzYCAtIHRlbXBsYXRlIGF0dHJpYnV0ZXMgLSBOb3JtYWxpemVkIGxpc3Qgb2YgYXR0cmlidXRlcyBkZWNsYXJlZCBvbiB0aGlzIGVsZW1lbnQgc2hhcmVkXHJcbiAgICogICAgIGJldHdlZW4gYWxsIGRpcmVjdGl2ZSBjb21waWxlIGZ1bmN0aW9ucy5cclxuICAgKlxyXG4gICAqICAgKiBgdHJhbnNjbHVkZWAgLSAgWypERVBSRUNBVEVEKiFdIEEgdHJhbnNjbHVkZSBsaW5raW5nIGZ1bmN0aW9uOiBgZnVuY3Rpb24oc2NvcGUsIGNsb25lTGlua2luZ0ZuKWBcclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogKipOb3RlOioqIFRoZSB0ZW1wbGF0ZSBpbnN0YW5jZSBhbmQgdGhlIGxpbmsgaW5zdGFuY2UgbWF5IGJlIGRpZmZlcmVudCBvYmplY3RzIGlmIHRoZSB0ZW1wbGF0ZSBoYXNcclxuICAgKiBiZWVuIGNsb25lZC4gRm9yIHRoaXMgcmVhc29uIGl0IGlzICoqbm90Kiogc2FmZSB0byBkbyBhbnl0aGluZyBvdGhlciB0aGFuIERPTSB0cmFuc2Zvcm1hdGlvbnMgdGhhdFxyXG4gICAqIGFwcGx5IHRvIGFsbCBjbG9uZWQgRE9NIG5vZGVzIHdpdGhpbiB0aGUgY29tcGlsZSBmdW5jdGlvbi4gU3BlY2lmaWNhbGx5LCBET00gbGlzdGVuZXIgcmVnaXN0cmF0aW9uXHJcbiAgICogc2hvdWxkIGJlIGRvbmUgaW4gYSBsaW5raW5nIGZ1bmN0aW9uIHJhdGhlciB0aGFuIGluIGEgY29tcGlsZSBmdW5jdGlvbi5cclxuICAgKiA8L2Rpdj5cclxuICBcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICoqTm90ZToqKiBUaGUgY29tcGlsZSBmdW5jdGlvbiBjYW5ub3QgaGFuZGxlIGRpcmVjdGl2ZXMgdGhhdCByZWN1cnNpdmVseSB1c2UgdGhlbXNlbHZlcyBpbiB0aGVpclxyXG4gICAqIG93biB0ZW1wbGF0ZXMgb3IgY29tcGlsZSBmdW5jdGlvbnMuIENvbXBpbGluZyB0aGVzZSBkaXJlY3RpdmVzIHJlc3VsdHMgaW4gYW4gaW5maW5pdGUgbG9vcCBhbmRcclxuICAgKiBzdGFjayBvdmVyZmxvdyBlcnJvcnMuXHJcbiAgICpcclxuICAgKiBUaGlzIGNhbiBiZSBhdm9pZGVkIGJ5IG1hbnVhbGx5IHVzaW5nICRjb21waWxlIGluIHRoZSBwb3N0TGluayBmdW5jdGlvbiB0byBpbXBlcmF0aXZlbHkgY29tcGlsZVxyXG4gICAqIGEgZGlyZWN0aXZlJ3MgdGVtcGxhdGUgaW5zdGVhZCBvZiByZWx5aW5nIG9uIGF1dG9tYXRpYyB0ZW1wbGF0ZSBjb21waWxhdGlvbiB2aWEgYHRlbXBsYXRlYCBvclxyXG4gICAqIGB0ZW1wbGF0ZVVybGAgZGVjbGFyYXRpb24gb3IgbWFudWFsIGNvbXBpbGF0aW9uIGluc2lkZSB0aGUgY29tcGlsZSBmdW5jdGlvbi5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cclxuICAgKiAqKk5vdGU6KiogVGhlIGB0cmFuc2NsdWRlYCBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZCB0byB0aGUgY29tcGlsZSBmdW5jdGlvbiBpcyBkZXByZWNhdGVkLCBhcyBpdFxyXG4gICAqICAgZS5nLiBkb2VzIG5vdCBrbm93IGFib3V0IHRoZSByaWdodCBvdXRlciBzY29wZS4gUGxlYXNlIHVzZSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiB0aGF0IGlzIHBhc3NlZFxyXG4gICAqICAgdG8gdGhlIGxpbmsgZnVuY3Rpb24gaW5zdGVhZC5cclxuICAgKiA8L2Rpdj5cclxuICBcclxuICAgKiBBIGNvbXBpbGUgZnVuY3Rpb24gY2FuIGhhdmUgYSByZXR1cm4gdmFsdWUgd2hpY2ggY2FuIGJlIGVpdGhlciBhIGZ1bmN0aW9uIG9yIGFuIG9iamVjdC5cclxuICAgKlxyXG4gICAqICogcmV0dXJuaW5nIGEgKHBvc3QtbGluaykgZnVuY3Rpb24gLSBpcyBlcXVpdmFsZW50IHRvIHJlZ2lzdGVyaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHZpYSB0aGVcclxuICAgKiAgIGBsaW5rYCBwcm9wZXJ0eSBvZiB0aGUgY29uZmlnIG9iamVjdCB3aGVuIHRoZSBjb21waWxlIGZ1bmN0aW9uIGlzIGVtcHR5LlxyXG4gICAqXHJcbiAgICogKiByZXR1cm5pbmcgYW4gb2JqZWN0IHdpdGggZnVuY3Rpb24ocykgcmVnaXN0ZXJlZCB2aWEgYHByZWAgYW5kIGBwb3N0YCBwcm9wZXJ0aWVzIC0gYWxsb3dzIHlvdSB0b1xyXG4gICAqICAgY29udHJvbCB3aGVuIGEgbGlua2luZyBmdW5jdGlvbiBzaG91bGQgYmUgY2FsbGVkIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZS4gU2VlIGluZm8gYWJvdXRcclxuICAgKiAgIHByZS1saW5raW5nIGFuZCBwb3N0LWxpbmtpbmcgZnVuY3Rpb25zIGJlbG93LlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIyMjIGBsaW5rYFxyXG4gICAqIFRoaXMgcHJvcGVydHkgaXMgdXNlZCBvbmx5IGlmIHRoZSBgY29tcGlsZWAgcHJvcGVydHkgaXMgbm90IGRlZmluZWQuXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgZnVuY3Rpb24gbGluayhzY29wZSwgaUVsZW1lbnQsIGlBdHRycywgY29udHJvbGxlciwgdHJhbnNjbHVkZUZuKSB7IC4uLiB9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBUaGUgbGluayBmdW5jdGlvbiBpcyByZXNwb25zaWJsZSBmb3IgcmVnaXN0ZXJpbmcgRE9NIGxpc3RlbmVycyBhcyB3ZWxsIGFzIHVwZGF0aW5nIHRoZSBET00uIEl0IGlzXHJcbiAgICogZXhlY3V0ZWQgYWZ0ZXIgdGhlIHRlbXBsYXRlIGhhcyBiZWVuIGNsb25lZC4gVGhpcyBpcyB3aGVyZSBtb3N0IG9mIHRoZSBkaXJlY3RpdmUgbG9naWMgd2lsbCBiZVxyXG4gICAqIHB1dC5cclxuICAgKlxyXG4gICAqICAgKiBgc2NvcGVgIC0ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUgU2NvcGV9IC0gVGhlIHNjb3BlIHRvIGJlIHVzZWQgYnkgdGhlXHJcbiAgICogICAgIGRpcmVjdGl2ZSBmb3IgcmVnaXN0ZXJpbmcge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXN9LlxyXG4gICAqXHJcbiAgICogICAqIGBpRWxlbWVudGAgLSBpbnN0YW5jZSBlbGVtZW50IC0gVGhlIGVsZW1lbnQgd2hlcmUgdGhlIGRpcmVjdGl2ZSBpcyB0byBiZSB1c2VkLiBJdCBpcyBzYWZlIHRvXHJcbiAgICogICAgIG1hbmlwdWxhdGUgdGhlIGNoaWxkcmVuIG9mIHRoZSBlbGVtZW50IG9ubHkgaW4gYHBvc3RMaW5rYCBmdW5jdGlvbiBzaW5jZSB0aGUgY2hpbGRyZW4gaGF2ZVxyXG4gICAqICAgICBhbHJlYWR5IGJlZW4gbGlua2VkLlxyXG4gICAqXHJcbiAgICogICAqIGBpQXR0cnNgIC0gaW5zdGFuY2UgYXR0cmlidXRlcyAtIE5vcm1hbGl6ZWQgbGlzdCBvZiBhdHRyaWJ1dGVzIGRlY2xhcmVkIG9uIHRoaXMgZWxlbWVudCBzaGFyZWRcclxuICAgKiAgICAgYmV0d2VlbiBhbGwgZGlyZWN0aXZlIGxpbmtpbmcgZnVuY3Rpb25zLlxyXG4gICAqXHJcbiAgICogICAqIGBjb250cm9sbGVyYCAtIHRoZSBkaXJlY3RpdmUncyByZXF1aXJlZCBjb250cm9sbGVyIGluc3RhbmNlKHMpIC0gSW5zdGFuY2VzIGFyZSBzaGFyZWRcclxuICAgKiAgICAgYW1vbmcgYWxsIGRpcmVjdGl2ZXMsIHdoaWNoIGFsbG93cyB0aGUgZGlyZWN0aXZlcyB0byB1c2UgdGhlIGNvbnRyb2xsZXJzIGFzIGEgY29tbXVuaWNhdGlvblxyXG4gICAqICAgICBjaGFubmVsLiBUaGUgZXhhY3QgdmFsdWUgZGVwZW5kcyBvbiB0aGUgZGlyZWN0aXZlJ3MgYHJlcXVpcmVgIHByb3BlcnR5OlxyXG4gICAqICAgICAgICogbm8gY29udHJvbGxlcihzKSByZXF1aXJlZDogdGhlIGRpcmVjdGl2ZSdzIG93biBjb250cm9sbGVyLCBvciBgdW5kZWZpbmVkYCBpZiBpdCBkb2Vzbid0IGhhdmUgb25lXHJcbiAgICogICAgICAgKiBgc3RyaW5nYDogdGhlIGNvbnRyb2xsZXIgaW5zdGFuY2VcclxuICAgKiAgICAgICAqIGBhcnJheWA6IGFycmF5IG9mIGNvbnRyb2xsZXIgaW5zdGFuY2VzXHJcbiAgICpcclxuICAgKiAgICAgSWYgYSByZXF1aXJlZCBjb250cm9sbGVyIGNhbm5vdCBiZSBmb3VuZCwgYW5kIGl0IGlzIG9wdGlvbmFsLCB0aGUgaW5zdGFuY2UgaXMgYG51bGxgLFxyXG4gICAqICAgICBvdGhlcndpc2UgdGhlIHtAbGluayBlcnJvcjokY29tcGlsZTpjdHJlcSBNaXNzaW5nIFJlcXVpcmVkIENvbnRyb2xsZXJ9IGVycm9yIGlzIHRocm93bi5cclxuICAgKlxyXG4gICAqICAgICBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIHJlcXVpcmUgdGhlIGRpcmVjdGl2ZSdzIG93biBjb250cm9sbGVyIC0gaXQgd2lsbCBiZSBtYWRlIGF2YWlsYWJsZSBsaWtlXHJcbiAgICogICAgIGFueSBvdGhlciBjb250cm9sbGVyLlxyXG4gICAqXHJcbiAgICogICAqIGB0cmFuc2NsdWRlRm5gIC0gQSB0cmFuc2NsdWRlIGxpbmtpbmcgZnVuY3Rpb24gcHJlLWJvdW5kIHRvIHRoZSBjb3JyZWN0IHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICAgKiAgICAgVGhpcyBpcyB0aGUgc2FtZSBhcyB0aGUgYCR0cmFuc2NsdWRlYCBwYXJhbWV0ZXIgb2YgZGlyZWN0aXZlIGNvbnRyb2xsZXJzLFxyXG4gICAqICAgICBzZWUge0BsaW5rIG5nLiRjb21waWxlIy1jb250cm9sbGVyLSB0aGUgY29udHJvbGxlciBzZWN0aW9uIGZvciBkZXRhaWxzfS5cclxuICAgKiAgICAgYGZ1bmN0aW9uKFtzY29wZV0sIGNsb25lTGlua2luZ0ZuLCBmdXR1cmVQYXJlbnRFbGVtZW50KWAuXHJcbiAgICpcclxuICAgKiAjIyMjIFByZS1saW5raW5nIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBFeGVjdXRlZCBiZWZvcmUgdGhlIGNoaWxkIGVsZW1lbnRzIGFyZSBsaW5rZWQuIE5vdCBzYWZlIHRvIGRvIERPTSB0cmFuc2Zvcm1hdGlvbiBzaW5jZSB0aGVcclxuICAgKiBjb21waWxlciBsaW5raW5nIGZ1bmN0aW9uIHdpbGwgZmFpbCB0byBsb2NhdGUgdGhlIGNvcnJlY3QgZWxlbWVudHMgZm9yIGxpbmtpbmcuXHJcbiAgICpcclxuICAgKiAjIyMjIFBvc3QtbGlua2luZyBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogRXhlY3V0ZWQgYWZ0ZXIgdGhlIGNoaWxkIGVsZW1lbnRzIGFyZSBsaW5rZWQuXHJcbiAgICpcclxuICAgKiBOb3RlIHRoYXQgY2hpbGQgZWxlbWVudHMgdGhhdCBjb250YWluIGB0ZW1wbGF0ZVVybGAgZGlyZWN0aXZlcyB3aWxsIG5vdCBoYXZlIGJlZW4gY29tcGlsZWRcclxuICAgKiBhbmQgbGlua2VkIHNpbmNlIHRoZXkgYXJlIHdhaXRpbmcgZm9yIHRoZWlyIHRlbXBsYXRlIHRvIGxvYWQgYXN5bmNocm9ub3VzbHkgYW5kIHRoZWlyIG93blxyXG4gICAqIGNvbXBpbGF0aW9uIGFuZCBsaW5raW5nIGhhcyBiZWVuIHN1c3BlbmRlZCB1bnRpbCB0aGF0IG9jY3Vycy5cclxuICAgKlxyXG4gICAqIEl0IGlzIHNhZmUgdG8gZG8gRE9NIHRyYW5zZm9ybWF0aW9uIGluIHRoZSBwb3N0LWxpbmtpbmcgZnVuY3Rpb24gb24gZWxlbWVudHMgdGhhdCBhcmUgbm90IHdhaXRpbmdcclxuICAgKiBmb3IgdGhlaXIgYXN5bmMgdGVtcGxhdGVzIHRvIGJlIHJlc29sdmVkLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIyMgVHJhbnNjbHVzaW9uXHJcbiAgICpcclxuICAgKiBUcmFuc2NsdXNpb24gaXMgdGhlIHByb2Nlc3Mgb2YgZXh0cmFjdGluZyBhIGNvbGxlY3Rpb24gb2YgRE9NIGVsZW1lbnRzIGZyb20gb25lIHBhcnQgb2YgdGhlIERPTSBhbmRcclxuICAgKiBjb3B5aW5nIHRoZW0gdG8gYW5vdGhlciBwYXJ0IG9mIHRoZSBET00sIHdoaWxlIG1haW50YWluaW5nIHRoZWlyIGNvbm5lY3Rpb24gdG8gdGhlIG9yaWdpbmFsIEFuZ3VsYXJKU1xyXG4gICAqIHNjb3BlIGZyb20gd2hlcmUgdGhleSB3ZXJlIHRha2VuLlxyXG4gICAqXHJcbiAgICogVHJhbnNjbHVzaW9uIGlzIHVzZWQgKG9mdGVuIHdpdGgge0BsaW5rIG5nVHJhbnNjbHVkZX0pIHRvIGluc2VydCB0aGVcclxuICAgKiBvcmlnaW5hbCBjb250ZW50cyBvZiBhIGRpcmVjdGl2ZSdzIGVsZW1lbnQgaW50byBhIHNwZWNpZmllZCBwbGFjZSBpbiB0aGUgdGVtcGxhdGUgb2YgdGhlIGRpcmVjdGl2ZS5cclxuICAgKiBUaGUgYmVuZWZpdCBvZiB0cmFuc2NsdXNpb24sIG92ZXIgc2ltcGx5IG1vdmluZyB0aGUgRE9NIGVsZW1lbnRzIG1hbnVhbGx5LCBpcyB0aGF0IHRoZSB0cmFuc2NsdWRlZFxyXG4gICAqIGNvbnRlbnQgaGFzIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBvbiB0aGUgc2NvcGUgZnJvbSB3aGljaCBpdCB3YXMgdGFrZW4sIGV2ZW4gaWYgdGhlIGRpcmVjdGl2ZVxyXG4gICAqIGhhcyBpc29sYXRlZCBzY29wZS5cclxuICAgKiBTZWUgdGhlIHtAbGluayBndWlkZS9kaXJlY3RpdmUjY3JlYXRpbmctYS1kaXJlY3RpdmUtdGhhdC13cmFwcy1vdGhlci1lbGVtZW50cyBEaXJlY3RpdmVzIEd1aWRlfS5cclxuICAgKlxyXG4gICAqIFRoaXMgbWFrZXMgaXQgcG9zc2libGUgZm9yIHRoZSB3aWRnZXQgdG8gaGF2ZSBwcml2YXRlIHN0YXRlIGZvciBpdHMgdGVtcGxhdGUsIHdoaWxlIHRoZSB0cmFuc2NsdWRlZFxyXG4gICAqIGNvbnRlbnQgaGFzIGFjY2VzcyB0byBpdHMgb3JpZ2luYXRpbmcgc2NvcGUuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICoqTm90ZToqKiBXaGVuIHRlc3RpbmcgYW4gZWxlbWVudCB0cmFuc2NsdWRlIGRpcmVjdGl2ZSB5b3UgbXVzdCBub3QgcGxhY2UgdGhlIGRpcmVjdGl2ZSBhdCB0aGUgcm9vdCBvZiB0aGVcclxuICAgKiBET00gZnJhZ21lbnQgdGhhdCBpcyBiZWluZyBjb21waWxlZC4gU2VlIHtAbGluayBndWlkZS91bml0LXRlc3RpbmcjdGVzdGluZy10cmFuc2NsdXNpb24tZGlyZWN0aXZlc1xyXG4gICAqIFRlc3RpbmcgVHJhbnNjbHVzaW9uIERpcmVjdGl2ZXN9LlxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogVGhlcmUgYXJlIHRocmVlIGtpbmRzIG9mIHRyYW5zY2x1c2lvbiBkZXBlbmRpbmcgdXBvbiB3aGV0aGVyIHlvdSB3YW50IHRvIHRyYW5zY2x1ZGUganVzdCB0aGUgY29udGVudHMgb2YgdGhlXHJcbiAgICogZGlyZWN0aXZlJ3MgZWxlbWVudCwgdGhlIGVudGlyZSBlbGVtZW50IG9yIG11bHRpcGxlIHBhcnRzIG9mIHRoZSBlbGVtZW50IGNvbnRlbnRzOlxyXG4gICAqXHJcbiAgICogKiBgdHJ1ZWAgLSB0cmFuc2NsdWRlIHRoZSBjb250ZW50IChpLmUuIHRoZSBjaGlsZCBub2Rlcykgb2YgdGhlIGRpcmVjdGl2ZSdzIGVsZW1lbnQuXHJcbiAgICogKiBgJ2VsZW1lbnQnYCAtIHRyYW5zY2x1ZGUgdGhlIHdob2xlIG9mIHRoZSBkaXJlY3RpdmUncyBlbGVtZW50IGluY2x1ZGluZyBhbnkgZGlyZWN0aXZlcyBvbiB0aGlzXHJcbiAgICogICBlbGVtZW50IHRoYXQgZGVmaW5lZCBhdCBhIGxvd2VyIHByaW9yaXR5IHRoYW4gdGhpcyBkaXJlY3RpdmUuIFdoZW4gdXNlZCwgdGhlIGB0ZW1wbGF0ZWBcclxuICAgKiAgIHByb3BlcnR5IGlzIGlnbm9yZWQuXHJcbiAgICogKiAqKmB7Li4ufWAgKGFuIG9iamVjdCBoYXNoKToqKiAtIG1hcCBlbGVtZW50cyBvZiB0aGUgY29udGVudCBvbnRvIHRyYW5zY2x1c2lvbiBcInNsb3RzXCIgaW4gdGhlIHRlbXBsYXRlLlxyXG4gICAqXHJcbiAgICogKipNdWx0LXNsb3QgdHJhbnNjbHVzaW9uKiogaXMgZGVjbGFyZWQgYnkgcHJvdmlkaW5nIGFuIG9iamVjdCBmb3IgdGhlIGB0cmFuc2NsdWRlYCBwcm9wZXJ0eS5cclxuICAgKlxyXG4gICAqIFRoaXMgb2JqZWN0IGlzIGEgbWFwIHdoZXJlIHRoZSBrZXlzIGFyZSB0aGUgbmFtZSBvZiB0aGUgc2xvdCB0byBmaWxsIGFuZCB0aGUgdmFsdWUgaXMgYW4gZWxlbWVudCBzZWxlY3RvclxyXG4gICAqIHVzZWQgdG8gbWF0Y2ggdGhlIEhUTUwgdG8gdGhlIHNsb3QuIFRoZSBlbGVtZW50IHNlbGVjdG9yIHNob3VsZCBiZSBpbiBub3JtYWxpemVkIGZvcm0gKGUuZy4gYG15RWxlbWVudGApXHJcbiAgICogYW5kIHdpbGwgbWF0Y2ggdGhlIHN0YW5kYXJkIGVsZW1lbnQgdmFyaWFudHMgKGUuZy4gYG15LWVsZW1lbnRgLCBgbXk6ZWxlbWVudGAsIGBkYXRhLW15LWVsZW1lbnRgLCBldGMpLlxyXG4gICAqXHJcbiAgICogRm9yIGZ1cnRoZXIgaW5mb3JtYXRpb24gY2hlY2sgb3V0IHRoZSBndWlkZSBvbiB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlI21hdGNoaW5nLWRpcmVjdGl2ZXMgTWF0Y2hpbmcgRGlyZWN0aXZlc31cclxuICAgKlxyXG4gICAqIElmIHRoZSBlbGVtZW50IHNlbGVjdG9yIGlzIHByZWZpeGVkIHdpdGggYSBgP2AgdGhlbiB0aGF0IHNsb3QgaXMgb3B0aW9uYWwuXHJcbiAgICpcclxuICAgKiBGb3IgZXhhbXBsZSwgdGhlIHRyYW5zY2x1ZGUgb2JqZWN0IGB7IHNsb3RBOiAnP215Q3VzdG9tRWxlbWVudCcgfWAgbWFwcyBgPG15LWN1c3RvbS1lbGVtZW50PmAgZWxlbWVudHMgdG9cclxuICAgKiB0aGUgYHNsb3RBYCBzbG90LCB3aGljaCBjYW4gYmUgYWNjZXNzZWQgdmlhIHRoZSBgJHRyYW5zY2x1ZGVgIGZ1bmN0aW9uIG9yIHZpYSB0aGUge0BsaW5rIG5nVHJhbnNjbHVkZX0gZGlyZWN0aXZlLlxyXG4gICAqXHJcbiAgICogU2xvdHMgdGhhdCBhcmUgbm90IG1hcmtlZCBhcyBvcHRpb25hbCAoYD9gKSB3aWxsIHRyaWdnZXIgYSBjb21waWxlIHRpbWUgZXJyb3IgaWYgdGhlcmUgYXJlIG5vIG1hdGNoaW5nIGVsZW1lbnRzXHJcbiAgICogaW4gdGhlIHRyYW5zY2x1ZGUgY29udGVudC4gSWYgeW91IHdpc2ggdG8ga25vdyBpZiBhbiBvcHRpb25hbCBzbG90IHdhcyBmaWxsZWQgd2l0aCBjb250ZW50LCB0aGVuIHlvdSBjYW4gY2FsbFxyXG4gICAqIGAkdHJhbnNjbHVkZS5pc1Nsb3RGaWxsZWQoc2xvdE5hbWUpYCBvbiB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiBwYXNzZWQgdG8gdGhlIGRpcmVjdGl2ZSdzIGxpbmsgZnVuY3Rpb24gYW5kXHJcbiAgICogaW5qZWN0YWJsZSBpbnRvIHRoZSBkaXJlY3RpdmUncyBjb250cm9sbGVyLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIyMjIFRyYW5zY2x1c2lvbiBGdW5jdGlvbnNcclxuICAgKlxyXG4gICAqIFdoZW4gYSBkaXJlY3RpdmUgcmVxdWVzdHMgdHJhbnNjbHVzaW9uLCB0aGUgY29tcGlsZXIgZXh0cmFjdHMgaXRzIGNvbnRlbnRzIGFuZCBwcm92aWRlcyBhICoqdHJhbnNjbHVzaW9uXHJcbiAgICogZnVuY3Rpb24qKiB0byB0aGUgZGlyZWN0aXZlJ3MgYGxpbmtgIGZ1bmN0aW9uIGFuZCBgY29udHJvbGxlcmAuIFRoaXMgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIGlzIGEgc3BlY2lhbFxyXG4gICAqICoqbGlua2luZyBmdW5jdGlvbioqIHRoYXQgd2lsbCByZXR1cm4gdGhlIGNvbXBpbGVkIGNvbnRlbnRzIGxpbmtlZCB0byBhIG5ldyB0cmFuc2NsdXNpb24gc2NvcGUuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gICAqIElmIHlvdSBhcmUganVzdCB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0aGVuIHlvdSBkb24ndCBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoaXMgZnVuY3Rpb24sIHNpbmNlXHJcbiAgICogbmdUcmFuc2NsdWRlIHdpbGwgZGVhbCB3aXRoIGl0IGZvciB1cy5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIElmIHlvdSB3YW50IHRvIG1hbnVhbGx5IGNvbnRyb2wgdGhlIGluc2VydGlvbiBhbmQgcmVtb3ZhbCBvZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpbiB5b3VyIGRpcmVjdGl2ZVxyXG4gICAqIHRoZW4geW91IG11c3QgdXNlIHRoaXMgdHJhbnNjbHVkZSBmdW5jdGlvbi4gV2hlbiB5b3UgY2FsbCBhIHRyYW5zY2x1ZGUgZnVuY3Rpb24gaXQgcmV0dXJucyBhIGEganFMaXRlL0pRdWVyeVxyXG4gICAqIG9iamVjdCB0aGF0IGNvbnRhaW5zIHRoZSBjb21waWxlZCBET00sIHdoaWNoIGlzIGxpbmtlZCB0byB0aGUgY29ycmVjdCB0cmFuc2NsdXNpb24gc2NvcGUuXHJcbiAgICpcclxuICAgKiBXaGVuIHlvdSBjYWxsIGEgdHJhbnNjbHVzaW9uIGZ1bmN0aW9uIHlvdSBjYW4gcGFzcyBpbiBhICoqY2xvbmUgYXR0YWNoIGZ1bmN0aW9uKiouIFRoaXMgZnVuY3Rpb24gYWNjZXB0c1xyXG4gICAqIHR3byBwYXJhbWV0ZXJzLCBgZnVuY3Rpb24oY2xvbmUsIHNjb3BlKSB7IC4uLiB9YCwgd2hlcmUgdGhlIGBjbG9uZWAgaXMgYSBmcmVzaCBjb21waWxlZCBjb3B5IG9mIHlvdXIgdHJhbnNjbHVkZWRcclxuICAgKiBjb250ZW50IGFuZCB0aGUgYHNjb3BlYCBpcyB0aGUgbmV3bHkgY3JlYXRlZCB0cmFuc2NsdXNpb24gc2NvcGUsIHdoaWNoIHRoZSBjbG9uZSB3aWxsIGJlIGxpbmtlZCB0by5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAgICogKipCZXN0IFByYWN0aWNlKio6IEFsd2F5cyBwcm92aWRlIGEgYGNsb25lRm5gIChjbG9uZSBhdHRhY2ggZnVuY3Rpb24pIHdoZW4geW91IGNhbGwgYSB0cmFuc2NsdWRlIGZ1bmN0aW9uXHJcbiAgICogc2luY2UgeW91IHRoZW4gZ2V0IGEgZnJlc2ggY2xvbmUgb2YgdGhlIG9yaWdpbmFsIERPTSBhbmQgYWxzbyBoYXZlIGFjY2VzcyB0byB0aGUgbmV3IHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIEl0IGlzIG5vcm1hbCBwcmFjdGljZSB0byBhdHRhY2ggeW91ciB0cmFuc2NsdWRlZCBjb250ZW50IChgY2xvbmVgKSB0byB0aGUgRE9NIGluc2lkZSB5b3VyICoqY2xvbmVcclxuICAgKiBhdHRhY2ggZnVuY3Rpb24qKjpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogdmFyIHRyYW5zY2x1ZGVkQ29udGVudCwgdHJhbnNjbHVzaW9uU2NvcGU7XHJcbiAgICpcclxuICAgKiAkdHJhbnNjbHVkZShmdW5jdGlvbihjbG9uZSwgc2NvcGUpIHtcclxuICAgKiAgIGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcclxuICAgKiAgIHRyYW5zY2x1ZGVkQ29udGVudCA9IGNsb25lO1xyXG4gICAqICAgdHJhbnNjbHVzaW9uU2NvcGUgPSBzY29wZTtcclxuICAgKiB9KTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIExhdGVyLCBpZiB5b3Ugd2FudCB0byByZW1vdmUgdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQgZnJvbSB5b3VyIERPTSB0aGVuIHlvdSBzaG91bGQgYWxzbyBkZXN0cm95IHRoZVxyXG4gICAqIGFzc29jaWF0ZWQgdHJhbnNjbHVzaW9uIHNjb3BlOlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiB0cmFuc2NsdWRlZENvbnRlbnQucmVtb3ZlKCk7XHJcbiAgICogdHJhbnNjbHVzaW9uU2NvcGUuJGRlc3Ryb3koKTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAgICogKipCZXN0IFByYWN0aWNlKio6IGlmIHlvdSBpbnRlbmQgdG8gYWRkIGFuZCByZW1vdmUgdHJhbnNjbHVkZWQgY29udGVudCBtYW51YWxseSBpbiB5b3VyIGRpcmVjdGl2ZVxyXG4gICAqIChieSBjYWxsaW5nIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIHRvIGdldCB0aGUgRE9NIGFuZCBjYWxsaW5nIGBlbGVtZW50LnJlbW92ZSgpYCB0byByZW1vdmUgaXQpLFxyXG4gICAqIHRoZW4geW91IGFyZSBhbHNvIHJlc3BvbnNpYmxlIGZvciBjYWxsaW5nIGAkZGVzdHJveWAgb24gdGhlIHRyYW5zY2x1c2lvbiBzY29wZS5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIFRoZSBidWlsdC1pbiBET00gbWFuaXB1bGF0aW9uIGRpcmVjdGl2ZXMsIHN1Y2ggYXMge0BsaW5rIG5nSWZ9LCB7QGxpbmsgbmdTd2l0Y2h9IGFuZCB7QGxpbmsgbmdSZXBlYXR9XHJcbiAgICogYXV0b21hdGljYWxseSBkZXN0cm95IHRoZWlyIHRyYW5zY2x1ZGVkIGNsb25lcyBhcyBuZWNlc3Nhcnkgc28geW91IGRvIG5vdCBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoaXMgaWZcclxuICAgKiB5b3UgYXJlIHNpbXBseSB1c2luZyB7QGxpbmsgbmdUcmFuc2NsdWRlfSB0byBpbmplY3QgdGhlIHRyYW5zY2x1c2lvbiBpbnRvIHlvdXIgZGlyZWN0aXZlLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIyMjIFRyYW5zY2x1c2lvbiBTY29wZXNcclxuICAgKlxyXG4gICAqIFdoZW4geW91IGNhbGwgYSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGl0IHJldHVybnMgYSBET00gZnJhZ21lbnQgdGhhdCBpcyBwcmUtYm91bmQgdG8gYSAqKnRyYW5zY2x1c2lvblxyXG4gICAqIHNjb3BlKiouIFRoaXMgc2NvcGUgaXMgc3BlY2lhbCwgaW4gdGhhdCBpdCBpcyBhIGNoaWxkIG9mIHRoZSBkaXJlY3RpdmUncyBzY29wZSAoYW5kIHNvIGdldHMgZGVzdHJveWVkXHJcbiAgICogd2hlbiB0aGUgZGlyZWN0aXZlJ3Mgc2NvcGUgZ2V0cyBkZXN0cm95ZWQpIGJ1dCBpdCBpbmhlcml0cyB0aGUgcHJvcGVydGllcyBvZiB0aGUgc2NvcGUgZnJvbSB3aGljaCBpdFxyXG4gICAqIHdhcyB0YWtlbi5cclxuICAgKlxyXG4gICAqIEZvciBleGFtcGxlIGNvbnNpZGVyIGEgZGlyZWN0aXZlIHRoYXQgdXNlcyB0cmFuc2NsdXNpb24gYW5kIGlzb2xhdGVkIHNjb3BlLiBUaGUgRE9NIGhpZXJhcmNoeSBtaWdodCBsb29rXHJcbiAgICogbGlrZSB0aGlzOlxyXG4gICAqXHJcbiAgICogYGBgaHRtbFxyXG4gICAqIDxkaXYgbmctYXBwPlxyXG4gICAqICAgPGRpdiBpc29sYXRlPlxyXG4gICAqICAgICA8ZGl2IHRyYW5zY2x1c2lvbj5cclxuICAgKiAgICAgPC9kaXY+XHJcbiAgICogICA8L2Rpdj5cclxuICAgKiA8L2Rpdj5cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIFRoZSBgJHBhcmVudGAgc2NvcGUgaGllcmFyY2h5IHdpbGwgbG9vayBsaWtlIHRoaXM6XHJcbiAgICpcclxuICAgICBgYGBcclxuICAgICAtICRyb290U2NvcGVcclxuICAgICAgIC0gaXNvbGF0ZVxyXG4gICAgICAgICAtIHRyYW5zY2x1c2lvblxyXG4gICAgIGBgYFxyXG4gICAqXHJcbiAgICogYnV0IHRoZSBzY29wZXMgd2lsbCBpbmhlcml0IHByb3RvdHlwaWNhbGx5IGZyb20gZGlmZmVyZW50IHNjb3BlcyB0byB0aGVpciBgJHBhcmVudGAuXHJcbiAgICpcclxuICAgICBgYGBcclxuICAgICAtICRyb290U2NvcGVcclxuICAgICAgIC0gdHJhbnNjbHVzaW9uXHJcbiAgICAgLSBpc29sYXRlXHJcbiAgICAgYGBgXHJcbiAgICpcclxuICAgKlxyXG4gICAqICMjIyBBdHRyaWJ1dGVzXHJcbiAgICpcclxuICAgKiBUaGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIEF0dHJpYnV0ZXN9IG9iamVjdCAtIHBhc3NlZCBhcyBhIHBhcmFtZXRlciBpbiB0aGVcclxuICAgKiBgbGluaygpYCBvciBgY29tcGlsZSgpYCBmdW5jdGlvbnMuIEl0IGhhcyBhIHZhcmlldHkgb2YgdXNlcy5cclxuICAgKlxyXG4gICAqICogKkFjY2Vzc2luZyBub3JtYWxpemVkIGF0dHJpYnV0ZSBuYW1lczoqIERpcmVjdGl2ZXMgbGlrZSAnbmdCaW5kJyBjYW4gYmUgZXhwcmVzc2VkIGluIG1hbnkgd2F5czpcclxuICAgKiAgICduZzpiaW5kJywgYGRhdGEtbmctYmluZGAsIG9yICd4LW5nLWJpbmQnLiBUaGUgYXR0cmlidXRlcyBvYmplY3QgYWxsb3dzIGZvciBub3JtYWxpemVkIGFjY2Vzc1xyXG4gICAqICAgdG8gdGhlIGF0dHJpYnV0ZXMuXHJcbiAgICpcclxuICAgKiAqICpEaXJlY3RpdmUgaW50ZXItY29tbXVuaWNhdGlvbjoqIEFsbCBkaXJlY3RpdmVzIHNoYXJlIHRoZSBzYW1lIGluc3RhbmNlIG9mIHRoZSBhdHRyaWJ1dGVzXHJcbiAgICogICBvYmplY3Qgd2hpY2ggYWxsb3dzIHRoZSBkaXJlY3RpdmVzIHRvIHVzZSB0aGUgYXR0cmlidXRlcyBvYmplY3QgYXMgaW50ZXIgZGlyZWN0aXZlXHJcbiAgICogICBjb21tdW5pY2F0aW9uLlxyXG4gICAqXHJcbiAgICogKiAqU3VwcG9ydHMgaW50ZXJwb2xhdGlvbjoqIEludGVycG9sYXRpb24gYXR0cmlidXRlcyBhcmUgYXNzaWduZWQgdG8gdGhlIGF0dHJpYnV0ZSBvYmplY3RcclxuICAgKiAgIGFsbG93aW5nIG90aGVyIGRpcmVjdGl2ZXMgdG8gcmVhZCB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlLlxyXG4gICAqXHJcbiAgICogKiAqT2JzZXJ2aW5nIGludGVycG9sYXRlZCBhdHRyaWJ1dGVzOiogVXNlIGAkb2JzZXJ2ZWAgdG8gb2JzZXJ2ZSB0aGUgdmFsdWUgY2hhbmdlcyBvZiBhdHRyaWJ1dGVzXHJcbiAgICogICB0aGF0IGNvbnRhaW4gaW50ZXJwb2xhdGlvbiAoZS5nLiBgc3JjPVwie3tiYXJ9fVwiYCkuIE5vdCBvbmx5IGlzIHRoaXMgdmVyeSBlZmZpY2llbnQgYnV0IGl0J3MgYWxzb1xyXG4gICAqICAgdGhlIG9ubHkgd2F5IHRvIGVhc2lseSBnZXQgdGhlIGFjdHVhbCB2YWx1ZSBiZWNhdXNlIGR1cmluZyB0aGUgbGlua2luZyBwaGFzZSB0aGUgaW50ZXJwb2xhdGlvblxyXG4gICAqICAgaGFzbid0IGJlZW4gZXZhbHVhdGVkIHlldCBhbmQgc28gdGhlIHZhbHVlIGlzIGF0IHRoaXMgdGltZSBzZXQgdG8gYHVuZGVmaW5lZGAuXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqIGZ1bmN0aW9uIGxpbmtpbmdGbihzY29wZSwgZWxtLCBhdHRycywgY3RybCkge1xyXG4gICAqICAgLy8gZ2V0IHRoZSBhdHRyaWJ1dGUgdmFsdWVcclxuICAgKiAgIGNvbnNvbGUubG9nKGF0dHJzLm5nTW9kZWwpO1xyXG4gICAqXHJcbiAgICogICAvLyBjaGFuZ2UgdGhlIGF0dHJpYnV0ZVxyXG4gICAqICAgYXR0cnMuJHNldCgnbmdNb2RlbCcsICduZXcgdmFsdWUnKTtcclxuICAgKlxyXG4gICAqICAgLy8gb2JzZXJ2ZSBjaGFuZ2VzIHRvIGludGVycG9sYXRlZCBhdHRyaWJ1dGVcclxuICAgKiAgIGF0dHJzLiRvYnNlcnZlKCduZ01vZGVsJywgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgKiAgICAgY29uc29sZS5sb2coJ25nTW9kZWwgaGFzIGNoYW5nZWQgdmFsdWUgdG8gJyArIHZhbHVlKTtcclxuICAgKiAgIH0pO1xyXG4gICAqIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqICMjIEV4YW1wbGVcclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogKipOb3RlKio6IFR5cGljYWxseSBkaXJlY3RpdmVzIGFyZSByZWdpc3RlcmVkIHdpdGggYG1vZHVsZS5kaXJlY3RpdmVgLiBUaGUgZXhhbXBsZSBiZWxvdyBpc1xyXG4gICAqIHRvIGlsbHVzdHJhdGUgaG93IGAkY29tcGlsZWAgd29ya3MuXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgPGV4YW1wbGUgbW9kdWxlPVwiY29tcGlsZUV4YW1wbGVcIiBuYW1lPVwiY29tcGlsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2NvbXBpbGVFeGFtcGxlJywgW10sIGZ1bmN0aW9uKCRjb21waWxlUHJvdmlkZXIpIHtcclxuICAgICAgICAgIC8vIGNvbmZpZ3VyZSBuZXcgJ2NvbXBpbGUnIGRpcmVjdGl2ZSBieSBwYXNzaW5nIGEgZGlyZWN0aXZlXHJcbiAgICAgICAgICAvLyBmYWN0b3J5IGZ1bmN0aW9uLiBUaGUgZmFjdG9yeSBmdW5jdGlvbiBpbmplY3RzIHRoZSAnJGNvbXBpbGUnXHJcbiAgICAgICAgICAkY29tcGlsZVByb3ZpZGVyLmRpcmVjdGl2ZSgnY29tcGlsZScsIGZ1bmN0aW9uKCRjb21waWxlKSB7XHJcbiAgICAgICAgICAgIC8vIGRpcmVjdGl2ZSBmYWN0b3J5IGNyZWF0ZXMgYSBsaW5rIGZ1bmN0aW9uXHJcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICAgICAgICBzY29wZS4kd2F0Y2goXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbihzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICAgLy8gd2F0Y2ggdGhlICdjb21waWxlJyBleHByZXNzaW9uIGZvciBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzY29wZS4kZXZhbChhdHRycy5jb21waWxlKTtcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSAnY29tcGlsZScgZXhwcmVzc2lvbiBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgICAgIC8vIGFzc2lnbiBpdCBpbnRvIHRoZSBjdXJyZW50IERPTVxyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUpO1xyXG4gIFxyXG4gICAgICAgICAgICAgICAgICAvLyBjb21waWxlIHRoZSBuZXcgRE9NIGFuZCBsaW5rIGl0IHRvIHRoZSBjdXJyZW50XHJcbiAgICAgICAgICAgICAgICAgIC8vIHNjb3BlLlxyXG4gICAgICAgICAgICAgICAgICAvLyBOT1RFOiB3ZSBvbmx5IGNvbXBpbGUgLmNoaWxkTm9kZXMgc28gdGhhdFxyXG4gICAgICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBnZXQgaW50byBpbmZpbml0ZSBsb29wIGNvbXBpbGluZyBvdXJzZWx2ZXNcclxuICAgICAgICAgICAgICAgICAgJGNvbXBpbGUoZWxlbWVudC5jb250ZW50cygpKShzY29wZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNvbnRyb2xsZXIoJ0dyZWV0ZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICRzY29wZS5uYW1lID0gJ0FuZ3VsYXInO1xyXG4gICAgICAgICAgJHNjb3BlLmh0bWwgPSAnSGVsbG8ge3tuYW1lfX0nO1xyXG4gICAgICAgIH1dKTtcclxuICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkdyZWV0ZXJDb250cm9sbGVyXCI+XHJcbiAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwibmFtZVwiPiA8YnIvPlxyXG4gICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cImh0bWxcIj48L3RleHRhcmVhPiA8YnIvPlxyXG4gICAgICAgIDxkaXYgY29tcGlsZT1cImh0bWxcIj48L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIGl0KCdzaG91bGQgYXV0byBjb21waWxlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHZhciB0ZXh0YXJlYSA9ICQoJ3RleHRhcmVhJyk7XHJcbiAgICAgICAgIHZhciBvdXRwdXQgPSAkKCdkaXZbY29tcGlsZV0nKTtcclxuICAgICAgICAgLy8gVGhlIGluaXRpYWwgc3RhdGUgcmVhZHMgJ0hlbGxvIEFuZ3VsYXInLlxyXG4gICAgICAgICBleHBlY3Qob3V0cHV0LmdldFRleHQoKSkudG9CZSgnSGVsbG8gQW5ndWxhcicpO1xyXG4gICAgICAgICB0ZXh0YXJlYS5jbGVhcigpO1xyXG4gICAgICAgICB0ZXh0YXJlYS5zZW5kS2V5cygne3tuYW1lfX0hJyk7XHJcbiAgICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0JlKCdBbmd1bGFyIScpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgPC9maWxlPlxyXG4gICA8L2V4YW1wbGU+XHJcbiAgXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfERPTUVsZW1lbnR9IGVsZW1lbnQgRWxlbWVudCBvciBIVE1MIHN0cmluZyB0byBjb21waWxlIGludG8gYSB0ZW1wbGF0ZSBmdW5jdGlvbi5cclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZSBmdW5jdGlvbiBhdmFpbGFibGUgdG8gZGlyZWN0aXZlcyAtIERFUFJFQ0FURUQuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAgICogKipOb3RlOioqIFBhc3NpbmcgYSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gdG8gdGhlICRjb21waWxlIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQsIGFzIGl0XHJcbiAgICogICBlLmcuIHdpbGwgbm90IHVzZSB0aGUgcmlnaHQgb3V0ZXIgc2NvcGUuIFBsZWFzZSBwYXNzIHRoZSB0cmFuc2NsdWRlIGZ1bmN0aW9uIGFzIGFcclxuICAgKiAgIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgdG8gdGhlIGxpbmsgZnVuY3Rpb24gaW5zdGVhZC5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhQcmlvcml0eSBvbmx5IGFwcGx5IGRpcmVjdGl2ZXMgbG93ZXIgdGhhbiBnaXZlbiBwcmlvcml0eSAoT25seSBlZmZlY3RzIHRoZVxyXG4gICAqICAgICAgICAgICAgICAgICByb290IGVsZW1lbnQocyksIG5vdCB0aGVpciBjaGlsZHJlbilcclxuICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oc2NvcGUsIGNsb25lQXR0YWNoRm49LCBvcHRpb25zPSl9IGEgbGluayBmdW5jdGlvbiB3aGljaCBpcyB1c2VkIHRvIGJpbmQgdGVtcGxhdGVcclxuICAgKiAoYSBET00gZWxlbWVudC90cmVlKSB0byBhIHNjb3BlLiBXaGVyZTpcclxuICAgKlxyXG4gICAqICAqIGBzY29wZWAgLSBBIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIFNjb3BlfSB0byBiaW5kIHRvLlxyXG4gICAqICAqIGBjbG9uZUF0dGFjaEZuYCAtIElmIGBjbG9uZUF0dGFjaEZuYCBpcyBwcm92aWRlZCwgdGhlbiB0aGUgbGluayBmdW5jdGlvbiB3aWxsIGNsb25lIHRoZVxyXG4gICAqICBgdGVtcGxhdGVgIGFuZCBjYWxsIHRoZSBgY2xvbmVBdHRhY2hGbmAgZnVuY3Rpb24gYWxsb3dpbmcgdGhlIGNhbGxlciB0byBhdHRhY2ggdGhlXHJcbiAgICogIGNsb25lZCBlbGVtZW50cyB0byB0aGUgRE9NIGRvY3VtZW50IGF0IHRoZSBhcHByb3ByaWF0ZSBwbGFjZS4gVGhlIGBjbG9uZUF0dGFjaEZuYCBpc1xyXG4gICAqICBjYWxsZWQgYXM6IDxici8+IGBjbG9uZUF0dGFjaEZuKGNsb25lZEVsZW1lbnQsIHNjb3BlKWAgd2hlcmU6XHJcbiAgICpcclxuICAgKiAgICAgICogYGNsb25lZEVsZW1lbnRgIC0gaXMgYSBjbG9uZSBvZiB0aGUgb3JpZ2luYWwgYGVsZW1lbnRgIHBhc3NlZCBpbnRvIHRoZSBjb21waWxlci5cclxuICAgKiAgICAgICogYHNjb3BlYCAtIGlzIHRoZSBjdXJyZW50IHNjb3BlIHdpdGggd2hpY2ggdGhlIGxpbmtpbmcgZnVuY3Rpb24gaXMgd29ya2luZyB3aXRoLlxyXG4gICAqXHJcbiAgICogICogYG9wdGlvbnNgIC0gQW4gb3B0aW9uYWwgb2JqZWN0IGhhc2ggd2l0aCBsaW5raW5nIG9wdGlvbnMuIElmIGBvcHRpb25zYCBpcyBwcm92aWRlZCwgdGhlbiB0aGUgZm9sbG93aW5nXHJcbiAgICogIGtleXMgbWF5IGJlIHVzZWQgdG8gY29udHJvbCBsaW5raW5nIGJlaGF2aW9yOlxyXG4gICAqXHJcbiAgICogICAgICAqIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgLSB0aGUgdHJhbnNjbHVkZSBmdW5jdGlvbiBtYWRlIGF2YWlsYWJsZSB0b1xyXG4gICAqICAgICAgICBkaXJlY3RpdmVzOyBpZiBnaXZlbiwgaXQgd2lsbCBiZSBwYXNzZWQgdGhyb3VnaCB0byB0aGUgbGluayBmdW5jdGlvbnMgb2ZcclxuICAgKiAgICAgICAgZGlyZWN0aXZlcyBmb3VuZCBpbiBgZWxlbWVudGAgZHVyaW5nIGNvbXBpbGF0aW9uLlxyXG4gICAqICAgICAgKiBgdHJhbnNjbHVkZUNvbnRyb2xsZXJzYCAtIGFuIG9iamVjdCBoYXNoIHdpdGgga2V5cyB0aGF0IG1hcCBjb250cm9sbGVyIG5hbWVzXHJcbiAgICogICAgICAgIHRvIGEgaGFzaCB3aXRoIHRoZSBrZXkgYGluc3RhbmNlYCwgd2hpY2ggbWFwcyB0byB0aGUgY29udHJvbGxlciBpbnN0YW5jZTtcclxuICAgKiAgICAgICAgaWYgZ2l2ZW4sIGl0IHdpbGwgbWFrZSB0aGUgY29udHJvbGxlcnMgYXZhaWxhYmxlIHRvIGRpcmVjdGl2ZXMgb24gdGhlIGNvbXBpbGVOb2RlOlxyXG4gICAqICAgICAgICBgYGBcclxuICAgKiAgICAgICAge1xyXG4gICAqICAgICAgICAgIHBhcmVudDoge1xyXG4gICAqICAgICAgICAgICAgaW5zdGFuY2U6IHBhcmVudENvbnRyb2xsZXJJbnN0YW5jZVxyXG4gICAqICAgICAgICAgIH1cclxuICAgKiAgICAgICAgfVxyXG4gICAqICAgICAgICBgYGBcclxuICAgKiAgICAgICogYGZ1dHVyZVBhcmVudEVsZW1lbnRgIC0gZGVmaW5lcyB0aGUgcGFyZW50IHRvIHdoaWNoIHRoZSBgY2xvbmVBdHRhY2hGbmAgd2lsbCBhZGRcclxuICAgKiAgICAgICAgdGhlIGNsb25lZCBlbGVtZW50czsgb25seSBuZWVkZWQgZm9yIHRyYW5zY2x1ZGVzIHRoYXQgYXJlIGFsbG93ZWQgdG8gY29udGFpbiBub24gaHRtbFxyXG4gICAqICAgICAgICBlbGVtZW50cyAoZS5nLiBTVkcgZWxlbWVudHMpLiBTZWUgYWxzbyB0aGUgZGlyZWN0aXZlLmNvbnRyb2xsZXIgcHJvcGVydHkuXHJcbiAgICpcclxuICAgKiBDYWxsaW5nIHRoZSBsaW5raW5nIGZ1bmN0aW9uIHJldHVybnMgdGhlIGVsZW1lbnQgb2YgdGhlIHRlbXBsYXRlLiBJdCBpcyBlaXRoZXIgdGhlIG9yaWdpbmFsXHJcbiAgICogZWxlbWVudCBwYXNzZWQgaW4sIG9yIHRoZSBjbG9uZSBvZiB0aGUgZWxlbWVudCBpZiB0aGUgYGNsb25lQXR0YWNoRm5gIGlzIHByb3ZpZGVkLlxyXG4gICAqXHJcbiAgICogQWZ0ZXIgbGlua2luZyB0aGUgdmlldyBpcyBub3QgdXBkYXRlZCB1bnRpbCBhZnRlciBhIGNhbGwgdG8gJGRpZ2VzdCB3aGljaCB0eXBpY2FsbHkgaXMgZG9uZSBieVxyXG4gICAqIEFuZ3VsYXIgYXV0b21hdGljYWxseS5cclxuICAgKlxyXG4gICAqIElmIHlvdSBuZWVkIGFjY2VzcyB0byB0aGUgYm91bmQgdmlldywgdGhlcmUgYXJlIHR3byB3YXlzIHRvIGRvIGl0OlxyXG4gICAqXHJcbiAgICogLSBJZiB5b3UgYXJlIG5vdCBhc2tpbmcgdGhlIGxpbmtpbmcgZnVuY3Rpb24gdG8gY2xvbmUgdGhlIHRlbXBsYXRlLCBjcmVhdGUgdGhlIERPTSBlbGVtZW50KHMpXHJcbiAgICogICBiZWZvcmUgeW91IHNlbmQgdGhlbSB0byB0aGUgY29tcGlsZXIgYW5kIGtlZXAgdGhpcyByZWZlcmVuY2UgYXJvdW5kLlxyXG4gICAqICAgYGBganNcclxuICAgKiAgICAgdmFyIGVsZW1lbnQgPSAkY29tcGlsZSgnPHA+e3t0b3RhbH19PC9wPicpKHNjb3BlKTtcclxuICAgKiAgIGBgYFxyXG4gICAqXHJcbiAgICogLSBpZiBvbiB0aGUgb3RoZXIgaGFuZCwgeW91IG5lZWQgdGhlIGVsZW1lbnQgdG8gYmUgY2xvbmVkLCB0aGUgdmlldyByZWZlcmVuY2UgZnJvbSB0aGUgb3JpZ2luYWxcclxuICAgKiAgIGV4YW1wbGUgd291bGQgbm90IHBvaW50IHRvIHRoZSBjbG9uZSwgYnV0IHJhdGhlciB0byB0aGUgb3JpZ2luYWwgdGVtcGxhdGUgdGhhdCB3YXMgY2xvbmVkLiBJblxyXG4gICAqICAgdGhpcyBjYXNlLCB5b3UgY2FuIGFjY2VzcyB0aGUgY2xvbmUgdmlhIHRoZSBjbG9uZUF0dGFjaEZuOlxyXG4gICAqICAgYGBganNcclxuICAgKiAgICAgdmFyIHRlbXBsYXRlRWxlbWVudCA9IGFuZ3VsYXIuZWxlbWVudCgnPHA+e3t0b3RhbH19PC9wPicpLFxyXG4gICAqICAgICAgICAgc2NvcGUgPSAuLi4uO1xyXG4gICAqXHJcbiAgICogICAgIHZhciBjbG9uZWRFbGVtZW50ID0gJGNvbXBpbGUodGVtcGxhdGVFbGVtZW50KShzY29wZSwgZnVuY3Rpb24oY2xvbmVkRWxlbWVudCwgc2NvcGUpIHtcclxuICAgKiAgICAgICAvL2F0dGFjaCB0aGUgY2xvbmUgdG8gRE9NIGRvY3VtZW50IGF0IHRoZSByaWdodCBwbGFjZVxyXG4gICAqICAgICB9KTtcclxuICAgKlxyXG4gICAqICAgICAvL25vdyB3ZSBoYXZlIHJlZmVyZW5jZSB0byB0aGUgY2xvbmVkIERPTSB2aWEgYGNsb25lZEVsZW1lbnRgXHJcbiAgICogICBgYGBcclxuICAgKlxyXG4gICAqXHJcbiAgICogRm9yIGluZm9ybWF0aW9uIG9uIGhvdyB0aGUgY29tcGlsZXIgd29ya3MsIHNlZSB0aGVcclxuICAgKiB7QGxpbmsgZ3VpZGUvY29tcGlsZXIgQW5ndWxhciBIVE1MIENvbXBpbGVyfSBzZWN0aW9uIG9mIHRoZSBEZXZlbG9wZXIgR3VpZGUuXHJcbiAgICpcclxuICAgKiBAa25vd25Jc3N1ZVxyXG4gICAqXHJcbiAgICogIyMjIERvdWJsZSBDb21waWxhdGlvblxyXG4gICAqXHJcbiAgICAgRG91YmxlIGNvbXBpbGF0aW9uIG9jY3VycyB3aGVuIGFuIGFscmVhZHkgY29tcGlsZWQgcGFydCBvZiB0aGUgRE9NIGdldHNcclxuICAgICBjb21waWxlZCBhZ2Fpbi4gVGhpcyBpcyBhbiB1bmRlc2lyZWQgZWZmZWN0IGFuZCBjYW4gbGVhZCB0byBtaXNiZWhhdmluZyBkaXJlY3RpdmVzLCBwZXJmb3JtYW5jZSBpc3N1ZXMsXHJcbiAgICAgYW5kIG1lbW9yeSBsZWFrcy4gUmVmZXIgdG8gdGhlIENvbXBpbGVyIEd1aWRlIHtAbGluayBndWlkZS9jb21waWxlciNkb3VibGUtY29tcGlsYXRpb24tYW5kLWhvdy10by1hdm9pZC1pdFxyXG4gICAgIHNlY3Rpb24gb24gZG91YmxlIGNvbXBpbGF0aW9ufSBmb3IgYW4gaW4tZGVwdGggZXhwbGFuYXRpb24gYW5kIHdheXMgdG8gYXZvaWQgaXQuXHJcbiAgICpcclxuICAgKi9cclxuXHJcbiAgdmFyICRjb21waWxlTWluRXJyID0gbWluRXJyKCckY29tcGlsZScpO1xyXG5cclxuICBmdW5jdGlvbiBVTklOSVRJQUxJWkVEX1ZBTFVFKCkge31cclxuICB2YXIgX1VOSU5JVElBTElaRURfVkFMVUUgPSBuZXcgVU5JTklUSUFMSVpFRF9WQUxVRSgpO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvdmlkZXJcclxuICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKi9cclxuICAkQ29tcGlsZVByb3ZpZGVyLiRpbmplY3QgPSBbJyRwcm92aWRlJywgJyQkc2FuaXRpemVVcmlQcm92aWRlciddO1xyXG4gIC8qKiBAdGhpcyAqL1xyXG4gIGZ1bmN0aW9uICRDb21waWxlUHJvdmlkZXIoJHByb3ZpZGUsICQkc2FuaXRpemVVcmlQcm92aWRlcikge1xyXG4gICAgdmFyIGhhc0RpcmVjdGl2ZXMgPSB7fSxcclxuICAgICAgICBTdWZmaXggPSAnRGlyZWN0aXZlJyxcclxuICAgICAgICBDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAgPSAvXlxccypkaXJlY3RpdmU6XFxzKihbXFx3LV0rKVxccysoLiopJC8sXHJcbiAgICAgICAgQ0xBU1NfRElSRUNUSVZFX1JFR0VYUCA9IC8oKFtcXHctXSspKD86OihbXjtdKykpPzs/KS8sXHJcbiAgICAgICAgQUxMX09SX05PVEhJTkdfQVRUUlMgPSBtYWtlTWFwKCduZ1NyYyxuZ1NyY3NldCxzcmMsc3Jjc2V0JyksXHJcbiAgICAgICAgUkVRVUlSRV9QUkVGSVhfUkVHRVhQID0gL14oPzooXFxeXFxePyk/KFxcPyk/KFxcXlxcXj8pPyk/LztcclxuXHJcbiAgICAvLyBSZWY6IGh0dHA6Ly9kZXZlbG9wZXJzLndoYXR3Zy5vcmcvd2ViYXBwYXBpcy5odG1sI2V2ZW50LWhhbmRsZXItaWRsLWF0dHJpYnV0ZXNcclxuICAgIC8vIFRoZSBhc3N1bXB0aW9uIGlzIHRoYXQgZnV0dXJlIERPTSBldmVudCBhdHRyaWJ1dGUgbmFtZXMgd2lsbCBiZWdpbiB3aXRoXHJcbiAgICAvLyAnb24nIGFuZCBiZSBjb21wb3NlZCBvZiBvbmx5IEVuZ2xpc2ggbGV0dGVycy5cclxuICAgIHZhciBFVkVOVF9IQU5ETEVSX0FUVFJfUkVHRVhQID0gL14ob25bYS16XSt8Zm9ybWFjdGlvbikkLztcclxuICAgIHZhciBiaW5kaW5nQ2FjaGUgPSBjcmVhdGVNYXAoKTtcclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZUlzb2xhdGVCaW5kaW5ncyhzY29wZSwgZGlyZWN0aXZlTmFtZSwgaXNDb250cm9sbGVyKSB7XHJcbiAgICAgIHZhciBMT0NBTF9SRUdFWFAgPSAvXlxccyooW0AmPF18PShcXCo/KSkoXFw/PylcXHMqKFtcXHckXSopXFxzKiQvO1xyXG5cclxuICAgICAgdmFyIGJpbmRpbmdzID0gY3JlYXRlTWFwKCk7XHJcblxyXG4gICAgICBmb3JFYWNoKHNjb3BlLCBmdW5jdGlvbiAoZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XHJcbiAgICAgICAgaWYgKGRlZmluaXRpb24gaW4gYmluZGluZ0NhY2hlKSB7XHJcbiAgICAgICAgICBiaW5kaW5nc1tzY29wZU5hbWVdID0gYmluZGluZ0NhY2hlW2RlZmluaXRpb25dO1xyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbWF0Y2ggPSBkZWZpbml0aW9uLm1hdGNoKExPQ0FMX1JFR0VYUCk7XHJcblxyXG4gICAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdpc2NwJywgJ0ludmFsaWQgezN9IGZvciBkaXJlY3RpdmUgXFwnezB9XFwnLicgKyAnIERlZmluaXRpb246IHsuLi4gezF9OiBcXCd7Mn1cXCcgLi4ufScsIGRpcmVjdGl2ZU5hbWUsIHNjb3BlTmFtZSwgZGVmaW5pdGlvbiwgaXNDb250cm9sbGVyID8gJ2NvbnRyb2xsZXIgYmluZGluZ3MgZGVmaW5pdGlvbicgOiAnaXNvbGF0ZSBzY29wZSBkZWZpbml0aW9uJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBiaW5kaW5nc1tzY29wZU5hbWVdID0ge1xyXG4gICAgICAgICAgbW9kZTogbWF0Y2hbMV1bMF0sXHJcbiAgICAgICAgICBjb2xsZWN0aW9uOiBtYXRjaFsyXSA9PT0gJyonLFxyXG4gICAgICAgICAgb3B0aW9uYWw6IG1hdGNoWzNdID09PSAnPycsXHJcbiAgICAgICAgICBhdHRyTmFtZTogbWF0Y2hbNF0gfHwgc2NvcGVOYW1lXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAobWF0Y2hbNF0pIHtcclxuICAgICAgICAgIGJpbmRpbmdDYWNoZVtkZWZpbml0aW9uXSA9IGJpbmRpbmdzW3Njb3BlTmFtZV07XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBiaW5kaW5ncztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZURpcmVjdGl2ZUJpbmRpbmdzKGRpcmVjdGl2ZSwgZGlyZWN0aXZlTmFtZSkge1xyXG4gICAgICB2YXIgYmluZGluZ3MgPSB7XHJcbiAgICAgICAgaXNvbGF0ZVNjb3BlOiBudWxsLFxyXG4gICAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IG51bGxcclxuICAgICAgfTtcclxuICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZS5zY29wZSkpIHtcclxuICAgICAgICBpZiAoZGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIgPT09IHRydWUpIHtcclxuICAgICAgICAgIGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXIgPSBwYXJzZUlzb2xhdGVCaW5kaW5ncyhkaXJlY3RpdmUuc2NvcGUsIGRpcmVjdGl2ZU5hbWUsIHRydWUpO1xyXG4gICAgICAgICAgYmluZGluZ3MuaXNvbGF0ZVNjb3BlID0ge307XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGJpbmRpbmdzLmlzb2xhdGVTY29wZSA9IHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5zY29wZSwgZGlyZWN0aXZlTmFtZSwgZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBpZiAoaXNPYmplY3QoZGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIpKSB7XHJcbiAgICAgICAgYmluZGluZ3MuYmluZFRvQ29udHJvbGxlciA9IHBhcnNlSXNvbGF0ZUJpbmRpbmdzKGRpcmVjdGl2ZS5iaW5kVG9Db250cm9sbGVyLCBkaXJlY3RpdmVOYW1lLCB0cnVlKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoYmluZGluZ3MuYmluZFRvQ29udHJvbGxlciAmJiAhZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcclxuICAgICAgICAvLyBUaGVyZSBpcyBubyBjb250cm9sbGVyXHJcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ25vY3RybCcsICdDYW5ub3QgYmluZCB0byBjb250cm9sbGVyIHdpdGhvdXQgZGlyZWN0aXZlIFxcJ3swfVxcJ3MgY29udHJvbGxlci4nLCBkaXJlY3RpdmVOYW1lKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYmluZGluZ3M7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lKG5hbWUpIHtcclxuICAgICAgdmFyIGxldHRlciA9IG5hbWUuY2hhckF0KDApO1xyXG4gICAgICBpZiAoIWxldHRlciB8fCBsZXR0ZXIgIT09IGxvd2VyY2FzZShsZXR0ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2JhZGRpcicsICdEaXJlY3RpdmUvQ29tcG9uZW50IG5hbWUgXFwnezB9XFwnIGlzIGludmFsaWQuIFRoZSBmaXJzdCBjaGFyYWN0ZXIgbXVzdCBiZSBhIGxvd2VyY2FzZSBsZXR0ZXInLCBuYW1lKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAobmFtZSAhPT0gbmFtZS50cmltKCkpIHtcclxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignYmFkZGlyJywgJ0RpcmVjdGl2ZS9Db21wb25lbnQgbmFtZSBcXCd7MH1cXCcgaXMgaW52YWxpZC4gVGhlIG5hbWUgc2hvdWxkIG5vdCBjb250YWluIGxlYWRpbmcgb3IgdHJhaWxpbmcgd2hpdGVzcGFjZXMnLCBuYW1lKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldERpcmVjdGl2ZVJlcXVpcmUoZGlyZWN0aXZlKSB7XHJcbiAgICAgIHZhciByZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmUgfHwgZGlyZWN0aXZlLmNvbnRyb2xsZXIgJiYgZGlyZWN0aXZlLm5hbWU7XHJcblxyXG4gICAgICBpZiAoIWlzQXJyYXkocmVxdWlyZSkgJiYgaXNPYmplY3QocmVxdWlyZSkpIHtcclxuICAgICAgICBmb3JFYWNoKHJlcXVpcmUsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICB2YXIgbWF0Y2ggPSB2YWx1ZS5tYXRjaChSRVFVSVJFX1BSRUZJWF9SRUdFWFApO1xyXG4gICAgICAgICAgdmFyIG5hbWUgPSB2YWx1ZS5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgIGlmICghbmFtZSkgcmVxdWlyZVtrZXldID0gbWF0Y2hbMF0gKyBrZXk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXF1aXJlO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldERpcmVjdGl2ZVJlc3RyaWN0KHJlc3RyaWN0LCBuYW1lKSB7XHJcbiAgICAgIGlmIChyZXN0cmljdCAmJiAhKGlzU3RyaW5nKHJlc3RyaWN0KSAmJiAvW0VBQ01dLy50ZXN0KHJlc3RyaWN0KSkpIHtcclxuICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignYmFkcmVzdHJpY3QnLCAnUmVzdHJpY3QgcHJvcGVydHkgXFwnezB9XFwnIG9mIGRpcmVjdGl2ZSBcXCd7MX1cXCcgaXMgaW52YWxpZCcsIHJlc3RyaWN0LCBuYW1lKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHJlc3RyaWN0IHx8ICdFQSc7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZVxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IGRpcmVjdGl2ZSB3aXRoIHRoZSBjb21waWxlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgTmFtZSBvZiB0aGUgZGlyZWN0aXZlIGluIGNhbWVsLWNhc2UgKGkuZS4gPGNvZGU+bmdCaW5kPC9jb2RlPiB3aGljaFxyXG4gICAgICogICAgd2lsbCBtYXRjaCBhcyA8Y29kZT5uZy1iaW5kPC9jb2RlPiksIG9yIGFuIG9iamVjdCBtYXAgb2YgZGlyZWN0aXZlcyB3aGVyZSB0aGUga2V5cyBhcmUgdGhlXHJcbiAgICAgKiAgICBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZhY3Rvcmllcy5cclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258QXJyYXl9IGRpcmVjdGl2ZUZhY3RvcnkgQW4gaW5qZWN0YWJsZSBkaXJlY3RpdmUgZmFjdG9yeSBmdW5jdGlvbi4gU2VlIHRoZVxyXG4gICAgICogICAge0BsaW5rIGd1aWRlL2RpcmVjdGl2ZSBkaXJlY3RpdmUgZ3VpZGV9IGFuZCB0aGUge0BsaW5rICRjb21waWxlIGNvbXBpbGUgQVBJfSBmb3IgbW9yZSBpbmZvLlxyXG4gICAgICogQHJldHVybnMge25nLiRjb21waWxlUHJvdmlkZXJ9IFNlbGYgZm9yIGNoYWluaW5nLlxyXG4gICAgICovXHJcbiAgICB0aGlzLmRpcmVjdGl2ZSA9IGZ1bmN0aW9uIHJlZ2lzdGVyRGlyZWN0aXZlKG5hbWUsIGRpcmVjdGl2ZUZhY3RvcnkpIHtcclxuICAgICAgYXNzZXJ0QXJnKG5hbWUsICduYW1lJyk7XHJcbiAgICAgIGFzc2VydE5vdEhhc093blByb3BlcnR5KG5hbWUsICdkaXJlY3RpdmUnKTtcclxuICAgICAgaWYgKGlzU3RyaW5nKG5hbWUpKSB7XHJcbiAgICAgICAgYXNzZXJ0VmFsaWREaXJlY3RpdmVOYW1lKG5hbWUpO1xyXG4gICAgICAgIGFzc2VydEFyZyhkaXJlY3RpdmVGYWN0b3J5LCAnZGlyZWN0aXZlRmFjdG9yeScpO1xyXG4gICAgICAgIGlmICghaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXSA9IFtdO1xyXG4gICAgICAgICAgJHByb3ZpZGUuZmFjdG9yeShuYW1lICsgU3VmZml4LCBbJyRpbmplY3RvcicsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uICgkaW5qZWN0b3IsICRleGNlcHRpb25IYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIHZhciBkaXJlY3RpdmVzID0gW107XHJcbiAgICAgICAgICAgIGZvckVhY2goaGFzRGlyZWN0aXZlc1tuYW1lXSwgZnVuY3Rpb24gKGRpcmVjdGl2ZUZhY3RvcnksIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBkaXJlY3RpdmUgPSAkaW5qZWN0b3IuaW52b2tlKGRpcmVjdGl2ZUZhY3RvcnkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZGlyZWN0aXZlKSkge1xyXG4gICAgICAgICAgICAgICAgICBkaXJlY3RpdmUgPSB7IGNvbXBpbGU6IHZhbHVlRm4oZGlyZWN0aXZlKSB9O1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghZGlyZWN0aXZlLmNvbXBpbGUgJiYgZGlyZWN0aXZlLmxpbmspIHtcclxuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLmNvbXBpbGUgPSB2YWx1ZUZuKGRpcmVjdGl2ZS5saW5rKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5wcmlvcml0eSA9IGRpcmVjdGl2ZS5wcmlvcml0eSB8fCAwO1xyXG4gICAgICAgICAgICAgICAgZGlyZWN0aXZlLmluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUubmFtZSA9IGRpcmVjdGl2ZS5uYW1lIHx8IG5hbWU7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUucmVxdWlyZSA9IGdldERpcmVjdGl2ZVJlcXVpcmUoZGlyZWN0aXZlKTtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGdldERpcmVjdGl2ZVJlc3RyaWN0KGRpcmVjdGl2ZS5yZXN0cmljdCwgbmFtZSk7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmUuJCRtb2R1bGVOYW1lID0gZGlyZWN0aXZlRmFjdG9yeS4kJG1vZHVsZU5hbWU7XHJcbiAgICAgICAgICAgICAgICBkaXJlY3RpdmVzLnB1c2goZGlyZWN0aXZlKTtcclxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZGlyZWN0aXZlcztcclxuICAgICAgICAgIH1dKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaGFzRGlyZWN0aXZlc1tuYW1lXS5wdXNoKGRpcmVjdGl2ZUZhY3RvcnkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGZvckVhY2gobmFtZSwgcmV2ZXJzZVBhcmFtcyhyZWdpc3RlckRpcmVjdGl2ZSkpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRjb21waWxlUHJvdmlkZXIjY29tcG9uZW50XHJcbiAgICAgKiBAbW9kdWxlIG5nXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgTmFtZSBvZiB0aGUgY29tcG9uZW50IGluIGNhbWVsQ2FzZSAoaS5lLiBgbXlDb21wYCB3aGljaCB3aWxsIG1hdGNoIGA8bXktY29tcD5gKSxcclxuICAgICAqICAgIG9yIGFuIG9iamVjdCBtYXAgb2YgY29tcG9uZW50cyB3aGVyZSB0aGUga2V5cyBhcmUgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29tcG9uZW50IGRlZmluaXRpb24gb2JqZWN0cy5cclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zIENvbXBvbmVudCBkZWZpbml0aW9uIG9iamVjdCAoYSBzaW1wbGlmaWVkXHJcbiAgICAgKiAgICB7QGxpbmsgbmcuJGNvbXBpbGUjZGlyZWN0aXZlLWRlZmluaXRpb24tb2JqZWN0IGRpcmVjdGl2ZSBkZWZpbml0aW9uIG9iamVjdH0pLFxyXG4gICAgICogICAgd2l0aCB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXMgKGFsbCBvcHRpb25hbCk6XHJcbiAgICAgKlxyXG4gICAgICogICAgLSBgY29udHJvbGxlcmAg4oCTIGB7KHN0cmluZ3xmdW5jdGlvbigpPX1gIOKAkyBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlXHJcbiAgICAgKiAgICAgIGFzc29jaWF0ZWQgd2l0aCBuZXdseSBjcmVhdGVkIHNjb3BlIG9yIHRoZSBuYW1lIG9mIGEge0BsaW5rIG5nLiRjb21waWxlIy1jb250cm9sbGVyLVxyXG4gICAgICogICAgICByZWdpc3RlcmVkIGNvbnRyb2xsZXJ9IGlmIHBhc3NlZCBhcyBhIHN0cmluZy4gQW4gZW1wdHkgYG5vb3BgIGZ1bmN0aW9uIGJ5IGRlZmF1bHQuXHJcbiAgICAgKiAgICAtIGBjb250cm9sbGVyQXNgIOKAkyBge3N0cmluZz19YCDigJMgaWRlbnRpZmllciBuYW1lIGZvciB0byByZWZlcmVuY2UgdGhlIGNvbnRyb2xsZXIgaW4gdGhlIGNvbXBvbmVudCdzIHNjb3BlLlxyXG4gICAgICogICAgICBJZiBwcmVzZW50LCB0aGUgY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCB0byBzY29wZSB1bmRlciB0aGUgYGNvbnRyb2xsZXJBc2AgbmFtZS5cclxuICAgICAqICAgICAgSWYgbm90IHByZXNlbnQsIHRoaXMgd2lsbCBkZWZhdWx0IHRvIGJlIGAkY3RybGAuXHJcbiAgICAgKiAgICAtIGB0ZW1wbGF0ZWAg4oCTIGB7c3RyaW5nPXxmdW5jdGlvbigpPX1gIOKAkyBodG1sIHRlbXBsYXRlIGFzIGEgc3RyaW5nIG9yIGEgZnVuY3Rpb24gdGhhdFxyXG4gICAgICogICAgICByZXR1cm5zIGFuIGh0bWwgdGVtcGxhdGUgYXMgYSBzdHJpbmcgd2hpY2ggc2hvdWxkIGJlIHVzZWQgYXMgdGhlIGNvbnRlbnRzIG9mIHRoaXMgY29tcG9uZW50LlxyXG4gICAgICogICAgICBFbXB0eSBzdHJpbmcgYnkgZGVmYXVsdC5cclxuICAgICAqXHJcbiAgICAgKiAgICAgIElmIGB0ZW1wbGF0ZWAgaXMgYSBmdW5jdGlvbiwgdGhlbiBpdCBpcyB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdGVkfSB3aXRoXHJcbiAgICAgKiAgICAgIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxyXG4gICAgICpcclxuICAgICAqICAgICAgLSBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XHJcbiAgICAgKiAgICAgIC0gYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxyXG4gICAgICpcclxuICAgICAqICAgIC0gYHRlbXBsYXRlVXJsYCDigJMgYHtzdHJpbmc9fGZ1bmN0aW9uKCk9fWAg4oCTIHBhdGggb3IgZnVuY3Rpb24gdGhhdCByZXR1cm5zIGEgcGF0aCB0byBhbiBodG1sXHJcbiAgICAgKiAgICAgIHRlbXBsYXRlIHRoYXQgc2hvdWxkIGJlIHVzZWQgIGFzIHRoZSBjb250ZW50cyBvZiB0aGlzIGNvbXBvbmVudC5cclxuICAgICAqXHJcbiAgICAgKiAgICAgIElmIGB0ZW1wbGF0ZVVybGAgaXMgYSBmdW5jdGlvbiwgdGhlbiBpdCBpcyB7QGxpbmsgYXV0by4kaW5qZWN0b3IjaW52b2tlIGluamVjdGVkfSB3aXRoXHJcbiAgICAgKiAgICAgIHRoZSBmb2xsb3dpbmcgbG9jYWxzOlxyXG4gICAgICpcclxuICAgICAqICAgICAgLSBgJGVsZW1lbnRgIC0gQ3VycmVudCBlbGVtZW50XHJcbiAgICAgKiAgICAgIC0gYCRhdHRyc2AgLSBDdXJyZW50IGF0dHJpYnV0ZXMgb2JqZWN0IGZvciB0aGUgZWxlbWVudFxyXG4gICAgICpcclxuICAgICAqICAgIC0gYGJpbmRpbmdzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGRlZmluZXMgYmluZGluZ3MgYmV0d2VlbiBET00gYXR0cmlidXRlcyBhbmQgY29tcG9uZW50IHByb3BlcnRpZXMuXHJcbiAgICAgKiAgICAgIENvbXBvbmVudCBwcm9wZXJ0aWVzIGFyZSBhbHdheXMgYm91bmQgdG8gdGhlIGNvbXBvbmVudCBjb250cm9sbGVyIGFuZCBub3QgdG8gdGhlIHNjb3BlLlxyXG4gICAgICogICAgICBTZWUge0BsaW5rIG5nLiRjb21waWxlIy1iaW5kdG9jb250cm9sbGVyLSBgYmluZFRvQ29udHJvbGxlcmB9LlxyXG4gICAgICogICAgLSBgdHJhbnNjbHVkZWAg4oCTIGB7Ym9vbGVhbj19YCDigJMgd2hldGhlciB7QGxpbmsgJGNvbXBpbGUjdHJhbnNjbHVzaW9uIGNvbnRlbnQgdHJhbnNjbHVzaW9ufSBpcyBlbmFibGVkLlxyXG4gICAgICogICAgICBEaXNhYmxlZCBieSBkZWZhdWx0LlxyXG4gICAgICogICAgLSBgcmVxdWlyZWAgLSBge09iamVjdDxzdHJpbmcsIHN0cmluZz49fWAgLSByZXF1aXJlcyB0aGUgY29udHJvbGxlcnMgb2Ygb3RoZXIgZGlyZWN0aXZlcyBhbmQgYmluZHMgdGhlbSB0b1xyXG4gICAgICogICAgICB0aGlzIGNvbXBvbmVudCdzIGNvbnRyb2xsZXIuIFRoZSBvYmplY3Qga2V5cyBzcGVjaWZ5IHRoZSBwcm9wZXJ0eSBuYW1lcyB1bmRlciB3aGljaCB0aGUgcmVxdWlyZWRcclxuICAgICAqICAgICAgY29udHJvbGxlcnMgKG9iamVjdCB2YWx1ZXMpIHdpbGwgYmUgYm91bmQuIFNlZSB7QGxpbmsgbmcuJGNvbXBpbGUjLXJlcXVpcmUtIGByZXF1aXJlYH0uXHJcbiAgICAgKiAgICAtIGAkLi4uYCDigJMgYWRkaXRpb25hbCBwcm9wZXJ0aWVzIHRvIGF0dGFjaCB0byB0aGUgZGlyZWN0aXZlIGZhY3RvcnkgZnVuY3Rpb24gYW5kIHRoZSBjb250cm9sbGVyXHJcbiAgICAgKiAgICAgIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiAoVGhpcyBpcyB1c2VkIGJ5IHRoZSBjb21wb25lbnQgcm91dGVyIHRvIGFubm90YXRlKVxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtuZy4kY29tcGlsZVByb3ZpZGVyfSB0aGUgY29tcGlsZSBwcm92aWRlciBpdHNlbGYsIGZvciBjaGFpbmluZyBvZiBmdW5jdGlvbiBjYWxscy5cclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogUmVnaXN0ZXIgYSAqKmNvbXBvbmVudCBkZWZpbml0aW9uKiogd2l0aCB0aGUgY29tcGlsZXIuIFRoaXMgaXMgYSBzaG9ydGhhbmQgZm9yIHJlZ2lzdGVyaW5nIGEgc3BlY2lhbFxyXG4gICAgICogdHlwZSBvZiBkaXJlY3RpdmUsIHdoaWNoIHJlcHJlc2VudHMgYSBzZWxmLWNvbnRhaW5lZCBVSSBjb21wb25lbnQgaW4geW91ciBhcHBsaWNhdGlvbi4gU3VjaCBjb21wb25lbnRzXHJcbiAgICAgKiBhcmUgYWx3YXlzIGlzb2xhdGVkIChpLmUuIGBzY29wZToge31gKSBhbmQgYXJlIGFsd2F5cyByZXN0cmljdGVkIHRvIGVsZW1lbnRzIChpLmUuIGByZXN0cmljdDogJ0UnYCkuXHJcbiAgICAgKlxyXG4gICAgICogQ29tcG9uZW50IGRlZmluaXRpb25zIGFyZSB2ZXJ5IHNpbXBsZSBhbmQgZG8gbm90IHJlcXVpcmUgYXMgbXVjaCBjb25maWd1cmF0aW9uIGFzIGRlZmluaW5nIGdlbmVyYWxcclxuICAgICAqIGRpcmVjdGl2ZXMuIENvbXBvbmVudCBkZWZpbml0aW9ucyB1c3VhbGx5IGNvbnNpc3Qgb25seSBvZiBhIHRlbXBsYXRlIGFuZCBhIGNvbnRyb2xsZXIgYmFja2luZyBpdC5cclxuICAgICAqXHJcbiAgICAgKiBJbiBvcmRlciB0byBtYWtlIHRoZSBkZWZpbml0aW9uIGVhc2llciwgY29tcG9uZW50cyBlbmZvcmNlIGJlc3QgcHJhY3RpY2VzIGxpa2UgdXNlIG9mIGBjb250cm9sbGVyQXNgLFxyXG4gICAgICogYGJpbmRUb0NvbnRyb2xsZXJgLiBUaGV5IGFsd2F5cyBoYXZlICoqaXNvbGF0ZSBzY29wZSoqIGFuZCBhcmUgcmVzdHJpY3RlZCB0byBlbGVtZW50cy5cclxuICAgICAqXHJcbiAgICAgKiBIZXJlIGFyZSBhIGZldyBleGFtcGxlcyBvZiBob3cgeW91IHdvdWxkIHVzdWFsbHkgZGVmaW5lIGNvbXBvbmVudHM6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICAgdmFyIG15TW9kID0gYW5ndWxhci5tb2R1bGUoLi4uKTtcclxuICAgICAqICAgbXlNb2QuY29tcG9uZW50KCdteUNvbXAnLCB7XHJcbiAgICAgKiAgICAgdGVtcGxhdGU6ICc8ZGl2Pk15IG5hbWUgaXMge3skY3RybC5uYW1lfX08L2Rpdj4nLFxyXG4gICAgICogICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xyXG4gICAgICogICAgICAgdGhpcy5uYW1lID0gJ3NoYWhhcic7XHJcbiAgICAgKiAgICAgfVxyXG4gICAgICogICB9KTtcclxuICAgICAqXHJcbiAgICAgKiAgIG15TW9kLmNvbXBvbmVudCgnbXlDb21wJywge1xyXG4gICAgICogICAgIHRlbXBsYXRlOiAnPGRpdj5NeSBuYW1lIGlzIHt7JGN0cmwubmFtZX19PC9kaXY+JyxcclxuICAgICAqICAgICBiaW5kaW5nczoge25hbWU6ICdAJ31cclxuICAgICAqICAgfSk7XHJcbiAgICAgKlxyXG4gICAgICogICBteU1vZC5jb21wb25lbnQoJ215Q29tcCcsIHtcclxuICAgICAqICAgICB0ZW1wbGF0ZVVybDogJ3ZpZXdzL215LWNvbXAuaHRtbCcsXHJcbiAgICAgKiAgICAgY29udHJvbGxlcjogJ015Q3RybCcsXHJcbiAgICAgKiAgICAgY29udHJvbGxlckFzOiAnY3RybCcsXHJcbiAgICAgKiAgICAgYmluZGluZ3M6IHtuYW1lOiAnQCd9XHJcbiAgICAgKiAgIH0pO1xyXG4gICAgICpcclxuICAgICAqIGBgYFxyXG4gICAgICogRm9yIG1vcmUgZXhhbXBsZXMsIGFuZCBhbiBpbi1kZXB0aCBndWlkZSwgc2VlIHRoZSB7QGxpbmsgZ3VpZGUvY29tcG9uZW50IGNvbXBvbmVudCBndWlkZX0uXHJcbiAgICAgKlxyXG4gICAgICogPGJyIC8+XHJcbiAgICAgKiBTZWUgYWxzbyB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgJGNvbXBpbGVQcm92aWRlci5kaXJlY3RpdmUoKX0uXHJcbiAgICAgKi9cclxuICAgIHRoaXMuY29tcG9uZW50ID0gZnVuY3Rpb24gcmVnaXN0ZXJDb21wb25lbnQobmFtZSwgb3B0aW9ucykge1xyXG4gICAgICBpZiAoIWlzU3RyaW5nKG5hbWUpKSB7XHJcbiAgICAgICAgZm9yRWFjaChuYW1lLCByZXZlcnNlUGFyYW1zKGJpbmQodGhpcywgcmVnaXN0ZXJDb21wb25lbnQpKSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBjb250cm9sbGVyID0gb3B0aW9ucy5jb250cm9sbGVyIHx8IGZ1bmN0aW9uICgpIHt9O1xyXG5cclxuICAgICAgZnVuY3Rpb24gZmFjdG9yeSgkaW5qZWN0b3IpIHtcclxuICAgICAgICBmdW5jdGlvbiBtYWtlSW5qZWN0YWJsZShmbikge1xyXG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oZm4pIHx8IGlzQXJyYXkoZm4pKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoLyoqIEB0aGlzICovZnVuY3Rpb24gKHRFbGVtZW50LCB0QXR0cnMpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiAkaW5qZWN0b3IuaW52b2tlKGZuLCB0aGlzLCB7ICRlbGVtZW50OiB0RWxlbWVudCwgJGF0dHJzOiB0QXR0cnMgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRlbXBsYXRlID0gIW9wdGlvbnMudGVtcGxhdGUgJiYgIW9wdGlvbnMudGVtcGxhdGVVcmwgPyAnJyA6IG9wdGlvbnMudGVtcGxhdGU7XHJcbiAgICAgICAgdmFyIGRkbyA9IHtcclxuICAgICAgICAgIGNvbnRyb2xsZXI6IGNvbnRyb2xsZXIsXHJcbiAgICAgICAgICBjb250cm9sbGVyQXM6IGlkZW50aWZpZXJGb3JDb250cm9sbGVyKG9wdGlvbnMuY29udHJvbGxlcikgfHwgb3B0aW9ucy5jb250cm9sbGVyQXMgfHwgJyRjdHJsJyxcclxuICAgICAgICAgIHRlbXBsYXRlOiBtYWtlSW5qZWN0YWJsZSh0ZW1wbGF0ZSksXHJcbiAgICAgICAgICB0ZW1wbGF0ZVVybDogbWFrZUluamVjdGFibGUob3B0aW9ucy50ZW1wbGF0ZVVybCksXHJcbiAgICAgICAgICB0cmFuc2NsdWRlOiBvcHRpb25zLnRyYW5zY2x1ZGUsXHJcbiAgICAgICAgICBzY29wZToge30sXHJcbiAgICAgICAgICBiaW5kVG9Db250cm9sbGVyOiBvcHRpb25zLmJpbmRpbmdzIHx8IHt9LFxyXG4gICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgICAgIHJlcXVpcmU6IG9wdGlvbnMucmVxdWlyZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIENvcHkgYW5ub3RhdGlvbnMgKHN0YXJ0aW5nIHdpdGggJCkgb3ZlciB0byB0aGUgRERPXHJcbiAgICAgICAgZm9yRWFjaChvcHRpb25zLCBmdW5jdGlvbiAodmFsLCBrZXkpIHtcclxuICAgICAgICAgIGlmIChrZXkuY2hhckF0KDApID09PSAnJCcpIGRkb1trZXldID0gdmFsO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gZGRvO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBUT0RPKHBldGUpIHJlbW92ZSB0aGUgZm9sbG93aW5nIGBmb3JFYWNoYCBiZWZvcmUgd2UgcmVsZWFzZSAxLjYuMFxyXG4gICAgICAvLyBUaGUgY29tcG9uZW50LXJvdXRlckAwLjIuMCBsb29rcyBmb3IgdGhlIGFubm90YXRpb25zIG9uIHRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yXHJcbiAgICAgIC8vIE5vdGhpbmcgaW4gQW5ndWxhciBsb29rcyBmb3IgYW5ub3RhdGlvbnMgb24gdGhlIGZhY3RvcnkgZnVuY3Rpb24gYnV0IHdlIGNhbid0IHJlbW92ZVxyXG4gICAgICAvLyBpdCBmcm9tIDEuNS54IHlldC5cclxuXHJcbiAgICAgIC8vIENvcHkgYW55IGFubm90YXRpb24gcHJvcGVydGllcyAoc3RhcnRpbmcgd2l0aCAkKSBvdmVyIHRvIHRoZSBmYWN0b3J5IGFuZCBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uc1xyXG4gICAgICAvLyBUaGVzZSBjb3VsZCBiZSB1c2VkIGJ5IGxpYnJhcmllcyBzdWNoIGFzIHRoZSBuZXcgY29tcG9uZW50IHJvdXRlclxyXG4gICAgICBmb3JFYWNoKG9wdGlvbnMsIGZ1bmN0aW9uICh2YWwsIGtleSkge1xyXG4gICAgICAgIGlmIChrZXkuY2hhckF0KDApID09PSAnJCcpIHtcclxuICAgICAgICAgIGZhY3Rvcnlba2V5XSA9IHZhbDtcclxuICAgICAgICAgIC8vIERvbid0IHRyeSB0byBjb3B5IG92ZXIgYW5ub3RhdGlvbnMgdG8gbmFtZWQgY29udHJvbGxlclxyXG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udHJvbGxlcikpIGNvbnRyb2xsZXJba2V5XSA9IHZhbDtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZmFjdG9yeS4kaW5qZWN0ID0gWyckaW5qZWN0b3InXTtcclxuXHJcbiAgICAgIHJldHVybiB0aGlzLmRpcmVjdGl2ZShuYW1lLCBmYWN0b3J5KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2FIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0XHJcbiAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxyXG4gICAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudGluZyBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cclxuICAgICAqXHJcbiAgICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGFbaHJlZl0gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xyXG4gICAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxyXG4gICAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXHJcbiAgICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxyXG4gICAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxyXG4gICAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxyXG4gICAgICovXHJcbiAgICB0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24gKHJlZ2V4cCkge1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcclxuICAgICAgICAkJHNhbml0aXplVXJpUHJvdmlkZXIuYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0KCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2ltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdFxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFJldHJpZXZlcyBvciBvdmVycmlkZXMgdGhlIGRlZmF1bHQgcmVndWxhciBleHByZXNzaW9uIHRoYXQgaXMgdXNlZCBmb3Igd2hpdGVsaXN0aW5nIG9mIHNhZmVcclxuICAgICAqIHVybHMgZHVyaW5nIGltZ1tzcmNdIHNhbml0aXphdGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgc2FuaXRpemF0aW9uIGlzIGEgc2VjdXJpdHkgbWVhc3VyZSBhaW1lZCBhdCBwcmV2ZW50IFhTUyBhdHRhY2tzIHZpYSBodG1sIGxpbmtzLlxyXG4gICAgICpcclxuICAgICAqIEFueSB1cmwgYWJvdXQgdG8gYmUgYXNzaWduZWQgdG8gaW1nW3NyY10gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xyXG4gICAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdGBcclxuICAgICAqIHJlZ3VsYXIgZXhwcmVzc2lvbi4gSWYgYSBtYXRjaCBpcyBmb3VuZCwgdGhlIG9yaWdpbmFsIHVybCBpcyB3cml0dGVuIGludG8gdGhlIGRvbS4gT3RoZXJ3aXNlLFxyXG4gICAgICogdGhlIGFic29sdXRlIHVybCBpcyBwcmVmaXhlZCB3aXRoIGAndW5zYWZlOidgIHN0cmluZyBhbmQgb25seSB0aGVuIGlzIGl0IHdyaXR0ZW4gaW50byB0aGUgRE9NLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7UmVnRXhwPX0gcmVnZXhwIE5ldyByZWdleHAgdG8gd2hpdGVsaXN0IHVybHMgd2l0aC5cclxuICAgICAqIEByZXR1cm5zIHtSZWdFeHB8bmcuJGNvbXBpbGVQcm92aWRlcn0gQ3VycmVudCBSZWdFeHAgaWYgY2FsbGVkIHdpdGhvdXQgdmFsdWUgb3Igc2VsZiBmb3JcclxuICAgICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cclxuICAgICAqL1xyXG4gICAgdGhpcy5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSBmdW5jdGlvbiAocmVnZXhwKSB7XHJcbiAgICAgIGlmIChpc0RlZmluZWQocmVnZXhwKSkge1xyXG4gICAgICAgICQkc2FuaXRpemVVcmlQcm92aWRlci5pbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QocmVnZXhwKTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gJCRzYW5pdGl6ZVVyaVByb3ZpZGVyLmltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCgpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgICRjb21waWxlUHJvdmlkZXIjZGVidWdJbmZvRW5hYmxlZFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IGVuYWJsZWQgdXBkYXRlIHRoZSBkZWJ1Z0luZm9FbmFibGVkIHN0YXRlIGlmIHByb3ZpZGVkLCBvdGhlcndpc2UganVzdCByZXR1cm4gdGhlXHJcbiAgICAgKiBjdXJyZW50IGRlYnVnSW5mb0VuYWJsZWQgc3RhdGVcclxuICAgICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXHJcbiAgICAgKlxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIENhbGwgdGhpcyBtZXRob2QgdG8gZW5hYmxlL2Rpc2FibGUgdmFyaW91cyBkZWJ1ZyBydW50aW1lIGluZm9ybWF0aW9uIGluIHRoZSBjb21waWxlciBzdWNoIGFzIGFkZGluZ1xyXG4gICAgICogYmluZGluZyBpbmZvcm1hdGlvbiBhbmQgYSByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgc2NvcGUgb24gdG8gRE9NIGVsZW1lbnRzLlxyXG4gICAgICogSWYgZW5hYmxlZCwgdGhlIGNvbXBpbGVyIHdpbGwgYWRkIHRoZSBmb2xsb3dpbmcgdG8gRE9NIGVsZW1lbnRzIHRoYXQgaGF2ZSBiZWVuIGJvdW5kIHRvIHRoZSBzY29wZVxyXG4gICAgICogKiBgbmctYmluZGluZ2AgQ1NTIGNsYXNzXHJcbiAgICAgKiAqIGAkYmluZGluZ2AgZGF0YSBwcm9wZXJ0eSBjb250YWluaW5nIGFuIGFycmF5IG9mIHRoZSBiaW5kaW5nIGV4cHJlc3Npb25zXHJcbiAgICAgKlxyXG4gICAgICogWW91IG1heSB3YW50IHRvIGRpc2FibGUgdGhpcyBpbiBwcm9kdWN0aW9uIGZvciBhIHNpZ25pZmljYW50IHBlcmZvcm1hbmNlIGJvb3N0LiBTZWVcclxuICAgICAqIHtAbGluayBndWlkZS9wcm9kdWN0aW9uI2Rpc2FibGluZy1kZWJ1Zy1kYXRhIERpc2FibGluZyBEZWJ1ZyBEYXRhfSBmb3IgbW9yZS5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyB0cnVlLlxyXG4gICAgICovXHJcbiAgICB2YXIgZGVidWdJbmZvRW5hYmxlZCA9IHRydWU7XHJcbiAgICB0aGlzLmRlYnVnSW5mb0VuYWJsZWQgPSBmdW5jdGlvbiAoZW5hYmxlZCkge1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKGVuYWJsZWQpKSB7XHJcbiAgICAgICAgZGVidWdJbmZvRW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGRlYnVnSW5mb0VuYWJsZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgICRjb21waWxlUHJvdmlkZXIjcHJlQXNzaWduQmluZGluZ3NFbmFibGVkXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gZW5hYmxlZCB1cGRhdGUgdGhlIHByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZCBzdGF0ZSBpZiBwcm92aWRlZCwgb3RoZXJ3aXNlIGp1c3QgcmV0dXJuIHRoZVxyXG4gICAgICogY3VycmVudCBwcmVBc3NpZ25CaW5kaW5nc0VuYWJsZWQgc3RhdGVcclxuICAgICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXHJcbiAgICAgKlxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIENhbGwgdGhpcyBtZXRob2QgdG8gZW5hYmxlL2Rpc2FibGUgd2hldGhlciBkaXJlY3RpdmUgY29udHJvbGxlcnMgYXJlIGFzc2lnbmVkIGJpbmRpbmdzIGJlZm9yZVxyXG4gICAgICogY2FsbGluZyB0aGUgY29udHJvbGxlcidzIGNvbnN0cnVjdG9yLlxyXG4gICAgICogSWYgZW5hYmxlZCAodHJ1ZSksIHRoZSBjb21waWxlciBhc3NpZ25zIHRoZSB2YWx1ZSBvZiBlYWNoIG9mIHRoZSBiaW5kaW5ncyB0byB0aGVcclxuICAgICAqIHByb3BlcnRpZXMgb2YgdGhlIGNvbnRyb2xsZXIgb2JqZWN0IGJlZm9yZSB0aGUgY29uc3RydWN0b3Igb2YgdGhpcyBvYmplY3QgaXMgY2FsbGVkLlxyXG4gICAgICpcclxuICAgICAqIElmIGRpc2FibGVkIChmYWxzZSksIHRoZSBjb21waWxlciBjYWxscyB0aGUgY29uc3RydWN0b3IgZmlyc3QgYmVmb3JlIGFzc2lnbmluZyBiaW5kaW5ncy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBpcyBmYWxzZS5cclxuICAgICAqXHJcbiAgICAgKiBAZGVwcmVjYXRlZFxyXG4gICAgICogc2luY2VWZXJzaW9uPVwiMS42LjBcIlxyXG4gICAgICogcmVtb3ZlVmVyc2lvbj1cIjEuNy4wXCJcclxuICAgICAqXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBhbmQgdGhlIG9wdGlvbiB0byBhc3NpZ24gdGhlIGJpbmRpbmdzIGJlZm9yZSBjYWxsaW5nIHRoZSBjb250cm9sbGVyJ3MgY29uc3RydWN0b3JcclxuICAgICAqIHdpbGwgYmUgcmVtb3ZlZCBpbiB2MS43LjAuXHJcbiAgICAgKi9cclxuICAgIHZhciBwcmVBc3NpZ25CaW5kaW5nc0VuYWJsZWQgPSBmYWxzZTtcclxuICAgIHRoaXMucHJlQXNzaWduQmluZGluZ3NFbmFibGVkID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcclxuICAgICAgaWYgKGlzRGVmaW5lZChlbmFibGVkKSkge1xyXG4gICAgICAgIHByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHByZUFzc2lnbkJpbmRpbmdzRW5hYmxlZDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAgJGNvbXBpbGVQcm92aWRlciNzdHJpY3RDb21wb25lbnRCaW5kaW5nc0VuYWJsZWRcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBlbmFibGVkIHVwZGF0ZSB0aGUgc3RyaWN0Q29tcG9uZW50QmluZGluZ3NFbmFibGVkIHN0YXRlIGlmIHByb3ZpZGVkLCBvdGhlcndpc2UganVzdCByZXR1cm4gdGhlXHJcbiAgICAgKiBjdXJyZW50IHN0cmljdENvbXBvbmVudEJpbmRpbmdzRW5hYmxlZCBzdGF0ZVxyXG4gICAgICogQHJldHVybnMgeyp9IGN1cnJlbnQgdmFsdWUgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcclxuICAgICAqXHJcbiAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogQ2FsbCB0aGlzIG1ldGhvZCB0byBlbmFibGUvZGlzYWJsZSBzdHJpY3QgY29tcG9uZW50IGJpbmRpbmdzIGNoZWNrLiBJZiBlbmFibGVkLCB0aGUgY29tcGlsZXIgd2lsbCBlbmZvcmNlIHRoYXRcclxuICAgICAqIGZvciBhbGwgYmluZGluZ3Mgb2YgYSBjb21wb25lbnQgdGhhdCBhcmUgbm90IHNldCBhcyBvcHRpb25hbCB3aXRoIGA/YCwgYW4gYXR0cmlidXRlIG5lZWRzIHRvIGJlIHByb3ZpZGVkXHJcbiAgICAgKiBvbiB0aGUgY29tcG9uZW50J3MgSFRNTCB0YWcuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgaXMgZmFsc2UuXHJcbiAgICAgKi9cclxuICAgIHZhciBzdHJpY3RDb21wb25lbnRCaW5kaW5nc0VuYWJsZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuc3RyaWN0Q29tcG9uZW50QmluZGluZ3NFbmFibGVkID0gZnVuY3Rpb24gKGVuYWJsZWQpIHtcclxuICAgICAgaWYgKGlzRGVmaW5lZChlbmFibGVkKSkge1xyXG4gICAgICAgIHN0cmljdENvbXBvbmVudEJpbmRpbmdzRW5hYmxlZCA9IGVuYWJsZWQ7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHN0cmljdENvbXBvbmVudEJpbmRpbmdzRW5hYmxlZDtcclxuICAgIH07XHJcblxyXG4gICAgdmFyIFRUTCA9IDEwO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI29uQ2hhbmdlc1R0bFxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogU2V0cyB0aGUgbnVtYmVyIG9mIHRpbWVzIGAkb25DaGFuZ2VzYCBob29rcyBjYW4gdHJpZ2dlciBuZXcgY2hhbmdlcyBiZWZvcmUgZ2l2aW5nIHVwIGFuZFxyXG4gICAgICogYXNzdW1pbmcgdGhhdCB0aGUgbW9kZWwgaXMgdW5zdGFibGUuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGN1cnJlbnQgZGVmYXVsdCBpcyAxMCBpdGVyYXRpb25zLlxyXG4gICAgICpcclxuICAgICAqIEluIGNvbXBsZXggYXBwbGljYXRpb25zIGl0J3MgcG9zc2libGUgdGhhdCBkZXBlbmRlbmNpZXMgYmV0d2VlbiBgJG9uQ2hhbmdlc2AgaG9va3MgYW5kIGJpbmRpbmdzIHdpbGwgcmVzdWx0XHJcbiAgICAgKiBpbiBzZXZlcmFsIGl0ZXJhdGlvbnMgb2YgY2FsbHMgdG8gdGhlc2UgaG9va3MuIEhvd2V2ZXIgaWYgYW4gYXBwbGljYXRpb24gbmVlZHMgbW9yZSB0aGFuIHRoZSBkZWZhdWx0IDEwXHJcbiAgICAgKiBpdGVyYXRpb25zIHRvIHN0YWJpbGl6ZSB0aGVuIHlvdSBzaG91bGQgaW52ZXN0aWdhdGUgd2hhdCBpcyBjYXVzaW5nIHRoZSBtb2RlbCB0byBjb250aW51b3VzbHkgY2hhbmdlIGR1cmluZ1xyXG4gICAgICogdGhlIGAkb25DaGFuZ2VzYCBob29rIGV4ZWN1dGlvbi5cclxuICAgICAqXHJcbiAgICAgKiBJbmNyZWFzaW5nIHRoZSBUVEwgY291bGQgaGF2ZSBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMsIHNvIHlvdSBzaG91bGQgbm90IGNoYW5nZSBpdCB3aXRob3V0IHByb3BlciBqdXN0aWZpY2F0aW9uLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbnVtYmVyIG9mIGAkb25DaGFuZ2VzYCBob29rIGl0ZXJhdGlvbnMuXHJcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfG9iamVjdH0gdGhlIGN1cnJlbnQgbGltaXQgKG9yIGB0aGlzYCBpZiBjYWxsZWQgYXMgYSBzZXR0ZXIgZm9yIGNoYWluaW5nKVxyXG4gICAgICovXHJcbiAgICB0aGlzLm9uQ2hhbmdlc1R0bCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgIFRUTCA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBUVEw7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBjb21tZW50RGlyZWN0aXZlc0VuYWJsZWRDb25maWcgPSB0cnVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2NvbW1lbnREaXJlY3RpdmVzRW5hYmxlZFxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogSXQgaW5kaWNhdGVzIHRvIHRoZSBjb21waWxlclxyXG4gICAgICogd2hldGhlciBvciBub3QgZGlyZWN0aXZlcyBvbiBjb21tZW50cyBzaG91bGQgYmUgY29tcGlsZWQuXHJcbiAgICAgKiBEZWZhdWx0cyB0byBgdHJ1ZWAuXHJcbiAgICAgKlxyXG4gICAgICogQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIHdpdGggZmFsc2UgZGlzYWJsZXMgdGhlIGNvbXBpbGF0aW9uIG9mIGRpcmVjdGl2ZXNcclxuICAgICAqIG9uIGNvbW1lbnRzIGZvciB0aGUgd2hvbGUgYXBwbGljYXRpb24uXHJcbiAgICAgKiBUaGlzIHJlc3VsdHMgaW4gYSBjb21waWxhdGlvbiBwZXJmb3JtYW5jZSBnYWluLFxyXG4gICAgICogYXMgdGhlIGNvbXBpbGVyIGRvZXNuJ3QgaGF2ZSB0byBjaGVjayBjb21tZW50cyB3aGVuIGxvb2tpbmcgZm9yIGRpcmVjdGl2ZXMuXHJcbiAgICAgKiBUaGlzIHNob3VsZCBob3dldmVyIG9ubHkgYmUgdXNlZCBpZiB5b3UgYXJlIHN1cmUgdGhhdCBubyBjb21tZW50IGRpcmVjdGl2ZXMgYXJlIHVzZWQgaW5cclxuICAgICAqIHRoZSBhcHBsaWNhdGlvbiAoaW5jbHVkaW5nIGFueSAzcmQgcGFydHkgZGlyZWN0aXZlcykuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtib29sZWFufSBlbmFibGVkIGBmYWxzZWAgaWYgdGhlIGNvbXBpbGVyIG1heSBpZ25vcmUgZGlyZWN0aXZlcyBvbiBjb21tZW50c1xyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW58b2JqZWN0fSB0aGUgY3VycmVudCB2YWx1ZSAob3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlciBmb3IgY2hhaW5pbmcpXHJcbiAgICAgKi9cclxuICAgIHRoaXMuY29tbWVudERpcmVjdGl2ZXNFbmFibGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29tbWVudERpcmVjdGl2ZXNFbmFibGVkQ29uZmlnID0gdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZENvbmZpZztcclxuICAgIH07XHJcblxyXG4gICAgdmFyIGNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWcgPSB0cnVlO1xyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkY29tcGlsZVByb3ZpZGVyI2Nzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICpcclxuICAgICAqIEl0IGluZGljYXRlcyB0byB0aGUgY29tcGlsZXJcclxuICAgICAqIHdoZXRoZXIgb3Igbm90IGRpcmVjdGl2ZXMgb24gZWxlbWVudCBjbGFzc2VzIHNob3VsZCBiZSBjb21waWxlZC5cclxuICAgICAqIERlZmF1bHRzIHRvIGB0cnVlYC5cclxuICAgICAqXHJcbiAgICAgKiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gd2l0aCBmYWxzZSBkaXNhYmxlcyB0aGUgY29tcGlsYXRpb24gb2YgZGlyZWN0aXZlc1xyXG4gICAgICogb24gZWxlbWVudCBjbGFzc2VzIGZvciB0aGUgd2hvbGUgYXBwbGljYXRpb24uXHJcbiAgICAgKiBUaGlzIHJlc3VsdHMgaW4gYSBjb21waWxhdGlvbiBwZXJmb3JtYW5jZSBnYWluLFxyXG4gICAgICogYXMgdGhlIGNvbXBpbGVyIGRvZXNuJ3QgaGF2ZSB0byBjaGVjayBlbGVtZW50IGNsYXNzZXMgd2hlbiBsb29raW5nIGZvciBkaXJlY3RpdmVzLlxyXG4gICAgICogVGhpcyBzaG91bGQgaG93ZXZlciBvbmx5IGJlIHVzZWQgaWYgeW91IGFyZSBzdXJlIHRoYXQgbm8gY2xhc3MgZGlyZWN0aXZlcyBhcmUgdXNlZCBpblxyXG4gICAgICogdGhlIGFwcGxpY2F0aW9uIChpbmNsdWRpbmcgYW55IDNyZCBwYXJ0eSBkaXJlY3RpdmVzKS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGVuYWJsZWQgYGZhbHNlYCBpZiB0aGUgY29tcGlsZXIgbWF5IGlnbm9yZSBkaXJlY3RpdmVzIG9uIGVsZW1lbnQgY2xhc3Nlc1xyXG4gICAgICogQHJldHVybnMge2Jvb2xlYW58b2JqZWN0fSB0aGUgY3VycmVudCB2YWx1ZSAob3IgYHRoaXNgIGlmIGNhbGxlZCBhcyBhIHNldHRlciBmb3IgY2hhaW5pbmcpXHJcbiAgICAgKi9cclxuICAgIHRoaXMuY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgIGNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWcgPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZENvbmZpZztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCAnJGludGVycG9sYXRlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJHBhcnNlJywgJyRjb250cm9sbGVyJywgJyRyb290U2NvcGUnLCAnJHNjZScsICckYW5pbWF0ZScsICckJHNhbml0aXplVXJpJywgZnVuY3Rpb24gKCRpbmplY3RvciwgJGludGVycG9sYXRlLCAkZXhjZXB0aW9uSGFuZGxlciwgJHRlbXBsYXRlUmVxdWVzdCwgJHBhcnNlLCAkY29udHJvbGxlciwgJHJvb3RTY29wZSwgJHNjZSwgJGFuaW1hdGUsICQkc2FuaXRpemVVcmkpIHtcclxuXHJcbiAgICAgIHZhciBTSU1QTEVfQVRUUl9OQU1FID0gL15cXHcvO1xyXG4gICAgICB2YXIgc3BlY2lhbEF0dHJIb2xkZXIgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG4gICAgICB2YXIgY29tbWVudERpcmVjdGl2ZXNFbmFibGVkID0gY29tbWVudERpcmVjdGl2ZXNFbmFibGVkQ29uZmlnO1xyXG4gICAgICB2YXIgY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZCA9IGNzc0NsYXNzRGlyZWN0aXZlc0VuYWJsZWRDb25maWc7XHJcblxyXG4gICAgICB2YXIgb25DaGFuZ2VzVHRsID0gVFRMO1xyXG4gICAgICAvLyBUaGUgb25DaGFuZ2VzIGhvb2tzIHNob3VsZCBhbGwgYmUgcnVuIHRvZ2V0aGVyIGluIGEgc2luZ2xlIGRpZ2VzdFxyXG4gICAgICAvLyBXaGVuIGNoYW5nZXMgb2NjdXIsIHRoZSBjYWxsIHRvIHRyaWdnZXIgdGhlaXIgaG9va3Mgd2lsbCBiZSBhZGRlZCB0byB0aGlzIHF1ZXVlXHJcbiAgICAgIHZhciBvbkNoYW5nZXNRdWV1ZTtcclxuXHJcbiAgICAgIC8vIFRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIGluIGEgJCRwb3N0RGlnZXN0IHRvIHRyaWdnZXIgYWxsIHRoZSBvbkNoYW5nZXMgaG9va3MgaW4gYSBzaW5nbGUgZGlnZXN0XHJcbiAgICAgIGZ1bmN0aW9uIGZsdXNoT25DaGFuZ2VzUXVldWUoKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGlmICghIC0tb25DaGFuZ2VzVHRsKSB7XHJcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgaGl0IHRoZSBUVEwgbGltaXQgc28gcmVzZXQgZXZlcnl0aGluZ1xyXG4gICAgICAgICAgICBvbkNoYW5nZXNRdWV1ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ2luZmNobmcnLCAnezB9ICRvbkNoYW5nZXMoKSBpdGVyYXRpb25zIHJlYWNoZWQuIEFib3J0aW5nIVxcbicsIFRUTCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAvLyBXZSBtdXN0IHJ1biB0aGlzIGhvb2sgaW4gYW4gYXBwbHkgc2luY2UgdGhlICQkcG9zdERpZ2VzdCBydW5zIG91dHNpZGUgYXBwbHlcclxuICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGVycm9ycyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBvbkNoYW5nZXNRdWV1ZS5sZW5ndGg7IGkgPCBpaTsgKytpKSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlW2ldKCk7XHJcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgZXJyb3JzLnB1c2goZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBxdWV1ZSB0byB0cmlnZ2VyIGEgbmV3IHNjaGVkdWxlIG5leHQgdGltZSB0aGVyZSBpcyBhIGNoYW5nZVxyXG4gICAgICAgICAgICBvbkNoYW5nZXNRdWV1ZSA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgICAgaWYgKGVycm9ycy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICB0aHJvdyBlcnJvcnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICBvbkNoYW5nZXNUdGwrKztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIEF0dHJpYnV0ZXMoZWxlbWVudCwgYXR0cmlidXRlc1RvQ29weSkge1xyXG4gICAgICAgIGlmIChhdHRyaWJ1dGVzVG9Db3B5KSB7XHJcbiAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGF0dHJpYnV0ZXNUb0NvcHkpO1xyXG4gICAgICAgICAgdmFyIGksIGwsIGtleTtcclxuXHJcbiAgICAgICAgICBmb3IgKGkgPSAwLCBsID0ga2V5cy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICAgICAga2V5ID0ga2V5c1tpXTtcclxuICAgICAgICAgICAgdGhpc1trZXldID0gYXR0cmlidXRlc1RvQ29weVtrZXldO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aGlzLiRhdHRyID0ge307XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLiQkZWxlbWVudCA9IGVsZW1lbnQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIEF0dHJpYnV0ZXMucHJvdG90eXBlID0ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkbm9ybWFsaXplXHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIENvbnZlcnRzIGFuIGF0dHJpYnV0ZSBuYW1lIChlLmcuIGRhc2gvY29sb24vdW5kZXJzY29yZS1kZWxpbWl0ZWQgc3RyaW5nLCBvcHRpb25hbGx5IHByZWZpeGVkIHdpdGggYHgtYCBvclxyXG4gICAgICAgICAqIGBkYXRhLWApIHRvIGl0cyBub3JtYWxpemVkLCBjYW1lbENhc2UgZm9ybS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEFsc28gdGhlcmUgaXMgc3BlY2lhbCBjYXNlIGZvciBNb3ogcHJlZml4IHN0YXJ0aW5nIHdpdGggdXBwZXIgY2FzZSBsZXR0ZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBGb3IgZnVydGhlciBpbmZvcm1hdGlvbiBjaGVjayBvdXQgdGhlIGd1aWRlIG9uIHtAbGluayBndWlkZS9kaXJlY3RpdmUjbWF0Y2hpbmctZGlyZWN0aXZlcyBNYXRjaGluZyBEaXJlY3RpdmVzfVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSB0byBub3JtYWxpemVcclxuICAgICAgICAgKi9cclxuICAgICAgICAkbm9ybWFsaXplOiBkaXJlY3RpdmVOb3JtYWxpemUsXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkYWRkQ2xhc3NcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogQWRkcyB0aGUgQ1NTIGNsYXNzIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgY2xhc3NWYWwgcGFyYW1ldGVyIHRvIHRoZSBlbGVtZW50LiBJZiBhbmltYXRpb25zXHJcbiAgICAgICAgICogYXJlIGVuYWJsZWQgdGhlbiBhbiBhbmltYXRpb24gd2lsbCBiZSB0cmlnZ2VyZWQgZm9yIHRoZSBjbGFzcyBhZGRpdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjbGFzc1ZhbCBUaGUgY2xhc3NOYW1lIHZhbHVlIHRoYXQgd2lsbCBiZSBhZGRlZCB0byB0aGUgZWxlbWVudFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICRhZGRDbGFzczogZnVuY3Rpb24gJGFkZENsYXNzKGNsYXNzVmFsKSB7XHJcbiAgICAgICAgICBpZiAoY2xhc3NWYWwgJiYgY2xhc3NWYWwubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyh0aGlzLiQkZWxlbWVudCwgY2xhc3NWYWwpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkcmVtb3ZlQ2xhc3NcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogUmVtb3ZlcyB0aGUgQ1NTIGNsYXNzIHZhbHVlIHNwZWNpZmllZCBieSB0aGUgY2xhc3NWYWwgcGFyYW1ldGVyIGZyb20gdGhlIGVsZW1lbnQuIElmXHJcbiAgICAgICAgICogYW5pbWF0aW9ucyBhcmUgZW5hYmxlZCB0aGVuIGFuIGFuaW1hdGlvbiB3aWxsIGJlIHRyaWdnZXJlZCBmb3IgdGhlIGNsYXNzIHJlbW92YWwuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2xhc3NWYWwgVGhlIGNsYXNzTmFtZSB2YWx1ZSB0aGF0IHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBlbGVtZW50XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJHJlbW92ZUNsYXNzOiBmdW5jdGlvbiAkcmVtb3ZlQ2xhc3MoY2xhc3NWYWwpIHtcclxuICAgICAgICAgIGlmIChjbGFzc1ZhbCAmJiBjbGFzc1ZhbC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCBjbGFzc1ZhbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyR1cGRhdGVDbGFzc1xyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBBZGRzIGFuZCByZW1vdmVzIHRoZSBhcHByb3ByaWF0ZSBDU1MgY2xhc3MgdmFsdWVzIHRvIHRoZSBlbGVtZW50IGJhc2VkIG9uIHRoZSBkaWZmZXJlbmNlXHJcbiAgICAgICAgICogYmV0d2VlbiB0aGUgbmV3IGFuZCBvbGQgQ1NTIGNsYXNzIHZhbHVlcyAoc3BlY2lmaWVkIGFzIG5ld0NsYXNzZXMgYW5kIG9sZENsYXNzZXMpLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5ld0NsYXNzZXMgVGhlIGN1cnJlbnQgQ1NTIGNsYXNzTmFtZSB2YWx1ZVxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvbGRDbGFzc2VzIFRoZSBmb3JtZXIgQ1NTIGNsYXNzTmFtZSB2YWx1ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICR1cGRhdGVDbGFzczogZnVuY3Rpb24gJHVwZGF0ZUNsYXNzKG5ld0NsYXNzZXMsIG9sZENsYXNzZXMpIHtcclxuICAgICAgICAgIHZhciB0b0FkZCA9IHRva2VuRGlmZmVyZW5jZShuZXdDbGFzc2VzLCBvbGRDbGFzc2VzKTtcclxuICAgICAgICAgIGlmICh0b0FkZCAmJiB0b0FkZC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIHRvQWRkKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgdG9SZW1vdmUgPSB0b2tlbkRpZmZlcmVuY2Uob2xkQ2xhc3NlcywgbmV3Q2xhc3Nlcyk7XHJcbiAgICAgICAgICBpZiAodG9SZW1vdmUgJiYgdG9SZW1vdmUubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCB0b1JlbW92ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogU2V0IGEgbm9ybWFsaXplZCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQgaW4gYSB3YXkgc3VjaCB0aGF0IGFsbCBkaXJlY3RpdmVzXHJcbiAgICAgICAgICogY2FuIHNoYXJlIHRoZSBhdHRyaWJ1dGUuIFRoaXMgZnVuY3Rpb24gcHJvcGVybHkgaGFuZGxlcyBib29sZWFuIGF0dHJpYnV0ZXMuXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBOb3JtYWxpemVkIGtleS4gKGllIG5nQXR0cmlidXRlKVxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGJvb2xlYW59IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuIElmIGBudWxsYCBhdHRyaWJ1dGUgd2lsbCBiZSBkZWxldGVkLlxyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHdyaXRlQXR0ciBJZiBmYWxzZSwgZG9lcyBub3Qgd3JpdGUgdGhlIHZhbHVlIHRvIERPTSBlbGVtZW50IGF0dHJpYnV0ZS5cclxuICAgICAgICAgKiAgICAgRGVmYXVsdHMgdG8gdHJ1ZS5cclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZz19IGF0dHJOYW1lIE9wdGlvbmFsIG5vbmUgbm9ybWFsaXplZCBuYW1lLiBEZWZhdWx0cyB0byBrZXkuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJHNldDogZnVuY3Rpb24gJHNldChrZXksIHZhbHVlLCB3cml0ZUF0dHIsIGF0dHJOYW1lKSB7XHJcbiAgICAgICAgICAvLyBUT0RPOiBkZWNpZGUgd2hldGhlciBvciBub3QgdG8gdGhyb3cgYW4gZXJyb3IgaWYgXCJjbGFzc1wiXHJcbiAgICAgICAgICAvL2lzIHNldCB0aHJvdWdoIHRoaXMgZnVuY3Rpb24gc2luY2UgaXQgbWF5IGNhdXNlICR1cGRhdGVDbGFzcyB0b1xyXG4gICAgICAgICAgLy9iZWNvbWUgdW5zdGFibGUuXHJcblxyXG4gICAgICAgICAgdmFyIG5vZGUgPSB0aGlzLiQkZWxlbWVudFswXSxcclxuICAgICAgICAgICAgICBib29sZWFuS2V5ID0gZ2V0Qm9vbGVhbkF0dHJOYW1lKG5vZGUsIGtleSksXHJcbiAgICAgICAgICAgICAgYWxpYXNlZEtleSA9IGdldEFsaWFzZWRBdHRyTmFtZShrZXkpLFxyXG4gICAgICAgICAgICAgIG9ic2VydmVyID0ga2V5LFxyXG4gICAgICAgICAgICAgIG5vZGVOYW1lO1xyXG5cclxuICAgICAgICAgIGlmIChib29sZWFuS2V5KSB7XHJcbiAgICAgICAgICAgIHRoaXMuJCRlbGVtZW50LnByb3Aoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIGF0dHJOYW1lID0gYm9vbGVhbktleTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoYWxpYXNlZEtleSkge1xyXG4gICAgICAgICAgICB0aGlzW2FsaWFzZWRLZXldID0gdmFsdWU7XHJcbiAgICAgICAgICAgIG9ic2VydmVyID0gYWxpYXNlZEtleTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB0aGlzW2tleV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAvLyB0cmFuc2xhdGUgbm9ybWFsaXplZCBrZXkgdG8gYWN0dWFsIGtleVxyXG4gICAgICAgICAgaWYgKGF0dHJOYW1lKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGF0dHJba2V5XSA9IGF0dHJOYW1lO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXR0ck5hbWUgPSB0aGlzLiRhdHRyW2tleV07XHJcbiAgICAgICAgICAgIGlmICghYXR0ck5hbWUpIHtcclxuICAgICAgICAgICAgICB0aGlzLiRhdHRyW2tleV0gPSBhdHRyTmFtZSA9IHNuYWtlX2Nhc2Uoa2V5LCAnLScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbm9kZU5hbWUgPSBub2RlTmFtZV8odGhpcy4kJGVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgIGlmIChub2RlTmFtZSA9PT0gJ2EnICYmIChrZXkgPT09ICdocmVmJyB8fCBrZXkgPT09ICd4bGlua0hyZWYnKSB8fCBub2RlTmFtZSA9PT0gJ2ltZycgJiYga2V5ID09PSAnc3JjJykge1xyXG4gICAgICAgICAgICAvLyBzYW5pdGl6ZSBhW2hyZWZdIGFuZCBpbWdbc3JjXSB2YWx1ZXNcclxuICAgICAgICAgICAgdGhpc1trZXldID0gdmFsdWUgPSAkJHNhbml0aXplVXJpKHZhbHVlLCBrZXkgPT09ICdzcmMnKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAobm9kZU5hbWUgPT09ICdpbWcnICYmIGtleSA9PT0gJ3NyY3NldCcgJiYgaXNEZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAvLyBzYW5pdGl6ZSBpbWdbc3Jjc2V0XSB2YWx1ZXNcclxuICAgICAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xyXG5cclxuICAgICAgICAgICAgLy8gZmlyc3QgY2hlY2sgaWYgdGhlcmUgYXJlIHNwYWNlcyBiZWNhdXNlIGl0J3Mgbm90IHRoZSBzYW1lIHBhdHRlcm5cclxuICAgICAgICAgICAgdmFyIHRyaW1tZWRTcmNzZXQgPSB0cmltKHZhbHVlKTtcclxuICAgICAgICAgICAgLy8gICAgICAgICAgICAgICAgKCAgIDk5OXggICAsfCAgIDk5OXcgICAsfCAgICx8LCAgIClcclxuICAgICAgICAgICAgdmFyIHNyY1BhdHRlcm4gPSAvKFxccytcXGQreFxccyosfFxccytcXGQrd1xccyosfFxccyssfCxcXHMrKS87XHJcbiAgICAgICAgICAgIHZhciBwYXR0ZXJuID0gL1xccy8udGVzdCh0cmltbWVkU3Jjc2V0KSA/IHNyY1BhdHRlcm4gOiAvKCwpLztcclxuXHJcbiAgICAgICAgICAgIC8vIHNwbGl0IHNyY3NldCBpbnRvIHR1cGxlIG9mIHVyaSBhbmQgZGVzY3JpcHRvciBleGNlcHQgZm9yIHRoZSBsYXN0IGl0ZW1cclxuICAgICAgICAgICAgdmFyIHJhd1VyaXMgPSB0cmltbWVkU3Jjc2V0LnNwbGl0KHBhdHRlcm4pO1xyXG5cclxuICAgICAgICAgICAgLy8gZm9yIGVhY2ggdHVwbGVzXHJcbiAgICAgICAgICAgIHZhciBuYnJVcmlzV2l0aDJwYXJ0cyA9IE1hdGguZmxvb3IocmF3VXJpcy5sZW5ndGggLyAyKTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYnJVcmlzV2l0aDJwYXJ0czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGlubmVySWR4ID0gaSAqIDI7XHJcbiAgICAgICAgICAgICAgLy8gc2FuaXRpemUgdGhlIHVyaVxyXG4gICAgICAgICAgICAgIHJlc3VsdCArPSAkJHNhbml0aXplVXJpKHRyaW0ocmF3VXJpc1tpbm5lcklkeF0pLCB0cnVlKTtcclxuICAgICAgICAgICAgICAvLyBhZGQgdGhlIGRlc2NyaXB0b3JcclxuICAgICAgICAgICAgICByZXN1bHQgKz0gJyAnICsgdHJpbShyYXdVcmlzW2lubmVySWR4ICsgMV0pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBzcGxpdCB0aGUgbGFzdCBpdGVtIGludG8gdXJpIGFuZCBkZXNjcmlwdG9yXHJcbiAgICAgICAgICAgIHZhciBsYXN0VHVwbGUgPSB0cmltKHJhd1VyaXNbaSAqIDJdKS5zcGxpdCgvXFxzLyk7XHJcblxyXG4gICAgICAgICAgICAvLyBzYW5pdGl6ZSB0aGUgbGFzdCB1cmlcclxuICAgICAgICAgICAgcmVzdWx0ICs9ICQkc2FuaXRpemVVcmkodHJpbShsYXN0VHVwbGVbMF0pLCB0cnVlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIGFuZCBhZGQgdGhlIGxhc3QgZGVzY3JpcHRvciBpZiBhbnlcclxuICAgICAgICAgICAgaWYgKGxhc3RUdXBsZS5sZW5ndGggPT09IDIpIHtcclxuICAgICAgICAgICAgICByZXN1bHQgKz0gJyAnICsgdHJpbShsYXN0VHVwbGVbMV0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXNba2V5XSA9IHZhbHVlID0gcmVzdWx0O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICh3cml0ZUF0dHIgIT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCBpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICB0aGlzLiQkZWxlbWVudC5yZW1vdmVBdHRyKGF0dHJOYW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBpZiAoU0lNUExFX0FUVFJfTkFNRS50ZXN0KGF0dHJOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy4kJGVsZW1lbnQuYXR0cihhdHRyTmFtZSwgdmFsdWUpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzZXRTcGVjaWFsQXR0cih0aGlzLiQkZWxlbWVudFswXSwgYXR0ck5hbWUsIHZhbHVlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBmaXJlIG9ic2VydmVyc1xyXG4gICAgICAgICAgdmFyICQkb2JzZXJ2ZXJzID0gdGhpcy4kJG9ic2VydmVycztcclxuICAgICAgICAgIGlmICgkJG9ic2VydmVycykge1xyXG4gICAgICAgICAgICBmb3JFYWNoKCQkb2JzZXJ2ZXJzW29ic2VydmVyXSwgZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGZuKHZhbHVlKTtcclxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkb2JzZXJ2ZVxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBPYnNlcnZlcyBhbiBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhlIG9ic2VydmVyIGZ1bmN0aW9uIHdpbGwgYmUgaW52b2tlZCBvbmNlIGR1cmluZyB0aGUgbmV4dCBgJGRpZ2VzdGAgZm9sbG93aW5nXHJcbiAgICAgICAgICogY29tcGlsYXRpb24uIFRoZSBvYnNlcnZlciBpcyB0aGVuIGludm9rZWQgd2hlbmV2ZXIgdGhlIGludGVycG9sYXRlZCB2YWx1ZVxyXG4gICAgICAgICAqIGNoYW5nZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IE5vcm1hbGl6ZWQga2V5LiAoaWUgbmdBdHRyaWJ1dGUpIC5cclxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGludGVycG9sYXRlZFZhbHVlKX0gZm4gRnVuY3Rpb24gdGhhdCB3aWxsIGJlIGNhbGxlZCB3aGVuZXZlclxyXG4gICAgICAgICAgICAgICAgICB0aGUgaW50ZXJwb2xhdGVkIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgY2hhbmdlcy5cclxuICAgICAgICAgKiAgICAgICAgU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiNob3ctdGV4dC1hbmQtYXR0cmlidXRlLWJpbmRpbmdzLXdvcmsgSW50ZXJwb2xhdGlvblxyXG4gICAgICAgICAqICAgICAgICBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICAgICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIG9ic2VydmVyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICRvYnNlcnZlOiBmdW5jdGlvbiAkb2JzZXJ2ZShrZXksIGZuKSB7XHJcbiAgICAgICAgICB2YXIgYXR0cnMgPSB0aGlzLFxyXG4gICAgICAgICAgICAgICQkb2JzZXJ2ZXJzID0gYXR0cnMuJCRvYnNlcnZlcnMgfHwgKGF0dHJzLiQkb2JzZXJ2ZXJzID0gY3JlYXRlTWFwKCkpLFxyXG4gICAgICAgICAgICAgIGxpc3RlbmVycyA9ICQkb2JzZXJ2ZXJzW2tleV0gfHwgKCQkb2JzZXJ2ZXJzW2tleV0gPSBbXSk7XHJcblxyXG4gICAgICAgICAgbGlzdGVuZXJzLnB1c2goZm4pO1xyXG4gICAgICAgICAgJHJvb3RTY29wZS4kZXZhbEFzeW5jKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFsaXN0ZW5lcnMuJCRpbnRlciAmJiBhdHRycy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmICFpc1VuZGVmaW5lZChhdHRyc1trZXldKSkge1xyXG4gICAgICAgICAgICAgIC8vIG5vIG9uZSByZWdpc3RlcmVkIGF0dHJpYnV0ZSBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLCBzbyBsZXRzIGNhbGwgaXQgbWFudWFsbHlcclxuICAgICAgICAgICAgICBmbihhdHRyc1trZXldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgYXJyYXlSZW1vdmUobGlzdGVuZXJzLCBmbik7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIHNldFNwZWNpYWxBdHRyKGVsZW1lbnQsIGF0dHJOYW1lLCB2YWx1ZSkge1xyXG4gICAgICAgIC8vIEF0dHJpYnV0ZXMgbmFtZXMgdGhhdCBkbyBub3Qgc3RhcnQgd2l0aCBsZXR0ZXJzIChzdWNoIGFzIGAoY2xpY2spYCkgY2Fubm90IGJlIHNldCB1c2luZyBgc2V0QXR0cmlidXRlYFxyXG4gICAgICAgIC8vIHNvIHdlIGhhdmUgdG8ganVtcCB0aHJvdWdoIHNvbWUgaG9vcHMgdG8gZ2V0IHN1Y2ggYW4gYXR0cmlidXRlXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzEzMzE4XHJcbiAgICAgICAgc3BlY2lhbEF0dHJIb2xkZXIuaW5uZXJIVE1MID0gJzxzcGFuICcgKyBhdHRyTmFtZSArICc+JztcclxuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IHNwZWNpYWxBdHRySG9sZGVyLmZpcnN0Q2hpbGQuYXR0cmlidXRlcztcclxuICAgICAgICB2YXIgYXR0cmlidXRlID0gYXR0cmlidXRlc1swXTtcclxuICAgICAgICAvLyBXZSBoYXZlIHRvIHJlbW92ZSB0aGUgYXR0cmlidXRlIGZyb20gaXRzIGNvbnRhaW5lciBlbGVtZW50IGJlZm9yZSB3ZSBjYW4gYWRkIGl0IHRvIHRoZSBkZXN0aW5hdGlvbiBlbGVtZW50XHJcbiAgICAgICAgYXR0cmlidXRlcy5yZW1vdmVOYW1lZEl0ZW0oYXR0cmlidXRlLm5hbWUpO1xyXG4gICAgICAgIGF0dHJpYnV0ZS52YWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgIGVsZW1lbnQuYXR0cmlidXRlcy5zZXROYW1lZEl0ZW0oYXR0cmlidXRlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gc2FmZUFkZENsYXNzKCRlbGVtZW50LCBjbGFzc05hbWUpIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAvLyBpZ25vcmUsIHNpbmNlIGl0IG1lYW5zIHRoYXQgd2UgYXJlIHRyeWluZyB0byBzZXQgY2xhc3Mgb25cclxuICAgICAgICAgIC8vIFNWRyBlbGVtZW50LCB3aGVyZSBjbGFzcyBuYW1lIGlzIHJlYWQtb25seS5cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzdGFydFN5bWJvbCA9ICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpLFxyXG4gICAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxyXG4gICAgICAgICAgZGVub3JtYWxpemVUZW1wbGF0ZSA9IHN0YXJ0U3ltYm9sID09PSAne3snICYmIGVuZFN5bWJvbCA9PT0gJ319JyA/IGlkZW50aXR5IDogZnVuY3Rpb24gZGVub3JtYWxpemVUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xyXG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKC9cXHtcXHsvZywgc3RhcnRTeW1ib2wpLnJlcGxhY2UoL319L2csIGVuZFN5bWJvbCk7XHJcbiAgICAgIH0sXHJcbiAgICAgICAgICBOR19BVFRSX0JJTkRJTkcgPSAvXm5nQXR0cltBLVpdLztcclxuICAgICAgdmFyIE1VTFRJX0VMRU1FTlRfRElSX1JFID0gL14oLispU3RhcnQkLztcclxuXHJcbiAgICAgIGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZEJpbmRpbmdJbmZvKCRlbGVtZW50LCBiaW5kaW5nKSB7XHJcbiAgICAgICAgdmFyIGJpbmRpbmdzID0gJGVsZW1lbnQuZGF0YSgnJGJpbmRpbmcnKSB8fCBbXTtcclxuXHJcbiAgICAgICAgaWYgKGlzQXJyYXkoYmluZGluZykpIHtcclxuICAgICAgICAgIGJpbmRpbmdzID0gYmluZGluZ3MuY29uY2F0KGJpbmRpbmcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBiaW5kaW5ncy5wdXNoKGJpbmRpbmcpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGVsZW1lbnQuZGF0YSgnJGJpbmRpbmcnLCBiaW5kaW5ncyk7XHJcbiAgICAgIH0gOiBub29wO1xyXG5cclxuICAgICAgY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyA9IGRlYnVnSW5mb0VuYWJsZWQgPyBmdW5jdGlvbiAkJGFkZEJpbmRpbmdDbGFzcygkZWxlbWVudCkge1xyXG4gICAgICAgIHNhZmVBZGRDbGFzcygkZWxlbWVudCwgJ25nLWJpbmRpbmcnKTtcclxuICAgICAgfSA6IG5vb3A7XHJcblxyXG4gICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkU2NvcGVJbmZvKCRlbGVtZW50LCBzY29wZSwgaXNvbGF0ZWQsIG5vVGVtcGxhdGUpIHtcclxuICAgICAgICB2YXIgZGF0YU5hbWUgPSBpc29sYXRlZCA/IG5vVGVtcGxhdGUgPyAnJGlzb2xhdGVTY29wZU5vVGVtcGxhdGUnIDogJyRpc29sYXRlU2NvcGUnIDogJyRzY29wZSc7XHJcbiAgICAgICAgJGVsZW1lbnQuZGF0YShkYXRhTmFtZSwgc2NvcGUpO1xyXG4gICAgICB9IDogbm9vcDtcclxuXHJcbiAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUNsYXNzID0gZGVidWdJbmZvRW5hYmxlZCA/IGZ1bmN0aW9uICQkYWRkU2NvcGVDbGFzcygkZWxlbWVudCwgaXNvbGF0ZWQpIHtcclxuICAgICAgICBzYWZlQWRkQ2xhc3MoJGVsZW1lbnQsIGlzb2xhdGVkID8gJ25nLWlzb2xhdGUtc2NvcGUnIDogJ25nLXNjb3BlJyk7XHJcbiAgICAgIH0gOiBub29wO1xyXG5cclxuICAgICAgY29tcGlsZS4kJGNyZWF0ZUNvbW1lbnQgPSBmdW5jdGlvbiAoZGlyZWN0aXZlTmFtZSwgY29tbWVudCkge1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gJyc7XHJcbiAgICAgICAgaWYgKGRlYnVnSW5mb0VuYWJsZWQpIHtcclxuICAgICAgICAgIGNvbnRlbnQgPSAnICcgKyAoZGlyZWN0aXZlTmFtZSB8fCAnJykgKyAnOiAnO1xyXG4gICAgICAgICAgaWYgKGNvbW1lbnQpIGNvbnRlbnQgKz0gY29tbWVudCArICcgJztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmV0dXJuIGNvbXBpbGU7XHJcblxyXG4gICAgICAvLz09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG4gICAgICBmdW5jdGlvbiBjb21waWxlKCRjb21waWxlTm9kZXMsIHRyYW5zY2x1ZGVGbiwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xyXG4gICAgICAgIGlmICghKCRjb21waWxlTm9kZXMgaW5zdGFuY2VvZiBqcUxpdGUpKSB7XHJcbiAgICAgICAgICAvLyBqcXVlcnkgYWx3YXlzIHJld3JhcHMsIHdoZXJlYXMgd2UgbmVlZCB0byBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgc2VsZWN0b3Igc28gdGhhdCB3ZSBjYW5cclxuICAgICAgICAgIC8vIG1vZGlmeSBpdC5cclxuICAgICAgICAgICRjb21waWxlTm9kZXMgPSBqcUxpdGUoJGNvbXBpbGVOb2Rlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBjb21wb3NpdGVMaW5rRm4gPSBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGVzLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcclxuICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcygkY29tcGlsZU5vZGVzKTtcclxuICAgICAgICB2YXIgbmFtZXNwYWNlID0gbnVsbDtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcHVibGljTGlua0ZuKHNjb3BlLCBjbG9uZUNvbm5lY3RGbiwgb3B0aW9ucykge1xyXG4gICAgICAgICAgaWYgKCEkY29tcGlsZU5vZGVzKSB7XHJcbiAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdtdWx0aWxpbmsnLCAnVGhpcyBlbGVtZW50IGhhcyBhbHJlYWR5IGJlZW4gbGlua2VkLicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYXNzZXJ0QXJnKHNjb3BlLCAnc2NvcGUnKTtcclxuXHJcbiAgICAgICAgICBpZiAocHJldmlvdXNDb21waWxlQ29udGV4dCAmJiBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5lZWRzTmV3U2NvcGUpIHtcclxuICAgICAgICAgICAgLy8gQSBwYXJlbnQgZGlyZWN0aXZlIGRpZCBhIHJlcGxhY2UgYW5kIGEgZGlyZWN0aXZlIG9uIHRoaXMgZWxlbWVudCBhc2tlZFxyXG4gICAgICAgICAgICAvLyBmb3IgdHJhbnNjbHVzaW9uLCB3aGljaCBjYXVzZWQgdXMgdG8gbG9zZSBhIGxheWVyIG9mIGVsZW1lbnQgb24gd2hpY2hcclxuICAgICAgICAgICAgLy8gd2UgY291bGQgaG9sZCB0aGUgbmV3IHRyYW5zY2x1c2lvbiBzY29wZSwgc28gd2Ugd2lsbCBjcmVhdGUgaXQgbWFudWFsbHlcclxuICAgICAgICAgICAgLy8gaGVyZS5cclxuICAgICAgICAgICAgc2NvcGUgPSBzY29wZS4kcGFyZW50LiRuZXcoKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcclxuICAgICAgICAgIHZhciBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbiA9IG9wdGlvbnMucGFyZW50Qm91bmRUcmFuc2NsdWRlRm4sXHJcbiAgICAgICAgICAgICAgdHJhbnNjbHVkZUNvbnRyb2xsZXJzID0gb3B0aW9ucy50cmFuc2NsdWRlQ29udHJvbGxlcnMsXHJcbiAgICAgICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IG9wdGlvbnMuZnV0dXJlUGFyZW50RWxlbWVudDtcclxuXHJcbiAgICAgICAgICAvLyBXaGVuIGBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbmAgaXMgcGFzc2VkLCBpdCBpcyBhXHJcbiAgICAgICAgICAvLyBgY29udHJvbGxlcnNCb3VuZFRyYW5zY2x1ZGVgIGZ1bmN0aW9uIChpdCB3YXMgcHJldmlvdXNseSBwYXNzZWRcclxuICAgICAgICAgIC8vIGFzIGB0cmFuc2NsdWRlYCB0byBkaXJlY3RpdmUubGluaykgc28gd2UgbXVzdCB1bndyYXAgaXQgdG8gZ2V0XHJcbiAgICAgICAgICAvLyBpdHMgYGJvdW5kVHJhbnNjbHVkZUZuYFxyXG4gICAgICAgICAgaWYgKHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlKSB7XHJcbiAgICAgICAgICAgIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuID0gcGFyZW50Qm91bmRUcmFuc2NsdWRlRm4uJCRib3VuZFRyYW5zY2x1ZGU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCFuYW1lc3BhY2UpIHtcclxuICAgICAgICAgICAgbmFtZXNwYWNlID0gZGV0ZWN0TmFtZXNwYWNlRm9yQ2hpbGRFbGVtZW50cyhmdXR1cmVQYXJlbnRFbGVtZW50KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhciAkbGlua05vZGU7XHJcbiAgICAgICAgICBpZiAobmFtZXNwYWNlICE9PSAnaHRtbCcpIHtcclxuICAgICAgICAgICAgLy8gV2hlbiB1c2luZyBhIGRpcmVjdGl2ZSB3aXRoIHJlcGxhY2U6dHJ1ZSBhbmQgdGVtcGxhdGVVcmwgdGhlICRjb21waWxlTm9kZXNcclxuICAgICAgICAgICAgLy8gKG9yIGEgY2hpbGQgZWxlbWVudCBpbnNpZGUgb2YgdGhlbSlcclxuICAgICAgICAgICAgLy8gbWlnaHQgY2hhbmdlLCBzbyB3ZSBuZWVkIHRvIHJlY3JlYXRlIHRoZSBuYW1lc3BhY2UgYWRhcHRlZCBjb21waWxlTm9kZXNcclxuICAgICAgICAgICAgLy8gZm9yIGNhbGwgdG8gdGhlIGxpbmsgZnVuY3Rpb24uXHJcbiAgICAgICAgICAgIC8vIE5vdGU6IFRoaXMgd2lsbCBhbHJlYWR5IGNsb25lIHRoZSBub2Rlcy4uLlxyXG4gICAgICAgICAgICAkbGlua05vZGUgPSBqcUxpdGUod3JhcFRlbXBsYXRlKG5hbWVzcGFjZSwganFMaXRlKCc8ZGl2PicpLmFwcGVuZCgkY29tcGlsZU5vZGVzKS5odG1sKCkpKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoY2xvbmVDb25uZWN0Rm4pIHtcclxuICAgICAgICAgICAgLy8gaW1wb3J0YW50ISE6IHdlIG11c3QgY2FsbCBvdXIganFMaXRlLmNsb25lKCkgc2luY2UgdGhlIGpRdWVyeSBvbmUgaXMgdHJ5aW5nIHRvIGJlIHNtYXJ0XHJcbiAgICAgICAgICAgIC8vIGFuZCBzb21ldGltZXMgY2hhbmdlcyB0aGUgc3RydWN0dXJlIG9mIHRoZSBET00uXHJcbiAgICAgICAgICAgICRsaW5rTm9kZSA9IEpRTGl0ZVByb3RvdHlwZS5jbG9uZS5jYWxsKCRjb21waWxlTm9kZXMpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGxpbmtOb2RlID0gJGNvbXBpbGVOb2RlcztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAodHJhbnNjbHVkZUNvbnRyb2xsZXJzKSB7XHJcbiAgICAgICAgICAgIGZvciAodmFyIGNvbnRyb2xsZXJOYW1lIGluIHRyYW5zY2x1ZGVDb250cm9sbGVycykge1xyXG4gICAgICAgICAgICAgICRsaW5rTm9kZS5kYXRhKCckJyArIGNvbnRyb2xsZXJOYW1lICsgJ0NvbnRyb2xsZXInLCB0cmFuc2NsdWRlQ29udHJvbGxlcnNbY29udHJvbGxlck5hbWVdLmluc3RhbmNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbXBpbGUuJCRhZGRTY29wZUluZm8oJGxpbmtOb2RlLCBzY29wZSk7XHJcblxyXG4gICAgICAgICAgaWYgKGNsb25lQ29ubmVjdEZuKSBjbG9uZUNvbm5lY3RGbigkbGlua05vZGUsIHNjb3BlKTtcclxuICAgICAgICAgIGlmIChjb21wb3NpdGVMaW5rRm4pIGNvbXBvc2l0ZUxpbmtGbihzY29wZSwgJGxpbmtOb2RlLCAkbGlua05vZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuXHJcbiAgICAgICAgICBpZiAoIWNsb25lQ29ubmVjdEZuKSB7XHJcbiAgICAgICAgICAgICRjb21waWxlTm9kZXMgPSBjb21wb3NpdGVMaW5rRm4gPSBudWxsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuICRsaW5rTm9kZTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBkZXRlY3ROYW1lc3BhY2VGb3JDaGlsZEVsZW1lbnRzKHBhcmVudEVsZW1lbnQpIHtcclxuICAgICAgICAvLyBUT0RPOiBNYWtlIHRoaXMgZGV0ZWN0IE1hdGhNTCBhcyB3ZWxsLi4uXHJcbiAgICAgICAgdmFyIG5vZGUgPSBwYXJlbnRFbGVtZW50ICYmIHBhcmVudEVsZW1lbnRbMF07XHJcbiAgICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgICByZXR1cm4gJ2h0bWwnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gbm9kZU5hbWVfKG5vZGUpICE9PSAnZm9yZWlnbm9iamVjdCcgJiYgdG9TdHJpbmcuY2FsbChub2RlKS5tYXRjaCgvU1ZHLykgPyAnc3ZnJyA6ICdodG1sJztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBDb21waWxlIGZ1bmN0aW9uIG1hdGNoZXMgZWFjaCBub2RlIGluIG5vZGVMaXN0IGFnYWluc3QgdGhlIGRpcmVjdGl2ZXMuIE9uY2UgYWxsIGRpcmVjdGl2ZXNcclxuICAgICAgICogZm9yIGEgcGFydGljdWxhciBub2RlIGFyZSBjb2xsZWN0ZWQgdGhlaXIgY29tcGlsZSBmdW5jdGlvbnMgYXJlIGV4ZWN1dGVkLiBUaGUgY29tcGlsZVxyXG4gICAgICAgKiBmdW5jdGlvbnMgcmV0dXJuIHZhbHVlcyAtIHRoZSBsaW5raW5nIGZ1bmN0aW9ucyAtIGFyZSBjb21iaW5lZCBpbnRvIGEgY29tcG9zaXRlIGxpbmtpbmdcclxuICAgICAgICogZnVuY3Rpb24sIHdoaWNoIGlzIHRoZSBhIGxpbmtpbmcgZnVuY3Rpb24gZm9yIHRoZSBub2RlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge05vZGVMaXN0fSBub2RlTGlzdCBhbiBhcnJheSBvZiBub2RlcyBvciBOb2RlTGlzdCB0byBjb21waWxlXHJcbiAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oYW5ndWxhci5TY29wZSwgY2xvbmVBdHRhY2hGbj0pfSB0cmFuc2NsdWRlRm4gQSBsaW5raW5nIGZ1bmN0aW9uLCB3aGVyZSB0aGVcclxuICAgICAgICogICAgICAgIHNjb3BlIGFyZ3VtZW50IGlzIGF1dG8tZ2VuZXJhdGVkIHRvIHRoZSBuZXcgY2hpbGQgb2YgdGhlIHRyYW5zY2x1ZGVkIHBhcmVudCBzY29wZS5cclxuICAgICAgICogQHBhcmFtIHtET01FbGVtZW50PX0gJHJvb3RFbGVtZW50IElmIHRoZSBub2RlTGlzdCBpcyB0aGUgcm9vdCBvZiB0aGUgY29tcGlsYXRpb24gdHJlZSB0aGVuXHJcbiAgICAgICAqICAgICAgICB0aGUgcm9vdEVsZW1lbnQgbXVzdCBiZSBzZXQgdGhlIGpxTGl0ZSBjb2xsZWN0aW9uIG9mIHRoZSBjb21waWxlIHJvb3QuIFRoaXMgaXNcclxuICAgICAgICogICAgICAgIG5lZWRlZCBzbyB0aGF0IHRoZSBqcUxpdGUgY29sbGVjdGlvbiBpdGVtcyBjYW4gYmUgcmVwbGFjZWQgd2l0aCB3aWRnZXRzLlxyXG4gICAgICAgKiBAcGFyYW0ge251bWJlcj19IG1heFByaW9yaXR5IE1heCBkaXJlY3RpdmUgcHJpb3JpdHkuXHJcbiAgICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gQSBjb21wb3NpdGUgbGlua2luZyBmdW5jdGlvbiBvZiBhbGwgb2YgdGhlIG1hdGNoZWQgZGlyZWN0aXZlcyBvciBudWxsLlxyXG4gICAgICAgKi9cclxuICAgICAgZnVuY3Rpb24gY29tcGlsZU5vZGVzKG5vZGVMaXN0LCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCwgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgcHJldmlvdXNDb21waWxlQ29udGV4dCkge1xyXG4gICAgICAgIHZhciBsaW5rRm5zID0gW10sXHJcblxyXG4gICAgICAgIC8vIGBub2RlTGlzdGAgY2FuIGJlIGVpdGhlciBhbiBlbGVtZW50J3MgYC5jaGlsZE5vZGVzYCAobGl2ZSBOb2RlTGlzdClcclxuICAgICAgICAvLyBvciBhIGpxTGl0ZS9qUXVlcnkgY29sbGVjdGlvbiBvciBhbiBhcnJheVxyXG4gICAgICAgIG5vdExpdmVMaXN0ID0gaXNBcnJheShub2RlTGlzdCkgfHwgbm9kZUxpc3QgaW5zdGFuY2VvZiBqcUxpdGUsXHJcbiAgICAgICAgICAgIGF0dHJzLFxyXG4gICAgICAgICAgICBkaXJlY3RpdmVzLFxyXG4gICAgICAgICAgICBub2RlTGlua0ZuLFxyXG4gICAgICAgICAgICBjaGlsZE5vZGVzLFxyXG4gICAgICAgICAgICBjaGlsZExpbmtGbixcclxuICAgICAgICAgICAgbGlua0ZuRm91bmQsXHJcbiAgICAgICAgICAgIG5vZGVMaW5rRm5Gb3VuZDtcclxuXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlTGlzdC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgYXR0cnMgPSBuZXcgQXR0cmlidXRlcygpO1xyXG5cclxuICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDExIG9ubHlcclxuICAgICAgICAgIC8vIFdvcmthcm91bmQgZm9yICMxMTc4MSBhbmQgIzE0OTI0XHJcbiAgICAgICAgICBpZiAobXNpZSA9PT0gMTEpIHtcclxuICAgICAgICAgICAgbWVyZ2VDb25zZWN1dGl2ZVRleHROb2Rlcyhub2RlTGlzdCwgaSwgbm90TGl2ZUxpc3QpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFdlIG11c3QgYWx3YXlzIHJlZmVyIHRvIGBub2RlTGlzdFtpXWAgaGVyZWFmdGVyLFxyXG4gICAgICAgICAgLy8gc2luY2UgdGhlIG5vZGVzIGNhbiBiZSByZXBsYWNlZCB1bmRlcm5lYXRoIHVzLlxyXG4gICAgICAgICAgZGlyZWN0aXZlcyA9IGNvbGxlY3REaXJlY3RpdmVzKG5vZGVMaXN0W2ldLCBbXSwgYXR0cnMsIGkgPT09IDAgPyBtYXhQcmlvcml0eSA6IHVuZGVmaW5lZCwgaWdub3JlRGlyZWN0aXZlKTtcclxuXHJcbiAgICAgICAgICBub2RlTGlua0ZuID0gZGlyZWN0aXZlcy5sZW5ndGggPyBhcHBseURpcmVjdGl2ZXNUb05vZGUoZGlyZWN0aXZlcywgbm9kZUxpc3RbaV0sIGF0dHJzLCB0cmFuc2NsdWRlRm4sICRyb290RWxlbWVudCwgbnVsbCwgW10sIFtdLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KSA6IG51bGw7XHJcblxyXG4gICAgICAgICAgaWYgKG5vZGVMaW5rRm4gJiYgbm9kZUxpbmtGbi5zY29wZSkge1xyXG4gICAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcyhhdHRycy4kJGVsZW1lbnQpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNoaWxkTGlua0ZuID0gbm9kZUxpbmtGbiAmJiBub2RlTGlua0ZuLnRlcm1pbmFsIHx8ICEoY2hpbGROb2RlcyA9IG5vZGVMaXN0W2ldLmNoaWxkTm9kZXMpIHx8ICFjaGlsZE5vZGVzLmxlbmd0aCA/IG51bGwgOiBjb21waWxlTm9kZXMoY2hpbGROb2Rlcywgbm9kZUxpbmtGbiA/IChub2RlTGlua0ZuLnRyYW5zY2x1ZGVPblRoaXNFbGVtZW50IHx8ICFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCkgJiYgbm9kZUxpbmtGbi50cmFuc2NsdWRlIDogdHJhbnNjbHVkZUZuKTtcclxuXHJcbiAgICAgICAgICBpZiAobm9kZUxpbmtGbiB8fCBjaGlsZExpbmtGbikge1xyXG4gICAgICAgICAgICBsaW5rRm5zLnB1c2goaSwgbm9kZUxpbmtGbiwgY2hpbGRMaW5rRm4pO1xyXG4gICAgICAgICAgICBsaW5rRm5Gb3VuZCA9IHRydWU7XHJcbiAgICAgICAgICAgIG5vZGVMaW5rRm5Gb3VuZCA9IG5vZGVMaW5rRm5Gb3VuZCB8fCBub2RlTGlua0ZuO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vdXNlIHRoZSBwcmV2aW91cyBjb250ZXh0IG9ubHkgZm9yIHRoZSBmaXJzdCBlbGVtZW50IGluIHRoZSB2aXJ0dWFsIGdyb3VwXHJcbiAgICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0ID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHJldHVybiBhIGxpbmtpbmcgZnVuY3Rpb24gaWYgd2UgaGF2ZSBmb3VuZCBhbnl0aGluZywgbnVsbCBvdGhlcndpc2VcclxuICAgICAgICByZXR1cm4gbGlua0ZuRm91bmQgPyBjb21wb3NpdGVMaW5rRm4gOiBudWxsO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBjb21wb3NpdGVMaW5rRm4oc2NvcGUsIG5vZGVMaXN0LCAkcm9vdEVsZW1lbnQsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgICB2YXIgbm9kZUxpbmtGbiwgY2hpbGRMaW5rRm4sIG5vZGUsIGNoaWxkU2NvcGUsIGksIGlpLCBpZHgsIGNoaWxkQm91bmRUcmFuc2NsdWRlRm47XHJcbiAgICAgICAgICB2YXIgc3RhYmxlTm9kZUxpc3Q7XHJcblxyXG4gICAgICAgICAgaWYgKG5vZGVMaW5rRm5Gb3VuZCkge1xyXG4gICAgICAgICAgICAvLyBjb3B5IG5vZGVMaXN0IHNvIHRoYXQgaWYgYSBub2RlTGlua0ZuIHJlbW92ZXMgb3IgYWRkcyBhbiBlbGVtZW50IGF0IHRoaXMgRE9NIGxldmVsIG91clxyXG4gICAgICAgICAgICAvLyBvZmZzZXRzIGRvbid0IGdldCBzY3Jld2VkIHVwXHJcbiAgICAgICAgICAgIHZhciBub2RlTGlzdExlbmd0aCA9IG5vZGVMaXN0Lmxlbmd0aDtcclxuICAgICAgICAgICAgc3RhYmxlTm9kZUxpc3QgPSBuZXcgQXJyYXkobm9kZUxpc3RMZW5ndGgpO1xyXG5cclxuICAgICAgICAgICAgLy8gY3JlYXRlIGEgc3BhcnNlIGFycmF5IGJ5IG9ubHkgY29weWluZyB0aGUgZWxlbWVudHMgd2hpY2ggaGF2ZSBhIGxpbmtGblxyXG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGlua0Zucy5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgICAgICAgICAgIGlkeCA9IGxpbmtGbnNbaV07XHJcbiAgICAgICAgICAgICAgc3RhYmxlTm9kZUxpc3RbaWR4XSA9IG5vZGVMaXN0W2lkeF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHN0YWJsZU5vZGVMaXN0ID0gbm9kZUxpc3Q7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBsaW5rRm5zLmxlbmd0aDsgaSA8IGlpOykge1xyXG4gICAgICAgICAgICBub2RlID0gc3RhYmxlTm9kZUxpc3RbbGlua0Zuc1tpKytdXTtcclxuICAgICAgICAgICAgbm9kZUxpbmtGbiA9IGxpbmtGbnNbaSsrXTtcclxuICAgICAgICAgICAgY2hpbGRMaW5rRm4gPSBsaW5rRm5zW2krK107XHJcblxyXG4gICAgICAgICAgICBpZiAobm9kZUxpbmtGbikge1xyXG4gICAgICAgICAgICAgIGlmIChub2RlTGlua0ZuLnNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gc2NvcGUuJG5ldygpO1xyXG4gICAgICAgICAgICAgICAgY29tcGlsZS4kJGFkZFNjb3BlSW5mbyhqcUxpdGUobm9kZSksIGNoaWxkU2NvcGUpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZFNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICBpZiAobm9kZUxpbmtGbi50cmFuc2NsdWRlT25UaGlzRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCBub2RlTGlua0ZuLnRyYW5zY2x1ZGUsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCFub2RlTGlua0ZuLnRlbXBsYXRlT25UaGlzRWxlbWVudCAmJiBwYXJlbnRCb3VuZFRyYW5zY2x1ZGVGbikge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoIXBhcmVudEJvdW5kVHJhbnNjbHVkZUZuICYmIHRyYW5zY2x1ZGVGbikge1xyXG4gICAgICAgICAgICAgICAgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGNyZWF0ZUJvdW5kVHJhbnNjbHVkZUZuKHNjb3BlLCB0cmFuc2NsdWRlRm4pO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gbnVsbDtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIG5vZGVMaW5rRm4oY2hpbGRMaW5rRm4sIGNoaWxkU2NvcGUsIG5vZGUsICRyb290RWxlbWVudCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGRMaW5rRm4pIHtcclxuICAgICAgICAgICAgICBjaGlsZExpbmtGbihzY29wZSwgbm9kZS5jaGlsZE5vZGVzLCB1bmRlZmluZWQsIHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gbWVyZ2VDb25zZWN1dGl2ZVRleHROb2Rlcyhub2RlTGlzdCwgaWR4LCBub3RMaXZlTGlzdCkge1xyXG4gICAgICAgIHZhciBub2RlID0gbm9kZUxpc3RbaWR4XTtcclxuICAgICAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xyXG4gICAgICAgIHZhciBzaWJsaW5nO1xyXG5cclxuICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX1RFWFQpIHtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICBzaWJsaW5nID0gcGFyZW50ID8gbm9kZS5uZXh0U2libGluZyA6IG5vZGVMaXN0W2lkeCArIDFdO1xyXG4gICAgICAgICAgaWYgKCFzaWJsaW5nIHx8IHNpYmxpbmcubm9kZVR5cGUgIT09IE5PREVfVFlQRV9URVhUKSB7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIG5vZGUubm9kZVZhbHVlID0gbm9kZS5ub2RlVmFsdWUgKyBzaWJsaW5nLm5vZGVWYWx1ZTtcclxuXHJcbiAgICAgICAgICBpZiAoc2libGluZy5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgIHNpYmxpbmcucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzaWJsaW5nKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChub3RMaXZlTGlzdCAmJiBzaWJsaW5nID09PSBub2RlTGlzdFtpZHggKyAxXSkge1xyXG4gICAgICAgICAgICBub2RlTGlzdC5zcGxpY2UoaWR4ICsgMSwgMSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjcmVhdGVCb3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgdHJhbnNjbHVkZUZuLCBwcmV2aW91c0JvdW5kVHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgZnVuY3Rpb24gYm91bmRUcmFuc2NsdWRlRm4odHJhbnNjbHVkZWRTY29wZSwgY2xvbmVGbiwgY29udHJvbGxlcnMsIGZ1dHVyZVBhcmVudEVsZW1lbnQsIGNvbnRhaW5pbmdTY29wZSkge1xyXG5cclxuICAgICAgICAgIGlmICghdHJhbnNjbHVkZWRTY29wZSkge1xyXG4gICAgICAgICAgICB0cmFuc2NsdWRlZFNjb3BlID0gc2NvcGUuJG5ldyhmYWxzZSwgY29udGFpbmluZ1Njb3BlKTtcclxuICAgICAgICAgICAgdHJhbnNjbHVkZWRTY29wZS4kJHRyYW5zY2x1ZGVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gdHJhbnNjbHVkZUZuKHRyYW5zY2x1ZGVkU2NvcGUsIGNsb25lRm4sIHtcclxuICAgICAgICAgICAgcGFyZW50Qm91bmRUcmFuc2NsdWRlRm46IHByZXZpb3VzQm91bmRUcmFuc2NsdWRlRm4sXHJcbiAgICAgICAgICAgIHRyYW5zY2x1ZGVDb250cm9sbGVyczogY29udHJvbGxlcnMsXHJcbiAgICAgICAgICAgIGZ1dHVyZVBhcmVudEVsZW1lbnQ6IGZ1dHVyZVBhcmVudEVsZW1lbnRcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gV2UgbmVlZCAgdG8gYXR0YWNoIHRoZSB0cmFuc2NsdXNpb24gc2xvdHMgb250byB0aGUgYGJvdW5kVHJhbnNjbHVkZUZuYFxyXG4gICAgICAgIC8vIHNvIHRoYXQgdGhleSBhcmUgYXZhaWxhYmxlIGluc2lkZSB0aGUgYGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlYCBmdW5jdGlvblxyXG4gICAgICAgIHZhciBib3VuZFNsb3RzID0gYm91bmRUcmFuc2NsdWRlRm4uJCRzbG90cyA9IGNyZWF0ZU1hcCgpO1xyXG4gICAgICAgIGZvciAodmFyIHNsb3ROYW1lIGluIHRyYW5zY2x1ZGVGbi4kJHNsb3RzKSB7XHJcbiAgICAgICAgICBpZiAodHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdKSB7XHJcbiAgICAgICAgICAgIGJvdW5kU2xvdHNbc2xvdE5hbWVdID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIHRyYW5zY2x1ZGVGbi4kJHNsb3RzW3Nsb3ROYW1lXSwgcHJldmlvdXNCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBib3VuZFNsb3RzW3Nsb3ROYW1lXSA9IG51bGw7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gYm91bmRUcmFuc2NsdWRlRm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBMb29rcyBmb3IgZGlyZWN0aXZlcyBvbiB0aGUgZ2l2ZW4gbm9kZSBhbmQgYWRkcyB0aGVtIHRvIHRoZSBkaXJlY3RpdmUgY29sbGVjdGlvbiB3aGljaCBpc1xyXG4gICAgICAgKiBzb3J0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gc2VhcmNoLlxyXG4gICAgICAgKiBAcGFyYW0gZGlyZWN0aXZlcyBBbiBhcnJheSB0byB3aGljaCB0aGUgZGlyZWN0aXZlcyBhcmUgYWRkZWQgdG8uIFRoaXMgYXJyYXkgaXMgc29ydGVkIGJlZm9yZVxyXG4gICAgICAgKiAgICAgICAgdGhlIGZ1bmN0aW9uIHJldHVybnMuXHJcbiAgICAgICAqIEBwYXJhbSBhdHRycyBUaGUgc2hhcmVkIGF0dHJzIG9iamVjdCB3aGljaCBpcyB1c2VkIHRvIHBvcHVsYXRlIHRoZSBub3JtYWxpemVkIGF0dHJpYnV0ZXMuXHJcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbWF4UHJpb3JpdHkgTWF4IGRpcmVjdGl2ZSBwcmlvcml0eS5cclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIGNvbGxlY3REaXJlY3RpdmVzKG5vZGUsIGRpcmVjdGl2ZXMsIGF0dHJzLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgdmFyIG5vZGVUeXBlID0gbm9kZS5ub2RlVHlwZSxcclxuICAgICAgICAgICAgYXR0cnNNYXAgPSBhdHRycy4kYXR0cixcclxuICAgICAgICAgICAgbWF0Y2gsXHJcbiAgICAgICAgICAgIG5vZGVOYW1lLFxyXG4gICAgICAgICAgICBjbGFzc05hbWU7XHJcblxyXG4gICAgICAgIHN3aXRjaCAobm9kZVR5cGUpIHtcclxuICAgICAgICAgIGNhc2UgTk9ERV9UWVBFX0VMRU1FTlQ6XHJcbiAgICAgICAgICAgIC8qIEVsZW1lbnQgKi9cclxuXHJcbiAgICAgICAgICAgIG5vZGVOYW1lID0gbm9kZU5hbWVfKG5vZGUpO1xyXG5cclxuICAgICAgICAgICAgLy8gdXNlIHRoZSBub2RlIG5hbWU6IDxkaXJlY3RpdmU+XHJcbiAgICAgICAgICAgIGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBkaXJlY3RpdmVOb3JtYWxpemUobm9kZU5hbWUpLCAnRScsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpO1xyXG5cclxuICAgICAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSBhdHRyaWJ1dGVzXHJcbiAgICAgICAgICAgIGZvciAodmFyIGF0dHIsIG5hbWUsIG5OYW1lLCBuZ0F0dHJOYW1lLCB2YWx1ZSwgaXNOZ0F0dHIsIG5BdHRycyA9IG5vZGUuYXR0cmlidXRlcywgaiA9IDAsIGpqID0gbkF0dHJzICYmIG5BdHRycy5sZW5ndGg7IGogPCBqajsgaisrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGF0dHJTdGFydE5hbWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICB2YXIgYXR0ckVuZE5hbWUgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgICAgYXR0ciA9IG5BdHRyc1tqXTtcclxuICAgICAgICAgICAgICBuYW1lID0gYXR0ci5uYW1lO1xyXG4gICAgICAgICAgICAgIHZhbHVlID0gYXR0ci52YWx1ZTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gc3VwcG9ydCBuZ0F0dHIgYXR0cmlidXRlIGJpbmRpbmdcclxuICAgICAgICAgICAgICBuZ0F0dHJOYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUpO1xyXG4gICAgICAgICAgICAgIGlzTmdBdHRyID0gTkdfQVRUUl9CSU5ESU5HLnRlc3QobmdBdHRyTmFtZSk7XHJcbiAgICAgICAgICAgICAgaWYgKGlzTmdBdHRyKSB7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5yZXBsYWNlKFBSRUZJWF9SRUdFWFAsICcnKS5zdWJzdHIoOCkucmVwbGFjZSgvXyguKS9nLCBmdW5jdGlvbiAobWF0Y2gsIGxldHRlcikge1xyXG4gICAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIHZhciBtdWx0aUVsZW1lbnRNYXRjaCA9IG5nQXR0ck5hbWUubWF0Y2goTVVMVElfRUxFTUVOVF9ESVJfUkUpO1xyXG4gICAgICAgICAgICAgIGlmIChtdWx0aUVsZW1lbnRNYXRjaCAmJiBkaXJlY3RpdmVJc011bHRpRWxlbWVudChtdWx0aUVsZW1lbnRNYXRjaFsxXSkpIHtcclxuICAgICAgICAgICAgICAgIGF0dHJTdGFydE5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgICAgICAgYXR0ckVuZE5hbWUgPSBuYW1lLnN1YnN0cigwLCBuYW1lLmxlbmd0aCAtIDUpICsgJ2VuZCc7XHJcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHIoMCwgbmFtZS5sZW5ndGggLSA2KTtcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUudG9Mb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgICAgYXR0cnNNYXBbbk5hbWVdID0gbmFtZTtcclxuICAgICAgICAgICAgICBpZiAoaXNOZ0F0dHIgfHwgIWF0dHJzLmhhc093blByb3BlcnR5KG5OYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgYXR0cnNbbk5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoZ2V0Qm9vbGVhbkF0dHJOYW1lKG5vZGUsIG5OYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICBhdHRyc1tuTmFtZV0gPSB0cnVlOyAvLyBwcmVzZW5jZSBtZWFucyB0cnVlXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGFkZEF0dHJJbnRlcnBvbGF0ZURpcmVjdGl2ZShub2RlLCBkaXJlY3RpdmVzLCB2YWx1ZSwgbk5hbWUsIGlzTmdBdHRyKTtcclxuICAgICAgICAgICAgICBhZGREaXJlY3RpdmUoZGlyZWN0aXZlcywgbk5hbWUsICdBJywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSwgYXR0clN0YXJ0TmFtZSwgYXR0ckVuZE5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSA9PT0gJ2hpZGRlbicpIHtcclxuICAgICAgICAgICAgICAvLyBIaWRkZW4gaW5wdXQgZWxlbWVudHMgY2FuIGhhdmUgc3RyYW5nZSBiZWhhdmlvdXIgd2hlbiBuYXZpZ2F0aW5nIGJhY2sgdG8gdGhlIHBhZ2VcclxuICAgICAgICAgICAgICAvLyBUaGlzIHRlbGxzIHRoZSBicm93c2VyIG5vdCB0byB0cnkgdG8gY2FjaGUgYW5kIHJlaW5zdGF0ZSBwcmV2aW91cyB2YWx1ZXNcclxuICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyB1c2UgY2xhc3MgYXMgZGlyZWN0aXZlXHJcbiAgICAgICAgICAgIGlmICghY3NzQ2xhc3NEaXJlY3RpdmVzRW5hYmxlZCkgYnJlYWs7XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZSA9IG5vZGUuY2xhc3NOYW1lO1xyXG4gICAgICAgICAgICBpZiAoaXNPYmplY3QoY2xhc3NOYW1lKSkge1xyXG4gICAgICAgICAgICAgIC8vIE1heWJlIFNWR0FuaW1hdGVkU3RyaW5nXHJcbiAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLmFuaW1WYWw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGNsYXNzTmFtZSkgJiYgY2xhc3NOYW1lICE9PSAnJykge1xyXG4gICAgICAgICAgICAgIHdoaWxlIChtYXRjaCA9IENMQVNTX0RJUkVDVElWRV9SRUdFWFAuZXhlYyhjbGFzc05hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBuTmFtZSA9IGRpcmVjdGl2ZU5vcm1hbGl6ZShtYXRjaFsyXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoYWRkRGlyZWN0aXZlKGRpcmVjdGl2ZXMsIG5OYW1lLCAnQycsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpKSB7XHJcbiAgICAgICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbM10pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gY2xhc3NOYW1lLnN1YnN0cihtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBOT0RFX1RZUEVfVEVYVDpcclxuICAgICAgICAgICAgLyogVGV4dCBOb2RlICovXHJcbiAgICAgICAgICAgIGFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZShkaXJlY3RpdmVzLCBub2RlLm5vZGVWYWx1ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgY2FzZSBOT0RFX1RZUEVfQ09NTUVOVDpcclxuICAgICAgICAgICAgLyogQ29tbWVudCAqL1xyXG4gICAgICAgICAgICBpZiAoIWNvbW1lbnREaXJlY3RpdmVzRW5hYmxlZCkgYnJlYWs7XHJcbiAgICAgICAgICAgIGNvbGxlY3RDb21tZW50RGlyZWN0aXZlcyhub2RlLCBkaXJlY3RpdmVzLCBhdHRycywgbWF4UHJpb3JpdHksIGlnbm9yZURpcmVjdGl2ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZGlyZWN0aXZlcy5zb3J0KGJ5UHJpb3JpdHkpO1xyXG4gICAgICAgIHJldHVybiBkaXJlY3RpdmVzO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjb2xsZWN0Q29tbWVudERpcmVjdGl2ZXMobm9kZSwgZGlyZWN0aXZlcywgYXR0cnMsIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUpIHtcclxuICAgICAgICAvLyBmdW5jdGlvbiBjcmVhdGVkIGJlY2F1c2Ugb2YgcGVyZm9ybWFuY2UsIHRyeS9jYXRjaCBkaXNhYmxlc1xyXG4gICAgICAgIC8vIHRoZSBvcHRpbWl6YXRpb24gb2YgdGhlIHdob2xlIGZ1bmN0aW9uICMxNDg0OFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICB2YXIgbWF0Y2ggPSBDT01NRU5UX0RJUkVDVElWRV9SRUdFWFAuZXhlYyhub2RlLm5vZGVWYWx1ZSk7XHJcbiAgICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgdmFyIG5OYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKG1hdGNoWzFdKTtcclxuICAgICAgICAgICAgaWYgKGFkZERpcmVjdGl2ZShkaXJlY3RpdmVzLCBuTmFtZSwgJ00nLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlKSkge1xyXG4gICAgICAgICAgICAgIGF0dHJzW25OYW1lXSA9IHRyaW0obWF0Y2hbMl0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgLy8gdHVybnMgb3V0IHRoYXQgdW5kZXIgc29tZSBjaXJjdW1zdGFuY2VzIElFOSB0aHJvd3MgZXJyb3JzIHdoZW4gb25lIGF0dGVtcHRzIHRvIHJlYWRcclxuICAgICAgICAgIC8vIGNvbW1lbnQncyBub2RlIHZhbHVlLlxyXG4gICAgICAgICAgLy8gSnVzdCBpZ25vcmUgaXQgYW5kIGNvbnRpbnVlLiAoQ2FuJ3Qgc2VlbSB0byByZXByb2R1Y2UgaW4gdGVzdCBjYXNlLilcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBHaXZlbiBhIG5vZGUgd2l0aCBhIGRpcmVjdGl2ZS1zdGFydCBpdCBjb2xsZWN0cyBhbGwgb2YgdGhlIHNpYmxpbmdzIHVudGlsIGl0IGZpbmRzXHJcbiAgICAgICAqIGRpcmVjdGl2ZS1lbmQuXHJcbiAgICAgICAqIEBwYXJhbSBub2RlXHJcbiAgICAgICAqIEBwYXJhbSBhdHRyU3RhcnRcclxuICAgICAgICogQHBhcmFtIGF0dHJFbmRcclxuICAgICAgICogQHJldHVybnMgeyp9XHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBncm91cFNjYW4obm9kZSwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XHJcbiAgICAgICAgdmFyIG5vZGVzID0gW107XHJcbiAgICAgICAgdmFyIGRlcHRoID0gMDtcclxuICAgICAgICBpZiAoYXR0clN0YXJ0ICYmIG5vZGUuaGFzQXR0cmlidXRlICYmIG5vZGUuaGFzQXR0cmlidXRlKGF0dHJTdGFydCkpIHtcclxuICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgaWYgKCFub2RlKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3V0ZXJkaXInLCAnVW50ZXJtaW5hdGVkIGF0dHJpYnV0ZSwgZm91bmQgXFwnezB9XFwnIGJ1dCBubyBtYXRjaGluZyBcXCd7MX1cXCcgZm91bmQuJywgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcclxuICAgICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0clN0YXJ0KSkgZGVwdGgrKztcclxuICAgICAgICAgICAgICBpZiAobm9kZS5oYXNBdHRyaWJ1dGUoYXR0ckVuZCkpIGRlcHRoLS07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbm9kZXMucHVzaChub2RlKTtcclxuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICB9IHdoaWxlIChkZXB0aCA+IDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBub2Rlcy5wdXNoKG5vZGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGpxTGl0ZShub2Rlcyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBXcmFwcGVyIGZvciBsaW5raW5nIGZ1bmN0aW9uIHdoaWNoIGNvbnZlcnRzIG5vcm1hbCBsaW5raW5nIGZ1bmN0aW9uIGludG8gYSBncm91cGVkXHJcbiAgICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uXHJcbiAgICAgICAqIEBwYXJhbSBsaW5rRm5cclxuICAgICAgICogQHBhcmFtIGF0dHJTdGFydFxyXG4gICAgICAgKiBAcGFyYW0gYXR0ckVuZFxyXG4gICAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259XHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBncm91cEVsZW1lbnRzTGlua0ZuV3JhcHBlcihsaW5rRm4sIGF0dHJTdGFydCwgYXR0ckVuZCkge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBncm91cGVkRWxlbWVudHNMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY29udHJvbGxlcnMsIHRyYW5zY2x1ZGVGbikge1xyXG4gICAgICAgICAgZWxlbWVudCA9IGdyb3VwU2NhbihlbGVtZW50WzBdLCBhdHRyU3RhcnQsIGF0dHJFbmQpO1xyXG4gICAgICAgICAgcmV0dXJuIGxpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBBIGZ1bmN0aW9uIGdlbmVyYXRvciB0aGF0IGlzIHVzZWQgdG8gc3VwcG9ydCBib3RoIGVhZ2VyIGFuZCBsYXp5IGNvbXBpbGF0aW9uXHJcbiAgICAgICAqIGxpbmtpbmcgZnVuY3Rpb24uXHJcbiAgICAgICAqIEBwYXJhbSBlYWdlclxyXG4gICAgICAgKiBAcGFyYW0gJGNvbXBpbGVOb2Rlc1xyXG4gICAgICAgKiBAcGFyYW0gdHJhbnNjbHVkZUZuXHJcbiAgICAgICAqIEBwYXJhbSBtYXhQcmlvcml0eVxyXG4gICAgICAgKiBAcGFyYW0gaWdub3JlRGlyZWN0aXZlXHJcbiAgICAgICAqIEBwYXJhbSBwcmV2aW91c0NvbXBpbGVDb250ZXh0XHJcbiAgICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn1cclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIGNvbXBpbGF0aW9uR2VuZXJhdG9yKGVhZ2VyLCAkY29tcGlsZU5vZGVzLCB0cmFuc2NsdWRlRm4sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgICB2YXIgY29tcGlsZWQ7XHJcblxyXG4gICAgICAgIGlmIChlYWdlcikge1xyXG4gICAgICAgICAgcmV0dXJuIGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuICgvKiogQHRoaXMgKi9mdW5jdGlvbiBsYXp5Q29tcGlsYXRpb24oKSB7XHJcbiAgICAgICAgICAgIGlmICghY29tcGlsZWQpIHtcclxuICAgICAgICAgICAgICBjb21waWxlZCA9IGNvbXBpbGUoJGNvbXBpbGVOb2RlcywgdHJhbnNjbHVkZUZuLCBtYXhQcmlvcml0eSwgaWdub3JlRGlyZWN0aXZlLCBwcmV2aW91c0NvbXBpbGVDb250ZXh0KTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gTnVsbCBvdXQgYWxsIG9mIHRoZXNlIHJlZmVyZW5jZXMgaW4gb3JkZXIgdG8gbWFrZSB0aGVtIGVsaWdpYmxlIGZvciBnYXJiYWdlIGNvbGxlY3Rpb25cclxuICAgICAgICAgICAgICAvLyBzaW5jZSB0aGlzIGlzIGEgcG90ZW50aWFsbHkgbG9uZyBsaXZlZCBjbG9zdXJlXHJcbiAgICAgICAgICAgICAgJGNvbXBpbGVOb2RlcyA9IHRyYW5zY2x1ZGVGbiA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb21waWxlZC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBPbmNlIHRoZSBkaXJlY3RpdmVzIGhhdmUgYmVlbiBjb2xsZWN0ZWQsIHRoZWlyIGNvbXBpbGUgZnVuY3Rpb25zIGFyZSBleGVjdXRlZC4gVGhpcyBtZXRob2RcclxuICAgICAgICogaXMgcmVzcG9uc2libGUgZm9yIGlubGluaW5nIGRpcmVjdGl2ZSB0ZW1wbGF0ZXMgYXMgd2VsbCBhcyB0ZXJtaW5hdGluZyB0aGUgYXBwbGljYXRpb25cclxuICAgICAgICogb2YgdGhlIGRpcmVjdGl2ZXMgaWYgdGhlIHRlcm1pbmFsIGRpcmVjdGl2ZSBoYXMgYmVlbiByZWFjaGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0FycmF5fSBkaXJlY3RpdmVzIEFycmF5IG9mIGNvbGxlY3RlZCBkaXJlY3RpdmVzIHRvIGV4ZWN1dGUgdGhlaXIgY29tcGlsZSBmdW5jdGlvbi5cclxuICAgICAgICogICAgICAgIHRoaXMgbmVlZHMgdG8gYmUgcHJlLXNvcnRlZCBieSBwcmlvcml0eSBvcmRlci5cclxuICAgICAgICogQHBhcmFtIHtOb2RlfSBjb21waWxlTm9kZSBUaGUgcmF3IERPTSBub2RlIHRvIGFwcGx5IHRoZSBjb21waWxlIGZ1bmN0aW9ucyB0b1xyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gdGVtcGxhdGVBdHRycyBUaGUgc2hhcmVkIGF0dHJpYnV0ZSBmdW5jdGlvblxyXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGFuZ3VsYXIuU2NvcGUsIGNsb25lQXR0YWNoRm49KX0gdHJhbnNjbHVkZUZuIEEgbGlua2luZyBmdW5jdGlvbiwgd2hlcmUgdGhlXHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY29wZSBhcmd1bWVudCBpcyBhdXRvLWdlbmVyYXRlZCB0byB0aGUgbmV3XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGlsZCBvZiB0aGUgdHJhbnNjbHVkZWQgcGFyZW50IHNjb3BlLlxyXG4gICAgICAgKiBAcGFyYW0ge0pRTGl0ZX0ganFDb2xsZWN0aW9uIElmIHdlIGFyZSB3b3JraW5nIG9uIHRoZSByb290IG9mIHRoZSBjb21waWxlIHRyZWUgdGhlbiB0aGlzXHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnQgaGFzIHRoZSByb290IGpxTGl0ZSBhcnJheSBzbyB0aGF0IHdlIGNhbiByZXBsYWNlIG5vZGVzXHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb24gaXQuXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlIEFuIG9wdGlvbmFsIGRpcmVjdGl2ZSB0aGF0IHdpbGwgYmUgaWdub3JlZCB3aGVuXHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBpbGluZyB0aGUgdHJhbnNjbHVzaW9uLlxyXG4gICAgICAgKiBAcGFyYW0ge0FycmF5LjxGdW5jdGlvbj59IHByZUxpbmtGbnNcclxuICAgICAgICogQHBhcmFtIHtBcnJheS48RnVuY3Rpb24+fSBwb3N0TGlua0Zuc1xyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gcHJldmlvdXNDb21waWxlQ29udGV4dCBDb250ZXh0IHVzZWQgZm9yIHByZXZpb3VzIGNvbXBpbGF0aW9uIG9mIHRoZSBjdXJyZW50XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVcclxuICAgICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBsaW5rRm5cclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIGFwcGx5RGlyZWN0aXZlc1RvTm9kZShkaXJlY3RpdmVzLCBjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywgdHJhbnNjbHVkZUZuLCBqcUNvbGxlY3Rpb24sIG9yaWdpbmFsUmVwbGFjZURpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgICBwcmV2aW91c0NvbXBpbGVDb250ZXh0ID0gcHJldmlvdXNDb21waWxlQ29udGV4dCB8fCB7fTtcclxuXHJcbiAgICAgICAgdmFyIHRlcm1pbmFsUHJpb3JpdHkgPSAtTnVtYmVyLk1BWF9WQUxVRSxcclxuICAgICAgICAgICAgbmV3U2NvcGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5ld1Njb3BlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBjb250cm9sbGVyRGlyZWN0aXZlcyA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQuY29udHJvbGxlckRpcmVjdGl2ZXMsXHJcbiAgICAgICAgICAgIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQubmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IHByZXZpb3VzQ29tcGlsZUNvbnRleHQudGVtcGxhdGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lm5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgIGhhc1RyYW5zY2x1ZGVEaXJlY3RpdmUgPSBmYWxzZSxcclxuICAgICAgICAgICAgaGFzVGVtcGxhdGUgPSBmYWxzZSxcclxuICAgICAgICAgICAgaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBwcmV2aW91c0NvbXBpbGVDb250ZXh0Lmhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICAkY29tcGlsZU5vZGUgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCA9IGpxTGl0ZShjb21waWxlTm9kZSksXHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZSxcclxuICAgICAgICAgICAgZGlyZWN0aXZlTmFtZSxcclxuICAgICAgICAgICAgJHRlbXBsYXRlLFxyXG4gICAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gb3JpZ2luYWxSZXBsYWNlRGlyZWN0aXZlLFxyXG4gICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IHRyYW5zY2x1ZGVGbixcclxuICAgICAgICAgICAgbGlua0ZuLFxyXG4gICAgICAgICAgICBkaWRTY2FuRm9yTXVsdGlwbGVUcmFuc2NsdXNpb24gPSBmYWxzZSxcclxuICAgICAgICAgICAgbWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciA9IGZhbHNlLFxyXG4gICAgICAgICAgICBkaXJlY3RpdmVWYWx1ZTtcclxuXHJcbiAgICAgICAgLy8gZXhlY3V0ZXMgYWxsIGRpcmVjdGl2ZXMgb24gdGhlIGN1cnJlbnQgZWxlbWVudFxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgZGlyZWN0aXZlID0gZGlyZWN0aXZlc1tpXTtcclxuICAgICAgICAgIHZhciBhdHRyU3RhcnQgPSBkaXJlY3RpdmUuJCRzdGFydDtcclxuICAgICAgICAgIHZhciBhdHRyRW5kID0gZGlyZWN0aXZlLiQkZW5kO1xyXG5cclxuICAgICAgICAgIC8vIGNvbGxlY3QgbXVsdGlibG9jayBzZWN0aW9uc1xyXG4gICAgICAgICAgaWYgKGF0dHJTdGFydCkge1xyXG4gICAgICAgICAgICAkY29tcGlsZU5vZGUgPSBncm91cFNjYW4oY29tcGlsZU5vZGUsIGF0dHJTdGFydCwgYXR0ckVuZCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICAkdGVtcGxhdGUgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgaWYgKHRlcm1pbmFsUHJpb3JpdHkgPiBkaXJlY3RpdmUucHJpb3JpdHkpIHtcclxuICAgICAgICAgICAgYnJlYWs7IC8vIHByZXZlbnQgZnVydGhlciBwcm9jZXNzaW5nIG9mIGRpcmVjdGl2ZXNcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBkaXJlY3RpdmVWYWx1ZSA9IGRpcmVjdGl2ZS5zY29wZTtcclxuXHJcbiAgICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIHNraXAgdGhlIGNoZWNrIGZvciBkaXJlY3RpdmVzIHdpdGggYXN5bmMgdGVtcGxhdGVzLCB3ZSdsbCBjaGVjayB0aGUgZGVyaXZlZCBzeW5jXHJcbiAgICAgICAgICAgIC8vIGRpcmVjdGl2ZSB3aGVuIHRoZSB0ZW1wbGF0ZSBhcnJpdmVzXHJcbiAgICAgICAgICAgIGlmICghZGlyZWN0aXZlLnRlbXBsYXRlVXJsKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGRpcmVjdGl2ZVZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBkaXJlY3RpdmUgaXMgdHJ5aW5nIHRvIGFkZCBhbiBpc29sYXRlZCBzY29wZS5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlcmUgaXMgbm8gc2NvcGUgb2YgYW55IGtpbmQgYWxyZWFkeVxyXG4gICAgICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ25ldy9pc29sYXRlZCBzY29wZScsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBuZXdTY29wZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgICAgICAgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyB0cnlpbmcgdG8gYWRkIGEgY2hpbGQgc2NvcGUuXHJcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZXJlIGlzIG5vIGlzb2xhdGVkIHNjb3BlIGFscmVhZHlcclxuICAgICAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCduZXcvaXNvbGF0ZWQgc2NvcGUnLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG5ld1Njb3BlRGlyZWN0aXZlID0gbmV3U2NvcGVEaXJlY3RpdmUgfHwgZGlyZWN0aXZlO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmUubmFtZTtcclxuXHJcbiAgICAgICAgICAvLyBJZiB3ZSBlbmNvdW50ZXIgYSBjb25kaXRpb24gdGhhdCBjYW4gcmVzdWx0IGluIHRyYW5zY2x1c2lvbiBvbiB0aGUgZGlyZWN0aXZlLFxyXG4gICAgICAgICAgLy8gdGhlbiBzY2FuIGFoZWFkIGluIHRoZSByZW1haW5pbmcgZGlyZWN0aXZlcyBmb3Igb3RoZXJzIHRoYXQgbWF5IGNhdXNlIGEgbXVsdGlwbGVcclxuICAgICAgICAgIC8vIHRyYW5zY2x1c2lvbiBlcnJvciB0byBiZSB0aHJvd24gZHVyaW5nIHRoZSBjb21waWxhdGlvbiBwcm9jZXNzLiAgSWYgYSBtYXRjaGluZyBkaXJlY3RpdmVcclxuICAgICAgICAgIC8vIGlzIGZvdW5kLCB0aGVuIHdlIGtub3cgdGhhdCB3aGVuIHdlIGVuY291bnRlciBhIHRyYW5zY2x1ZGVkIGRpcmVjdGl2ZSwgd2UgbmVlZCB0byBlYWdlcmx5XHJcbiAgICAgICAgICAvLyBjb21waWxlIHRoZSBgdHJhbnNjbHVkZWAgZnVuY3Rpb24gcmF0aGVyIHRoYW4gZG9pbmcgaXQgbGF6aWx5IGluIG9yZGVyIHRvIHRocm93XHJcbiAgICAgICAgICAvLyBleGNlcHRpb25zIGF0IHRoZSBjb3JyZWN0IHRpbWVcclxuICAgICAgICAgIGlmICghZGlkU2NhbkZvck11bHRpcGxlVHJhbnNjbHVzaW9uICYmIChkaXJlY3RpdmUucmVwbGFjZSAmJiAoZGlyZWN0aXZlLnRlbXBsYXRlVXJsIHx8IGRpcmVjdGl2ZS50ZW1wbGF0ZSkgfHwgZGlyZWN0aXZlLnRyYW5zY2x1ZGUgJiYgIWRpcmVjdGl2ZS4kJHRsYikpIHtcclxuICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZURpcmVjdGl2ZTtcclxuXHJcbiAgICAgICAgICAgIGZvciAodmFyIHNjYW5uaW5nSW5kZXggPSBpICsgMTsgY2FuZGlkYXRlRGlyZWN0aXZlID0gZGlyZWN0aXZlc1tzY2FubmluZ0luZGV4KytdOykge1xyXG4gICAgICAgICAgICAgIGlmIChjYW5kaWRhdGVEaXJlY3RpdmUudHJhbnNjbHVkZSAmJiAhY2FuZGlkYXRlRGlyZWN0aXZlLiQkdGxiIHx8IGNhbmRpZGF0ZURpcmVjdGl2ZS5yZXBsYWNlICYmIChjYW5kaWRhdGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgfHwgY2FuZGlkYXRlRGlyZWN0aXZlLnRlbXBsYXRlKSkge1xyXG4gICAgICAgICAgICAgICAgbWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGRpZFNjYW5Gb3JNdWx0aXBsZVRyYW5zY2x1c2lvbiA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCFkaXJlY3RpdmUudGVtcGxhdGVVcmwgJiYgZGlyZWN0aXZlLmNvbnRyb2xsZXIpIHtcclxuICAgICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXMgPSBjb250cm9sbGVyRGlyZWN0aXZlcyB8fCBjcmVhdGVNYXAoKTtcclxuICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ1xcJycgKyBkaXJlY3RpdmVOYW1lICsgJ1xcJyBjb250cm9sbGVyJywgY29udHJvbGxlckRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0sIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgICAgY29udHJvbGxlckRpcmVjdGl2ZXNbZGlyZWN0aXZlTmFtZV0gPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBkaXJlY3RpdmUudHJhbnNjbHVkZTtcclxuXHJcbiAgICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUpIHtcclxuICAgICAgICAgICAgaGFzVHJhbnNjbHVkZURpcmVjdGl2ZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UgbmdJZiBhbmQgbmdSZXBlYXQgc28gdGhhdCB3ZSBkb24ndCBjb21wbGFpbiBhYm91dCBkdXBsaWNhdGUgdHJhbnNjbHVzaW9uLlxyXG4gICAgICAgICAgICAvLyBUaGlzIG9wdGlvbiBzaG91bGQgb25seSBiZSB1c2VkIGJ5IGRpcmVjdGl2ZXMgdGhhdCBrbm93IGhvdyB0byBzYWZlbHkgaGFuZGxlIGVsZW1lbnQgdHJhbnNjbHVzaW9uLFxyXG4gICAgICAgICAgICAvLyB3aGVyZSB0aGUgdHJhbnNjbHVkZWQgbm9kZXMgYXJlIGFkZGVkIG9yIHJlcGxhY2VkIGFmdGVyIGxpbmtpbmcuXHJcbiAgICAgICAgICAgIGlmICghZGlyZWN0aXZlLiQkdGxiKSB7XHJcbiAgICAgICAgICAgICAgYXNzZXJ0Tm9EdXBsaWNhdGUoJ3RyYW5zY2x1c2lvbicsIG5vblRsYlRyYW5zY2x1ZGVEaXJlY3RpdmUsIGRpcmVjdGl2ZSwgJGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlVmFsdWUgPT09ICdlbGVtZW50Jykge1xyXG4gICAgICAgICAgICAgIGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICB0ZXJtaW5hbFByaW9yaXR5ID0gZGlyZWN0aXZlLnByaW9yaXR5O1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9ICRjb21waWxlTm9kZTtcclxuICAgICAgICAgICAgICAkY29tcGlsZU5vZGUgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudCA9IGpxTGl0ZShjb21waWxlLiQkY3JlYXRlQ29tbWVudChkaXJlY3RpdmVOYW1lLCB0ZW1wbGF0ZUF0dHJzW2RpcmVjdGl2ZU5hbWVdKSk7XHJcbiAgICAgICAgICAgICAgY29tcGlsZU5vZGUgPSAkY29tcGlsZU5vZGVbMF07XHJcbiAgICAgICAgICAgICAgcmVwbGFjZVdpdGgoanFDb2xsZWN0aW9uLCBzbGljZUFyZ3MoJHRlbXBsYXRlKSwgY29tcGlsZU5vZGUpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBTdXBwb3J0OiBDaHJvbWUgPCA1MFxyXG4gICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE0MDQxXHJcblxyXG4gICAgICAgICAgICAgIC8vIEluIHRoZSB2ZXJzaW9ucyBvZiBWOCBwcmlvciB0byBDaHJvbWUgNTAsIHRoZSBkb2N1bWVudCBmcmFnbWVudCB0aGF0IGlzIGNyZWF0ZWRcclxuICAgICAgICAgICAgICAvLyBpbiB0aGUgYHJlcGxhY2VXaXRoYCBmdW5jdGlvbiBpcyBpbXByb3Blcmx5IGdhcmJhZ2UgY29sbGVjdGVkIGRlc3BpdGUgc3RpbGxcclxuICAgICAgICAgICAgICAvLyBiZWluZyByZWZlcmVuY2VkIGJ5IHRoZSBgcGFyZW50Tm9kZWAgcHJvcGVydHkgb2YgYWxsIG9mIHRoZSBjaGlsZCBub2Rlcy4gIEJ5IGFkZGluZ1xyXG4gICAgICAgICAgICAgIC8vIGEgcmVmZXJlbmNlIHRvIHRoZSBmcmFnbWVudCB2aWEgYSBkaWZmZXJlbnQgcHJvcGVydHksIHdlIGNhbiBhdm9pZCB0aGF0IGluY29ycmVjdFxyXG4gICAgICAgICAgICAgIC8vIGJlaGF2aW9yLlxyXG4gICAgICAgICAgICAgIC8vIFRPRE86IHJlbW92ZSB0aGlzIGxpbmUgYWZ0ZXIgQ2hyb21lIDUwIGhhcyBiZWVuIHJlbGVhc2VkXHJcbiAgICAgICAgICAgICAgJHRlbXBsYXRlWzBdLiQkcGFyZW50Tm9kZSA9ICR0ZW1wbGF0ZVswXS5wYXJlbnROb2RlO1xyXG5cclxuICAgICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsICR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB0ZXJtaW5hbFByaW9yaXR5LCByZXBsYWNlRGlyZWN0aXZlICYmIHJlcGxhY2VEaXJlY3RpdmUubmFtZSwge1xyXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgcGFzcyBpbjpcclxuICAgICAgICAgICAgICAgIC8vIC0gY29udHJvbGxlckRpcmVjdGl2ZXMgLSBvdGhlcndpc2Ugd2UnbGwgY3JlYXRlIGR1cGxpY2F0ZXMgY29udHJvbGxlcnNcclxuICAgICAgICAgICAgICAgIC8vIC0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIG9yIHRlbXBsYXRlRGlyZWN0aXZlIC0gY29tYmluaW5nIHRlbXBsYXRlcyB3aXRoXHJcbiAgICAgICAgICAgICAgICAvLyAgIGVsZW1lbnQgdHJhbnNjbHVzaW9uIGRvZXNuJ3QgbWFrZSBzZW5zZS5cclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIG9ubHkgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZSBzbyB0aGF0IHdlIHByZXZlbnQgcHV0dGluZyB0cmFuc2NsdXNpb25cclxuICAgICAgICAgICAgICAgIC8vIG9uIHRoZSBzYW1lIGVsZW1lbnQgbW9yZSB0aGFuIG9uY2UuXHJcbiAgICAgICAgICAgICAgICBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlOiBub25UbGJUcmFuc2NsdWRlRGlyZWN0aXZlXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIHZhciBzbG90cyA9IGNyZWF0ZU1hcCgpO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KGRpcmVjdGl2ZVZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgJHRlbXBsYXRlID0ganFMaXRlKGpxTGl0ZUNsb25lKGNvbXBpbGVOb2RlKSkuY29udGVudHMoKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgdHJhbnNjbHVzaW9uIHNsb3RzLFxyXG4gICAgICAgICAgICAgICAgLy8gY29sbGVjdCB0aGVtIHVwLCBjb21waWxlIHRoZW0gYW5kIHN0b3JlIHRoZWlyIHRyYW5zY2x1c2lvbiBmdW5jdGlvbnNcclxuICAgICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgICAgIHZhciBzbG90TWFwID0gY3JlYXRlTWFwKCk7XHJcbiAgICAgICAgICAgICAgICB2YXIgZmlsbGVkU2xvdHMgPSBjcmVhdGVNYXAoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBQYXJzZSB0aGUgZWxlbWVudCBzZWxlY3RvcnNcclxuICAgICAgICAgICAgICAgIGZvckVhY2goZGlyZWN0aXZlVmFsdWUsIGZ1bmN0aW9uIChlbGVtZW50U2VsZWN0b3IsIHNsb3ROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIGFuIGVsZW1lbnQgc2VsZWN0b3Igc3RhcnRzIHdpdGggYSA/IHRoZW4gaXQgaXMgb3B0aW9uYWxcclxuICAgICAgICAgICAgICAgICAgdmFyIG9wdGlvbmFsID0gZWxlbWVudFNlbGVjdG9yLmNoYXJBdCgwKSA9PT0gJz8nO1xyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50U2VsZWN0b3IgPSBvcHRpb25hbCA/IGVsZW1lbnRTZWxlY3Rvci5zdWJzdHJpbmcoMSkgOiBlbGVtZW50U2VsZWN0b3I7XHJcblxyXG4gICAgICAgICAgICAgICAgICBzbG90TWFwW2VsZW1lbnRTZWxlY3Rvcl0gPSBzbG90TmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIC8vIFdlIGV4cGxpY2l0bHkgYXNzaWduIGBudWxsYCBzaW5jZSB0aGlzIGltcGxpZXMgdGhhdCBhIHNsb3Qgd2FzIGRlZmluZWQgYnV0IG5vdCBmaWxsZWQuXHJcbiAgICAgICAgICAgICAgICAgIC8vIExhdGVyIHdoZW4gY2FsbGluZyBib3VuZFRyYW5zY2x1c2lvbiBmdW5jdGlvbnMgd2l0aCBhIHNsb3QgbmFtZSB3ZSBvbmx5IGVycm9yIGlmIHRoZVxyXG4gICAgICAgICAgICAgICAgICAvLyBzbG90IGlzIGB1bmRlZmluZWRgXHJcbiAgICAgICAgICAgICAgICAgIHNsb3RzW3Nsb3ROYW1lXSA9IG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAvLyBmaWxsZWRTbG90cyBjb250YWlucyBgdHJ1ZWAgZm9yIGFsbCBzbG90cyB0aGF0IGFyZSBlaXRoZXIgb3B0aW9uYWwgb3IgaGF2ZSBiZWVuXHJcbiAgICAgICAgICAgICAgICAgIC8vIGZpbGxlZC4gVGhpcyBpcyB1c2VkIHRvIGNoZWNrIHRoYXQgd2UgaGF2ZSBub3QgbWlzc2VkIGFueSByZXF1aXJlZCBzbG90c1xyXG4gICAgICAgICAgICAgICAgICBmaWxsZWRTbG90c1tzbG90TmFtZV0gPSBvcHRpb25hbDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgbWF0Y2hpbmcgZWxlbWVudHMgaW50byB0aGVpciBzbG90XHJcbiAgICAgICAgICAgICAgICBmb3JFYWNoKCRjb21waWxlTm9kZS5jb250ZW50cygpLCBmdW5jdGlvbiAobm9kZSkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgc2xvdE5hbWUgPSBzbG90TWFwW2RpcmVjdGl2ZU5vcm1hbGl6ZShub2RlTmFtZV8obm9kZSkpXTtcclxuICAgICAgICAgICAgICAgICAgaWYgKHNsb3ROYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZmlsbGVkU2xvdHNbc2xvdE5hbWVdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBzbG90c1tzbG90TmFtZV0gPSBzbG90c1tzbG90TmFtZV0gfHwgW107XHJcbiAgICAgICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHRlbXBsYXRlLnB1c2gobm9kZSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIENoZWNrIGZvciByZXF1aXJlZCBzbG90cyB0aGF0IHdlcmUgbm90IGZpbGxlZFxyXG4gICAgICAgICAgICAgICAgZm9yRWFjaChmaWxsZWRTbG90cywgZnVuY3Rpb24gKGZpbGxlZCwgc2xvdE5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKCFmaWxsZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycigncmVxc2xvdCcsICdSZXF1aXJlZCB0cmFuc2NsdXNpb24gc2xvdCBgezB9YCB3YXMgbm90IGZpbGxlZC4nLCBzbG90TmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGZvciAodmFyIHNsb3ROYW1lIGluIHNsb3RzKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChzbG90c1tzbG90TmFtZV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBPbmx5IGRlZmluZSBhIHRyYW5zY2x1c2lvbiBmdW5jdGlvbiBpZiB0aGUgc2xvdCB3YXMgZmlsbGVkXHJcbiAgICAgICAgICAgICAgICAgICAgc2xvdHNbc2xvdE5hbWVdID0gY29tcGlsYXRpb25HZW5lcmF0b3IobWlnaHRIYXZlTXVsdGlwbGVUcmFuc2NsdXNpb25FcnJvciwgc2xvdHNbc2xvdE5hbWVdLCB0cmFuc2NsdWRlRm4pO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAkY29tcGlsZU5vZGUuZW1wdHkoKTsgLy8gY2xlYXIgY29udGVudHNcclxuICAgICAgICAgICAgICBjaGlsZFRyYW5zY2x1ZGVGbiA9IGNvbXBpbGF0aW9uR2VuZXJhdG9yKG1pZ2h0SGF2ZU11bHRpcGxlVHJhbnNjbHVzaW9uRXJyb3IsICR0ZW1wbGF0ZSwgdHJhbnNjbHVkZUZuLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgeyBuZWVkc05ld1Njb3BlOiBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUgfHwgZGlyZWN0aXZlLiQkbmV3U2NvcGUgfSk7XHJcbiAgICAgICAgICAgICAgY2hpbGRUcmFuc2NsdWRlRm4uJCRzbG90cyA9IHNsb3RzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGRpcmVjdGl2ZS50ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICBoYXNUZW1wbGF0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGFzc2VydE5vRHVwbGljYXRlKCd0ZW1wbGF0ZScsIHRlbXBsYXRlRGlyZWN0aXZlLCBkaXJlY3RpdmUsICRjb21waWxlTm9kZSk7XHJcbiAgICAgICAgICAgIHRlbXBsYXRlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG5cclxuICAgICAgICAgICAgZGlyZWN0aXZlVmFsdWUgPSBpc0Z1bmN0aW9uKGRpcmVjdGl2ZS50ZW1wbGF0ZSkgPyBkaXJlY3RpdmUudGVtcGxhdGUoJGNvbXBpbGVOb2RlLCB0ZW1wbGF0ZUF0dHJzKSA6IGRpcmVjdGl2ZS50ZW1wbGF0ZTtcclxuXHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZVZhbHVlID0gZGVub3JtYWxpemVUZW1wbGF0ZShkaXJlY3RpdmVWYWx1ZSk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlLnJlcGxhY2UpIHtcclxuICAgICAgICAgICAgICByZXBsYWNlRGlyZWN0aXZlID0gZGlyZWN0aXZlO1xyXG4gICAgICAgICAgICAgIGlmIChqcUxpdGVJc1RleHROb2RlKGRpcmVjdGl2ZVZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgJHRlbXBsYXRlID0gW107XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IHJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZShkaXJlY3RpdmUudGVtcGxhdGVOYW1lc3BhY2UsIHRyaW0oZGlyZWN0aXZlVmFsdWUpKSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoJHRlbXBsYXRlLmxlbmd0aCAhPT0gMSB8fCBjb21waWxlTm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX0VMRU1FTlQpIHtcclxuICAgICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCd0cGxydCcsICdUZW1wbGF0ZSBmb3IgZGlyZWN0aXZlIFxcJ3swfVxcJyBtdXN0IGhhdmUgZXhhY3RseSBvbmUgcm9vdCBlbGVtZW50LiB7MX0nLCBkaXJlY3RpdmVOYW1lLCAnJyk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICByZXBsYWNlV2l0aChqcUNvbGxlY3Rpb24sICRjb21waWxlTm9kZSwgY29tcGlsZU5vZGUpO1xyXG5cclxuICAgICAgICAgICAgICB2YXIgbmV3VGVtcGxhdGVBdHRycyA9IHsgJGF0dHI6IHt9IH07XHJcblxyXG4gICAgICAgICAgICAgIC8vIGNvbWJpbmUgZGlyZWN0aXZlcyBmcm9tIHRoZSBvcmlnaW5hbCBub2RlIGFuZCBmcm9tIHRoZSB0ZW1wbGF0ZTpcclxuICAgICAgICAgICAgICAvLyAtIHRha2UgdGhlIGFycmF5IG9mIGRpcmVjdGl2ZXMgZm9yIHRoaXMgZWxlbWVudFxyXG4gICAgICAgICAgICAgIC8vIC0gc3BsaXQgaXQgaW50byB0d28gcGFydHMsIHRob3NlIHRoYXQgYWxyZWFkeSBhcHBsaWVkIChwcm9jZXNzZWQpIGFuZCB0aG9zZSB0aGF0IHdlcmVuJ3QgKHVucHJvY2Vzc2VkKVxyXG4gICAgICAgICAgICAgIC8vIC0gY29sbGVjdCBkaXJlY3RpdmVzIGZyb20gdGhlIHRlbXBsYXRlIGFuZCBzb3J0IHRoZW0gYnkgcHJpb3JpdHlcclxuICAgICAgICAgICAgICAvLyAtIGNvbWJpbmUgZGlyZWN0aXZlcyBhczogcHJvY2Vzc2VkICsgdGVtcGxhdGUgKyB1bnByb2Nlc3NlZFxyXG4gICAgICAgICAgICAgIHZhciB0ZW1wbGF0ZURpcmVjdGl2ZXMgPSBjb2xsZWN0RGlyZWN0aXZlcyhjb21waWxlTm9kZSwgW10sIG5ld1RlbXBsYXRlQXR0cnMpO1xyXG4gICAgICAgICAgICAgIHZhciB1bnByb2Nlc3NlZERpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLnNwbGljZShpICsgMSwgZGlyZWN0aXZlcy5sZW5ndGggLSAoaSArIDEpKTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSB8fCBuZXdTY29wZURpcmVjdGl2ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gVGhlIG9yaWdpbmFsIGRpcmVjdGl2ZSBjYXVzZWQgdGhlIGN1cnJlbnQgZWxlbWVudCB0byBiZSByZXBsYWNlZCBidXQgdGhpcyBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAvLyBhbHNvIG5lZWRzIHRvIGhhdmUgYSBuZXcgc2NvcGUsIHNvIHdlIG5lZWQgdG8gdGVsbCB0aGUgdGVtcGxhdGUgZGlyZWN0aXZlc1xyXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB0aGV5IHdvdWxkIG5lZWQgdG8gZ2V0IHRoZWlyIHNjb3BlIGZyb20gZnVydGhlciB1cCwgaWYgdGhleSByZXF1aXJlIHRyYW5zY2x1c2lvblxyXG4gICAgICAgICAgICAgICAgbWFya0RpcmVjdGl2ZVNjb3BlKHRlbXBsYXRlRGlyZWN0aXZlcywgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlLCBuZXdTY29wZURpcmVjdGl2ZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGRpcmVjdGl2ZXMgPSBkaXJlY3RpdmVzLmNvbmNhdCh0ZW1wbGF0ZURpcmVjdGl2ZXMpLmNvbmNhdCh1bnByb2Nlc3NlZERpcmVjdGl2ZXMpO1xyXG4gICAgICAgICAgICAgIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRlbXBsYXRlQXR0cnMsIG5ld1RlbXBsYXRlQXR0cnMpO1xyXG5cclxuICAgICAgICAgICAgICBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICRjb21waWxlTm9kZS5odG1sKGRpcmVjdGl2ZVZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChkaXJlY3RpdmUudGVtcGxhdGVVcmwpIHtcclxuICAgICAgICAgICAgaGFzVGVtcGxhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICBhc3NlcnROb0R1cGxpY2F0ZSgndGVtcGxhdGUnLCB0ZW1wbGF0ZURpcmVjdGl2ZSwgZGlyZWN0aXZlLCAkY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZSA9IGRpcmVjdGl2ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkaXJlY3RpdmUucmVwbGFjZSkge1xyXG4gICAgICAgICAgICAgIHJlcGxhY2VEaXJlY3RpdmUgPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1mdW5jLWFzc2lnblxyXG4gICAgICAgICAgICBub2RlTGlua0ZuID0gY29tcGlsZVRlbXBsYXRlVXJsKGRpcmVjdGl2ZXMuc3BsaWNlKGksIGRpcmVjdGl2ZXMubGVuZ3RoIC0gaSksICRjb21waWxlTm9kZSwgdGVtcGxhdGVBdHRycywganFDb2xsZWN0aW9uLCBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlICYmIGNoaWxkVHJhbnNjbHVkZUZuLCBwcmVMaW5rRm5zLCBwb3N0TGlua0Zucywge1xyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJEaXJlY3RpdmVzOiBjb250cm9sbGVyRGlyZWN0aXZlcyxcclxuICAgICAgICAgICAgICBuZXdTY29wZURpcmVjdGl2ZTogbmV3U2NvcGVEaXJlY3RpdmUgIT09IGRpcmVjdGl2ZSAmJiBuZXdTY29wZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgICBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmU6IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSxcclxuICAgICAgICAgICAgICB0ZW1wbGF0ZURpcmVjdGl2ZTogdGVtcGxhdGVEaXJlY3RpdmUsXHJcbiAgICAgICAgICAgICAgbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZTogbm9uVGxiVHJhbnNjbHVkZURpcmVjdGl2ZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWkgPSBkaXJlY3RpdmVzLmxlbmd0aDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aXZlLmNvbXBpbGUpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBsaW5rRm4gPSBkaXJlY3RpdmUuY29tcGlsZSgkY29tcGlsZU5vZGUsIHRlbXBsYXRlQXR0cnMsIGNoaWxkVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgICAgICB2YXIgY29udGV4dCA9IGRpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlIHx8IGRpcmVjdGl2ZTtcclxuICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihsaW5rRm4pKSB7XHJcbiAgICAgICAgICAgICAgICBhZGRMaW5rRm5zKG51bGwsIGJpbmQoY29udGV4dCwgbGlua0ZuKSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGxpbmtGbikge1xyXG4gICAgICAgICAgICAgICAgYWRkTGlua0ZucyhiaW5kKGNvbnRleHQsIGxpbmtGbi5wcmUpLCBiaW5kKGNvbnRleHQsIGxpbmtGbi5wb3N0KSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlLCBzdGFydGluZ1RhZygkY29tcGlsZU5vZGUpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChkaXJlY3RpdmUudGVybWluYWwpIHtcclxuICAgICAgICAgICAgbm9kZUxpbmtGbi50ZXJtaW5hbCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRlcm1pbmFsUHJpb3JpdHkgPSBNYXRoLm1heCh0ZXJtaW5hbFByaW9yaXR5LCBkaXJlY3RpdmUucHJpb3JpdHkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbm9kZUxpbmtGbi5zY29wZSA9IG5ld1Njb3BlRGlyZWN0aXZlICYmIG5ld1Njb3BlRGlyZWN0aXZlLnNjb3BlID09PSB0cnVlO1xyXG4gICAgICAgIG5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQgPSBoYXNUcmFuc2NsdWRlRGlyZWN0aXZlO1xyXG4gICAgICAgIG5vZGVMaW5rRm4udGVtcGxhdGVPblRoaXNFbGVtZW50ID0gaGFzVGVtcGxhdGU7XHJcbiAgICAgICAgbm9kZUxpbmtGbi50cmFuc2NsdWRlID0gY2hpbGRUcmFuc2NsdWRlRm47XHJcblxyXG4gICAgICAgIHByZXZpb3VzQ29tcGlsZUNvbnRleHQuaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUgPSBoYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZTtcclxuXHJcbiAgICAgICAgLy8gbWlnaHQgYmUgbm9ybWFsIG9yIGRlbGF5ZWQgbm9kZUxpbmtGbiBkZXBlbmRpbmcgb24gaWYgdGVtcGxhdGVVcmwgaXMgcHJlc2VudFxyXG4gICAgICAgIHJldHVybiBub2RlTGlua0ZuO1xyXG5cclxuICAgICAgICAvLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuICAgICAgICBmdW5jdGlvbiBhZGRMaW5rRm5zKHByZSwgcG9zdCwgYXR0clN0YXJ0LCBhdHRyRW5kKSB7XHJcbiAgICAgICAgICBpZiAocHJlKSB7XHJcbiAgICAgICAgICAgIGlmIChhdHRyU3RhcnQpIHByZSA9IGdyb3VwRWxlbWVudHNMaW5rRm5XcmFwcGVyKHByZSwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgICAgcHJlLnJlcXVpcmUgPSBkaXJlY3RpdmUucmVxdWlyZTtcclxuICAgICAgICAgICAgcHJlLmRpcmVjdGl2ZU5hbWUgPSBkaXJlY3RpdmVOYW1lO1xyXG4gICAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlID09PSBkaXJlY3RpdmUgfHwgZGlyZWN0aXZlLiQkaXNvbGF0ZVNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgcHJlID0gY2xvbmVBbmRBbm5vdGF0ZUZuKHByZSwgeyBpc29sYXRlU2NvcGU6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcHJlTGlua0Zucy5wdXNoKHByZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBpZiAocG9zdCkge1xyXG4gICAgICAgICAgICBpZiAoYXR0clN0YXJ0KSBwb3N0ID0gZ3JvdXBFbGVtZW50c0xpbmtGbldyYXBwZXIocG9zdCwgYXR0clN0YXJ0LCBhdHRyRW5kKTtcclxuICAgICAgICAgICAgcG9zdC5yZXF1aXJlID0gZGlyZWN0aXZlLnJlcXVpcmU7XHJcbiAgICAgICAgICAgIHBvc3QuZGlyZWN0aXZlTmFtZSA9IGRpcmVjdGl2ZU5hbWU7XHJcbiAgICAgICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgPT09IGRpcmVjdGl2ZSB8fCBkaXJlY3RpdmUuJCRpc29sYXRlU2NvcGUpIHtcclxuICAgICAgICAgICAgICBwb3N0ID0gY2xvbmVBbmRBbm5vdGF0ZUZuKHBvc3QsIHsgaXNvbGF0ZVNjb3BlOiB0cnVlIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHBvc3RMaW5rRm5zLnB1c2gocG9zdCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBub2RlTGlua0ZuKGNoaWxkTGlua0ZuLCBzY29wZSwgbGlua05vZGUsICRyb290RWxlbWVudCwgYm91bmRUcmFuc2NsdWRlRm4pIHtcclxuICAgICAgICAgIHZhciBpLCBpaSwgbGlua0ZuLCBpc29sYXRlU2NvcGUsIGNvbnRyb2xsZXJTY29wZSwgZWxlbWVudENvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4sICRlbGVtZW50LCBhdHRycywgc2NvcGVCaW5kaW5nSW5mbztcclxuXHJcbiAgICAgICAgICBpZiAoY29tcGlsZU5vZGUgPT09IGxpbmtOb2RlKSB7XHJcbiAgICAgICAgICAgIGF0dHJzID0gdGVtcGxhdGVBdHRycztcclxuICAgICAgICAgICAgJGVsZW1lbnQgPSB0ZW1wbGF0ZUF0dHJzLiQkZWxlbWVudDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRlbGVtZW50ID0ganFMaXRlKGxpbmtOb2RlKTtcclxuICAgICAgICAgICAgYXR0cnMgPSBuZXcgQXR0cmlidXRlcygkZWxlbWVudCwgdGVtcGxhdGVBdHRycyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29udHJvbGxlclNjb3BlID0gc2NvcGU7XHJcbiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGlzb2xhdGVTY29wZSA9IHNjb3BlLiRuZXcodHJ1ZSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKG5ld1Njb3BlRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGNvbnRyb2xsZXJTY29wZSA9IHNjb3BlLiRwYXJlbnQ7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGJvdW5kVHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgICAgIC8vIHRyYWNrIGBib3VuZFRyYW5zY2x1ZGVGbmAgc28gaXQgY2FuIGJlIHVud3JhcHBlZCBpZiBgdHJhbnNjbHVkZUZuYFxyXG4gICAgICAgICAgICAvLyBpcyBsYXRlciBwYXNzZWQgYXMgYHBhcmVudEJvdW5kVHJhbnNjbHVkZUZuYCB0byBgcHVibGljTGlua0ZuYFxyXG4gICAgICAgICAgICB0cmFuc2NsdWRlRm4gPSBjb250cm9sbGVyc0JvdW5kVHJhbnNjbHVkZTtcclxuICAgICAgICAgICAgdHJhbnNjbHVkZUZuLiQkYm91bmRUcmFuc2NsdWRlID0gYm91bmRUcmFuc2NsdWRlRm47XHJcbiAgICAgICAgICAgIC8vIGV4cG9zZSB0aGUgc2xvdHMgb24gdGhlIGAkdHJhbnNjbHVkZWAgZnVuY3Rpb25cclxuICAgICAgICAgICAgdHJhbnNjbHVkZUZuLmlzU2xvdEZpbGxlZCA9IGZ1bmN0aW9uIChzbG90TmFtZSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiAhIWJvdW5kVHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmIChjb250cm9sbGVyRGlyZWN0aXZlcykge1xyXG4gICAgICAgICAgICBlbGVtZW50Q29udHJvbGxlcnMgPSBzZXR1cENvbnRyb2xsZXJzKCRlbGVtZW50LCBhdHRycywgdHJhbnNjbHVkZUZuLCBjb250cm9sbGVyRGlyZWN0aXZlcywgaXNvbGF0ZVNjb3BlLCBzY29wZSwgbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAobmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICAgIC8vIEluaXRpYWxpemUgaXNvbGF0ZSBzY29wZSBiaW5kaW5ncyBmb3IgbmV3IGlzb2xhdGUgc2NvcGUgZGlyZWN0aXZlLlxyXG4gICAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVJbmZvKCRlbGVtZW50LCBpc29sYXRlU2NvcGUsIHRydWUsICEodGVtcGxhdGVEaXJlY3RpdmUgJiYgKHRlbXBsYXRlRGlyZWN0aXZlID09PSBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgfHwgdGVtcGxhdGVEaXJlY3RpdmUgPT09IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJG9yaWdpbmFsRGlyZWN0aXZlKSkpO1xyXG4gICAgICAgICAgICBjb21waWxlLiQkYWRkU2NvcGVDbGFzcygkZWxlbWVudCwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGlzb2xhdGVTY29wZS4kJGlzb2xhdGVCaW5kaW5ncyA9IG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS4kJGlzb2xhdGVCaW5kaW5ncztcclxuICAgICAgICAgICAgc2NvcGVCaW5kaW5nSW5mbyA9IGluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyhzY29wZSwgYXR0cnMsIGlzb2xhdGVTY29wZSwgaXNvbGF0ZVNjb3BlLiQkaXNvbGF0ZUJpbmRpbmdzLCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUpO1xyXG4gICAgICAgICAgICBpZiAoc2NvcGVCaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzKSB7XHJcbiAgICAgICAgICAgICAgaXNvbGF0ZVNjb3BlLiRvbignJGRlc3Ryb3knLCBzY29wZUJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gSW5pdGlhbGl6ZSBiaW5kVG9Db250cm9sbGVyIGJpbmRpbmdzXHJcbiAgICAgICAgICBmb3IgKHZhciBuYW1lIGluIGVsZW1lbnRDb250cm9sbGVycykge1xyXG4gICAgICAgICAgICB2YXIgY29udHJvbGxlckRpcmVjdGl2ZSA9IGNvbnRyb2xsZXJEaXJlY3RpdmVzW25hbWVdO1xyXG4gICAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGVsZW1lbnRDb250cm9sbGVyc1tuYW1lXTtcclxuICAgICAgICAgICAgdmFyIGJpbmRpbmdzID0gY29udHJvbGxlckRpcmVjdGl2ZS4kJGJpbmRpbmdzLmJpbmRUb0NvbnRyb2xsZXI7XHJcblxyXG4gICAgICAgICAgICBpZiAocHJlQXNzaWduQmluZGluZ3NFbmFibGVkKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGJpbmRpbmdzKSB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmJpbmRpbmdJbmZvID0gaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKGNvbnRyb2xsZXJTY29wZSwgYXR0cnMsIGNvbnRyb2xsZXIuaW5zdGFuY2UsIGJpbmRpbmdzLCBjb250cm9sbGVyRGlyZWN0aXZlKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5iaW5kaW5nSW5mbyA9IHt9O1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXJSZXN1bHQgPSBjb250cm9sbGVyKCk7XHJcbiAgICAgICAgICAgICAgaWYgKGNvbnRyb2xsZXJSZXN1bHQgIT09IGNvbnRyb2xsZXIuaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGhhcyBhIHJldHVybiB2YWx1ZSwgb3ZlcndyaXRlIHRoZSBpbnN0YW5jZVxyXG4gICAgICAgICAgICAgICAgLy8gZnJvbSBzZXR1cENvbnRyb2xsZXJzXHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmluc3RhbmNlID0gY29udHJvbGxlclJlc3VsdDtcclxuICAgICAgICAgICAgICAgICRlbGVtZW50LmRhdGEoJyQnICsgY29udHJvbGxlckRpcmVjdGl2ZS5uYW1lICsgJ0NvbnRyb2xsZXInLCBjb250cm9sbGVyUmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyLmJpbmRpbmdJbmZvLnJlbW92ZVdhdGNoZXMpIHtcclxuICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5iaW5kaW5nSW5mby5yZW1vdmVXYXRjaGVzKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmJpbmRpbmdJbmZvID0gaW5pdGlhbGl6ZURpcmVjdGl2ZUJpbmRpbmdzKGNvbnRyb2xsZXJTY29wZSwgYXR0cnMsIGNvbnRyb2xsZXIuaW5zdGFuY2UsIGJpbmRpbmdzLCBjb250cm9sbGVyRGlyZWN0aXZlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY29udHJvbGxlci5pbnN0YW5jZSA9IGNvbnRyb2xsZXIoKTtcclxuICAgICAgICAgICAgICAkZWxlbWVudC5kYXRhKCckJyArIGNvbnRyb2xsZXJEaXJlY3RpdmUubmFtZSArICdDb250cm9sbGVyJywgY29udHJvbGxlci5pbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgY29udHJvbGxlci5iaW5kaW5nSW5mbyA9IGluaXRpYWxpemVEaXJlY3RpdmVCaW5kaW5ncyhjb250cm9sbGVyU2NvcGUsIGF0dHJzLCBjb250cm9sbGVyLmluc3RhbmNlLCBiaW5kaW5ncywgY29udHJvbGxlckRpcmVjdGl2ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBCaW5kIHRoZSByZXF1aXJlZCBjb250cm9sbGVycyB0byB0aGUgY29udHJvbGxlciwgaWYgYHJlcXVpcmVgIGlzIGFuIG9iamVjdCBhbmQgYGJpbmRUb0NvbnRyb2xsZXJgIGlzIHRydXRoeVxyXG4gICAgICAgICAgZm9yRWFjaChjb250cm9sbGVyRGlyZWN0aXZlcywgZnVuY3Rpb24gKGNvbnRyb2xsZXJEaXJlY3RpdmUsIG5hbWUpIHtcclxuICAgICAgICAgICAgdmFyIHJlcXVpcmUgPSBjb250cm9sbGVyRGlyZWN0aXZlLnJlcXVpcmU7XHJcbiAgICAgICAgICAgIGlmIChjb250cm9sbGVyRGlyZWN0aXZlLmJpbmRUb0NvbnRyb2xsZXIgJiYgIWlzQXJyYXkocmVxdWlyZSkgJiYgaXNPYmplY3QocmVxdWlyZSkpIHtcclxuICAgICAgICAgICAgICBleHRlbmQoZWxlbWVudENvbnRyb2xsZXJzW25hbWVdLmluc3RhbmNlLCBnZXRDb250cm9sbGVycyhuYW1lLCByZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIC8vIEhhbmRsZSB0aGUgaW5pdCBhbmQgZGVzdHJveSBsaWZlY3ljbGUgaG9va3Mgb24gYWxsIGNvbnRyb2xsZXJzIHRoYXQgaGF2ZSB0aGVtXHJcbiAgICAgICAgICBmb3JFYWNoKGVsZW1lbnRDb250cm9sbGVycywgZnVuY3Rpb24gKGNvbnRyb2xsZXIpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9IGNvbnRyb2xsZXIuaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kb25DaGFuZ2VzKSkge1xyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uQ2hhbmdlcyhjb250cm9sbGVyLmJpbmRpbmdJbmZvLmluaXRpYWxDaGFuZ2VzKTtcclxuICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udHJvbGxlckluc3RhbmNlLiRvbkluaXQpKSB7XHJcbiAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kb25Jbml0KCk7XHJcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kZG9DaGVjaykpIHtcclxuICAgICAgICAgICAgICBjb250cm9sbGVyU2NvcGUuJHdhdGNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kZG9DaGVjaygpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJJbnN0YW5jZS4kZG9DaGVjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kb25EZXN0cm95KSkge1xyXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gY2FsbE9uRGVzdHJveUhvb2soKSB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVySW5zdGFuY2UuJG9uRGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBQUkVMSU5LSU5HXHJcbiAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IHByZUxpbmtGbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgICBsaW5rRm4gPSBwcmVMaW5rRm5zW2ldO1xyXG4gICAgICAgICAgICBpbnZva2VMaW5rRm4obGlua0ZuLCBsaW5rRm4uaXNvbGF0ZVNjb3BlID8gaXNvbGF0ZVNjb3BlIDogc2NvcGUsICRlbGVtZW50LCBhdHRycywgbGlua0ZuLnJlcXVpcmUgJiYgZ2V0Q29udHJvbGxlcnMobGlua0ZuLmRpcmVjdGl2ZU5hbWUsIGxpbmtGbi5yZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSwgdHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBSRUNVUlNJT05cclxuICAgICAgICAgIC8vIFdlIG9ubHkgcGFzcyB0aGUgaXNvbGF0ZSBzY29wZSwgaWYgdGhlIGlzb2xhdGUgZGlyZWN0aXZlIGhhcyBhIHRlbXBsYXRlLFxyXG4gICAgICAgICAgLy8gb3RoZXJ3aXNlIHRoZSBjaGlsZCBlbGVtZW50cyBkbyBub3QgYmVsb25nIHRvIHRoZSBpc29sYXRlIGRpcmVjdGl2ZS5cclxuICAgICAgICAgIHZhciBzY29wZVRvQ2hpbGQgPSBzY29wZTtcclxuICAgICAgICAgIGlmIChuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUgJiYgKG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZS50ZW1wbGF0ZSB8fCBuZXdJc29sYXRlU2NvcGVEaXJlY3RpdmUudGVtcGxhdGVVcmwgPT09IG51bGwpKSB7XHJcbiAgICAgICAgICAgIHNjb3BlVG9DaGlsZCA9IGlzb2xhdGVTY29wZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChjaGlsZExpbmtGbikge1xyXG4gICAgICAgICAgICBjaGlsZExpbmtGbihzY29wZVRvQ2hpbGQsIGxpbmtOb2RlLmNoaWxkTm9kZXMsIHVuZGVmaW5lZCwgYm91bmRUcmFuc2NsdWRlRm4pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIC8vIFBPU1RMSU5LSU5HXHJcbiAgICAgICAgICBmb3IgKGkgPSBwb3N0TGlua0Zucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgICBsaW5rRm4gPSBwb3N0TGlua0Zuc1tpXTtcclxuICAgICAgICAgICAgaW52b2tlTGlua0ZuKGxpbmtGbiwgbGlua0ZuLmlzb2xhdGVTY29wZSA/IGlzb2xhdGVTY29wZSA6IHNjb3BlLCAkZWxlbWVudCwgYXR0cnMsIGxpbmtGbi5yZXF1aXJlICYmIGdldENvbnRyb2xsZXJzKGxpbmtGbi5kaXJlY3RpdmVOYW1lLCBsaW5rRm4ucmVxdWlyZSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyksIHRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gVHJpZ2dlciAkcG9zdExpbmsgbGlmZWN5Y2xlIGhvb2tzXHJcbiAgICAgICAgICBmb3JFYWNoKGVsZW1lbnRDb250cm9sbGVycywgZnVuY3Rpb24gKGNvbnRyb2xsZXIpIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRyb2xsZXJJbnN0YW5jZSA9IGNvbnRyb2xsZXIuaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRyb2xsZXJJbnN0YW5jZS4kcG9zdExpbmspKSB7XHJcbiAgICAgICAgICAgICAgY29udHJvbGxlckluc3RhbmNlLiRwb3N0TGluaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBmdW5jdGlvbiB0aGF0IGlzIGluamVjdGVkIGFzIGAkdHJhbnNjbHVkZWAuXHJcbiAgICAgICAgICAvLyBOb3RlOiBhbGwgYXJndW1lbnRzIGFyZSBvcHRpb25hbCFcclxuICAgICAgICAgIGZ1bmN0aW9uIGNvbnRyb2xsZXJzQm91bmRUcmFuc2NsdWRlKHNjb3BlLCBjbG9uZUF0dGFjaEZuLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzbG90TmFtZSkge1xyXG4gICAgICAgICAgICB2YXIgdHJhbnNjbHVkZUNvbnRyb2xsZXJzO1xyXG4gICAgICAgICAgICAvLyBObyBzY29wZSBwYXNzZWQgaW46XHJcbiAgICAgICAgICAgIGlmICghaXNTY29wZShzY29wZSkpIHtcclxuICAgICAgICAgICAgICBzbG90TmFtZSA9IGZ1dHVyZVBhcmVudEVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IGNsb25lQXR0YWNoRm47XHJcbiAgICAgICAgICAgICAgY2xvbmVBdHRhY2hGbiA9IHNjb3BlO1xyXG4gICAgICAgICAgICAgIHNjb3BlID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoaGFzRWxlbWVudFRyYW5zY2x1ZGVEaXJlY3RpdmUpIHtcclxuICAgICAgICAgICAgICB0cmFuc2NsdWRlQ29udHJvbGxlcnMgPSBlbGVtZW50Q29udHJvbGxlcnM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFmdXR1cmVQYXJlbnRFbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgZnV0dXJlUGFyZW50RWxlbWVudCA9IGhhc0VsZW1lbnRUcmFuc2NsdWRlRGlyZWN0aXZlID8gJGVsZW1lbnQucGFyZW50KCkgOiAkZWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoc2xvdE5hbWUpIHtcclxuICAgICAgICAgICAgICAvLyBzbG90VHJhbnNjbHVkZUZuIGNhbiBiZSBvbmUgb2YgdGhyZWUgdGhpbmdzOlxyXG4gICAgICAgICAgICAgIC8vICAqIGEgdHJhbnNjbHVkZSBmdW5jdGlvbiAtIGEgZmlsbGVkIHNsb3RcclxuICAgICAgICAgICAgICAvLyAgKiBgbnVsbGAgLSBhbiBvcHRpb25hbCBzbG90IHRoYXQgd2FzIG5vdCBmaWxsZWRcclxuICAgICAgICAgICAgICAvLyAgKiBgdW5kZWZpbmVkYCAtIGEgc2xvdCB0aGF0IHdhcyBub3QgZGVjbGFyZWQgKGkuZS4gaW52YWxpZClcclxuICAgICAgICAgICAgICB2YXIgc2xvdFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuLiQkc2xvdHNbc2xvdE5hbWVdO1xyXG4gICAgICAgICAgICAgIGlmIChzbG90VHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc2xvdFRyYW5zY2x1ZGVGbihzY29wZSwgY2xvbmVBdHRhY2hGbiwgdHJhbnNjbHVkZUNvbnRyb2xsZXJzLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzY29wZVRvQ2hpbGQpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNVbmRlZmluZWQoc2xvdFRyYW5zY2x1ZGVGbikpIHtcclxuICAgICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub3Nsb3QnLCAnTm8gcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHJlcXVpcmVzIGEgdHJhbnNjbHVzaW9uIHdpdGggc2xvdCBuYW1lIFwiezB9XCIuICcgKyAnRWxlbWVudDogezF9Jywgc2xvdE5hbWUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHJldHVybiBib3VuZFRyYW5zY2x1ZGVGbihzY29wZSwgY2xvbmVBdHRhY2hGbiwgdHJhbnNjbHVkZUNvbnRyb2xsZXJzLCBmdXR1cmVQYXJlbnRFbGVtZW50LCBzY29wZVRvQ2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBnZXRDb250cm9sbGVycyhkaXJlY3RpdmVOYW1lLCByZXF1aXJlLCAkZWxlbWVudCwgZWxlbWVudENvbnRyb2xsZXJzKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlO1xyXG5cclxuICAgICAgICBpZiAoaXNTdHJpbmcocmVxdWlyZSkpIHtcclxuICAgICAgICAgIHZhciBtYXRjaCA9IHJlcXVpcmUubWF0Y2goUkVRVUlSRV9QUkVGSVhfUkVHRVhQKTtcclxuICAgICAgICAgIHZhciBuYW1lID0gcmVxdWlyZS5zdWJzdHJpbmcobWF0Y2hbMF0ubGVuZ3RoKTtcclxuICAgICAgICAgIHZhciBpbmhlcml0VHlwZSA9IG1hdGNoWzFdIHx8IG1hdGNoWzNdO1xyXG4gICAgICAgICAgdmFyIG9wdGlvbmFsID0gbWF0Y2hbMl0gPT09ICc/JztcclxuXHJcbiAgICAgICAgICAvL0lmIG9ubHkgcGFyZW50cyB0aGVuIHN0YXJ0IGF0IHRoZSBwYXJlbnQgZWxlbWVudFxyXG4gICAgICAgICAgaWYgKGluaGVyaXRUeXBlID09PSAnXl4nKSB7XHJcbiAgICAgICAgICAgICRlbGVtZW50ID0gJGVsZW1lbnQucGFyZW50KCk7XHJcbiAgICAgICAgICAgIC8vT3RoZXJ3aXNlIGF0dGVtcHQgZ2V0dGluZyB0aGUgY29udHJvbGxlciBmcm9tIGVsZW1lbnRDb250cm9sbGVycyBpbiBjYXNlXHJcbiAgICAgICAgICAgIC8vdGhlIGVsZW1lbnQgaXMgdHJhbnNjbHVkZWQgKGFuZCBoYXMgbm8gZGF0YSkgYW5kIHRvIGF2b2lkIC5kYXRhIGlmIHBvc3NpYmxlXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGVsZW1lbnRDb250cm9sbGVycyAmJiBlbGVtZW50Q29udHJvbGxlcnNbbmFtZV07XHJcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgJiYgdmFsdWUuaW5zdGFuY2U7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCF2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgZGF0YU5hbWUgPSAnJCcgKyBuYW1lICsgJ0NvbnRyb2xsZXInO1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGluaGVyaXRUeXBlID8gJGVsZW1lbnQuaW5oZXJpdGVkRGF0YShkYXRhTmFtZSkgOiAkZWxlbWVudC5kYXRhKGRhdGFOYW1lKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoIXZhbHVlICYmICFvcHRpb25hbCkge1xyXG4gICAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignY3RyZXEnLCAnQ29udHJvbGxlciBcXCd7MH1cXCcsIHJlcXVpcmVkIGJ5IGRpcmVjdGl2ZSBcXCd7MX1cXCcsIGNhblxcJ3QgYmUgZm91bmQhJywgbmFtZSwgZGlyZWN0aXZlTmFtZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc0FycmF5KHJlcXVpcmUpKSB7XHJcbiAgICAgICAgICB2YWx1ZSA9IFtdO1xyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmVxdWlyZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHZhbHVlW2ldID0gZ2V0Q29udHJvbGxlcnMoZGlyZWN0aXZlTmFtZSwgcmVxdWlyZVtpXSwgJGVsZW1lbnQsIGVsZW1lbnRDb250cm9sbGVycyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc09iamVjdChyZXF1aXJlKSkge1xyXG4gICAgICAgICAgdmFsdWUgPSB7fTtcclxuICAgICAgICAgIGZvckVhY2gocmVxdWlyZSwgZnVuY3Rpb24gKGNvbnRyb2xsZXIsIHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIHZhbHVlW3Byb3BlcnR5XSA9IGdldENvbnRyb2xsZXJzKGRpcmVjdGl2ZU5hbWUsIGNvbnRyb2xsZXIsICRlbGVtZW50LCBlbGVtZW50Q29udHJvbGxlcnMpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdmFsdWUgfHwgbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gc2V0dXBDb250cm9sbGVycygkZWxlbWVudCwgYXR0cnMsIHRyYW5zY2x1ZGVGbiwgY29udHJvbGxlckRpcmVjdGl2ZXMsIGlzb2xhdGVTY29wZSwgc2NvcGUsIG5ld0lzb2xhdGVTY29wZURpcmVjdGl2ZSkge1xyXG4gICAgICAgIHZhciBlbGVtZW50Q29udHJvbGxlcnMgPSBjcmVhdGVNYXAoKTtcclxuICAgICAgICBmb3IgKHZhciBjb250cm9sbGVyS2V5IGluIGNvbnRyb2xsZXJEaXJlY3RpdmVzKSB7XHJcbiAgICAgICAgICB2YXIgZGlyZWN0aXZlID0gY29udHJvbGxlckRpcmVjdGl2ZXNbY29udHJvbGxlcktleV07XHJcbiAgICAgICAgICB2YXIgbG9jYWxzID0ge1xyXG4gICAgICAgICAgICAkc2NvcGU6IGRpcmVjdGl2ZSA9PT0gbmV3SXNvbGF0ZVNjb3BlRGlyZWN0aXZlIHx8IGRpcmVjdGl2ZS4kJGlzb2xhdGVTY29wZSA/IGlzb2xhdGVTY29wZSA6IHNjb3BlLFxyXG4gICAgICAgICAgICAkZWxlbWVudDogJGVsZW1lbnQsXHJcbiAgICAgICAgICAgICRhdHRyczogYXR0cnMsXHJcbiAgICAgICAgICAgICR0cmFuc2NsdWRlOiB0cmFuc2NsdWRlRm5cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgdmFyIGNvbnRyb2xsZXIgPSBkaXJlY3RpdmUuY29udHJvbGxlcjtcclxuICAgICAgICAgIGlmIChjb250cm9sbGVyID09PSAnQCcpIHtcclxuICAgICAgICAgICAgY29udHJvbGxlciA9IGF0dHJzW2RpcmVjdGl2ZS5uYW1lXTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICB2YXIgY29udHJvbGxlckluc3RhbmNlID0gJGNvbnRyb2xsZXIoY29udHJvbGxlciwgbG9jYWxzLCB0cnVlLCBkaXJlY3RpdmUuY29udHJvbGxlckFzKTtcclxuXHJcbiAgICAgICAgICAvLyBGb3IgZGlyZWN0aXZlcyB3aXRoIGVsZW1lbnQgdHJhbnNjbHVzaW9uIHRoZSBlbGVtZW50IGlzIGEgY29tbWVudC5cclxuICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSAuZGF0YSB3aWxsIG5vdCBhdHRhY2ggYW55IGRhdGEuXHJcbiAgICAgICAgICAvLyBJbnN0ZWFkLCB3ZSBzYXZlIHRoZSBjb250cm9sbGVycyBmb3IgdGhlIGVsZW1lbnQgaW4gYSBsb2NhbCBoYXNoIGFuZCBhdHRhY2ggdG8gLmRhdGFcclxuICAgICAgICAgIC8vIGxhdGVyLCBvbmNlIHdlIGhhdmUgdGhlIGFjdHVhbCBlbGVtZW50LlxyXG4gICAgICAgICAgZWxlbWVudENvbnRyb2xsZXJzW2RpcmVjdGl2ZS5uYW1lXSA9IGNvbnRyb2xsZXJJbnN0YW5jZTtcclxuICAgICAgICAgICRlbGVtZW50LmRhdGEoJyQnICsgZGlyZWN0aXZlLm5hbWUgKyAnQ29udHJvbGxlcicsIGNvbnRyb2xsZXJJbnN0YW5jZS5pbnN0YW5jZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlbGVtZW50Q29udHJvbGxlcnM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIERlcGVuZGluZyB1cG9uIHRoZSBjb250ZXh0IGluIHdoaWNoIGEgZGlyZWN0aXZlIGZpbmRzIGl0c2VsZiBpdCBtaWdodCBuZWVkIHRvIGhhdmUgYSBuZXcgaXNvbGF0ZWRcclxuICAgICAgLy8gb3IgY2hpbGQgc2NvcGUgY3JlYXRlZC4gRm9yIGluc3RhbmNlOlxyXG4gICAgICAvLyAqIGlmIHRoZSBkaXJlY3RpdmUgaGFzIGJlZW4gcHVsbGVkIGludG8gYSB0ZW1wbGF0ZSBiZWNhdXNlIGFub3RoZXIgZGlyZWN0aXZlIHdpdGggYSBoaWdoZXIgcHJpb3JpdHlcclxuICAgICAgLy8gYXNrZWQgZm9yIGVsZW1lbnQgdHJhbnNjbHVzaW9uXHJcbiAgICAgIC8vICogaWYgdGhlIGRpcmVjdGl2ZSBpdHNlbGYgYXNrcyBmb3IgdHJhbnNjbHVzaW9uIGJ1dCBpdCBpcyBhdCB0aGUgcm9vdCBvZiBhIHRlbXBsYXRlIGFuZCB0aGUgb3JpZ2luYWxcclxuICAgICAgLy8gZWxlbWVudCB3YXMgcmVwbGFjZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMjkzNlxyXG4gICAgICBmdW5jdGlvbiBtYXJrRGlyZWN0aXZlU2NvcGUoZGlyZWN0aXZlcywgaXNvbGF0ZVNjb3BlLCBuZXdTY29wZSkge1xyXG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqaiA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xyXG4gICAgICAgICAgZGlyZWN0aXZlc1tqXSA9IGluaGVyaXQoZGlyZWN0aXZlc1tqXSwgeyAkJGlzb2xhdGVTY29wZTogaXNvbGF0ZVNjb3BlLCAkJG5ld1Njb3BlOiBuZXdTY29wZSB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBsb29rcyB1cCB0aGUgZGlyZWN0aXZlIGFuZCBkZWNvcmF0ZXMgaXQgd2l0aCBleGNlcHRpb24gaGFuZGxpbmcgYW5kIHByb3BlciBwYXJhbWV0ZXJzLiBXZVxyXG4gICAgICAgKiBjYWxsIHRoaXMgdGhlIGJvdW5kRGlyZWN0aXZlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBuYW1lIG9mIHRoZSBkaXJlY3RpdmUgdG8gbG9vayB1cC5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2F0aW9uIFRoZSBkaXJlY3RpdmUgbXVzdCBiZSBmb3VuZCBpbiBzcGVjaWZpYyBmb3JtYXQuXHJcbiAgICAgICAqICAgU3RyaW5nIGNvbnRhaW5pbmcgYW55IG9mIHRoZXNlcyBjaGFyYWN0ZXJzOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICogYEVgOiBlbGVtZW50IG5hbWVcclxuICAgICAgICogICAqIGBBJzogYXR0cmlidXRlXHJcbiAgICAgICAqICAgKiBgQ2A6IGNsYXNzXHJcbiAgICAgICAqICAgKiBgTWA6IGNvbW1lbnRcclxuICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgZGlyZWN0aXZlIHdhcyBhZGRlZC5cclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIGFkZERpcmVjdGl2ZSh0RGlyZWN0aXZlcywgbmFtZSwgbG9jYXRpb24sIG1heFByaW9yaXR5LCBpZ25vcmVEaXJlY3RpdmUsIHN0YXJ0QXR0ck5hbWUsIGVuZEF0dHJOYW1lKSB7XHJcbiAgICAgICAgaWYgKG5hbWUgPT09IGlnbm9yZURpcmVjdGl2ZSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgdmFyIG1hdGNoID0gbnVsbDtcclxuICAgICAgICBpZiAoaGFzRGlyZWN0aXZlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xyXG4gICAgICAgICAgZm9yICh2YXIgZGlyZWN0aXZlLCBkaXJlY3RpdmVzID0gJGluamVjdG9yLmdldChuYW1lICsgU3VmZml4KSwgaSA9IDAsIGlpID0gZGlyZWN0aXZlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGRpcmVjdGl2ZSA9IGRpcmVjdGl2ZXNbaV07XHJcbiAgICAgICAgICAgIGlmICgoaXNVbmRlZmluZWQobWF4UHJpb3JpdHkpIHx8IG1heFByaW9yaXR5ID4gZGlyZWN0aXZlLnByaW9yaXR5KSAmJiBkaXJlY3RpdmUucmVzdHJpY3QuaW5kZXhPZihsb2NhdGlvbikgIT09IC0xKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHN0YXJ0QXR0ck5hbWUpIHtcclxuICAgICAgICAgICAgICAgIGRpcmVjdGl2ZSA9IGluaGVyaXQoZGlyZWN0aXZlLCB7ICQkc3RhcnQ6IHN0YXJ0QXR0ck5hbWUsICQkZW5kOiBlbmRBdHRyTmFtZSB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKCFkaXJlY3RpdmUuJCRiaW5kaW5ncykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGJpbmRpbmdzID0gZGlyZWN0aXZlLiQkYmluZGluZ3MgPSBwYXJzZURpcmVjdGl2ZUJpbmRpbmdzKGRpcmVjdGl2ZSwgZGlyZWN0aXZlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzT2JqZWN0KGJpbmRpbmdzLmlzb2xhdGVTY29wZSkpIHtcclxuICAgICAgICAgICAgICAgICAgZGlyZWN0aXZlLiQkaXNvbGF0ZUJpbmRpbmdzID0gYmluZGluZ3MuaXNvbGF0ZVNjb3BlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB0RGlyZWN0aXZlcy5wdXNoKGRpcmVjdGl2ZSk7XHJcbiAgICAgICAgICAgICAgbWF0Y2ggPSBkaXJlY3RpdmU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG1hdGNoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogbG9va3MgdXAgdGhlIGRpcmVjdGl2ZSBhbmQgcmV0dXJucyB0cnVlIGlmIGl0IGlzIGEgbXVsdGktZWxlbWVudCBkaXJlY3RpdmUsXHJcbiAgICAgICAqIGFuZCB0aGVyZWZvcmUgcmVxdWlyZXMgRE9NIG5vZGVzIGJldHdlZW4gLXN0YXJ0IGFuZCAtZW5kIG1hcmtlcnMgdG8gYmUgZ3JvdXBlZFxyXG4gICAgICAgKiB0b2dldGhlci5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgbmFtZSBvZiB0aGUgZGlyZWN0aXZlIHRvIGxvb2sgdXAuXHJcbiAgICAgICAqIEByZXR1cm5zIHRydWUgaWYgZGlyZWN0aXZlIHdhcyByZWdpc3RlcmVkIGFzIG11bHRpLWVsZW1lbnQuXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBkaXJlY3RpdmVJc011bHRpRWxlbWVudChuYW1lKSB7XHJcbiAgICAgICAgaWYgKGhhc0RpcmVjdGl2ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcclxuICAgICAgICAgIGZvciAodmFyIGRpcmVjdGl2ZSwgZGlyZWN0aXZlcyA9ICRpbmplY3Rvci5nZXQobmFtZSArIFN1ZmZpeCksIGkgPSAwLCBpaSA9IGRpcmVjdGl2ZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgICBkaXJlY3RpdmUgPSBkaXJlY3RpdmVzW2ldO1xyXG4gICAgICAgICAgICBpZiAoZGlyZWN0aXZlLm11bHRpRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFdoZW4gdGhlIGVsZW1lbnQgaXMgcmVwbGFjZWQgd2l0aCBIVE1MIHRlbXBsYXRlIHRoZW4gdGhlIG5ldyBhdHRyaWJ1dGVzXHJcbiAgICAgICAqIG9uIHRoZSB0ZW1wbGF0ZSBuZWVkIHRvIGJlIG1lcmdlZCB3aXRoIHRoZSBleGlzdGluZyBhdHRyaWJ1dGVzIGluIHRoZSBET00uXHJcbiAgICAgICAqIFRoZSBkZXNpcmVkIGVmZmVjdCBpcyB0byBoYXZlIGJvdGggb2YgdGhlIGF0dHJpYnV0ZXMgcHJlc2VudC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IGRzdCBkZXN0aW5hdGlvbiBhdHRyaWJ1dGVzIChvcmlnaW5hbCBET00pXHJcbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBzcmMgc291cmNlIGF0dHJpYnV0ZXMgKGZyb20gdGhlIGRpcmVjdGl2ZSB0ZW1wbGF0ZSlcclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKGRzdCwgc3JjKSB7XHJcbiAgICAgICAgdmFyIHNyY0F0dHIgPSBzcmMuJGF0dHIsXHJcbiAgICAgICAgICAgIGRzdEF0dHIgPSBkc3QuJGF0dHI7XHJcblxyXG4gICAgICAgIC8vIHJlYXBwbHkgdGhlIG9sZCBhdHRyaWJ1dGVzIHRvIHRoZSBuZXcgZWxlbWVudFxyXG4gICAgICAgIGZvckVhY2goZHN0LCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgaWYgKGtleS5jaGFyQXQoMCkgIT09ICckJykge1xyXG4gICAgICAgICAgICBpZiAoc3JjW2tleV0gJiYgc3JjW2tleV0gIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgKz0gKGtleSA9PT0gJ3N0eWxlJyA/ICc7JyA6ICcgJykgKyBzcmNba2V5XTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBzcmNba2V5XTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZHN0LiRzZXQoa2V5LCB2YWx1ZSwgdHJ1ZSwgc3JjQXR0cltrZXldKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gY29weSB0aGUgbmV3IGF0dHJpYnV0ZXMgb24gdGhlIG9sZCBhdHRycyBvYmplY3RcclxuICAgICAgICBmb3JFYWNoKHNyYywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgIC8vIENoZWNrIGlmIHdlIGFscmVhZHkgc2V0IHRoaXMgYXR0cmlidXRlIGluIHRoZSBsb29wIGFib3ZlLlxyXG4gICAgICAgICAgLy8gYGRzdGAgd2lsbCBuZXZlciBjb250YWluIGhhc093blByb3BlcnR5IGFzIERPTSBwYXJzZXIgd29uJ3QgbGV0IGl0LlxyXG4gICAgICAgICAgLy8gWW91IHdpbGwgZ2V0IGFuIFwiSW52YWxpZENoYXJhY3RlckVycm9yOiBET00gRXhjZXB0aW9uIDVcIiBlcnJvciBpZiB5b3VcclxuICAgICAgICAgIC8vIGhhdmUgYW4gYXR0cmlidXRlIGxpa2UgXCJoYXMtb3duLXByb3BlcnR5XCIgb3IgXCJkYXRhLWhhcy1vd24tcHJvcGVydHlcIiwgZXRjLlxyXG4gICAgICAgICAgaWYgKCFkc3QuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBrZXkuY2hhckF0KDApICE9PSAnJCcpIHtcclxuICAgICAgICAgICAgZHN0W2tleV0gPSB2YWx1ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChrZXkgIT09ICdjbGFzcycgJiYga2V5ICE9PSAnc3R5bGUnKSB7XHJcbiAgICAgICAgICAgICAgZHN0QXR0cltrZXldID0gc3JjQXR0cltrZXldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNvbXBpbGVUZW1wbGF0ZVVybChkaXJlY3RpdmVzLCAkY29tcGlsZU5vZGUsIHRBdHRycywgJHJvb3RFbGVtZW50LCBjaGlsZFRyYW5zY2x1ZGVGbiwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpIHtcclxuICAgICAgICB2YXIgbGlua1F1ZXVlID0gW10sXHJcbiAgICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLFxyXG4gICAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sXHJcbiAgICAgICAgICAgIGJlZm9yZVRlbXBsYXRlQ29tcGlsZU5vZGUgPSAkY29tcGlsZU5vZGVbMF0sXHJcbiAgICAgICAgICAgIG9yaWdBc3luY0RpcmVjdGl2ZSA9IGRpcmVjdGl2ZXMuc2hpZnQoKSxcclxuICAgICAgICAgICAgZGVyaXZlZFN5bmNEaXJlY3RpdmUgPSBpbmhlcml0KG9yaWdBc3luY0RpcmVjdGl2ZSwge1xyXG4gICAgICAgICAgdGVtcGxhdGVVcmw6IG51bGwsIHRyYW5zY2x1ZGU6IG51bGwsIHJlcGxhY2U6IG51bGwsICQkb3JpZ2luYWxEaXJlY3RpdmU6IG9yaWdBc3luY0RpcmVjdGl2ZVxyXG4gICAgICAgIH0pLFxyXG4gICAgICAgICAgICB0ZW1wbGF0ZVVybCA9IGlzRnVuY3Rpb24ob3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlVXJsKSA/IG9yaWdBc3luY0RpcmVjdGl2ZS50ZW1wbGF0ZVVybCgkY29tcGlsZU5vZGUsIHRBdHRycykgOiBvcmlnQXN5bmNEaXJlY3RpdmUudGVtcGxhdGVVcmwsXHJcbiAgICAgICAgICAgIHRlbXBsYXRlTmFtZXNwYWNlID0gb3JpZ0FzeW5jRGlyZWN0aXZlLnRlbXBsYXRlTmFtZXNwYWNlO1xyXG5cclxuICAgICAgICAkY29tcGlsZU5vZGUuZW1wdHkoKTtcclxuXHJcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdCh0ZW1wbGF0ZVVybCkudGhlbihmdW5jdGlvbiAoY29udGVudCkge1xyXG4gICAgICAgICAgdmFyIGNvbXBpbGVOb2RlLCB0ZW1wVGVtcGxhdGVBdHRycywgJHRlbXBsYXRlLCBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuO1xyXG5cclxuICAgICAgICAgIGNvbnRlbnQgPSBkZW5vcm1hbGl6ZVRlbXBsYXRlKGNvbnRlbnQpO1xyXG5cclxuICAgICAgICAgIGlmIChvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkge1xyXG4gICAgICAgICAgICBpZiAoanFMaXRlSXNUZXh0Tm9kZShjb250ZW50KSkge1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IFtdO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICR0ZW1wbGF0ZSA9IHJlbW92ZUNvbW1lbnRzKHdyYXBUZW1wbGF0ZSh0ZW1wbGF0ZU5hbWVzcGFjZSwgdHJpbShjb250ZW50KSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbXBpbGVOb2RlID0gJHRlbXBsYXRlWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKCR0ZW1wbGF0ZS5sZW5ndGggIT09IDEgfHwgY29tcGlsZU5vZGUubm9kZVR5cGUgIT09IE5PREVfVFlQRV9FTEVNRU5UKSB7XHJcbiAgICAgICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3RwbHJ0JywgJ1RlbXBsYXRlIGZvciBkaXJlY3RpdmUgXFwnezB9XFwnIG11c3QgaGF2ZSBleGFjdGx5IG9uZSByb290IGVsZW1lbnQuIHsxfScsIG9yaWdBc3luY0RpcmVjdGl2ZS5uYW1lLCB0ZW1wbGF0ZVVybCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRlbXBUZW1wbGF0ZUF0dHJzID0geyAkYXR0cjoge30gfTtcclxuICAgICAgICAgICAgcmVwbGFjZVdpdGgoJHJvb3RFbGVtZW50LCAkY29tcGlsZU5vZGUsIGNvbXBpbGVOb2RlKTtcclxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlRGlyZWN0aXZlcyA9IGNvbGxlY3REaXJlY3RpdmVzKGNvbXBpbGVOb2RlLCBbXSwgdGVtcFRlbXBsYXRlQXR0cnMpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzT2JqZWN0KG9yaWdBc3luY0RpcmVjdGl2ZS5zY29wZSkpIHtcclxuICAgICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgZGlyZWN0aXZlIHRoYXQgY2F1c2VkIHRoZSB0ZW1wbGF0ZSB0byBiZSBsb2FkZWQgYXN5bmMgcmVxdWlyZWRcclxuICAgICAgICAgICAgICAvLyBhbiBpc29sYXRlIHNjb3BlXHJcbiAgICAgICAgICAgICAgbWFya0RpcmVjdGl2ZVNjb3BlKHRlbXBsYXRlRGlyZWN0aXZlcywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGlyZWN0aXZlcyA9IHRlbXBsYXRlRGlyZWN0aXZlcy5jb25jYXQoZGlyZWN0aXZlcyk7XHJcbiAgICAgICAgICAgIG1lcmdlVGVtcGxhdGVBdHRyaWJ1dGVzKHRBdHRycywgdGVtcFRlbXBsYXRlQXR0cnMpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29tcGlsZU5vZGUgPSBiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlO1xyXG4gICAgICAgICAgICAkY29tcGlsZU5vZGUuaHRtbChjb250ZW50KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBkaXJlY3RpdmVzLnVuc2hpZnQoZGVyaXZlZFN5bmNEaXJlY3RpdmUpO1xyXG5cclxuICAgICAgICAgIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuID0gYXBwbHlEaXJlY3RpdmVzVG9Ob2RlKGRpcmVjdGl2ZXMsIGNvbXBpbGVOb2RlLCB0QXR0cnMsIGNoaWxkVHJhbnNjbHVkZUZuLCAkY29tcGlsZU5vZGUsIG9yaWdBc3luY0RpcmVjdGl2ZSwgcHJlTGlua0ZucywgcG9zdExpbmtGbnMsIHByZXZpb3VzQ29tcGlsZUNvbnRleHQpO1xyXG4gICAgICAgICAgZm9yRWFjaCgkcm9vdEVsZW1lbnQsIGZ1bmN0aW9uIChub2RlLCBpKSB7XHJcbiAgICAgICAgICAgIGlmIChub2RlID09PSBjb21waWxlTm9kZSkge1xyXG4gICAgICAgICAgICAgICRyb290RWxlbWVudFtpXSA9ICRjb21waWxlTm9kZVswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4gPSBjb21waWxlTm9kZXMoJGNvbXBpbGVOb2RlWzBdLmNoaWxkTm9kZXMsIGNoaWxkVHJhbnNjbHVkZUZuKTtcclxuXHJcbiAgICAgICAgICB3aGlsZSAobGlua1F1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB2YXIgc2NvcGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcclxuICAgICAgICAgICAgICAgIGJlZm9yZVRlbXBsYXRlTGlua05vZGUgPSBsaW5rUXVldWUuc2hpZnQoKSxcclxuICAgICAgICAgICAgICAgIGxpbmtSb290RWxlbWVudCA9IGxpbmtRdWV1ZS5zaGlmdCgpLFxyXG4gICAgICAgICAgICAgICAgYm91bmRUcmFuc2NsdWRlRm4gPSBsaW5rUXVldWUuc2hpZnQoKSxcclxuICAgICAgICAgICAgICAgIGxpbmtOb2RlID0gJGNvbXBpbGVOb2RlWzBdO1xyXG5cclxuICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlICE9PSBiZWZvcmVUZW1wbGF0ZUNvbXBpbGVOb2RlKSB7XHJcbiAgICAgICAgICAgICAgdmFyIG9sZENsYXNzZXMgPSBiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlLmNsYXNzTmFtZTtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKCEocHJldmlvdXNDb21waWxlQ29udGV4dC5oYXNFbGVtZW50VHJhbnNjbHVkZURpcmVjdGl2ZSAmJiBvcmlnQXN5bmNEaXJlY3RpdmUucmVwbGFjZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGl0IHdhcyBjbG9uZWQgdGhlcmVmb3JlIHdlIGhhdmUgdG8gY2xvbmUgYXMgd2VsbC5cclxuICAgICAgICAgICAgICAgIGxpbmtOb2RlID0ganFMaXRlQ2xvbmUoY29tcGlsZU5vZGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICByZXBsYWNlV2l0aChsaW5rUm9vdEVsZW1lbnQsIGpxTGl0ZShiZWZvcmVUZW1wbGF0ZUxpbmtOb2RlKSwgbGlua05vZGUpO1xyXG5cclxuICAgICAgICAgICAgICAvLyBDb3B5IGluIENTUyBjbGFzc2VzIGZyb20gb3JpZ2luYWwgbm9kZVxyXG4gICAgICAgICAgICAgIHNhZmVBZGRDbGFzcyhqcUxpdGUobGlua05vZGUpLCBvbGRDbGFzc2VzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gYm91bmRUcmFuc2NsdWRlRm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4oYWZ0ZXJUZW1wbGF0ZUNoaWxkTGlua0ZuLCBzY29wZSwgbGlua05vZGUsICRyb290RWxlbWVudCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBsaW5rUXVldWUgPSBudWxsO1xyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgaWYgKGlzRXJyb3IoZXJyb3IpKSB7XHJcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGF5ZWROb2RlTGlua0ZuKGlnbm9yZUNoaWxkTGlua0ZuLCBzY29wZSwgbm9kZSwgcm9vdEVsZW1lbnQsIGJvdW5kVHJhbnNjbHVkZUZuKSB7XHJcbiAgICAgICAgICB2YXIgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbiA9IGJvdW5kVHJhbnNjbHVkZUZuO1xyXG4gICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSByZXR1cm47XHJcbiAgICAgICAgICBpZiAobGlua1F1ZXVlKSB7XHJcbiAgICAgICAgICAgIGxpbmtRdWV1ZS5wdXNoKHNjb3BlLCBub2RlLCByb290RWxlbWVudCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAoYWZ0ZXJUZW1wbGF0ZU5vZGVMaW5rRm4udHJhbnNjbHVkZU9uVGhpc0VsZW1lbnQpIHtcclxuICAgICAgICAgICAgICBjaGlsZEJvdW5kVHJhbnNjbHVkZUZuID0gY3JlYXRlQm91bmRUcmFuc2NsdWRlRm4oc2NvcGUsIGFmdGVyVGVtcGxhdGVOb2RlTGlua0ZuLnRyYW5zY2x1ZGUsIGJvdW5kVHJhbnNjbHVkZUZuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhZnRlclRlbXBsYXRlTm9kZUxpbmtGbihhZnRlclRlbXBsYXRlQ2hpbGRMaW5rRm4sIHNjb3BlLCBub2RlLCByb290RWxlbWVudCwgY2hpbGRCb3VuZFRyYW5zY2x1ZGVGbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFNvcnRpbmcgZnVuY3Rpb24gZm9yIGJvdW5kIGRpcmVjdGl2ZXMuXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBieVByaW9yaXR5KGEsIGIpIHtcclxuICAgICAgICB2YXIgZGlmZiA9IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5O1xyXG4gICAgICAgIGlmIChkaWZmICE9PSAwKSByZXR1cm4gZGlmZjtcclxuICAgICAgICBpZiAoYS5uYW1lICE9PSBiLm5hbWUpIHJldHVybiBhLm5hbWUgPCBiLm5hbWUgPyAtMSA6IDE7XHJcbiAgICAgICAgcmV0dXJuIGEuaW5kZXggLSBiLmluZGV4O1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBhc3NlcnROb0R1cGxpY2F0ZSh3aGF0LCBwcmV2aW91c0RpcmVjdGl2ZSwgZGlyZWN0aXZlLCBlbGVtZW50KSB7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHdyYXBNb2R1bGVOYW1lSWZEZWZpbmVkKG1vZHVsZU5hbWUpIHtcclxuICAgICAgICAgIHJldHVybiBtb2R1bGVOYW1lID8gJyAobW9kdWxlOiAnICsgbW9kdWxlTmFtZSArICcpJyA6ICcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHByZXZpb3VzRGlyZWN0aXZlKSB7XHJcbiAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbXVsdGlkaXInLCAnTXVsdGlwbGUgZGlyZWN0aXZlcyBbezB9ezF9LCB7Mn17M31dIGFza2luZyBmb3IgezR9IG9uOiB7NX0nLCBwcmV2aW91c0RpcmVjdGl2ZS5uYW1lLCB3cmFwTW9kdWxlTmFtZUlmRGVmaW5lZChwcmV2aW91c0RpcmVjdGl2ZS4kJG1vZHVsZU5hbWUpLCBkaXJlY3RpdmUubmFtZSwgd3JhcE1vZHVsZU5hbWVJZkRlZmluZWQoZGlyZWN0aXZlLiQkbW9kdWxlTmFtZSksIHdoYXQsIHN0YXJ0aW5nVGFnKGVsZW1lbnQpKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGFkZFRleHRJbnRlcnBvbGF0ZURpcmVjdGl2ZShkaXJlY3RpdmVzLCB0ZXh0KSB7XHJcbiAgICAgICAgdmFyIGludGVycG9sYXRlRm4gPSAkaW50ZXJwb2xhdGUodGV4dCwgdHJ1ZSk7XHJcbiAgICAgICAgaWYgKGludGVycG9sYXRlRm4pIHtcclxuICAgICAgICAgIGRpcmVjdGl2ZXMucHVzaCh7XHJcbiAgICAgICAgICAgIHByaW9yaXR5OiAwLFxyXG4gICAgICAgICAgICBjb21waWxlOiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVDb21waWxlRm4odGVtcGxhdGVOb2RlKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHRlbXBsYXRlTm9kZVBhcmVudCA9IHRlbXBsYXRlTm9kZS5wYXJlbnQoKSxcclxuICAgICAgICAgICAgICAgICAgaGFzQ29tcGlsZVBhcmVudCA9ICEhdGVtcGxhdGVOb2RlUGFyZW50Lmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gV2hlbiB0cmFuc2NsdWRpbmcgYSB0ZW1wbGF0ZSB0aGF0IGhhcyBiaW5kaW5ncyBpbiB0aGUgcm9vdFxyXG4gICAgICAgICAgICAgIC8vIHdlIGRvbid0IGhhdmUgYSBwYXJlbnQgYW5kIHRodXMgbmVlZCB0byBhZGQgdGhlIGNsYXNzIGR1cmluZyBsaW5raW5nIGZuLlxyXG4gICAgICAgICAgICAgIGlmIChoYXNDb21waWxlUGFyZW50KSBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHRlbXBsYXRlTm9kZVBhcmVudCk7XHJcblxyXG4gICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiB0ZXh0SW50ZXJwb2xhdGVMaW5rRm4oc2NvcGUsIG5vZGUpIHtcclxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnQgPSBub2RlLnBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXNDb21waWxlUGFyZW50KSBjb21waWxlLiQkYWRkQmluZGluZ0NsYXNzKHBhcmVudCk7XHJcbiAgICAgICAgICAgICAgICBjb21waWxlLiQkYWRkQmluZGluZ0luZm8ocGFyZW50LCBpbnRlcnBvbGF0ZUZuLmV4cHJlc3Npb25zKTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChpbnRlcnBvbGF0ZUZuLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgbm9kZVswXS5ub2RlVmFsdWUgPSB2YWx1ZTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gd3JhcFRlbXBsYXRlKHR5cGUsIHRlbXBsYXRlKSB7XHJcbiAgICAgICAgdHlwZSA9IGxvd2VyY2FzZSh0eXBlIHx8ICdodG1sJyk7XHJcbiAgICAgICAgc3dpdGNoICh0eXBlKSB7XHJcbiAgICAgICAgICBjYXNlICdzdmcnOlxyXG4gICAgICAgICAgY2FzZSAnbWF0aCc6XHJcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9ICc8JyArIHR5cGUgKyAnPicgKyB0ZW1wbGF0ZSArICc8LycgKyB0eXBlICsgJz4nO1xyXG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5jaGlsZE5vZGVzWzBdLmNoaWxkTm9kZXM7XHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gdGVtcGxhdGU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBnZXRUcnVzdGVkQ29udGV4dChub2RlLCBhdHRyTm9ybWFsaXplZE5hbWUpIHtcclxuICAgICAgICBpZiAoYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnc3JjZG9jJykge1xyXG4gICAgICAgICAgcmV0dXJuICRzY2UuSFRNTDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHRhZyA9IG5vZGVOYW1lXyhub2RlKTtcclxuICAgICAgICAvLyBBbGwgdGFncyB3aXRoIHNyYyBhdHRyaWJ1dGVzIHJlcXVpcmUgYSBSRVNPVVJDRV9VUkwgdmFsdWUsIGV4Y2VwdCBmb3JcclxuICAgICAgICAvLyBpbWcgYW5kIHZhcmlvdXMgaHRtbDUgbWVkaWEgdGFncy5cclxuICAgICAgICBpZiAoYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnc3JjJyB8fCBhdHRyTm9ybWFsaXplZE5hbWUgPT09ICduZ1NyYycpIHtcclxuICAgICAgICAgIGlmIChbJ2ltZycsICd2aWRlbycsICdhdWRpbycsICdzb3VyY2UnLCAndHJhY2snXS5pbmRleE9mKHRhZykgPT09IC0xKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkc2NlLlJFU09VUkNFX1VSTDtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIG1hY3Rpb25beGxpbms6aHJlZl0gY2FuIHNvdXJjZSBTVkcuICBJdCdzIG5vdCBsaW1pdGVkIHRvIDxtYWN0aW9uPi5cclxuICAgICAgICB9IGVsc2UgaWYgKGF0dHJOb3JtYWxpemVkTmFtZSA9PT0gJ3hsaW5rSHJlZicgfHwgdGFnID09PSAnZm9ybScgJiYgYXR0ck5vcm1hbGl6ZWROYW1lID09PSAnYWN0aW9uJyB8fFxyXG4gICAgICAgIC8vIGxpbmtzIGNhbiBiZSBzdHlsZXNoZWV0cyBvciBpbXBvcnRzLCB3aGljaCBjYW4gcnVuIHNjcmlwdCBpbiB0aGUgY3VycmVudCBvcmlnaW5cclxuICAgICAgICB0YWcgPT09ICdsaW5rJyAmJiBhdHRyTm9ybWFsaXplZE5hbWUgPT09ICdocmVmJykge1xyXG4gICAgICAgICAgcmV0dXJuICRzY2UuUkVTT1VSQ0VfVVJMO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gYWRkQXR0ckludGVycG9sYXRlRGlyZWN0aXZlKG5vZGUsIGRpcmVjdGl2ZXMsIHZhbHVlLCBuYW1lLCBpc05nQXR0cikge1xyXG4gICAgICAgIHZhciB0cnVzdGVkQ29udGV4dCA9IGdldFRydXN0ZWRDb250ZXh0KG5vZGUsIG5hbWUpO1xyXG4gICAgICAgIHZhciBtdXN0SGF2ZUV4cHJlc3Npb24gPSAhaXNOZ0F0dHI7XHJcbiAgICAgICAgdmFyIGFsbE9yTm90aGluZyA9IEFMTF9PUl9OT1RISU5HX0FUVFJTW25hbWVdIHx8IGlzTmdBdHRyO1xyXG5cclxuICAgICAgICB2YXIgaW50ZXJwb2xhdGVGbiA9ICRpbnRlcnBvbGF0ZSh2YWx1ZSwgbXVzdEhhdmVFeHByZXNzaW9uLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKTtcclxuXHJcbiAgICAgICAgLy8gbm8gaW50ZXJwb2xhdGlvbiBmb3VuZCAtPiBpZ25vcmVcclxuICAgICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKG5hbWUgPT09ICdtdWx0aXBsZScgJiYgbm9kZU5hbWVfKG5vZGUpID09PSAnc2VsZWN0Jykge1xyXG4gICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ3NlbG11bHRpJywgJ0JpbmRpbmcgdG8gdGhlIFxcJ211bHRpcGxlXFwnIGF0dHJpYnV0ZSBpcyBub3Qgc3VwcG9ydGVkLiBFbGVtZW50OiB7MH0nLCBzdGFydGluZ1RhZyhub2RlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoRVZFTlRfSEFORExFUl9BVFRSX1JFR0VYUC50ZXN0KG5hbWUpKSB7XHJcbiAgICAgICAgICB0aHJvdyAkY29tcGlsZU1pbkVycignbm9kb21ldmVudHMnLCAnSW50ZXJwb2xhdGlvbnMgZm9yIEhUTUwgRE9NIGV2ZW50IGF0dHJpYnV0ZXMgYXJlIGRpc2FsbG93ZWQuICBQbGVhc2UgdXNlIHRoZSAnICsgJ25nLSB2ZXJzaW9ucyAoc3VjaCBhcyBuZy1jbGljayBpbnN0ZWFkIG9mIG9uY2xpY2spIGluc3RlYWQuJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBkaXJlY3RpdmVzLnB1c2goe1xyXG4gICAgICAgICAgcHJpb3JpdHk6IDEwMCxcclxuICAgICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBhdHRySW50ZXJwb2xhdGVQcmVMaW5rRm4oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAgICAgICAgIHZhciAkJG9ic2VydmVycyA9IGF0dHIuJCRvYnNlcnZlcnMgfHwgKGF0dHIuJCRvYnNlcnZlcnMgPSBjcmVhdGVNYXAoKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIGF0dHJpYnV0ZSBoYXMgY2hhbmdlZCBzaW5jZSBsYXN0ICRpbnRlcnBvbGF0ZSgpZWRcclxuICAgICAgICAgICAgICAgIHZhciBuZXdWYWx1ZSA9IGF0dHJbbmFtZV07XHJcbiAgICAgICAgICAgICAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8gaW50ZXJwb2xhdGUgYWdhaW4gc2luY2UgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBoYXMgYmVlbiB1cGRhdGVkXHJcbiAgICAgICAgICAgICAgICAgIC8vIChlLmcuIGJ5IGFub3RoZXIgZGlyZWN0aXZlJ3MgY29tcGlsZSBmdW5jdGlvbilcclxuICAgICAgICAgICAgICAgICAgLy8gZW5zdXJlIHVuc2V0L2VtcHR5IHZhbHVlcyBtYWtlIGludGVycG9sYXRlRm4gZmFsc3lcclxuICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGVGbiA9IG5ld1ZhbHVlICYmICRpbnRlcnBvbGF0ZShuZXdWYWx1ZSwgdHJ1ZSwgdHJ1c3RlZENvbnRleHQsIGFsbE9yTm90aGluZyk7XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3VmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gaWYgYXR0cmlidXRlIHdhcyB1cGRhdGVkIHNvIHRoYXQgdGhlcmUgaXMgbm8gaW50ZXJwb2xhdGlvbiBnb2luZyBvbiB3ZSBkb24ndCB3YW50IHRvXHJcbiAgICAgICAgICAgICAgICAvLyByZWdpc3RlciBhbnkgb2JzZXJ2ZXJzXHJcbiAgICAgICAgICAgICAgICBpZiAoIWludGVycG9sYXRlRm4pIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIGF0dHIgb2JqZWN0IHNvIHRoYXQgaXQncyByZWFkeSBpbiBjYXNlIHdlIG5lZWQgdGhlIHZhbHVlIGZvciBpc29sYXRlXHJcbiAgICAgICAgICAgICAgICAvLyBzY29wZSBpbml0aWFsaXphdGlvbiwgb3RoZXJ3aXNlIHRoZSB2YWx1ZSB3b3VsZCBub3QgYmUgYXZhaWxhYmxlIGZyb20gaXNvbGF0ZVxyXG4gICAgICAgICAgICAgICAgLy8gZGlyZWN0aXZlJ3MgbGlua2luZyBmbiBkdXJpbmcgbGlua2luZyBwaGFzZVxyXG4gICAgICAgICAgICAgICAgYXR0cltuYW1lXSA9IGludGVycG9sYXRlRm4oc2NvcGUpO1xyXG5cclxuICAgICAgICAgICAgICAgICgkJG9ic2VydmVyc1tuYW1lXSB8fCAoJCRvYnNlcnZlcnNbbmFtZV0gPSBbXSkpLiQkaW50ZXIgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgKGF0dHIuJCRvYnNlcnZlcnMgJiYgYXR0ci4kJG9ic2VydmVyc1tuYW1lXS4kJHNjb3BlIHx8IHNjb3BlKS4kd2F0Y2goaW50ZXJwb2xhdGVGbiwgZnVuY3Rpb24gaW50ZXJwb2xhdGVGbldhdGNoQWN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAvL3NwZWNpYWwgY2FzZSBmb3IgY2xhc3MgYXR0cmlidXRlIGFkZGl0aW9uICsgcmVtb3ZhbFxyXG4gICAgICAgICAgICAgICAgICAvL3NvIHRoYXQgY2xhc3MgY2hhbmdlcyBjYW4gdGFwIGludG8gdGhlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAgICAgICAvL2hvb2tzIHByb3ZpZGVkIGJ5IHRoZSAkYW5pbWF0ZSBzZXJ2aWNlLiBCZSBzdXJlIHRvXHJcbiAgICAgICAgICAgICAgICAgIC8vc2tpcCBhbmltYXRpb25zIHdoZW4gdGhlIGZpcnN0IGRpZ2VzdCBvY2N1cnMgKHdoZW5cclxuICAgICAgICAgICAgICAgICAgLy9ib3RoIHRoZSBuZXcgYW5kIHRoZSBvbGQgdmFsdWVzIGFyZSB0aGUgc2FtZSkgc2luY2VcclxuICAgICAgICAgICAgICAgICAgLy90aGUgQ1NTIGNsYXNzZXMgYXJlIHRoZSBub24taW50ZXJwb2xhdGVkIHZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICBpZiAobmFtZSA9PT0gJ2NsYXNzJyAmJiBuZXdWYWx1ZSAhPT0gb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBhdHRyLiR1cGRhdGVDbGFzcyhuZXdWYWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIFRoaXMgaXMgYSBzcGVjaWFsIGpxTGl0ZS5yZXBsYWNlV2l0aCwgd2hpY2ggY2FuIHJlcGxhY2UgaXRlbXMgd2hpY2hcclxuICAgICAgICogaGF2ZSBubyBwYXJlbnRzLCBwcm92aWRlZCB0aGF0IHRoZSBjb250YWluaW5nIGpxTGl0ZSBjb2xsZWN0aW9uIGlzIHByb3ZpZGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0pxTGl0ZT19ICRyb290RWxlbWVudCBUaGUgcm9vdCBvZiB0aGUgY29tcGlsZSB0cmVlLiBVc2VkIHNvIHRoYXQgd2UgY2FuIHJlcGxhY2Ugbm9kZXNcclxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW4gdGhlIHJvb3Qgb2YgdGhlIHRyZWUuXHJcbiAgICAgICAqIEBwYXJhbSB7SnFMaXRlfSBlbGVtZW50c1RvUmVtb3ZlIFRoZSBqcUxpdGUgZWxlbWVudCB3aGljaCB3ZSBhcmUgZ29pbmcgdG8gcmVwbGFjZS4gV2Uga2VlcFxyXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGUgc2hlbGwsIGJ1dCByZXBsYWNlIGl0cyBET00gbm9kZSByZWZlcmVuY2UuXHJcbiAgICAgICAqIEBwYXJhbSB7Tm9kZX0gbmV3Tm9kZSBUaGUgbmV3IERPTSBub2RlLlxyXG4gICAgICAgKi9cclxuICAgICAgZnVuY3Rpb24gcmVwbGFjZVdpdGgoJHJvb3RFbGVtZW50LCBlbGVtZW50c1RvUmVtb3ZlLCBuZXdOb2RlKSB7XHJcbiAgICAgICAgdmFyIGZpcnN0RWxlbWVudFRvUmVtb3ZlID0gZWxlbWVudHNUb1JlbW92ZVswXSxcclxuICAgICAgICAgICAgcmVtb3ZlQ291bnQgPSBlbGVtZW50c1RvUmVtb3ZlLmxlbmd0aCxcclxuICAgICAgICAgICAgcGFyZW50ID0gZmlyc3RFbGVtZW50VG9SZW1vdmUucGFyZW50Tm9kZSxcclxuICAgICAgICAgICAgaSxcclxuICAgICAgICAgICAgaWk7XHJcblxyXG4gICAgICAgIGlmICgkcm9vdEVsZW1lbnQpIHtcclxuICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gJHJvb3RFbGVtZW50Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKCRyb290RWxlbWVudFtpXSA9PT0gZmlyc3RFbGVtZW50VG9SZW1vdmUpIHtcclxuICAgICAgICAgICAgICAkcm9vdEVsZW1lbnRbaSsrXSA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGksIGoyID0gaiArIHJlbW92ZUNvdW50IC0gMSwgamogPSAkcm9vdEVsZW1lbnQubGVuZ3RoOyBqIDwgamo7IGorKywgajIrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKGoyIDwgamopIHtcclxuICAgICAgICAgICAgICAgICAgJHJvb3RFbGVtZW50W2pdID0gJHJvb3RFbGVtZW50W2oyXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSAkcm9vdEVsZW1lbnRbal07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICRyb290RWxlbWVudC5sZW5ndGggLT0gcmVtb3ZlQ291bnQgLSAxO1xyXG5cclxuICAgICAgICAgICAgICAvLyBJZiB0aGUgcmVwbGFjZWQgZWxlbWVudCBpcyBhbHNvIHRoZSBqUXVlcnkgLmNvbnRleHQgdGhlbiByZXBsYWNlIGl0XHJcbiAgICAgICAgICAgICAgLy8gLmNvbnRleHQgaXMgYSBkZXByZWNhdGVkIGpRdWVyeSBhcGksIHNvIHdlIHNob3VsZCBzZXQgaXQgb25seSB3aGVuIGpRdWVyeSBzZXQgaXRcclxuICAgICAgICAgICAgICAvLyBodHRwOi8vYXBpLmpxdWVyeS5jb20vY29udGV4dC9cclxuICAgICAgICAgICAgICBpZiAoJHJvb3RFbGVtZW50LmNvbnRleHQgPT09IGZpcnN0RWxlbWVudFRvUmVtb3ZlKSB7XHJcbiAgICAgICAgICAgICAgICAkcm9vdEVsZW1lbnQuY29udGV4dCA9IG5ld05vZGU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICBwYXJlbnQucmVwbGFjZUNoaWxkKG5ld05vZGUsIGZpcnN0RWxlbWVudFRvUmVtb3ZlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFwcGVuZCBhbGwgdGhlIGBlbGVtZW50c1RvUmVtb3ZlYCB0byBhIGZyYWdtZW50LiBUaGlzIHdpbGwuLi5cclxuICAgICAgICAvLyAtIHJlbW92ZSB0aGVtIGZyb20gdGhlIERPTVxyXG4gICAgICAgIC8vIC0gYWxsb3cgdGhlbSB0byBzdGlsbCBiZSB0cmF2ZXJzZWQgd2l0aCAubmV4dFNpYmxpbmdcclxuICAgICAgICAvLyAtIGFsbG93IGEgc2luZ2xlIGZyYWdtZW50LnFTQSB0byBmZXRjaCBhbGwgZWxlbWVudHMgYmVpbmcgcmVtb3ZlZFxyXG4gICAgICAgIHZhciBmcmFnbWVudCA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHJlbW92ZUNvdW50OyBpKyspIHtcclxuICAgICAgICAgIGZyYWdtZW50LmFwcGVuZENoaWxkKGVsZW1lbnRzVG9SZW1vdmVbaV0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGpxTGl0ZS5oYXNEYXRhKGZpcnN0RWxlbWVudFRvUmVtb3ZlKSkge1xyXG4gICAgICAgICAgLy8gQ29weSBvdmVyIHVzZXIgZGF0YSAodGhhdCBpbmNsdWRlcyBBbmd1bGFyJ3MgJHNjb3BlIGV0Yy4pLiBEb24ndCBjb3B5IHByaXZhdGVcclxuICAgICAgICAgIC8vIGRhdGEgaGVyZSBiZWNhdXNlIHRoZXJlJ3Mgbm8gcHVibGljIGludGVyZmFjZSBpbiBqUXVlcnkgdG8gZG8gdGhhdCBhbmQgY29weWluZyBvdmVyXHJcbiAgICAgICAgICAvLyBldmVudCBsaXN0ZW5lcnMgKHdoaWNoIGlzIHRoZSBtYWluIHVzZSBvZiBwcml2YXRlIGRhdGEpIHdvdWxkbid0IHdvcmsgYW55d2F5LlxyXG4gICAgICAgICAganFMaXRlLmRhdGEobmV3Tm9kZSwganFMaXRlLmRhdGEoZmlyc3RFbGVtZW50VG9SZW1vdmUpKTtcclxuXHJcbiAgICAgICAgICAvLyBSZW1vdmUgJGRlc3Ryb3kgZXZlbnQgbGlzdGVuZXJzIGZyb20gYGZpcnN0RWxlbWVudFRvUmVtb3ZlYFxyXG4gICAgICAgICAganFMaXRlKGZpcnN0RWxlbWVudFRvUmVtb3ZlKS5vZmYoJyRkZXN0cm95Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBDbGVhbnVwIGFueSBkYXRhL2xpc3RlbmVycyBvbiB0aGUgZWxlbWVudHMgYW5kIGNoaWxkcmVuLlxyXG4gICAgICAgIC8vIFRoaXMgaW5jbHVkZXMgaW52b2tpbmcgdGhlICRkZXN0cm95IGV2ZW50IG9uIGFueSBlbGVtZW50cyB3aXRoIGxpc3RlbmVycy5cclxuICAgICAgICBqcUxpdGUuY2xlYW5EYXRhKGZyYWdtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyonKSk7XHJcblxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUganFMaXRlIGNvbGxlY3Rpb24gdG8gb25seSBjb250YWluIHRoZSBgbmV3Tm9kZWBcclxuICAgICAgICBmb3IgKGkgPSAxOyBpIDwgcmVtb3ZlQ291bnQ7IGkrKykge1xyXG4gICAgICAgICAgZGVsZXRlIGVsZW1lbnRzVG9SZW1vdmVbaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnRzVG9SZW1vdmVbMF0gPSBuZXdOb2RlO1xyXG4gICAgICAgIGVsZW1lbnRzVG9SZW1vdmUubGVuZ3RoID0gMTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY2xvbmVBbmRBbm5vdGF0ZUZuKGZuLCBhbm5vdGF0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICByZXR1cm4gZm4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcclxuICAgICAgICB9LCBmbiwgYW5ub3RhdGlvbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGludm9rZUxpbmtGbihsaW5rRm4sIHNjb3BlLCAkZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgbGlua0ZuKHNjb3BlLCAkZWxlbWVudCwgYXR0cnMsIGNvbnRyb2xsZXJzLCB0cmFuc2NsdWRlRm4pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUsIHN0YXJ0aW5nVGFnKCRlbGVtZW50KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBzdHJpY3RCaW5kaW5nc0NoZWNrKGF0dHJOYW1lLCBkaXJlY3RpdmVOYW1lKSB7XHJcbiAgICAgICAgaWYgKHN0cmljdENvbXBvbmVudEJpbmRpbmdzRW5hYmxlZCkge1xyXG4gICAgICAgICAgdGhyb3cgJGNvbXBpbGVNaW5FcnIoJ21pc3NpbmdhdHRyJywgJ0F0dHJpYnV0ZSBcXCd7MH1cXCcgb2YgXFwnezF9XFwnIGlzIG5vbi1vcHRpb25hbCBhbmQgbXVzdCBiZSBzZXQhJywgYXR0ck5hbWUsIGRpcmVjdGl2ZU5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU2V0IHVwICR3YXRjaGVzIGZvciBpc29sYXRlIHNjb3BlIGFuZCBjb250cm9sbGVyIGJpbmRpbmdzLlxyXG4gICAgICBmdW5jdGlvbiBpbml0aWFsaXplRGlyZWN0aXZlQmluZGluZ3Moc2NvcGUsIGF0dHJzLCBkZXN0aW5hdGlvbiwgYmluZGluZ3MsIGRpcmVjdGl2ZSkge1xyXG4gICAgICAgIHZhciByZW1vdmVXYXRjaENvbGxlY3Rpb24gPSBbXTtcclxuICAgICAgICB2YXIgaW5pdGlhbENoYW5nZXMgPSB7fTtcclxuICAgICAgICB2YXIgY2hhbmdlcztcclxuXHJcbiAgICAgICAgZm9yRWFjaChiaW5kaW5ncywgZnVuY3Rpb24gaW5pdGlhbGl6ZUJpbmRpbmcoZGVmaW5pdGlvbiwgc2NvcGVOYW1lKSB7XHJcbiAgICAgICAgICB2YXIgYXR0ck5hbWUgPSBkZWZpbml0aW9uLmF0dHJOYW1lLFxyXG4gICAgICAgICAgICAgIG9wdGlvbmFsID0gZGVmaW5pdGlvbi5vcHRpb25hbCxcclxuICAgICAgICAgICAgICBtb2RlID0gZGVmaW5pdGlvbi5tb2RlLFxyXG4gICAgICAgICAgICAgIC8vIEAsID0sIDwsIG9yICZcclxuICAgICAgICAgIGxhc3RWYWx1ZSxcclxuICAgICAgICAgICAgICBwYXJlbnRHZXQsXHJcbiAgICAgICAgICAgICAgcGFyZW50U2V0LFxyXG4gICAgICAgICAgICAgIGNvbXBhcmUsXHJcbiAgICAgICAgICAgICAgcmVtb3ZlV2F0Y2g7XHJcblxyXG4gICAgICAgICAgc3dpdGNoIChtb2RlKSB7XHJcblxyXG4gICAgICAgICAgICBjYXNlICdAJzpcclxuICAgICAgICAgICAgICBpZiAoIW9wdGlvbmFsICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHN0cmljdEJpbmRpbmdzQ2hlY2soYXR0ck5hbWUsIGRpcmVjdGl2ZS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBhdHRyc1thdHRyTmFtZV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHJlbW92ZVdhdGNoID0gYXR0cnMuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSB8fCBpc0Jvb2xlYW4odmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhciBvbGRWYWx1ZSA9IGRlc3RpbmF0aW9uW3Njb3BlTmFtZV07XHJcbiAgICAgICAgICAgICAgICAgIHJlY29yZENoYW5nZXMoc2NvcGVOYW1lLCB2YWx1ZSwgb2xkVmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgYXR0cnMuJCRvYnNlcnZlcnNbYXR0ck5hbWVdLiQkc2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBhdHRyc1thdHRyTmFtZV07XHJcbiAgICAgICAgICAgICAgaWYgKGlzU3RyaW5nKGxhc3RWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIGJlZW4gcHJvdmlkZWQgdGhlbiB3ZSB0cmlnZ2VyIGFuIGludGVycG9sYXRpb24gdG8gZW5zdXJlXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgdmFsdWUgaXMgdGhlcmUgZm9yIHVzZSBpbiB0aGUgbGluayBmblxyXG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9ICRpbnRlcnBvbGF0ZShsYXN0VmFsdWUpKHNjb3BlKTtcclxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQm9vbGVhbihsYXN0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlcyBpcyBvbmUgb2YgdGhlIEJPT0xFQU5fQVRUUiB0aGVuIEFuZ3VsYXIgd2lsbCBoYXZlIGNvbnZlcnRlZFxyXG4gICAgICAgICAgICAgICAgLy8gdGhlIHZhbHVlIHRvIGJvb2xlYW4gcmF0aGVyIHRoYW4gYSBzdHJpbmcsIHNvIHdlIHNwZWNpYWwgY2FzZSB0aGlzIHNpdHVhdGlvblxyXG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaW5pdGlhbENoYW5nZXNbc2NvcGVOYW1lXSA9IG5ldyBTaW1wbGVDaGFuZ2UoX1VOSU5JVElBTElaRURfVkFMVUUsIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pO1xyXG4gICAgICAgICAgICAgIHJlbW92ZVdhdGNoQ29sbGVjdGlvbi5wdXNoKHJlbW92ZVdhdGNoKTtcclxuICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJz0nOlxyXG4gICAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChhdHRycywgYXR0ck5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uYWwpIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgc3RyaWN0QmluZGluZ3NDaGVjayhhdHRyTmFtZSwgZGlyZWN0aXZlLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgYXR0cnNbYXR0ck5hbWVdID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAob3B0aW9uYWwgJiYgIWF0dHJzW2F0dHJOYW1lXSkgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgIHBhcmVudEdldCA9ICRwYXJzZShhdHRyc1thdHRyTmFtZV0pO1xyXG4gICAgICAgICAgICAgIGlmIChwYXJlbnRHZXQubGl0ZXJhbCkge1xyXG4gICAgICAgICAgICAgICAgY29tcGFyZSA9IGVxdWFscztcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29tcGFyZSA9IHNpbXBsZUNvbXBhcmU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHBhcmVudFNldCA9IHBhcmVudEdldC5hc3NpZ24gfHwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgLy8gcmVzZXQgdGhlIGNoYW5nZSwgb3Igd2Ugd2lsbCB0aHJvdyB0aGlzIGV4Y2VwdGlvbiBvbiBldmVyeSAkZGlnZXN0XHJcbiAgICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcclxuICAgICAgICAgICAgICAgIHRocm93ICRjb21waWxlTWluRXJyKCdub25hc3NpZ24nLCAnRXhwcmVzc2lvbiBcXCd7MH1cXCcgaW4gYXR0cmlidXRlIFxcJ3sxfVxcJyB1c2VkIHdpdGggZGlyZWN0aXZlIFxcJ3syfVxcJyBpcyBub24tYXNzaWduYWJsZSEnLCBhdHRyc1thdHRyTmFtZV0sIGF0dHJOYW1lLCBkaXJlY3RpdmUubmFtZSk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICBsYXN0VmFsdWUgPSBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gcGFyZW50R2V0KHNjb3BlKTtcclxuICAgICAgICAgICAgICB2YXIgcGFyZW50VmFsdWVXYXRjaCA9IGZ1bmN0aW9uIHBhcmVudFZhbHVlV2F0Y2gocGFyZW50VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmICghY29tcGFyZShwYXJlbnRWYWx1ZSwgZGVzdGluYXRpb25bc2NvcGVOYW1lXSkpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gd2UgYXJlIG91dCBvZiBzeW5jIGFuZCBuZWVkIHRvIGNvcHlcclxuICAgICAgICAgICAgICAgICAgaWYgKCFjb21wYXJlKHBhcmVudFZhbHVlLCBsYXN0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcGFyZW50IGNoYW5nZWQgYW5kIGl0IGhhcyBwcmVjZWRlbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHBhcmVudFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBwYXJlbnQgY2FuIGJlIGFzc2lnbmVkIHRoZW4gZG8gc29cclxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRTZXQoc2NvcGUsIHBhcmVudFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXSk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IHBhcmVudFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGxhc3RWYWx1ZTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIHBhcmVudFZhbHVlV2F0Y2guJHN0YXRlZnVsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICBpZiAoZGVmaW5pdGlvbi5jb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oYXR0cnNbYXR0ck5hbWVdLCBwYXJlbnRWYWx1ZVdhdGNoKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmVtb3ZlV2F0Y2ggPSBzY29wZS4kd2F0Y2goJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSwgcGFyZW50VmFsdWVXYXRjaCksIG51bGwsIHBhcmVudEdldC5saXRlcmFsKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uLnB1c2gocmVtb3ZlV2F0Y2gpO1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnPCc6XHJcbiAgICAgICAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbCkgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBzdHJpY3RCaW5kaW5nc0NoZWNrKGF0dHJOYW1lLCBkaXJlY3RpdmUubmFtZSk7XHJcbiAgICAgICAgICAgICAgICBhdHRyc1thdHRyTmFtZV0gPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIGlmIChvcHRpb25hbCAmJiAhYXR0cnNbYXR0ck5hbWVdKSBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgcGFyZW50R2V0ID0gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSk7XHJcbiAgICAgICAgICAgICAgdmFyIGRlZXBXYXRjaCA9IHBhcmVudEdldC5saXRlcmFsO1xyXG5cclxuICAgICAgICAgICAgICB2YXIgaW5pdGlhbFZhbHVlID0gZGVzdGluYXRpb25bc2NvcGVOYW1lXSA9IHBhcmVudEdldChzY29wZSk7XHJcbiAgICAgICAgICAgICAgaW5pdGlhbENoYW5nZXNbc2NvcGVOYW1lXSA9IG5ldyBTaW1wbGVDaGFuZ2UoX1VOSU5JVElBTElaRURfVkFMVUUsIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0pO1xyXG5cclxuICAgICAgICAgICAgICByZW1vdmVXYXRjaCA9IHNjb3BlLiR3YXRjaChwYXJlbnRHZXQsIGZ1bmN0aW9uIHBhcmVudFZhbHVlV2F0Y2hBY3Rpb24obmV3VmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2xkVmFsdWUgPT09IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChvbGRWYWx1ZSA9PT0gaW5pdGlhbFZhbHVlIHx8IGRlZXBXYXRjaCAmJiBlcXVhbHMob2xkVmFsdWUsIGluaXRpYWxWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBpbml0aWFsVmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZWNvcmRDaGFuZ2VzKHNjb3BlTmFtZSwgbmV3VmFsdWUsIG9sZFZhbHVlKTtcclxuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uW3Njb3BlTmFtZV0gPSBuZXdWYWx1ZTtcclxuICAgICAgICAgICAgICB9LCBkZWVwV2F0Y2gpO1xyXG5cclxuICAgICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb24ucHVzaChyZW1vdmVXYXRjaCk7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBjYXNlICcmJzpcclxuICAgICAgICAgICAgICBpZiAoIW9wdGlvbmFsICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKGF0dHJzLCBhdHRyTmFtZSkpIHtcclxuICAgICAgICAgICAgICAgIHN0cmljdEJpbmRpbmdzQ2hlY2soYXR0ck5hbWUsIGRpcmVjdGl2ZS5uYW1lKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgLy8gRG9uJ3QgYXNzaWduIE9iamVjdC5wcm90b3R5cGUgbWV0aG9kIHRvIHNjb3BlXHJcbiAgICAgICAgICAgICAgcGFyZW50R2V0ID0gYXR0cnMuaGFzT3duUHJvcGVydHkoYXR0ck5hbWUpID8gJHBhcnNlKGF0dHJzW2F0dHJOYW1lXSkgOiBub29wO1xyXG5cclxuICAgICAgICAgICAgICAvLyBEb24ndCBhc3NpZ24gbm9vcCB0byBkZXN0aW5hdGlvbiBpZiBleHByZXNzaW9uIGlzIG5vdCB2YWxpZFxyXG4gICAgICAgICAgICAgIGlmIChwYXJlbnRHZXQgPT09IG5vb3AgJiYgb3B0aW9uYWwpIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBkZXN0aW5hdGlvbltzY29wZU5hbWVdID0gZnVuY3Rpb24gKGxvY2Fscykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcmVudEdldChzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiByZWNvcmRDaGFuZ2VzKGtleSwgY3VycmVudFZhbHVlLCBwcmV2aW91c1ZhbHVlKSB7XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihkZXN0aW5hdGlvbi4kb25DaGFuZ2VzKSAmJiAhc2ltcGxlQ29tcGFyZShjdXJyZW50VmFsdWUsIHByZXZpb3VzVmFsdWUpKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHdlIGhhdmUgbm90IGFscmVhZHkgc2NoZWR1bGVkIHRoZSB0b3AgbGV2ZWwgb25DaGFuZ2VzUXVldWUgaGFuZGxlciB0aGVuIGRvIHNvIG5vd1xyXG4gICAgICAgICAgICBpZiAoIW9uQ2hhbmdlc1F1ZXVlKSB7XHJcbiAgICAgICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KGZsdXNoT25DaGFuZ2VzUXVldWUpO1xyXG4gICAgICAgICAgICAgIG9uQ2hhbmdlc1F1ZXVlID0gW107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBub3QgYWxyZWFkeSBxdWV1ZWQgYSB0cmlnZ2VyIG9mIG9uQ2hhbmdlcyBmb3IgdGhpcyBjb250cm9sbGVyIHRoZW4gZG8gc28gbm93XHJcbiAgICAgICAgICAgIGlmICghY2hhbmdlcykge1xyXG4gICAgICAgICAgICAgIGNoYW5nZXMgPSB7fTtcclxuICAgICAgICAgICAgICBvbkNoYW5nZXNRdWV1ZS5wdXNoKHRyaWdnZXJPbkNoYW5nZXNIb29rKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBJZiB0aGUgaGFzIGJlZW4gYSBjaGFuZ2Ugb24gdGhpcyBwcm9wZXJ0eSBhbHJlYWR5IHRoZW4gd2UgbmVlZCB0byByZXVzZSB0aGUgcHJldmlvdXMgdmFsdWVcclxuICAgICAgICAgICAgaWYgKGNoYW5nZXNba2V5XSkge1xyXG4gICAgICAgICAgICAgIHByZXZpb3VzVmFsdWUgPSBjaGFuZ2VzW2tleV0ucHJldmlvdXNWYWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBTdG9yZSB0aGlzIGNoYW5nZVxyXG4gICAgICAgICAgICBjaGFuZ2VzW2tleV0gPSBuZXcgU2ltcGxlQ2hhbmdlKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiB0cmlnZ2VyT25DaGFuZ2VzSG9vaygpIHtcclxuICAgICAgICAgIGRlc3RpbmF0aW9uLiRvbkNoYW5nZXMoY2hhbmdlcyk7XHJcbiAgICAgICAgICAvLyBOb3cgY2xlYXIgdGhlIGNoYW5nZXMgc28gdGhhdCB3ZSBzY2hlZHVsZSBvbkNoYW5nZXMgd2hlbiBtb3JlIGNoYW5nZXMgYXJyaXZlXHJcbiAgICAgICAgICBjaGFuZ2VzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGluaXRpYWxDaGFuZ2VzOiBpbml0aWFsQ2hhbmdlcyxcclxuICAgICAgICAgIHJlbW92ZVdhdGNoZXM6IHJlbW92ZVdhdGNoQ29sbGVjdGlvbi5sZW5ndGggJiYgZnVuY3Rpb24gcmVtb3ZlV2F0Y2hlcygpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmVtb3ZlV2F0Y2hDb2xsZWN0aW9uLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcclxuICAgICAgICAgICAgICByZW1vdmVXYXRjaENvbGxlY3Rpb25baV0oKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH1dO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gU2ltcGxlQ2hhbmdlKHByZXZpb3VzLCBjdXJyZW50KSB7XHJcbiAgICB0aGlzLnByZXZpb3VzVmFsdWUgPSBwcmV2aW91cztcclxuICAgIHRoaXMuY3VycmVudFZhbHVlID0gY3VycmVudDtcclxuICB9XHJcbiAgU2ltcGxlQ2hhbmdlLnByb3RvdHlwZS5pc0ZpcnN0Q2hhbmdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHRoaXMucHJldmlvdXNWYWx1ZSA9PT0gX1VOSU5JVElBTElaRURfVkFMVUU7XHJcbiAgfTtcclxuXHJcbiAgdmFyIFBSRUZJWF9SRUdFWFAgPSAvXigoPzp4fGRhdGEpWzpcXC1fXSkvaTtcclxuICB2YXIgU1BFQ0lBTF9DSEFSU19SRUdFWFAgPSAvWzpcXC1fXSsoLikvZztcclxuXHJcbiAgLyoqXHJcbiAgICogQ29udmVydHMgYWxsIGFjY2VwdGVkIGRpcmVjdGl2ZXMgZm9ybWF0IGludG8gcHJvcGVyIGRpcmVjdGl2ZSBuYW1lLlxyXG4gICAqIEBwYXJhbSBuYW1lIE5hbWUgdG8gbm9ybWFsaXplXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gZGlyZWN0aXZlTm9ybWFsaXplKG5hbWUpIHtcclxuICAgIHJldHVybiBuYW1lLnJlcGxhY2UoUFJFRklYX1JFR0VYUCwgJycpLnJlcGxhY2UoU1BFQ0lBTF9DSEFSU19SRUdFWFAsIGZuQ2FtZWxDYXNlUmVwbGFjZSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgdHlwZVxyXG4gICAqIEBuYW1lICRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBBIHNoYXJlZCBvYmplY3QgYmV0d2VlbiBkaXJlY3RpdmUgY29tcGlsZSAvIGxpbmtpbmcgZnVuY3Rpb25zIHdoaWNoIGNvbnRhaW5zIG5vcm1hbGl6ZWQgRE9NXHJcbiAgICogZWxlbWVudCBhdHRyaWJ1dGVzLiBUaGUgdmFsdWVzIHJlZmxlY3QgY3VycmVudCBiaW5kaW5nIHN0YXRlIGB7eyB9fWAuIFRoZSBub3JtYWxpemF0aW9uIGlzXHJcbiAgICogbmVlZGVkIHNpbmNlIGFsbCBvZiB0aGVzZSBhcmUgdHJlYXRlZCBhcyBlcXVpdmFsZW50IGluIEFuZ3VsYXI6XHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKiAgICA8c3BhbiBuZzpiaW5kPVwiYVwiIG5nLWJpbmQ9XCJhXCIgZGF0YS1uZy1iaW5kPVwiYVwiIHgtbmctYmluZD1cImFcIj5cclxuICAgKiBgYGBcclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICogQG5hbWUgJGNvbXBpbGUuZGlyZWN0aXZlLkF0dHJpYnV0ZXMjJGF0dHJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEEgbWFwIG9mIERPTSBlbGVtZW50IGF0dHJpYnV0ZSBuYW1lcyB0byB0aGUgbm9ybWFsaXplZCBuYW1lLiBUaGlzIGlzXHJcbiAgICogbmVlZGVkIHRvIGRvIHJldmVyc2UgbG9va3VwIGZyb20gbm9ybWFsaXplZCBuYW1lIGJhY2sgdG8gYWN0dWFsIG5hbWUuXHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBtZXRob2RcclxuICAgKiBAbmFtZSAkY29tcGlsZS5kaXJlY3RpdmUuQXR0cmlidXRlcyMkc2V0XHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNldCBET00gZWxlbWVudCBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5vcm1hbGl6ZWQgZWxlbWVudCBhdHRyaWJ1dGUgbmFtZSBvZiB0aGUgcHJvcGVydHkgdG8gbW9kaWZ5LiBUaGUgbmFtZSBpc1xyXG4gICAqICAgICAgICAgIHJldmVyc2UtdHJhbnNsYXRlZCB1c2luZyB0aGUge0BsaW5rIG5nLiRjb21waWxlLmRpcmVjdGl2ZS5BdHRyaWJ1dGVzIyRhdHRyICRhdHRyfVxyXG4gICAqICAgICAgICAgIHByb3BlcnR5IHRvIHRoZSBvcmlnaW5hbCBuYW1lLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBWYWx1ZSB0byBzZXQgdGhlIGF0dHJpYnV0ZSB0by4gVGhlIHZhbHVlIGNhbiBiZSBhbiBpbnRlcnBvbGF0ZWQgc3RyaW5nLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBDbG9zdXJlIGNvbXBpbGVyIHR5cGUgaW5mb3JtYXRpb25cclxuICAgKi9cclxuXHJcbiAgZnVuY3Rpb24gbm9kZXNldExpbmtpbmdGbihcclxuICAvKiBhbmd1bGFyLlNjb3BlICovc2NvcGUsXHJcbiAgLyogTm9kZUxpc3QgKi9ub2RlTGlzdCxcclxuICAvKiBFbGVtZW50ICovcm9vdEVsZW1lbnQsXHJcbiAgLyogZnVuY3Rpb24oRnVuY3Rpb24pICovYm91bmRUcmFuc2NsdWRlRm4pIHt9XHJcblxyXG4gIGZ1bmN0aW9uIGRpcmVjdGl2ZUxpbmtpbmdGbihcclxuICAvKiBub2Rlc2V0TGlua2luZ0ZuICovbm9kZXNldExpbmtpbmdGbixcclxuICAvKiBhbmd1bGFyLlNjb3BlICovc2NvcGUsXHJcbiAgLyogTm9kZSAqL25vZGUsXHJcbiAgLyogRWxlbWVudCAqL3Jvb3RFbGVtZW50LFxyXG4gIC8qIGZ1bmN0aW9uKEZ1bmN0aW9uKSAqL2JvdW5kVHJhbnNjbHVkZUZuKSB7fVxyXG5cclxuICBmdW5jdGlvbiB0b2tlbkRpZmZlcmVuY2Uoc3RyMSwgc3RyMikge1xyXG4gICAgdmFyIHZhbHVlcyA9ICcnLFxyXG4gICAgICAgIHRva2VuczEgPSBzdHIxLnNwbGl0KC9cXHMrLyksXHJcbiAgICAgICAgdG9rZW5zMiA9IHN0cjIuc3BsaXQoL1xccysvKTtcclxuXHJcbiAgICBvdXRlcjogZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIHZhciB0b2tlbiA9IHRva2VuczFbaV07XHJcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdG9rZW5zMi5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGlmICh0b2tlbiA9PT0gdG9rZW5zMltqXSkgY29udGludWUgb3V0ZXI7XHJcbiAgICAgIH1cclxuICAgICAgdmFsdWVzICs9ICh2YWx1ZXMubGVuZ3RoID4gMCA/ICcgJyA6ICcnKSArIHRva2VuO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHZhbHVlcztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJlbW92ZUNvbW1lbnRzKGpxTm9kZXMpIHtcclxuICAgIGpxTm9kZXMgPSBqcUxpdGUoanFOb2Rlcyk7XHJcbiAgICB2YXIgaSA9IGpxTm9kZXMubGVuZ3RoO1xyXG5cclxuICAgIGlmIChpIDw9IDEpIHtcclxuICAgICAgcmV0dXJuIGpxTm9kZXM7XHJcbiAgICB9XHJcblxyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICB2YXIgbm9kZSA9IGpxTm9kZXNbaV07XHJcbiAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfQ09NTUVOVCB8fCBub2RlLm5vZGVUeXBlID09PSBOT0RFX1RZUEVfVEVYVCAmJiBub2RlLm5vZGVWYWx1ZS50cmltKCkgPT09ICcnKSB7XHJcbiAgICAgICAgc3BsaWNlLmNhbGwoanFOb2RlcywgaSwgMSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBqcU5vZGVzO1xyXG4gIH1cclxuXHJcbiAgdmFyICRjb250cm9sbGVyTWluRXJyID0gbWluRXJyKCckY29udHJvbGxlcicpO1xyXG5cclxuICB2YXIgQ05UUkxfUkVHID0gL14oXFxTKykoXFxzK2FzXFxzKyhbXFx3JF0rKSk/JC87XHJcbiAgZnVuY3Rpb24gaWRlbnRpZmllckZvckNvbnRyb2xsZXIoY29udHJvbGxlciwgaWRlbnQpIHtcclxuICAgIGlmIChpZGVudCAmJiBpc1N0cmluZyhpZGVudCkpIHJldHVybiBpZGVudDtcclxuICAgIGlmIChpc1N0cmluZyhjb250cm9sbGVyKSkge1xyXG4gICAgICB2YXIgbWF0Y2ggPSBDTlRSTF9SRUcuZXhlYyhjb250cm9sbGVyKTtcclxuICAgICAgaWYgKG1hdGNoKSByZXR1cm4gbWF0Y2hbM107XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvdmlkZXJcclxuICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyXHJcbiAgICogQHRoaXNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoZSB7QGxpbmsgbmcuJGNvbnRyb2xsZXIgJGNvbnRyb2xsZXIgc2VydmljZX0gaXMgdXNlZCBieSBBbmd1bGFyIHRvIGNyZWF0ZSBuZXdcclxuICAgKiBjb250cm9sbGVycy5cclxuICAgKlxyXG4gICAqIFRoaXMgcHJvdmlkZXIgYWxsb3dzIGNvbnRyb2xsZXIgcmVnaXN0cmF0aW9uIHZpYSB0aGVcclxuICAgKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciNyZWdpc3RlciByZWdpc3Rlcn0gbWV0aG9kLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uICRDb250cm9sbGVyUHJvdmlkZXIoKSB7XHJcbiAgICB2YXIgY29udHJvbGxlcnMgPSB7fSxcclxuICAgICAgICBnbG9iYWxzID0gZmFsc2U7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI2hhc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgQ29udHJvbGxlciBuYW1lIHRvIGNoZWNrLlxyXG4gICAgICovXHJcbiAgICB0aGlzLmhhcyA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgIHJldHVybiBjb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI3JlZ2lzdGVyXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3R9IG5hbWUgQ29udHJvbGxlciBuYW1lLCBvciBhbiBvYmplY3QgbWFwIG9mIGNvbnRyb2xsZXJzIHdoZXJlIHRoZSBrZXlzIGFyZVxyXG4gICAgICogICAgdGhlIG5hbWVzIGFuZCB0aGUgdmFsdWVzIGFyZSB0aGUgY29uc3RydWN0b3JzLlxyXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbnxBcnJheX0gY29uc3RydWN0b3IgQ29udHJvbGxlciBjb25zdHJ1Y3RvciBmbiAob3B0aW9uYWxseSBkZWNvcmF0ZWQgd2l0aCBESVxyXG4gICAgICogICAgYW5ub3RhdGlvbnMgaW4gdGhlIGFycmF5IG5vdGF0aW9uKS5cclxuICAgICAqL1xyXG4gICAgdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uIChuYW1lLCBjb25zdHJ1Y3Rvcikge1xyXG4gICAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShuYW1lLCAnY29udHJvbGxlcicpO1xyXG4gICAgICBpZiAoaXNPYmplY3QobmFtZSkpIHtcclxuICAgICAgICBleHRlbmQoY29udHJvbGxlcnMsIG5hbWUpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnRyb2xsZXJzW25hbWVdID0gY29uc3RydWN0b3I7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFsc1xyXG4gICAgICogQGRlc2NyaXB0aW9uIElmIGNhbGxlZCwgYWxsb3dzIGAkY29udHJvbGxlcmAgdG8gZmluZCBjb250cm9sbGVyIGNvbnN0cnVjdG9ycyBvbiBgd2luZG93YFxyXG4gICAgICpcclxuICAgICAqIEBkZXByZWNhdGVkXHJcbiAgICAgKiBzaW5jZVZlcnNpb249XCJ2MS4zLjBcIlxyXG4gICAgICogcmVtb3ZlVmVyc2lvbj1cInYxLjcuMFwiXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBvZiBmaW5kaW5nIGNvbnRyb2xsZXJzIGhhcyBiZWVuIGRlcHJlY2F0ZWQuXHJcbiAgICAgKi9cclxuICAgIHRoaXMuYWxsb3dHbG9iYWxzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBnbG9iYWxzID0gdHJ1ZTtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy4kZ2V0ID0gWyckaW5qZWN0b3InLCAnJHdpbmRvdycsIGZ1bmN0aW9uICgkaW5qZWN0b3IsICR3aW5kb3cpIHtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAgICAgKiBAbmFtZSAkY29udHJvbGxlclxyXG4gICAgICAgKiBAcmVxdWlyZXMgJGluamVjdG9yXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSBjb25zdHJ1Y3RvciBJZiBjYWxsZWQgd2l0aCBhIGZ1bmN0aW9uIHRoZW4gaXQncyBjb25zaWRlcmVkIHRvIGJlIHRoZVxyXG4gICAgICAgKiAgICBjb250cm9sbGVyIGNvbnN0cnVjdG9yIGZ1bmN0aW9uLiBPdGhlcndpc2UgaXQncyBjb25zaWRlcmVkIHRvIGJlIGEgc3RyaW5nIHdoaWNoIGlzIHVzZWRcclxuICAgICAgICogICAgdG8gcmV0cmlldmUgdGhlIGNvbnRyb2xsZXIgY29uc3RydWN0b3IgdXNpbmcgdGhlIGZvbGxvd2luZyBzdGVwczpcclxuICAgICAgICpcclxuICAgICAgICogICAgKiBjaGVjayBpZiBhIGNvbnRyb2xsZXIgd2l0aCBnaXZlbiBuYW1lIGlzIHJlZ2lzdGVyZWQgdmlhIGAkY29udHJvbGxlclByb3ZpZGVyYFxyXG4gICAgICAgKiAgICAqIGNoZWNrIGlmIGV2YWx1YXRpbmcgdGhlIHN0cmluZyBvbiB0aGUgY3VycmVudCBzY29wZSByZXR1cm5zIGEgY29uc3RydWN0b3JcclxuICAgICAgICogICAgKiBpZiAkY29udHJvbGxlclByb3ZpZGVyI2FsbG93R2xvYmFscywgY2hlY2sgYHdpbmRvd1tjb25zdHJ1Y3Rvcl1gIG9uIHRoZSBnbG9iYWxcclxuICAgICAgICogICAgICBgd2luZG93YCBvYmplY3QgKGRlcHJlY2F0ZWQsIG5vdCByZWNvbW1lbmRlZClcclxuICAgICAgICpcclxuICAgICAgICogICAgVGhlIHN0cmluZyBjYW4gdXNlIHRoZSBgY29udHJvbGxlciBhcyBwcm9wZXJ0eWAgc3ludGF4LCB3aGVyZSB0aGUgY29udHJvbGxlciBpbnN0YW5jZSBpcyBwdWJsaXNoZWRcclxuICAgICAgICogICAgYXMgdGhlIHNwZWNpZmllZCBwcm9wZXJ0eSBvbiB0aGUgYHNjb3BlYDsgdGhlIGBzY29wZWAgbXVzdCBiZSBpbmplY3RlZCBpbnRvIGBsb2NhbHNgIHBhcmFtIGZvciB0aGlzXHJcbiAgICAgICAqICAgIHRvIHdvcmsgY29ycmVjdGx5LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdH0gbG9jYWxzIEluamVjdGlvbiBsb2NhbHMgZm9yIENvbnRyb2xsZXIuXHJcbiAgICAgICAqIEByZXR1cm4ge09iamVjdH0gSW5zdGFuY2Ugb2YgZ2l2ZW4gY29udHJvbGxlci5cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIGAkY29udHJvbGxlcmAgc2VydmljZSBpcyByZXNwb25zaWJsZSBmb3IgaW5zdGFudGlhdGluZyBjb250cm9sbGVycy5cclxuICAgICAgICpcclxuICAgICAgICogSXQncyBqdXN0IGEgc2ltcGxlIGNhbGwgdG8ge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0sIGJ1dCBleHRyYWN0ZWQgaW50b1xyXG4gICAgICAgKiBhIHNlcnZpY2UsIHNvIHRoYXQgb25lIGNhbiBvdmVycmlkZSB0aGlzIHNlcnZpY2Ugd2l0aCBbQkMgdmVyc2lvbl0oaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vMTY0OTc4OCkuXHJcbiAgICAgICAqL1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gJGNvbnRyb2xsZXIoZXhwcmVzc2lvbiwgbG9jYWxzLCBsYXRlciwgaWRlbnQpIHtcclxuICAgICAgICAvLyBQUklWQVRFIEFQSTpcclxuICAgICAgICAvLyAgIHBhcmFtIGBsYXRlcmAgLS0tIGluZGljYXRlcyB0aGF0IHRoZSBjb250cm9sbGVyJ3MgY29uc3RydWN0b3IgaXMgaW52b2tlZCBhdCBhIGxhdGVyIHRpbWUuXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBJZiB0cnVlLCAkY29udHJvbGxlciB3aWxsIGFsbG9jYXRlIHRoZSBvYmplY3Qgd2l0aCB0aGUgY29ycmVjdFxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgcHJvdG90eXBlIGNoYWluLCBidXQgd2lsbCBub3QgaW52b2tlIHRoZSBjb250cm9sbGVyIHVudGlsIGEgcmV0dXJuZWRcclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrIGlzIGludm9rZWQuXHJcbiAgICAgICAgLy8gICBwYXJhbSBgaWRlbnRgIC0tLSBBbiBvcHRpb25hbCBsYWJlbCB3aGljaCBvdmVycmlkZXMgdGhlIGxhYmVsIHBhcnNlZCBmcm9tIHRoZSBjb250cm9sbGVyXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICBleHByZXNzaW9uLCBpZiBhbnkuXHJcbiAgICAgICAgdmFyIGluc3RhbmNlLCBtYXRjaCwgY29uc3RydWN0b3IsIGlkZW50aWZpZXI7XHJcbiAgICAgICAgbGF0ZXIgPSBsYXRlciA9PT0gdHJ1ZTtcclxuICAgICAgICBpZiAoaWRlbnQgJiYgaXNTdHJpbmcoaWRlbnQpKSB7XHJcbiAgICAgICAgICBpZGVudGlmaWVyID0gaWRlbnQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNTdHJpbmcoZXhwcmVzc2lvbikpIHtcclxuICAgICAgICAgIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaChDTlRSTF9SRUcpO1xyXG4gICAgICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgICAgICB0aHJvdyAkY29udHJvbGxlck1pbkVycignY3RybGZtdCcsICdCYWRseSBmb3JtZWQgY29udHJvbGxlciBzdHJpbmcgXFwnezB9XFwnLiAnICsgJ011c3QgbWF0Y2ggYF9fbmFtZV9fIGFzIF9faWRfX2Agb3IgYF9fbmFtZV9fYC4nLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGNvbnN0cnVjdG9yID0gbWF0Y2hbMV07XHJcbiAgICAgICAgICBpZGVudGlmaWVyID0gaWRlbnRpZmllciB8fCBtYXRjaFszXTtcclxuICAgICAgICAgIGV4cHJlc3Npb24gPSBjb250cm9sbGVycy5oYXNPd25Qcm9wZXJ0eShjb25zdHJ1Y3RvcikgPyBjb250cm9sbGVyc1tjb25zdHJ1Y3Rvcl0gOiBnZXR0ZXIobG9jYWxzLiRzY29wZSwgY29uc3RydWN0b3IsIHRydWUpIHx8IChnbG9iYWxzID8gZ2V0dGVyKCR3aW5kb3csIGNvbnN0cnVjdG9yLCB0cnVlKSA6IHVuZGVmaW5lZCk7XHJcblxyXG4gICAgICAgICAgaWYgKCFleHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHRocm93ICRjb250cm9sbGVyTWluRXJyKCdjdHJscmVnJywgJ1RoZSBjb250cm9sbGVyIHdpdGggdGhlIG5hbWUgXFwnezB9XFwnIGlzIG5vdCByZWdpc3RlcmVkLicsIGNvbnN0cnVjdG9yKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBhc3NlcnRBcmdGbihleHByZXNzaW9uLCBjb25zdHJ1Y3RvciwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAobGF0ZXIpIHtcclxuICAgICAgICAgIC8vIEluc3RhbnRpYXRlIGNvbnRyb2xsZXIgbGF0ZXI6XHJcbiAgICAgICAgICAvLyBUaGlzIG1hY2hpbmVyeSBpcyB1c2VkIHRvIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZiB0aGUgb2JqZWN0IGJlZm9yZSBjYWxsaW5nIHRoZVxyXG4gICAgICAgICAgLy8gY29udHJvbGxlcidzIGNvbnN0cnVjdG9yIGl0c2VsZi5cclxuICAgICAgICAgIC8vXHJcbiAgICAgICAgICAvLyBUaGlzIGFsbG93cyBwcm9wZXJ0aWVzIHRvIGJlIGFkZGVkIHRvIHRoZSBjb250cm9sbGVyIGJlZm9yZSB0aGUgY29uc3RydWN0b3IgaXNcclxuICAgICAgICAgIC8vIGludm9rZWQuIFByaW1hcmlseSwgdGhpcyBpcyB1c2VkIGZvciBpc29sYXRlIHNjb3BlIGJpbmRpbmdzIGluICRjb21waWxlLlxyXG4gICAgICAgICAgLy9cclxuICAgICAgICAgIC8vIFRoaXMgZmVhdHVyZSBpcyBub3QgaW50ZW5kZWQgZm9yIHVzZSBieSBhcHBsaWNhdGlvbnMsIGFuZCBpcyB0aHVzIG5vdCBkb2N1bWVudGVkXHJcbiAgICAgICAgICAvLyBwdWJsaWNseS5cclxuICAgICAgICAgIC8vIE9iamVjdCBjcmVhdGlvbjogaHR0cDovL2pzcGVyZi5jb20vY3JlYXRlLWNvbnN0cnVjdG9yLzJcclxuICAgICAgICAgIHZhciBjb250cm9sbGVyUHJvdG90eXBlID0gKGlzQXJyYXkoZXhwcmVzc2lvbikgPyBleHByZXNzaW9uW2V4cHJlc3Npb24ubGVuZ3RoIC0gMV0gOiBleHByZXNzaW9uKS5wcm90b3R5cGU7XHJcbiAgICAgICAgICBpbnN0YW5jZSA9IE9iamVjdC5jcmVhdGUoY29udHJvbGxlclByb3RvdHlwZSB8fCBudWxsKTtcclxuXHJcbiAgICAgICAgICBpZiAoaWRlbnRpZmllcikge1xyXG4gICAgICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGV4dGVuZChmdW5jdGlvbiAkY29udHJvbGxlckluaXQoKSB7XHJcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSAkaW5qZWN0b3IuaW52b2tlKGV4cHJlc3Npb24sIGluc3RhbmNlLCBsb2NhbHMsIGNvbnN0cnVjdG9yKTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCAhPT0gaW5zdGFuY2UgJiYgKGlzT2JqZWN0KHJlc3VsdCkgfHwgaXNGdW5jdGlvbihyZXN1bHQpKSkge1xyXG4gICAgICAgICAgICAgIGluc3RhbmNlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgIGlmIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiByZXN1bHQgY2hhbmdlZCwgcmUtYXNzaWduIGNvbnRyb2xsZXJBcyB2YWx1ZSB0byBzY29wZS5cclxuICAgICAgICAgICAgICAgIGFkZElkZW50aWZpZXIobG9jYWxzLCBpZGVudGlmaWVyLCBpbnN0YW5jZSwgY29uc3RydWN0b3IgfHwgZXhwcmVzc2lvbi5uYW1lKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBpbnN0YW5jZTogaW5zdGFuY2UsXHJcbiAgICAgICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXJcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaW5zdGFuY2UgPSAkaW5qZWN0b3IuaW5zdGFudGlhdGUoZXhwcmVzc2lvbiwgbG9jYWxzLCBjb25zdHJ1Y3Rvcik7XHJcblxyXG4gICAgICAgIGlmIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgICBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIGNvbnN0cnVjdG9yIHx8IGV4cHJlc3Npb24ubmFtZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBmdW5jdGlvbiBhZGRJZGVudGlmaWVyKGxvY2FscywgaWRlbnRpZmllciwgaW5zdGFuY2UsIG5hbWUpIHtcclxuICAgICAgICBpZiAoIShsb2NhbHMgJiYgaXNPYmplY3QobG9jYWxzLiRzY29wZSkpKSB7XHJcbiAgICAgICAgICB0aHJvdyBtaW5FcnIoJyRjb250cm9sbGVyJykoJ25vc2NwJywgJ0Nhbm5vdCBleHBvcnQgY29udHJvbGxlciBcXCd7MH1cXCcgYXMgXFwnezF9XFwnISBObyAkc2NvcGUgb2JqZWN0IHByb3ZpZGVkIHZpYSBgbG9jYWxzYC4nLCBuYW1lLCBpZGVudGlmaWVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxvY2Fscy4kc2NvcGVbaWRlbnRpZmllcl0gPSBpbnN0YW5jZTtcclxuICAgICAgfVxyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRkb2N1bWVudFxyXG4gICAqIEByZXF1aXJlcyAkd2luZG93XHJcbiAgICogQHRoaXNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEEge0BsaW5rIGFuZ3VsYXIuZWxlbWVudCBqUXVlcnkgb3IganFMaXRlfSB3cmFwcGVyIGZvciB0aGUgYnJvd3NlcidzIGB3aW5kb3cuZG9jdW1lbnRgIG9iamVjdC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiZG9jdW1lbnRFeGFtcGxlXCIgbmFtZT1cImRvY3VtZW50XCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxwPiRkb2N1bWVudCB0aXRsZTogPGIgbmctYmluZD1cInRpdGxlXCI+PC9iPjwvcD5cclxuICAgICAgICAgICA8cD53aW5kb3cuZG9jdW1lbnQgdGl0bGU6IDxiIG5nLWJpbmQ9XCJ3aW5kb3dUaXRsZVwiPjwvYj48L3A+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZG9jdW1lbnRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGRvY3VtZW50JywgZnVuY3Rpb24oJHNjb3BlLCAkZG9jdW1lbnQpIHtcclxuICAgICAgICAgICAgICRzY29wZS50aXRsZSA9ICRkb2N1bWVudFswXS50aXRsZTtcclxuICAgICAgICAgICAgICRzY29wZS53aW5kb3dUaXRsZSA9IGFuZ3VsYXIuZWxlbWVudCh3aW5kb3cuZG9jdW1lbnQpWzBdLnRpdGxlO1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gJERvY3VtZW50UHJvdmlkZXIoKSB7XHJcbiAgICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCBmdW5jdGlvbiAod2luZG93KSB7XHJcbiAgICAgIHJldHVybiBqcUxpdGUod2luZG93LmRvY3VtZW50KTtcclxuICAgIH1dO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHByaXZhdGVcclxuICAgKiBAdGhpc1xyXG4gICAqIExpc3RlbnMgZm9yIGRvY3VtZW50IHZpc2liaWxpdHkgY2hhbmdlIGFuZCBtYWtlcyB0aGUgY3VycmVudCBzdGF0dXMgYWNjZXNzaWJsZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiAkJElzRG9jdW1lbnRIaWRkZW5Qcm92aWRlcigpIHtcclxuICAgIHRoaXMuJGdldCA9IFsnJGRvY3VtZW50JywgJyRyb290U2NvcGUnLCBmdW5jdGlvbiAoJGRvY3VtZW50LCAkcm9vdFNjb3BlKSB7XHJcbiAgICAgIHZhciBkb2MgPSAkZG9jdW1lbnRbMF07XHJcbiAgICAgIHZhciBoaWRkZW4gPSBkb2MgJiYgZG9jLmhpZGRlbjtcclxuXHJcbiAgICAgICRkb2N1bWVudC5vbigndmlzaWJpbGl0eWNoYW5nZScsIGNoYW5nZUxpc3RlbmVyKTtcclxuXHJcbiAgICAgICRyb290U2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkZG9jdW1lbnQub2ZmKCd2aXNpYmlsaXR5Y2hhbmdlJywgY2hhbmdlTGlzdGVuZXIpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNoYW5nZUxpc3RlbmVyKCkge1xyXG4gICAgICAgIGhpZGRlbiA9IGRvYy5oaWRkZW47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGhpZGRlbjtcclxuICAgICAgfTtcclxuICAgIH1dO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSAkZXhjZXB0aW9uSGFuZGxlclxyXG4gICAqIEByZXF1aXJlcyBuZy4kbG9nXHJcbiAgICogQHRoaXNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEFueSB1bmNhdWdodCBleGNlcHRpb24gaW4gYW5ndWxhciBleHByZXNzaW9ucyBpcyBkZWxlZ2F0ZWQgdG8gdGhpcyBzZXJ2aWNlLlxyXG4gICAqIFRoZSBkZWZhdWx0IGltcGxlbWVudGF0aW9uIHNpbXBseSBkZWxlZ2F0ZXMgdG8gYCRsb2cuZXJyb3JgIHdoaWNoIGxvZ3MgaXQgaW50b1xyXG4gICAqIHRoZSBicm93c2VyIGNvbnNvbGUuXHJcbiAgICpcclxuICAgKiBJbiB1bml0IHRlc3RzLCBpZiBgYW5ndWxhci1tb2Nrcy5qc2AgaXMgbG9hZGVkLCB0aGlzIHNlcnZpY2UgaXMgb3ZlcnJpZGRlbiBieVxyXG4gICAqIHtAbGluayBuZ01vY2suJGV4Y2VwdGlvbkhhbmRsZXIgbW9jayAkZXhjZXB0aW9uSGFuZGxlcn0gd2hpY2ggYWlkcyBpbiB0ZXN0aW5nLlxyXG4gICAqXHJcbiAgICogIyMgRXhhbXBsZTpcclxuICAgKlxyXG4gICAqIFRoZSBleGFtcGxlIGJlbG93IHdpbGwgb3ZlcndyaXRlIHRoZSBkZWZhdWx0IGAkZXhjZXB0aW9uSGFuZGxlcmAgaW4gb3JkZXIgdG8gKGEpIGxvZyB1bmNhdWdodFxyXG4gICAqIGVycm9ycyB0byB0aGUgYmFja2VuZCBmb3IgbGF0ZXIgaW5zcGVjdGlvbiBieSB0aGUgZGV2ZWxvcGVycyBhbmQgKGIpIHRvIHVzZSBgJGxvZy53YXJuKClgIGluc3RlYWRcclxuICAgKiBvZiBgJGxvZy5lcnJvcigpYC5cclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogICBhbmd1bGFyLlxyXG4gICAqICAgICBtb2R1bGUoJ2V4Y2VwdGlvbk92ZXJ3cml0ZScsIFtdKS5cclxuICAgKiAgICAgZmFjdG9yeSgnJGV4Y2VwdGlvbkhhbmRsZXInLCBbJyRsb2cnLCAnbG9nRXJyb3JzVG9CYWNrZW5kJywgZnVuY3Rpb24oJGxvZywgbG9nRXJyb3JzVG9CYWNrZW5kKSB7XHJcbiAgICogICAgICAgcmV0dXJuIGZ1bmN0aW9uIG15RXhjZXB0aW9uSGFuZGxlcihleGNlcHRpb24sIGNhdXNlKSB7XHJcbiAgICogICAgICAgICBsb2dFcnJvcnNUb0JhY2tlbmQoZXhjZXB0aW9uLCBjYXVzZSk7XHJcbiAgICogICAgICAgICAkbG9nLndhcm4oZXhjZXB0aW9uLCBjYXVzZSk7XHJcbiAgICogICAgICAgfTtcclxuICAgKiAgICAgfV0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogPGhyIC8+XHJcbiAgICogTm90ZSwgdGhhdCBjb2RlIGV4ZWN1dGVkIGluIGV2ZW50LWxpc3RlbmVycyAoZXZlbiB0aG9zZSByZWdpc3RlcmVkIHVzaW5nIGpxTGl0ZSdzIGBvbmAvYGJpbmRgXHJcbiAgICogbWV0aG9kcykgZG9lcyBub3QgZGVsZWdhdGUgZXhjZXB0aW9ucyB0byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfVxyXG4gICAqICh1bmxlc3MgZXhlY3V0ZWQgZHVyaW5nIGEgZGlnZXN0KS5cclxuICAgKlxyXG4gICAqIElmIHlvdSB3aXNoLCB5b3UgY2FuIG1hbnVhbGx5IGRlbGVnYXRlIGV4Y2VwdGlvbnMsIGUuZy5cclxuICAgKiBgdHJ5IHsgLi4uIH0gY2F0Y2goZSkgeyAkZXhjZXB0aW9uSGFuZGxlcihlKTsgfWBcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RXJyb3J9IGV4Y2VwdGlvbiBFeGNlcHRpb24gYXNzb2NpYXRlZCB3aXRoIHRoZSBlcnJvci5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IGNhdXNlIE9wdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb250ZXh0IGluIHdoaWNoXHJcbiAgICogICAgICAgdGhlIGVycm9yIHdhcyB0aHJvd24uXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiAkRXhjZXB0aW9uSGFuZGxlclByb3ZpZGVyKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gWyckbG9nJywgZnVuY3Rpb24gKCRsb2cpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChleGNlcHRpb24sIGNhdXNlKSB7XHJcbiAgICAgICAgJGxvZy5lcnJvci5hcHBseSgkbG9nLCBhcmd1bWVudHMpO1xyXG4gICAgICB9O1xyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICB2YXIgJCRGb3JjZVJlZmxvd1Byb3ZpZGVyID0gLyoqIEB0aGlzICovZnVuY3Rpb24gJCRGb3JjZVJlZmxvd1Byb3ZpZGVyKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gWyckZG9jdW1lbnQnLCBmdW5jdGlvbiAoJGRvY3VtZW50KSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoZG9tTm9kZSkge1xyXG4gICAgICAgIC8vdGhlIGxpbmUgYmVsb3cgd2lsbCBmb3JjZSB0aGUgYnJvd3NlciB0byBwZXJmb3JtIGEgcmVwYWludCBzb1xyXG4gICAgICAgIC8vdGhhdCBhbGwgdGhlIGFuaW1hdGVkIGVsZW1lbnRzIHdpdGhpbiB0aGUgYW5pbWF0aW9uIGZyYW1lIHdpbGxcclxuICAgICAgICAvL2JlIHByb3Blcmx5IHVwZGF0ZWQgYW5kIGRyYXduIG9uIHNjcmVlbi4gVGhpcyBpcyByZXF1aXJlZCB0b1xyXG4gICAgICAgIC8vZW5zdXJlIHRoYXQgdGhlIHByZXBhcmF0aW9uIGFuaW1hdGlvbiBpcyBwcm9wZXJseSBmbHVzaGVkIHNvIHRoYXRcclxuICAgICAgICAvL3RoZSBhY3RpdmUgc3RhdGUgcGlja3MgdXAgZnJvbSB0aGVyZS4gRE8gTk9UIFJFTU9WRSBUSElTIExJTkUuXHJcbiAgICAgICAgLy9ETyBOT1QgT1BUSU1JWkUgVEhJUyBMSU5FLiBUSEUgTUlOSUZJRVIgV0lMTCBSRU1PVkUgSVQgT1RIRVJXSVNFIFdISUNIXHJcbiAgICAgICAgLy9XSUxMIFJFU1VMVCBJTiBBTiBVTlBSRURJQ1RBQkxFIEJVRyBUSEFUIElTIFZFUlkgSEFSRCBUTyBUUkFDSyBET1dOIEFORFxyXG4gICAgICAgIC8vV0lMTCBUQUtFIFlFQVJTIEFXQVkgRlJPTSBZT1VSIExJRkUuXHJcbiAgICAgICAgaWYgKGRvbU5vZGUpIHtcclxuICAgICAgICAgIGlmICghZG9tTm9kZS5ub2RlVHlwZSAmJiBkb21Ob2RlIGluc3RhbmNlb2YganFMaXRlKSB7XHJcbiAgICAgICAgICAgIGRvbU5vZGUgPSBkb21Ob2RlWzBdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBkb21Ob2RlID0gJGRvY3VtZW50WzBdLmJvZHk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBkb21Ob2RlLm9mZnNldFdpZHRoICsgMTtcclxuICAgICAgfTtcclxuICAgIH1dO1xyXG4gIH07XHJcblxyXG4gIHZhciBBUFBMSUNBVElPTl9KU09OID0gJ2FwcGxpY2F0aW9uL2pzb24nO1xyXG4gIHZhciBDT05URU5UX1RZUEVfQVBQTElDQVRJT05fSlNPTiA9IHsgJ0NvbnRlbnQtVHlwZSc6IEFQUExJQ0FUSU9OX0pTT04gKyAnO2NoYXJzZXQ9dXRmLTgnIH07XHJcbiAgdmFyIEpTT05fU1RBUlQgPSAvXlxcW3xeXFx7KD8hXFx7KS87XHJcbiAgdmFyIEpTT05fRU5EUyA9IHtcclxuICAgICdbJzogL10kLyxcclxuICAgICd7JzogL30kL1xyXG4gIH07XHJcbiAgdmFyIEpTT05fUFJPVEVDVElPTl9QUkVGSVggPSAvXlxcKV1cXH0nLD9cXG4vO1xyXG4gIHZhciAkaHR0cE1pbkVyciA9IG1pbkVycignJGh0dHAnKTtcclxuXHJcbiAgZnVuY3Rpb24gc2VyaWFsaXplVmFsdWUodikge1xyXG4gICAgaWYgKGlzT2JqZWN0KHYpKSB7XHJcbiAgICAgIHJldHVybiBpc0RhdGUodikgPyB2LnRvSVNPU3RyaW5nKCkgOiB0b0pzb24odik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdjtcclxuICB9XHJcblxyXG4gIC8qKiBAdGhpcyAqL1xyXG4gIGZ1bmN0aW9uICRIdHRwUGFyYW1TZXJpYWxpemVyUHJvdmlkZXIoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgKiBAbmFtZSAkaHR0cFBhcmFtU2VyaWFsaXplclxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogRGVmYXVsdCB7QGxpbmsgJGh0dHAgYCRodHRwYH0gcGFyYW1zIHNlcmlhbGl6ZXIgdGhhdCBjb252ZXJ0cyBvYmplY3RzIHRvIHN0cmluZ3NcclxuICAgICAqIGFjY29yZGluZyB0byB0aGUgZm9sbG93aW5nIHJ1bGVzOlxyXG4gICAgICpcclxuICAgICAqICogYHsnZm9vJzogJ2Jhcid9YCByZXN1bHRzIGluIGBmb289YmFyYFxyXG4gICAgICogKiBgeydmb28nOiBEYXRlLm5vdygpfWAgcmVzdWx0cyBpbiBgZm9vPTIwMTUtMDQtMDFUMDklM0E1MCUzQTQ5LjI2MlpgIChgdG9JU09TdHJpbmcoKWAgYW5kIGVuY29kZWQgcmVwcmVzZW50YXRpb24gb2YgYSBEYXRlIG9iamVjdClcclxuICAgICAqICogYHsnZm9vJzogWydiYXInLCAnYmF6J119YCByZXN1bHRzIGluIGBmb289YmFyJmZvbz1iYXpgIChyZXBlYXRlZCBrZXkgZm9yIGVhY2ggYXJyYXkgZWxlbWVudClcclxuICAgICAqICogYHsnZm9vJzogeydiYXInOidiYXonfX1gIHJlc3VsdHMgaW4gYGZvbz0lN0IlMjJiYXIlMjIlM0ElMjJiYXolMjIlN0RgIChzdHJpbmdpZmllZCBhbmQgZW5jb2RlZCByZXByZXNlbnRhdGlvbiBvZiBhbiBvYmplY3QpXHJcbiAgICAgKlxyXG4gICAgICogTm90ZSB0aGF0IHNlcmlhbGl6ZXIgd2lsbCBzb3J0IHRoZSByZXF1ZXN0IHBhcmFtZXRlcnMgYWxwaGFiZXRpY2FsbHkuXHJcbiAgICAgKiAqL1xyXG5cclxuICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nUGFyYW1TZXJpYWxpemVyKHBhcmFtcykge1xyXG4gICAgICAgIGlmICghcGFyYW1zKSByZXR1cm4gJyc7XHJcbiAgICAgICAgdmFyIHBhcnRzID0gW107XHJcbiAgICAgICAgZm9yRWFjaFNvcnRlZChwYXJhbXMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodmFsdWUpIHx8IGlzRnVuY3Rpb24odmFsdWUpKSByZXR1cm47XHJcbiAgICAgICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgZm9yRWFjaCh2YWx1ZSwgZnVuY3Rpb24gKHYpIHtcclxuICAgICAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KGtleSkgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh2KSkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcnRzLnB1c2goZW5jb2RlVXJpUXVlcnkoa2V5KSArICc9JyArIGVuY29kZVVyaVF1ZXJ5KHNlcmlhbGl6ZVZhbHVlKHZhbHVlKSkpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICByZXR1cm4gcGFydHMuam9pbignJicpO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKiBAdGhpcyAqL1xyXG4gIGZ1bmN0aW9uICRIdHRwUGFyYW1TZXJpYWxpemVySlFMaWtlUHJvdmlkZXIoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgKiBAbmFtZSAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICpcclxuICAgICAqIEFsdGVybmF0aXZlIHtAbGluayAkaHR0cCBgJGh0dHBgfSBwYXJhbXMgc2VyaWFsaXplciB0aGF0IGZvbGxvd3NcclxuICAgICAqIGpRdWVyeSdzIFtgcGFyYW0oKWBdKGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9qcXVlcnkucGFyYW0vKSBtZXRob2QgbG9naWMuXHJcbiAgICAgKiBUaGUgc2VyaWFsaXplciB3aWxsIGFsc28gc29ydCB0aGUgcGFyYW1zIGFscGhhYmV0aWNhbGx5LlxyXG4gICAgICpcclxuICAgICAqIFRvIHVzZSBpdCBmb3Igc2VyaWFsaXppbmcgYCRodHRwYCByZXF1ZXN0IHBhcmFtZXRlcnMsIHNldCBpdCBhcyB0aGUgYHBhcmFtU2VyaWFsaXplcmAgcHJvcGVydHk6XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqICRodHRwKHtcclxuICAgICAqICAgdXJsOiBteVVybCxcclxuICAgICAqICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAqICAgcGFyYW1zOiBteVBhcmFtcyxcclxuICAgICAqICAgcGFyYW1TZXJpYWxpemVyOiAnJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UnXHJcbiAgICAgKiB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEl0IGlzIGFsc28gcG9zc2libGUgdG8gc2V0IGl0IGFzIHRoZSBkZWZhdWx0IGBwYXJhbVNlcmlhbGl6ZXJgIGluIHRoZVxyXG4gICAgICoge0BsaW5rICRodHRwUHJvdmlkZXIjZGVmYXVsdHMgYCRodHRwUHJvdmlkZXJgfS5cclxuICAgICAqXHJcbiAgICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gaW5qZWN0IHRoZSBzZXJpYWxpemVyIGFuZCB1c2UgaXQgZXhwbGljaXRseSwgZm9yIGV4YW1wbGUgdG8gc2VyaWFsaXplXHJcbiAgICAgKiBmb3JtIGRhdGEgZm9yIHN1Ym1pc3Npb246XHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC5jb250cm9sbGVyKGZ1bmN0aW9uKCRodHRwLCAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZSkge1xyXG4gICAgICogICAvLy4uLlxyXG4gICAgICpcclxuICAgICAqICAgJGh0dHAoe1xyXG4gICAgICogICAgIHVybDogbXlVcmwsXHJcbiAgICAgKiAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgKiAgICAgZGF0YTogJGh0dHBQYXJhbVNlcmlhbGl6ZXJKUUxpa2UobXlEYXRhKSxcclxuICAgICAqICAgICBoZWFkZXJzOiB7XHJcbiAgICAgKiAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCdcclxuICAgICAqICAgICB9XHJcbiAgICAgKiAgIH0pO1xyXG4gICAgICpcclxuICAgICAqIH0pO1xyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogKi9cclxuICAgIHRoaXMuJGdldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIGpRdWVyeUxpa2VQYXJhbVNlcmlhbGl6ZXIocGFyYW1zKSB7XHJcbiAgICAgICAgaWYgKCFwYXJhbXMpIHJldHVybiAnJztcclxuICAgICAgICB2YXIgcGFydHMgPSBbXTtcclxuICAgICAgICBzZXJpYWxpemUocGFyYW1zLCAnJywgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIHBhcnRzLmpvaW4oJyYnKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gc2VyaWFsaXplKHRvU2VyaWFsaXplLCBwcmVmaXgsIHRvcExldmVsKSB7XHJcbiAgICAgICAgICBpZiAodG9TZXJpYWxpemUgPT09IG51bGwgfHwgaXNVbmRlZmluZWQodG9TZXJpYWxpemUpKSByZXR1cm47XHJcbiAgICAgICAgICBpZiAoaXNBcnJheSh0b1NlcmlhbGl6ZSkpIHtcclxuICAgICAgICAgICAgZm9yRWFjaCh0b1NlcmlhbGl6ZSwgZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkge1xyXG4gICAgICAgICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgcHJlZml4ICsgJ1snICsgKGlzT2JqZWN0KHZhbHVlKSA/IGluZGV4IDogJycpICsgJ10nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KHRvU2VyaWFsaXplKSAmJiAhaXNEYXRlKHRvU2VyaWFsaXplKSkge1xyXG4gICAgICAgICAgICBmb3JFYWNoU29ydGVkKHRvU2VyaWFsaXplLCBmdW5jdGlvbiAodmFsdWUsIGtleSkge1xyXG4gICAgICAgICAgICAgIHNlcmlhbGl6ZSh2YWx1ZSwgcHJlZml4ICsgKHRvcExldmVsID8gJycgOiAnWycpICsga2V5ICsgKHRvcExldmVsID8gJycgOiAnXScpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGVuY29kZVVyaVF1ZXJ5KHByZWZpeCkgKyAnPScgKyBlbmNvZGVVcmlRdWVyeShzZXJpYWxpemVWYWx1ZSh0b1NlcmlhbGl6ZSkpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybShkYXRhLCBoZWFkZXJzKSB7XHJcbiAgICBpZiAoaXNTdHJpbmcoZGF0YSkpIHtcclxuICAgICAgLy8gU3RyaXAganNvbiB2dWxuZXJhYmlsaXR5IHByb3RlY3Rpb24gcHJlZml4IGFuZCB0cmltIHdoaXRlc3BhY2VcclxuICAgICAgdmFyIHRlbXBEYXRhID0gZGF0YS5yZXBsYWNlKEpTT05fUFJPVEVDVElPTl9QUkVGSVgsICcnKS50cmltKCk7XHJcblxyXG4gICAgICBpZiAodGVtcERhdGEpIHtcclxuICAgICAgICB2YXIgY29udGVudFR5cGUgPSBoZWFkZXJzKCdDb250ZW50LVR5cGUnKTtcclxuICAgICAgICB2YXIgaGFzSnNvbkNvbnRlbnRUeXBlID0gY29udGVudFR5cGUgJiYgY29udGVudFR5cGUuaW5kZXhPZihBUFBMSUNBVElPTl9KU09OKSA9PT0gMDtcclxuXHJcbiAgICAgICAgaWYgKGhhc0pzb25Db250ZW50VHlwZSB8fCBpc0pzb25MaWtlKHRlbXBEYXRhKSkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZGF0YSA9IGZyb21Kc29uKHRlbXBEYXRhKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgaWYgKCFoYXNKc29uQ29udGVudFR5cGUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aHJvdyAkaHR0cE1pbkVycignYmFkZGF0YScsICdEYXRhIG11c3QgYmUgYSB2YWxpZCBKU09OIG9iamVjdC4gUmVjZWl2ZWQ6IFwiezB9XCIuICcgKyAnUGFyc2UgZXJyb3I6IFwiezF9XCInLCBkYXRhLCBlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZGF0YTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzSnNvbkxpa2Uoc3RyKSB7XHJcbiAgICB2YXIganNvblN0YXJ0ID0gc3RyLm1hdGNoKEpTT05fU1RBUlQpO1xyXG4gICAgcmV0dXJuIGpzb25TdGFydCAmJiBKU09OX0VORFNbanNvblN0YXJ0WzBdXS50ZXN0KHN0cik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQYXJzZSBoZWFkZXJzIGludG8ga2V5IHZhbHVlIG9iamVjdFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGhlYWRlcnMgUmF3IGhlYWRlcnMgYXMgYSBzdHJpbmdcclxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBQYXJzZWQgaGVhZGVycyBhcyBrZXkgdmFsdWUgb2JqZWN0XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcGFyc2VIZWFkZXJzKGhlYWRlcnMpIHtcclxuICAgIHZhciBwYXJzZWQgPSBjcmVhdGVNYXAoKSxcclxuICAgICAgICBpO1xyXG5cclxuICAgIGZ1bmN0aW9uIGZpbGxJblBhcnNlZChrZXksIHZhbCkge1xyXG4gICAgICBpZiAoa2V5KSB7XHJcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc1N0cmluZyhoZWFkZXJzKSkge1xyXG4gICAgICBmb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiAobGluZSkge1xyXG4gICAgICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcclxuICAgICAgICBmaWxsSW5QYXJzZWQobG93ZXJjYXNlKHRyaW0obGluZS5zdWJzdHIoMCwgaSkpKSwgdHJpbShsaW5lLnN1YnN0cihpICsgMSkpKTtcclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KGhlYWRlcnMpKSB7XHJcbiAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gKGhlYWRlclZhbCwgaGVhZGVyS2V5KSB7XHJcbiAgICAgICAgZmlsbEluUGFyc2VkKGxvd2VyY2FzZShoZWFkZXJLZXkpLCB0cmltKGhlYWRlclZhbCkpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcGFyc2VkO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgcHJvdmlkZXMgYWNjZXNzIHRvIHBhcnNlZCBoZWFkZXJzLlxyXG4gICAqXHJcbiAgICogSGVhZGVycyBhcmUgbGF6eSBwYXJzZWQgd2hlbiBmaXJzdCByZXF1ZXN0ZWQuXHJcbiAgICogQHNlZSBwYXJzZUhlYWRlcnNcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7KHN0cmluZ3xPYmplY3QpfSBoZWFkZXJzIEhlYWRlcnMgdG8gcHJvdmlkZSBhY2Nlc3MgdG8uXHJcbiAgICogQHJldHVybnMge2Z1bmN0aW9uKHN0cmluZz0pfSBSZXR1cm5zIGEgZ2V0dGVyIGZ1bmN0aW9uIHdoaWNoIGlmIGNhbGxlZCB3aXRoOlxyXG4gICAqXHJcbiAgICogICAtIGlmIGNhbGxlZCB3aXRoIGFuIGFyZ3VtZW50IHJldHVybnMgYSBzaW5nbGUgaGVhZGVyIHZhbHVlIG9yIG51bGxcclxuICAgKiAgIC0gaWYgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHJldHVybnMgYW4gb2JqZWN0IGNvbnRhaW5pbmcgYWxsIGhlYWRlcnMuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gaGVhZGVyc0dldHRlcihoZWFkZXJzKSB7XHJcbiAgICB2YXIgaGVhZGVyc09iajtcclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgaWYgKCFoZWFkZXJzT2JqKSBoZWFkZXJzT2JqID0gcGFyc2VIZWFkZXJzKGhlYWRlcnMpO1xyXG5cclxuICAgICAgaWYgKG5hbWUpIHtcclxuICAgICAgICB2YXIgdmFsdWUgPSBoZWFkZXJzT2JqW2xvd2VyY2FzZShuYW1lKV07XHJcbiAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIHZhbHVlID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gaGVhZGVyc09iajtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDaGFpbiBhbGwgZ2l2ZW4gZnVuY3Rpb25zXHJcbiAgICpcclxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIHVzZWQgZm9yIGJvdGggcmVxdWVzdCBhbmQgcmVzcG9uc2UgdHJhbnNmb3JtaW5nXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IGRhdGEgRGF0YSB0byB0cmFuc2Zvcm0uXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihzdHJpbmc9KX0gaGVhZGVycyBIVFRQIGhlYWRlcnMgZ2V0dGVyIGZuLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBzdGF0dXMgSFRUUCBzdGF0dXMgY29kZSBvZiB0aGUgcmVzcG9uc2UuXHJcbiAgICogQHBhcmFtIHsoRnVuY3Rpb258QXJyYXkuPEZ1bmN0aW9uPil9IGZucyBGdW5jdGlvbiBvciBhbiBhcnJheSBvZiBmdW5jdGlvbnMuXHJcbiAgICogQHJldHVybnMgeyp9IFRyYW5zZm9ybWVkIGRhdGEuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdHJhbnNmb3JtRGF0YShkYXRhLCBoZWFkZXJzLCBzdGF0dXMsIGZucykge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oZm5zKSkge1xyXG4gICAgICByZXR1cm4gZm5zKGRhdGEsIGhlYWRlcnMsIHN0YXR1cyk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yRWFjaChmbnMsIGZ1bmN0aW9uIChmbikge1xyXG4gICAgICBkYXRhID0gZm4oZGF0YSwgaGVhZGVycywgc3RhdHVzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNTdWNjZXNzKHN0YXR1cykge1xyXG4gICAgcmV0dXJuIDIwMCA8PSBzdGF0dXMgJiYgc3RhdHVzIDwgMzAwO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3ZpZGVyXHJcbiAgICogQG5hbWUgJGh0dHBQcm92aWRlclxyXG4gICAqIEB0aGlzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBVc2UgYCRodHRwUHJvdmlkZXJgIHRvIGNoYW5nZSB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUge0BsaW5rIG5nLiRodHRwICRodHRwfSBzZXJ2aWNlLlxyXG4gICAqICovXHJcbiAgZnVuY3Rpb24gJEh0dHBQcm92aWRlcigpIHtcclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2RlZmF1bHRzXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBPYmplY3QgY29udGFpbmluZyBkZWZhdWx0IHZhbHVlcyBmb3IgYWxsIHtAbGluayBuZy4kaHR0cCAkaHR0cH0gcmVxdWVzdHMuXHJcbiAgICAgKlxyXG4gICAgICogLSAqKmBkZWZhdWx0cy5jYWNoZWAqKiAtIHtib29sZWFufE9iamVjdH0gLSBBIGJvb2xlYW4gdmFsdWUgb3Igb2JqZWN0IGNyZWF0ZWQgd2l0aFxyXG4gICAgICoge0BsaW5rIG5nLiRjYWNoZUZhY3RvcnkgYCRjYWNoZUZhY3RvcnlgfSB0byBlbmFibGUgb3IgZGlzYWJsZSBjYWNoaW5nIG9mIEhUVFAgcmVzcG9uc2VzXHJcbiAgICAgKiBieSBkZWZhdWx0LiBTZWUge0BsaW5rICRodHRwI2NhY2hpbmcgJGh0dHAgQ2FjaGluZ30gZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogLSAqKmBkZWZhdWx0cy5oZWFkZXJzYCoqIC0ge09iamVjdH0gLSBEZWZhdWx0IGhlYWRlcnMgZm9yIGFsbCAkaHR0cCByZXF1ZXN0cy5cclxuICAgICAqIFJlZmVyIHRvIHtAbGluayBuZy4kaHR0cCNzZXR0aW5nLWh0dHAtaGVhZGVycyAkaHR0cH0gZm9yIGRvY3VtZW50YXRpb24gb25cclxuICAgICAqIHNldHRpbmcgZGVmYXVsdCBoZWFkZXJzLlxyXG4gICAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5jb21tb25gKipcclxuICAgICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucG9zdGAqKlxyXG4gICAgICogICAgIC0gKipgZGVmYXVsdHMuaGVhZGVycy5wdXRgKipcclxuICAgICAqICAgICAtICoqYGRlZmF1bHRzLmhlYWRlcnMucGF0Y2hgKipcclxuICAgICAqXHJcbiAgICAgKiAtICoqYGRlZmF1bHRzLmpzb25wQ2FsbGJhY2tQYXJhbWAqKiAtIGB7c3RyaW5nfWAgLSB0aGUgbmFtZSBvZiB0aGUgcXVlcnkgcGFyYW1ldGVyIHRoYXQgcGFzc2VzIHRoZSBuYW1lIG9mIHRoZVxyXG4gICAgICogY2FsbGJhY2sgaW4gYSBKU09OUCByZXF1ZXN0LiBUaGUgdmFsdWUgb2YgdGhpcyBwYXJhbWV0ZXIgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSBleHByZXNzaW9uIGdlbmVyYXRlZCBieSB0aGVcclxuICAgICAqIHtAbGluayAkanNvbnBDYWxsYmFja3N9IHNlcnZpY2UuIERlZmF1bHRzIHRvIGAnY2FsbGJhY2snYC5cclxuICAgICAqXHJcbiAgICAgKiAtICoqYGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcmAqKiAtIGB7c3RyaW5nfGZ1bmN0aW9uKE9iamVjdDxzdHJpbmcsc3RyaW5nPik6c3RyaW5nfWAgLSBBIGZ1bmN0aW9uXHJcbiAgICAgKiAgdXNlZCB0byB0aGUgcHJlcGFyZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgcmVxdWVzdCBwYXJhbWV0ZXJzIChzcGVjaWZpZWQgYXMgYW4gb2JqZWN0KS5cclxuICAgICAqICBJZiBzcGVjaWZpZWQgYXMgc3RyaW5nLCBpdCBpcyBpbnRlcnByZXRlZCBhcyBhIGZ1bmN0aW9uIHJlZ2lzdGVyZWQgd2l0aCB0aGUge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uXHJcbiAgICAgKiAgRGVmYXVsdHMgdG8ge0BsaW5rIG5nLiRodHRwUGFyYW1TZXJpYWxpemVyICRodHRwUGFyYW1TZXJpYWxpemVyfS5cclxuICAgICAqXHJcbiAgICAgKiAtICoqYGRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgKiogLVxyXG4gICAgICogYHtBcnJheTxmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKT58ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcil9YCAtXHJcbiAgICAgKiBBbiBhcnJheSBvZiBmdW5jdGlvbnMgKG9yIGEgc2luZ2xlIGZ1bmN0aW9uKSB3aGljaCBhcmUgYXBwbGllZCB0byB0aGUgcmVxdWVzdCBkYXRhLlxyXG4gICAgICogQnkgZGVmYXVsdCwgdGhpcyBpcyBhbiBhcnJheSB3aXRoIG9uZSByZXF1ZXN0IHRyYW5zZm9ybWF0aW9uIGZ1bmN0aW9uOlxyXG4gICAgICpcclxuICAgICAqICAgLSBJZiB0aGUgYGRhdGFgIHByb3BlcnR5IG9mIHRoZSByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5zIGFuIG9iamVjdCwgc2VyaWFsaXplIGl0XHJcbiAgICAgKiAgICAgaW50byBKU09OIGZvcm1hdC5cclxuICAgICAqXHJcbiAgICAgKiAtICoqYGRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCoqIC1cclxuICAgICAqIGB7QXJyYXk8ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKT58ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlciwgc3RhdHVzKX1gIC1cclxuICAgICAqIEFuIGFycmF5IG9mIGZ1bmN0aW9ucyAob3IgYSBzaW5nbGUgZnVuY3Rpb24pIHdoaWNoIGFyZSBhcHBsaWVkIHRvIHRoZSByZXNwb25zZSBkYXRhLiBCeSBkZWZhdWx0LFxyXG4gICAgICogdGhpcyBpcyBhbiBhcnJheSB3aGljaCBhcHBsaWVzIG9uZSByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbiB0aGF0IGRvZXMgdHdvIHRoaW5nczpcclxuICAgICAqXHJcbiAgICAgKiAgLSBJZiBYU1JGIHByZWZpeCBpcyBkZXRlY3RlZCwgc3RyaXAgaXRcclxuICAgICAqICAgIChzZWUge0BsaW5rIG5nLiRodHRwI3NlY3VyaXR5LWNvbnNpZGVyYXRpb25zIFNlY3VyaXR5IENvbnNpZGVyYXRpb25zIGluIHRoZSAkaHR0cCBkb2NzfSkuXHJcbiAgICAgKiAgLSBJZiB0aGUgYENvbnRlbnQtVHlwZWAgaXMgYGFwcGxpY2F0aW9uL2pzb25gIG9yIHRoZSByZXNwb25zZSBsb29rcyBsaWtlIEpTT04sXHJcbiAgICAgKiAgICBkZXNlcmlhbGl6ZSBpdCB1c2luZyBhIEpTT04gcGFyc2VyLlxyXG4gICAgICpcclxuICAgICAqIC0gKipgZGVmYXVsdHMueHNyZkNvb2tpZU5hbWVgKiogLSB7c3RyaW5nfSAtIE5hbWUgb2YgY29va2llIGNvbnRhaW5pbmcgdGhlIFhTUkYgdG9rZW4uXHJcbiAgICAgKiBEZWZhdWx0cyB2YWx1ZSBpcyBgJ1hTUkYtVE9LRU4nYC5cclxuICAgICAqXHJcbiAgICAgKiAtICoqYGRlZmF1bHRzLnhzcmZIZWFkZXJOYW1lYCoqIC0ge3N0cmluZ30gLSBOYW1lIG9mIEhUVFAgaGVhZGVyIHRvIHBvcHVsYXRlIHdpdGggdGhlXHJcbiAgICAgKiBYU1JGIHRva2VuLiBEZWZhdWx0cyB2YWx1ZSBpcyBgJ1gtWFNSRi1UT0tFTidgLlxyXG4gICAgICpcclxuICAgICAqKi9cclxuICAgIHZhciBkZWZhdWx0cyA9IHRoaXMuZGVmYXVsdHMgPSB7XHJcbiAgICAgIC8vIHRyYW5zZm9ybSBpbmNvbWluZyByZXNwb25zZSBkYXRhXHJcbiAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBbZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybV0sXHJcblxyXG4gICAgICAvLyB0cmFuc2Zvcm0gb3V0Z29pbmcgcmVxdWVzdCBkYXRhXHJcbiAgICAgIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiAoZCkge1xyXG4gICAgICAgIHJldHVybiBpc09iamVjdChkKSAmJiAhaXNGaWxlKGQpICYmICFpc0Jsb2IoZCkgJiYgIWlzRm9ybURhdGEoZCkgPyB0b0pzb24oZCkgOiBkO1xyXG4gICAgICB9XSxcclxuXHJcbiAgICAgIC8vIGRlZmF1bHQgaGVhZGVyc1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgY29tbW9uOiB7XHJcbiAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKidcclxuICAgICAgICB9LFxyXG4gICAgICAgIHBvc3Q6IHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxcclxuICAgICAgICBwdXQ6IHNoYWxsb3dDb3B5KENPTlRFTlRfVFlQRV9BUFBMSUNBVElPTl9KU09OKSxcclxuICAgICAgICBwYXRjaDogc2hhbGxvd0NvcHkoQ09OVEVOVF9UWVBFX0FQUExJQ0FUSU9OX0pTT04pXHJcbiAgICAgIH0sXHJcblxyXG4gICAgICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxyXG4gICAgICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXHJcblxyXG4gICAgICBwYXJhbVNlcmlhbGl6ZXI6ICckaHR0cFBhcmFtU2VyaWFsaXplcicsXHJcblxyXG4gICAgICBqc29ucENhbGxiYWNrUGFyYW06ICdjYWxsYmFjaydcclxuICAgIH07XHJcblxyXG4gICAgdmFyIHVzZUFwcGx5QXN5bmMgPSBmYWxzZTtcclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGh0dHBQcm92aWRlciN1c2VBcHBseUFzeW5jXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBDb25maWd1cmUgJGh0dHAgc2VydmljZSB0byBjb21iaW5lIHByb2Nlc3Npbmcgb2YgbXVsdGlwbGUgaHR0cCByZXNwb25zZXMgcmVjZWl2ZWQgYXQgYXJvdW5kXHJcbiAgICAgKiB0aGUgc2FtZSB0aW1lIHZpYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkYXBwbHlBc3luYyAkcm9vdFNjb3BlLiRhcHBseUFzeW5jfS4gVGhpcyBjYW4gcmVzdWx0IGluXHJcbiAgICAgKiBzaWduaWZpY2FudCBwZXJmb3JtYW5jZSBpbXByb3ZlbWVudCBmb3IgYmlnZ2VyIGFwcGxpY2F0aW9ucyB0aGF0IG1ha2UgbWFueSBIVFRQIHJlcXVlc3RzXHJcbiAgICAgKiBjb25jdXJyZW50bHkgKGNvbW1vbiBkdXJpbmcgYXBwbGljYXRpb24gYm9vdHN0cmFwKS5cclxuICAgICAqXHJcbiAgICAgKiBEZWZhdWx0cyB0byBmYWxzZS4gSWYgbm8gdmFsdWUgaXMgc3BlY2lmaWVkLCByZXR1cm5zIHRoZSBjdXJyZW50IGNvbmZpZ3VyZWQgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gdmFsdWUgSWYgdHJ1ZSwgd2hlbiByZXF1ZXN0cyBhcmUgbG9hZGVkLCB0aGV5IHdpbGwgc2NoZWR1bGUgYSBkZWZlcnJlZFxyXG4gICAgICogICAgXCJhcHBseVwiIG9uIHRoZSBuZXh0IHRpY2ssIGdpdmluZyB0aW1lIGZvciBzdWJzZXF1ZW50IHJlcXVlc3RzIGluIGEgcm91Z2hseSB+MTBtcyB3aW5kb3dcclxuICAgICAqICAgIHRvIGxvYWQgYW5kIHNoYXJlIHRoZSBzYW1lIGRpZ2VzdCBjeWNsZS5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxPYmplY3R9IElmIGEgdmFsdWUgaXMgc3BlY2lmaWVkLCByZXR1cm5zIHRoZSAkaHR0cFByb3ZpZGVyIGZvciBjaGFpbmluZy5cclxuICAgICAqICAgIG90aGVyd2lzZSwgcmV0dXJucyB0aGUgY3VycmVudCBjb25maWd1cmVkIHZhbHVlLlxyXG4gICAgICoqL1xyXG4gICAgdGhpcy51c2VBcHBseUFzeW5jID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgdXNlQXBwbHlBc3luYyA9ICEhdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHVzZUFwcGx5QXN5bmM7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICAgKiBAbmFtZSAkaHR0cFByb3ZpZGVyI2ludGVyY2VwdG9yc1xyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQXJyYXkgY29udGFpbmluZyBzZXJ2aWNlIGZhY3RvcmllcyBmb3IgYWxsIHN5bmNocm9ub3VzIG9yIGFzeW5jaHJvbm91cyB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9XHJcbiAgICAgKiBwcmUtcHJvY2Vzc2luZyBvZiByZXF1ZXN0IG9yIHBvc3Rwcm9jZXNzaW5nIG9mIHJlc3BvbnNlcy5cclxuICAgICAqXHJcbiAgICAgKiBUaGVzZSBzZXJ2aWNlIGZhY3RvcmllcyBhcmUgb3JkZXJlZCBieSByZXF1ZXN0LCBpLmUuIHRoZXkgYXJlIGFwcGxpZWQgaW4gdGhlIHNhbWUgb3JkZXIgYXMgdGhlXHJcbiAgICAgKiBhcnJheSwgb24gcmVxdWVzdCwgYnV0IHJldmVyc2Ugb3JkZXIsIG9uIHJlc3BvbnNlLlxyXG4gICAgICpcclxuICAgICAqIHtAbGluayBuZy4kaHR0cCNpbnRlcmNlcHRvcnMgSW50ZXJjZXB0b3JzIGRldGFpbGVkIGluZm99XHJcbiAgICAgKiovXHJcbiAgICB2YXIgaW50ZXJjZXB0b3JGYWN0b3JpZXMgPSB0aGlzLmludGVyY2VwdG9ycyA9IFtdO1xyXG5cclxuICAgIHRoaXMuJGdldCA9IFsnJGJyb3dzZXInLCAnJGh0dHBCYWNrZW5kJywgJyQkY29va2llUmVhZGVyJywgJyRjYWNoZUZhY3RvcnknLCAnJHJvb3RTY29wZScsICckcScsICckaW5qZWN0b3InLCAnJHNjZScsIGZ1bmN0aW9uICgkYnJvd3NlciwgJGh0dHBCYWNrZW5kLCAkJGNvb2tpZVJlYWRlciwgJGNhY2hlRmFjdG9yeSwgJHJvb3RTY29wZSwgJHEsICRpbmplY3RvciwgJHNjZSkge1xyXG5cclxuICAgICAgdmFyIGRlZmF1bHRDYWNoZSA9ICRjYWNoZUZhY3RvcnkoJyRodHRwJyk7XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogTWFrZSBzdXJlIHRoYXQgZGVmYXVsdCBwYXJhbSBzZXJpYWxpemVyIGlzIGV4cG9zZWQgYXMgYSBmdW5jdGlvblxyXG4gICAgICAgKi9cclxuICAgICAgZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyID0gaXNTdHJpbmcoZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyKSA/ICRpbmplY3Rvci5nZXQoZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyKSA6IGRlZmF1bHRzLnBhcmFtU2VyaWFsaXplcjtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBJbnRlcmNlcHRvcnMgc3RvcmVkIGluIHJldmVyc2Ugb3JkZXIuIElubmVyIGludGVyY2VwdG9ycyBiZWZvcmUgb3V0ZXIgaW50ZXJjZXB0b3JzLlxyXG4gICAgICAgKiBUaGUgcmV2ZXJzYWwgaXMgbmVlZGVkIHNvIHRoYXQgd2UgY2FuIGJ1aWxkIHVwIHRoZSBpbnRlcmNlcHRpb24gY2hhaW4gYXJvdW5kIHRoZVxyXG4gICAgICAgKiBzZXJ2ZXIgcmVxdWVzdC5cclxuICAgICAgICovXHJcbiAgICAgIHZhciByZXZlcnNlZEludGVyY2VwdG9ycyA9IFtdO1xyXG5cclxuICAgICAgZm9yRWFjaChpbnRlcmNlcHRvckZhY3RvcmllcywgZnVuY3Rpb24gKGludGVyY2VwdG9yRmFjdG9yeSkge1xyXG4gICAgICAgIHJldmVyc2VkSW50ZXJjZXB0b3JzLnVuc2hpZnQoaXNTdHJpbmcoaW50ZXJjZXB0b3JGYWN0b3J5KSA/ICRpbmplY3Rvci5nZXQoaW50ZXJjZXB0b3JGYWN0b3J5KSA6ICRpbmplY3Rvci5pbnZva2UoaW50ZXJjZXB0b3JGYWN0b3J5KSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAqIEBuYW1lICRodHRwXHJcbiAgICAgICAqIEByZXF1aXJlcyBuZy4kaHR0cEJhY2tlbmRcclxuICAgICAgICogQHJlcXVpcmVzICRjYWNoZUZhY3RvcnlcclxuICAgICAgICogQHJlcXVpcmVzICRyb290U2NvcGVcclxuICAgICAgICogQHJlcXVpcmVzICRxXHJcbiAgICAgICAqIEByZXF1aXJlcyAkaW5qZWN0b3JcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFRoZSBgJGh0dHBgIHNlcnZpY2UgaXMgYSBjb3JlIEFuZ3VsYXIgc2VydmljZSB0aGF0IGZhY2lsaXRhdGVzIGNvbW11bmljYXRpb24gd2l0aCB0aGUgcmVtb3RlXHJcbiAgICAgICAqIEhUVFAgc2VydmVycyB2aWEgdGhlIGJyb3dzZXIncyBbWE1MSHR0cFJlcXVlc3RdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL3htbGh0dHByZXF1ZXN0KVxyXG4gICAgICAgKiBvYmplY3Qgb3IgdmlhIFtKU09OUF0oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9KU09OUCkuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEZvciB1bml0IHRlc3RpbmcgYXBwbGljYXRpb25zIHRoYXQgdXNlIGAkaHR0cGAgc2VydmljZSwgc2VlXHJcbiAgICAgICAqIHtAbGluayBuZ01vY2suJGh0dHBCYWNrZW5kICRodHRwQmFja2VuZCBtb2NrfS5cclxuICAgICAgICpcclxuICAgICAgICogRm9yIGEgaGlnaGVyIGxldmVsIG9mIGFic3RyYWN0aW9uLCBwbGVhc2UgY2hlY2sgb3V0IHRoZSB7QGxpbmsgbmdSZXNvdXJjZS4kcmVzb3VyY2VcclxuICAgICAgICogJHJlc291cmNlfSBzZXJ2aWNlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgJGh0dHAgQVBJIGlzIGJhc2VkIG9uIHRoZSB7QGxpbmsgbmcuJHEgZGVmZXJyZWQvcHJvbWlzZSBBUElzfSBleHBvc2VkIGJ5XHJcbiAgICAgICAqIHRoZSAkcSBzZXJ2aWNlLiBXaGlsZSBmb3Igc2ltcGxlIHVzYWdlIHBhdHRlcm5zIHRoaXMgZG9lc24ndCBtYXR0ZXIgbXVjaCwgZm9yIGFkdmFuY2VkIHVzYWdlXHJcbiAgICAgICAqIGl0IGlzIGltcG9ydGFudCB0byBmYW1pbGlhcml6ZSB5b3Vyc2VsZiB3aXRoIHRoZXNlIEFQSXMgYW5kIHRoZSBndWFyYW50ZWVzIHRoZXkgcHJvdmlkZS5cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogIyMgR2VuZXJhbCB1c2FnZVxyXG4gICAgICAgKiBUaGUgYCRodHRwYCBzZXJ2aWNlIGlzIGEgZnVuY3Rpb24gd2hpY2ggdGFrZXMgYSBzaW5nbGUgYXJndW1lbnQg4oCUIGEge0BsaW5rICRodHRwI3VzYWdlIGNvbmZpZ3VyYXRpb24gb2JqZWN0fSDigJRcclxuICAgICAgICogdGhhdCBpcyB1c2VkIHRvIGdlbmVyYXRlIGFuIEhUVFAgcmVxdWVzdCBhbmQgcmV0dXJucyAgYSB7QGxpbmsgbmcuJHEgcHJvbWlzZX0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqICAgLy8gU2ltcGxlIEdFVCByZXF1ZXN0IGV4YW1wbGU6XHJcbiAgICAgICAqICAgJGh0dHAoe1xyXG4gICAgICAgKiAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICogICAgIHVybDogJy9zb21lVXJsJ1xyXG4gICAgICAgKiAgIH0pLnRoZW4oZnVuY3Rpb24gc3VjY2Vzc0NhbGxiYWNrKHJlc3BvbnNlKSB7XHJcbiAgICAgICAqICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgYXN5bmNocm9ub3VzbHlcclxuICAgICAgICogICAgICAgLy8gd2hlbiB0aGUgcmVzcG9uc2UgaXMgYXZhaWxhYmxlXHJcbiAgICAgICAqICAgICB9LCBmdW5jdGlvbiBlcnJvckNhbGxiYWNrKHJlc3BvbnNlKSB7XHJcbiAgICAgICAqICAgICAgIC8vIGNhbGxlZCBhc3luY2hyb25vdXNseSBpZiBhbiBlcnJvciBvY2N1cnNcclxuICAgICAgICogICAgICAgLy8gb3Igc2VydmVyIHJldHVybnMgcmVzcG9uc2Ugd2l0aCBhbiBlcnJvciBzdGF0dXMuXHJcbiAgICAgICAqICAgICB9KTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSByZXNwb25zZSBvYmplY3QgaGFzIHRoZXNlIHByb3BlcnRpZXM6XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIFRoZSByZXNwb25zZSBib2R5IHRyYW5zZm9ybWVkIHdpdGggdGhlIHRyYW5zZm9ybVxyXG4gICAgICAgKiAgICAgZnVuY3Rpb25zLlxyXG4gICAgICAgKiAgIC0gKipzdGF0dXMqKiDigJMgYHtudW1iZXJ9YCDigJMgSFRUUCBzdGF0dXMgY29kZSBvZiB0aGUgcmVzcG9uc2UuXHJcbiAgICAgICAqICAgLSAqKmhlYWRlcnMqKiDigJMgYHtmdW5jdGlvbihbaGVhZGVyTmFtZV0pfWAg4oCTIEhlYWRlciBnZXR0ZXIgZnVuY3Rpb24uXHJcbiAgICAgICAqICAgLSAqKmNvbmZpZyoqIOKAkyBge09iamVjdH1gIOKAkyBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgdGhhdCB3YXMgdXNlZCB0byBnZW5lcmF0ZSB0aGUgcmVxdWVzdC5cclxuICAgICAgICogICAtICoqc3RhdHVzVGV4dCoqIOKAkyBge3N0cmluZ31gIOKAkyBIVFRQIHN0YXR1cyB0ZXh0IG9mIHRoZSByZXNwb25zZS5cclxuICAgICAgICogICAtICoqeGhyU3RhdHVzKiog4oCTIGB7c3RyaW5nfWAg4oCTIFN0YXR1cyBvZiB0aGUgWE1MSHR0cFJlcXVlc3QgKGBjb21wbGV0ZWAsIGBlcnJvcmAsIGB0aW1lb3V0YCBvciBgYWJvcnRgKS5cclxuICAgICAgICpcclxuICAgICAgICogQSByZXNwb25zZSBzdGF0dXMgY29kZSBiZXR3ZWVuIDIwMCBhbmQgMjk5IGlzIGNvbnNpZGVyZWQgYSBzdWNjZXNzIHN0YXR1cyBhbmQgd2lsbCByZXN1bHQgaW5cclxuICAgICAgICogdGhlIHN1Y2Nlc3MgY2FsbGJhY2sgYmVpbmcgY2FsbGVkLiBBbnkgcmVzcG9uc2Ugc3RhdHVzIGNvZGUgb3V0c2lkZSBvZiB0aGF0IHJhbmdlIGlzXHJcbiAgICAgICAqIGNvbnNpZGVyZWQgYW4gZXJyb3Igc3RhdHVzIGFuZCB3aWxsIHJlc3VsdCBpbiB0aGUgZXJyb3IgY2FsbGJhY2sgYmVpbmcgY2FsbGVkLlxyXG4gICAgICAgKiBBbHNvLCBzdGF0dXMgY29kZXMgbGVzcyB0aGFuIC0xIGFyZSBub3JtYWxpemVkIHRvIHplcm8uIC0xIHVzdWFsbHkgbWVhbnMgdGhlIHJlcXVlc3Qgd2FzXHJcbiAgICAgICAqIGFib3J0ZWQsIGUuZy4gdXNpbmcgYSBgY29uZmlnLnRpbWVvdXRgLlxyXG4gICAgICAgKiBOb3RlIHRoYXQgaWYgdGhlIHJlc3BvbnNlIGlzIGEgcmVkaXJlY3QsIFhNTEh0dHBSZXF1ZXN0IHdpbGwgdHJhbnNwYXJlbnRseSBmb2xsb3cgaXQsIG1lYW5pbmdcclxuICAgICAgICogdGhhdCB0aGUgb3V0Y29tZSAoc3VjY2VzcyBvciBlcnJvcikgd2lsbCBiZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaW5hbCByZXNwb25zZSBzdGF0dXMgY29kZS5cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogIyMgU2hvcnRjdXQgbWV0aG9kc1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBTaG9ydGN1dCBtZXRob2RzIGFyZSBhbHNvIGF2YWlsYWJsZS4gQWxsIHNob3J0Y3V0IG1ldGhvZHMgcmVxdWlyZSBwYXNzaW5nIGluIHRoZSBVUkwsIGFuZFxyXG4gICAgICAgKiByZXF1ZXN0IGRhdGEgbXVzdCBiZSBwYXNzZWQgaW4gZm9yIFBPU1QvUFVUIHJlcXVlc3RzLiBBbiBvcHRpb25hbCBjb25maWcgY2FuIGJlIHBhc3NlZCBhcyB0aGVcclxuICAgICAgICogbGFzdCBhcmd1bWVudC5cclxuICAgICAgICpcclxuICAgICAgICogYGBganNcclxuICAgICAgICogICAkaHR0cC5nZXQoJy9zb21lVXJsJywgY29uZmlnKS50aGVuKHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjayk7XHJcbiAgICAgICAqICAgJGh0dHAucG9zdCgnL3NvbWVVcmwnLCBkYXRhLCBjb25maWcpLnRoZW4oc3VjY2Vzc0NhbGxiYWNrLCBlcnJvckNhbGxiYWNrKTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqIENvbXBsZXRlIGxpc3Qgb2Ygc2hvcnRjdXQgbWV0aG9kczpcclxuICAgICAgICpcclxuICAgICAgICogLSB7QGxpbmsgbmcuJGh0dHAjZ2V0ICRodHRwLmdldH1cclxuICAgICAgICogLSB7QGxpbmsgbmcuJGh0dHAjaGVhZCAkaHR0cC5oZWFkfVxyXG4gICAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwb3N0ICRodHRwLnBvc3R9XHJcbiAgICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI3B1dCAkaHR0cC5wdXR9XHJcbiAgICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2RlbGV0ZSAkaHR0cC5kZWxldGV9XHJcbiAgICAgICAqIC0ge0BsaW5rIG5nLiRodHRwI2pzb25wICRodHRwLmpzb25wfVxyXG4gICAgICAgKiAtIHtAbGluayBuZy4kaHR0cCNwYXRjaCAkaHR0cC5wYXRjaH1cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogIyMgV3JpdGluZyBVbml0IFRlc3RzIHRoYXQgdXNlICRodHRwXHJcbiAgICAgICAqIFdoZW4gdW5pdCB0ZXN0aW5nICh1c2luZyB7QGxpbmsgbmdNb2NrIG5nTW9ja30pLCBpdCBpcyBuZWNlc3NhcnkgdG8gY2FsbFxyXG4gICAgICAgKiB7QGxpbmsgbmdNb2NrLiRodHRwQmFja2VuZCNmbHVzaCAkaHR0cEJhY2tlbmQuZmx1c2goKX0gdG8gZmx1c2ggZWFjaCBwZW5kaW5nXHJcbiAgICAgICAqIHJlcXVlc3QgdXNpbmcgdHJhaW5lZCByZXNwb25zZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKiAkaHR0cEJhY2tlbmQuZXhwZWN0R0VUKC4uLik7XHJcbiAgICAgICAqICRodHRwLmdldCguLi4pO1xyXG4gICAgICAgKiAkaHR0cEJhY2tlbmQuZmx1c2goKTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIFNldHRpbmcgSFRUUCBIZWFkZXJzXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSAkaHR0cCBzZXJ2aWNlIHdpbGwgYXV0b21hdGljYWxseSBhZGQgY2VydGFpbiBIVFRQIGhlYWRlcnMgdG8gYWxsIHJlcXVlc3RzLiBUaGVzZSBkZWZhdWx0c1xyXG4gICAgICAgKiBjYW4gYmUgZnVsbHkgY29uZmlndXJlZCBieSBhY2Nlc3NpbmcgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzLmhlYWRlcnNgIGNvbmZpZ3VyYXRpb25cclxuICAgICAgICogb2JqZWN0LCB3aGljaCBjdXJyZW50bHkgY29udGFpbnMgdGhpcyBkZWZhdWx0IGNvbmZpZ3VyYXRpb246XHJcbiAgICAgICAqXHJcbiAgICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5jb21tb25gIChoZWFkZXJzIHRoYXQgYXJlIGNvbW1vbiBmb3IgYWxsIHJlcXVlc3RzKTpcclxuICAgICAgICogICAtIDxjb2RlPkFjY2VwdDogYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgXFwqJiM2NTI3OTsvJiM2NTI3OTtcXCo8L2NvZGU+XHJcbiAgICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5wb3N0YDogKGhlYWRlciBkZWZhdWx0cyBmb3IgUE9TVCByZXF1ZXN0cylcclxuICAgICAgICogICAtIGBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25gXHJcbiAgICAgICAqIC0gYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuaGVhZGVycy5wdXRgIChoZWFkZXIgZGVmYXVsdHMgZm9yIFBVVCByZXF1ZXN0cylcclxuICAgICAgICogICAtIGBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25gXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRvIGFkZCBvciBvdmVyd3JpdGUgdGhlc2UgZGVmYXVsdHMsIHNpbXBseSBhZGQgb3IgcmVtb3ZlIGEgcHJvcGVydHkgZnJvbSB0aGVzZSBjb25maWd1cmF0aW9uXHJcbiAgICAgICAqIG9iamVjdHMuIFRvIGFkZCBoZWFkZXJzIGZvciBhbiBIVFRQIG1ldGhvZCBvdGhlciB0aGFuIFBPU1Qgb3IgUFVULCBzaW1wbHkgYWRkIGEgbmV3IG9iamVjdFxyXG4gICAgICAgKiB3aXRoIHRoZSBsb3dlcmNhc2VkIEhUVFAgbWV0aG9kIG5hbWUgYXMgdGhlIGtleSwgZS5nLlxyXG4gICAgICAgKiBgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzLmdldCA9IHsgJ015LUhlYWRlcicgOiAndmFsdWUnIH1gLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgZGVmYXVsdHMgY2FuIGFsc28gYmUgc2V0IGF0IHJ1bnRpbWUgdmlhIHRoZSBgJGh0dHAuZGVmYXVsdHNgIG9iamVjdCBpbiB0aGUgc2FtZVxyXG4gICAgICAgKiBmYXNoaW9uLiBGb3IgZXhhbXBsZTpcclxuICAgICAgICpcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqIG1vZHVsZS5ydW4oZnVuY3Rpb24oJGh0dHApIHtcclxuICAgICAgICogICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0Jhc2ljIFltVmxjRHBpYjI5dyc7XHJcbiAgICAgICAqIH0pO1xyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogSW4gYWRkaXRpb24sIHlvdSBjYW4gc3VwcGx5IGEgYGhlYWRlcnNgIHByb3BlcnR5IGluIHRoZSBjb25maWcgb2JqZWN0IHBhc3NlZCB3aGVuXHJcbiAgICAgICAqIGNhbGxpbmcgYCRodHRwKGNvbmZpZylgLCB3aGljaCBvdmVycmlkZXMgdGhlIGRlZmF1bHRzIHdpdGhvdXQgY2hhbmdpbmcgdGhlbSBnbG9iYWxseS5cclxuICAgICAgICpcclxuICAgICAgICogVG8gZXhwbGljaXRseSByZW1vdmUgYSBoZWFkZXIgYXV0b21hdGljYWxseSBhZGRlZCB2aWEgJGh0dHBQcm92aWRlci5kZWZhdWx0cy5oZWFkZXJzIG9uIGEgcGVyIHJlcXVlc3QgYmFzaXMsXHJcbiAgICAgICAqIFVzZSB0aGUgYGhlYWRlcnNgIHByb3BlcnR5LCBzZXR0aW5nIHRoZSBkZXNpcmVkIGhlYWRlciB0byBgdW5kZWZpbmVkYC4gRm9yIGV4YW1wbGU6XHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqIHZhciByZXEgPSB7XHJcbiAgICAgICAqICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICogIHVybDogJ2h0dHA6Ly9leGFtcGxlLmNvbScsXHJcbiAgICAgICAqICBoZWFkZXJzOiB7XHJcbiAgICAgICAqICAgICdDb250ZW50LVR5cGUnOiB1bmRlZmluZWRcclxuICAgICAgICogIH0sXHJcbiAgICAgICAqICBkYXRhOiB7IHRlc3Q6ICd0ZXN0JyB9XHJcbiAgICAgICAqIH1cclxuICAgICAgICpcclxuICAgICAgICogJGh0dHAocmVxKS50aGVuKGZ1bmN0aW9uKCl7Li4ufSwgZnVuY3Rpb24oKXsuLi59KTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIFRyYW5zZm9ybWluZyBSZXF1ZXN0cyBhbmQgUmVzcG9uc2VzXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEJvdGggcmVxdWVzdHMgYW5kIHJlc3BvbnNlcyBjYW4gYmUgdHJhbnNmb3JtZWQgdXNpbmcgdHJhbnNmb3JtYXRpb24gZnVuY3Rpb25zOiBgdHJhbnNmb3JtUmVxdWVzdGBcclxuICAgICAgICogYW5kIGB0cmFuc2Zvcm1SZXNwb25zZWAuIFRoZXNlIHByb3BlcnRpZXMgY2FuIGJlIGEgc2luZ2xlIGZ1bmN0aW9uIHRoYXQgcmV0dXJuc1xyXG4gICAgICAgKiB0aGUgdHJhbnNmb3JtZWQgdmFsdWUgKGBmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyLCBzdGF0dXMpYCkgb3IgYW4gYXJyYXkgb2Ygc3VjaCB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbnMsXHJcbiAgICAgICAqIHdoaWNoIGFsbG93cyB5b3UgdG8gYHB1c2hgIG9yIGB1bnNoaWZ0YCBhIG5ldyB0cmFuc2Zvcm1hdGlvbiBmdW5jdGlvbiBpbnRvIHRoZSB0cmFuc2Zvcm1hdGlvbiBjaGFpbi5cclxuICAgICAgICpcclxuICAgICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAgICogKipOb3RlOioqIEFuZ3VsYXIgZG9lcyBub3QgbWFrZSBhIGNvcHkgb2YgdGhlIGBkYXRhYCBwYXJhbWV0ZXIgYmVmb3JlIGl0IGlzIHBhc3NlZCBpbnRvIHRoZSBgdHJhbnNmb3JtUmVxdWVzdGAgcGlwZWxpbmUuXHJcbiAgICAgICAqIFRoYXQgbWVhbnMgY2hhbmdlcyB0byB0aGUgcHJvcGVydGllcyBvZiBgZGF0YWAgYXJlIG5vdCBsb2NhbCB0byB0aGUgdHJhbnNmb3JtIGZ1bmN0aW9uIChzaW5jZSBKYXZhc2NyaXB0IHBhc3NlcyBvYmplY3RzIGJ5IHJlZmVyZW5jZSkuXHJcbiAgICAgICAqIEZvciBleGFtcGxlLCB3aGVuIGNhbGxpbmcgYCRodHRwLmdldCh1cmwsICRzY29wZS5teU9iamVjdClgLCBtb2RpZmljYXRpb25zIHRvIHRoZSBvYmplY3QncyBwcm9wZXJ0aWVzIGluIGEgdHJhbnNmb3JtUmVxdWVzdFxyXG4gICAgICAgKiBmdW5jdGlvbiB3aWxsIGJlIHJlZmxlY3RlZCBvbiB0aGUgc2NvcGUgYW5kIGluIGFueSB0ZW1wbGF0ZXMgd2hlcmUgdGhlIG9iamVjdCBpcyBkYXRhLWJvdW5kLlxyXG4gICAgICAgKiBUbyBwcmV2ZW50IHRoaXMsIHRyYW5zZm9ybSBmdW5jdGlvbnMgc2hvdWxkIGhhdmUgbm8gc2lkZS1lZmZlY3RzLlxyXG4gICAgICAgKiBJZiB5b3UgbmVlZCB0byBtb2RpZnkgcHJvcGVydGllcywgaXQgaXMgcmVjb21tZW5kZWQgdG8gbWFrZSBhIGNvcHkgb2YgdGhlIGRhdGEsIG9yIGNyZWF0ZSBuZXcgb2JqZWN0IHRvIHJldHVybi5cclxuICAgICAgICogPC9kaXY+XHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIyBEZWZhdWx0IFRyYW5zZm9ybWF0aW9uc1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgYCRodHRwUHJvdmlkZXJgIHByb3ZpZGVyIGFuZCBgJGh0dHBgIHNlcnZpY2UgZXhwb3NlIGBkZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0YCBhbmRcclxuICAgICAgICogYGRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzLiBJZiBhIHJlcXVlc3QgZG9lcyBub3QgcHJvdmlkZSBpdHMgb3duIHRyYW5zZm9ybWF0aW9uc1xyXG4gICAgICAgKiB0aGVuIHRoZXNlIHdpbGwgYmUgYXBwbGllZC5cclxuICAgICAgICpcclxuICAgICAgICogWW91IGNhbiBhdWdtZW50IG9yIHJlcGxhY2UgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIGJ5IG1vZGlmeWluZyB0aGVzZSBwcm9wZXJ0aWVzIGJ5IGFkZGluZyB0byBvclxyXG4gICAgICAgKiByZXBsYWNpbmcgdGhlIGFycmF5LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBbmd1bGFyIHByb3ZpZGVzIHRoZSBmb2xsb3dpbmcgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbnM6XHJcbiAgICAgICAqXHJcbiAgICAgICAqIFJlcXVlc3QgdHJhbnNmb3JtYXRpb25zIChgJGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXF1ZXN0YCBhbmQgYCRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlcXVlc3RgKSBpc1xyXG4gICAgICAgKiBhbiBhcnJheSB3aXRoIG9uZSBmdW5jdGlvbiB0aGF0IGRvZXMgdGhlIGZvbGxvd2luZzpcclxuICAgICAgICpcclxuICAgICAgICogLSBJZiB0aGUgYGRhdGFgIHByb3BlcnR5IG9mIHRoZSByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gb2JqZWN0IGNvbnRhaW5zIGFuIG9iamVjdCwgc2VyaWFsaXplIGl0XHJcbiAgICAgICAqICAgaW50byBKU09OIGZvcm1hdC5cclxuICAgICAgICpcclxuICAgICAgICogUmVzcG9uc2UgdHJhbnNmb3JtYXRpb25zIChgJGh0dHBQcm92aWRlci5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWAgYW5kIGAkaHR0cC5kZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZWApIGlzXHJcbiAgICAgICAqIGFuIGFycmF5IHdpdGggb25lIGZ1bmN0aW9uIHRoYXQgZG9lcyB0aGUgZm9sbG93aW5nOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgLSBJZiBYU1JGIHByZWZpeCBpcyBkZXRlY3RlZCwgc3RyaXAgaXQgKHNlZSBTZWN1cml0eSBDb25zaWRlcmF0aW9ucyBzZWN0aW9uIGJlbG93KS5cclxuICAgICAgICogIC0gSWYgdGhlIGBDb250ZW50LVR5cGVgIGlzIGBhcHBsaWNhdGlvbi9qc29uYCBvciB0aGUgcmVzcG9uc2UgbG9va3MgbGlrZSBKU09OLFxyXG4gICAgICAqICAgICAgZGVzZXJpYWxpemUgaXQgdXNpbmcgYSBKU09OIHBhcnNlci5cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogIyMjIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zIFBlciBSZXF1ZXN0XHJcbiAgICAgICAqXHJcbiAgICAgICAqIElmIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSByZXF1ZXN0L3Jlc3BvbnNlIHRyYW5zZm9ybWF0aW9ucyBvbmx5IGZvciBhIHNpbmdsZSByZXF1ZXN0IHRoZW4gcHJvdmlkZVxyXG4gICAgICAgKiBgdHJhbnNmb3JtUmVxdWVzdGAgYW5kL29yIGB0cmFuc2Zvcm1SZXNwb25zZWAgcHJvcGVydGllcyBvbiB0aGUgY29uZmlndXJhdGlvbiBvYmplY3QgcGFzc2VkXHJcbiAgICAgICAqIGludG8gYCRodHRwYC5cclxuICAgICAgICpcclxuICAgICAgICogTm90ZSB0aGF0IGlmIHlvdSBwcm92aWRlIHRoZXNlIHByb3BlcnRpZXMgb24gdGhlIGNvbmZpZyBvYmplY3QgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIHdpbGwgYmVcclxuICAgICAgICogb3ZlcndyaXR0ZW4uIElmIHlvdSB3aXNoIHRvIGF1Z21lbnQgdGhlIGRlZmF1bHQgdHJhbnNmb3JtYXRpb25zIHRoZW4geW91IG11c3QgaW5jbHVkZSB0aGVtIGluIHlvdXJcclxuICAgICAgICogbG9jYWwgdHJhbnNmb3JtYXRpb24gYXJyYXkuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSBmb2xsb3dpbmcgY29kZSBkZW1vbnN0cmF0ZXMgYWRkaW5nIGEgbmV3IHJlc3BvbnNlIHRyYW5zZm9ybWF0aW9uIHRvIGJlIHJ1biBhZnRlciB0aGUgZGVmYXVsdCByZXNwb25zZVxyXG4gICAgICAgKiB0cmFuc2Zvcm1hdGlvbnMgaGF2ZSBiZWVuIHJ1bi5cclxuICAgICAgICpcclxuICAgICAgICogYGBganNcclxuICAgICAgICogZnVuY3Rpb24gYXBwZW5kVHJhbnNmb3JtKGRlZmF1bHRzLCB0cmFuc2Zvcm0pIHtcclxuICAgICAgICpcclxuICAgICAgICogICAvLyBXZSBjYW4ndCBndWFyYW50ZWUgdGhhdCB0aGUgZGVmYXVsdCB0cmFuc2Zvcm1hdGlvbiBpcyBhbiBhcnJheVxyXG4gICAgICAgKiAgIGRlZmF1bHRzID0gYW5ndWxhci5pc0FycmF5KGRlZmF1bHRzKSA/IGRlZmF1bHRzIDogW2RlZmF1bHRzXTtcclxuICAgICAgICpcclxuICAgICAgICogICAvLyBBcHBlbmQgdGhlIG5ldyB0cmFuc2Zvcm1hdGlvbiB0byB0aGUgZGVmYXVsdHNcclxuICAgICAgICogICByZXR1cm4gZGVmYXVsdHMuY29uY2F0KHRyYW5zZm9ybSk7XHJcbiAgICAgICAqIH1cclxuICAgICAgICpcclxuICAgICAgICogJGh0dHAoe1xyXG4gICAgICAgKiAgIHVybDogJy4uLicsXHJcbiAgICAgICAqICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICogICB0cmFuc2Zvcm1SZXNwb25zZTogYXBwZW5kVHJhbnNmb3JtKCRodHRwLmRlZmF1bHRzLnRyYW5zZm9ybVJlc3BvbnNlLCBmdW5jdGlvbih2YWx1ZSkge1xyXG4gICAgICAgKiAgICAgcmV0dXJuIGRvVHJhbnNmb3JtKHZhbHVlKTtcclxuICAgICAgICogICB9KVxyXG4gICAgICAgKiB9KTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIENhY2hpbmdcclxuICAgICAgICpcclxuICAgICAgICoge0BsaW5rIG5nLiRodHRwIGAkaHR0cGB9IHJlc3BvbnNlcyBhcmUgbm90IGNhY2hlZCBieSBkZWZhdWx0LiBUbyBlbmFibGUgY2FjaGluZywgeW91IG11c3RcclxuICAgICAgICogc2V0IHRoZSBjb25maWcuY2FjaGUgdmFsdWUgb3IgdGhlIGRlZmF1bHQgY2FjaGUgdmFsdWUgdG8gVFJVRSBvciB0byBhIGNhY2hlIG9iamVjdCAoY3JlYXRlZFxyXG4gICAgICAgKiB3aXRoIHtAbGluayBuZy4kY2FjaGVGYWN0b3J5IGAkY2FjaGVGYWN0b3J5YH0pLiBJZiBkZWZpbmVkLCB0aGUgdmFsdWUgb2YgY29uZmlnLmNhY2hlIHRha2VzXHJcbiAgICAgICAqIHByZWNlZGVuY2Ugb3ZlciB0aGUgZGVmYXVsdCBjYWNoZSB2YWx1ZS5cclxuICAgICAgICpcclxuICAgICAgICogSW4gb3JkZXIgdG86XHJcbiAgICAgICAqICAgKiBjYWNoZSBhbGwgcmVzcG9uc2VzIC0gc2V0IHRoZSBkZWZhdWx0IGNhY2hlIHZhbHVlIHRvIFRSVUUgb3IgdG8gYSBjYWNoZSBvYmplY3RcclxuICAgICAgICogICAqIGNhY2hlIGEgc3BlY2lmaWMgcmVzcG9uc2UgLSBzZXQgY29uZmlnLmNhY2hlIHZhbHVlIHRvIFRSVUUgb3IgdG8gYSBjYWNoZSBvYmplY3RcclxuICAgICAgICpcclxuICAgICAgICogSWYgY2FjaGluZyBpcyBlbmFibGVkLCBidXQgbmVpdGhlciB0aGUgZGVmYXVsdCBjYWNoZSBub3IgY29uZmlnLmNhY2hlIGFyZSBzZXQgdG8gYSBjYWNoZSBvYmplY3QsXHJcbiAgICAgICAqIHRoZW4gdGhlIGRlZmF1bHQgYCRjYWNoZUZhY3RvcnkoXCIkaHR0cFwiKWAgb2JqZWN0IGlzIHVzZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSBkZWZhdWx0IGNhY2hlIHZhbHVlIGNhbiBiZSBzZXQgYnkgdXBkYXRpbmcgdGhlXHJcbiAgICAgICAqIHtAbGluayBuZy4kaHR0cCNkZWZhdWx0cyBgJGh0dHAuZGVmYXVsdHMuY2FjaGVgfSBwcm9wZXJ0eSBvciB0aGVcclxuICAgICAgICoge0BsaW5rICRodHRwUHJvdmlkZXIjZGVmYXVsdHMgYCRodHRwUHJvdmlkZXIuZGVmYXVsdHMuY2FjaGVgfSBwcm9wZXJ0eS5cclxuICAgICAgICpcclxuICAgICAgICogV2hlbiBjYWNoaW5nIGlzIGVuYWJsZWQsIHtAbGluayBuZy4kaHR0cCBgJGh0dHBgfSBzdG9yZXMgdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlciB1c2luZ1xyXG4gICAgICAgKiB0aGUgcmVsZXZhbnQgY2FjaGUgb2JqZWN0LiBUaGUgbmV4dCB0aW1lIHRoZSBzYW1lIHJlcXVlc3QgaXMgbWFkZSwgdGhlIHJlc3BvbnNlIGlzIHJldHVybmVkXHJcbiAgICAgICAqIGZyb20gdGhlIGNhY2hlIHdpdGhvdXQgc2VuZGluZyBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlci5cclxuICAgICAgICpcclxuICAgICAgICogVGFrZSBub3RlIHRoYXQ6XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgKiBPbmx5IEdFVCBhbmQgSlNPTlAgcmVxdWVzdHMgYXJlIGNhY2hlZC5cclxuICAgICAgICogICAqIFRoZSBjYWNoZSBrZXkgaXMgdGhlIHJlcXVlc3QgVVJMIGluY2x1ZGluZyBzZWFyY2ggcGFyYW1ldGVyczsgaGVhZGVycyBhcmUgbm90IGNvbnNpZGVyZWQuXHJcbiAgICAgICAqICAgKiBDYWNoZWQgcmVzcG9uc2VzIGFyZSByZXR1cm5lZCBhc3luY2hyb25vdXNseSwgaW4gdGhlIHNhbWUgd2F5IGFzIHJlc3BvbnNlcyBmcm9tIHRoZSBzZXJ2ZXIuXHJcbiAgICAgICAqICAgKiBJZiBtdWx0aXBsZSBpZGVudGljYWwgcmVxdWVzdHMgYXJlIG1hZGUgdXNpbmcgdGhlIHNhbWUgY2FjaGUsIHdoaWNoIGlzIG5vdCB5ZXQgcG9wdWxhdGVkLFxyXG4gICAgICAgKiAgICAgb25lIHJlcXVlc3Qgd2lsbCBiZSBtYWRlIHRvIHRoZSBzZXJ2ZXIgYW5kIHJlbWFpbmluZyByZXF1ZXN0cyB3aWxsIHJldHVybiB0aGUgc2FtZSByZXNwb25zZS5cclxuICAgICAgICogICAqIEEgY2FjaGUtY29udHJvbCBoZWFkZXIgb24gdGhlIHJlc3BvbnNlIGRvZXMgbm90IGFmZmVjdCBpZiBvciBob3cgcmVzcG9uc2VzIGFyZSBjYWNoZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIEludGVyY2VwdG9yc1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBCZWZvcmUgeW91IHN0YXJ0IGNyZWF0aW5nIGludGVyY2VwdG9ycywgYmUgc3VyZSB0byB1bmRlcnN0YW5kIHRoZVxyXG4gICAgICAgKiB7QGxpbmsgbmcuJHEgJHEgYW5kIGRlZmVycmVkL3Byb21pc2UgQVBJc30uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEZvciBwdXJwb3NlcyBvZiBnbG9iYWwgZXJyb3IgaGFuZGxpbmcsIGF1dGhlbnRpY2F0aW9uLCBvciBhbnkga2luZCBvZiBzeW5jaHJvbm91cyBvclxyXG4gICAgICAgKiBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3Npbmcgb2YgcmVxdWVzdCBvciBwb3N0cHJvY2Vzc2luZyBvZiByZXNwb25zZXMsIGl0IGlzIGRlc2lyYWJsZSB0byBiZVxyXG4gICAgICAgKiBhYmxlIHRvIGludGVyY2VwdCByZXF1ZXN0cyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIHRvIHRoZSBzZXJ2ZXIgYW5kXHJcbiAgICAgICAqIHJlc3BvbnNlcyBiZWZvcmUgdGhleSBhcmUgaGFuZGVkIG92ZXIgdG8gdGhlIGFwcGxpY2F0aW9uIGNvZGUgdGhhdFxyXG4gICAgICAgKiBpbml0aWF0ZWQgdGhlc2UgcmVxdWVzdHMuIFRoZSBpbnRlcmNlcHRvcnMgbGV2ZXJhZ2UgdGhlIHtAbGluayBuZy4kcVxyXG4gICAgICAgKiBwcm9taXNlIEFQSXN9IHRvIGZ1bGZpbGwgdGhpcyBuZWVkIGZvciBib3RoIHN5bmNocm9ub3VzIGFuZCBhc3luY2hyb25vdXMgcHJlLXByb2Nlc3NpbmcuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSBpbnRlcmNlcHRvcnMgYXJlIHNlcnZpY2UgZmFjdG9yaWVzIHRoYXQgYXJlIHJlZ2lzdGVyZWQgd2l0aCB0aGUgYCRodHRwUHJvdmlkZXJgIGJ5XHJcbiAgICAgICAqIGFkZGluZyB0aGVtIHRvIHRoZSBgJGh0dHBQcm92aWRlci5pbnRlcmNlcHRvcnNgIGFycmF5LiBUaGUgZmFjdG9yeSBpcyBjYWxsZWQgYW5kXHJcbiAgICAgICAqIGluamVjdGVkIHdpdGggZGVwZW5kZW5jaWVzIChpZiBzcGVjaWZpZWQpIGFuZCByZXR1cm5zIHRoZSBpbnRlcmNlcHRvci5cclxuICAgICAgICpcclxuICAgICAgICogVGhlcmUgYXJlIHR3byBraW5kcyBvZiBpbnRlcmNlcHRvcnMgKGFuZCB0d28ga2luZHMgb2YgcmVqZWN0aW9uIGludGVyY2VwdG9ycyk6XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgKiBgcmVxdWVzdGA6IGludGVyY2VwdG9ycyBnZXQgY2FsbGVkIHdpdGggYSBodHRwIHtAbGluayAkaHR0cCN1c2FnZSBjb25maWd9IG9iamVjdC4gVGhlIGZ1bmN0aW9uIGlzIGZyZWUgdG9cclxuICAgICAgICogICAgIG1vZGlmeSB0aGUgYGNvbmZpZ2Agb2JqZWN0IG9yIGNyZWF0ZSBhIG5ldyBvbmUuIFRoZSBmdW5jdGlvbiBuZWVkcyB0byByZXR1cm4gdGhlIGBjb25maWdgXHJcbiAgICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgY29uZmlnYCBvciBhIG5ldyBgY29uZmlnYCBvYmplY3QuXHJcbiAgICAgICAqICAgKiBgcmVxdWVzdEVycm9yYDogaW50ZXJjZXB0b3IgZ2V0cyBjYWxsZWQgd2hlbiBhIHByZXZpb3VzIGludGVyY2VwdG9yIHRocmV3IGFuIGVycm9yIG9yXHJcbiAgICAgICAqICAgICByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxyXG4gICAgICAgKiAgICogYHJlc3BvbnNlYDogaW50ZXJjZXB0b3JzIGdldCBjYWxsZWQgd2l0aCBodHRwIGByZXNwb25zZWAgb2JqZWN0LiBUaGUgZnVuY3Rpb24gaXMgZnJlZSB0b1xyXG4gICAgICAgKiAgICAgbW9kaWZ5IHRoZSBgcmVzcG9uc2VgIG9iamVjdCBvciBjcmVhdGUgYSBuZXcgb25lLiBUaGUgZnVuY3Rpb24gbmVlZHMgdG8gcmV0dXJuIHRoZSBgcmVzcG9uc2VgXHJcbiAgICAgICAqICAgICBvYmplY3QgZGlyZWN0bHksIG9yIGFzIGEgcHJvbWlzZSBjb250YWluaW5nIHRoZSBgcmVzcG9uc2VgIG9yIGEgbmV3IGByZXNwb25zZWAgb2JqZWN0LlxyXG4gICAgICAgKiAgICogYHJlc3BvbnNlRXJyb3JgOiBpbnRlcmNlcHRvciBnZXRzIGNhbGxlZCB3aGVuIGEgcHJldmlvdXMgaW50ZXJjZXB0b3IgdGhyZXcgYW4gZXJyb3Igb3JcclxuICAgICAgICogICAgIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqICAgLy8gcmVnaXN0ZXIgdGhlIGludGVyY2VwdG9yIGFzIGEgc2VydmljZVxyXG4gICAgICAgKiAgICRwcm92aWRlLmZhY3RvcnkoJ215SHR0cEludGVyY2VwdG9yJywgZnVuY3Rpb24oJHEsIGRlcGVuZGVuY3kxLCBkZXBlbmRlbmN5Mikge1xyXG4gICAgICAgKiAgICAgcmV0dXJuIHtcclxuICAgICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgICAqICAgICAgICdyZXF1ZXN0JzogZnVuY3Rpb24oY29uZmlnKSB7XHJcbiAgICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3NcclxuICAgICAgICogICAgICAgICByZXR1cm4gY29uZmlnO1xyXG4gICAgICAgKiAgICAgICB9LFxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAgICAvLyBvcHRpb25hbCBtZXRob2RcclxuICAgICAgICogICAgICAncmVxdWVzdEVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XHJcbiAgICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yXHJcbiAgICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkge1xyXG4gICAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXHJcbiAgICAgICAqICAgICAgICAgfVxyXG4gICAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcclxuICAgICAgICogICAgICAgfSxcclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogICAgICAgLy8gb3B0aW9uYWwgbWV0aG9kXHJcbiAgICAgICAqICAgICAgICdyZXNwb25zZSc6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIHN1Y2Nlc3NcclxuICAgICAgICogICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAqICAgICAgIH0sXHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgICAgIC8vIG9wdGlvbmFsIG1ldGhvZFxyXG4gICAgICAgKiAgICAgICdyZXNwb25zZUVycm9yJzogZnVuY3Rpb24ocmVqZWN0aW9uKSB7XHJcbiAgICAgICAqICAgICAgICAgLy8gZG8gc29tZXRoaW5nIG9uIGVycm9yXHJcbiAgICAgICAqICAgICAgICAgaWYgKGNhblJlY292ZXIocmVqZWN0aW9uKSkge1xyXG4gICAgICAgKiAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlT3JOZXdQcm9taXNlXHJcbiAgICAgICAqICAgICAgICAgfVxyXG4gICAgICAgKiAgICAgICAgIHJldHVybiAkcS5yZWplY3QocmVqZWN0aW9uKTtcclxuICAgICAgICogICAgICAgfVxyXG4gICAgICAgKiAgICAgfTtcclxuICAgICAgICogICB9KTtcclxuICAgICAgICpcclxuICAgICAgICogICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKCdteUh0dHBJbnRlcmNlcHRvcicpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgIC8vIGFsdGVybmF0aXZlbHksIHJlZ2lzdGVyIHRoZSBpbnRlcmNlcHRvciB2aWEgYW4gYW5vbnltb3VzIGZhY3RvcnlcclxuICAgICAgICogICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGZ1bmN0aW9uKCRxLCBkZXBlbmRlbmN5MSwgZGVwZW5kZW5jeTIpIHtcclxuICAgICAgICogICAgIHJldHVybiB7XHJcbiAgICAgICAqICAgICAgJ3JlcXVlc3QnOiBmdW5jdGlvbihjb25maWcpIHtcclxuICAgICAgICogICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZVxyXG4gICAgICAgKiAgICAgICB9LFxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAgICAncmVzcG9uc2UnOiBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgKiAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlXHJcbiAgICAgICAqICAgICAgIH1cclxuICAgICAgICogICAgIH07XHJcbiAgICAgICAqICAgfSk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiAjIyBTZWN1cml0eSBDb25zaWRlcmF0aW9uc1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBXaGVuIGRlc2lnbmluZyB3ZWIgYXBwbGljYXRpb25zLCBjb25zaWRlciBzZWN1cml0eSB0aHJlYXRzIGZyb206XHJcbiAgICAgICAqXHJcbiAgICAgICAqIC0gW0pTT04gdnVsbmVyYWJpbGl0eV0oaHR0cDovL2hhYWNrZWQuY29tL2FyY2hpdmUvMjAwOC8xMS8yMC9hbmF0b215LW9mLWEtc3VidGxlLWpzb24tdnVsbmVyYWJpbGl0eS5hc3B4KVxyXG4gICAgICAgKiAtIFtYU1JGXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Nyb3NzLXNpdGVfcmVxdWVzdF9mb3JnZXJ5KVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBCb3RoIHNlcnZlciBhbmQgdGhlIGNsaWVudCBtdXN0IGNvb3BlcmF0ZSBpbiBvcmRlciB0byBlbGltaW5hdGUgdGhlc2UgdGhyZWF0cy4gQW5ndWxhciBjb21lc1xyXG4gICAgICAgKiBwcmUtY29uZmlndXJlZCB3aXRoIHN0cmF0ZWdpZXMgdGhhdCBhZGRyZXNzIHRoZXNlIGlzc3VlcywgYnV0IGZvciB0aGlzIHRvIHdvcmsgYmFja2VuZCBzZXJ2ZXJcclxuICAgICAgICogY29vcGVyYXRpb24gaXMgcmVxdWlyZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICMjIyBKU09OIFZ1bG5lcmFiaWxpdHkgUHJvdGVjdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBBIFtKU09OIHZ1bG5lcmFiaWxpdHldKGh0dHA6Ly9oYWFja2VkLmNvbS9hcmNoaXZlLzIwMDgvMTEvMjAvYW5hdG9teS1vZi1hLXN1YnRsZS1qc29uLXZ1bG5lcmFiaWxpdHkuYXNweClcclxuICAgICAgICogYWxsb3dzIHRoaXJkIHBhcnR5IHdlYnNpdGUgdG8gdHVybiB5b3VyIEpTT04gcmVzb3VyY2UgVVJMIGludG9cclxuICAgICAgICogW0pTT05QXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0pTT05QKSByZXF1ZXN0IHVuZGVyIHNvbWUgY29uZGl0aW9ucy4gVG9cclxuICAgICAgICogY291bnRlciB0aGlzIHlvdXIgc2VydmVyIGNhbiBwcmVmaXggYWxsIEpTT04gcmVxdWVzdHMgd2l0aCBmb2xsb3dpbmcgc3RyaW5nIGBcIildfScsXFxuXCJgLlxyXG4gICAgICAgKiBBbmd1bGFyIHdpbGwgYXV0b21hdGljYWxseSBzdHJpcCB0aGUgcHJlZml4IGJlZm9yZSBwcm9jZXNzaW5nIGl0IGFzIEpTT04uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEZvciBleGFtcGxlIGlmIHlvdXIgc2VydmVyIG5lZWRzIHRvIHJldHVybjpcclxuICAgICAgICogYGBganNcclxuICAgICAgICogWydvbmUnLCd0d28nXVxyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogd2hpY2ggaXMgdnVsbmVyYWJsZSB0byBhdHRhY2ssIHlvdXIgc2VydmVyIGNhbiByZXR1cm46XHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqICldfScsXHJcbiAgICAgICAqIFsnb25lJywndHdvJ11cclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEFuZ3VsYXIgd2lsbCBzdHJpcCB0aGUgcHJlZml4LCBiZWZvcmUgcHJvY2Vzc2luZyB0aGUgSlNPTi5cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogIyMjIENyb3NzIFNpdGUgUmVxdWVzdCBGb3JnZXJ5IChYU1JGKSBQcm90ZWN0aW9uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFtYU1JGXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Nyb3NzLXNpdGVfcmVxdWVzdF9mb3JnZXJ5KSBpcyBhbiBhdHRhY2sgdGVjaG5pcXVlIGJ5XHJcbiAgICAgICAqIHdoaWNoIHRoZSBhdHRhY2tlciBjYW4gdHJpY2sgYW4gYXV0aGVudGljYXRlZCB1c2VyIGludG8gdW5rbm93aW5nbHkgZXhlY3V0aW5nIGFjdGlvbnMgb24geW91clxyXG4gICAgICAgKiB3ZWJzaXRlLiBBbmd1bGFyIHByb3ZpZGVzIGEgbWVjaGFuaXNtIHRvIGNvdW50ZXIgWFNSRi4gV2hlbiBwZXJmb3JtaW5nIFhIUiByZXF1ZXN0cywgdGhlXHJcbiAgICAgICAqICRodHRwIHNlcnZpY2UgcmVhZHMgYSB0b2tlbiBmcm9tIGEgY29va2llIChieSBkZWZhdWx0LCBgWFNSRi1UT0tFTmApIGFuZCBzZXRzIGl0IGFzIGFuIEhUVFBcclxuICAgICAgICogaGVhZGVyIChgWC1YU1JGLVRPS0VOYCkuIFNpbmNlIG9ubHkgSmF2YVNjcmlwdCB0aGF0IHJ1bnMgb24geW91ciBkb21haW4gY291bGQgcmVhZCB0aGVcclxuICAgICAgICogY29va2llLCB5b3VyIHNlcnZlciBjYW4gYmUgYXNzdXJlZCB0aGF0IHRoZSBYSFIgY2FtZSBmcm9tIEphdmFTY3JpcHQgcnVubmluZyBvbiB5b3VyIGRvbWFpbi5cclxuICAgICAgICogVGhlIGhlYWRlciB3aWxsIG5vdCBiZSBzZXQgZm9yIGNyb3NzLWRvbWFpbiByZXF1ZXN0cy5cclxuICAgICAgICpcclxuICAgICAgICogVG8gdGFrZSBhZHZhbnRhZ2Ugb2YgdGhpcywgeW91ciBzZXJ2ZXIgbmVlZHMgdG8gc2V0IGEgdG9rZW4gaW4gYSBKYXZhU2NyaXB0IHJlYWRhYmxlIHNlc3Npb25cclxuICAgICAgICogY29va2llIGNhbGxlZCBgWFNSRi1UT0tFTmAgb24gdGhlIGZpcnN0IEhUVFAgR0VUIHJlcXVlc3QuIE9uIHN1YnNlcXVlbnQgWEhSIHJlcXVlc3RzIHRoZVxyXG4gICAgICAgKiBzZXJ2ZXIgY2FuIHZlcmlmeSB0aGF0IHRoZSBjb29raWUgbWF0Y2hlcyBgWC1YU1JGLVRPS0VOYCBIVFRQIGhlYWRlciwgYW5kIHRoZXJlZm9yZSBiZSBzdXJlXHJcbiAgICAgICAqIHRoYXQgb25seSBKYXZhU2NyaXB0IHJ1bm5pbmcgb24geW91ciBkb21haW4gY291bGQgaGF2ZSBzZW50IHRoZSByZXF1ZXN0LiBUaGUgdG9rZW4gbXVzdCBiZVxyXG4gICAgICAgKiB1bmlxdWUgZm9yIGVhY2ggdXNlciBhbmQgbXVzdCBiZSB2ZXJpZmlhYmxlIGJ5IHRoZSBzZXJ2ZXIgKHRvIHByZXZlbnQgdGhlIEphdmFTY3JpcHQgZnJvbVxyXG4gICAgICAgKiBtYWtpbmcgdXAgaXRzIG93biB0b2tlbnMpLiBXZSByZWNvbW1lbmQgdGhhdCB0aGUgdG9rZW4gaXMgYSBkaWdlc3Qgb2YgeW91ciBzaXRlJ3NcclxuICAgICAgICogYXV0aGVudGljYXRpb24gY29va2llIHdpdGggYSBbc2FsdF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvU2FsdF8oY3J5cHRvZ3JhcGh5JiM0MTspXHJcbiAgICAgICAqIGZvciBhZGRlZCBzZWN1cml0eS5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIG5hbWUgb2YgdGhlIGhlYWRlcnMgY2FuIGJlIHNwZWNpZmllZCB1c2luZyB0aGUgeHNyZkhlYWRlck5hbWUgYW5kIHhzcmZDb29raWVOYW1lXHJcbiAgICAgICAqIHByb3BlcnRpZXMgb2YgZWl0aGVyICRodHRwUHJvdmlkZXIuZGVmYXVsdHMgYXQgY29uZmlnLXRpbWUsICRodHRwLmRlZmF1bHRzIGF0IHJ1bi10aW1lLFxyXG4gICAgICAgKiBvciB0aGUgcGVyLXJlcXVlc3QgY29uZmlnIG9iamVjdC5cclxuICAgICAgICpcclxuICAgICAgICogSW4gb3JkZXIgdG8gcHJldmVudCBjb2xsaXNpb25zIGluIGVudmlyb25tZW50cyB3aGVyZSBtdWx0aXBsZSBBbmd1bGFyIGFwcHMgc2hhcmUgdGhlXHJcbiAgICAgICAqIHNhbWUgZG9tYWluIG9yIHN1YmRvbWFpbiwgd2UgcmVjb21tZW5kIHRoYXQgZWFjaCBhcHBsaWNhdGlvbiB1c2VzIHVuaXF1ZSBjb29raWUgbmFtZS5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtvYmplY3R9IGNvbmZpZyBPYmplY3QgZGVzY3JpYmluZyB0aGUgcmVxdWVzdCB0byBiZSBtYWRlIGFuZCBob3cgaXQgc2hvdWxkIGJlXHJcbiAgICAgICAqICAgIHByb2Nlc3NlZC4gVGhlIG9iamVjdCBoYXMgZm9sbG93aW5nIHByb3BlcnRpZXM6XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgIC0gKiptZXRob2QqKiDigJMgYHtzdHJpbmd9YCDigJMgSFRUUCBtZXRob2QgKGUuZy4gJ0dFVCcsICdQT1NUJywgZXRjKVxyXG4gICAgICAgKiAgICAtICoqdXJsKiog4oCTIGB7c3RyaW5nfFRydXN0ZWRPYmplY3R9YCDigJMgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZDtcclxuICAgICAgICogICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxyXG4gICAgICAgKiAgICAtICoqcGFyYW1zKiog4oCTIGB7T2JqZWN0LjxzdHJpbmd8T2JqZWN0Pn1gIOKAkyBNYXAgb2Ygc3RyaW5ncyBvciBvYmplY3RzIHdoaWNoIHdpbGwgYmUgc2VyaWFsaXplZFxyXG4gICAgICAgKiAgICAgIHdpdGggdGhlIGBwYXJhbVNlcmlhbGl6ZXJgIGFuZCBhcHBlbmRlZCBhcyBHRVQgcGFyYW1ldGVycy5cclxuICAgICAgICogICAgLSAqKmRhdGEqKiDigJMgYHtzdHJpbmd8T2JqZWN0fWAg4oCTIERhdGEgdG8gYmUgc2VudCBhcyB0aGUgcmVxdWVzdCBtZXNzYWdlIGRhdGEuXHJcbiAgICAgICAqICAgIC0gKipoZWFkZXJzKiog4oCTIGB7T2JqZWN0fWAg4oCTIE1hcCBvZiBzdHJpbmdzIG9yIGZ1bmN0aW9ucyB3aGljaCByZXR1cm4gc3RyaW5ncyByZXByZXNlbnRpbmdcclxuICAgICAgICogICAgICBIVFRQIGhlYWRlcnMgdG8gc2VuZCB0byB0aGUgc2VydmVyLiBJZiB0aGUgcmV0dXJuIHZhbHVlIG9mIGEgZnVuY3Rpb24gaXMgbnVsbCwgdGhlXHJcbiAgICAgICAqICAgICAgaGVhZGVyIHdpbGwgbm90IGJlIHNlbnQuIEZ1bmN0aW9ucyBhY2NlcHQgYSBjb25maWcgb2JqZWN0IGFzIGFuIGFyZ3VtZW50LlxyXG4gICAgICAgKiAgICAtICoqZXZlbnRIYW5kbGVycyoqIC0gYHtPYmplY3R9YCAtIEV2ZW50IGxpc3RlbmVycyB0byBiZSBib3VuZCB0byB0aGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0LlxyXG4gICAgICAgKiAgICAgIFRvIGJpbmQgZXZlbnRzIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCB1cGxvYWQgb2JqZWN0LCB1c2UgYHVwbG9hZEV2ZW50SGFuZGxlcnNgLlxyXG4gICAgICAgKiAgICAgIFRoZSBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkIGluIHRoZSBjb250ZXh0IG9mIGEgYCRhcHBseWAgYmxvY2suXHJcbiAgICAgICAqICAgIC0gKip1cGxvYWRFdmVudEhhbmRsZXJzKiogLSBge09iamVjdH1gIC0gRXZlbnQgbGlzdGVuZXJzIHRvIGJlIGJvdW5kIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCB1cGxvYWRcclxuICAgICAgICogICAgICBvYmplY3QuIFRvIGJpbmQgZXZlbnRzIHRvIHRoZSBYTUxIdHRwUmVxdWVzdCBvYmplY3QsIHVzZSBgZXZlbnRIYW5kbGVyc2AuXHJcbiAgICAgICAqICAgICAgVGhlIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQgaW4gdGhlIGNvbnRleHQgb2YgYSBgJGFwcGx5YCBibG9jay5cclxuICAgICAgICogICAgLSAqKnhzcmZIZWFkZXJOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgSFRUUCBoZWFkZXIgdG8gcG9wdWxhdGUgd2l0aCB0aGUgWFNSRiB0b2tlbi5cclxuICAgICAgICogICAgLSAqKnhzcmZDb29raWVOYW1lKiog4oCTIGB7c3RyaW5nfWAg4oCTIE5hbWUgb2YgY29va2llIGNvbnRhaW5pbmcgdGhlIFhTUkYgdG9rZW4uXHJcbiAgICAgICAqICAgIC0gKip0cmFuc2Zvcm1SZXF1ZXN0Kiog4oCTXHJcbiAgICAgICAqICAgICAgYHtmdW5jdGlvbihkYXRhLCBoZWFkZXJzR2V0dGVyKXxBcnJheS48ZnVuY3Rpb24oZGF0YSwgaGVhZGVyc0dldHRlcik+fWAg4oCTXHJcbiAgICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXHJcbiAgICAgICAqICAgICAgcmVxdWVzdCBib2R5IGFuZCBoZWFkZXJzIGFuZCByZXR1cm5zIGl0cyB0cmFuc2Zvcm1lZCAodHlwaWNhbGx5IHNlcmlhbGl6ZWQpIHZlcnNpb24uXHJcbiAgICAgICAqICAgICAgU2VlIHtAbGluayBuZy4kaHR0cCNvdmVycmlkaW5nLXRoZS1kZWZhdWx0LXRyYW5zZm9ybWF0aW9ucy1wZXItcmVxdWVzdFxyXG4gICAgICAgKiAgICAgIE92ZXJyaWRpbmcgdGhlIERlZmF1bHQgVHJhbnNmb3JtYXRpb25zfVxyXG4gICAgICAgKiAgICAtICoqdHJhbnNmb3JtUmVzcG9uc2UqKiDigJNcclxuICAgICAgICogICAgICBge2Z1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIsIHN0YXR1cyl8QXJyYXkuPGZ1bmN0aW9uKGRhdGEsIGhlYWRlcnNHZXR0ZXIsIHN0YXR1cyk+fWAg4oCTXHJcbiAgICAgICAqICAgICAgdHJhbnNmb3JtIGZ1bmN0aW9uIG9yIGFuIGFycmF5IG9mIHN1Y2ggZnVuY3Rpb25zLiBUaGUgdHJhbnNmb3JtIGZ1bmN0aW9uIHRha2VzIHRoZSBodHRwXHJcbiAgICAgICAqICAgICAgcmVzcG9uc2UgYm9keSwgaGVhZGVycyBhbmQgc3RhdHVzIGFuZCByZXR1cm5zIGl0cyB0cmFuc2Zvcm1lZCAodHlwaWNhbGx5IGRlc2VyaWFsaXplZCkgdmVyc2lvbi5cclxuICAgICAgICogICAgICBTZWUge0BsaW5rIG5nLiRodHRwI292ZXJyaWRpbmctdGhlLWRlZmF1bHQtdHJhbnNmb3JtYXRpb25zLXBlci1yZXF1ZXN0XHJcbiAgICAgICAqICAgICAgT3ZlcnJpZGluZyB0aGUgRGVmYXVsdCBUcmFuc2Zvcm1hdGlvbnN9XHJcbiAgICAgICAqICAgIC0gKipwYXJhbVNlcmlhbGl6ZXIqKiAtIGB7c3RyaW5nfGZ1bmN0aW9uKE9iamVjdDxzdHJpbmcsc3RyaW5nPik6c3RyaW5nfWAgLSBBIGZ1bmN0aW9uIHVzZWQgdG9cclxuICAgICAgICogICAgICBwcmVwYXJlIHRoZSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgcmVxdWVzdCBwYXJhbWV0ZXJzIChzcGVjaWZpZWQgYXMgYW4gb2JqZWN0KS5cclxuICAgICAgICogICAgICBJZiBzcGVjaWZpZWQgYXMgc3RyaW5nLCBpdCBpcyBpbnRlcnByZXRlZCBhcyBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlXHJcbiAgICAgICAqICAgICAge0BsaW5rICRpbmplY3RvciAkaW5qZWN0b3J9LCB3aGljaCBtZWFucyB5b3UgY2FuIGNyZWF0ZSB5b3VyIG93biBzZXJpYWxpemVyXHJcbiAgICAgICAqICAgICAgYnkgcmVnaXN0ZXJpbmcgaXQgYXMgYSB7QGxpbmsgYXV0by4kcHJvdmlkZSNzZXJ2aWNlIHNlcnZpY2V9LlxyXG4gICAgICAgKiAgICAgIFRoZSBkZWZhdWx0IHNlcmlhbGl6ZXIgaXMgdGhlIHtAbGluayAkaHR0cFBhcmFtU2VyaWFsaXplciAkaHR0cFBhcmFtU2VyaWFsaXplcn07XHJcbiAgICAgICAqICAgICAgYWx0ZXJuYXRpdmVseSwgeW91IGNhbiB1c2UgdGhlIHtAbGluayAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZSAkaHR0cFBhcmFtU2VyaWFsaXplckpRTGlrZX1cclxuICAgICAgICogICAgLSAqKmNhY2hlKiog4oCTIGB7Ym9vbGVhbnxPYmplY3R9YCDigJMgQSBib29sZWFuIHZhbHVlIG9yIG9iamVjdCBjcmVhdGVkIHdpdGhcclxuICAgICAgICogICAgICB7QGxpbmsgbmcuJGNhY2hlRmFjdG9yeSBgJGNhY2hlRmFjdG9yeWB9IHRvIGVuYWJsZSBvciBkaXNhYmxlIGNhY2hpbmcgb2YgdGhlIEhUVFAgcmVzcG9uc2UuXHJcbiAgICAgICAqICAgICAgU2VlIHtAbGluayAkaHR0cCNjYWNoaW5nICRodHRwIENhY2hpbmd9IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gICAgICAgKiAgICAtICoqdGltZW91dCoqIOKAkyBge251bWJlcnxQcm9taXNlfWAg4oCTIHRpbWVvdXQgaW4gbWlsbGlzZWNvbmRzLCBvciB7QGxpbmsgbmcuJHEgcHJvbWlzZX1cclxuICAgICAgICogICAgICB0aGF0IHNob3VsZCBhYm9ydCB0aGUgcmVxdWVzdCB3aGVuIHJlc29sdmVkLlxyXG4gICAgICAgKiAgICAtICoqd2l0aENyZWRlbnRpYWxzKiogLSBge2Jvb2xlYW59YCAtIHdoZXRoZXIgdG8gc2V0IHRoZSBgd2l0aENyZWRlbnRpYWxzYCBmbGFnIG9uIHRoZVxyXG4gICAgICAgKiAgICAgIFhIUiBvYmplY3QuIFNlZSBbcmVxdWVzdHMgd2l0aCBjcmVkZW50aWFsc10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvSFRUUC9BY2Nlc3NfY29udHJvbF9DT1JTI1JlcXVlc3RzX3dpdGhfY3JlZGVudGlhbHMpXHJcbiAgICAgICAqICAgICAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICAgICAqICAgIC0gKipyZXNwb25zZVR5cGUqKiAtIGB7c3RyaW5nfWAgLSBzZWVcclxuICAgICAgICogICAgICBbWE1MSHR0cFJlcXVlc3QucmVzcG9uc2VUeXBlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvWE1MSHR0cFJlcXVlc3QjeG1saHR0cHJlcXVlc3QtcmVzcG9uc2V0eXBlKS5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge0h0dHBQcm9taXNlfSBSZXR1cm5zIGEge0BsaW5rIG5nLiRxIGBQcm9taXNlfWAgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHRvIGEgcmVzcG9uc2Ugb2JqZWN0XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgd2hlbiB0aGUgcmVxdWVzdCBzdWNjZWVkcyBvciBmYWlscy5cclxuICAgICAgICpcclxuICAgICAgICpcclxuICAgICAgICogQHByb3BlcnR5IHtBcnJheS48T2JqZWN0Pn0gcGVuZGluZ1JlcXVlc3RzIEFycmF5IG9mIGNvbmZpZyBvYmplY3RzIGZvciBjdXJyZW50bHkgcGVuZGluZ1xyXG4gICAgICAgKiAgIHJlcXVlc3RzLiBUaGlzIGlzIHByaW1hcmlseSBtZWFudCB0byBiZSB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgIDxleGFtcGxlIG1vZHVsZT1cImh0dHBFeGFtcGxlXCIgbmFtZT1cImh0dHAtc2VydmljZVwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJGZXRjaENvbnRyb2xsZXJcIj5cclxuICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm1ldGhvZFwiIGFyaWEtbGFiZWw9XCJSZXF1ZXN0IG1ldGhvZFwiPlxyXG4gICAgICAgIDxvcHRpb24+R0VUPC9vcHRpb24+XHJcbiAgICAgICAgPG9wdGlvbj5KU09OUDwvb3B0aW9uPlxyXG4gICAgICA8L3NlbGVjdD5cclxuICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJ1cmxcIiBzaXplPVwiODBcIiBhcmlhLWxhYmVsPVwiVVJMXCIgLz5cclxuICAgICAgPGJ1dHRvbiBpZD1cImZldGNoYnRuXCIgbmctY2xpY2s9XCJmZXRjaCgpXCI+ZmV0Y2g8L2J1dHRvbj48YnI+XHJcbiAgICAgIDxidXR0b24gaWQ9XCJzYW1wbGVnZXRidG5cIiBuZy1jbGljaz1cInVwZGF0ZU1vZGVsKCdHRVQnLCAnaHR0cC1oZWxsby5odG1sJylcIj5TYW1wbGUgR0VUPC9idXR0b24+XHJcbiAgICAgIDxidXR0b24gaWQ9XCJzYW1wbGVqc29ucGJ0blwiXHJcbiAgICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgJ2h0dHBzOi8vYW5ndWxhcmpzLm9yZy9ncmVldC5waHA/bmFtZT1TdXBlciUyMEhlcm8nKVwiPlxyXG4gICAgICAgIFNhbXBsZSBKU09OUFxyXG4gICAgICA8L2J1dHRvbj5cclxuICAgICAgPGJ1dHRvbiBpZD1cImludmFsaWRqc29ucGJ0blwiXHJcbiAgICAgICAgbmctY2xpY2s9XCJ1cGRhdGVNb2RlbCgnSlNPTlAnLCAnaHR0cHM6Ly9hbmd1bGFyanMub3JnL2RvZXNudGV4aXN0JylcIj5cclxuICAgICAgICAgIEludmFsaWQgSlNPTlBcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPHByZT5odHRwIHN0YXR1cyBjb2RlOiB7e3N0YXR1c319PC9wcmU+XHJcbiAgICAgIDxwcmU+aHR0cCByZXNwb25zZSBkYXRhOiB7e2RhdGF9fTwvcHJlPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgIGFuZ3VsYXIubW9kdWxlKCdodHRwRXhhbXBsZScsIFtdKVxyXG4gICAgICAuY29uZmlnKFsnJHNjZURlbGVnYXRlUHJvdmlkZXInLCBmdW5jdGlvbigkc2NlRGVsZWdhdGVQcm92aWRlcikge1xyXG4gICAgICAgIC8vIFdlIG11c3Qgd2hpdGVsaXN0IHRoZSBKU09OUCBlbmRwb2ludCB0aGF0IHdlIGFyZSB1c2luZyB0byBzaG93IHRoYXQgd2UgdHJ1c3QgaXRcclxuICAgICAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdChbXHJcbiAgICAgICAgICAnc2VsZicsXHJcbiAgICAgICAgICAnaHR0cHM6Ly9hbmd1bGFyanMub3JnLyoqJ1xyXG4gICAgICAgIF0pO1xyXG4gICAgICB9XSlcclxuICAgICAgLmNvbnRyb2xsZXIoJ0ZldGNoQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRodHRwJywgJyR0ZW1wbGF0ZUNhY2hlJyxcclxuICAgICAgICBmdW5jdGlvbigkc2NvcGUsICRodHRwLCAkdGVtcGxhdGVDYWNoZSkge1xyXG4gICAgICAgICAgJHNjb3BlLm1ldGhvZCA9ICdHRVQnO1xyXG4gICAgICAgICAgJHNjb3BlLnVybCA9ICdodHRwLWhlbGxvLmh0bWwnO1xyXG4gICAgICAgICAgICAkc2NvcGUuZmV0Y2ggPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmNvZGUgPSBudWxsO1xyXG4gICAgICAgICAgICAkc2NvcGUucmVzcG9uc2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICRodHRwKHttZXRob2Q6ICRzY29wZS5tZXRob2QsIHVybDogJHNjb3BlLnVybCwgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkuXHJcbiAgICAgICAgICAgICAgdGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcclxuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhID0gcmVzcG9uc2UuZGF0YTtcclxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLmRhdGEgPSByZXNwb25zZS5kYXRhIHx8ICdSZXF1ZXN0IGZhaWxlZCc7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICRzY29wZS51cGRhdGVNb2RlbCA9IGZ1bmN0aW9uKG1ldGhvZCwgdXJsKSB7XHJcbiAgICAgICAgICAgICRzY29wZS5tZXRob2QgPSBtZXRob2Q7XHJcbiAgICAgICAgICAgICRzY29wZS51cmwgPSB1cmw7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1dKTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaHR0cC1oZWxsby5odG1sXCI+XHJcbiAgICAgIEhlbGxvLCAkaHR0cCFcclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgIHZhciBzdGF0dXMgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3N0YXR1cycpKTtcclxuICAgICAgdmFyIGRhdGEgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2RhdGEnKSk7XHJcbiAgICAgIHZhciBmZXRjaEJ0biA9IGVsZW1lbnQoYnkuaWQoJ2ZldGNoYnRuJykpO1xyXG4gICAgICB2YXIgc2FtcGxlR2V0QnRuID0gZWxlbWVudChieS5pZCgnc2FtcGxlZ2V0YnRuJykpO1xyXG4gICAgICB2YXIgaW52YWxpZEpzb25wQnRuID0gZWxlbWVudChieS5pZCgnaW52YWxpZGpzb25wYnRuJykpO1xyXG4gICAgICBpdCgnc2hvdWxkIG1ha2UgYW4geGhyIEdFVCByZXF1ZXN0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgIHNhbXBsZUdldEJ0bi5jbGljaygpO1xyXG4gICAgICBmZXRjaEJ0bi5jbGljaygpO1xyXG4gICAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XHJcbiAgICAgIGV4cGVjdChkYXRhLmdldFRleHQoKSkudG9NYXRjaCgvSGVsbG8sIFxcJGh0dHAhLyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyBDb21tZW50ZWQgb3V0IGR1ZSB0byBmbGFrZXMuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MTg1XHJcbiAgICAgIC8vIGl0KCdzaG91bGQgbWFrZSBhIEpTT05QIHJlcXVlc3QgdG8gYW5ndWxhcmpzLm9yZycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyAgIHZhciBzYW1wbGVKc29ucEJ0biA9IGVsZW1lbnQoYnkuaWQoJ3NhbXBsZWpzb25wYnRuJykpO1xyXG4gICAgICAvLyAgIHNhbXBsZUpzb25wQnRuLmNsaWNrKCk7XHJcbiAgICAgIC8vICAgZmV0Y2hCdG4uY2xpY2soKTtcclxuICAgICAgLy8gICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMjAwJyk7XHJcbiAgICAgIC8vICAgZXhwZWN0KGRhdGEuZ2V0VGV4dCgpKS50b01hdGNoKC9TdXBlciBIZXJvIS8pO1xyXG4gICAgICAvLyB9KTtcclxuICAgICAgaXQoJ3Nob3VsZCBtYWtlIEpTT05QIHJlcXVlc3QgdG8gaW52YWxpZCBVUkwgYW5kIGludm9rZSB0aGUgZXJyb3IgaGFuZGxlcicsXHJcbiAgICAgICAgZnVuY3Rpb24oKSB7XHJcbiAgICAgIGludmFsaWRKc29ucEJ0bi5jbGljaygpO1xyXG4gICAgICBmZXRjaEJ0bi5jbGljaygpO1xyXG4gICAgICBleHBlY3Qoc3RhdHVzLmdldFRleHQoKSkudG9NYXRjaCgnMCcpO1xyXG4gICAgICBleHBlY3QoZGF0YS5nZXRUZXh0KCkpLnRvTWF0Y2goJ1JlcXVlc3QgZmFpbGVkJyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uICRodHRwKHJlcXVlc3RDb25maWcpIHtcclxuXHJcbiAgICAgICAgaWYgKCFpc09iamVjdChyZXF1ZXN0Q29uZmlnKSkge1xyXG4gICAgICAgICAgdGhyb3cgbWluRXJyKCckaHR0cCcpKCdiYWRyZXEnLCAnSHR0cCByZXF1ZXN0IGNvbmZpZ3VyYXRpb24gbXVzdCBiZSBhbiBvYmplY3QuICBSZWNlaXZlZDogezB9JywgcmVxdWVzdENvbmZpZyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWlzU3RyaW5nKCRzY2UudmFsdWVPZihyZXF1ZXN0Q29uZmlnLnVybCkpKSB7XHJcbiAgICAgICAgICB0aHJvdyBtaW5FcnIoJyRodHRwJykoJ2JhZHJlcScsICdIdHRwIHJlcXVlc3QgY29uZmlndXJhdGlvbiB1cmwgbXVzdCBiZSBhIHN0cmluZyBvciBhICRzY2UgdHJ1c3RlZCBvYmplY3QuICBSZWNlaXZlZDogezB9JywgcmVxdWVzdENvbmZpZy51cmwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNvbmZpZyA9IGV4dGVuZCh7XHJcbiAgICAgICAgICBtZXRob2Q6ICdnZXQnLFxyXG4gICAgICAgICAgdHJhbnNmb3JtUmVxdWVzdDogZGVmYXVsdHMudHJhbnNmb3JtUmVxdWVzdCxcclxuICAgICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlOiBkZWZhdWx0cy50cmFuc2Zvcm1SZXNwb25zZSxcclxuICAgICAgICAgIHBhcmFtU2VyaWFsaXplcjogZGVmYXVsdHMucGFyYW1TZXJpYWxpemVyLFxyXG4gICAgICAgICAganNvbnBDYWxsYmFja1BhcmFtOiBkZWZhdWx0cy5qc29ucENhbGxiYWNrUGFyYW1cclxuICAgICAgICB9LCByZXF1ZXN0Q29uZmlnKTtcclxuXHJcbiAgICAgICAgY29uZmlnLmhlYWRlcnMgPSBtZXJnZUhlYWRlcnMocmVxdWVzdENvbmZpZyk7XHJcbiAgICAgICAgY29uZmlnLm1ldGhvZCA9IHVwcGVyY2FzZShjb25maWcubWV0aG9kKTtcclxuICAgICAgICBjb25maWcucGFyYW1TZXJpYWxpemVyID0gaXNTdHJpbmcoY29uZmlnLnBhcmFtU2VyaWFsaXplcikgPyAkaW5qZWN0b3IuZ2V0KGNvbmZpZy5wYXJhbVNlcmlhbGl6ZXIpIDogY29uZmlnLnBhcmFtU2VyaWFsaXplcjtcclxuXHJcbiAgICAgICAgJGJyb3dzZXIuJCRpbmNPdXRzdGFuZGluZ1JlcXVlc3RDb3VudCgpO1xyXG5cclxuICAgICAgICB2YXIgcmVxdWVzdEludGVyY2VwdG9ycyA9IFtdO1xyXG4gICAgICAgIHZhciByZXNwb25zZUludGVyY2VwdG9ycyA9IFtdO1xyXG4gICAgICAgIHZhciBwcm9taXNlID0gJHEucmVzb2x2ZShjb25maWcpO1xyXG5cclxuICAgICAgICAvLyBhcHBseSBpbnRlcmNlcHRvcnNcclxuICAgICAgICBmb3JFYWNoKHJldmVyc2VkSW50ZXJjZXB0b3JzLCBmdW5jdGlvbiAoaW50ZXJjZXB0b3IpIHtcclxuICAgICAgICAgIGlmIChpbnRlcmNlcHRvci5yZXF1ZXN0IHx8IGludGVyY2VwdG9yLnJlcXVlc3RFcnJvcikge1xyXG4gICAgICAgICAgICByZXF1ZXN0SW50ZXJjZXB0b3JzLnVuc2hpZnQoaW50ZXJjZXB0b3IucmVxdWVzdCwgaW50ZXJjZXB0b3IucmVxdWVzdEVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpbnRlcmNlcHRvci5yZXNwb25zZSB8fCBpbnRlcmNlcHRvci5yZXNwb25zZUVycm9yKSB7XHJcbiAgICAgICAgICAgIHJlc3BvbnNlSW50ZXJjZXB0b3JzLnB1c2goaW50ZXJjZXB0b3IucmVzcG9uc2UsIGludGVyY2VwdG9yLnJlc3BvbnNlRXJyb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBwcm9taXNlID0gY2hhaW5JbnRlcmNlcHRvcnMocHJvbWlzZSwgcmVxdWVzdEludGVyY2VwdG9ycyk7XHJcbiAgICAgICAgcHJvbWlzZSA9IHByb21pc2UudGhlbihzZXJ2ZXJSZXF1ZXN0KTtcclxuICAgICAgICBwcm9taXNlID0gY2hhaW5JbnRlcmNlcHRvcnMocHJvbWlzZSwgcmVzcG9uc2VJbnRlcmNlcHRvcnMpO1xyXG4gICAgICAgIHByb21pc2UgPSBwcm9taXNlLmZpbmFsbHkoY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QpO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2hhaW5JbnRlcmNlcHRvcnMocHJvbWlzZSwgaW50ZXJjZXB0b3JzKSB7XHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnRlcmNlcHRvcnMubGVuZ3RoOyBpIDwgaWk7KSB7XHJcbiAgICAgICAgICAgIHZhciB0aGVuRm4gPSBpbnRlcmNlcHRvcnNbaSsrXTtcclxuICAgICAgICAgICAgdmFyIHJlamVjdEZuID0gaW50ZXJjZXB0b3JzW2krK107XHJcblxyXG4gICAgICAgICAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKHRoZW5GbiwgcmVqZWN0Rm4pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGludGVyY2VwdG9ycy5sZW5ndGggPSAwO1xyXG5cclxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY29tcGxldGVPdXRzdGFuZGluZ1JlcXVlc3QoKSB7XHJcbiAgICAgICAgICAkYnJvd3Nlci4kJGNvbXBsZXRlT3V0c3RhbmRpbmdSZXF1ZXN0KG5vb3ApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gZXhlY3V0ZUhlYWRlckZucyhoZWFkZXJzLCBjb25maWcpIHtcclxuICAgICAgICAgIHZhciBoZWFkZXJDb250ZW50LFxyXG4gICAgICAgICAgICAgIHByb2Nlc3NlZEhlYWRlcnMgPSB7fTtcclxuXHJcbiAgICAgICAgICBmb3JFYWNoKGhlYWRlcnMsIGZ1bmN0aW9uIChoZWFkZXJGbiwgaGVhZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGhlYWRlckZuKSkge1xyXG4gICAgICAgICAgICAgIGhlYWRlckNvbnRlbnQgPSBoZWFkZXJGbihjb25maWcpO1xyXG4gICAgICAgICAgICAgIGlmIChoZWFkZXJDb250ZW50ICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIHByb2Nlc3NlZEhlYWRlcnNbaGVhZGVyXSA9IGhlYWRlckNvbnRlbnQ7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIHByb2Nlc3NlZEhlYWRlcnNbaGVhZGVyXSA9IGhlYWRlckZuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gcHJvY2Vzc2VkSGVhZGVycztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG1lcmdlSGVhZGVycyhjb25maWcpIHtcclxuICAgICAgICAgIHZhciBkZWZIZWFkZXJzID0gZGVmYXVsdHMuaGVhZGVycyxcclxuICAgICAgICAgICAgICByZXFIZWFkZXJzID0gZXh0ZW5kKHt9LCBjb25maWcuaGVhZGVycyksXHJcbiAgICAgICAgICAgICAgZGVmSGVhZGVyTmFtZSxcclxuICAgICAgICAgICAgICBsb3dlcmNhc2VEZWZIZWFkZXJOYW1lLFxyXG4gICAgICAgICAgICAgIHJlcUhlYWRlck5hbWU7XHJcblxyXG4gICAgICAgICAgZGVmSGVhZGVycyA9IGV4dGVuZCh7fSwgZGVmSGVhZGVycy5jb21tb24sIGRlZkhlYWRlcnNbbG93ZXJjYXNlKGNvbmZpZy5tZXRob2QpXSk7XHJcblxyXG4gICAgICAgICAgLy8gdXNpbmcgZm9yLWluIGluc3RlYWQgb2YgZm9yRWFjaCB0byBhdm9pZCB1bm5lY2Vzc2FyeSBpdGVyYXRpb24gYWZ0ZXIgaGVhZGVyIGhhcyBiZWVuIGZvdW5kXHJcbiAgICAgICAgICBkZWZhdWx0SGVhZGVyc0l0ZXJhdGlvbjogZm9yIChkZWZIZWFkZXJOYW1lIGluIGRlZkhlYWRlcnMpIHtcclxuICAgICAgICAgICAgbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSA9IGxvd2VyY2FzZShkZWZIZWFkZXJOYW1lKTtcclxuXHJcbiAgICAgICAgICAgIGZvciAocmVxSGVhZGVyTmFtZSBpbiByZXFIZWFkZXJzKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGxvd2VyY2FzZShyZXFIZWFkZXJOYW1lKSA9PT0gbG93ZXJjYXNlRGVmSGVhZGVyTmFtZSkge1xyXG4gICAgICAgICAgICAgICAgY29udGludWUgZGVmYXVsdEhlYWRlcnNJdGVyYXRpb247XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXFIZWFkZXJzW2RlZkhlYWRlck5hbWVdID0gZGVmSGVhZGVyc1tkZWZIZWFkZXJOYW1lXTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBleGVjdXRlIGlmIGhlYWRlciB2YWx1ZSBpcyBhIGZ1bmN0aW9uIGZvciBtZXJnZWQgaGVhZGVyc1xyXG4gICAgICAgICAgcmV0dXJuIGV4ZWN1dGVIZWFkZXJGbnMocmVxSGVhZGVycywgc2hhbGxvd0NvcHkoY29uZmlnKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBzZXJ2ZXJSZXF1ZXN0KGNvbmZpZykge1xyXG4gICAgICAgICAgdmFyIGhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcclxuICAgICAgICAgIHZhciByZXFEYXRhID0gdHJhbnNmb3JtRGF0YShjb25maWcuZGF0YSwgaGVhZGVyc0dldHRlcihoZWFkZXJzKSwgdW5kZWZpbmVkLCBjb25maWcudHJhbnNmb3JtUmVxdWVzdCk7XHJcblxyXG4gICAgICAgICAgLy8gc3RyaXAgY29udGVudC10eXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXHJcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQocmVxRGF0YSkpIHtcclxuICAgICAgICAgICAgZm9yRWFjaChoZWFkZXJzLCBmdW5jdGlvbiAodmFsdWUsIGhlYWRlcikge1xyXG4gICAgICAgICAgICAgIGlmIChsb3dlcmNhc2UoaGVhZGVyKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZSBoZWFkZXJzW2hlYWRlcl07XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQoY29uZmlnLndpdGhDcmVkZW50aWFscykgJiYgIWlzVW5kZWZpbmVkKGRlZmF1bHRzLndpdGhDcmVkZW50aWFscykpIHtcclxuICAgICAgICAgICAgY29uZmlnLndpdGhDcmVkZW50aWFscyA9IGRlZmF1bHRzLndpdGhDcmVkZW50aWFscztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBzZW5kIHJlcXVlc3RcclxuICAgICAgICAgIHJldHVybiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSkudGhlbih0cmFuc2Zvcm1SZXNwb25zZSwgdHJhbnNmb3JtUmVzcG9uc2UpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UocmVzcG9uc2UpIHtcclxuICAgICAgICAgIC8vIG1ha2UgYSBjb3B5IHNpbmNlIHRoZSByZXNwb25zZSBtdXN0IGJlIGNhY2hlYWJsZVxyXG4gICAgICAgICAgdmFyIHJlc3AgPSBleHRlbmQoe30sIHJlc3BvbnNlKTtcclxuICAgICAgICAgIHJlc3AuZGF0YSA9IHRyYW5zZm9ybURhdGEocmVzcG9uc2UuZGF0YSwgcmVzcG9uc2UuaGVhZGVycywgcmVzcG9uc2Uuc3RhdHVzLCBjb25maWcudHJhbnNmb3JtUmVzcG9uc2UpO1xyXG4gICAgICAgICAgcmV0dXJuIGlzU3VjY2VzcyhyZXNwb25zZS5zdGF0dXMpID8gcmVzcCA6ICRxLnJlamVjdChyZXNwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRodHRwLnBlbmRpbmdSZXF1ZXN0cyA9IFtdO1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGh0dHAjZ2V0XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgR0VUYCByZXF1ZXN0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkT2JqZWN0fSB1cmwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZDtcclxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGFuIG9iamVjdCBjcmVhdGVkIGJ5IGEgY2FsbCB0byBgJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwodXJsKWAuXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRodHRwI2RlbGV0ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYERFTEVURWAgcmVxdWVzdC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8VHJ1c3RlZE9iamVjdH0gdXJsIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCBvZiB0aGUgcmVzb3VyY2UgdGhhdCBpcyBiZWluZyByZXF1ZXN0ZWQ7XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcclxuICAgICAgICovXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkaHR0cCNoZWFkXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBTaG9ydGN1dCBtZXRob2QgdG8gcGVyZm9ybSBgSEVBRGAgcmVxdWVzdC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd8VHJ1c3RlZE9iamVjdH0gdXJsIEFic29sdXRlIG9yIHJlbGF0aXZlIFVSTCBvZiB0aGUgcmVzb3VyY2UgdGhhdCBpcyBiZWluZyByZXF1ZXN0ZWQ7XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBhbiBvYmplY3QgY3JlYXRlZCBieSBhIGNhbGwgdG8gYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHVybClgLlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcclxuICAgICAgICovXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkaHR0cCNqc29ucFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYEpTT05QYCByZXF1ZXN0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBOb3RlIHRoYXQsIHNpbmNlIEpTT05QIHJlcXVlc3RzIGFyZSBzZW5zaXRpdmUgYmVjYXVzZSB0aGUgcmVzcG9uc2UgaXMgZ2l2ZW4gZnVsbCBhY2Nlc3MgdG8gdGhlIGJyb3dzZXIsXHJcbiAgICAgICAqIHRoZSB1cmwgbXVzdCBiZSBkZWNsYXJlZCwgdmlhIHtAbGluayAkc2NlfSBhcyBhIHRydXN0ZWQgcmVzb3VyY2UgVVJMLlxyXG4gICAgICAgKiBZb3UgY2FuIHRydXN0IGEgVVJMIGJ5IGFkZGluZyBpdCB0byB0aGUgd2hpdGVsaXN0IHZpYVxyXG4gICAgICAgKiB7QGxpbmsgJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3QgIGAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdGB9IG9yXHJcbiAgICAgICAqIGJ5IGV4cGxpY2l0bHkgdHJ1c3RpbmcgdGhlIFVSTCB2aWEge0BsaW5rICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsIGAkc2NlLnRydXN0QXNSZXNvdXJjZVVybCh1cmwpYH0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEpTT05QIHJlcXVlc3RzIG11c3Qgc3BlY2lmeSBhIGNhbGxiYWNrIHRvIGJlIHVzZWQgaW4gdGhlIHJlc3BvbnNlIGZyb20gdGhlIHNlcnZlci4gVGhpcyBjYWxsYmFja1xyXG4gICAgICAgKiBpcyBwYXNzZWQgYXMgYSBxdWVyeSBwYXJhbWV0ZXIgaW4gdGhlIHJlcXVlc3QuIFlvdSBtdXN0IHNwZWNpZnkgdGhlIG5hbWUgb2YgdGhpcyBwYXJhbWV0ZXIgYnlcclxuICAgICAgICogc2V0dGluZyB0aGUgYGpzb25wQ2FsbGJhY2tQYXJhbWAgcHJvcGVydHkgb24gdGhlIHJlcXVlc3QgY29uZmlnIG9iamVjdC5cclxuICAgICAgICpcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqICRodHRwLmpzb25wKCdzb21lL3RydXN0ZWQvdXJsJywge2pzb25wQ2FsbGJhY2tQYXJhbTogJ2NhbGxiYWNrJ30pXHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBZb3UgY2FuIGFsc28gc3BlY2lmeSBhIGRlZmF1bHQgY2FsbGJhY2sgcGFyYW1ldGVyIG5hbWUgaW4gYCRodHRwLmRlZmF1bHRzLmpzb25wQ2FsbGJhY2tQYXJhbWAuXHJcbiAgICAgICAqIEluaXRpYWxseSB0aGlzIGlzIHNldCB0byBgJ2NhbGxiYWNrJ2AuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1kYW5nZXJcIj5cclxuICAgICAgICogWW91IGNhbiBubyBsb25nZXIgdXNlIHRoZSBgSlNPTl9DQUxMQkFDS2Agc3RyaW5nIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHNwZWNpZnlpbmcgd2hlcmUgdGhlIGNhbGxiYWNrXHJcbiAgICAgICAqIHBhcmFtZXRlciB2YWx1ZSBzaG91bGQgZ28uXHJcbiAgICAgICAqIDwvZGl2PlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBJZiB5b3Ugd291bGQgbGlrZSB0byBjdXN0b21pc2Ugd2hlcmUgYW5kIGhvdyB0aGUgY2FsbGJhY2tzIGFyZSBzdG9yZWQgdGhlbiB0cnkgb3ZlcnJpZGluZ1xyXG4gICAgICAgKiBvciBkZWNvcmF0aW5nIHRoZSB7QGxpbmsgJGpzb25wQ2FsbGJhY2tzfSBzZXJ2aWNlLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkT2JqZWN0fSB1cmwgQWJzb2x1dGUgb3IgcmVsYXRpdmUgVVJMIG9mIHRoZSByZXNvdXJjZSB0aGF0IGlzIGJlaW5nIHJlcXVlc3RlZDtcclxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGFuIG9iamVjdCBjcmVhdGVkIGJ5IGEgY2FsbCB0byBgJHNjZS50cnVzdEFzUmVzb3VyY2VVcmwodXJsKWAuXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICAgKi9cclxuICAgICAgY3JlYXRlU2hvcnRNZXRob2RzKCdnZXQnLCAnZGVsZXRlJywgJ2hlYWQnLCAnanNvbnAnKTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRodHRwI3Bvc3RcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNob3J0Y3V0IG1ldGhvZCB0byBwZXJmb3JtIGBQT1NUYCByZXF1ZXN0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxyXG4gICAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRodHRwI3B1dFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBVVGAgcmVxdWVzdC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBSZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkwgc3BlY2lmeWluZyB0aGUgZGVzdGluYXRpb24gb2YgdGhlIHJlcXVlc3RcclxuICAgICAgICogQHBhcmFtIHsqfSBkYXRhIFJlcXVlc3QgY29udGVudFxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdD19IGNvbmZpZyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxyXG4gICAgICAgKiBAcmV0dXJucyB7SHR0cFByb21pc2V9IEZ1dHVyZSBvYmplY3RcclxuICAgICAgICovXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkaHR0cCNwYXRjaFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hvcnRjdXQgbWV0aG9kIHRvIHBlcmZvcm0gYFBBVENIYCByZXF1ZXN0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFJlbGF0aXZlIG9yIGFic29sdXRlIFVSTCBzcGVjaWZ5aW5nIHRoZSBkZXN0aW5hdGlvbiBvZiB0aGUgcmVxdWVzdFxyXG4gICAgICAgKiBAcGFyYW0geyp9IGRhdGEgUmVxdWVzdCBjb250ZW50XHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0PX0gY29uZmlnIE9wdGlvbmFsIGNvbmZpZ3VyYXRpb24gb2JqZWN0XHJcbiAgICAgICAqIEByZXR1cm5zIHtIdHRwUHJvbWlzZX0gRnV0dXJlIG9iamVjdFxyXG4gICAgICAgKi9cclxuICAgICAgY3JlYXRlU2hvcnRNZXRob2RzV2l0aERhdGEoJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJyk7XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICAgICAqIEBuYW1lICRodHRwI2RlZmF1bHRzXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSdW50aW1lIGVxdWl2YWxlbnQgb2YgdGhlIGAkaHR0cFByb3ZpZGVyLmRlZmF1bHRzYCBwcm9wZXJ0eS4gQWxsb3dzIGNvbmZpZ3VyYXRpb24gb2ZcclxuICAgICAgICogZGVmYXVsdCBoZWFkZXJzLCB3aXRoQ3JlZGVudGlhbHMgYXMgd2VsbCBhcyByZXF1ZXN0IGFuZCByZXNwb25zZSB0cmFuc2Zvcm1hdGlvbnMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFNlZSBcIlNldHRpbmcgSFRUUCBIZWFkZXJzXCIgYW5kIFwiVHJhbnNmb3JtaW5nIFJlcXVlc3RzIGFuZCBSZXNwb25zZXNcIiBzZWN0aW9ucyBhYm92ZS5cclxuICAgICAgICovXHJcbiAgICAgICRodHRwLmRlZmF1bHRzID0gZGVmYXVsdHM7XHJcblxyXG4gICAgICByZXR1cm4gJGh0dHA7XHJcblxyXG4gICAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHMobmFtZXMpIHtcclxuICAgICAgICBmb3JFYWNoKGFyZ3VtZW50cywgZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICAgICRodHRwW25hbWVdID0gZnVuY3Rpb24gKHVybCwgY29uZmlnKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAkaHR0cChleHRlbmQoe30sIGNvbmZpZyB8fCB7fSwge1xyXG4gICAgICAgICAgICAgIG1ldGhvZDogbmFtZSxcclxuICAgICAgICAgICAgICB1cmw6IHVybFxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjcmVhdGVTaG9ydE1ldGhvZHNXaXRoRGF0YShuYW1lKSB7XHJcbiAgICAgICAgZm9yRWFjaChhcmd1bWVudHMsIGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgICAkaHR0cFtuYW1lXSA9IGZ1bmN0aW9uICh1cmwsIGRhdGEsIGNvbmZpZykge1xyXG4gICAgICAgICAgICByZXR1cm4gJGh0dHAoZXh0ZW5kKHt9LCBjb25maWcgfHwge30sIHtcclxuICAgICAgICAgICAgICBtZXRob2Q6IG5hbWUsXHJcbiAgICAgICAgICAgICAgdXJsOiB1cmwsXHJcbiAgICAgICAgICAgICAgZGF0YTogZGF0YVxyXG4gICAgICAgICAgICB9KSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogTWFrZXMgdGhlIHJlcXVlc3QuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICEhISBBQ0NFU1NFUyBDTE9TVVJFIFZBUlM6XHJcbiAgICAgICAqICRodHRwQmFja2VuZCwgZGVmYXVsdHMsICRsb2csICRyb290U2NvcGUsIGRlZmF1bHRDYWNoZSwgJGh0dHAucGVuZGluZ1JlcXVlc3RzXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBzZW5kUmVxKGNvbmZpZywgcmVxRGF0YSkge1xyXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCksXHJcbiAgICAgICAgICAgIHByb21pc2UgPSBkZWZlcnJlZC5wcm9taXNlLFxyXG4gICAgICAgICAgICBjYWNoZSxcclxuICAgICAgICAgICAgY2FjaGVkUmVzcCxcclxuICAgICAgICAgICAgcmVxSGVhZGVycyA9IGNvbmZpZy5oZWFkZXJzLFxyXG4gICAgICAgICAgICBpc0pzb25wID0gbG93ZXJjYXNlKGNvbmZpZy5tZXRob2QpID09PSAnanNvbnAnLFxyXG4gICAgICAgICAgICB1cmwgPSBjb25maWcudXJsO1xyXG5cclxuICAgICAgICBpZiAoaXNKc29ucCkge1xyXG4gICAgICAgICAgLy8gSlNPTlAgaXMgYSBwcmV0dHkgc2Vuc2l0aXZlIG9wZXJhdGlvbiB3aGVyZSB3ZSdyZSBhbGxvd2luZyBhIHNjcmlwdCB0byBoYXZlIGZ1bGwgYWNjZXNzIHRvXHJcbiAgICAgICAgICAvLyBvdXIgRE9NIGFuZCBKUyBzcGFjZS4gIFNvIHdlIHJlcXVpcmUgdGhhdCB0aGUgVVJMIHNhdGlzZmllcyBTQ0UuUkVTT1VSQ0VfVVJMLlxyXG4gICAgICAgICAgdXJsID0gJHNjZS5nZXRUcnVzdGVkUmVzb3VyY2VVcmwodXJsKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmluZyh1cmwpKSB7XHJcbiAgICAgICAgICAvLyBJZiBpdCBpcyBub3QgYSBzdHJpbmcgdGhlbiB0aGUgVVJMIG11c3QgYmUgYSAkc2NlIHRydXN0ZWQgb2JqZWN0XHJcbiAgICAgICAgICB1cmwgPSAkc2NlLnZhbHVlT2YodXJsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHVybCA9IGJ1aWxkVXJsKHVybCwgY29uZmlnLnBhcmFtU2VyaWFsaXplcihjb25maWcucGFyYW1zKSk7XHJcblxyXG4gICAgICAgIGlmIChpc0pzb25wKSB7XHJcbiAgICAgICAgICAvLyBDaGVjayB0aGUgdXJsIGFuZCBhZGQgdGhlIEpTT05QIGNhbGxiYWNrIHBsYWNlaG9sZGVyXHJcbiAgICAgICAgICB1cmwgPSBzYW5pdGl6ZUpzb25wQ2FsbGJhY2tQYXJhbSh1cmwsIGNvbmZpZy5qc29ucENhbGxiYWNrUGFyYW0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGh0dHAucGVuZGluZ1JlcXVlc3RzLnB1c2goY29uZmlnKTtcclxuICAgICAgICBwcm9taXNlLnRoZW4ocmVtb3ZlUGVuZGluZ1JlcSwgcmVtb3ZlUGVuZGluZ1JlcSk7XHJcblxyXG4gICAgICAgIGlmICgoY29uZmlnLmNhY2hlIHx8IGRlZmF1bHRzLmNhY2hlKSAmJiBjb25maWcuY2FjaGUgIT09IGZhbHNlICYmIChjb25maWcubWV0aG9kID09PSAnR0VUJyB8fCBjb25maWcubWV0aG9kID09PSAnSlNPTlAnKSkge1xyXG4gICAgICAgICAgY2FjaGUgPSBpc09iamVjdChjb25maWcuY2FjaGUpID8gY29uZmlnLmNhY2hlIDogaXNPYmplY3QoIC8qKiBAdHlwZSB7P30gKi9kZWZhdWx0cy5jYWNoZSkgPyAvKiogQHR5cGUgez99ICovZGVmYXVsdHMuY2FjaGUgOiBkZWZhdWx0Q2FjaGU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoY2FjaGUpIHtcclxuICAgICAgICAgIGNhY2hlZFJlc3AgPSBjYWNoZS5nZXQodXJsKTtcclxuICAgICAgICAgIGlmIChpc0RlZmluZWQoY2FjaGVkUmVzcCkpIHtcclxuICAgICAgICAgICAgaWYgKGlzUHJvbWlzZUxpa2UoY2FjaGVkUmVzcCkpIHtcclxuICAgICAgICAgICAgICAvLyBjYWNoZWQgcmVxdWVzdCBoYXMgYWxyZWFkeSBiZWVuIHNlbnQsIGJ1dCB0aGVyZSBpcyBubyByZXNwb25zZSB5ZXRcclxuICAgICAgICAgICAgICBjYWNoZWRSZXNwLnRoZW4ocmVzb2x2ZVByb21pc2VXaXRoUmVzdWx0LCByZXNvbHZlUHJvbWlzZVdpdGhSZXN1bHQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIHNlcnZpbmcgZnJvbSBjYWNoZVxyXG4gICAgICAgICAgICAgIGlmIChpc0FycmF5KGNhY2hlZFJlc3ApKSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShjYWNoZWRSZXNwWzFdLCBjYWNoZWRSZXNwWzBdLCBzaGFsbG93Q29weShjYWNoZWRSZXNwWzJdKSwgY2FjaGVkUmVzcFszXSwgY2FjaGVkUmVzcFs0XSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKGNhY2hlZFJlc3AsIDIwMCwge30sICdPSycsICdjb21wbGV0ZScpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gcHV0IHRoZSBwcm9taXNlIGZvciB0aGUgbm9uLXRyYW5zZm9ybWVkIHJlc3BvbnNlIGludG8gY2FjaGUgYXMgYSBwbGFjZWhvbGRlclxyXG4gICAgICAgICAgICBjYWNoZS5wdXQodXJsLCBwcm9taXNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGlmIHdlIHdvbid0IGhhdmUgdGhlIHJlc3BvbnNlIGluIGNhY2hlLCBzZXQgdGhlIHhzcmYgaGVhZGVycyBhbmRcclxuICAgICAgICAvLyBzZW5kIHRoZSByZXF1ZXN0IHRvIHRoZSBiYWNrZW5kXHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGNhY2hlZFJlc3ApKSB7XHJcbiAgICAgICAgICB2YXIgeHNyZlZhbHVlID0gdXJsSXNTYW1lT3JpZ2luKGNvbmZpZy51cmwpID8gJCRjb29raWVSZWFkZXIoKVtjb25maWcueHNyZkNvb2tpZU5hbWUgfHwgZGVmYXVsdHMueHNyZkNvb2tpZU5hbWVdIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgaWYgKHhzcmZWYWx1ZSkge1xyXG4gICAgICAgICAgICByZXFIZWFkZXJzW2NvbmZpZy54c3JmSGVhZGVyTmFtZSB8fCBkZWZhdWx0cy54c3JmSGVhZGVyTmFtZV0gPSB4c3JmVmFsdWU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgJGh0dHBCYWNrZW5kKGNvbmZpZy5tZXRob2QsIHVybCwgcmVxRGF0YSwgZG9uZSwgcmVxSGVhZGVycywgY29uZmlnLnRpbWVvdXQsIGNvbmZpZy53aXRoQ3JlZGVudGlhbHMsIGNvbmZpZy5yZXNwb25zZVR5cGUsIGNyZWF0ZUFwcGx5SGFuZGxlcnMoY29uZmlnLmV2ZW50SGFuZGxlcnMpLCBjcmVhdGVBcHBseUhhbmRsZXJzKGNvbmZpZy51cGxvYWRFdmVudEhhbmRsZXJzKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlQXBwbHlIYW5kbGVycyhldmVudEhhbmRsZXJzKSB7XHJcbiAgICAgICAgICBpZiAoZXZlbnRIYW5kbGVycykge1xyXG4gICAgICAgICAgICB2YXIgYXBwbHlIYW5kbGVycyA9IHt9O1xyXG4gICAgICAgICAgICBmb3JFYWNoKGV2ZW50SGFuZGxlcnMsIGZ1bmN0aW9uIChldmVudEhhbmRsZXIsIGtleSkge1xyXG4gICAgICAgICAgICAgIGFwcGx5SGFuZGxlcnNba2V5XSA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHVzZUFwcGx5QXN5bmMpIHtcclxuICAgICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHlBc3luYyhjYWxsRXZlbnRIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNhbGxFdmVudEhhbmRsZXIoKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KGNhbGxFdmVudEhhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGNhbGxFdmVudEhhbmRsZXIoKSB7XHJcbiAgICAgICAgICAgICAgICAgIGV2ZW50SGFuZGxlcihldmVudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybiBhcHBseUhhbmRsZXJzO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FsbGJhY2sgcmVnaXN0ZXJlZCB0byAkaHR0cEJhY2tlbmQoKTpcclxuICAgICAgICAgKiAgLSBjYWNoZXMgdGhlIHJlc3BvbnNlIGlmIGRlc2lyZWRcclxuICAgICAgICAgKiAgLSByZXNvbHZlcyB0aGUgcmF3ICRodHRwIHByb21pc2VcclxuICAgICAgICAgKiAgLSBjYWxscyAkYXBwbHlcclxuICAgICAgICAgKi9cclxuICAgICAgICBmdW5jdGlvbiBkb25lKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQsIHhoclN0YXR1cykge1xyXG4gICAgICAgICAgaWYgKGNhY2hlKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1N1Y2Nlc3Moc3RhdHVzKSkge1xyXG4gICAgICAgICAgICAgIGNhY2hlLnB1dCh1cmwsIFtzdGF0dXMsIHJlc3BvbnNlLCBwYXJzZUhlYWRlcnMoaGVhZGVyc1N0cmluZyksIHN0YXR1c1RleHQsIHhoclN0YXR1c10pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIHJlbW92ZSBwcm9taXNlIGZyb20gdGhlIGNhY2hlXHJcbiAgICAgICAgICAgICAgY2FjaGUucmVtb3ZlKHVybCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiByZXNvbHZlSHR0cFByb21pc2UoKSB7XHJcbiAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQsIHhoclN0YXR1cyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHVzZUFwcGx5QXN5bmMpIHtcclxuICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHlBc3luYyhyZXNvbHZlSHR0cFByb21pc2UpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVzb2x2ZUh0dHBQcm9taXNlKCk7XHJcbiAgICAgICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSAkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUmVzb2x2ZXMgdGhlIHJhdyAkaHR0cCBwcm9taXNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlKHJlc3BvbnNlLCBzdGF0dXMsIGhlYWRlcnMsIHN0YXR1c1RleHQsIHhoclN0YXR1cykge1xyXG4gICAgICAgICAgLy9zdGF0dXM6IEhUVFAgcmVzcG9uc2Ugc3RhdHVzIGNvZGUsIDAsIC0xIChhYm9ydGVkIGJ5IHRpbWVvdXQgLyBwcm9taXNlKVxyXG4gICAgICAgICAgc3RhdHVzID0gc3RhdHVzID49IC0xID8gc3RhdHVzIDogMDtcclxuXHJcbiAgICAgICAgICAoaXNTdWNjZXNzKHN0YXR1cykgPyBkZWZlcnJlZC5yZXNvbHZlIDogZGVmZXJyZWQucmVqZWN0KSh7XHJcbiAgICAgICAgICAgIGRhdGE6IHJlc3BvbnNlLFxyXG4gICAgICAgICAgICBzdGF0dXM6IHN0YXR1cyxcclxuICAgICAgICAgICAgaGVhZGVyczogaGVhZGVyc0dldHRlcihoZWFkZXJzKSxcclxuICAgICAgICAgICAgY29uZmlnOiBjb25maWcsXHJcbiAgICAgICAgICAgIHN0YXR1c1RleHQ6IHN0YXR1c1RleHQsXHJcbiAgICAgICAgICAgIHhoclN0YXR1czogeGhyU3RhdHVzXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIHJlc29sdmVQcm9taXNlV2l0aFJlc3VsdChyZXN1bHQpIHtcclxuICAgICAgICAgIHJlc29sdmVQcm9taXNlKHJlc3VsdC5kYXRhLCByZXN1bHQuc3RhdHVzLCBzaGFsbG93Q29weShyZXN1bHQuaGVhZGVycygpKSwgcmVzdWx0LnN0YXR1c1RleHQsIHJlc3VsdC54aHJTdGF0dXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnVuY3Rpb24gcmVtb3ZlUGVuZGluZ1JlcSgpIHtcclxuICAgICAgICAgIHZhciBpZHggPSAkaHR0cC5wZW5kaW5nUmVxdWVzdHMuaW5kZXhPZihjb25maWcpO1xyXG4gICAgICAgICAgaWYgKGlkeCAhPT0gLTEpICRodHRwLnBlbmRpbmdSZXF1ZXN0cy5zcGxpY2UoaWR4LCAxKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGJ1aWxkVXJsKHVybCwgc2VyaWFsaXplZFBhcmFtcykge1xyXG4gICAgICAgIGlmIChzZXJpYWxpemVkUGFyYW1zLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gc2FuaXRpemVKc29ucENhbGxiYWNrUGFyYW0odXJsLCBrZXkpIHtcclxuICAgICAgICBpZiAoL1smP11bXj1dKz1KU09OX0NBTExCQUNLLy50ZXN0KHVybCkpIHtcclxuICAgICAgICAgIC8vIFRocm93IGlmIHRoZSB1cmwgYWxyZWFkeSBjb250YWlucyBhIHJlZmVyZW5jZSB0byBKU09OX0NBTExCQUNLXHJcbiAgICAgICAgICB0aHJvdyAkaHR0cE1pbkVycignYmFkanNvbnAnLCAnSWxsZWdhbCB1c2Ugb2YgSlNPTl9DQUxMQkFDSyBpbiB1cmwsIFwiezB9XCInLCB1cmwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGNhbGxiYWNrUGFyYW1SZWdleCA9IG5ldyBSZWdFeHAoJ1smP10nICsga2V5ICsgJz0nKTtcclxuICAgICAgICBpZiAoY2FsbGJhY2tQYXJhbVJlZ2V4LnRlc3QodXJsKSkge1xyXG4gICAgICAgICAgLy8gVGhyb3cgaWYgdGhlIGNhbGxiYWNrIHBhcmFtIHdhcyBhbHJlYWR5IHByb3ZpZGVkXHJcbiAgICAgICAgICB0aHJvdyAkaHR0cE1pbkVycignYmFkanNvbnAnLCAnSWxsZWdhbCB1c2Ugb2YgY2FsbGJhY2sgcGFyYW0sIFwiezB9XCIsIGluIHVybCwgXCJ7MX1cIicsIGtleSwgdXJsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIEFkZCBpbiB0aGUgSlNPTl9DQUxMQkFDSyBjYWxsYmFjayBwYXJhbSB2YWx1ZVxyXG4gICAgICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsga2V5ICsgJz1KU09OX0NBTExCQUNLJztcclxuXHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgICAgfVxyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICR4aHJGYWN0b3J5XHJcbiAgICogQHRoaXNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEZhY3RvcnkgZnVuY3Rpb24gdXNlZCB0byBjcmVhdGUgWE1MSHR0cFJlcXVlc3Qgb2JqZWN0cy5cclxuICAgKlxyXG4gICAqIFJlcGxhY2Ugb3IgZGVjb3JhdGUgdGhpcyBzZXJ2aWNlIHRvIGNyZWF0ZSB5b3VyIG93biBjdXN0b20gWE1MSHR0cFJlcXVlc3Qgb2JqZWN0cy5cclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKVxyXG4gICAqIC5mYWN0b3J5KCckeGhyRmFjdG9yeScsIGZ1bmN0aW9uKCkge1xyXG4gICAqICAgcmV0dXJuIGZ1bmN0aW9uIGNyZWF0ZVhocihtZXRob2QsIHVybCkge1xyXG4gICAqICAgICByZXR1cm4gbmV3IHdpbmRvdy5YTUxIdHRwUmVxdWVzdCh7bW96U3lzdGVtOiB0cnVlfSk7XHJcbiAgICogICB9O1xyXG4gICAqIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZCBIVFRQIG1ldGhvZCBvZiB0aGUgcmVxdWVzdCAoR0VULCBQT1NULCBQVVQsIC4uKVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMIG9mIHRoZSByZXF1ZXN0LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uICR4aHJGYWN0b3J5UHJvdmlkZXIoKSB7XHJcbiAgICB0aGlzLiRnZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiBjcmVhdGVYaHIoKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRodHRwQmFja2VuZFxyXG4gICAqIEByZXF1aXJlcyAkanNvbnBDYWxsYmFja3NcclxuICAgKiBAcmVxdWlyZXMgJGRvY3VtZW50XHJcbiAgICogQHJlcXVpcmVzICR4aHJGYWN0b3J5XHJcbiAgICogQHRoaXNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEhUVFAgYmFja2VuZCB1c2VkIGJ5IHRoZSB7QGxpbmsgbmcuJGh0dHAgc2VydmljZX0gdGhhdCBkZWxlZ2F0ZXMgdG9cclxuICAgKiBYTUxIdHRwUmVxdWVzdCBvYmplY3Qgb3IgSlNPTlAgYW5kIGRlYWxzIHdpdGggYnJvd3NlciBpbmNvbXBhdGliaWxpdGllcy5cclxuICAgKlxyXG4gICAqIFlvdSBzaG91bGQgbmV2ZXIgbmVlZCB0byB1c2UgdGhpcyBzZXJ2aWNlIGRpcmVjdGx5LCBpbnN0ZWFkIHVzZSB0aGUgaGlnaGVyLWxldmVsIGFic3RyYWN0aW9uczpcclxuICAgKiB7QGxpbmsgbmcuJGh0dHAgJGh0dHB9IG9yIHtAbGluayBuZ1Jlc291cmNlLiRyZXNvdXJjZSAkcmVzb3VyY2V9LlxyXG4gICAqXHJcbiAgICogRHVyaW5nIHRlc3RpbmcgdGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBzd2FwcGVkIHdpdGgge0BsaW5rIG5nTW9jay4kaHR0cEJhY2tlbmQgbW9ja1xyXG4gICAqICRodHRwQmFja2VuZH0gd2hpY2ggY2FuIGJlIHRyYWluZWQgd2l0aCByZXNwb25zZXMuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gJEh0dHBCYWNrZW5kUHJvdmlkZXIoKSB7XHJcbiAgICB0aGlzLiRnZXQgPSBbJyRicm93c2VyJywgJyRqc29ucENhbGxiYWNrcycsICckZG9jdW1lbnQnLCAnJHhockZhY3RvcnknLCBmdW5jdGlvbiAoJGJyb3dzZXIsICRqc29ucENhbGxiYWNrcywgJGRvY3VtZW50LCAkeGhyRmFjdG9yeSkge1xyXG4gICAgICByZXR1cm4gY3JlYXRlSHR0cEJhY2tlbmQoJGJyb3dzZXIsICR4aHJGYWN0b3J5LCAkYnJvd3Nlci5kZWZlciwgJGpzb25wQ2FsbGJhY2tzLCAkZG9jdW1lbnRbMF0pO1xyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVIdHRwQmFja2VuZCgkYnJvd3NlciwgY3JlYXRlWGhyLCAkYnJvd3NlckRlZmVyLCBjYWxsYmFja3MsIHJhd0RvY3VtZW50KSB7XHJcbiAgICAvLyBUT0RPKHZvanRhKTogZml4IHRoZSBzaWduYXR1cmVcclxuICAgIHJldHVybiBmdW5jdGlvbiAobWV0aG9kLCB1cmwsIHBvc3QsIGNhbGxiYWNrLCBoZWFkZXJzLCB0aW1lb3V0LCB3aXRoQ3JlZGVudGlhbHMsIHJlc3BvbnNlVHlwZSwgZXZlbnRIYW5kbGVycywgdXBsb2FkRXZlbnRIYW5kbGVycykge1xyXG4gICAgICB1cmwgPSB1cmwgfHwgJGJyb3dzZXIudXJsKCk7XHJcblxyXG4gICAgICBpZiAobG93ZXJjYXNlKG1ldGhvZCkgPT09ICdqc29ucCcpIHtcclxuICAgICAgICB2YXIgY2FsbGJhY2tQYXRoID0gY2FsbGJhY2tzLmNyZWF0ZUNhbGxiYWNrKHVybCk7XHJcbiAgICAgICAgdmFyIGpzb25wRG9uZSA9IGpzb25wUmVxKHVybCwgY2FsbGJhY2tQYXRoLCBmdW5jdGlvbiAoc3RhdHVzLCB0ZXh0KSB7XHJcbiAgICAgICAgICAvLyBqc29ucFJlcSBvbmx5IGV2ZXIgc2V0cyBzdGF0dXMgdG8gMjAwIChPSyksIDQwNCAoRVJST1IpIG9yIC0xIChXQUlUSU5HKVxyXG4gICAgICAgICAgdmFyIHJlc3BvbnNlID0gc3RhdHVzID09PSAyMDAgJiYgY2FsbGJhY2tzLmdldFJlc3BvbnNlKGNhbGxiYWNrUGF0aCk7XHJcbiAgICAgICAgICBjb21wbGV0ZVJlcXVlc3QoY2FsbGJhY2ssIHN0YXR1cywgcmVzcG9uc2UsICcnLCB0ZXh0LCAnY29tcGxldGUnKTtcclxuICAgICAgICAgIGNhbGxiYWNrcy5yZW1vdmVDYWxsYmFjayhjYWxsYmFja1BhdGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICB2YXIgeGhyID0gY3JlYXRlWGhyKG1ldGhvZCwgdXJsKTtcclxuXHJcbiAgICAgICAgeGhyLm9wZW4obWV0aG9kLCB1cmwsIHRydWUpO1xyXG4gICAgICAgIGZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKGtleSwgdmFsdWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB4aHIub25sb2FkID0gZnVuY3Rpb24gcmVxdWVzdExvYWRlZCgpIHtcclxuICAgICAgICAgIHZhciBzdGF0dXNUZXh0ID0geGhyLnN0YXR1c1RleHQgfHwgJyc7XHJcblxyXG4gICAgICAgICAgLy8gcmVzcG9uc2VUZXh0IGlzIHRoZSBvbGQtc2Nob29sIHdheSBvZiByZXRyaWV2aW5nIHJlc3BvbnNlIChzdXBwb3J0ZWQgYnkgSUU5KVxyXG4gICAgICAgICAgLy8gcmVzcG9uc2UvcmVzcG9uc2VUeXBlIHByb3BlcnRpZXMgd2VyZSBpbnRyb2R1Y2VkIGluIFhIUiBMZXZlbDIgc3BlYyAoc3VwcG9ydGVkIGJ5IElFMTApXHJcbiAgICAgICAgICB2YXIgcmVzcG9uc2UgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHQ7XHJcblxyXG4gICAgICAgICAgLy8gbm9ybWFsaXplIElFOSBidWcgKGh0dHA6Ly9idWdzLmpxdWVyeS5jb20vdGlja2V0LzE0NTApXHJcbiAgICAgICAgICB2YXIgc3RhdHVzID0geGhyLnN0YXR1cyA9PT0gMTIyMyA/IDIwNCA6IHhoci5zdGF0dXM7XHJcblxyXG4gICAgICAgICAgLy8gZml4IHN0YXR1cyBjb2RlIHdoZW4gaXQgaXMgMCAoMCBzdGF0dXMgaXMgdW5kb2N1bWVudGVkKS5cclxuICAgICAgICAgIC8vIE9jY3VycyB3aGVuIGFjY2Vzc2luZyBmaWxlIHJlc291cmNlcyBvciBvbiBBbmRyb2lkIDQuMSBzdG9jayBicm93c2VyXHJcbiAgICAgICAgICAvLyB3aGlsZSByZXRyaWV2aW5nIGZpbGVzIGZyb20gYXBwbGljYXRpb24gY2FjaGUuXHJcbiAgICAgICAgICBpZiAoc3RhdHVzID09PSAwKSB7XHJcbiAgICAgICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlID8gMjAwIDogdXJsUmVzb2x2ZSh1cmwpLnByb3RvY29sID09PSAnZmlsZScgPyA0MDQgOiAwO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjaywgc3RhdHVzLCByZXNwb25zZSwgeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpLCBzdGF0dXNUZXh0LCAnY29tcGxldGUnKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICB2YXIgcmVxdWVzdEVycm9yID0gZnVuY3Rpb24gcmVxdWVzdEVycm9yKCkge1xyXG4gICAgICAgICAgLy8gVGhlIHJlc3BvbnNlIGlzIGFsd2F5cyBlbXB0eVxyXG4gICAgICAgICAgLy8gU2VlIGh0dHBzOi8veGhyLnNwZWMud2hhdHdnLm9yZy8jcmVxdWVzdC1lcnJvci1zdGVwcyBhbmQgaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtbmV0d29yay1lcnJvclxyXG4gICAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCAtMSwgbnVsbCwgbnVsbCwgJycsICdlcnJvcicpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciByZXF1ZXN0QWJvcnRlZCA9IGZ1bmN0aW9uIHJlcXVlc3RBYm9ydGVkKCkge1xyXG4gICAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCAtMSwgbnVsbCwgbnVsbCwgJycsICdhYm9ydCcpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHZhciByZXF1ZXN0VGltZW91dCA9IGZ1bmN0aW9uIHJlcXVlc3RUaW1lb3V0KCkge1xyXG4gICAgICAgICAgLy8gVGhlIHJlc3BvbnNlIGlzIGFsd2F5cyBlbXB0eVxyXG4gICAgICAgICAgLy8gU2VlIGh0dHBzOi8veGhyLnNwZWMud2hhdHdnLm9yZy8jcmVxdWVzdC1lcnJvci1zdGVwcyBhbmQgaHR0cHM6Ly9mZXRjaC5zcGVjLndoYXR3Zy5vcmcvI2NvbmNlcHQtbmV0d29yay1lcnJvclxyXG4gICAgICAgICAgY29tcGxldGVSZXF1ZXN0KGNhbGxiYWNrLCAtMSwgbnVsbCwgbnVsbCwgJycsICd0aW1lb3V0Jyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgeGhyLm9uZXJyb3IgPSByZXF1ZXN0RXJyb3I7XHJcbiAgICAgICAgeGhyLm9uYWJvcnQgPSByZXF1ZXN0QWJvcnRlZDtcclxuICAgICAgICB4aHIub250aW1lb3V0ID0gcmVxdWVzdFRpbWVvdXQ7XHJcblxyXG4gICAgICAgIGZvckVhY2goZXZlbnRIYW5kbGVycywgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgIHhoci5hZGRFdmVudExpc3RlbmVyKGtleSwgdmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmb3JFYWNoKHVwbG9hZEV2ZW50SGFuZGxlcnMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgICB4aHIudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoa2V5LCB2YWx1ZSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmICh3aXRoQ3JlZGVudGlhbHMpIHtcclxuICAgICAgICAgIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHJlc3BvbnNlVHlwZSkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9IHJlc3BvbnNlVHlwZTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgLy8gV2ViS2l0IGFkZGVkIHN1cHBvcnQgZm9yIHRoZSBqc29uIHJlc3BvbnNlVHlwZSB2YWx1ZSBvbiAwOS8wMy8yMDEzXHJcbiAgICAgICAgICAgIC8vIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD03MzY0OC4gVmVyc2lvbnMgb2YgU2FmYXJpIHByaW9yIHRvIDcgYXJlXHJcbiAgICAgICAgICAgIC8vIGtub3duIHRvIHRocm93IHdoZW4gc2V0dGluZyB0aGUgdmFsdWUgXCJqc29uXCIgYXMgdGhlIHJlc3BvbnNlIHR5cGUuIE90aGVyIG9sZGVyXHJcbiAgICAgICAgICAgIC8vIGJyb3dzZXJzIGltcGxlbWVudGluZyB0aGUgcmVzcG9uc2VUeXBlXHJcbiAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgIC8vIFRoZSBqc29uIHJlc3BvbnNlIHR5cGUgY2FuIGJlIGlnbm9yZWQgaWYgbm90IHN1cHBvcnRlZCwgYmVjYXVzZSBKU09OIHBheWxvYWRzIGFyZVxyXG4gICAgICAgICAgICAvLyBwYXJzZWQgb24gdGhlIGNsaWVudC1zaWRlIHJlZ2FyZGxlc3MuXHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVR5cGUgIT09ICdqc29uJykge1xyXG4gICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHhoci5zZW5kKGlzVW5kZWZpbmVkKHBvc3QpID8gbnVsbCA6IHBvc3QpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAodGltZW91dCA+IDApIHtcclxuICAgICAgICB2YXIgdGltZW91dElkID0gJGJyb3dzZXJEZWZlcih0aW1lb3V0UmVxdWVzdCwgdGltZW91dCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNQcm9taXNlTGlrZSh0aW1lb3V0KSkge1xyXG4gICAgICAgIHRpbWVvdXQudGhlbih0aW1lb3V0UmVxdWVzdCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHRpbWVvdXRSZXF1ZXN0KCkge1xyXG4gICAgICAgIGlmIChqc29ucERvbmUpIHtcclxuICAgICAgICAgIGpzb25wRG9uZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoeGhyKSB7XHJcbiAgICAgICAgICB4aHIuYWJvcnQoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGNvbXBsZXRlUmVxdWVzdChjYWxsYmFjaywgc3RhdHVzLCByZXNwb25zZSwgaGVhZGVyc1N0cmluZywgc3RhdHVzVGV4dCwgeGhyU3RhdHVzKSB7XHJcbiAgICAgICAgLy8gY2FuY2VsIHRpbWVvdXQgYW5kIHN1YnNlcXVlbnQgdGltZW91dCBwcm9taXNlIHJlc29sdXRpb25cclxuICAgICAgICBpZiAoaXNEZWZpbmVkKHRpbWVvdXRJZCkpIHtcclxuICAgICAgICAgICRicm93c2VyRGVmZXIuY2FuY2VsKHRpbWVvdXRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGpzb25wRG9uZSA9IHhociA9IG51bGw7XHJcblxyXG4gICAgICAgIGNhbGxiYWNrKHN0YXR1cywgcmVzcG9uc2UsIGhlYWRlcnNTdHJpbmcsIHN0YXR1c1RleHQsIHhoclN0YXR1cyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24ganNvbnBSZXEodXJsLCBjYWxsYmFja1BhdGgsIGRvbmUpIHtcclxuICAgICAgdXJsID0gdXJsLnJlcGxhY2UoJ0pTT05fQ0FMTEJBQ0snLCBjYWxsYmFja1BhdGgpO1xyXG4gICAgICAvLyB3ZSBjYW4ndCB1c2UgalF1ZXJ5L2pxTGl0ZSBoZXJlIGJlY2F1c2UgalF1ZXJ5IGRvZXMgY3Jhenkgc3R1ZmYgd2l0aCBzY3JpcHQgZWxlbWVudHMsIGUuZy46XHJcbiAgICAgIC8vIC0gZmV0Y2hlcyBsb2NhbCBzY3JpcHRzIHZpYSBYSFIgYW5kIGV2YWxzIHRoZW1cclxuICAgICAgLy8gLSBhZGRzIGFuZCBpbW1lZGlhdGVseSByZW1vdmVzIHNjcmlwdCBlbGVtZW50cyBmcm9tIHRoZSBkb2N1bWVudFxyXG4gICAgICB2YXIgc2NyaXB0ID0gcmF3RG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0JyksXHJcbiAgICAgICAgICBfY2FsbGJhY2sgPSBudWxsO1xyXG4gICAgICBzY3JpcHQudHlwZSA9ICd0ZXh0L2phdmFzY3JpcHQnO1xyXG4gICAgICBzY3JpcHQuc3JjID0gdXJsO1xyXG4gICAgICBzY3JpcHQuYXN5bmMgPSB0cnVlO1xyXG5cclxuICAgICAgX2NhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soZXZlbnQpIHtcclxuICAgICAgICBzY3JpcHQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbG9hZCcsIF9jYWxsYmFjayk7XHJcbiAgICAgICAgc2NyaXB0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgX2NhbGxiYWNrKTtcclxuICAgICAgICByYXdEb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKHNjcmlwdCk7XHJcbiAgICAgICAgc2NyaXB0ID0gbnVsbDtcclxuICAgICAgICB2YXIgc3RhdHVzID0gLTE7XHJcbiAgICAgICAgdmFyIHRleHQgPSAndW5rbm93bic7XHJcblxyXG4gICAgICAgIGlmIChldmVudCkge1xyXG4gICAgICAgICAgaWYgKGV2ZW50LnR5cGUgPT09ICdsb2FkJyAmJiAhY2FsbGJhY2tzLndhc0NhbGxlZChjYWxsYmFja1BhdGgpKSB7XHJcbiAgICAgICAgICAgIGV2ZW50ID0geyB0eXBlOiAnZXJyb3InIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0ZXh0ID0gZXZlbnQudHlwZTtcclxuICAgICAgICAgIHN0YXR1cyA9IGV2ZW50LnR5cGUgPT09ICdlcnJvcicgPyA0MDQgOiAyMDA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoZG9uZSkge1xyXG4gICAgICAgICAgZG9uZShzdGF0dXMsIHRleHQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHNjcmlwdC5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgX2NhbGxiYWNrKTtcclxuICAgICAgc2NyaXB0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgX2NhbGxiYWNrKTtcclxuICAgICAgcmF3RG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzY3JpcHQpO1xyXG4gICAgICByZXR1cm4gX2NhbGxiYWNrO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgdmFyICRpbnRlcnBvbGF0ZU1pbkVyciA9IGFuZ3VsYXIuJGludGVycG9sYXRlTWluRXJyID0gbWluRXJyKCckaW50ZXJwb2xhdGUnKTtcclxuICAkaW50ZXJwb2xhdGVNaW5FcnIudGhyb3dOb2NvbmNhdCA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICB0aHJvdyAkaW50ZXJwb2xhdGVNaW5FcnIoJ25vY29uY2F0JywgJ0Vycm9yIHdoaWxlIGludGVycG9sYXRpbmc6IHswfVxcblN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGRpc2FsbG93cyAnICsgJ2ludGVycG9sYXRpb25zIHRoYXQgY29uY2F0ZW5hdGUgbXVsdGlwbGUgZXhwcmVzc2lvbnMgd2hlbiBhIHRydXN0ZWQgdmFsdWUgaXMgJyArICdyZXF1aXJlZC4gIFNlZSBodHRwOi8vZG9jcy5hbmd1bGFyanMub3JnL2FwaS9uZy4kc2NlJywgdGV4dCk7XHJcbiAgfTtcclxuXHJcbiAgJGludGVycG9sYXRlTWluRXJyLmludGVyciA9IGZ1bmN0aW9uICh0ZXh0LCBlcnIpIHtcclxuICAgIHJldHVybiAkaW50ZXJwb2xhdGVNaW5FcnIoJ2ludGVycicsICdDYW5cXCd0IGludGVycG9sYXRlOiB7MH1cXG57MX0nLCB0ZXh0LCBlcnIudG9TdHJpbmcoKSk7XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3ZpZGVyXHJcbiAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXJcclxuICAgKiBAdGhpc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBVc2VkIGZvciBjb25maWd1cmluZyB0aGUgaW50ZXJwb2xhdGlvbiBtYXJrdXAuIERlZmF1bHRzIHRvIGB7e2AgYW5kIGB9fWAuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtZGFuZ2VyXCI+XHJcbiAgICogVGhpcyBmZWF0dXJlIGlzIHNvbWV0aW1lcyB1c2VkIHRvIG1peCBkaWZmZXJlbnQgbWFya3VwIGxhbmd1YWdlcywgZS5nLiB0byB3cmFwIGFuIEFuZ3VsYXJcclxuICAgKiB0ZW1wbGF0ZSB3aXRoaW4gYSBQeXRob24gSmluamEgdGVtcGxhdGUgKG9yIGFueSBvdGhlciB0ZW1wbGF0ZSBsYW5ndWFnZSkuIE1peGluZyB0ZW1wbGF0aW5nXHJcbiAgICogbGFuZ3VhZ2VzIGlzICoqdmVyeSBkYW5nZXJvdXMqKi4gVGhlIGVtYmVkZGluZyB0ZW1wbGF0ZSBsYW5ndWFnZSB3aWxsIG5vdCBzYWZlbHkgZXNjYXBlIEFuZ3VsYXJcclxuICAgKiBleHByZXNzaW9ucywgc28gYW55IHVzZXItY29udHJvbGxlZCB2YWx1ZXMgaW4gdGhlIHRlbXBsYXRlIHdpbGwgY2F1c2UgQ3Jvc3MgU2l0ZSBTY3JpcHRpbmcgKFhTUylcclxuICAgKiBzZWN1cml0eSBidWdzIVxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICA8ZXhhbXBsZSBuYW1lPVwiY3VzdG9tLWludGVycG9sYXRpb24tbWFya3VwXCIgbW9kdWxlPVwiY3VzdG9tSW50ZXJwb2xhdGlvbkFwcFwiPlxyXG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgPHNjcmlwdD5cclxuICAgIHZhciBjdXN0b21JbnRlcnBvbGF0aW9uQXBwID0gYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUludGVycG9sYXRpb25BcHAnLCBbXSk7XHJcbiAgXHJcbiAgICBjdXN0b21JbnRlcnBvbGF0aW9uQXBwLmNvbmZpZyhmdW5jdGlvbigkaW50ZXJwb2xhdGVQcm92aWRlcikge1xyXG4gICAgICAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbCgnLy8nKTtcclxuICAgICAgJGludGVycG9sYXRlUHJvdmlkZXIuZW5kU3ltYm9sKCcvLycpO1xyXG4gICAgfSk7XHJcbiAgXHJcbiAgXHJcbiAgICBjdXN0b21JbnRlcnBvbGF0aW9uQXBwLmNvbnRyb2xsZXIoJ0RlbW9Db250cm9sbGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IFwiVGhpcyBiaW5kaW5nIGlzIGJyb3VnaHQgeW91IGJ5IC8vIGludGVycG9sYXRpb24gc3ltYm9scy5cIjtcclxuICAgIH0pO1xyXG4gIDwvc2NyaXB0PlxyXG4gIDxkaXYgbmctY29udHJvbGxlcj1cIkRlbW9Db250cm9sbGVyIGFzIGRlbW9cIj5cclxuICAgICAgLy9kZW1vLmxhYmVsLy9cclxuICA8L2Rpdj5cclxuICA8L2ZpbGU+XHJcbiAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgaXQoJ3Nob3VsZCBpbnRlcnBvbGF0ZSBiaW5kaW5nIHdpdGggY3VzdG9tIHN5bWJvbHMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZGVtby5sYWJlbCcpKS5nZXRUZXh0KCkpLnRvQmUoJ1RoaXMgYmluZGluZyBpcyBicm91Z2h0IHlvdSBieSAvLyBpbnRlcnBvbGF0aW9uIHN5bWJvbHMuJyk7XHJcbiAgICB9KTtcclxuICA8L2ZpbGU+XHJcbiAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uICRJbnRlcnBvbGF0ZVByb3ZpZGVyKCkge1xyXG4gICAgdmFyIHN0YXJ0U3ltYm9sID0gJ3t7JztcclxuICAgIHZhciBlbmRTeW1ib2wgPSAnfX0nO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGludGVycG9sYXRlUHJvdmlkZXIjc3RhcnRTeW1ib2xcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogU3ltYm9sIHRvIGRlbm90ZSBzdGFydCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBge3tgLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIHRvIHNldCB0aGUgc3RhcnRpbmcgc3ltYm9sIHRvLlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSBzeW1ib2wgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci5cclxuICAgICAqL1xyXG4gICAgdGhpcy5zdGFydFN5bWJvbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICBzdGFydFN5bWJvbCA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzdGFydFN5bWJvbDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZVByb3ZpZGVyI2VuZFN5bWJvbFxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBlbmQgb2YgZXhwcmVzc2lvbiBpbiB0aGUgaW50ZXJwb2xhdGVkIHN0cmluZy4gRGVmYXVsdHMgdG8gYH19YC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHZhbHVlIG5ldyB2YWx1ZSB0byBzZXQgdGhlIGVuZGluZyBzeW1ib2wgdG8uXHJcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfHNlbGZ9IFJldHVybnMgdGhlIHN5bWJvbCB3aGVuIHVzZWQgYXMgZ2V0dGVyIGFuZCBzZWxmIGlmIHVzZWQgYXMgc2V0dGVyLlxyXG4gICAgICovXHJcbiAgICB0aGlzLmVuZFN5bWJvbCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICBlbmRTeW1ib2wgPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gZW5kU3ltYm9sO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuJGdldCA9IFsnJHBhcnNlJywgJyRleGNlcHRpb25IYW5kbGVyJywgJyRzY2UnLCBmdW5jdGlvbiAoJHBhcnNlLCAkZXhjZXB0aW9uSGFuZGxlciwgJHNjZSkge1xyXG4gICAgICB2YXIgc3RhcnRTeW1ib2xMZW5ndGggPSBzdGFydFN5bWJvbC5sZW5ndGgsXHJcbiAgICAgICAgICBlbmRTeW1ib2xMZW5ndGggPSBlbmRTeW1ib2wubGVuZ3RoLFxyXG4gICAgICAgICAgZXNjYXBlZFN0YXJ0UmVnZXhwID0gbmV3IFJlZ0V4cChzdGFydFN5bWJvbC5yZXBsYWNlKC8uL2csIGVzY2FwZSksICdnJyksXHJcbiAgICAgICAgICBlc2NhcGVkRW5kUmVnZXhwID0gbmV3IFJlZ0V4cChlbmRTeW1ib2wucmVwbGFjZSgvLi9nLCBlc2NhcGUpLCAnZycpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gZXNjYXBlKGNoKSB7XHJcbiAgICAgICAgcmV0dXJuICdcXFxcXFxcXFxcXFwnICsgY2g7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHVuZXNjYXBlVGV4dCh0ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRleHQucmVwbGFjZShlc2NhcGVkU3RhcnRSZWdleHAsIHN0YXJ0U3ltYm9sKS5yZXBsYWNlKGVzY2FwZWRFbmRSZWdleHAsIGVuZFN5bWJvbCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRPRE86IHRoaXMgaXMgdGhlIHNhbWUgYXMgdGhlIGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZSBpbiBwYXJzZS5qc1xyXG4gICAgICBmdW5jdGlvbiBjb25zdGFudFdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgY29uc3RhbnRJbnRlcnApIHtcclxuICAgICAgICB2YXIgdW53YXRjaCA9IHNjb3BlLiR3YXRjaChmdW5jdGlvbiBjb25zdGFudEludGVycG9sYXRlV2F0Y2goc2NvcGUpIHtcclxuICAgICAgICAgIHVud2F0Y2goKTtcclxuICAgICAgICAgIHJldHVybiBjb25zdGFudEludGVycChzY29wZSk7XHJcbiAgICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KTtcclxuICAgICAgICByZXR1cm4gdW53YXRjaDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICAgICAqIEBuYW1lICRpbnRlcnBvbGF0ZVxyXG4gICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmVxdWlyZXMgJHBhcnNlXHJcbiAgICAgICAqIEByZXF1aXJlcyAkc2NlXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKlxyXG4gICAgICAgKiBDb21waWxlcyBhIHN0cmluZyB3aXRoIG1hcmt1cCBpbnRvIGFuIGludGVycG9sYXRpb24gZnVuY3Rpb24uIFRoaXMgc2VydmljZSBpcyB1c2VkIGJ5IHRoZVxyXG4gICAgICAgKiBIVE1MIHtAbGluayBuZy4kY29tcGlsZSAkY29tcGlsZX0gc2VydmljZSBmb3IgZGF0YSBiaW5kaW5nLiBTZWVcclxuICAgICAgICoge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyICRpbnRlcnBvbGF0ZVByb3ZpZGVyfSBmb3IgY29uZmlndXJpbmcgdGhlXHJcbiAgICAgICAqIGludGVycG9sYXRpb24gbWFya3VwLlxyXG4gICAgICAgKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgKiAgIHZhciAkaW50ZXJwb2xhdGUgPSAuLi47IC8vIGluamVjdGVkXHJcbiAgICAgICAqICAgdmFyIGV4cCA9ICRpbnRlcnBvbGF0ZSgnSGVsbG8ge3tuYW1lIHwgdXBwZXJjYXNlfX0hJyk7XHJcbiAgICAgICAqICAgZXhwZWN0KGV4cCh7bmFtZTonQW5ndWxhcid9KSkudG9FcXVhbCgnSGVsbG8gQU5HVUxBUiEnKTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGAkaW50ZXJwb2xhdGVgIHRha2VzIGFuIG9wdGlvbmFsIGZvdXJ0aCBhcmd1bWVudCwgYGFsbE9yTm90aGluZ2AuIElmIGBhbGxPck5vdGhpbmdgIGlzXHJcbiAgICAgICAqIGB0cnVlYCwgdGhlIGludGVycG9sYXRpb24gZnVuY3Rpb24gd2lsbCByZXR1cm4gYHVuZGVmaW5lZGAgdW5sZXNzIGFsbCBlbWJlZGRlZCBleHByZXNzaW9uc1xyXG4gICAgICAgKiBldmFsdWF0ZSB0byBhIHZhbHVlIG90aGVyIHRoYW4gYHVuZGVmaW5lZGAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYGpzXHJcbiAgICAgICAqICAgdmFyICRpbnRlcnBvbGF0ZSA9IC4uLjsgLy8gaW5qZWN0ZWRcclxuICAgICAgICogICB2YXIgY29udGV4dCA9IHtncmVldGluZzogJ0hlbGxvJywgbmFtZTogdW5kZWZpbmVkIH07XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgLy8gZGVmYXVsdCBcImZvcmdpdmluZ1wiIG1vZGVcclxuICAgICAgICogICB2YXIgZXhwID0gJGludGVycG9sYXRlKCd7e2dyZWV0aW5nfX0ge3tuYW1lfX0hJyk7XHJcbiAgICAgICAqICAgZXhwZWN0KGV4cChjb250ZXh0KSkudG9FcXVhbCgnSGVsbG8gIScpO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAgIC8vIFwiYWxsT3JOb3RoaW5nXCIgbW9kZVxyXG4gICAgICAgKiAgIGV4cCA9ICRpbnRlcnBvbGF0ZSgne3tncmVldGluZ319IHt7bmFtZX19IScsIGZhbHNlLCBudWxsLCB0cnVlKTtcclxuICAgICAgICogICBleHBlY3QoZXhwKGNvbnRleHQpKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAgICAgICAqICAgY29udGV4dC5uYW1lID0gJ0FuZ3VsYXInO1xyXG4gICAgICAgKiAgIGV4cGVjdChleHAoY29udGV4dCkpLnRvRXF1YWwoJ0hlbGxvIEFuZ3VsYXIhJyk7XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBgYWxsT3JOb3RoaW5nYCBpcyB1c2VmdWwgZm9yIGludGVycG9sYXRpbmcgVVJMcy4gYG5nU3JjYCBhbmQgYG5nU3Jjc2V0YCB1c2UgdGhpcyBiZWhhdmlvci5cclxuICAgICAgICpcclxuICAgICAgICogIyMjIyBFc2NhcGVkIEludGVycG9sYXRpb25cclxuICAgICAgICogJGludGVycG9sYXRlIHByb3ZpZGVzIGEgbWVjaGFuaXNtIGZvciBlc2NhcGluZyBpbnRlcnBvbGF0aW9uIG1hcmtlcnMuIFN0YXJ0IGFuZCBlbmQgbWFya2Vyc1xyXG4gICAgICAgKiBjYW4gYmUgZXNjYXBlZCBieSBwcmVjZWRpbmcgZWFjaCBvZiB0aGVpciBjaGFyYWN0ZXJzIHdpdGggYSBSRVZFUlNFIFNPTElEVVMgVSswMDVDIChiYWNrc2xhc2gpLlxyXG4gICAgICAgKiBJdCB3aWxsIGJlIHJlbmRlcmVkIGFzIGEgcmVndWxhciBzdGFydC9lbmQgbWFya2VyLCBhbmQgd2lsbCBub3QgYmUgaW50ZXJwcmV0ZWQgYXMgYW4gZXhwcmVzc2lvblxyXG4gICAgICAgKiBvciBiaW5kaW5nLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGlzIGVuYWJsZXMgd2ViLXNlcnZlcnMgdG8gcHJldmVudCBzY3JpcHQgaW5qZWN0aW9uIGF0dGFja3MgYW5kIGRlZmFjaW5nIGF0dGFja3MsIHRvIHNvbWVcclxuICAgICAgICogZGVncmVlLCB3aGlsZSBhbHNvIGVuYWJsaW5nIGNvZGUgZXhhbXBsZXMgdG8gd29yayB3aXRob3V0IHJlbHlpbmcgb24gdGhlXHJcbiAgICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdOb25CaW5kYWJsZSBuZ05vbkJpbmRhYmxlfSBkaXJlY3RpdmUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqICoqRm9yIHNlY3VyaXR5IHB1cnBvc2VzLCBpdCBpcyBzdHJvbmdseSBlbmNvdXJhZ2VkIHRoYXQgd2ViIHNlcnZlcnMgZXNjYXBlIHVzZXItc3VwcGxpZWQgZGF0YSxcclxuICAgICAgICogcmVwbGFjaW5nIGFuZ2xlIGJyYWNrZXRzICgmbHQ7LCAmZ3Q7KSB3aXRoICZhbXA7bHQ7IGFuZCAmYW1wO2d0OyByZXNwZWN0aXZlbHksIGFuZCByZXBsYWNpbmcgYWxsXHJcbiAgICAgICAqIGludGVycG9sYXRpb24gc3RhcnQvZW5kIG1hcmtlcnMgd2l0aCB0aGVpciBlc2NhcGVkIGNvdW50ZXJwYXJ0cy4qKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBFc2NhcGVkIGludGVycG9sYXRpb24gbWFya2VycyBhcmUgb25seSByZXBsYWNlZCB3aXRoIHRoZSBhY3R1YWwgaW50ZXJwb2xhdGlvbiBtYXJrZXJzIGluIHJlbmRlcmVkXHJcbiAgICAgICAqIG91dHB1dCB3aGVuIHRoZSAkaW50ZXJwb2xhdGUgc2VydmljZSBwcm9jZXNzZXMgdGhlIHRleHQuIFNvLCBmb3IgSFRNTCBlbGVtZW50cyBpbnRlcnBvbGF0ZWRcclxuICAgICAgICogYnkge0BsaW5rIG5nLiRjb21waWxlICRjb21waWxlfSwgb3Igb3RoZXJ3aXNlIGludGVycG9sYXRlZCB3aXRoIHRoZSBgbXVzdEhhdmVFeHByZXNzaW9uYCBwYXJhbWV0ZXJcclxuICAgICAgICogc2V0IHRvIGB0cnVlYCwgdGhlIGludGVycG9sYXRlZCB0ZXh0IG11c3QgY29udGFpbiBhbiB1bmVzY2FwZWQgaW50ZXJwb2xhdGlvbiBleHByZXNzaW9uLiBBcyBzdWNoLFxyXG4gICAgICAgKiB0aGlzIGlzIHR5cGljYWxseSB1c2VmdWwgb25seSB3aGVuIHVzZXItZGF0YSBpcyB1c2VkIGluIHJlbmRlcmluZyBhIHRlbXBsYXRlIGZyb20gdGhlIHNlcnZlciwgb3JcclxuICAgICAgICogd2hlbiBvdGhlcndpc2UgdW50cnVzdGVkIGRhdGEgaXMgdXNlZCBieSBhIGRpcmVjdGl2ZS5cclxuICAgICAgICpcclxuICAgICAgICogPGV4YW1wbGUgbmFtZT1cImludGVycG9sYXRpb25cIj5cclxuICAgICAgICogIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAqICAgIDxkaXYgbmctaW5pdD1cInVzZXJuYW1lPSdBIHVzZXInXCI+XHJcbiAgICAgICAqICAgICAgPHAgbmctaW5pdD1cImFwcHRpdGxlPSdFc2NhcGluZyBkZW1vJ1wiPnt7YXBwdGl0bGV9fTogXFx7XFx7IHVzZXJuYW1lID0gXCJkZWZhY2VkIHZhbHVlXCI7IFxcfVxcfVxyXG4gICAgICAgKiAgICAgICAgPC9wPlxyXG4gICAgICAgKiAgICAgIDxwPjxzdHJvbmc+e3t1c2VybmFtZX19PC9zdHJvbmc+IGF0dGVtcHRzIHRvIGluamVjdCBjb2RlIHdoaWNoIHdpbGwgZGVmYWNlIHRoZVxyXG4gICAgICAgKiAgICAgICAgYXBwbGljYXRpb24sIGJ1dCBmYWlscyB0byBhY2NvbXBsaXNoIHRoZWlyIHRhc2ssIGJlY2F1c2UgdGhlIHNlcnZlciBoYXMgY29ycmVjdGx5XHJcbiAgICAgICAqICAgICAgICBlc2NhcGVkIHRoZSBpbnRlcnBvbGF0aW9uIHN0YXJ0L2VuZCBtYXJrZXJzIHdpdGggUkVWRVJTRSBTT0xJRFVTIFUrMDA1QyAoYmFja3NsYXNoKVxyXG4gICAgICAgKiAgICAgICAgY2hhcmFjdGVycy48L3A+XHJcbiAgICAgICAqICAgICAgPHA+SW5zdGVhZCwgdGhlIHJlc3VsdCBvZiB0aGUgYXR0ZW1wdGVkIHNjcmlwdCBpbmplY3Rpb24gaXMgdmlzaWJsZSwgYW5kIGNhbiBiZSByZW1vdmVkXHJcbiAgICAgICAqICAgICAgICBmcm9tIHRoZSBkYXRhYmFzZSBieSBhbiBhZG1pbmlzdHJhdG9yLjwvcD5cclxuICAgICAgICogICAgPC9kaXY+XHJcbiAgICAgICAqICA8L2ZpbGU+XHJcbiAgICAgICAqIDwvZXhhbXBsZT5cclxuICAgICAgICpcclxuICAgICAgICogQGtub3duSXNzdWVcclxuICAgICAgICogSXQgaXMgY3VycmVudGx5IG5vdCBwb3NzaWJsZSBmb3IgYW4gaW50ZXJwb2xhdGVkIGV4cHJlc3Npb24gdG8gY29udGFpbiB0aGUgaW50ZXJwb2xhdGlvbiBlbmRcclxuICAgICAgICogc3ltYm9sLiBGb3IgZXhhbXBsZSwgYHt7ICd9fScgfX1gIHdpbGwgYmUgaW5jb3JyZWN0bHkgaW50ZXJwcmV0ZWQgYXMgYHt7ICcgfX1gICsgYCcgfX1gLCBpLmUuXHJcbiAgICAgICAqIGFuIGludGVycG9sYXRlZCBleHByZXNzaW9uIGNvbnNpc3Rpbmcgb2YgYSBzaW5nbGUtcXVvdGUgKGAnYCkgYW5kIHRoZSBgJyB9fWAgc3RyaW5nLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAa25vd25Jc3N1ZVxyXG4gICAgICAgKiBBbGwgZGlyZWN0aXZlcyBhbmQgY29tcG9uZW50cyBtdXN0IHVzZSB0aGUgc3RhbmRhcmQgYHt7YCBgfX1gIGludGVycG9sYXRpb24gc3ltYm9sc1xyXG4gICAgICAgKiBpbiB0aGVpciB0ZW1wbGF0ZXMuIElmIHlvdSBjaGFuZ2UgdGhlIGFwcGxpY2F0aW9uIGludGVycG9sYXRpb24gc3ltYm9scyB0aGUge0BsaW5rICRjb21waWxlfVxyXG4gICAgICAgKiBzZXJ2aWNlIHdpbGwgYXR0ZW1wdCB0byBkZW5vcm1hbGl6ZSB0aGUgc3RhbmRhcmQgc3ltYm9scyB0byB0aGUgY3VzdG9tIHN5bWJvbHMuXHJcbiAgICAgICAqIFRoZSBkZW5vcm1hbGl6YXRpb24gcHJvY2VzcyBpcyBub3QgY2xldmVyIGVub3VnaCB0byBrbm93IG5vdCB0byByZXBsYWNlIGluc3RhbmNlcyBvZiB0aGUgc3RhbmRhcmRcclxuICAgICAgICogc3ltYm9scyB3aGVyZSB0aGV5IHdvdWxkIG5vdCBub3JtYWxseSBiZSB0cmVhdGVkIGFzIGludGVycG9sYXRpb24gc3ltYm9scy4gRm9yIGV4YW1wbGUgaW4gdGhlIGZvbGxvd2luZ1xyXG4gICAgICAgKiBjb2RlIHNuaXBwZXQgdGhlIGNsb3NpbmcgYnJhY2VzIG9mIHRoZSBsaXRlcmFsIG9iamVjdCB3aWxsIGdldCBpbmNvcnJlY3RseSBkZW5vcm1hbGl6ZWQ6XHJcbiAgICAgICAqXHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKiA8ZGl2IGRhdGEtY29udGV4dD0ne1wiY29udGV4dFwiOntcImlkXCI6MyxcInR5cGVcIjpcInBhZ2VcIn19XCI+XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBUaGUgd29ya2Fyb3VuZCBpcyB0byBlbnN1cmUgdGhhdCBzdWNoIGluc3RhbmNlcyBhcmUgc2VwYXJhdGVkIGJ5IHdoaXRlc3BhY2U6XHJcbiAgICAgICAqIGBgYFxyXG4gICAgICAgKiA8ZGl2IGRhdGEtY29udGV4dD0ne1wiY29udGV4dFwiOntcImlkXCI6MyxcInR5cGVcIjpcInBhZ2VcIn0gfVwiPlxyXG4gICAgICAgKiBgYGBcclxuICAgICAgICpcclxuICAgICAgICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8xNDYxMCNpc3N1ZWNvbW1lbnQtMjE5NDAxMDk5IGZvciBtb3JlIGluZm9ybWF0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGV4dCBUaGUgdGV4dCB3aXRoIG1hcmt1cCB0byBpbnRlcnBvbGF0ZS5cclxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gbXVzdEhhdmVFeHByZXNzaW9uIGlmIHNldCB0byB0cnVlIHRoZW4gdGhlIGludGVycG9sYXRpb24gc3RyaW5nIG11c3QgaGF2ZVxyXG4gICAgICAgKiAgICBlbWJlZGRlZCBleHByZXNzaW9uIGluIG9yZGVyIHRvIHJldHVybiBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uLiBTdHJpbmdzIHdpdGggbm9cclxuICAgICAgICogICAgZW1iZWRkZWQgZXhwcmVzc2lvbiB3aWxsIHJldHVybiBudWxsIGZvciB0aGUgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbi5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSB0cnVzdGVkQ29udGV4dCB3aGVuIHByb3ZpZGVkLCB0aGUgcmV0dXJuZWQgZnVuY3Rpb24gcGFzc2VzIHRoZSBpbnRlcnBvbGF0ZWRcclxuICAgICAgICogICAgcmVzdWx0IHRocm91Z2gge0BsaW5rIG5nLiRzY2UjZ2V0VHJ1c3RlZCAkc2NlLmdldFRydXN0ZWQoaW50ZXJwb2xhdGVkUmVzdWx0LFxyXG4gICAgICAgKiAgICB0cnVzdGVkQ29udGV4dCl9IGJlZm9yZSByZXR1cm5pbmcgaXQuICBSZWZlciB0byB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZSB0aGF0XHJcbiAgICAgICAqICAgIHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIGZvciBkZXRhaWxzLlxyXG4gICAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBhbGxPck5vdGhpbmcgaWYgYHRydWVgLCB0aGVuIHRoZSByZXR1cm5lZCBmdW5jdGlvbiByZXR1cm5zIHVuZGVmaW5lZFxyXG4gICAgICAgKiAgICB1bmxlc3MgYWxsIGVtYmVkZGVkIGV4cHJlc3Npb25zIGV2YWx1YXRlIHRvIGEgdmFsdWUgb3RoZXIgdGhhbiBgdW5kZWZpbmVkYC5cclxuICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQpfSBhbiBpbnRlcnBvbGF0aW9uIGZ1bmN0aW9uIHdoaWNoIGlzIHVzZWQgdG8gY29tcHV0ZSB0aGVcclxuICAgICAgICogICAgaW50ZXJwb2xhdGVkIHN0cmluZy4gVGhlIGZ1bmN0aW9uIGhhcyB0aGVzZSBwYXJhbWV0ZXJzOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAtIGBjb250ZXh0YDogZXZhbHVhdGlvbiBjb250ZXh0IGZvciBhbGwgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIGludGVycG9sYXRlZCB0ZXh0XHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiAkaW50ZXJwb2xhdGUodGV4dCwgbXVzdEhhdmVFeHByZXNzaW9uLCB0cnVzdGVkQ29udGV4dCwgYWxsT3JOb3RoaW5nKSB7XHJcbiAgICAgICAgLy8gUHJvdmlkZSBhIHF1aWNrIGV4aXQgYW5kIHNpbXBsaWZpZWQgcmVzdWx0IGZ1bmN0aW9uIGZvciB0ZXh0IHdpdGggbm8gaW50ZXJwb2xhdGlvblxyXG4gICAgICAgIGlmICghdGV4dC5sZW5ndGggfHwgdGV4dC5pbmRleE9mKHN0YXJ0U3ltYm9sKSA9PT0gLTEpIHtcclxuICAgICAgICAgIHZhciBjb25zdGFudEludGVycDtcclxuICAgICAgICAgIGlmICghbXVzdEhhdmVFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIHZhciB1bmVzY2FwZWRUZXh0ID0gdW5lc2NhcGVUZXh0KHRleHQpO1xyXG4gICAgICAgICAgICBjb25zdGFudEludGVycCA9IHZhbHVlRm4odW5lc2NhcGVkVGV4dCk7XHJcbiAgICAgICAgICAgIGNvbnN0YW50SW50ZXJwLmV4cCA9IHRleHQ7XHJcbiAgICAgICAgICAgIGNvbnN0YW50SW50ZXJwLmV4cHJlc3Npb25zID0gW107XHJcbiAgICAgICAgICAgIGNvbnN0YW50SW50ZXJwLiQkd2F0Y2hEZWxlZ2F0ZSA9IGNvbnN0YW50V2F0Y2hEZWxlZ2F0ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiBjb25zdGFudEludGVycDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFsbE9yTm90aGluZyA9ICEhYWxsT3JOb3RoaW5nO1xyXG4gICAgICAgIHZhciBzdGFydEluZGV4LFxyXG4gICAgICAgICAgICBlbmRJbmRleCxcclxuICAgICAgICAgICAgaW5kZXggPSAwLFxyXG4gICAgICAgICAgICBleHByZXNzaW9ucyA9IFtdLFxyXG4gICAgICAgICAgICBwYXJzZUZucyA9IFtdLFxyXG4gICAgICAgICAgICB0ZXh0TGVuZ3RoID0gdGV4dC5sZW5ndGgsXHJcbiAgICAgICAgICAgIGV4cCxcclxuICAgICAgICAgICAgY29uY2F0ID0gW10sXHJcbiAgICAgICAgICAgIGV4cHJlc3Npb25Qb3NpdGlvbnMgPSBbXTtcclxuXHJcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgdGV4dExlbmd0aCkge1xyXG4gICAgICAgICAgaWYgKChzdGFydEluZGV4ID0gdGV4dC5pbmRleE9mKHN0YXJ0U3ltYm9sLCBpbmRleCkpICE9PSAtMSAmJiAoZW5kSW5kZXggPSB0ZXh0LmluZGV4T2YoZW5kU3ltYm9sLCBzdGFydEluZGV4ICsgc3RhcnRTeW1ib2xMZW5ndGgpKSAhPT0gLTEpIHtcclxuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSBzdGFydEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgY29uY2F0LnB1c2godW5lc2NhcGVUZXh0KHRleHQuc3Vic3RyaW5nKGluZGV4LCBzdGFydEluZGV4KSkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGV4cCA9IHRleHQuc3Vic3RyaW5nKHN0YXJ0SW5kZXggKyBzdGFydFN5bWJvbExlbmd0aCwgZW5kSW5kZXgpO1xyXG4gICAgICAgICAgICBleHByZXNzaW9ucy5wdXNoKGV4cCk7XHJcbiAgICAgICAgICAgIHBhcnNlRm5zLnB1c2goJHBhcnNlKGV4cCwgcGFyc2VTdHJpbmdpZnlJbnRlcmNlcHRvcikpO1xyXG4gICAgICAgICAgICBpbmRleCA9IGVuZEluZGV4ICsgZW5kU3ltYm9sTGVuZ3RoO1xyXG4gICAgICAgICAgICBleHByZXNzaW9uUG9zaXRpb25zLnB1c2goY29uY2F0Lmxlbmd0aCk7XHJcbiAgICAgICAgICAgIGNvbmNhdC5wdXNoKCcnKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHdlIGRpZCBub3QgZmluZCBhbiBpbnRlcnBvbGF0aW9uLCBzbyB3ZSBoYXZlIHRvIGFkZCB0aGUgcmVtYWluZGVyIHRvIHRoZSBzZXBhcmF0b3JzIGFycmF5XHJcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gdGV4dExlbmd0aCkge1xyXG4gICAgICAgICAgICAgIGNvbmNhdC5wdXNoKHVuZXNjYXBlVGV4dCh0ZXh0LnN1YnN0cmluZyhpbmRleCkpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIENvbmNhdGVuYXRpbmcgZXhwcmVzc2lvbnMgbWFrZXMgaXQgaGFyZCB0byByZWFzb24gYWJvdXQgd2hldGhlciBzb21lIGNvbWJpbmF0aW9uIG9mXHJcbiAgICAgICAgLy8gY29uY2F0ZW5hdGVkIHZhbHVlcyBhcmUgdW5zYWZlIHRvIHVzZSBhbmQgY291bGQgZWFzaWx5IGxlYWQgdG8gWFNTLiAgQnkgcmVxdWlyaW5nIHRoYXQgYVxyXG4gICAgICAgIC8vIHNpbmdsZSBleHByZXNzaW9uIGJlIHVzZWQgZm9yIGlmcmFtZVtzcmNdLCBvYmplY3Rbc3JjXSwgZXRjLiwgd2UgZW5zdXJlIHRoYXQgdGhlIHZhbHVlXHJcbiAgICAgICAgLy8gdGhhdCdzIHVzZWQgaXMgYXNzaWduZWQgb3IgY29uc3RydWN0ZWQgYnkgc29tZSBKUyBjb2RlIHNvbWV3aGVyZSB0aGF0IGlzIG1vcmUgdGVzdGFibGUgb3JcclxuICAgICAgICAvLyBtYWtlIGl0IG9idmlvdXMgdGhhdCB5b3UgYm91bmQgdGhlIHZhbHVlIHRvIHNvbWUgdXNlciBjb250cm9sbGVkIHZhbHVlLiAgVGhpcyBoZWxwcyByZWR1Y2VcclxuICAgICAgICAvLyB0aGUgbG9hZCB3aGVuIGF1ZGl0aW5nIGZvciBYU1MgaXNzdWVzLlxyXG4gICAgICAgIGlmICh0cnVzdGVkQ29udGV4dCAmJiBjb25jYXQubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgJGludGVycG9sYXRlTWluRXJyLnRocm93Tm9jb25jYXQodGV4dCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIW11c3RIYXZlRXhwcmVzc2lvbiB8fCBleHByZXNzaW9ucy5sZW5ndGgpIHtcclxuICAgICAgICAgIHZhciBjb21wdXRlID0gZnVuY3Rpb24gY29tcHV0ZSh2YWx1ZXMpIHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZXhwcmVzc2lvbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgICAgIGlmIChhbGxPck5vdGhpbmcgJiYgaXNVbmRlZmluZWQodmFsdWVzW2ldKSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgIGNvbmNhdFtleHByZXNzaW9uUG9zaXRpb25zW2ldXSA9IHZhbHVlc1tpXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29uY2F0LmpvaW4oJycpO1xyXG4gICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICB2YXIgZ2V0VmFsdWUgPSBmdW5jdGlvbiBnZXRWYWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1c3RlZENvbnRleHQgPyAkc2NlLmdldFRydXN0ZWQodHJ1c3RlZENvbnRleHQsIHZhbHVlKSA6ICRzY2UudmFsdWVPZih2YWx1ZSk7XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIHJldHVybiBleHRlbmQoZnVuY3Rpb24gaW50ZXJwb2xhdGlvbkZuKGNvbnRleHQpIHtcclxuICAgICAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgICAgICB2YXIgaWkgPSBleHByZXNzaW9ucy5sZW5ndGg7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkoaWkpO1xyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBmb3IgKDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIHZhbHVlc1tpXSA9IHBhcnNlRm5zW2ldKGNvbnRleHQpO1xyXG4gICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgcmV0dXJuIGNvbXB1dGUodmFsdWVzKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoJGludGVycG9sYXRlTWluRXJyLmludGVycih0ZXh0LCBlcnIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAvLyBhbGwgb2YgdGhlc2UgcHJvcGVydGllcyBhcmUgdW5kb2N1bWVudGVkIGZvciBub3dcclxuICAgICAgICAgICAgZXhwOiB0ZXh0LCAvL2p1c3QgZm9yIGNvbXBhdGliaWxpdHkgd2l0aCByZWd1bGFyIHdhdGNoZXJzIGNyZWF0ZWQgdmlhICR3YXRjaFxyXG4gICAgICAgICAgICBleHByZXNzaW9uczogZXhwcmVzc2lvbnMsXHJcbiAgICAgICAgICAgICQkd2F0Y2hEZWxlZ2F0ZTogZnVuY3Rpb24gJCR3YXRjaERlbGVnYXRlKHNjb3BlLCBsaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgIHZhciBsYXN0VmFsdWU7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiR3YXRjaEdyb3VwKHBhcnNlRm5zLCAvKiogQHRoaXMgKi9mdW5jdGlvbiBpbnRlcnBvbGF0ZUZuV2F0Y2hlcih2YWx1ZXMsIG9sZFZhbHVlcykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGN1cnJWYWx1ZSA9IGNvbXB1dGUodmFsdWVzKTtcclxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGxpc3RlbmVyKSkge1xyXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5jYWxsKHRoaXMsIGN1cnJWYWx1ZSwgdmFsdWVzICE9PSBvbGRWYWx1ZXMgPyBsYXN0VmFsdWUgOiBjdXJyVmFsdWUsIHNjb3BlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9IGN1cnJWYWx1ZTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmdW5jdGlvbiBwYXJzZVN0cmluZ2lmeUludGVyY2VwdG9yKHZhbHVlKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB2YWx1ZSA9IGdldFZhbHVlKHZhbHVlKTtcclxuICAgICAgICAgICAgcmV0dXJuIGFsbE9yTm90aGluZyAmJiAhaXNEZWZpbmVkKHZhbHVlKSA/IHZhbHVlIDogc3RyaW5naWZ5KHZhbHVlKTtcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAkZXhjZXB0aW9uSGFuZGxlcigkaW50ZXJwb2xhdGVNaW5FcnIuaW50ZXJyKHRleHQsIGVycikpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGludGVycG9sYXRlI3N0YXJ0U3ltYm9sXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBTeW1ib2wgdG8gZGVub3RlIHRoZSBzdGFydCBvZiBleHByZXNzaW9uIGluIHRoZSBpbnRlcnBvbGF0ZWQgc3RyaW5nLiBEZWZhdWx0cyB0byBge3tgLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBVc2Uge0BsaW5rIG5nLiRpbnRlcnBvbGF0ZVByb3ZpZGVyI3N0YXJ0U3ltYm9sIGAkaW50ZXJwb2xhdGVQcm92aWRlci5zdGFydFN5bWJvbGB9IHRvIGNoYW5nZVxyXG4gICAgICAgKiB0aGUgc3ltYm9sLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBzdGFydCBzeW1ib2wuXHJcbiAgICAgICAqL1xyXG4gICAgICAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2wgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHN0YXJ0U3ltYm9sO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJGludGVycG9sYXRlI2VuZFN5bWJvbFxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU3ltYm9sIHRvIGRlbm90ZSB0aGUgZW5kIG9mIGV4cHJlc3Npb24gaW4gdGhlIGludGVycG9sYXRlZCBzdHJpbmcuIERlZmF1bHRzIHRvIGB9fWAuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFVzZSB7QGxpbmsgbmcuJGludGVycG9sYXRlUHJvdmlkZXIjZW5kU3ltYm9sIGAkaW50ZXJwb2xhdGVQcm92aWRlci5lbmRTeW1ib2xgfSB0byBjaGFuZ2VcclxuICAgICAgICogdGhlIHN5bWJvbC5cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gZW5kIHN5bWJvbC5cclxuICAgICAgICovXHJcbiAgICAgICRpbnRlcnBvbGF0ZS5lbmRTeW1ib2wgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGVuZFN5bWJvbDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiAkaW50ZXJwb2xhdGU7XHJcbiAgICB9XTtcclxuICB9XHJcblxyXG4gIC8qKiBAdGhpcyAqL1xyXG4gIGZ1bmN0aW9uICRJbnRlcnZhbFByb3ZpZGVyKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyR3aW5kb3cnLCAnJHEnLCAnJCRxJywgJyRicm93c2VyJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICR3aW5kb3csICRxLCAkJHEsICRicm93c2VyKSB7XHJcbiAgICAgIHZhciBpbnRlcnZhbHMgPSB7fTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAgICAgKiBAbmFtZSAkaW50ZXJ2YWxcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIEFuZ3VsYXIncyB3cmFwcGVyIGZvciBgd2luZG93LnNldEludGVydmFsYC4gVGhlIGBmbmAgZnVuY3Rpb24gaXMgZXhlY3V0ZWQgZXZlcnkgYGRlbGF5YFxyXG4gICAgICAgKiBtaWxsaXNlY29uZHMuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRoZSByZXR1cm4gdmFsdWUgb2YgcmVnaXN0ZXJpbmcgYW4gaW50ZXJ2YWwgZnVuY3Rpb24gaXMgYSBwcm9taXNlLiBUaGlzIHByb21pc2Ugd2lsbCBiZVxyXG4gICAgICAgKiBub3RpZmllZCB1cG9uIGVhY2ggdGljayBvZiB0aGUgaW50ZXJ2YWwsIGFuZCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIGBjb3VudGAgaXRlcmF0aW9ucywgb3JcclxuICAgICAgICogcnVuIGluZGVmaW5pdGVseSBpZiBgY291bnRgIGlzIG5vdCBkZWZpbmVkLiBUaGUgdmFsdWUgb2YgdGhlIG5vdGlmaWNhdGlvbiB3aWxsIGJlIHRoZVxyXG4gICAgICAgKiBudW1iZXIgb2YgaXRlcmF0aW9ucyB0aGF0IGhhdmUgcnVuLlxyXG4gICAgICAgKiBUbyBjYW5jZWwgYW4gaW50ZXJ2YWwsIGNhbGwgYCRpbnRlcnZhbC5jYW5jZWwocHJvbWlzZSlgLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBJbiB0ZXN0cyB5b3UgY2FuIHVzZSB7QGxpbmsgbmdNb2NrLiRpbnRlcnZhbCNmbHVzaCBgJGludGVydmFsLmZsdXNoKG1pbGxpcylgfSB0b1xyXG4gICAgICAgKiBtb3ZlIGZvcndhcmQgYnkgYG1pbGxpc2AgbWlsbGlzZWNvbmRzIGFuZCB0cmlnZ2VyIGFueSBmdW5jdGlvbnMgc2NoZWR1bGVkIHRvIHJ1biBpbiB0aGF0XHJcbiAgICAgICAqIHRpbWUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICAgICAqICoqTm90ZSoqOiBJbnRlcnZhbHMgY3JlYXRlZCBieSB0aGlzIHNlcnZpY2UgbXVzdCBiZSBleHBsaWNpdGx5IGRlc3Ryb3llZCB3aGVuIHlvdSBhcmUgZmluaXNoZWRcclxuICAgICAgICogd2l0aCB0aGVtLiAgSW4gcGFydGljdWxhciB0aGV5IGFyZSBub3QgYXV0b21hdGljYWxseSBkZXN0cm95ZWQgd2hlbiBhIGNvbnRyb2xsZXIncyBzY29wZSBvciBhXHJcbiAgICAgICAqIGRpcmVjdGl2ZSdzIGVsZW1lbnQgYXJlIGRlc3Ryb3llZC5cclxuICAgICAgICogWW91IHNob3VsZCB0YWtlIHRoaXMgaW50byBjb25zaWRlcmF0aW9uIGFuZCBtYWtlIHN1cmUgdG8gYWx3YXlzIGNhbmNlbCB0aGUgaW50ZXJ2YWwgYXQgdGhlXHJcbiAgICAgICAqIGFwcHJvcHJpYXRlIG1vbWVudC4gIFNlZSB0aGUgZXhhbXBsZSBiZWxvdyBmb3IgbW9yZSBkZXRhaWxzIG9uIGhvdyBhbmQgd2hlbiB0byBkbyB0aGlzLlxyXG4gICAgICAgKiA8L2Rpdj5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpfSBmbiBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIGNhbGxlZCByZXBlYXRlZGx5LiBJZiBubyBhZGRpdGlvbmFsIGFyZ3VtZW50c1xyXG4gICAgICAgKiAgIGFyZSBwYXNzZWQgKHNlZSBiZWxvdyksIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQgd2l0aCB0aGUgY3VycmVudCBpdGVyYXRpb24gY291bnQuXHJcbiAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZWxheSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIGJldHdlZW4gZWFjaCBmdW5jdGlvbiBjYWxsLlxyXG4gICAgICAgKiBAcGFyYW0ge251bWJlcj19IFtjb3VudD0wXSBOdW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0LiBJZiBub3Qgc2V0LCBvciAwLCB3aWxsIHJlcGVhdFxyXG4gICAgICAgKiAgIGluZGVmaW5pdGVseS5cclxuICAgICAgICogQHBhcmFtIHtib29sZWFuPX0gW2ludm9rZUFwcGx5PXRydWVdIElmIHNldCB0byBgZmFsc2VgIHNraXBzIG1vZGVsIGRpcnR5IGNoZWNraW5nLCBvdGhlcndpc2VcclxuICAgICAgICogICB3aWxsIGludm9rZSBgZm5gIHdpdGhpbiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseX0gYmxvY2suXHJcbiAgICAgICAqIEBwYXJhbSB7Li4uKj19IFBhc3MgYWRkaXRpb25hbCBwYXJhbWV0ZXJzIHRvIHRoZSBleGVjdXRlZCBmdW5jdGlvbi5cclxuICAgICAgICogQHJldHVybnMge3Byb21pc2V9IEEgcHJvbWlzZSB3aGljaCB3aWxsIGJlIG5vdGlmaWVkIG9uIGVhY2ggaXRlcmF0aW9uLiBJdCB3aWxsIHJlc29sdmUgb25jZSBhbGwgaXRlcmF0aW9ucyBvZiB0aGUgaW50ZXJ2YWwgY29tcGxldGUuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAqIDxleGFtcGxlIG1vZHVsZT1cImludGVydmFsRXhhbXBsZVwiIG5hbWU9XCJpbnRlcnZhbC1zZXJ2aWNlXCI+XHJcbiAgICAgICAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAqICAgPHNjcmlwdD5cclxuICAgICAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdpbnRlcnZhbEV4YW1wbGUnLCBbXSlcclxuICAgICAgICogICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGludGVydmFsJyxcclxuICAgICAgICogICAgICAgICBmdW5jdGlvbigkc2NvcGUsICRpbnRlcnZhbCkge1xyXG4gICAgICAgKiAgICAgICAgICAgJHNjb3BlLmZvcm1hdCA9ICdNL2QveXkgaDptbTpzcyBhJztcclxuICAgICAgICogICAgICAgICAgICRzY29wZS5ibG9vZF8xID0gMTAwO1xyXG4gICAgICAgKiAgICAgICAgICAgJHNjb3BlLmJsb29kXzIgPSAxMjA7XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgICAgICAgICB2YXIgc3RvcDtcclxuICAgICAgICogICAgICAgICAgICRzY29wZS5maWdodCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgKiAgICAgICAgICAgICAvLyBEb24ndCBzdGFydCBhIG5ldyBmaWdodCBpZiB3ZSBhcmUgYWxyZWFkeSBmaWdodGluZ1xyXG4gICAgICAgKiAgICAgICAgICAgICBpZiAoIGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApICkgcmV0dXJuO1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAgICAgICAgICBzdG9wID0gJGludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgKiAgICAgICAgICAgICAgIGlmICgkc2NvcGUuYmxvb2RfMSA+IDAgJiYgJHNjb3BlLmJsb29kXzIgPiAwKSB7XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuYmxvb2RfMSA9ICRzY29wZS5ibG9vZF8xIC0gMztcclxuICAgICAgICogICAgICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gJHNjb3BlLmJsb29kXzIgLSA0O1xyXG4gICAgICAgKiAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAkc2NvcGUuc3RvcEZpZ2h0KCk7XHJcbiAgICAgICAqICAgICAgICAgICAgICAgfVxyXG4gICAgICAgKiAgICAgICAgICAgICB9LCAxMDApO1xyXG4gICAgICAgKiAgICAgICAgICAgfTtcclxuICAgICAgICpcclxuICAgICAgICogICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICogICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKHN0b3ApKSB7XHJcbiAgICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wKTtcclxuICAgICAgICogICAgICAgICAgICAgICBzdG9wID0gdW5kZWZpbmVkO1xyXG4gICAgICAgKiAgICAgICAgICAgICB9XHJcbiAgICAgICAqICAgICAgICAgICB9O1xyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAgICAgICAgJHNjb3BlLnJlc2V0RmlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICogICAgICAgICAgICAgJHNjb3BlLmJsb29kXzEgPSAxMDA7XHJcbiAgICAgICAqICAgICAgICAgICAgICRzY29wZS5ibG9vZF8yID0gMTIwO1xyXG4gICAgICAgKiAgICAgICAgICAgfTtcclxuICAgICAgICpcclxuICAgICAgICogICAgICAgICAgICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAqICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBpbnRlcnZhbCBpcyBkZXN0cm95ZWQgdG9vXHJcbiAgICAgICAqICAgICAgICAgICAgICRzY29wZS5zdG9wRmlnaHQoKTtcclxuICAgICAgICogICAgICAgICAgIH0pO1xyXG4gICAgICAgKiAgICAgICAgIH1dKVxyXG4gICAgICAgKiAgICAgICAvLyBSZWdpc3RlciB0aGUgJ215Q3VycmVudFRpbWUnIGRpcmVjdGl2ZSBmYWN0b3J5IG1ldGhvZC5cclxuICAgICAgICogICAgICAgLy8gV2UgaW5qZWN0ICRpbnRlcnZhbCBhbmQgZGF0ZUZpbHRlciBzZXJ2aWNlIHNpbmNlIHRoZSBmYWN0b3J5IG1ldGhvZCBpcyBESS5cclxuICAgICAgICogICAgICAgLmRpcmVjdGl2ZSgnbXlDdXJyZW50VGltZScsIFsnJGludGVydmFsJywgJ2RhdGVGaWx0ZXInLFxyXG4gICAgICAgKiAgICAgICAgIGZ1bmN0aW9uKCRpbnRlcnZhbCwgZGF0ZUZpbHRlcikge1xyXG4gICAgICAgKiAgICAgICAgICAgLy8gcmV0dXJuIHRoZSBkaXJlY3RpdmUgbGluayBmdW5jdGlvbi4gKGNvbXBpbGUgZnVuY3Rpb24gbm90IG5lZWRlZClcclxuICAgICAgICogICAgICAgICAgIHJldHVybiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcclxuICAgICAgICogICAgICAgICAgICAgdmFyIGZvcm1hdCwgIC8vIGRhdGUgZm9ybWF0XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICBzdG9wVGltZTsgLy8gc28gdGhhdCB3ZSBjYW4gY2FuY2VsIHRoZSB0aW1lIHVwZGF0ZXNcclxuICAgICAgICpcclxuICAgICAgICogICAgICAgICAgICAgLy8gdXNlZCB0byB1cGRhdGUgdGhlIFVJXHJcbiAgICAgICAqICAgICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZVRpbWUoKSB7XHJcbiAgICAgICAqICAgICAgICAgICAgICAgZWxlbWVudC50ZXh0KGRhdGVGaWx0ZXIobmV3IERhdGUoKSwgZm9ybWF0KSk7XHJcbiAgICAgICAqICAgICAgICAgICAgIH1cclxuICAgICAgICpcclxuICAgICAgICogICAgICAgICAgICAgLy8gd2F0Y2ggdGhlIGV4cHJlc3Npb24sIGFuZCB1cGRhdGUgdGhlIFVJIG9uIGNoYW5nZS5cclxuICAgICAgICogICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLm15Q3VycmVudFRpbWUsIGZ1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAqICAgICAgICAgICAgICAgZm9ybWF0ID0gdmFsdWU7XHJcbiAgICAgICAqICAgICAgICAgICAgICAgdXBkYXRlVGltZSgpO1xyXG4gICAgICAgKiAgICAgICAgICAgICB9KTtcclxuICAgICAgICpcclxuICAgICAgICogICAgICAgICAgICAgc3RvcFRpbWUgPSAkaW50ZXJ2YWwodXBkYXRlVGltZSwgMTAwMCk7XHJcbiAgICAgICAqXHJcbiAgICAgICAqICAgICAgICAgICAgIC8vIGxpc3RlbiBvbiBET00gZGVzdHJveSAocmVtb3ZhbCkgZXZlbnQsIGFuZCBjYW5jZWwgdGhlIG5leHQgVUkgdXBkYXRlXHJcbiAgICAgICAqICAgICAgICAgICAgIC8vIHRvIHByZXZlbnQgdXBkYXRpbmcgdGltZSBhZnRlciB0aGUgRE9NIGVsZW1lbnQgd2FzIHJlbW92ZWQuXHJcbiAgICAgICAqICAgICAgICAgICAgIGVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAqICAgICAgICAgICAgICAgJGludGVydmFsLmNhbmNlbChzdG9wVGltZSk7XHJcbiAgICAgICAqICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgKiAgICAgICAgICAgfVxyXG4gICAgICAgKiAgICAgICAgIH1dKTtcclxuICAgICAgICogICA8L3NjcmlwdD5cclxuICAgICAgICpcclxuICAgICAgICogICA8ZGl2PlxyXG4gICAgICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICogICAgICAgPGxhYmVsPkRhdGUgZm9ybWF0OiA8aW5wdXQgbmctbW9kZWw9XCJmb3JtYXRcIj48L2xhYmVsPiA8aHIvPlxyXG4gICAgICAgKiAgICAgICBDdXJyZW50IHRpbWUgaXM6IDxzcGFuIG15LWN1cnJlbnQtdGltZT1cImZvcm1hdFwiPjwvc3Bhbj5cclxuICAgICAgICogICAgICAgPGhyLz5cclxuICAgICAgICogICAgICAgQmxvb2QgMSA6IDxmb250IGNvbG9yPSdyZWQnPnt7Ymxvb2RfMX19PC9mb250PlxyXG4gICAgICAgKiAgICAgICBCbG9vZCAyIDogPGZvbnQgY29sb3I9J3JlZCc+e3tibG9vZF8yfX08L2ZvbnQ+XHJcbiAgICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJmaWdodCgpXCI+RmlnaHQ8L2J1dHRvbj5cclxuICAgICAgICogICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgZGF0YS1uZy1jbGljaz1cInN0b3BGaWdodCgpXCI+U3RvcEZpZ2h0PC9idXR0b24+XHJcbiAgICAgICAqICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGRhdGEtbmctY2xpY2s9XCJyZXNldEZpZ2h0KClcIj5yZXNldEZpZ2h0PC9idXR0b24+XHJcbiAgICAgICAqICAgICA8L2Rpdj5cclxuICAgICAgICogICA8L2Rpdj5cclxuICAgICAgICpcclxuICAgICAgICogPC9maWxlPlxyXG4gICAgICAgKiA8L2V4YW1wbGU+XHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiBpbnRlcnZhbChmbiwgZGVsYXksIGNvdW50LCBpbnZva2VBcHBseSkge1xyXG4gICAgICAgIHZhciBoYXNQYXJhbXMgPSBhcmd1bWVudHMubGVuZ3RoID4gNCxcclxuICAgICAgICAgICAgYXJncyA9IGhhc1BhcmFtcyA/IHNsaWNlQXJncyhhcmd1bWVudHMsIDQpIDogW10sXHJcbiAgICAgICAgICAgIHNldEludGVydmFsID0gJHdpbmRvdy5zZXRJbnRlcnZhbCxcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCA9ICR3aW5kb3cuY2xlYXJJbnRlcnZhbCxcclxuICAgICAgICAgICAgaXRlcmF0aW9uID0gMCxcclxuICAgICAgICAgICAgc2tpcEFwcGx5ID0gaXNEZWZpbmVkKGludm9rZUFwcGx5KSAmJiAhaW52b2tlQXBwbHksXHJcbiAgICAgICAgICAgIGRlZmVycmVkID0gKHNraXBBcHBseSA/ICQkcSA6ICRxKS5kZWZlcigpLFxyXG4gICAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcclxuXHJcbiAgICAgICAgY291bnQgPSBpc0RlZmluZWQoY291bnQpID8gY291bnQgOiAwO1xyXG5cclxuICAgICAgICBwcm9taXNlLiQkaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKGZ1bmN0aW9uIHRpY2soKSB7XHJcbiAgICAgICAgICBpZiAoc2tpcEFwcGx5KSB7XHJcbiAgICAgICAgICAgICRicm93c2VyLmRlZmVyKGNhbGxiYWNrKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBkZWZlcnJlZC5ub3RpZnkoaXRlcmF0aW9uKyspO1xyXG5cclxuICAgICAgICAgIGlmIChjb3VudCA+IDAgJiYgaXRlcmF0aW9uID49IGNvdW50KSB7XHJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoaXRlcmF0aW9uKTtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChwcm9taXNlLiQkaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgIH0sIGRlbGF5KTtcclxuXHJcbiAgICAgICAgaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXSA9IGRlZmVycmVkO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gY2FsbGJhY2soKSB7XHJcbiAgICAgICAgICBpZiAoIWhhc1BhcmFtcykge1xyXG4gICAgICAgICAgICBmbihpdGVyYXRpb24pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm4uYXBwbHkobnVsbCwgYXJncyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkaW50ZXJ2YWwjY2FuY2VsXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBDYW5jZWxzIGEgdGFzayBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9taXNlYC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtQcm9taXNlPX0gcHJvbWlzZSByZXR1cm5lZCBieSB0aGUgYCRpbnRlcnZhbGAgZnVuY3Rpb24uXHJcbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayB3YXMgc3VjY2Vzc2Z1bGx5IGNhbmNlbGVkLlxyXG4gICAgICAgKi9cclxuICAgICAgaW50ZXJ2YWwuY2FuY2VsID0gZnVuY3Rpb24gKHByb21pc2UpIHtcclxuICAgICAgICBpZiAocHJvbWlzZSAmJiBwcm9taXNlLiQkaW50ZXJ2YWxJZCBpbiBpbnRlcnZhbHMpIHtcclxuICAgICAgICAgIC8vIEludGVydmFsIGNhbmNlbHMgc2hvdWxkIG5vdCByZXBvcnQgYXMgdW5oYW5kbGVkIHByb21pc2UuXHJcbiAgICAgICAgICBtYXJrUUV4Y2VwdGlvbkhhbmRsZWQoaW50ZXJ2YWxzW3Byb21pc2UuJCRpbnRlcnZhbElkXS5wcm9taXNlKTtcclxuICAgICAgICAgIGludGVydmFsc1twcm9taXNlLiQkaW50ZXJ2YWxJZF0ucmVqZWN0KCdjYW5jZWxlZCcpO1xyXG4gICAgICAgICAgJHdpbmRvdy5jbGVhckludGVydmFsKHByb21pc2UuJCRpbnRlcnZhbElkKTtcclxuICAgICAgICAgIGRlbGV0ZSBpbnRlcnZhbHNbcHJvbWlzZS4kJGludGVydmFsSWRdO1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBpbnRlcnZhbDtcclxuICAgIH1dO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSAkanNvbnBDYWxsYmFja3NcclxuICAgKiBAcmVxdWlyZXMgJHdpbmRvd1xyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgc2VydmljZSBoYW5kbGVzIHRoZSBsaWZlY3ljbGUgb2YgY2FsbGJhY2tzIHRvIGhhbmRsZSBKU09OUCByZXF1ZXN0cy5cclxuICAgKiBPdmVycmlkZSB0aGlzIHNlcnZpY2UgaWYgeW91IHdpc2ggdG8gY3VzdG9taXNlIHdoZXJlIHRoZSBjYWxsYmFja3MgYXJlIHN0b3JlZCBhbmRcclxuICAgKiBob3cgdGhleSB2YXJ5IGNvbXBhcmVkIHRvIHRoZSByZXF1ZXN0ZWQgdXJsLlxyXG4gICAqL1xyXG4gIHZhciAkanNvbnBDYWxsYmFja3NQcm92aWRlciA9IC8qKiBAdGhpcyAqL2Z1bmN0aW9uICRqc29ucENhbGxiYWNrc1Byb3ZpZGVyKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgY2FsbGJhY2tzID0gYW5ndWxhci5jYWxsYmFja3M7XHJcbiAgICAgIHZhciBjYWxsYmFja01hcCA9IHt9O1xyXG5cclxuICAgICAgZnVuY3Rpb24gX2NyZWF0ZUNhbGxiYWNrKGNhbGxiYWNrSWQpIHtcclxuICAgICAgICB2YXIgY2FsbGJhY2sgPSBmdW5jdGlvbiBjYWxsYmFjayhkYXRhKSB7XHJcbiAgICAgICAgICBjYWxsYmFjay5kYXRhID0gZGF0YTtcclxuICAgICAgICAgIGNhbGxiYWNrLmNhbGxlZCA9IHRydWU7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjYWxsYmFjay5pZCA9IGNhbGxiYWNrSWQ7XHJcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkanNvbnBDYWxsYmFja3MjY3JlYXRlQ2FsbGJhY2tcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIHRoZSB1cmwgb2YgdGhlIEpTT05QIHJlcXVlc3RcclxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0aGUgY2FsbGJhY2sgcGF0aCB0byBzZW5kIHRvIHRoZSBzZXJ2ZXIgYXMgcGFydCBvZiB0aGUgSlNPTlAgcmVxdWVzdFxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIHtAbGluayAkaHR0cEJhY2tlbmR9IGNhbGxzIHRoaXMgbWV0aG9kIHRvIGNyZWF0ZSBhIGNhbGxiYWNrIGFuZCBnZXQgaG9sZCBvZiB0aGUgcGF0aCB0byB0aGUgY2FsbGJhY2tcclxuICAgICAgICAgKiB0byBwYXNzIHRvIHRoZSBzZXJ2ZXIsIHdoaWNoIHdpbGwgYmUgdXNlZCB0byBjYWxsIHRoZSBjYWxsYmFjayB3aXRoIGl0cyBwYXlsb2FkIGluIHRoZSBKU09OUCByZXNwb25zZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjcmVhdGVDYWxsYmFjazogZnVuY3Rpb24gY3JlYXRlQ2FsbGJhY2sodXJsKSB7XHJcbiAgICAgICAgICB2YXIgY2FsbGJhY2tJZCA9ICdfJyArIChjYWxsYmFja3MuJCRjb3VudGVyKyspLnRvU3RyaW5nKDM2KTtcclxuICAgICAgICAgIHZhciBjYWxsYmFja1BhdGggPSAnYW5ndWxhci5jYWxsYmFja3MuJyArIGNhbGxiYWNrSWQ7XHJcbiAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBfY3JlYXRlQ2FsbGJhY2soY2FsbGJhY2tJZCk7XHJcbiAgICAgICAgICBjYWxsYmFja01hcFtjYWxsYmFja1BhdGhdID0gY2FsbGJhY2tzW2NhbGxiYWNrSWRdID0gY2FsbGJhY2s7XHJcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2tQYXRoO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRqc29ucENhbGxiYWNrcyN3YXNDYWxsZWRcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tQYXRoIHRoZSBwYXRoIHRvIHRoZSBjYWxsYmFjayB0aGF0IHdhcyBzZW50IGluIHRoZSBKU09OUCByZXF1ZXN0XHJcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IHdoZXRoZXIgdGhlIGNhbGxiYWNrIGhhcyBiZWVuIGNhbGxlZCwgYXMgYSByZXN1bHQgb2YgdGhlIEpTT05QIHJlc3BvbnNlXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICoge0BsaW5rICRodHRwQmFja2VuZH0gY2FsbHMgdGhpcyBtZXRob2QgdG8gZmluZCBvdXQgd2hldGhlciB0aGUgSlNPTlAgcmVzcG9uc2UgYWN0dWFsbHkgY2FsbGVkIHRoZVxyXG4gICAgICAgICAqIGNhbGxiYWNrIHRoYXQgd2FzIHBhc3NlZCBpbiB0aGUgcmVxdWVzdC5cclxuICAgICAgICAgKi9cclxuICAgICAgICB3YXNDYWxsZWQ6IGZ1bmN0aW9uIHdhc0NhbGxlZChjYWxsYmFja1BhdGgpIHtcclxuICAgICAgICAgIHJldHVybiBjYWxsYmFja01hcFtjYWxsYmFja1BhdGhdLmNhbGxlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkanNvbnBDYWxsYmFja3MjZ2V0UmVzcG9uc2VcclxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gY2FsbGJhY2tQYXRoIHRoZSBwYXRoIHRvIHRoZSBjYWxsYmFjayB0aGF0IHdhcyBzZW50IGluIHRoZSBKU09OUCByZXF1ZXN0XHJcbiAgICAgICAgICogQHJldHVybnMgeyp9IHRoZSBkYXRhIHJlY2VpdmVkIGZyb20gdGhlIHJlc3BvbnNlIHZpYSB0aGUgcmVnaXN0ZXJlZCBjYWxsYmFja1xyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIHtAbGluayAkaHR0cEJhY2tlbmR9IGNhbGxzIHRoaXMgbWV0aG9kIHRvIGdldCBob2xkIG9mIHRoZSBkYXRhIHRoYXQgd2FzIHByb3ZpZGVkIHRvIHRoZSBjYWxsYmFja1xyXG4gICAgICAgICAqIGluIHRoZSBKU09OUCByZXNwb25zZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICBnZXRSZXNwb25zZTogZnVuY3Rpb24gZ2V0UmVzcG9uc2UoY2FsbGJhY2tQYXRoKSB7XHJcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2tNYXBbY2FsbGJhY2tQYXRoXS5kYXRhO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRqc29ucENhbGxiYWNrcyNyZW1vdmVDYWxsYmFja1xyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBjYWxsYmFja1BhdGggdGhlIHBhdGggdG8gdGhlIGNhbGxiYWNrIHRoYXQgd2FzIHNlbnQgaW4gdGhlIEpTT05QIHJlcXVlc3RcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiB7QGxpbmsgJGh0dHBCYWNrZW5kfSBjYWxscyB0aGlzIG1ldGhvZCB0byByZW1vdmUgdGhlIGNhbGxiYWNrIGFmdGVyIHRoZSBKU09OUCByZXF1ZXN0IGhhc1xyXG4gICAgICAgICAqIGNvbXBsZXRlZCBvciB0aW1lZC1vdXQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgcmVtb3ZlQ2FsbGJhY2s6IGZ1bmN0aW9uIHJlbW92ZUNhbGxiYWNrKGNhbGxiYWNrUGF0aCkge1xyXG4gICAgICAgICAgdmFyIGNhbGxiYWNrID0gY2FsbGJhY2tNYXBbY2FsbGJhY2tQYXRoXTtcclxuICAgICAgICAgIGRlbGV0ZSBjYWxsYmFja3NbY2FsbGJhY2suaWRdO1xyXG4gICAgICAgICAgZGVsZXRlIGNhbGxiYWNrTWFwW2NhbGxiYWNrUGF0aF07XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRsb2NhbGVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqICRsb2NhbGUgc2VydmljZSBwcm92aWRlcyBsb2NhbGl6YXRpb24gcnVsZXMgZm9yIHZhcmlvdXMgQW5ndWxhciBjb21wb25lbnRzLiBBcyBvZiByaWdodCBub3cgdGhlXHJcbiAgICogb25seSBwdWJsaWMgYXBpIGlzOlxyXG4gICAqXHJcbiAgICogKiBgaWRgIOKAkyBge3N0cmluZ31gIOKAkyBsb2NhbGUgaWQgZm9ybWF0dGVkIGFzIGBsYW5ndWFnZUlkLWNvdW50cnlJZGAgKGUuZy4gYGVuLXVzYClcclxuICAgKi9cclxuXHJcbiAgdmFyIFBBVEhfTUFUQ0ggPSAvXihbXj8jXSopKFxcPyhbXiNdKikpPygjKC4qKSk/JC8sXHJcbiAgICAgIERFRkFVTFRfUE9SVFMgPSB7ICdodHRwJzogODAsICdodHRwcyc6IDQ0MywgJ2Z0cCc6IDIxIH07XHJcbiAgdmFyICRsb2NhdGlvbk1pbkVyciA9IG1pbkVycignJGxvY2F0aW9uJyk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEVuY29kZSBwYXRoIHVzaW5nIGVuY29kZVVyaVNlZ21lbnQsIGlnbm9yaW5nIGZvcndhcmQgc2xhc2hlc1xyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggUGF0aCB0byBlbmNvZGVcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGVuY29kZVBhdGgocGF0aCkge1xyXG4gICAgdmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdCgnLycpLFxyXG4gICAgICAgIGkgPSBzZWdtZW50cy5sZW5ndGg7XHJcblxyXG4gICAgd2hpbGUgKGktLSkge1xyXG4gICAgICBzZWdtZW50c1tpXSA9IGVuY29kZVVyaVNlZ21lbnQoc2VnbWVudHNbaV0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBzZWdtZW50cy5qb2luKCcvJyk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwYXJzZUFic29sdXRlVXJsKGFic29sdXRlVXJsLCBsb2NhdGlvbk9iaikge1xyXG4gICAgdmFyIHBhcnNlZFVybCA9IHVybFJlc29sdmUoYWJzb2x1dGVVcmwpO1xyXG5cclxuICAgIGxvY2F0aW9uT2JqLiQkcHJvdG9jb2wgPSBwYXJzZWRVcmwucHJvdG9jb2w7XHJcbiAgICBsb2NhdGlvbk9iai4kJGhvc3QgPSBwYXJzZWRVcmwuaG9zdG5hbWU7XHJcbiAgICBsb2NhdGlvbk9iai4kJHBvcnQgPSB0b0ludChwYXJzZWRVcmwucG9ydCkgfHwgREVGQVVMVF9QT1JUU1twYXJzZWRVcmwucHJvdG9jb2xdIHx8IG51bGw7XHJcbiAgfVxyXG5cclxuICB2YXIgRE9VQkxFX1NMQVNIX1JFR0VYID0gL15cXHMqW1xcXFwvXXsyLH0vO1xyXG4gIGZ1bmN0aW9uIHBhcnNlQXBwVXJsKHVybCwgbG9jYXRpb25PYmopIHtcclxuXHJcbiAgICBpZiAoRE9VQkxFX1NMQVNIX1JFR0VYLnRlc3QodXJsKSkge1xyXG4gICAgICB0aHJvdyAkbG9jYXRpb25NaW5FcnIoJ2JhZHBhdGgnLCAnSW52YWxpZCB1cmwgXCJ7MH1cIi4nLCB1cmwpO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBwcmVmaXhlZCA9IHVybC5jaGFyQXQoMCkgIT09ICcvJztcclxuICAgIGlmIChwcmVmaXhlZCkge1xyXG4gICAgICB1cmwgPSAnLycgKyB1cmw7XHJcbiAgICB9XHJcbiAgICB2YXIgbWF0Y2ggPSB1cmxSZXNvbHZlKHVybCk7XHJcbiAgICBsb2NhdGlvbk9iai4kJHBhdGggPSBkZWNvZGVVUklDb21wb25lbnQocHJlZml4ZWQgJiYgbWF0Y2gucGF0aG5hbWUuY2hhckF0KDApID09PSAnLycgPyBtYXRjaC5wYXRobmFtZS5zdWJzdHJpbmcoMSkgOiBtYXRjaC5wYXRobmFtZSk7XHJcbiAgICBsb2NhdGlvbk9iai4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUobWF0Y2guc2VhcmNoKTtcclxuICAgIGxvY2F0aW9uT2JqLiQkaGFzaCA9IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaC5oYXNoKTtcclxuXHJcbiAgICAvLyBtYWtlIHN1cmUgcGF0aCBzdGFydHMgd2l0aCAnLyc7XHJcbiAgICBpZiAobG9jYXRpb25PYmouJCRwYXRoICYmIGxvY2F0aW9uT2JqLiQkcGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xyXG4gICAgICBsb2NhdGlvbk9iai4kJHBhdGggPSAnLycgKyBsb2NhdGlvbk9iai4kJHBhdGg7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0ciwgc2VhcmNoKSB7XHJcbiAgICByZXR1cm4gc3RyLnNsaWNlKDAsIHNlYXJjaC5sZW5ndGgpID09PSBzZWFyY2g7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybFxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IHJldHVybnMgdGV4dCBmcm9tIGB1cmxgIGFmdGVyIGBiYXNlYCBvciBgdW5kZWZpbmVkYCBpZiBpdCBkb2VzIG5vdCBiZWdpbiB3aXRoXHJcbiAgICogICAgICAgICAgICAgICAgICAgdGhlIGV4cGVjdGVkIHN0cmluZy5cclxuICAgKi9cclxuICBmdW5jdGlvbiBzdHJpcEJhc2VVcmwoYmFzZSwgdXJsKSB7XHJcbiAgICBpZiAoc3RhcnRzV2l0aCh1cmwsIGJhc2UpKSB7XHJcbiAgICAgIHJldHVybiB1cmwuc3Vic3RyKGJhc2UubGVuZ3RoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHN0cmlwSGFzaCh1cmwpIHtcclxuICAgIHZhciBpbmRleCA9IHVybC5pbmRleE9mKCcjJyk7XHJcbiAgICByZXR1cm4gaW5kZXggPT09IC0xID8gdXJsIDogdXJsLnN1YnN0cigwLCBpbmRleCk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0cmltRW1wdHlIYXNoKHVybCkge1xyXG4gICAgcmV0dXJuIHVybC5yZXBsYWNlKC8oIy4rKXwjJC8sICckMScpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gc3RyaXBGaWxlKHVybCkge1xyXG4gICAgcmV0dXJuIHVybC5zdWJzdHIoMCwgc3RyaXBIYXNoKHVybCkubGFzdEluZGV4T2YoJy8nKSArIDEpO1xyXG4gIH1cclxuXHJcbiAgLyogcmV0dXJuIHRoZSBzZXJ2ZXIgb25seSAoc2NoZW1lOi8vaG9zdDpwb3J0KSAqL1xyXG4gIGZ1bmN0aW9uIHNlcnZlckJhc2UodXJsKSB7XHJcbiAgICByZXR1cm4gdXJsLnN1YnN0cmluZygwLCB1cmwuaW5kZXhPZignLycsIHVybC5pbmRleE9mKCcvLycpICsgMikpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogTG9jYXRpb25IdG1sNVVybCByZXByZXNlbnRzIGEgVVJMXHJcbiAgICogVGhpcyBvYmplY3QgaXMgZXhwb3NlZCBhcyAkbG9jYXRpb24gc2VydmljZSB3aGVuIEhUTUw1IG1vZGUgaXMgZW5hYmxlZCBhbmQgc3VwcG9ydGVkXHJcbiAgICpcclxuICAgKiBAY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlTm9GaWxlIGFwcGxpY2F0aW9uIGJhc2UgVVJMIHN0cmlwcGVkIG9mIGFueSBmaWxlbmFtZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBiYXNlUHJlZml4IFVSTCBwYXRoIHByZWZpeFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIExvY2F0aW9uSHRtbDVVcmwoYXBwQmFzZSwgYXBwQmFzZU5vRmlsZSwgYmFzZVByZWZpeCkge1xyXG4gICAgdGhpcy4kJGh0bWw1ID0gdHJ1ZTtcclxuICAgIGJhc2VQcmVmaXggPSBiYXNlUHJlZml4IHx8ICcnO1xyXG4gICAgcGFyc2VBYnNvbHV0ZVVybChhcHBCYXNlLCB0aGlzKTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFBhcnNlIGdpdmVuIEhUTUw1IChyZWd1bGFyKSBVUkwgc3RyaW5nIGludG8gcHJvcGVydGllc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBIVE1MNSBVUkxcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuJCRwYXJzZSA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgdmFyIHBhdGhVcmwgPSBzdHJpcEJhc2VVcmwoYXBwQmFzZU5vRmlsZSwgdXJsKTtcclxuICAgICAgaWYgKCFpc1N0cmluZyhwYXRoVXJsKSkge1xyXG4gICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXB0aHByZngnLCAnSW52YWxpZCB1cmwgXCJ7MH1cIiwgbWlzc2luZyBwYXRoIHByZWZpeCBcInsxfVwiLicsIHVybCwgYXBwQmFzZU5vRmlsZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHBhcnNlQXBwVXJsKHBhdGhVcmwsIHRoaXMpO1xyXG5cclxuICAgICAgaWYgKCF0aGlzLiQkcGF0aCkge1xyXG4gICAgICAgIHRoaXMuJCRwYXRoID0gJy8nO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkY29tcG9zZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENvbXBvc2UgdXJsIGFuZCB1cGRhdGUgYGFic1VybGAgcHJvcGVydHlcclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIHRoaXMuJCRjb21wb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgc2VhcmNoID0gdG9LZXlWYWx1ZSh0aGlzLiQkc2VhcmNoKSxcclxuICAgICAgICAgIGhhc2ggPSB0aGlzLiQkaGFzaCA/ICcjJyArIGVuY29kZVVyaVNlZ21lbnQodGhpcy4kJGhhc2gpIDogJyc7XHJcblxyXG4gICAgICB0aGlzLiQkdXJsID0gZW5jb2RlUGF0aCh0aGlzLiQkcGF0aCkgKyAoc2VhcmNoID8gJz8nICsgc2VhcmNoIDogJycpICsgaGFzaDtcclxuICAgICAgdGhpcy4kJGFic1VybCA9IGFwcEJhc2VOb0ZpbGUgKyB0aGlzLiQkdXJsLnN1YnN0cigxKTsgLy8gZmlyc3QgY2hhciBpcyBhbHdheXMgJy8nXHJcblxyXG4gICAgICB0aGlzLiQkdXJsVXBkYXRlZEJ5TG9jYXRpb24gPSB0cnVlO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLiQkcGFyc2VMaW5rVXJsID0gZnVuY3Rpb24gKHVybCwgcmVsSHJlZikge1xyXG4gICAgICBpZiAocmVsSHJlZiAmJiByZWxIcmVmWzBdID09PSAnIycpIHtcclxuICAgICAgICAvLyBzcGVjaWFsIGNhc2UgZm9yIGxpbmtzIHRvIGhhc2ggZnJhZ21lbnRzOlxyXG4gICAgICAgIC8vIGtlZXAgdGhlIG9sZCB1cmwgYW5kIG9ubHkgcmVwbGFjZSB0aGUgaGFzaCBmcmFnbWVudFxyXG4gICAgICAgIHRoaXMuaGFzaChyZWxIcmVmLnNsaWNlKDEpKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgYXBwVXJsLCBwcmV2QXBwVXJsO1xyXG4gICAgICB2YXIgcmV3cml0dGVuVXJsO1xyXG5cclxuICAgICAgaWYgKGlzRGVmaW5lZChhcHBVcmwgPSBzdHJpcEJhc2VVcmwoYXBwQmFzZSwgdXJsKSkpIHtcclxuICAgICAgICBwcmV2QXBwVXJsID0gYXBwVXJsO1xyXG4gICAgICAgIGlmIChiYXNlUHJlZml4ICYmIGlzRGVmaW5lZChhcHBVcmwgPSBzdHJpcEJhc2VVcmwoYmFzZVByZWZpeCwgYXBwVXJsKSkpIHtcclxuICAgICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGUgKyAoc3RyaXBCYXNlVXJsKCcvJywgYXBwVXJsKSB8fCBhcHBVcmwpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXdyaXR0ZW5VcmwgPSBhcHBCYXNlICsgcHJldkFwcFVybDtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNEZWZpbmVkKGFwcFVybCA9IHN0cmlwQmFzZVVybChhcHBCYXNlTm9GaWxlLCB1cmwpKSkge1xyXG4gICAgICAgIHJld3JpdHRlblVybCA9IGFwcEJhc2VOb0ZpbGUgKyBhcHBVcmw7XHJcbiAgICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PT0gdXJsICsgJy8nKSB7XHJcbiAgICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmV3cml0dGVuVXJsKSB7XHJcbiAgICAgICAgdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyBVUkxcclxuICAgKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gZGV2ZWxvcGVyIGRvZXNuJ3Qgb3B0IGludG8gaHRtbDUgbW9kZS5cclxuICAgKiBJdCBhbHNvIHNlcnZlcyBhcyB0aGUgYmFzZSBjbGFzcyBmb3IgaHRtbDUgbW9kZSBmYWxsYmFjayBvbiBsZWdhY3kgYnJvd3NlcnMuXHJcbiAgICpcclxuICAgKiBAY29uc3RydWN0b3JcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZSBhcHBsaWNhdGlvbiBiYXNlIFVSTFxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBhcHBCYXNlTm9GaWxlIGFwcGxpY2F0aW9uIGJhc2UgVVJMIHN0cmlwcGVkIG9mIGFueSBmaWxlbmFtZVxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBoYXNoUHJlZml4IGhhc2hiYW5nIHByZWZpeFxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIExvY2F0aW9uSGFzaGJhbmdVcmwoYXBwQmFzZSwgYXBwQmFzZU5vRmlsZSwgaGFzaFByZWZpeCkge1xyXG5cclxuICAgIHBhcnNlQWJzb2x1dGVVcmwoYXBwQmFzZSwgdGhpcyk7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQYXJzZSBnaXZlbiBoYXNoYmFuZyBVUkwgaW50byBwcm9wZXJ0aWVzXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIEhhc2hiYW5nIFVSTFxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgdGhpcy4kJHBhcnNlID0gZnVuY3Rpb24gKHVybCkge1xyXG4gICAgICB2YXIgd2l0aG91dEJhc2VVcmwgPSBzdHJpcEJhc2VVcmwoYXBwQmFzZSwgdXJsKSB8fCBzdHJpcEJhc2VVcmwoYXBwQmFzZU5vRmlsZSwgdXJsKTtcclxuICAgICAgdmFyIHdpdGhvdXRIYXNoVXJsO1xyXG5cclxuICAgICAgaWYgKCFpc1VuZGVmaW5lZCh3aXRob3V0QmFzZVVybCkgJiYgd2l0aG91dEJhc2VVcmwuY2hhckF0KDApID09PSAnIycpIHtcclxuXHJcbiAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIFVSTCBzdGFydHMgd2l0aCBhIGhhc2ggc28gd2UgaGF2ZVxyXG4gICAgICAgIC8vIGdvdCBlaXRoZXIgYSBoYXNoYmFuZyBwYXRoIG9yIGEgcGxhaW4gaGFzaCBmcmFnbWVudFxyXG4gICAgICAgIHdpdGhvdXRIYXNoVXJsID0gc3RyaXBCYXNlVXJsKGhhc2hQcmVmaXgsIHdpdGhvdXRCYXNlVXJsKTtcclxuICAgICAgICBpZiAoaXNVbmRlZmluZWQod2l0aG91dEhhc2hVcmwpKSB7XHJcbiAgICAgICAgICAvLyBUaGVyZSB3YXMgbm8gaGFzaGJhbmcgcHJlZml4IHNvIHdlIGp1c3QgaGF2ZSBhIGhhc2ggZnJhZ21lbnRcclxuICAgICAgICAgIHdpdGhvdXRIYXNoVXJsID0gd2l0aG91dEJhc2VVcmw7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRoZXJlIHdhcyBubyBoYXNoYmFuZyBwYXRoIG5vciBoYXNoIGZyYWdtZW50OlxyXG4gICAgICAgIC8vIElmIHdlIGFyZSBpbiBIVE1MNSBtb2RlIHdlIHVzZSB3aGF0IGlzIGxlZnQgYXMgdGhlIHBhdGg7XHJcbiAgICAgICAgLy8gT3RoZXJ3aXNlIHdlIGlnbm9yZSB3aGF0IGlzIGxlZnRcclxuICAgICAgICBpZiAodGhpcy4kJGh0bWw1KSB7XHJcbiAgICAgICAgICB3aXRob3V0SGFzaFVybCA9IHdpdGhvdXRCYXNlVXJsO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3aXRob3V0SGFzaFVybCA9ICcnO1xyXG4gICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHdpdGhvdXRCYXNlVXJsKSkge1xyXG4gICAgICAgICAgICBhcHBCYXNlID0gdXJsO1xyXG4gICAgICAgICAgICAvKiogQHR5cGUgez99ICovdGhpcy5yZXBsYWNlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBwYXJzZUFwcFVybCh3aXRob3V0SGFzaFVybCwgdGhpcyk7XHJcblxyXG4gICAgICB0aGlzLiQkcGF0aCA9IHJlbW92ZVdpbmRvd3NEcml2ZU5hbWUodGhpcy4kJHBhdGgsIHdpdGhvdXRIYXNoVXJsLCBhcHBCYXNlKTtcclxuXHJcbiAgICAgIHRoaXMuJCRjb21wb3NlKCk7XHJcblxyXG4gICAgICAvKlxyXG4gICAgICAgKiBJbiBXaW5kb3dzLCBvbiBhbiBhbmNob3Igbm9kZSBvbiBkb2N1bWVudHMgbG9hZGVkIGZyb21cclxuICAgICAgICogdGhlIGZpbGVzeXN0ZW0sIHRoZSBicm93c2VyIHdpbGwgcmV0dXJuIGEgcGF0aG5hbWVcclxuICAgICAgICogcHJlZml4ZWQgd2l0aCB0aGUgZHJpdmUgbmFtZSAoJy9DOi9wYXRoJykgd2hlbiBhXHJcbiAgICAgICAqIHBhdGhuYW1lIHdpdGhvdXQgYSBkcml2ZSBpcyBzZXQ6XHJcbiAgICAgICAqICAqIGEuc2V0QXR0cmlidXRlKCdocmVmJywgJy9mb28nKVxyXG4gICAgICAgKiAgICogYS5wYXRobmFtZSA9PT0gJy9DOi9mb28nIC8vdHJ1ZVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBJbnNpZGUgb2YgQW5ndWxhciwgd2UncmUgYWx3YXlzIHVzaW5nIHBhdGhuYW1lcyB0aGF0XHJcbiAgICAgICAqIGRvIG5vdCBpbmNsdWRlIGRyaXZlIG5hbWVzIGZvciByb3V0aW5nLlxyXG4gICAgICAgKi9cclxuICAgICAgZnVuY3Rpb24gcmVtb3ZlV2luZG93c0RyaXZlTmFtZShwYXRoLCB1cmwsIGJhc2UpIHtcclxuICAgICAgICAvKlxyXG4gICAgICAgIE1hdGNoZXMgcGF0aHMgZm9yIGZpbGUgcHJvdG9jb2wgb24gd2luZG93cyxcclxuICAgICAgICBzdWNoIGFzIC9DOi9mb28vYmFyLCBhbmQgY2FwdHVyZXMgb25seSAvZm9vL2Jhci5cclxuICAgICAgICAqL1xyXG4gICAgICAgIHZhciB3aW5kb3dzRmlsZVBhdGhFeHAgPSAvXlxcL1tBLVpdOihcXC8uKikvO1xyXG5cclxuICAgICAgICB2YXIgZmlyc3RQYXRoU2VnbWVudE1hdGNoO1xyXG5cclxuICAgICAgICAvL0dldCB0aGUgcmVsYXRpdmUgcGF0aCBmcm9tIHRoZSBpbnB1dCBVUkwuXHJcbiAgICAgICAgaWYgKHN0YXJ0c1dpdGgodXJsLCBiYXNlKSkge1xyXG4gICAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoYmFzZSwgJycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVGhlIGlucHV0IFVSTCBpbnRlbnRpb25hbGx5IGNvbnRhaW5zIGEgZmlyc3QgcGF0aCBzZWdtZW50IHRoYXQgZW5kcyB3aXRoIGEgY29sb24uXHJcbiAgICAgICAgaWYgKHdpbmRvd3NGaWxlUGF0aEV4cC5leGVjKHVybCkpIHtcclxuICAgICAgICAgIHJldHVybiBwYXRoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZmlyc3RQYXRoU2VnbWVudE1hdGNoID0gd2luZG93c0ZpbGVQYXRoRXhwLmV4ZWMocGF0aCk7XHJcbiAgICAgICAgcmV0dXJuIGZpcnN0UGF0aFNlZ21lbnRNYXRjaCA/IGZpcnN0UGF0aFNlZ21lbnRNYXRjaFsxXSA6IHBhdGg7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDb21wb3NlIGhhc2hiYW5nIFVSTCBhbmQgdXBkYXRlIGBhYnNVcmxgIHByb3BlcnR5XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXHJcbiAgICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xyXG5cclxuICAgICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XHJcbiAgICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlICsgKHRoaXMuJCR1cmwgPyBoYXNoUHJlZml4ICsgdGhpcy4kJHVybCA6ICcnKTtcclxuXHJcbiAgICAgIHRoaXMuJCR1cmxVcGRhdGVkQnlMb2NhdGlvbiA9IHRydWU7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuJCRwYXJzZUxpbmtVcmwgPSBmdW5jdGlvbiAodXJsLCByZWxIcmVmKSB7XHJcbiAgICAgIGlmIChzdHJpcEhhc2goYXBwQmFzZSkgPT09IHN0cmlwSGFzaCh1cmwpKSB7XHJcbiAgICAgICAgdGhpcy4kJHBhcnNlKHVybCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIExvY2F0aW9uSGFzaGJhbmdVcmwgcmVwcmVzZW50cyBVUkxcclxuICAgKiBUaGlzIG9iamVjdCBpcyBleHBvc2VkIGFzICRsb2NhdGlvbiBzZXJ2aWNlIHdoZW4gaHRtbDUgaGlzdG9yeSBhcGkgaXMgZW5hYmxlZCBidXQgdGhlIGJyb3dzZXJcclxuICAgKiBkb2VzIG5vdCBzdXBwb3J0IGl0LlxyXG4gICAqXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IGFwcEJhc2UgYXBwbGljYXRpb24gYmFzZSBVUkxcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gYXBwQmFzZU5vRmlsZSBhcHBsaWNhdGlvbiBiYXNlIFVSTCBzdHJpcHBlZCBvZiBhbnkgZmlsZW5hbWVcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gaGFzaFByZWZpeCBoYXNoYmFuZyBwcmVmaXhcclxuICAgKi9cclxuICBmdW5jdGlvbiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybChhcHBCYXNlLCBhcHBCYXNlTm9GaWxlLCBoYXNoUHJlZml4KSB7XHJcbiAgICB0aGlzLiQkaHRtbDUgPSB0cnVlO1xyXG4gICAgTG9jYXRpb25IYXNoYmFuZ1VybC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG5cclxuICAgIHRoaXMuJCRwYXJzZUxpbmtVcmwgPSBmdW5jdGlvbiAodXJsLCByZWxIcmVmKSB7XHJcbiAgICAgIGlmIChyZWxIcmVmICYmIHJlbEhyZWZbMF0gPT09ICcjJykge1xyXG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgbGlua3MgdG8gaGFzaCBmcmFnbWVudHM6XHJcbiAgICAgICAgLy8ga2VlcCB0aGUgb2xkIHVybCBhbmQgb25seSByZXBsYWNlIHRoZSBoYXNoIGZyYWdtZW50XHJcbiAgICAgICAgdGhpcy5oYXNoKHJlbEhyZWYuc2xpY2UoMSkpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgcmV3cml0dGVuVXJsO1xyXG4gICAgICB2YXIgYXBwVXJsO1xyXG5cclxuICAgICAgaWYgKGFwcEJhc2UgPT09IHN0cmlwSGFzaCh1cmwpKSB7XHJcbiAgICAgICAgcmV3cml0dGVuVXJsID0gdXJsO1xyXG4gICAgICB9IGVsc2UgaWYgKGFwcFVybCA9IHN0cmlwQmFzZVVybChhcHBCYXNlTm9GaWxlLCB1cmwpKSB7XHJcbiAgICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZSArIGhhc2hQcmVmaXggKyBhcHBVcmw7XHJcbiAgICAgIH0gZWxzZSBpZiAoYXBwQmFzZU5vRmlsZSA9PT0gdXJsICsgJy8nKSB7XHJcbiAgICAgICAgcmV3cml0dGVuVXJsID0gYXBwQmFzZU5vRmlsZTtcclxuICAgICAgfVxyXG4gICAgICBpZiAocmV3cml0dGVuVXJsKSB7XHJcbiAgICAgICAgdGhpcy4kJHBhcnNlKHJld3JpdHRlblVybCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuICEhcmV3cml0dGVuVXJsO1xyXG4gICAgfTtcclxuXHJcbiAgICB0aGlzLiQkY29tcG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIHNlYXJjaCA9IHRvS2V5VmFsdWUodGhpcy4kJHNlYXJjaCksXHJcbiAgICAgICAgICBoYXNoID0gdGhpcy4kJGhhc2ggPyAnIycgKyBlbmNvZGVVcmlTZWdtZW50KHRoaXMuJCRoYXNoKSA6ICcnO1xyXG5cclxuICAgICAgdGhpcy4kJHVybCA9IGVuY29kZVBhdGgodGhpcy4kJHBhdGgpICsgKHNlYXJjaCA/ICc/JyArIHNlYXJjaCA6ICcnKSArIGhhc2g7XHJcbiAgICAgIC8vIGluY2x1ZGUgaGFzaFByZWZpeCBpbiAkJGFic1VybCB3aGVuICQkdXJsIGlzIGVtcHR5IHNvIElFOSBkb2VzIG5vdCByZWxvYWQgcGFnZSBiZWNhdXNlIG9mIHJlbW92YWwgb2YgJyMnXHJcbiAgICAgIHRoaXMuJCRhYnNVcmwgPSBhcHBCYXNlICsgaGFzaFByZWZpeCArIHRoaXMuJCR1cmw7XHJcblxyXG4gICAgICB0aGlzLiQkdXJsVXBkYXRlZEJ5TG9jYXRpb24gPSB0cnVlO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHZhciBsb2NhdGlvblByb3RvdHlwZSA9IHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEVuc3VyZSBhYnNvbHV0ZSBVUkwgaXMgaW5pdGlhbGl6ZWQuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICAkJGFic1VybDogJycsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcmUgd2UgaW4gaHRtbDUgbW9kZT9cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgICQkaHRtbDU6IGZhbHNlLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogSGFzIGFueSBjaGFuZ2UgYmVlbiByZXBsYWNpbmc/XHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICAkJHJlcGxhY2U6IGZhbHNlLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGxvY2F0aW9uI2Fic1VybFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIGZ1bGwgVVJMIHJlcHJlc2VudGF0aW9uIHdpdGggYWxsIHNlZ21lbnRzIGVuY29kZWQgYWNjb3JkaW5nIHRvIHJ1bGVzIHNwZWNpZmllZCBpblxyXG4gICAgICogW1JGQyAzOTg2XShodHRwOi8vd3d3LmlldGYub3JnL3JmYy9yZmMzOTg2LnR4dCkuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAvLyBnaXZlbiBVUkwgaHR0cDovL2V4YW1wbGUuY29tLyMvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cclxuICAgICAqIHZhciBhYnNVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XHJcbiAgICAgKiAvLyA9PiBcImh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXCJcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gZnVsbCBVUkxcclxuICAgICAqL1xyXG4gICAgYWJzVXJsOiBsb2NhdGlvbkdldHRlcignJCRhYnNVcmwnKSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRsb2NhdGlvbiN1cmxcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm4gVVJMIChlLmcuIGAvcGF0aD9hPWIjaGFzaGApIHdoZW4gY2FsbGVkIHdpdGhvdXQgYW55IHBhcmFtZXRlci5cclxuICAgICAqXHJcbiAgICAgKiBDaGFuZ2UgcGF0aCwgc2VhcmNoIGFuZCBoYXNoLCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICAgKiB2YXIgdXJsID0gJGxvY2F0aW9uLnVybCgpO1xyXG4gICAgICogLy8gPT4gXCIvc29tZS9wYXRoP2Zvbz1iYXImYmF6PXhveG9cIlxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSB1cmwgTmV3IFVSTCB3aXRob3V0IGJhc2UgcHJlZml4IChlLmcuIGAvcGF0aD9hPWIjaGFzaGApXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHVybFxyXG4gICAgICovXHJcbiAgICB1cmw6IGZ1bmN0aW9uIHVybChfdXJsKSB7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChfdXJsKSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiQkdXJsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgbWF0Y2ggPSBQQVRIX01BVENILmV4ZWMoX3VybCk7XHJcbiAgICAgIGlmIChtYXRjaFsxXSB8fCBfdXJsID09PSAnJykgdGhpcy5wYXRoKGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFsxXSkpO1xyXG4gICAgICBpZiAobWF0Y2hbMl0gfHwgbWF0Y2hbMV0gfHwgX3VybCA9PT0gJycpIHRoaXMuc2VhcmNoKG1hdGNoWzNdIHx8ICcnKTtcclxuICAgICAgdGhpcy5oYXNoKG1hdGNoWzVdIHx8ICcnKTtcclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRsb2NhdGlvbiNwcm90b2NvbFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogVGhpcyBtZXRob2QgaXMgZ2V0dGVyIG9ubHkuXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIHByb3RvY29sIG9mIGN1cnJlbnQgVVJMLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICAgKiB2YXIgcHJvdG9jb2wgPSAkbG9jYXRpb24ucHJvdG9jb2woKTtcclxuICAgICAqIC8vID0+IFwiaHR0cFwiXHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHByb3RvY29sIG9mIGN1cnJlbnQgVVJMXHJcbiAgICAgKi9cclxuICAgIHByb3RvY29sOiBsb2NhdGlvbkdldHRlcignJCRwcm90b2NvbCcpLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGxvY2F0aW9uI2hvc3RcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxyXG4gICAgICpcclxuICAgICAqIFJldHVybiBob3N0IG9mIGN1cnJlbnQgVVJMLlxyXG4gICAgICpcclxuICAgICAqIE5vdGU6IGNvbXBhcmVkIHRvIHRoZSBub24tYW5ndWxhciB2ZXJzaW9uIGBsb2NhdGlvbi5ob3N0YCB3aGljaCByZXR1cm5zIGBob3N0bmFtZTpwb3J0YCwgdGhpcyByZXR1cm5zIHRoZSBgaG9zdG5hbWVgIHBvcnRpb24gb25seS5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIGdpdmVuIFVSTCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xyXG4gICAgICogdmFyIGhvc3QgPSAkbG9jYXRpb24uaG9zdCgpO1xyXG4gICAgICogLy8gPT4gXCJleGFtcGxlLmNvbVwiXHJcbiAgICAgKlxyXG4gICAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly91c2VyOnBhc3N3b3JkQGV4YW1wbGUuY29tOjgwODAvIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94b1xyXG4gICAgICogaG9zdCA9ICRsb2NhdGlvbi5ob3N0KCk7XHJcbiAgICAgKiAvLyA9PiBcImV4YW1wbGUuY29tXCJcclxuICAgICAqIGhvc3QgPSBsb2NhdGlvbi5ob3N0O1xyXG4gICAgICogLy8gPT4gXCJleGFtcGxlLmNvbTo4MDgwXCJcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gaG9zdCBvZiBjdXJyZW50IFVSTC5cclxuICAgICAqL1xyXG4gICAgaG9zdDogbG9jYXRpb25HZXR0ZXIoJyQkaG9zdCcpLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGxvY2F0aW9uI3BvcnRcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciBvbmx5LlxyXG4gICAgICpcclxuICAgICAqIFJldHVybiBwb3J0IG9mIGN1cnJlbnQgVVJMLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICAgKiB2YXIgcG9ydCA9ICRsb2NhdGlvbi5wb3J0KCk7XHJcbiAgICAgKiAvLyA9PiA4MFxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7TnVtYmVyfSBwb3J0XHJcbiAgICAgKi9cclxuICAgIHBvcnQ6IGxvY2F0aW9uR2V0dGVyKCckJHBvcnQnKSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRsb2NhdGlvbiNwYXRoXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIHBhdGggb2YgY3VycmVudCBVUkwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIENoYW5nZSBwYXRoIHdoZW4gY2FsbGVkIHdpdGggcGFyYW1ldGVyIGFuZCByZXR1cm4gYCRsb2NhdGlvbmAuXHJcbiAgICAgKlxyXG4gICAgICogTm90ZTogUGF0aCBzaG91bGQgYWx3YXlzIGJlZ2luIHdpdGggZm9yd2FyZCBzbGFzaCAoLyksIHRoaXMgbWV0aG9kIHdpbGwgYWRkIHRoZSBmb3J3YXJkIHNsYXNoXHJcbiAgICAgKiBpZiBpdCBpcyBtaXNzaW5nLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICAgKiB2YXIgcGF0aCA9ICRsb2NhdGlvbi5wYXRoKCk7XHJcbiAgICAgKiAvLyA9PiBcIi9zb21lL3BhdGhcIlxyXG4gICAgICogYGBgXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfG51bWJlcik9fSBwYXRoIE5ldyBwYXRoXHJcbiAgICAgKiBAcmV0dXJuIHsoc3RyaW5nfG9iamVjdCl9IHBhdGggaWYgY2FsbGVkIHdpdGggbm8gcGFyYW1ldGVycywgb3IgYCRsb2NhdGlvbmAgaWYgY2FsbGVkIHdpdGggYSBwYXJhbWV0ZXJcclxuICAgICAqL1xyXG4gICAgcGF0aDogbG9jYXRpb25HZXR0ZXJTZXR0ZXIoJyQkcGF0aCcsIGZ1bmN0aW9uIChwYXRoKSB7XHJcbiAgICAgIHBhdGggPSBwYXRoICE9PSBudWxsID8gcGF0aC50b1N0cmluZygpIDogJyc7XHJcbiAgICAgIHJldHVybiBwYXRoLmNoYXJBdCgwKSA9PT0gJy8nID8gcGF0aCA6ICcvJyArIHBhdGg7XHJcbiAgICB9KSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRsb2NhdGlvbiNzZWFyY2hcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGdldHRlciAvIHNldHRlci5cclxuICAgICAqXHJcbiAgICAgKiBSZXR1cm4gc2VhcmNoIHBhcnQgKGFzIG9iamVjdCkgb2YgY3VycmVudCBVUkwgd2hlbiBjYWxsZWQgd2l0aG91dCBhbnkgcGFyYW1ldGVyLlxyXG4gICAgICpcclxuICAgICAqIENoYW5nZSBzZWFyY2ggcGFydCB3aGVuIGNhbGxlZCB3aXRoIHBhcmFtZXRlciBhbmQgcmV0dXJuIGAkbG9jYXRpb25gLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBgYGBqc1xyXG4gICAgICogLy8gZ2l2ZW4gVVJMIGh0dHA6Ly9leGFtcGxlLmNvbS8jL3NvbWUvcGF0aD9mb289YmFyJmJhej14b3hvXHJcbiAgICAgKiB2YXIgc2VhcmNoT2JqZWN0ID0gJGxvY2F0aW9uLnNlYXJjaCgpO1xyXG4gICAgICogLy8gPT4ge2ZvbzogJ2JhcicsIGJhejogJ3hveG8nfVxyXG4gICAgICpcclxuICAgICAqIC8vIHNldCBmb28gdG8gJ3lpcGVlJ1xyXG4gICAgICogJGxvY2F0aW9uLnNlYXJjaCgnZm9vJywgJ3lpcGVlJyk7XHJcbiAgICAgKiAvLyAkbG9jYXRpb24uc2VhcmNoKCkgPT4ge2ZvbzogJ3lpcGVlJywgYmF6OiAneG94byd9XHJcbiAgICAgKiBgYGBcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xPYmplY3QuPHN0cmluZz58T2JqZWN0LjxBcnJheS48c3RyaW5nPj59IHNlYXJjaCBOZXcgc2VhcmNoIHBhcmFtcyAtIHN0cmluZyBvclxyXG4gICAgICogaGFzaCBvYmplY3QuXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudCB0aGUgbWV0aG9kIGFjdHMgYXMgYSBzZXR0ZXIsIHNldHRpbmcgdGhlIGBzZWFyY2hgIGNvbXBvbmVudFxyXG4gICAgICogb2YgYCRsb2NhdGlvbmAgdG8gdGhlIHNwZWNpZmllZCB2YWx1ZS5cclxuICAgICAqXHJcbiAgICAgKiBJZiB0aGUgYXJndW1lbnQgaXMgYSBoYXNoIG9iamVjdCBjb250YWluaW5nIGFuIGFycmF5IG9mIHZhbHVlcywgdGhlc2UgdmFsdWVzIHdpbGwgYmUgZW5jb2RlZFxyXG4gICAgICogYXMgZHVwbGljYXRlIHNlYXJjaCBwYXJhbWV0ZXJzIGluIHRoZSBVUkwuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsoc3RyaW5nfE51bWJlcnxBcnJheTxzdHJpbmc+fGJvb2xlYW4pPX0gcGFyYW1WYWx1ZSBJZiBgc2VhcmNoYCBpcyBhIHN0cmluZyBvciBudW1iZXIsIHRoZW4gYHBhcmFtVmFsdWVgXHJcbiAgICAgKiB3aWxsIG92ZXJyaWRlIG9ubHkgYSBzaW5nbGUgc2VhcmNoIHByb3BlcnR5LlxyXG4gICAgICpcclxuICAgICAqIElmIGBwYXJhbVZhbHVlYCBpcyBhbiBhcnJheSwgaXQgd2lsbCBvdmVycmlkZSB0aGUgcHJvcGVydHkgb2YgdGhlIGBzZWFyY2hgIGNvbXBvbmVudCBvZlxyXG4gICAgICogYCRsb2NhdGlvbmAgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogSWYgYHBhcmFtVmFsdWVgIGlzIGBudWxsYCwgdGhlIHByb3BlcnR5IHNwZWNpZmllZCB2aWEgdGhlIGZpcnN0IGFyZ3VtZW50IHdpbGwgYmUgZGVsZXRlZC5cclxuICAgICAqXHJcbiAgICAgKiBJZiBgcGFyYW1WYWx1ZWAgaXMgYHRydWVgLCB0aGUgcHJvcGVydHkgc3BlY2lmaWVkIHZpYSB0aGUgZmlyc3QgYXJndW1lbnQgd2lsbCBiZSBhZGRlZCB3aXRoIG5vXHJcbiAgICAgKiB2YWx1ZSBub3IgdHJhaWxpbmcgZXF1YWwgc2lnbi5cclxuICAgICAqXHJcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IElmIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIHRoZSBwYXJzZWQgYHNlYXJjaGAgb2JqZWN0LiBJZiBjYWxsZWQgd2l0aFxyXG4gICAgICogb25lIG9yIG1vcmUgYXJndW1lbnRzIHJldHVybnMgYCRsb2NhdGlvbmAgb2JqZWN0IGl0c2VsZi5cclxuICAgICAqL1xyXG4gICAgc2VhcmNoOiBmdW5jdGlvbiBzZWFyY2goX3NlYXJjaCwgcGFyYW1WYWx1ZSkge1xyXG4gICAgICBzd2l0Y2ggKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy4kJHNlYXJjaDtcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICBpZiAoaXNTdHJpbmcoX3NlYXJjaCkgfHwgaXNOdW1iZXIoX3NlYXJjaCkpIHtcclxuICAgICAgICAgICAgX3NlYXJjaCA9IF9zZWFyY2gudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgdGhpcy4kJHNlYXJjaCA9IHBhcnNlS2V5VmFsdWUoX3NlYXJjaCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KF9zZWFyY2gpKSB7XHJcbiAgICAgICAgICAgIF9zZWFyY2ggPSBjb3B5KF9zZWFyY2gsIHt9KTtcclxuICAgICAgICAgICAgLy8gcmVtb3ZlIG9iamVjdCB1bmRlZmluZWQgb3IgbnVsbCBwcm9wZXJ0aWVzXHJcbiAgICAgICAgICAgIGZvckVhY2goX3NlYXJjaCwgZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkgZGVsZXRlIF9zZWFyY2hba2V5XTtcclxuICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICB0aGlzLiQkc2VhcmNoID0gX3NlYXJjaDtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93ICRsb2NhdGlvbk1pbkVycignaXNyY2hhcmcnLCAnVGhlIGZpcnN0IGFyZ3VtZW50IG9mIHRoZSBgJGxvY2F0aW9uI3NlYXJjaCgpYCBjYWxsIG11c3QgYmUgYSBzdHJpbmcgb3IgYW4gb2JqZWN0LicpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChwYXJhbVZhbHVlKSB8fCBwYXJhbVZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLiQkc2VhcmNoW19zZWFyY2hdO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy4kJHNlYXJjaFtfc2VhcmNoXSA9IHBhcmFtVmFsdWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMuJCRjb21wb3NlKCk7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRsb2NhdGlvbiNoYXNoXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJucyB0aGUgaGFzaCBmcmFnbWVudCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXJzLlxyXG4gICAgICpcclxuICAgICAqIENoYW5nZXMgdGhlIGhhc2ggZnJhZ21lbnQgd2hlbiBjYWxsZWQgd2l0aCBhIHBhcmFtZXRlciBhbmQgcmV0dXJucyBgJGxvY2F0aW9uYC5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogYGBganNcclxuICAgICAqIC8vIGdpdmVuIFVSTCBodHRwOi8vZXhhbXBsZS5jb20vIy9zb21lL3BhdGg/Zm9vPWJhciZiYXo9eG94byNoYXNoVmFsdWVcclxuICAgICAqIHZhciBoYXNoID0gJGxvY2F0aW9uLmhhc2goKTtcclxuICAgICAqIC8vID0+IFwiaGFzaFZhbHVlXCJcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7KHN0cmluZ3xudW1iZXIpPX0gaGFzaCBOZXcgaGFzaCBmcmFnbWVudFxyXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBoYXNoXHJcbiAgICAgKi9cclxuICAgIGhhc2g6IGxvY2F0aW9uR2V0dGVyU2V0dGVyKCckJGhhc2gnLCBmdW5jdGlvbiAoaGFzaCkge1xyXG4gICAgICByZXR1cm4gaGFzaCAhPT0gbnVsbCA/IGhhc2gudG9TdHJpbmcoKSA6ICcnO1xyXG4gICAgfSksXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkbG9jYXRpb24jcmVwbGFjZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogSWYgY2FsbGVkLCBhbGwgY2hhbmdlcyB0byAkbG9jYXRpb24gZHVyaW5nIHRoZSBjdXJyZW50IGAkZGlnZXN0YCB3aWxsIHJlcGxhY2UgdGhlIGN1cnJlbnQgaGlzdG9yeVxyXG4gICAgICogcmVjb3JkLCBpbnN0ZWFkIG9mIGFkZGluZyBhIG5ldyBvbmUuXHJcbiAgICAgKi9cclxuICAgIHJlcGxhY2U6IGZ1bmN0aW9uIHJlcGxhY2UoKSB7XHJcbiAgICAgIHRoaXMuJCRyZXBsYWNlID0gdHJ1ZTtcclxuICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZm9yRWFjaChbTG9jYXRpb25IYXNoYmFuZ0luSHRtbDVVcmwsIExvY2F0aW9uSGFzaGJhbmdVcmwsIExvY2F0aW9uSHRtbDVVcmxdLCBmdW5jdGlvbiAoTG9jYXRpb24pIHtcclxuICAgIExvY2F0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUobG9jYXRpb25Qcm90b3R5cGUpO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGxvY2F0aW9uI3N0YXRlXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBnZXR0ZXIgLyBzZXR0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJuIHRoZSBoaXN0b3J5IHN0YXRlIG9iamVjdCB3aGVuIGNhbGxlZCB3aXRob3V0IGFueSBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogQ2hhbmdlIHRoZSBoaXN0b3J5IHN0YXRlIG9iamVjdCB3aGVuIGNhbGxlZCB3aXRoIG9uZSBwYXJhbWV0ZXIgYW5kIHJldHVybiBgJGxvY2F0aW9uYC5cclxuICAgICAqIFRoZSBzdGF0ZSBvYmplY3QgaXMgbGF0ZXIgcGFzc2VkIHRvIGBwdXNoU3RhdGVgIG9yIGByZXBsYWNlU3RhdGVgLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IFRoaXMgbWV0aG9kIGlzIHN1cHBvcnRlZCBvbmx5IGluIEhUTUw1IG1vZGUgYW5kIG9ubHkgaW4gYnJvd3NlcnMgc3VwcG9ydGluZ1xyXG4gICAgICogdGhlIEhUTUw1IEhpc3RvcnkgQVBJIChpLmUuIG1ldGhvZHMgYHB1c2hTdGF0ZWAgYW5kIGByZXBsYWNlU3RhdGVgKS4gSWYgeW91IG5lZWQgdG8gc3VwcG9ydFxyXG4gICAgICogb2xkZXIgYnJvd3NlcnMgKGxpa2UgSUU5IG9yIEFuZHJvaWQgPCA0LjApLCBkb24ndCB1c2UgdGhpcyBtZXRob2QuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtvYmplY3Q9fSBzdGF0ZSBTdGF0ZSBvYmplY3QgZm9yIHB1c2hTdGF0ZSBvciByZXBsYWNlU3RhdGVcclxuICAgICAqIEByZXR1cm4ge29iamVjdH0gc3RhdGVcclxuICAgICAqL1xyXG4gICAgTG9jYXRpb24ucHJvdG90eXBlLnN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XHJcbiAgICAgIGlmICghYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLiQkc3RhdGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChMb2NhdGlvbiAhPT0gTG9jYXRpb25IdG1sNVVybCB8fCAhdGhpcy4kJGh0bWw1KSB7XHJcbiAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub3N0YXRlJywgJ0hpc3RvcnkgQVBJIHN0YXRlIHN1cHBvcnQgaXMgYXZhaWxhYmxlIG9ubHkgJyArICdpbiBIVE1MNSBtb2RlIGFuZCBvbmx5IGluIGJyb3dzZXJzIHN1cHBvcnRpbmcgSFRNTDUgSGlzdG9yeSBBUEknKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBUaGUgdXNlciBtaWdodCBtb2RpZnkgYHN0YXRlT2JqZWN0YCBhZnRlciBpbnZva2luZyBgJGxvY2F0aW9uLnN0YXRlKHN0YXRlT2JqZWN0KWBcclxuICAgICAgLy8gYnV0IHdlJ3JlIGNoYW5naW5nIHRoZSAkJHN0YXRlIHJlZmVyZW5jZSB0byAkYnJvd3Nlci5zdGF0ZSgpIGR1cmluZyB0aGUgJGRpZ2VzdFxyXG4gICAgICAvLyBzbyB0aGUgbW9kaWZpY2F0aW9uIHdpbmRvdyBpcyBuYXJyb3cuXHJcbiAgICAgIHRoaXMuJCRzdGF0ZSA9IGlzVW5kZWZpbmVkKHN0YXRlKSA/IG51bGwgOiBzdGF0ZTtcclxuICAgICAgdGhpcy4kJHVybFVwZGF0ZWRCeUxvY2F0aW9uID0gdHJ1ZTtcclxuXHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gbG9jYXRpb25HZXR0ZXIocHJvcGVydHkpIHtcclxuICAgIHJldHVybiAoLyoqIEB0aGlzICovZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcclxuICAgICAgfVxyXG4gICAgKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGxvY2F0aW9uR2V0dGVyU2V0dGVyKHByb3BlcnR5LCBwcmVwcm9jZXNzKSB7XHJcbiAgICByZXR1cm4gKC8qKiBAdGhpcyAqL2Z1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgIHJldHVybiB0aGlzW3Byb3BlcnR5XTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gcHJlcHJvY2Vzcyh2YWx1ZSk7XHJcbiAgICAgICAgdGhpcy4kJGNvbXBvc2UoKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRsb2NhdGlvblxyXG4gICAqXHJcbiAgICogQHJlcXVpcmVzICRyb290RWxlbWVudFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhlICRsb2NhdGlvbiBzZXJ2aWNlIHBhcnNlcyB0aGUgVVJMIGluIHRoZSBicm93c2VyIGFkZHJlc3MgYmFyIChiYXNlZCBvbiB0aGVcclxuICAgKiBbd2luZG93LmxvY2F0aW9uXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi93aW5kb3cubG9jYXRpb24pKSBhbmQgbWFrZXMgdGhlIFVSTFxyXG4gICAqIGF2YWlsYWJsZSB0byB5b3VyIGFwcGxpY2F0aW9uLiBDaGFuZ2VzIHRvIHRoZSBVUkwgaW4gdGhlIGFkZHJlc3MgYmFyIGFyZSByZWZsZWN0ZWQgaW50b1xyXG4gICAqICRsb2NhdGlvbiBzZXJ2aWNlIGFuZCBjaGFuZ2VzIHRvICRsb2NhdGlvbiBhcmUgcmVmbGVjdGVkIGludG8gdGhlIGJyb3dzZXIgYWRkcmVzcyBiYXIuXHJcbiAgICpcclxuICAgKiAqKlRoZSAkbG9jYXRpb24gc2VydmljZToqKlxyXG4gICAqXHJcbiAgICogLSBFeHBvc2VzIHRoZSBjdXJyZW50IFVSTCBpbiB0aGUgYnJvd3NlciBhZGRyZXNzIGJhciwgc28geW91IGNhblxyXG4gICAqICAgLSBXYXRjaCBhbmQgb2JzZXJ2ZSB0aGUgVVJMLlxyXG4gICAqICAgLSBDaGFuZ2UgdGhlIFVSTC5cclxuICAgKiAtIFN5bmNocm9uaXplcyB0aGUgVVJMIHdpdGggdGhlIGJyb3dzZXIgd2hlbiB0aGUgdXNlclxyXG4gICAqICAgLSBDaGFuZ2VzIHRoZSBhZGRyZXNzIGJhci5cclxuICAgKiAgIC0gQ2xpY2tzIHRoZSBiYWNrIG9yIGZvcndhcmQgYnV0dG9uIChvciBjbGlja3MgYSBIaXN0b3J5IGxpbmspLlxyXG4gICAqICAgLSBDbGlja3Mgb24gYSBsaW5rLlxyXG4gICAqIC0gUmVwcmVzZW50cyB0aGUgVVJMIG9iamVjdCBhcyBhIHNldCBvZiBtZXRob2RzIChwcm90b2NvbCwgaG9zdCwgcG9ydCwgcGF0aCwgc2VhcmNoLCBoYXNoKS5cclxuICAgKlxyXG4gICAqIEZvciBtb3JlIGluZm9ybWF0aW9uIHNlZSB7QGxpbmsgZ3VpZGUvJGxvY2F0aW9uIERldmVsb3BlciBHdWlkZTogVXNpbmcgJGxvY2F0aW9ufVxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvdmlkZXJcclxuICAgKiBAbmFtZSAkbG9jYXRpb25Qcm92aWRlclxyXG4gICAqIEB0aGlzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBVc2UgdGhlIGAkbG9jYXRpb25Qcm92aWRlcmAgdG8gY29uZmlndXJlIGhvdyB0aGUgYXBwbGljYXRpb24gZGVlcCBsaW5raW5nIHBhdGhzIGFyZSBzdG9yZWQuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gJExvY2F0aW9uUHJvdmlkZXIoKSB7XHJcbiAgICB2YXIgaGFzaFByZWZpeCA9ICchJyxcclxuICAgICAgICBodG1sNU1vZGUgPSB7XHJcbiAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICByZXF1aXJlQmFzZTogdHJ1ZSxcclxuICAgICAgcmV3cml0ZUxpbmtzOiB0cnVlXHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGxvY2F0aW9uUHJvdmlkZXIjaGFzaFByZWZpeFxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGUgZGVmYXVsdCB2YWx1ZSBmb3IgdGhlIHByZWZpeCBpcyBgJyEnYC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcHJlZml4IFByZWZpeCBmb3IgaGFzaCBwYXJ0IChjb250YWluaW5nIHBhdGggYW5kIHNlYXJjaClcclxuICAgICAqIEByZXR1cm5zIHsqfSBjdXJyZW50IHZhbHVlIGlmIHVzZWQgYXMgZ2V0dGVyIG9yIGl0c2VsZiAoY2hhaW5pbmcpIGlmIHVzZWQgYXMgc2V0dGVyXHJcbiAgICAgKi9cclxuICAgIHRoaXMuaGFzaFByZWZpeCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcclxuICAgICAgaWYgKGlzRGVmaW5lZChwcmVmaXgpKSB7XHJcbiAgICAgICAgaGFzaFByZWZpeCA9IHByZWZpeDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gaGFzaFByZWZpeDtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRsb2NhdGlvblByb3ZpZGVyI2h0bWw1TW9kZVxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBAcGFyYW0geyhib29sZWFufE9iamVjdCk9fSBtb2RlIElmIGJvb2xlYW4sIHNldHMgYGh0bWw1TW9kZS5lbmFibGVkYCB0byB2YWx1ZS5cclxuICAgICAqICAgSWYgb2JqZWN0LCBzZXRzIGBlbmFibGVkYCwgYHJlcXVpcmVCYXNlYCBhbmQgYHJld3JpdGVMaW5rc2AgdG8gcmVzcGVjdGl2ZSB2YWx1ZXMuIFN1cHBvcnRlZFxyXG4gICAgICogICBwcm9wZXJ0aWVzOlxyXG4gICAgICogICAtICoqZW5hYmxlZCoqIOKAkyBge2Jvb2xlYW59YCDigJMgKGRlZmF1bHQ6IGZhbHNlKSBJZiB0cnVlLCB3aWxsIHJlbHkgb24gYGhpc3RvcnkucHVzaFN0YXRlYCB0b1xyXG4gICAgICogICAgIGNoYW5nZSB1cmxzIHdoZXJlIHN1cHBvcnRlZC4gV2lsbCBmYWxsIGJhY2sgdG8gaGFzaC1wcmVmaXhlZCBwYXRocyBpbiBicm93c2VycyB0aGF0IGRvIG5vdFxyXG4gICAgICogICAgIHN1cHBvcnQgYHB1c2hTdGF0ZWAuXHJcbiAgICAgKiAgIC0gKipyZXF1aXJlQmFzZSoqIC0gYHtib29sZWFufWAgLSAoZGVmYXVsdDogYHRydWVgKSBXaGVuIGh0bWw1TW9kZSBpcyBlbmFibGVkLCBzcGVjaWZpZXNcclxuICAgICAqICAgICB3aGV0aGVyIG9yIG5vdCBhIDxiYXNlPiB0YWcgaXMgcmVxdWlyZWQgdG8gYmUgcHJlc2VudC4gSWYgYGVuYWJsZWRgIGFuZCBgcmVxdWlyZUJhc2VgIGFyZVxyXG4gICAgICogICAgIHRydWUsIGFuZCBhIGJhc2UgdGFnIGlzIG5vdCBwcmVzZW50LCBhbiBlcnJvciB3aWxsIGJlIHRocm93biB3aGVuIGAkbG9jYXRpb25gIGlzIGluamVjdGVkLlxyXG4gICAgICogICAgIFNlZSB0aGUge0BsaW5rIGd1aWRlLyRsb2NhdGlvbiAkbG9jYXRpb24gZ3VpZGUgZm9yIG1vcmUgaW5mb3JtYXRpb259XHJcbiAgICAgKiAgIC0gKipyZXdyaXRlTGlua3MqKiAtIGB7Ym9vbGVhbnxzdHJpbmd9YCAtIChkZWZhdWx0OiBgdHJ1ZWApIFdoZW4gaHRtbDVNb2RlIGlzIGVuYWJsZWQsXHJcbiAgICAgKiAgICAgZW5hYmxlcy9kaXNhYmxlcyBVUkwgcmV3cml0aW5nIGZvciByZWxhdGl2ZSBsaW5rcy4gSWYgc2V0IHRvIGEgc3RyaW5nLCBVUkwgcmV3cml0aW5nIHdpbGxcclxuICAgICAqICAgICBvbmx5IGhhcHBlbiBvbiBsaW5rcyB3aXRoIGFuIGF0dHJpYnV0ZSB0aGF0IG1hdGNoZXMgdGhlIGdpdmVuIHN0cmluZy4gRm9yIGV4YW1wbGUsIGlmIHNldFxyXG4gICAgICogICAgIHRvIGAnaW50ZXJuYWwtbGluaydgLCB0aGVuIHRoZSBVUkwgd2lsbCBvbmx5IGJlIHJld3JpdHRlbiBmb3IgYDxhIGludGVybmFsLWxpbms+YCBsaW5rcy5cclxuICAgICAqICAgICBOb3RlIHRoYXQgW2F0dHJpYnV0ZSBuYW1lIG5vcm1hbGl6YXRpb25dKGd1aWRlL2RpcmVjdGl2ZSNub3JtYWxpemF0aW9uKSBkb2VzIG5vdCBhcHBseVxyXG4gICAgICogICAgIGhlcmUsIHNvIGAnaW50ZXJuYWxMaW5rJ2Agd2lsbCAqKm5vdCoqIG1hdGNoIGAnaW50ZXJuYWwtbGluaydgLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IGh0bWw1TW9kZSBvYmplY3QgaWYgdXNlZCBhcyBnZXR0ZXIgb3IgaXRzZWxmIChjaGFpbmluZykgaWYgdXNlZCBhcyBzZXR0ZXJcclxuICAgICAqL1xyXG4gICAgdGhpcy5odG1sNU1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG4gICAgICBpZiAoaXNCb29sZWFuKG1vZGUpKSB7XHJcbiAgICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzT2JqZWN0KG1vZGUpKSB7XHJcblxyXG4gICAgICAgIGlmIChpc0Jvb2xlYW4obW9kZS5lbmFibGVkKSkge1xyXG4gICAgICAgICAgaHRtbDVNb2RlLmVuYWJsZWQgPSBtb2RlLmVuYWJsZWQ7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNCb29sZWFuKG1vZGUucmVxdWlyZUJhc2UpKSB7XHJcbiAgICAgICAgICBodG1sNU1vZGUucmVxdWlyZUJhc2UgPSBtb2RlLnJlcXVpcmVCYXNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGlzQm9vbGVhbihtb2RlLnJld3JpdGVMaW5rcykgfHwgaXNTdHJpbmcobW9kZS5yZXdyaXRlTGlua3MpKSB7XHJcbiAgICAgICAgICBodG1sNU1vZGUucmV3cml0ZUxpbmtzID0gbW9kZS5yZXdyaXRlTGlua3M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gaHRtbDVNb2RlO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIGV2ZW50XHJcbiAgICAgKiBAbmFtZSAkbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3RhcnRcclxuICAgICAqIEBldmVudFR5cGUgYnJvYWRjYXN0IG9uIHJvb3Qgc2NvcGVcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogQnJvYWRjYXN0ZWQgYmVmb3JlIGEgVVJMIHdpbGwgY2hhbmdlLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgY2hhbmdlIGNhbiBiZSBwcmV2ZW50ZWQgYnkgY2FsbGluZ1xyXG4gICAgICogYHByZXZlbnREZWZhdWx0YCBtZXRob2Qgb2YgdGhlIGV2ZW50LiBTZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSBmb3IgbW9yZVxyXG4gICAgICogZGV0YWlscyBhYm91dCBldmVudCBvYmplY3QuIFVwb24gc3VjY2Vzc2Z1bCBjaGFuZ2VcclxuICAgICAqIHtAbGluayBuZy4kbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcyAkbG9jYXRpb25DaGFuZ2VTdWNjZXNzfSBpcyBmaXJlZC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxyXG4gICAgICogdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIEhUTUw1IEhpc3RvcnkgQVBJLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdVcmwgTmV3IFVSTFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRVcmwgVVJMIHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFN0YXRlIEhpc3Rvcnkgc3RhdGUgb2JqZWN0IHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cclxuICAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIGV2ZW50XHJcbiAgICAgKiBAbmFtZSAkbG9jYXRpb24jJGxvY2F0aW9uQ2hhbmdlU3VjY2Vzc1xyXG4gICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gcm9vdCBzY29wZVxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBCcm9hZGNhc3RlZCBhZnRlciBhIFVSTCB3YXMgY2hhbmdlZC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgYG5ld1N0YXRlYCBhbmQgYG9sZFN0YXRlYCBwYXJhbWV0ZXJzIG1heSBiZSBkZWZpbmVkIG9ubHkgaW4gSFRNTDUgbW9kZSBhbmQgd2hlblxyXG4gICAgICogdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIEhUTUw1IEhpc3RvcnkgQVBJLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhbmd1bGFyRXZlbnQgU3ludGhldGljIGV2ZW50IG9iamVjdC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZXdVcmwgTmV3IFVSTFxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBvbGRVcmwgVVJMIHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmV3U3RhdGUgTmV3IGhpc3Rvcnkgc3RhdGUgb2JqZWN0XHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG9sZFN0YXRlIEhpc3Rvcnkgc3RhdGUgb2JqZWN0IHRoYXQgd2FzIGJlZm9yZSBpdCB3YXMgY2hhbmdlZC5cclxuICAgICAqL1xyXG5cclxuICAgIHRoaXMuJGdldCA9IFsnJHJvb3RTY29wZScsICckYnJvd3NlcicsICckc25pZmZlcicsICckcm9vdEVsZW1lbnQnLCAnJHdpbmRvdycsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkYnJvd3NlciwgJHNuaWZmZXIsICRyb290RWxlbWVudCwgJHdpbmRvdykge1xyXG4gICAgICB2YXIgJGxvY2F0aW9uLFxyXG4gICAgICAgICAgTG9jYXRpb25Nb2RlLFxyXG4gICAgICAgICAgYmFzZUhyZWYgPSAkYnJvd3Nlci5iYXNlSHJlZigpLFxyXG4gICAgICAgICAgLy8gaWYgYmFzZVtocmVmXSBpcyB1bmRlZmluZWQsIGl0IGRlZmF1bHRzIHRvICcnXHJcbiAgICAgIGluaXRpYWxVcmwgPSAkYnJvd3Nlci51cmwoKSxcclxuICAgICAgICAgIGFwcEJhc2U7XHJcblxyXG4gICAgICBpZiAoaHRtbDVNb2RlLmVuYWJsZWQpIHtcclxuICAgICAgICBpZiAoIWJhc2VIcmVmICYmIGh0bWw1TW9kZS5yZXF1aXJlQmFzZSkge1xyXG4gICAgICAgICAgdGhyb3cgJGxvY2F0aW9uTWluRXJyKCdub2Jhc2UnLCAnJGxvY2F0aW9uIGluIEhUTUw1IG1vZGUgcmVxdWlyZXMgYSA8YmFzZT4gdGFnIHRvIGJlIHByZXNlbnQhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFwcEJhc2UgPSBzZXJ2ZXJCYXNlKGluaXRpYWxVcmwpICsgKGJhc2VIcmVmIHx8ICcvJyk7XHJcbiAgICAgICAgTG9jYXRpb25Nb2RlID0gJHNuaWZmZXIuaGlzdG9yeSA/IExvY2F0aW9uSHRtbDVVcmwgOiBMb2NhdGlvbkhhc2hiYW5nSW5IdG1sNVVybDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBhcHBCYXNlID0gc3RyaXBIYXNoKGluaXRpYWxVcmwpO1xyXG4gICAgICAgIExvY2F0aW9uTW9kZSA9IExvY2F0aW9uSGFzaGJhbmdVcmw7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIGFwcEJhc2VOb0ZpbGUgPSBzdHJpcEZpbGUoYXBwQmFzZSk7XHJcblxyXG4gICAgICAkbG9jYXRpb24gPSBuZXcgTG9jYXRpb25Nb2RlKGFwcEJhc2UsIGFwcEJhc2VOb0ZpbGUsICcjJyArIGhhc2hQcmVmaXgpO1xyXG4gICAgICAkbG9jYXRpb24uJCRwYXJzZUxpbmtVcmwoaW5pdGlhbFVybCwgaW5pdGlhbFVybCk7XHJcblxyXG4gICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9ICRicm93c2VyLnN0YXRlKCk7XHJcblxyXG4gICAgICB2YXIgSUdOT1JFX1VSSV9SRUdFWFAgPSAvXlxccyooamF2YXNjcmlwdHxtYWlsdG8pOi9pO1xyXG5cclxuICAgICAgZnVuY3Rpb24gc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayh1cmwsIHJlcGxhY2UsIHN0YXRlKSB7XHJcbiAgICAgICAgdmFyIG9sZFVybCA9ICRsb2NhdGlvbi51cmwoKTtcclxuICAgICAgICB2YXIgb2xkU3RhdGUgPSAkbG9jYXRpb24uJCRzdGF0ZTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgJGJyb3dzZXIudXJsKHVybCwgcmVwbGFjZSwgc3RhdGUpO1xyXG5cclxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSAkbG9jYXRpb24uc3RhdGUoKSByZXR1cm5zIHJlZmVyZW50aWFsbHkgaWRlbnRpY2FsIChub3QganVzdCBkZWVwbHkgZXF1YWwpXHJcbiAgICAgICAgICAvLyBzdGF0ZSBvYmplY3Q7IHRoaXMgbWFrZXMgcG9zc2libGUgcXVpY2sgY2hlY2tpbmcgaWYgdGhlIHN0YXRlIGNoYW5nZWQgaW4gdGhlIGRpZ2VzdFxyXG4gICAgICAgICAgLy8gbG9vcC4gQ2hlY2tpbmcgZGVlcCBlcXVhbGl0eSB3b3VsZCBiZSB0b28gZXhwZW5zaXZlLlxyXG4gICAgICAgICAgJGxvY2F0aW9uLiQkc3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIC8vIFJlc3RvcmUgb2xkIHZhbHVlcyBpZiBwdXNoU3RhdGUgZmFpbHNcclxuICAgICAgICAgICRsb2NhdGlvbi51cmwob2xkVXJsKTtcclxuICAgICAgICAgICRsb2NhdGlvbi4kJHN0YXRlID0gb2xkU3RhdGU7XHJcblxyXG4gICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICRyb290RWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB2YXIgcmV3cml0ZUxpbmtzID0gaHRtbDVNb2RlLnJld3JpdGVMaW5rcztcclxuICAgICAgICAvLyBUT0RPKHZvanRhKTogcmV3cml0ZSBsaW5rIHdoZW4gb3BlbmluZyBpbiBuZXcgdGFiL3dpbmRvdyAoaW4gbGVnYWN5IGJyb3dzZXIpXHJcbiAgICAgICAgLy8gY3VycmVudGx5IHdlIG9wZW4gbmljZSB1cmwgbGluayBhbmQgcmVkaXJlY3QgdGhlblxyXG5cclxuICAgICAgICBpZiAoIXJld3JpdGVMaW5rcyB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuc2hpZnRLZXkgfHwgZXZlbnQud2hpY2ggPT09IDIgfHwgZXZlbnQuYnV0dG9uID09PSAyKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciBlbG0gPSBqcUxpdGUoZXZlbnQudGFyZ2V0KTtcclxuXHJcbiAgICAgICAgLy8gdHJhdmVyc2UgdGhlIERPTSB1cCB0byBmaW5kIGZpcnN0IEEgdGFnXHJcbiAgICAgICAgd2hpbGUgKG5vZGVOYW1lXyhlbG1bMF0pICE9PSAnYScpIHtcclxuICAgICAgICAgIC8vIGlnbm9yZSByZXdyaXRpbmcgaWYgbm8gQSB0YWcgKHJlYWNoZWQgcm9vdCBlbGVtZW50LCBvciBubyBwYXJlbnQgLSByZW1vdmVkIGZyb20gZG9jdW1lbnQpXHJcbiAgICAgICAgICBpZiAoZWxtWzBdID09PSAkcm9vdEVsZW1lbnRbMF0gfHwgIShlbG0gPSBlbG0ucGFyZW50KCkpWzBdKSByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoaXNTdHJpbmcocmV3cml0ZUxpbmtzKSAmJiBpc1VuZGVmaW5lZChlbG0uYXR0cihyZXdyaXRlTGlua3MpKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgYWJzSHJlZiA9IGVsbS5wcm9wKCdocmVmJyk7XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBhY3R1YWwgaHJlZiBhdHRyaWJ1dGUgLSBzZWVcclxuICAgICAgICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaWUvZGQzNDcxNDgodj12cy44NSkuYXNweFxyXG4gICAgICAgIHZhciByZWxIcmVmID0gZWxtLmF0dHIoJ2hyZWYnKSB8fCBlbG0uYXR0cigneGxpbms6aHJlZicpO1xyXG5cclxuICAgICAgICBpZiAoaXNPYmplY3QoYWJzSHJlZikgJiYgYWJzSHJlZi50b1N0cmluZygpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nKSB7XHJcbiAgICAgICAgICAvLyBTVkdBbmltYXRlZFN0cmluZy5hbmltVmFsIHNob3VsZCBiZSBpZGVudGljYWwgdG8gU1ZHQW5pbWF0ZWRTdHJpbmcuYmFzZVZhbCwgdW5sZXNzIGR1cmluZ1xyXG4gICAgICAgICAgLy8gYW4gYW5pbWF0aW9uLlxyXG4gICAgICAgICAgYWJzSHJlZiA9IHVybFJlc29sdmUoYWJzSHJlZi5hbmltVmFsKS5ocmVmO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gSWdub3JlIHdoZW4gdXJsIGlzIHN0YXJ0ZWQgd2l0aCBqYXZhc2NyaXB0OiBvciBtYWlsdG86XHJcbiAgICAgICAgaWYgKElHTk9SRV9VUklfUkVHRVhQLnRlc3QoYWJzSHJlZikpIHJldHVybjtcclxuXHJcbiAgICAgICAgaWYgKGFic0hyZWYgJiYgIWVsbS5hdHRyKCd0YXJnZXQnKSAmJiAhZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcclxuICAgICAgICAgIGlmICgkbG9jYXRpb24uJCRwYXJzZUxpbmtVcmwoYWJzSHJlZiwgcmVsSHJlZikpIHtcclxuICAgICAgICAgICAgLy8gV2UgZG8gYSBwcmV2ZW50RGVmYXVsdCBmb3IgYWxsIHVybHMgdGhhdCBhcmUgcGFydCBvZiB0aGUgYW5ndWxhciBhcHBsaWNhdGlvbixcclxuICAgICAgICAgICAgLy8gaW4gaHRtbDVtb2RlIGFuZCBhbHNvIHdpdGhvdXQsIHNvIHRoYXQgd2UgYXJlIGFibGUgdG8gYWJvcnQgbmF2aWdhdGlvbiB3aXRob3V0XHJcbiAgICAgICAgICAgIC8vIGdldHRpbmcgZG91YmxlIGVudHJpZXMgaW4gdGhlIGxvY2F0aW9uIGhpc3RvcnkuXHJcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBsb2NhdGlvbiBtYW51YWxseVxyXG4gICAgICAgICAgICBpZiAoJGxvY2F0aW9uLmFic1VybCgpICE9PSAkYnJvd3Nlci51cmwoKSkge1xyXG4gICAgICAgICAgICAgICRyb290U2NvcGUuJGFwcGx5KCk7XHJcbiAgICAgICAgICAgICAgLy8gaGFjayB0byB3b3JrIGFyb3VuZCBGRjYgYnVnIDY4NDIwOCB3aGVuIHNjZW5hcmlvIHJ1bm5lciBjbGlja3Mgb24gbGlua3NcclxuICAgICAgICAgICAgICAkd2luZG93LmFuZ3VsYXJbJ2ZmLTY4NDIwOC1wcmV2ZW50RGVmYXVsdCddID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyByZXdyaXRlIGhhc2hiYW5nIHVybCA8PiBodG1sNSB1cmxcclxuICAgICAgaWYgKHRyaW1FbXB0eUhhc2goJGxvY2F0aW9uLmFic1VybCgpKSAhPT0gdHJpbUVtcHR5SGFzaChpbml0aWFsVXJsKSkge1xyXG4gICAgICAgICRicm93c2VyLnVybCgkbG9jYXRpb24uYWJzVXJsKCksIHRydWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgaW5pdGlhbGl6aW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgIC8vIHVwZGF0ZSAkbG9jYXRpb24gd2hlbiAkYnJvd3NlciB1cmwgY2hhbmdlc1xyXG4gICAgICAkYnJvd3Nlci5vblVybENoYW5nZShmdW5jdGlvbiAobmV3VXJsLCBuZXdTdGF0ZSkge1xyXG5cclxuICAgICAgICBpZiAoIXN0YXJ0c1dpdGgobmV3VXJsLCBhcHBCYXNlTm9GaWxlKSkge1xyXG4gICAgICAgICAgLy8gSWYgd2UgYXJlIG5hdmlnYXRpbmcgb3V0c2lkZSBvZiB0aGUgYXBwIHRoZW4gZm9yY2UgYSByZWxvYWRcclxuICAgICAgICAgICR3aW5kb3cubG9jYXRpb24uaHJlZiA9IG5ld1VybDtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgb2xkVXJsID0gJGxvY2F0aW9uLmFic1VybCgpO1xyXG4gICAgICAgICAgdmFyIG9sZFN0YXRlID0gJGxvY2F0aW9uLiQkc3RhdGU7XHJcbiAgICAgICAgICB2YXIgZGVmYXVsdFByZXZlbnRlZDtcclxuICAgICAgICAgIG5ld1VybCA9IHRyaW1FbXB0eUhhc2gobmV3VXJsKTtcclxuICAgICAgICAgICRsb2NhdGlvbi4kJHBhcnNlKG5ld1VybCk7XHJcbiAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG5ld1N0YXRlO1xyXG5cclxuICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbmV3VXJsLCBvbGRVcmwsIG5ld1N0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcclxuXHJcbiAgICAgICAgICAvLyBpZiB0aGUgbG9jYXRpb24gd2FzIGNoYW5nZWQgYnkgYSBgJGxvY2F0aW9uQ2hhbmdlU3RhcnRgIGhhbmRsZXIgdGhlbiBzdG9wXHJcbiAgICAgICAgICAvLyBwcm9jZXNzaW5nIHRoaXMgbG9jYXRpb24gY2hhbmdlXHJcbiAgICAgICAgICBpZiAoJGxvY2F0aW9uLmFic1VybCgpICE9PSBuZXdVcmwpIHJldHVybjtcclxuXHJcbiAgICAgICAgICBpZiAoZGVmYXVsdFByZXZlbnRlZCkge1xyXG4gICAgICAgICAgICAkbG9jYXRpb24uJCRwYXJzZShvbGRVcmwpO1xyXG4gICAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xyXG4gICAgICAgICAgICBzZXRCcm93c2VyVXJsV2l0aEZhbGxiYWNrKG9sZFVybCwgZmFsc2UsIG9sZFN0YXRlKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGluaXRpYWxpemluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhZnRlckxvY2F0aW9uQ2hhbmdlKG9sZFVybCwgb2xkU3RhdGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghJHJvb3RTY29wZS4kJHBoYXNlKSAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyB1cGRhdGUgYnJvd3NlclxyXG4gICAgICAkcm9vdFNjb3BlLiR3YXRjaChmdW5jdGlvbiAkbG9jYXRpb25XYXRjaCgpIHtcclxuICAgICAgICBpZiAoaW5pdGlhbGl6aW5nIHx8ICRsb2NhdGlvbi4kJHVybFVwZGF0ZWRCeUxvY2F0aW9uKSB7XHJcbiAgICAgICAgICAkbG9jYXRpb24uJCR1cmxVcGRhdGVkQnlMb2NhdGlvbiA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgIHZhciBvbGRVcmwgPSB0cmltRW1wdHlIYXNoKCRicm93c2VyLnVybCgpKTtcclxuICAgICAgICAgIHZhciBuZXdVcmwgPSB0cmltRW1wdHlIYXNoKCRsb2NhdGlvbi5hYnNVcmwoKSk7XHJcbiAgICAgICAgICB2YXIgb2xkU3RhdGUgPSAkYnJvd3Nlci5zdGF0ZSgpO1xyXG4gICAgICAgICAgdmFyIGN1cnJlbnRSZXBsYWNlID0gJGxvY2F0aW9uLiQkcmVwbGFjZTtcclxuICAgICAgICAgIHZhciB1cmxPclN0YXRlQ2hhbmdlZCA9IG9sZFVybCAhPT0gbmV3VXJsIHx8ICRsb2NhdGlvbi4kJGh0bWw1ICYmICRzbmlmZmVyLmhpc3RvcnkgJiYgb2xkU3RhdGUgIT09ICRsb2NhdGlvbi4kJHN0YXRlO1xyXG5cclxuICAgICAgICAgIGlmIChpbml0aWFsaXppbmcgfHwgdXJsT3JTdGF0ZUNoYW5nZWQpIHtcclxuICAgICAgICAgICAgaW5pdGlhbGl6aW5nID0gZmFsc2U7XHJcblxyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHZhciBuZXdVcmwgPSAkbG9jYXRpb24uYWJzVXJsKCk7XHJcbiAgICAgICAgICAgICAgdmFyIGRlZmF1bHRQcmV2ZW50ZWQgPSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJyRsb2NhdGlvbkNoYW5nZVN0YXJ0JywgbmV3VXJsLCBvbGRVcmwsICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSkuZGVmYXVsdFByZXZlbnRlZDtcclxuXHJcbiAgICAgICAgICAgICAgLy8gaWYgdGhlIGxvY2F0aW9uIHdhcyBjaGFuZ2VkIGJ5IGEgYCRsb2NhdGlvbkNoYW5nZVN0YXJ0YCBoYW5kbGVyIHRoZW4gc3RvcFxyXG4gICAgICAgICAgICAgIC8vIHByb2Nlc3NpbmcgdGhpcyBsb2NhdGlvbiBjaGFuZ2VcclxuICAgICAgICAgICAgICBpZiAoJGxvY2F0aW9uLmFic1VybCgpICE9PSBuZXdVcmwpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKGRlZmF1bHRQcmV2ZW50ZWQpIHtcclxuICAgICAgICAgICAgICAgICRsb2NhdGlvbi4kJHBhcnNlKG9sZFVybCk7XHJcbiAgICAgICAgICAgICAgICAkbG9jYXRpb24uJCRzdGF0ZSA9IG9sZFN0YXRlO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodXJsT3JTdGF0ZUNoYW5nZWQpIHtcclxuICAgICAgICAgICAgICAgICAgc2V0QnJvd3NlclVybFdpdGhGYWxsYmFjayhuZXdVcmwsIGN1cnJlbnRSZXBsYWNlLCBvbGRTdGF0ZSA9PT0gJGxvY2F0aW9uLiQkc3RhdGUgPyBudWxsIDogJGxvY2F0aW9uLiQkc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsIG9sZFN0YXRlKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgJGxvY2F0aW9uLiQkcmVwbGFjZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyB3ZSBkb24ndCBuZWVkIHRvIHJldHVybiBhbnl0aGluZyBiZWNhdXNlICRldmFsQXN5bmMgd2lsbCBtYWtlIHRoZSBkaWdlc3QgbG9vcCBkaXJ0eSB3aGVuXHJcbiAgICAgICAgLy8gdGhlcmUgaXMgYSBjaGFuZ2VcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gJGxvY2F0aW9uO1xyXG5cclxuICAgICAgZnVuY3Rpb24gYWZ0ZXJMb2NhdGlvbkNoYW5nZShvbGRVcmwsIG9sZFN0YXRlKSB7XHJcbiAgICAgICAgJHJvb3RTY29wZS4kYnJvYWRjYXN0KCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgJGxvY2F0aW9uLmFic1VybCgpLCBvbGRVcmwsICRsb2NhdGlvbi4kJHN0YXRlLCBvbGRTdGF0ZSk7XHJcbiAgICAgIH1cclxuICAgIH1dO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSAkbG9nXHJcbiAgICogQHJlcXVpcmVzICR3aW5kb3dcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNpbXBsZSBzZXJ2aWNlIGZvciBsb2dnaW5nLiBEZWZhdWx0IGltcGxlbWVudGF0aW9uIHNhZmVseSB3cml0ZXMgdGhlIG1lc3NhZ2VcclxuICAgKiBpbnRvIHRoZSBicm93c2VyJ3MgY29uc29sZSAoaWYgcHJlc2VudCkuXHJcbiAgICpcclxuICAgKiBUaGUgbWFpbiBwdXJwb3NlIG9mIHRoaXMgc2VydmljZSBpcyB0byBzaW1wbGlmeSBkZWJ1Z2dpbmcgYW5kIHRyb3VibGVzaG9vdGluZy5cclxuICAgKlxyXG4gICAqIFRvIHJldmVhbCB0aGUgbG9jYXRpb24gb2YgdGhlIGNhbGxzIHRvIGAkbG9nYCBpbiB0aGUgSmF2YVNjcmlwdCBjb25zb2xlLFxyXG4gICAqIHlvdSBjYW4gXCJibGFja2JveFwiIHRoZSBBbmd1bGFySlMgc291cmNlIGluIHlvdXIgYnJvd3NlcjpcclxuICAgKlxyXG4gICAqIFtNb3ppbGxhIGRlc2NyaXB0aW9uIG9mIGJsYWNrYm94aW5nXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1Rvb2xzL0RlYnVnZ2VyL0hvd190by9CbGFja19ib3hfYV9zb3VyY2UpLlxyXG4gICAqIFtDaHJvbWUgZGVzY3JpcHRpb24gb2YgYmxhY2tib3hpbmddKGh0dHBzOi8vZGV2ZWxvcGVyLmNocm9tZS5jb20vZGV2dG9vbHMvZG9jcy9ibGFja2JveGluZykuXHJcbiAgICpcclxuICAgKiBOb3RlOiBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgYmxhY2tib3hpbmcuXHJcbiAgICpcclxuICAgKiBUaGUgZGVmYXVsdCBpcyB0byBsb2cgYGRlYnVnYCBtZXNzYWdlcy4gWW91IGNhbiB1c2VcclxuICAgKiB7QGxpbmsgbmcuJGxvZ1Byb3ZpZGVyIG5nLiRsb2dQcm92aWRlciNkZWJ1Z0VuYWJsZWR9IHRvIGNoYW5nZSB0aGlzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBtb2R1bGU9XCJsb2dFeGFtcGxlXCIgbmFtZT1cImxvZy1zZXJ2aWNlXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdsb2dFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0xvZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckbG9nJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9nKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUuJGxvZyA9ICRsb2c7XHJcbiAgICAgICAgICAgICAkc2NvcGUubWVzc2FnZSA9ICdIZWxsbyBXb3JsZCEnO1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkxvZ0NvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8cD5SZWxvYWQgdGhpcyBwYWdlIHdpdGggb3BlbiBjb25zb2xlLCBlbnRlciB0ZXh0IGFuZCBoaXQgdGhlIGxvZyBidXR0b24uLi48L3A+XHJcbiAgICAgICAgICAgPGxhYmVsPk1lc3NhZ2U6XHJcbiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtZXNzYWdlXCIgLz48L2xhYmVsPlxyXG4gICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLmxvZyhtZXNzYWdlKVwiPmxvZzwvYnV0dG9uPlxyXG4gICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCIkbG9nLndhcm4obWVzc2FnZSlcIj53YXJuPC9idXR0b24+XHJcbiAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cuaW5mbyhtZXNzYWdlKVwiPmluZm88L2J1dHRvbj5cclxuICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiJGxvZy5lcnJvcihtZXNzYWdlKVwiPmVycm9yPC9idXR0b24+XHJcbiAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cIiRsb2cuZGVidWcobWVzc2FnZSlcIj5kZWJ1ZzwvYnV0dG9uPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm92aWRlclxyXG4gICAqIEBuYW1lICRsb2dQcm92aWRlclxyXG4gICAqIEB0aGlzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBVc2UgdGhlIGAkbG9nUHJvdmlkZXJgIHRvIGNvbmZpZ3VyZSBob3cgdGhlIGFwcGxpY2F0aW9uIGxvZ3MgbWVzc2FnZXNcclxuICAgKi9cclxuICBmdW5jdGlvbiAkTG9nUHJvdmlkZXIoKSB7XHJcbiAgICB2YXIgZGVidWcgPSB0cnVlLFxyXG4gICAgICAgIHNlbGYgPSB0aGlzO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJGxvZ1Byb3ZpZGVyI2RlYnVnRW5hYmxlZFxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBmbGFnIGVuYWJsZSBvciBkaXNhYmxlIGRlYnVnIGxldmVsIG1lc3NhZ2VzXHJcbiAgICAgKiBAcmV0dXJucyB7Kn0gY3VycmVudCB2YWx1ZSBpZiB1c2VkIGFzIGdldHRlciBvciBpdHNlbGYgKGNoYWluaW5nKSBpZiB1c2VkIGFzIHNldHRlclxyXG4gICAgICovXHJcbiAgICB0aGlzLmRlYnVnRW5hYmxlZCA9IGZ1bmN0aW9uIChmbGFnKSB7XHJcbiAgICAgIGlmIChpc0RlZmluZWQoZmxhZykpIHtcclxuICAgICAgICBkZWJ1ZyA9IGZsYWc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGRlYnVnO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsIGZ1bmN0aW9uICgkd2luZG93KSB7XHJcbiAgICAgIC8vIFN1cHBvcnQ6IElFIDktMTEsIEVkZ2UgMTItMTQrXHJcbiAgICAgIC8vIElFL0VkZ2UgZGlzcGxheSBlcnJvcnMgaW4gc3VjaCBhIHdheSB0aGF0IGl0IHJlcXVpcmVzIHRoZSB1c2VyIHRvIGNsaWNrIGluIDQgcGxhY2VzXHJcbiAgICAgIC8vIHRvIHNlZSB0aGUgc3RhY2sgdHJhY2UuIFRoZXJlIGlzIG5vIHdheSB0byBmZWF0dXJlLWRldGVjdCBpdCBzbyB0aGVyZSdzIGEgY2hhbmNlXHJcbiAgICAgIC8vIG9mIHRoZSB1c2VyIGFnZW50IHNuaWZmaW5nIHRvIGdvIHdyb25nIGJ1dCBzaW5jZSBpdCdzIG9ubHkgYWJvdXQgbG9nZ2luZywgdGhpcyBzaG91bGRuJ3RcclxuICAgICAgLy8gYnJlYWsgYXBwcy4gT3RoZXIgYnJvd3NlcnMgZGlzcGxheSBlcnJvcnMgaW4gYSBzZW5zaWJsZSB3YXkgYW5kIHNvbWUgb2YgdGhlbSBtYXAgc3RhY2tcclxuICAgICAgLy8gdHJhY2VzIGFsb25nIHNvdXJjZSBtYXBzIGlmIGF2YWlsYWJsZSBzbyBpdCBtYWtlcyBzZW5zZSB0byBsZXQgYnJvd3NlcnMgZGlzcGxheSBpdFxyXG4gICAgICAvLyBhcyB0aGV5IHdhbnQuXHJcbiAgICAgIHZhciBmb3JtYXRTdGFja1RyYWNlID0gbXNpZSB8fCAvXFxiRWRnZVxcLy8udGVzdCgkd2luZG93Lm5hdmlnYXRvciAmJiAkd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpO1xyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJGxvZyNsb2dcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIFdyaXRlIGEgbG9nIG1lc3NhZ2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBsb2c6IGNvbnNvbGVMb2coJ2xvZycpLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJGxvZyNpbmZvXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBXcml0ZSBhbiBpbmZvcm1hdGlvbiBtZXNzYWdlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaW5mbzogY29uc29sZUxvZygnaW5mbycpLFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJGxvZyN3YXJuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBXcml0ZSBhIHdhcm5pbmcgbWVzc2FnZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHdhcm46IGNvbnNvbGVMb2coJ3dhcm4nKSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRsb2cjZXJyb3JcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIFdyaXRlIGFuIGVycm9yIG1lc3NhZ2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBlcnJvcjogY29uc29sZUxvZygnZXJyb3InKSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRsb2cjZGVidWdcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIFdyaXRlIGEgZGVidWcgbWVzc2FnZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGRlYnVnOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgZm4gPSBjb25zb2xlTG9nKCdkZWJ1ZycpO1xyXG5cclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChkZWJ1Zykge1xyXG4gICAgICAgICAgICAgIGZuLmFwcGx5KHNlbGYsIGFyZ3VtZW50cyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSgpXHJcbiAgICAgIH07XHJcblxyXG4gICAgICBmdW5jdGlvbiBmb3JtYXRFcnJvcihhcmcpIHtcclxuICAgICAgICBpZiAoaXNFcnJvcihhcmcpKSB7XHJcbiAgICAgICAgICBpZiAoYXJnLnN0YWNrICYmIGZvcm1hdFN0YWNrVHJhY2UpIHtcclxuICAgICAgICAgICAgYXJnID0gYXJnLm1lc3NhZ2UgJiYgYXJnLnN0YWNrLmluZGV4T2YoYXJnLm1lc3NhZ2UpID09PSAtMSA/ICdFcnJvcjogJyArIGFyZy5tZXNzYWdlICsgJ1xcbicgKyBhcmcuc3RhY2sgOiBhcmcuc3RhY2s7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGFyZy5zb3VyY2VVUkwpIHtcclxuICAgICAgICAgICAgYXJnID0gYXJnLm1lc3NhZ2UgKyAnXFxuJyArIGFyZy5zb3VyY2VVUkwgKyAnOicgKyBhcmcubGluZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFyZztcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY29uc29sZUxvZyh0eXBlKSB7XHJcbiAgICAgICAgdmFyIGNvbnNvbGUgPSAkd2luZG93LmNvbnNvbGUgfHwge30sXHJcbiAgICAgICAgICAgIGxvZ0ZuID0gY29uc29sZVt0eXBlXSB8fCBjb25zb2xlLmxvZyB8fCBub29wO1xyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgIGZvckVhY2goYXJndW1lbnRzLCBmdW5jdGlvbiAoYXJnKSB7XHJcbiAgICAgICAgICAgIGFyZ3MucHVzaChmb3JtYXRFcnJvcihhcmcpKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgLy8gU3VwcG9ydDogSUUgOSBvbmx5XHJcbiAgICAgICAgICAvLyBjb25zb2xlIG1ldGhvZHMgZG9uJ3QgaW5oZXJpdCBmcm9tIEZ1bmN0aW9uLnByb3RvdHlwZSBpbiBJRSA5IHNvIHdlIGNhbid0XHJcbiAgICAgICAgICAvLyBjYWxsIGBsb2dGbi5hcHBseShjb25zb2xlLCBhcmdzKWAgZGlyZWN0bHkuXHJcbiAgICAgICAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwobG9nRm4sIGNvbnNvbGUsIGFyZ3MpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH1dO1xyXG4gIH1cclxuXHJcbiAgLyogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKlxyXG4gICAqICAgICBBbnkgY29tbWl0cyB0byB0aGlzIGZpbGUgc2hvdWxkIGJlIHJldmlld2VkIHdpdGggc2VjdXJpdHkgaW4gbWluZC4gICpcclxuICAgKiAgIENoYW5nZXMgdG8gdGhpcyBmaWxlIGNhbiBwb3RlbnRpYWxseSBjcmVhdGUgc2VjdXJpdHkgdnVsbmVyYWJpbGl0aWVzLiAqXHJcbiAgICogICAgICAgICAgQW4gYXBwcm92YWwgZnJvbSAyIENvcmUgbWVtYmVycyB3aXRoIGhpc3Rvcnkgb2YgbW9kaWZ5aW5nICAgICAgKlxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMgZmlsZSBpcyByZXF1aXJlZC4gICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAqXHJcbiAgICogIERvZXMgdGhlIGNoYW5nZSBzb21laG93IGFsbG93IGZvciBhcmJpdHJhcnkgamF2YXNjcmlwdCB0byBiZSBleGVjdXRlZD8gKlxyXG4gICAqICAgIE9yIGFsbG93cyBmb3Igc29tZW9uZSB0byBjaGFuZ2UgdGhlIHByb3RvdHlwZSBvZiBidWlsdC1pbiBvYmplY3RzPyAgICpcclxuICAgKiAgICAgT3IgZ2l2ZXMgdW5kZXNpcmVkIGFjY2VzcyB0byB2YXJpYWJsZXMgbGlrZXMgZG9jdW1lbnQgb3Igd2luZG93PyAgICAqXHJcbiAgICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKi9cclxuXHJcbiAgdmFyICRwYXJzZU1pbkVyciA9IG1pbkVycignJHBhcnNlJyk7XHJcblxyXG4gIHZhciBvYmplY3RWYWx1ZU9mID0ge30uY29uc3RydWN0b3IucHJvdG90eXBlLnZhbHVlT2Y7XHJcblxyXG4gIC8vIFNhbmRib3hpbmcgQW5ndWxhciBFeHByZXNzaW9uc1xyXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gIC8vIEFuZ3VsYXIgZXhwcmVzc2lvbnMgYXJlIG5vIGxvbmdlciBzYW5kYm94ZWQuIFNvIGl0IGlzIG5vdyBldmVuIGVhc2llciB0byBhY2Nlc3MgYXJiaXRyYXJ5IEpTIGNvZGUgYnlcclxuICAvLyB2YXJpb3VzIG1lYW5zIHN1Y2ggYXMgb2J0YWluaW5nIGEgcmVmZXJlbmNlIHRvIG5hdGl2ZSBKUyBmdW5jdGlvbnMgbGlrZSB0aGUgRnVuY3Rpb24gY29uc3RydWN0b3IuXHJcbiAgLy9cclxuICAvLyBBcyBhbiBleGFtcGxlLCBjb25zaWRlciB0aGUgZm9sbG93aW5nIEFuZ3VsYXIgZXhwcmVzc2lvbjpcclxuICAvL1xyXG4gIC8vICAge30udG9TdHJpbmcuY29uc3RydWN0b3IoJ2FsZXJ0KFwiZXZpbCBKUyBjb2RlXCIpJylcclxuICAvL1xyXG4gIC8vIEl0IGlzIGltcG9ydGFudCB0byByZWFsaXplIHRoYXQgaWYgeW91IGNyZWF0ZSBhbiBleHByZXNzaW9uIGZyb20gYSBzdHJpbmcgdGhhdCBjb250YWlucyB1c2VyIHByb3ZpZGVkXHJcbiAgLy8gY29udGVudCB0aGVuIGl0IGlzIHBvc3NpYmxlIHRoYXQgeW91ciBhcHBsaWNhdGlvbiBjb250YWlucyBhIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdHkgdG8gYW4gWFNTIHN0eWxlIGF0dGFjay5cclxuICAvL1xyXG4gIC8vIFNlZSBodHRwczovL2RvY3MuYW5ndWxhcmpzLm9yZy9ndWlkZS9zZWN1cml0eVxyXG5cclxuXHJcbiAgZnVuY3Rpb24gZ2V0U3RyaW5nVmFsdWUobmFtZSkge1xyXG4gICAgLy8gUHJvcGVydHkgbmFtZXMgbXVzdCBiZSBzdHJpbmdzLiBUaGlzIG1lYW5zIHRoYXQgbm9uLXN0cmluZyBvYmplY3RzIGNhbm5vdCBiZSB1c2VkXHJcbiAgICAvLyBhcyBrZXlzIGluIGFuIG9iamVjdC4gQW55IG5vbi1zdHJpbmcgb2JqZWN0LCBpbmNsdWRpbmcgYSBudW1iZXIsIGlzIHR5cGVjYXN0ZWRcclxuICAgIC8vIGludG8gYSBzdHJpbmcgdmlhIHRoZSB0b1N0cmluZyBtZXRob2QuXHJcbiAgICAvLyAtLSBNRE4sIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL09wZXJhdG9ycy9Qcm9wZXJ0eV9hY2Nlc3NvcnMjUHJvcGVydHlfbmFtZXNcclxuICAgIC8vXHJcbiAgICAvLyBTbywgdG8gZW5zdXJlIHRoYXQgd2UgYXJlIGNoZWNraW5nIHRoZSBzYW1lIGBuYW1lYCB0aGF0IEphdmFTY3JpcHQgd291bGQgdXNlLCB3ZSBjYXN0IGl0XHJcbiAgICAvLyB0byBhIHN0cmluZy4gSXQncyBub3QgYWx3YXlzIHBvc3NpYmxlLiBJZiBgbmFtZWAgaXMgYW4gb2JqZWN0IGFuZCBpdHMgYHRvU3RyaW5nYCBtZXRob2QgaXNcclxuICAgIC8vICdicm9rZW4nIChkb2Vzbid0IHJldHVybiBhIHN0cmluZywgaXNuJ3QgYSBmdW5jdGlvbiwgZXRjLiksIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duOlxyXG4gICAgLy9cclxuICAgIC8vIFR5cGVFcnJvcjogQ2Fubm90IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVxyXG4gICAgLy9cclxuICAgIC8vIEZvciBwZXJmb3JtYW5jZSByZWFzb25zLCB3ZSBkb24ndCBjYXRjaCB0aGlzIGVycm9yIGhlcmUgYW5kIGFsbG93IGl0IHRvIHByb3BhZ2F0ZSB1cCB0aGUgY2FsbFxyXG4gICAgLy8gc3RhY2suIE5vdGUgdGhhdCB5b3UnbGwgZ2V0IHRoZSBzYW1lIGVycm9yIGluIEphdmFTY3JpcHQgaWYgeW91IHRyeSB0byBhY2Nlc3MgYSBwcm9wZXJ0eSB1c2luZ1xyXG4gICAgLy8gc3VjaCBhICdicm9rZW4nIG9iamVjdCBhcyBhIGtleS5cclxuICAgIHJldHVybiBuYW1lICsgJyc7XHJcbiAgfVxyXG5cclxuICB2YXIgT1BFUkFUT1JTID0gY3JlYXRlTWFwKCk7XHJcbiAgZm9yRWFjaCgnKyAtICogLyAlID09PSAhPT0gPT0gIT0gPCA+IDw9ID49ICYmIHx8ICEgPSB8Jy5zcGxpdCgnICcpLCBmdW5jdGlvbiAob3BlcmF0b3IpIHtcclxuICAgIE9QRVJBVE9SU1tvcGVyYXRvcl0gPSB0cnVlO1xyXG4gIH0pO1xyXG4gIHZhciBFU0NBUEUgPSB7ICduJzogJ1xcbicsICdmJzogJ1xcZicsICdyJzogJ1xccicsICd0JzogJ1xcdCcsICd2JzogJ1xcdicsICdcXCcnOiAnXFwnJywgJ1wiJzogJ1wiJyB9O1xyXG5cclxuICAvLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogQGNvbnN0cnVjdG9yXHJcbiAgICovXHJcbiAgdmFyIExleGVyID0gZnVuY3Rpb24gTGV4ZXIob3B0aW9ucykge1xyXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICB9O1xyXG5cclxuICBMZXhlci5wcm90b3R5cGUgPSB7XHJcbiAgICBjb25zdHJ1Y3RvcjogTGV4ZXIsXHJcblxyXG4gICAgbGV4OiBmdW5jdGlvbiBsZXgodGV4dCkge1xyXG4gICAgICB0aGlzLnRleHQgPSB0ZXh0O1xyXG4gICAgICB0aGlzLmluZGV4ID0gMDtcclxuICAgICAgdGhpcy50b2tlbnMgPSBbXTtcclxuXHJcbiAgICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBjaCA9IHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCk7XHJcbiAgICAgICAgaWYgKGNoID09PSAnXCInIHx8IGNoID09PSAnXFwnJykge1xyXG4gICAgICAgICAgdGhpcy5yZWFkU3RyaW5nKGNoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNOdW1iZXIoY2gpIHx8IGNoID09PSAnLicgJiYgdGhpcy5pc051bWJlcih0aGlzLnBlZWsoKSkpIHtcclxuICAgICAgICAgIHRoaXMucmVhZE51bWJlcigpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0lkZW50aWZpZXJTdGFydCh0aGlzLnBlZWtNdWx0aWNoYXIoKSkpIHtcclxuICAgICAgICAgIHRoaXMucmVhZElkZW50KCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzKGNoLCAnKCl7fVtdLiw7Oj8nKSkge1xyXG4gICAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7IGluZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiBjaCB9KTtcclxuICAgICAgICAgIHRoaXMuaW5kZXgrKztcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNXaGl0ZXNwYWNlKGNoKSkge1xyXG4gICAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB2YXIgY2gyID0gY2ggKyB0aGlzLnBlZWsoKTtcclxuICAgICAgICAgIHZhciBjaDMgPSBjaDIgKyB0aGlzLnBlZWsoMik7XHJcbiAgICAgICAgICB2YXIgb3AxID0gT1BFUkFUT1JTW2NoXTtcclxuICAgICAgICAgIHZhciBvcDIgPSBPUEVSQVRPUlNbY2gyXTtcclxuICAgICAgICAgIHZhciBvcDMgPSBPUEVSQVRPUlNbY2gzXTtcclxuICAgICAgICAgIGlmIChvcDEgfHwgb3AyIHx8IG9wMykge1xyXG4gICAgICAgICAgICB2YXIgdG9rZW4gPSBvcDMgPyBjaDMgOiBvcDIgPyBjaDIgOiBjaDtcclxuICAgICAgICAgICAgdGhpcy50b2tlbnMucHVzaCh7IGluZGV4OiB0aGlzLmluZGV4LCB0ZXh0OiB0b2tlbiwgb3BlcmF0b3I6IHRydWUgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggKz0gdG9rZW4ubGVuZ3RoO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdVbmV4cGVjdGVkIG5leHQgY2hhcmFjdGVyICcsIHRoaXMuaW5kZXgsIHRoaXMuaW5kZXggKyAxKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRoaXMudG9rZW5zO1xyXG4gICAgfSxcclxuXHJcbiAgICBpczogZnVuY3Rpb24gaXMoY2gsIGNoYXJzKSB7XHJcbiAgICAgIHJldHVybiBjaGFycy5pbmRleE9mKGNoKSAhPT0gLTE7XHJcbiAgICB9LFxyXG5cclxuICAgIHBlZWs6IGZ1bmN0aW9uIHBlZWsoaSkge1xyXG4gICAgICB2YXIgbnVtID0gaSB8fCAxO1xyXG4gICAgICByZXR1cm4gdGhpcy5pbmRleCArIG51bSA8IHRoaXMudGV4dC5sZW5ndGggPyB0aGlzLnRleHQuY2hhckF0KHRoaXMuaW5kZXggKyBudW0pIDogZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIGlzTnVtYmVyOiBmdW5jdGlvbiBpc051bWJlcihjaCkge1xyXG4gICAgICByZXR1cm4gJzAnIDw9IGNoICYmIGNoIDw9ICc5JyAmJiB0eXBlb2YgY2ggPT09ICdzdHJpbmcnO1xyXG4gICAgfSxcclxuXHJcbiAgICBpc1doaXRlc3BhY2U6IGZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjaCkge1xyXG4gICAgICAvLyBJRSB0cmVhdHMgbm9uLWJyZWFraW5nIHNwYWNlIGFzIFxcdTAwQTBcclxuICAgICAgcmV0dXJuIGNoID09PSAnICcgfHwgY2ggPT09ICdcXHInIHx8IGNoID09PSAnXFx0JyB8fCBjaCA9PT0gJ1xcbicgfHwgY2ggPT09ICdcXHYnIHx8IGNoID09PSAnXFx4QTAnO1xyXG4gICAgfSxcclxuXHJcbiAgICBpc0lkZW50aWZpZXJTdGFydDogZnVuY3Rpb24gaXNJZGVudGlmaWVyU3RhcnQoY2gpIHtcclxuICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJTdGFydCA/IHRoaXMub3B0aW9ucy5pc0lkZW50aWZpZXJTdGFydChjaCwgdGhpcy5jb2RlUG9pbnRBdChjaCkpIDogdGhpcy5pc1ZhbGlkSWRlbnRpZmllclN0YXJ0KGNoKTtcclxuICAgIH0sXHJcblxyXG4gICAgaXNWYWxpZElkZW50aWZpZXJTdGFydDogZnVuY3Rpb24gaXNWYWxpZElkZW50aWZpZXJTdGFydChjaCkge1xyXG4gICAgICByZXR1cm4gJ2EnIDw9IGNoICYmIGNoIDw9ICd6JyB8fCAnQScgPD0gY2ggJiYgY2ggPD0gJ1onIHx8ICdfJyA9PT0gY2ggfHwgY2ggPT09ICckJztcclxuICAgIH0sXHJcblxyXG4gICAgaXNJZGVudGlmaWVyQ29udGludWU6IGZ1bmN0aW9uIGlzSWRlbnRpZmllckNvbnRpbnVlKGNoKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyQ29udGludWUgPyB0aGlzLm9wdGlvbnMuaXNJZGVudGlmaWVyQ29udGludWUoY2gsIHRoaXMuY29kZVBvaW50QXQoY2gpKSA6IHRoaXMuaXNWYWxpZElkZW50aWZpZXJDb250aW51ZShjaCk7XHJcbiAgICB9LFxyXG5cclxuICAgIGlzVmFsaWRJZGVudGlmaWVyQ29udGludWU6IGZ1bmN0aW9uIGlzVmFsaWRJZGVudGlmaWVyQ29udGludWUoY2gsIGNwKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmlzVmFsaWRJZGVudGlmaWVyU3RhcnQoY2gsIGNwKSB8fCB0aGlzLmlzTnVtYmVyKGNoKTtcclxuICAgIH0sXHJcblxyXG4gICAgY29kZVBvaW50QXQ6IGZ1bmN0aW9uIGNvZGVQb2ludEF0KGNoKSB7XHJcbiAgICAgIGlmIChjaC5sZW5ndGggPT09IDEpIHJldHVybiBjaC5jaGFyQ29kZUF0KDApO1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxyXG4gICAgICByZXR1cm4gKGNoLmNoYXJDb2RlQXQoMCkgPDwgMTApICsgY2guY2hhckNvZGVBdCgxKSAtIDB4MzVGREMwMDtcclxuICAgIH0sXHJcblxyXG4gICAgcGVla011bHRpY2hhcjogZnVuY3Rpb24gcGVla011bHRpY2hhcigpIHtcclxuICAgICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcclxuICAgICAgdmFyIHBlZWsgPSB0aGlzLnBlZWsoKTtcclxuICAgICAgaWYgKCFwZWVrKSB7XHJcbiAgICAgICAgcmV0dXJuIGNoO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBjcDEgPSBjaC5jaGFyQ29kZUF0KDApO1xyXG4gICAgICB2YXIgY3AyID0gcGVlay5jaGFyQ29kZUF0KDApO1xyXG4gICAgICBpZiAoY3AxID49IDB4RDgwMCAmJiBjcDEgPD0gMHhEQkZGICYmIGNwMiA+PSAweERDMDAgJiYgY3AyIDw9IDB4REZGRikge1xyXG4gICAgICAgIHJldHVybiBjaCArIHBlZWs7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGNoO1xyXG4gICAgfSxcclxuXHJcbiAgICBpc0V4cE9wZXJhdG9yOiBmdW5jdGlvbiBpc0V4cE9wZXJhdG9yKGNoKSB7XHJcbiAgICAgIHJldHVybiBjaCA9PT0gJy0nIHx8IGNoID09PSAnKycgfHwgdGhpcy5pc051bWJlcihjaCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHRocm93RXJyb3I6IGZ1bmN0aW9uIHRocm93RXJyb3IoZXJyb3IsIHN0YXJ0LCBlbmQpIHtcclxuICAgICAgZW5kID0gZW5kIHx8IHRoaXMuaW5kZXg7XHJcbiAgICAgIHZhciBjb2xTdHIgPSBpc0RlZmluZWQoc3RhcnQpID8gJ3MgJyArIHN0YXJ0ICsgJy0nICsgdGhpcy5pbmRleCArICcgWycgKyB0aGlzLnRleHQuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpICsgJ10nIDogJyAnICsgZW5kO1xyXG4gICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ2xleGVycicsICdMZXhlciBFcnJvcjogezB9IGF0IGNvbHVtbnsxfSBpbiBleHByZXNzaW9uIFt7Mn1dLicsIGVycm9yLCBjb2xTdHIsIHRoaXMudGV4dCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlYWROdW1iZXI6IGZ1bmN0aW9uIHJlYWROdW1iZXIoKSB7XHJcbiAgICAgIHZhciBudW1iZXIgPSAnJztcclxuICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcclxuICAgICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIGNoID0gbG93ZXJjYXNlKHRoaXMudGV4dC5jaGFyQXQodGhpcy5pbmRleCkpO1xyXG4gICAgICAgIGlmIChjaCA9PT0gJy4nIHx8IHRoaXMuaXNOdW1iZXIoY2gpKSB7XHJcbiAgICAgICAgICBudW1iZXIgKz0gY2g7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHZhciBwZWVrQ2ggPSB0aGlzLnBlZWsoKTtcclxuICAgICAgICAgIGlmIChjaCA9PT0gJ2UnICYmIHRoaXMuaXNFeHBPcGVyYXRvcihwZWVrQ2gpKSB7XHJcbiAgICAgICAgICAgIG51bWJlciArPSBjaDtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5pc0V4cE9wZXJhdG9yKGNoKSAmJiBwZWVrQ2ggJiYgdGhpcy5pc051bWJlcihwZWVrQ2gpICYmIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09PSAnZScpIHtcclxuICAgICAgICAgICAgbnVtYmVyICs9IGNoO1xyXG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRXhwT3BlcmF0b3IoY2gpICYmICghcGVla0NoIHx8ICF0aGlzLmlzTnVtYmVyKHBlZWtDaCkpICYmIG51bWJlci5jaGFyQXQobnVtYmVyLmxlbmd0aCAtIDEpID09PSAnZScpIHtcclxuICAgICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIGV4cG9uZW50Jyk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbmRleCsrO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMudG9rZW5zLnB1c2goe1xyXG4gICAgICAgIGluZGV4OiBzdGFydCxcclxuICAgICAgICB0ZXh0OiBudW1iZXIsXHJcbiAgICAgICAgY29uc3RhbnQ6IHRydWUsXHJcbiAgICAgICAgdmFsdWU6IE51bWJlcihudW1iZXIpXHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICByZWFkSWRlbnQ6IGZ1bmN0aW9uIHJlYWRJZGVudCgpIHtcclxuICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5pbmRleDtcclxuICAgICAgdGhpcy5pbmRleCArPSB0aGlzLnBlZWtNdWx0aWNoYXIoKS5sZW5ndGg7XHJcbiAgICAgIHdoaWxlICh0aGlzLmluZGV4IDwgdGhpcy50ZXh0Lmxlbmd0aCkge1xyXG4gICAgICAgIHZhciBjaCA9IHRoaXMucGVla011bHRpY2hhcigpO1xyXG4gICAgICAgIGlmICghdGhpcy5pc0lkZW50aWZpZXJDb250aW51ZShjaCkpIHtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluZGV4ICs9IGNoLmxlbmd0aDtcclxuICAgICAgfVxyXG4gICAgICB0aGlzLnRva2Vucy5wdXNoKHtcclxuICAgICAgICBpbmRleDogc3RhcnQsXHJcbiAgICAgICAgdGV4dDogdGhpcy50ZXh0LnNsaWNlKHN0YXJ0LCB0aGlzLmluZGV4KSxcclxuICAgICAgICBpZGVudGlmaWVyOiB0cnVlXHJcbiAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICByZWFkU3RyaW5nOiBmdW5jdGlvbiByZWFkU3RyaW5nKHF1b3RlKSB7XHJcbiAgICAgIHZhciBzdGFydCA9IHRoaXMuaW5kZXg7XHJcbiAgICAgIHRoaXMuaW5kZXgrKztcclxuICAgICAgdmFyIHN0cmluZyA9ICcnO1xyXG4gICAgICB2YXIgcmF3U3RyaW5nID0gcXVvdGU7XHJcbiAgICAgIHZhciBlc2NhcGUgPSBmYWxzZTtcclxuICAgICAgd2hpbGUgKHRoaXMuaW5kZXggPCB0aGlzLnRleHQubGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIGNoID0gdGhpcy50ZXh0LmNoYXJBdCh0aGlzLmluZGV4KTtcclxuICAgICAgICByYXdTdHJpbmcgKz0gY2g7XHJcbiAgICAgICAgaWYgKGVzY2FwZSkge1xyXG4gICAgICAgICAgaWYgKGNoID09PSAndScpIHtcclxuICAgICAgICAgICAgdmFyIGhleCA9IHRoaXMudGV4dC5zdWJzdHJpbmcodGhpcy5pbmRleCArIDEsIHRoaXMuaW5kZXggKyA1KTtcclxuICAgICAgICAgICAgaWYgKCFoZXgubWF0Y2goL1tcXGRhLWZdezR9L2kpKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdJbnZhbGlkIHVuaWNvZGUgZXNjYXBlIFtcXFxcdScgKyBoZXggKyAnXScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuaW5kZXggKz0gNDtcclxuICAgICAgICAgICAgc3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoaGV4LCAxNikpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHJlcCA9IEVTQ0FQRVtjaF07XHJcbiAgICAgICAgICAgIHN0cmluZyA9IHN0cmluZyArIChyZXAgfHwgY2gpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZXNjYXBlID0gZmFsc2U7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaCA9PT0gJ1xcXFwnKSB7XHJcbiAgICAgICAgICBlc2NhcGUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2ggPT09IHF1b3RlKSB7XHJcbiAgICAgICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICAgICAgICB0aGlzLnRva2Vucy5wdXNoKHtcclxuICAgICAgICAgICAgaW5kZXg6IHN0YXJ0LFxyXG4gICAgICAgICAgICB0ZXh0OiByYXdTdHJpbmcsXHJcbiAgICAgICAgICAgIGNvbnN0YW50OiB0cnVlLFxyXG4gICAgICAgICAgICB2YWx1ZTogc3RyaW5nXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc3RyaW5nICs9IGNoO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluZGV4Kys7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy50aHJvd0Vycm9yKCdVbnRlcm1pbmF0ZWQgcXVvdGUnLCBzdGFydCk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgdmFyIEFTVCA9IGZ1bmN0aW9uIEFTVChsZXhlciwgb3B0aW9ucykge1xyXG4gICAgdGhpcy5sZXhlciA9IGxleGVyO1xyXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcclxuICB9O1xyXG5cclxuICBBU1QuUHJvZ3JhbSA9ICdQcm9ncmFtJztcclxuICBBU1QuRXhwcmVzc2lvblN0YXRlbWVudCA9ICdFeHByZXNzaW9uU3RhdGVtZW50JztcclxuICBBU1QuQXNzaWdubWVudEV4cHJlc3Npb24gPSAnQXNzaWdubWVudEV4cHJlc3Npb24nO1xyXG4gIEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb24gPSAnQ29uZGl0aW9uYWxFeHByZXNzaW9uJztcclxuICBBU1QuTG9naWNhbEV4cHJlc3Npb24gPSAnTG9naWNhbEV4cHJlc3Npb24nO1xyXG4gIEFTVC5CaW5hcnlFeHByZXNzaW9uID0gJ0JpbmFyeUV4cHJlc3Npb24nO1xyXG4gIEFTVC5VbmFyeUV4cHJlc3Npb24gPSAnVW5hcnlFeHByZXNzaW9uJztcclxuICBBU1QuQ2FsbEV4cHJlc3Npb24gPSAnQ2FsbEV4cHJlc3Npb24nO1xyXG4gIEFTVC5NZW1iZXJFeHByZXNzaW9uID0gJ01lbWJlckV4cHJlc3Npb24nO1xyXG4gIEFTVC5JZGVudGlmaWVyID0gJ0lkZW50aWZpZXInO1xyXG4gIEFTVC5MaXRlcmFsID0gJ0xpdGVyYWwnO1xyXG4gIEFTVC5BcnJheUV4cHJlc3Npb24gPSAnQXJyYXlFeHByZXNzaW9uJztcclxuICBBU1QuUHJvcGVydHkgPSAnUHJvcGVydHknO1xyXG4gIEFTVC5PYmplY3RFeHByZXNzaW9uID0gJ09iamVjdEV4cHJlc3Npb24nO1xyXG4gIEFTVC5UaGlzRXhwcmVzc2lvbiA9ICdUaGlzRXhwcmVzc2lvbic7XHJcbiAgQVNULkxvY2Fsc0V4cHJlc3Npb24gPSAnTG9jYWxzRXhwcmVzc2lvbic7XHJcblxyXG4gIC8vIEludGVybmFsIHVzZSBvbmx5XHJcbiAgQVNULk5HVmFsdWVQYXJhbWV0ZXIgPSAnTkdWYWx1ZVBhcmFtZXRlcic7XHJcblxyXG4gIEFTVC5wcm90b3R5cGUgPSB7XHJcbiAgICBhc3Q6IGZ1bmN0aW9uIGFzdCh0ZXh0KSB7XHJcbiAgICAgIHRoaXMudGV4dCA9IHRleHQ7XHJcbiAgICAgIHRoaXMudG9rZW5zID0gdGhpcy5sZXhlci5sZXgodGV4dCk7XHJcblxyXG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLnByb2dyYW0oKTtcclxuXHJcbiAgICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggIT09IDApIHtcclxuICAgICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIGFuIHVuZXhwZWN0ZWQgdG9rZW4nLCB0aGlzLnRva2Vuc1swXSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgcHJvZ3JhbTogZnVuY3Rpb24gcHJvZ3JhbSgpIHtcclxuICAgICAgdmFyIGJvZHkgPSBbXTtcclxuICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICBpZiAodGhpcy50b2tlbnMubGVuZ3RoID4gMCAmJiAhdGhpcy5wZWVrKCd9JywgJyknLCAnOycsICddJykpIGJvZHkucHVzaCh0aGlzLmV4cHJlc3Npb25TdGF0ZW1lbnQoKSk7XHJcbiAgICAgICAgaWYgKCF0aGlzLmV4cGVjdCgnOycpKSB7XHJcbiAgICAgICAgICByZXR1cm4geyB0eXBlOiBBU1QuUHJvZ3JhbSwgYm9keTogYm9keSB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBleHByZXNzaW9uU3RhdGVtZW50OiBmdW5jdGlvbiBleHByZXNzaW9uU3RhdGVtZW50KCkge1xyXG4gICAgICByZXR1cm4geyB0eXBlOiBBU1QuRXhwcmVzc2lvblN0YXRlbWVudCwgZXhwcmVzc2lvbjogdGhpcy5maWx0ZXJDaGFpbigpIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGZpbHRlckNoYWluOiBmdW5jdGlvbiBmaWx0ZXJDaGFpbigpIHtcclxuICAgICAgdmFyIGxlZnQgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgICAgd2hpbGUgKHRoaXMuZXhwZWN0KCd8JykpIHtcclxuICAgICAgICBsZWZ0ID0gdGhpcy5maWx0ZXIobGVmdCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGxlZnQ7XHJcbiAgICB9LFxyXG5cclxuICAgIGV4cHJlc3Npb246IGZ1bmN0aW9uIGV4cHJlc3Npb24oKSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmFzc2lnbm1lbnQoKTtcclxuICAgIH0sXHJcblxyXG4gICAgYXNzaWdubWVudDogZnVuY3Rpb24gYXNzaWdubWVudCgpIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IHRoaXMudGVybmFyeSgpO1xyXG4gICAgICBpZiAodGhpcy5leHBlY3QoJz0nKSkge1xyXG4gICAgICAgIGlmICghaXNBc3NpZ25hYmxlKHJlc3VsdCkpIHtcclxuICAgICAgICAgIHRocm93ICRwYXJzZU1pbkVycignbHZhbCcsICdUcnlpbmcgdG8gYXNzaWduIGEgdmFsdWUgdG8gYSBub24gbC12YWx1ZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVzdWx0ID0geyB0eXBlOiBBU1QuQXNzaWdubWVudEV4cHJlc3Npb24sIGxlZnQ6IHJlc3VsdCwgcmlnaHQ6IHRoaXMuYXNzaWdubWVudCgpLCBvcGVyYXRvcjogJz0nIH07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH0sXHJcblxyXG4gICAgdGVybmFyeTogZnVuY3Rpb24gdGVybmFyeSgpIHtcclxuICAgICAgdmFyIHRlc3QgPSB0aGlzLmxvZ2ljYWxPUigpO1xyXG4gICAgICB2YXIgYWx0ZXJuYXRlO1xyXG4gICAgICB2YXIgY29uc2VxdWVudDtcclxuICAgICAgaWYgKHRoaXMuZXhwZWN0KCc/JykpIHtcclxuICAgICAgICBhbHRlcm5hdGUgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgICAgICBpZiAodGhpcy5jb25zdW1lKCc6JykpIHtcclxuICAgICAgICAgIGNvbnNlcXVlbnQgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgICAgICAgIHJldHVybiB7IHR5cGU6IEFTVC5Db25kaXRpb25hbEV4cHJlc3Npb24sIHRlc3Q6IHRlc3QsIGFsdGVybmF0ZTogYWx0ZXJuYXRlLCBjb25zZXF1ZW50OiBjb25zZXF1ZW50IH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0ZXN0O1xyXG4gICAgfSxcclxuXHJcbiAgICBsb2dpY2FsT1I6IGZ1bmN0aW9uIGxvZ2ljYWxPUigpIHtcclxuICAgICAgdmFyIGxlZnQgPSB0aGlzLmxvZ2ljYWxBTkQoKTtcclxuICAgICAgd2hpbGUgKHRoaXMuZXhwZWN0KCd8fCcpKSB7XHJcbiAgICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkxvZ2ljYWxFeHByZXNzaW9uLCBvcGVyYXRvcjogJ3x8JywgbGVmdDogbGVmdCwgcmlnaHQ6IHRoaXMubG9naWNhbEFORCgpIH07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGxlZnQ7XHJcbiAgICB9LFxyXG5cclxuICAgIGxvZ2ljYWxBTkQ6IGZ1bmN0aW9uIGxvZ2ljYWxBTkQoKSB7XHJcbiAgICAgIHZhciBsZWZ0ID0gdGhpcy5lcXVhbGl0eSgpO1xyXG4gICAgICB3aGlsZSAodGhpcy5leHBlY3QoJyYmJykpIHtcclxuICAgICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuTG9naWNhbEV4cHJlc3Npb24sIG9wZXJhdG9yOiAnJiYnLCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5lcXVhbGl0eSgpIH07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGxlZnQ7XHJcbiAgICB9LFxyXG5cclxuICAgIGVxdWFsaXR5OiBmdW5jdGlvbiBlcXVhbGl0eSgpIHtcclxuICAgICAgdmFyIGxlZnQgPSB0aGlzLnJlbGF0aW9uYWwoKTtcclxuICAgICAgdmFyIHRva2VuO1xyXG4gICAgICB3aGlsZSAodG9rZW4gPSB0aGlzLmV4cGVjdCgnPT0nLCAnIT0nLCAnPT09JywgJyE9PScpKSB7XHJcbiAgICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5yZWxhdGlvbmFsKCkgfTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbGVmdDtcclxuICAgIH0sXHJcblxyXG4gICAgcmVsYXRpb25hbDogZnVuY3Rpb24gcmVsYXRpb25hbCgpIHtcclxuICAgICAgdmFyIGxlZnQgPSB0aGlzLmFkZGl0aXZlKCk7XHJcbiAgICAgIHZhciB0b2tlbjtcclxuICAgICAgd2hpbGUgKHRva2VuID0gdGhpcy5leHBlY3QoJzwnLCAnPicsICc8PScsICc+PScpKSB7XHJcbiAgICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5hZGRpdGl2ZSgpIH07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGxlZnQ7XHJcbiAgICB9LFxyXG5cclxuICAgIGFkZGl0aXZlOiBmdW5jdGlvbiBhZGRpdGl2ZSgpIHtcclxuICAgICAgdmFyIGxlZnQgPSB0aGlzLm11bHRpcGxpY2F0aXZlKCk7XHJcbiAgICAgIHZhciB0b2tlbjtcclxuICAgICAgd2hpbGUgKHRva2VuID0gdGhpcy5leHBlY3QoJysnLCAnLScpKSB7XHJcbiAgICAgICAgbGVmdCA9IHsgdHlwZTogQVNULkJpbmFyeUV4cHJlc3Npb24sIG9wZXJhdG9yOiB0b2tlbi50ZXh0LCBsZWZ0OiBsZWZ0LCByaWdodDogdGhpcy5tdWx0aXBsaWNhdGl2ZSgpIH07XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGxlZnQ7XHJcbiAgICB9LFxyXG5cclxuICAgIG11bHRpcGxpY2F0aXZlOiBmdW5jdGlvbiBtdWx0aXBsaWNhdGl2ZSgpIHtcclxuICAgICAgdmFyIGxlZnQgPSB0aGlzLnVuYXJ5KCk7XHJcbiAgICAgIHZhciB0b2tlbjtcclxuICAgICAgd2hpbGUgKHRva2VuID0gdGhpcy5leHBlY3QoJyonLCAnLycsICclJykpIHtcclxuICAgICAgICBsZWZ0ID0geyB0eXBlOiBBU1QuQmluYXJ5RXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRva2VuLnRleHQsIGxlZnQ6IGxlZnQsIHJpZ2h0OiB0aGlzLnVuYXJ5KCkgfTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbGVmdDtcclxuICAgIH0sXHJcblxyXG4gICAgdW5hcnk6IGZ1bmN0aW9uIHVuYXJ5KCkge1xyXG4gICAgICB2YXIgdG9rZW47XHJcbiAgICAgIGlmICh0b2tlbiA9IHRoaXMuZXhwZWN0KCcrJywgJy0nLCAnIScpKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogQVNULlVuYXJ5RXhwcmVzc2lvbiwgb3BlcmF0b3I6IHRva2VuLnRleHQsIHByZWZpeDogdHJ1ZSwgYXJndW1lbnQ6IHRoaXMudW5hcnkoKSB9O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnByaW1hcnkoKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwcmltYXJ5OiBmdW5jdGlvbiBwcmltYXJ5KCkge1xyXG4gICAgICB2YXIgcHJpbWFyeTtcclxuICAgICAgaWYgKHRoaXMuZXhwZWN0KCcoJykpIHtcclxuICAgICAgICBwcmltYXJ5ID0gdGhpcy5maWx0ZXJDaGFpbigpO1xyXG4gICAgICAgIHRoaXMuY29uc3VtZSgnKScpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZXhwZWN0KCdbJykpIHtcclxuICAgICAgICBwcmltYXJ5ID0gdGhpcy5hcnJheURlY2xhcmF0aW9uKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5leHBlY3QoJ3snKSkge1xyXG4gICAgICAgIHByaW1hcnkgPSB0aGlzLm9iamVjdCgpO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuc2VsZlJlZmVyZW50aWFsLmhhc093blByb3BlcnR5KHRoaXMucGVlaygpLnRleHQpKSB7XHJcbiAgICAgICAgcHJpbWFyeSA9IGNvcHkodGhpcy5zZWxmUmVmZXJlbnRpYWxbdGhpcy5jb25zdW1lKCkudGV4dF0pO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5saXRlcmFscy5oYXNPd25Qcm9wZXJ0eSh0aGlzLnBlZWsoKS50ZXh0KSkge1xyXG4gICAgICAgIHByaW1hcnkgPSB7IHR5cGU6IEFTVC5MaXRlcmFsLCB2YWx1ZTogdGhpcy5vcHRpb25zLmxpdGVyYWxzW3RoaXMuY29uc3VtZSgpLnRleHRdIH07XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuaWRlbnRpZmllcikge1xyXG4gICAgICAgIHByaW1hcnkgPSB0aGlzLmlkZW50aWZpZXIoKTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoKS5jb25zdGFudCkge1xyXG4gICAgICAgIHByaW1hcnkgPSB0aGlzLmNvbnN0YW50KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdub3QgYSBwcmltYXJ5IGV4cHJlc3Npb24nLCB0aGlzLnBlZWsoKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBuZXh0O1xyXG4gICAgICB3aGlsZSAobmV4dCA9IHRoaXMuZXhwZWN0KCcoJywgJ1snLCAnLicpKSB7XHJcbiAgICAgICAgaWYgKG5leHQudGV4dCA9PT0gJygnKSB7XHJcbiAgICAgICAgICBwcmltYXJ5ID0geyB0eXBlOiBBU1QuQ2FsbEV4cHJlc3Npb24sIGNhbGxlZTogcHJpbWFyeSwgYXJndW1lbnRzOiB0aGlzLnBhcnNlQXJndW1lbnRzKCkgfTtcclxuICAgICAgICAgIHRoaXMuY29uc3VtZSgnKScpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobmV4dC50ZXh0ID09PSAnWycpIHtcclxuICAgICAgICAgIHByaW1hcnkgPSB7IHR5cGU6IEFTVC5NZW1iZXJFeHByZXNzaW9uLCBvYmplY3Q6IHByaW1hcnksIHByb3BlcnR5OiB0aGlzLmV4cHJlc3Npb24oKSwgY29tcHV0ZWQ6IHRydWUgfTtcclxuICAgICAgICAgIHRoaXMuY29uc3VtZSgnXScpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAobmV4dC50ZXh0ID09PSAnLicpIHtcclxuICAgICAgICAgIHByaW1hcnkgPSB7IHR5cGU6IEFTVC5NZW1iZXJFeHByZXNzaW9uLCBvYmplY3Q6IHByaW1hcnksIHByb3BlcnR5OiB0aGlzLmlkZW50aWZpZXIoKSwgY29tcHV0ZWQ6IGZhbHNlIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoaXMudGhyb3dFcnJvcignSU1QT1NTSUJMRScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcHJpbWFyeTtcclxuICAgIH0sXHJcblxyXG4gICAgZmlsdGVyOiBmdW5jdGlvbiBmaWx0ZXIoYmFzZUV4cHJlc3Npb24pIHtcclxuICAgICAgdmFyIGFyZ3MgPSBbYmFzZUV4cHJlc3Npb25dO1xyXG4gICAgICB2YXIgcmVzdWx0ID0geyB0eXBlOiBBU1QuQ2FsbEV4cHJlc3Npb24sIGNhbGxlZTogdGhpcy5pZGVudGlmaWVyKCksIGFyZ3VtZW50czogYXJncywgZmlsdGVyOiB0cnVlIH07XHJcblxyXG4gICAgICB3aGlsZSAodGhpcy5leHBlY3QoJzonKSkge1xyXG4gICAgICAgIGFyZ3MucHVzaCh0aGlzLmV4cHJlc3Npb24oKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9LFxyXG5cclxuICAgIHBhcnNlQXJndW1lbnRzOiBmdW5jdGlvbiBwYXJzZUFyZ3VtZW50cygpIHtcclxuICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgaWYgKHRoaXMucGVla1Rva2VuKCkudGV4dCAhPT0gJyknKSB7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgYXJncy5wdXNoKHRoaXMuZmlsdGVyQ2hhaW4oKSk7XHJcbiAgICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGFyZ3M7XHJcbiAgICB9LFxyXG5cclxuICAgIGlkZW50aWZpZXI6IGZ1bmN0aW9uIGlkZW50aWZpZXIoKSB7XHJcbiAgICAgIHZhciB0b2tlbiA9IHRoaXMuY29uc3VtZSgpO1xyXG4gICAgICBpZiAoIXRva2VuLmlkZW50aWZpZXIpIHtcclxuICAgICAgICB0aGlzLnRocm93RXJyb3IoJ2lzIG5vdCBhIHZhbGlkIGlkZW50aWZpZXInLCB0b2tlbik7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHsgdHlwZTogQVNULklkZW50aWZpZXIsIG5hbWU6IHRva2VuLnRleHQgfTtcclxuICAgIH0sXHJcblxyXG4gICAgY29uc3RhbnQ6IGZ1bmN0aW9uIGNvbnN0YW50KCkge1xyXG4gICAgICAvLyBUT0RPIGNoZWNrIHRoYXQgaXQgaXMgYSBjb25zdGFudFxyXG4gICAgICByZXR1cm4geyB0eXBlOiBBU1QuTGl0ZXJhbCwgdmFsdWU6IHRoaXMuY29uc3VtZSgpLnZhbHVlIH07XHJcbiAgICB9LFxyXG5cclxuICAgIGFycmF5RGVjbGFyYXRpb246IGZ1bmN0aW9uIGFycmF5RGVjbGFyYXRpb24oKSB7XHJcbiAgICAgIHZhciBlbGVtZW50cyA9IFtdO1xyXG4gICAgICBpZiAodGhpcy5wZWVrVG9rZW4oKS50ZXh0ICE9PSAnXScpIHtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBpZiAodGhpcy5wZWVrKCddJykpIHtcclxuICAgICAgICAgICAgLy8gU3VwcG9ydCB0cmFpbGluZyBjb21tYXMgcGVyIEVTNS4xLlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsZW1lbnRzLnB1c2godGhpcy5leHByZXNzaW9uKCkpO1xyXG4gICAgICAgIH0gd2hpbGUgKHRoaXMuZXhwZWN0KCcsJykpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuY29uc3VtZSgnXScpO1xyXG5cclxuICAgICAgcmV0dXJuIHsgdHlwZTogQVNULkFycmF5RXhwcmVzc2lvbiwgZWxlbWVudHM6IGVsZW1lbnRzIH07XHJcbiAgICB9LFxyXG5cclxuICAgIG9iamVjdDogZnVuY3Rpb24gb2JqZWN0KCkge1xyXG4gICAgICB2YXIgcHJvcGVydGllcyA9IFtdLFxyXG4gICAgICAgICAgcHJvcGVydHk7XHJcbiAgICAgIGlmICh0aGlzLnBlZWtUb2tlbigpLnRleHQgIT09ICd9Jykge1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgIGlmICh0aGlzLnBlZWsoJ30nKSkge1xyXG4gICAgICAgICAgICAvLyBTdXBwb3J0IHRyYWlsaW5nIGNvbW1hcyBwZXIgRVM1LjEuXHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcHJvcGVydHkgPSB7IHR5cGU6IEFTVC5Qcm9wZXJ0eSwga2luZDogJ2luaXQnIH07XHJcbiAgICAgICAgICBpZiAodGhpcy5wZWVrKCkuY29uc3RhbnQpIHtcclxuICAgICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5jb25zdGFudCgpO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eS5jb21wdXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWUoJzonKTtcclxuICAgICAgICAgICAgcHJvcGVydHkudmFsdWUgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wZWVrKCkuaWRlbnRpZmllcikge1xyXG4gICAgICAgICAgICBwcm9wZXJ0eS5rZXkgPSB0aGlzLmlkZW50aWZpZXIoKTtcclxuICAgICAgICAgICAgcHJvcGVydHkuY29tcHV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgaWYgKHRoaXMucGVlaygnOicpKSB7XHJcbiAgICAgICAgICAgICAgdGhpcy5jb25zdW1lKCc6Jyk7XHJcbiAgICAgICAgICAgICAgcHJvcGVydHkudmFsdWUgPSB0aGlzLmV4cHJlc3Npb24oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IHByb3BlcnR5LmtleTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBlZWsoJ1snKSkge1xyXG4gICAgICAgICAgICB0aGlzLmNvbnN1bWUoJ1snKTtcclxuICAgICAgICAgICAgcHJvcGVydHkua2V5ID0gdGhpcy5leHByZXNzaW9uKCk7XHJcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZSgnXScpO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eS5jb21wdXRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY29uc3VtZSgnOicpO1xyXG4gICAgICAgICAgICBwcm9wZXJ0eS52YWx1ZSA9IHRoaXMuZXhwcmVzc2lvbigpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdpbnZhbGlkIGtleScsIHRoaXMucGVlaygpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHByb3BlcnRpZXMucHVzaChwcm9wZXJ0eSk7XHJcbiAgICAgICAgfSB3aGlsZSAodGhpcy5leHBlY3QoJywnKSk7XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy5jb25zdW1lKCd9Jyk7XHJcblxyXG4gICAgICByZXR1cm4geyB0eXBlOiBBU1QuT2JqZWN0RXhwcmVzc2lvbiwgcHJvcGVydGllczogcHJvcGVydGllcyB9O1xyXG4gICAgfSxcclxuXHJcbiAgICB0aHJvd0Vycm9yOiBmdW5jdGlvbiB0aHJvd0Vycm9yKG1zZywgdG9rZW4pIHtcclxuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdzeW50YXgnLCAnU3ludGF4IEVycm9yOiBUb2tlbiBcXCd7MH1cXCcgezF9IGF0IGNvbHVtbiB7Mn0gb2YgdGhlIGV4cHJlc3Npb24gW3szfV0gc3RhcnRpbmcgYXQgW3s0fV0uJywgdG9rZW4udGV4dCwgbXNnLCB0b2tlbi5pbmRleCArIDEsIHRoaXMudGV4dCwgdGhpcy50ZXh0LnN1YnN0cmluZyh0b2tlbi5pbmRleCkpO1xyXG4gICAgfSxcclxuXHJcbiAgICBjb25zdW1lOiBmdW5jdGlvbiBjb25zdW1lKGUxKSB7XHJcbiAgICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHRva2VuID0gdGhpcy5leHBlY3QoZTEpO1xyXG4gICAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgICAgdGhpcy50aHJvd0Vycm9yKCdpcyB1bmV4cGVjdGVkLCBleHBlY3RpbmcgWycgKyBlMSArICddJywgdGhpcy5wZWVrKCkpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlbjtcclxuICAgIH0sXHJcblxyXG4gICAgcGVla1Rva2VuOiBmdW5jdGlvbiBwZWVrVG9rZW4oKSB7XHJcbiAgICAgIGlmICh0aGlzLnRva2Vucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICB0aHJvdyAkcGFyc2VNaW5FcnIoJ3Vlb2UnLCAnVW5leHBlY3RlZCBlbmQgb2YgZXhwcmVzc2lvbjogezB9JywgdGhpcy50ZXh0KTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy50b2tlbnNbMF07XHJcbiAgICB9LFxyXG5cclxuICAgIHBlZWs6IGZ1bmN0aW9uIHBlZWsoZTEsIGUyLCBlMywgZTQpIHtcclxuICAgICAgcmV0dXJuIHRoaXMucGVla0FoZWFkKDAsIGUxLCBlMiwgZTMsIGU0KTtcclxuICAgIH0sXHJcblxyXG4gICAgcGVla0FoZWFkOiBmdW5jdGlvbiBwZWVrQWhlYWQoaSwgZTEsIGUyLCBlMywgZTQpIHtcclxuICAgICAgaWYgKHRoaXMudG9rZW5zLmxlbmd0aCA+IGkpIHtcclxuICAgICAgICB2YXIgdG9rZW4gPSB0aGlzLnRva2Vuc1tpXTtcclxuICAgICAgICB2YXIgdCA9IHRva2VuLnRleHQ7XHJcbiAgICAgICAgaWYgKHQgPT09IGUxIHx8IHQgPT09IGUyIHx8IHQgPT09IGUzIHx8IHQgPT09IGU0IHx8ICFlMSAmJiAhZTIgJiYgIWUzICYmICFlNCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9LFxyXG5cclxuICAgIGV4cGVjdDogZnVuY3Rpb24gZXhwZWN0KGUxLCBlMiwgZTMsIGU0KSB7XHJcbiAgICAgIHZhciB0b2tlbiA9IHRoaXMucGVlayhlMSwgZTIsIGUzLCBlNCk7XHJcbiAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgIHRoaXMudG9rZW5zLnNoaWZ0KCk7XHJcbiAgICAgICAgcmV0dXJuIHRva2VuO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH0sXHJcblxyXG4gICAgc2VsZlJlZmVyZW50aWFsOiB7XHJcbiAgICAgICd0aGlzJzogeyB0eXBlOiBBU1QuVGhpc0V4cHJlc3Npb24gfSxcclxuICAgICAgJyRsb2NhbHMnOiB7IHR5cGU6IEFTVC5Mb2NhbHNFeHByZXNzaW9uIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBmdW5jdGlvbiBpZkRlZmluZWQodiwgZCkge1xyXG4gICAgcmV0dXJuIHR5cGVvZiB2ICE9PSAndW5kZWZpbmVkJyA/IHYgOiBkO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gcGx1c0ZuKGwsIHIpIHtcclxuICAgIGlmICh0eXBlb2YgbCA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybiByO1xyXG4gICAgaWYgKHR5cGVvZiByID09PSAndW5kZWZpbmVkJykgcmV0dXJuIGw7XHJcbiAgICByZXR1cm4gbCArIHI7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1N0YXRlbGVzcygkZmlsdGVyLCBmaWx0ZXJOYW1lKSB7XHJcbiAgICB2YXIgZm4gPSAkZmlsdGVyKGZpbHRlck5hbWUpO1xyXG4gICAgcmV0dXJuICFmbi4kc3RhdGVmdWw7XHJcbiAgfVxyXG5cclxuICB2YXIgUFVSSVRZX0FCU09MVVRFID0gMTtcclxuICB2YXIgUFVSSVRZX1JFTEFUSVZFID0gMjtcclxuXHJcbiAgLy8gRGV0ZWN0IG5vZGVzIHdoaWNoIGNvdWxkIGRlcGVuZCBvbiBub24tc2hhbGxvdyBzdGF0ZSBvZiBvYmplY3RzXHJcbiAgZnVuY3Rpb24gaXNQdXJlKG5vZGUsIHBhcmVudElzUHVyZSkge1xyXG4gICAgc3dpdGNoIChub2RlLnR5cGUpIHtcclxuICAgICAgLy8gQ29tcHV0ZWQgbWVtYmVycyBtaWdodCBpbnZva2UgYSBzdGF0ZWZ1bCB0b1N0cmluZygpXHJcbiAgICAgIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XHJcbiAgICAgICAgaWYgKG5vZGUuY29tcHV0ZWQpIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAvLyBVbmFyeSBhbHdheXMgY29udmVydCB0byBwcmltYXRpdmVcclxuICAgICAgY2FzZSBBU1QuVW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICAgIHJldHVybiBQVVJJVFlfQUJTT0xVVEU7XHJcblxyXG4gICAgICAvLyBUaGUgYmluYXJ5ICsgb3BlcmF0b3IgY2FuIGludm9rZSBhIHN0YXRlZnVsIHRvU3RyaW5nKCkuXHJcbiAgICAgIGNhc2UgQVNULkJpbmFyeUV4cHJlc3Npb246XHJcbiAgICAgICAgcmV0dXJuIG5vZGUub3BlcmF0b3IgIT09ICcrJyA/IFBVUklUWV9BQlNPTFVURSA6IGZhbHNlO1xyXG5cclxuICAgICAgLy8gRnVuY3Rpb25zIC8gZmlsdGVycyBwcm9iYWJseSByZWFkIHN0YXRlIGZyb20gd2l0aGluIG9iamVjdHNcclxuICAgICAgY2FzZSBBU1QuQ2FsbEV4cHJlc3Npb246XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB1bmRlZmluZWQgPT09IHBhcmVudElzUHVyZSA/IFBVUklUWV9SRUxBVElWRSA6IHBhcmVudElzUHVyZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LCAkZmlsdGVyLCBwYXJlbnRJc1B1cmUpIHtcclxuICAgIHZhciBhbGxDb25zdGFudHM7XHJcbiAgICB2YXIgYXJnc1RvV2F0Y2g7XHJcbiAgICB2YXIgaXNTdGF0ZWxlc3NGaWx0ZXI7XHJcblxyXG4gICAgdmFyIGFzdElzUHVyZSA9IGFzdC5pc1B1cmUgPSBpc1B1cmUoYXN0LCBwYXJlbnRJc1B1cmUpO1xyXG5cclxuICAgIHN3aXRjaCAoYXN0LnR5cGUpIHtcclxuICAgICAgY2FzZSBBU1QuUHJvZ3JhbTpcclxuICAgICAgICBhbGxDb25zdGFudHMgPSB0cnVlO1xyXG4gICAgICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uIChleHByKSB7XHJcbiAgICAgICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGV4cHIuZXhwcmVzc2lvbiwgJGZpbHRlciwgYXN0SXNQdXJlKTtcclxuICAgICAgICAgIGFsbENvbnN0YW50cyA9IGFsbENvbnN0YW50cyAmJiBleHByLmV4cHJlc3Npb24uY29uc3RhbnQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEFTVC5MaXRlcmFsOlxyXG4gICAgICAgIGFzdC5jb25zdGFudCA9IHRydWU7XHJcbiAgICAgICAgYXN0LnRvV2F0Y2ggPSBbXTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSBBU1QuVW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmFyZ3VtZW50LCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xyXG4gICAgICAgIGFzdC5jb25zdGFudCA9IGFzdC5hcmd1bWVudC5jb25zdGFudDtcclxuICAgICAgICBhc3QudG9XYXRjaCA9IGFzdC5hcmd1bWVudC50b1dhdGNoO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEFTVC5CaW5hcnlFeHByZXNzaW9uOlxyXG4gICAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmxlZnQsICRmaWx0ZXIsIGFzdElzUHVyZSk7XHJcbiAgICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QucmlnaHQsICRmaWx0ZXIsIGFzdElzUHVyZSk7XHJcbiAgICAgICAgYXN0LmNvbnN0YW50ID0gYXN0LmxlZnQuY29uc3RhbnQgJiYgYXN0LnJpZ2h0LmNvbnN0YW50O1xyXG4gICAgICAgIGFzdC50b1dhdGNoID0gYXN0LmxlZnQudG9XYXRjaC5jb25jYXQoYXN0LnJpZ2h0LnRvV2F0Y2gpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcclxuICAgICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5sZWZ0LCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xyXG4gICAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnJpZ2h0LCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xyXG4gICAgICAgIGFzdC5jb25zdGFudCA9IGFzdC5sZWZ0LmNvbnN0YW50ICYmIGFzdC5yaWdodC5jb25zdGFudDtcclxuICAgICAgICBhc3QudG9XYXRjaCA9IGFzdC5jb25zdGFudCA/IFtdIDogW2FzdF07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpcclxuICAgICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC50ZXN0LCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xyXG4gICAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LmFsdGVybmF0ZSwgJGZpbHRlciwgYXN0SXNQdXJlKTtcclxuICAgICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5jb25zZXF1ZW50LCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xyXG4gICAgICAgIGFzdC5jb25zdGFudCA9IGFzdC50ZXN0LmNvbnN0YW50ICYmIGFzdC5hbHRlcm5hdGUuY29uc3RhbnQgJiYgYXN0LmNvbnNlcXVlbnQuY29uc3RhbnQ7XHJcbiAgICAgICAgYXN0LnRvV2F0Y2ggPSBhc3QuY29uc3RhbnQgPyBbXSA6IFthc3RdO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEFTVC5JZGVudGlmaWVyOlxyXG4gICAgICAgIGFzdC5jb25zdGFudCA9IGZhbHNlO1xyXG4gICAgICAgIGFzdC50b1dhdGNoID0gW2FzdF07XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XHJcbiAgICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3Qub2JqZWN0LCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xyXG4gICAgICAgIGlmIChhc3QuY29tcHV0ZWQpIHtcclxuICAgICAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnByb3BlcnR5LCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhc3QuY29uc3RhbnQgPSBhc3Qub2JqZWN0LmNvbnN0YW50ICYmICghYXN0LmNvbXB1dGVkIHx8IGFzdC5wcm9wZXJ0eS5jb25zdGFudCk7XHJcbiAgICAgICAgYXN0LnRvV2F0Y2ggPSBhc3QuY29uc3RhbnQgPyBbXSA6IFthc3RdO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEFTVC5DYWxsRXhwcmVzc2lvbjpcclxuICAgICAgICBpc1N0YXRlbGVzc0ZpbHRlciA9IGFzdC5maWx0ZXIgPyBpc1N0YXRlbGVzcygkZmlsdGVyLCBhc3QuY2FsbGVlLm5hbWUpIDogZmFsc2U7XHJcbiAgICAgICAgYWxsQ29uc3RhbnRzID0gaXNTdGF0ZWxlc3NGaWx0ZXI7XHJcbiAgICAgICAgYXJnc1RvV2F0Y2ggPSBbXTtcclxuICAgICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uIChleHByKSB7XHJcbiAgICAgICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGV4cHIsICRmaWx0ZXIsIGFzdElzUHVyZSk7XHJcbiAgICAgICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgZXhwci5jb25zdGFudDtcclxuICAgICAgICAgIGFyZ3NUb1dhdGNoLnB1c2guYXBwbHkoYXJnc1RvV2F0Y2gsIGV4cHIudG9XYXRjaCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXN0LmNvbnN0YW50ID0gYWxsQ29uc3RhbnRzO1xyXG4gICAgICAgIGFzdC50b1dhdGNoID0gaXNTdGF0ZWxlc3NGaWx0ZXIgPyBhcmdzVG9XYXRjaCA6IFthc3RdO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEFTVC5Bc3NpZ25tZW50RXhwcmVzc2lvbjpcclxuICAgICAgICBmaW5kQ29uc3RhbnRBbmRXYXRjaEV4cHJlc3Npb25zKGFzdC5sZWZ0LCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xyXG4gICAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMoYXN0LnJpZ2h0LCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xyXG4gICAgICAgIGFzdC5jb25zdGFudCA9IGFzdC5sZWZ0LmNvbnN0YW50ICYmIGFzdC5yaWdodC5jb25zdGFudDtcclxuICAgICAgICBhc3QudG9XYXRjaCA9IFthc3RdO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEFTVC5BcnJheUV4cHJlc3Npb246XHJcbiAgICAgICAgYWxsQ29uc3RhbnRzID0gdHJ1ZTtcclxuICAgICAgICBhcmdzVG9XYXRjaCA9IFtdO1xyXG4gICAgICAgIGZvckVhY2goYXN0LmVsZW1lbnRzLCBmdW5jdGlvbiAoZXhwcikge1xyXG4gICAgICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhleHByLCAkZmlsdGVyLCBhc3RJc1B1cmUpO1xyXG4gICAgICAgICAgYWxsQ29uc3RhbnRzID0gYWxsQ29uc3RhbnRzICYmIGV4cHIuY29uc3RhbnQ7XHJcbiAgICAgICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBleHByLnRvV2F0Y2gpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcclxuICAgICAgICBhc3QudG9XYXRjaCA9IGFyZ3NUb1dhdGNoO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEFTVC5PYmplY3RFeHByZXNzaW9uOlxyXG4gICAgICAgIGFsbENvbnN0YW50cyA9IHRydWU7XHJcbiAgICAgICAgYXJnc1RvV2F0Y2ggPSBbXTtcclxuICAgICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMocHJvcGVydHkudmFsdWUsICRmaWx0ZXIsIGFzdElzUHVyZSk7XHJcbiAgICAgICAgICBhbGxDb25zdGFudHMgPSBhbGxDb25zdGFudHMgJiYgcHJvcGVydHkudmFsdWUuY29uc3RhbnQ7XHJcbiAgICAgICAgICBhcmdzVG9XYXRjaC5wdXNoLmFwcGx5KGFyZ3NUb1dhdGNoLCBwcm9wZXJ0eS52YWx1ZS50b1dhdGNoKTtcclxuICAgICAgICAgIGlmIChwcm9wZXJ0eS5jb21wdXRlZCkge1xyXG4gICAgICAgICAgICAvL2B7W2tleV06IHZhbHVlfWAgaW1wbGljaXRseSBkb2VzIGBrZXkudG9TdHJpbmcoKWAgd2hpY2ggbWF5IGJlIG5vbi1wdXJlXHJcbiAgICAgICAgICAgIGZpbmRDb25zdGFudEFuZFdhdGNoRXhwcmVzc2lvbnMocHJvcGVydHkua2V5LCAkZmlsdGVyLCAvKnBhcmVudElzUHVyZT0qL2ZhbHNlKTtcclxuICAgICAgICAgICAgYWxsQ29uc3RhbnRzID0gYWxsQ29uc3RhbnRzICYmIHByb3BlcnR5LmtleS5jb25zdGFudDtcclxuICAgICAgICAgICAgYXJnc1RvV2F0Y2gucHVzaC5hcHBseShhcmdzVG9XYXRjaCwgcHJvcGVydHkua2V5LnRvV2F0Y2gpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFzdC5jb25zdGFudCA9IGFsbENvbnN0YW50cztcclxuICAgICAgICBhc3QudG9XYXRjaCA9IGFyZ3NUb1dhdGNoO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEFTVC5UaGlzRXhwcmVzc2lvbjpcclxuICAgICAgICBhc3QuY29uc3RhbnQgPSBmYWxzZTtcclxuICAgICAgICBhc3QudG9XYXRjaCA9IFtdO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlIEFTVC5Mb2NhbHNFeHByZXNzaW9uOlxyXG4gICAgICAgIGFzdC5jb25zdGFudCA9IGZhbHNlO1xyXG4gICAgICAgIGFzdC50b1dhdGNoID0gW107XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBnZXRJbnB1dHMoYm9keSkge1xyXG4gICAgaWYgKGJvZHkubGVuZ3RoICE9PSAxKSByZXR1cm47XHJcbiAgICB2YXIgbGFzdEV4cHJlc3Npb24gPSBib2R5WzBdLmV4cHJlc3Npb247XHJcbiAgICB2YXIgY2FuZGlkYXRlID0gbGFzdEV4cHJlc3Npb24udG9XYXRjaDtcclxuICAgIGlmIChjYW5kaWRhdGUubGVuZ3RoICE9PSAxKSByZXR1cm4gY2FuZGlkYXRlO1xyXG4gICAgcmV0dXJuIGNhbmRpZGF0ZVswXSAhPT0gbGFzdEV4cHJlc3Npb24gPyBjYW5kaWRhdGUgOiB1bmRlZmluZWQ7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc0Fzc2lnbmFibGUoYXN0KSB7XHJcbiAgICByZXR1cm4gYXN0LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyIHx8IGFzdC50eXBlID09PSBBU1QuTWVtYmVyRXhwcmVzc2lvbjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFzc2lnbmFibGVBU1QoYXN0KSB7XHJcbiAgICBpZiAoYXN0LmJvZHkubGVuZ3RoID09PSAxICYmIGlzQXNzaWduYWJsZShhc3QuYm9keVswXS5leHByZXNzaW9uKSkge1xyXG4gICAgICByZXR1cm4geyB0eXBlOiBBU1QuQXNzaWdubWVudEV4cHJlc3Npb24sIGxlZnQ6IGFzdC5ib2R5WzBdLmV4cHJlc3Npb24sIHJpZ2h0OiB7IHR5cGU6IEFTVC5OR1ZhbHVlUGFyYW1ldGVyIH0sIG9wZXJhdG9yOiAnPScgfTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzTGl0ZXJhbChhc3QpIHtcclxuICAgIHJldHVybiBhc3QuYm9keS5sZW5ndGggPT09IDAgfHwgYXN0LmJvZHkubGVuZ3RoID09PSAxICYmIChhc3QuYm9keVswXS5leHByZXNzaW9uLnR5cGUgPT09IEFTVC5MaXRlcmFsIHx8IGFzdC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSA9PT0gQVNULkFycmF5RXhwcmVzc2lvbiB8fCBhc3QuYm9keVswXS5leHByZXNzaW9uLnR5cGUgPT09IEFTVC5PYmplY3RFeHByZXNzaW9uKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGlzQ29uc3RhbnQoYXN0KSB7XHJcbiAgICByZXR1cm4gYXN0LmNvbnN0YW50O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gQVNUQ29tcGlsZXIoJGZpbHRlcikge1xyXG4gICAgdGhpcy4kZmlsdGVyID0gJGZpbHRlcjtcclxuICB9XHJcblxyXG4gIEFTVENvbXBpbGVyLnByb3RvdHlwZSA9IHtcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoYXN0KSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgdGhpcy5zdGF0ZSA9IHtcclxuICAgICAgICBuZXh0SWQ6IDAsXHJcbiAgICAgICAgZmlsdGVyczoge30sXHJcbiAgICAgICAgZm46IHsgdmFyczogW10sIGJvZHk6IFtdLCBvd246IHt9IH0sXHJcbiAgICAgICAgYXNzaWduOiB7IHZhcnM6IFtdLCBib2R5OiBbXSwgb3duOiB7fSB9LFxyXG4gICAgICAgIGlucHV0czogW11cclxuICAgICAgfTtcclxuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QsIHNlbGYuJGZpbHRlcik7XHJcbiAgICAgIHZhciBleHRyYSA9ICcnO1xyXG4gICAgICB2YXIgYXNzaWduYWJsZTtcclxuICAgICAgdGhpcy5zdGFnZSA9ICdhc3NpZ24nO1xyXG4gICAgICBpZiAoYXNzaWduYWJsZSA9IGFzc2lnbmFibGVBU1QoYXN0KSkge1xyXG4gICAgICAgIHRoaXMuc3RhdGUuY29tcHV0aW5nID0gJ2Fzc2lnbic7XHJcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMubmV4dElkKCk7XHJcbiAgICAgICAgdGhpcy5yZWN1cnNlKGFzc2lnbmFibGUsIHJlc3VsdCk7XHJcbiAgICAgICAgdGhpcy5yZXR1cm5fKHJlc3VsdCk7XHJcbiAgICAgICAgZXh0cmEgPSAnZm4uYXNzaWduPScgKyB0aGlzLmdlbmVyYXRlRnVuY3Rpb24oJ2Fzc2lnbicsICdzLHYsbCcpO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciB0b1dhdGNoID0gZ2V0SW5wdXRzKGFzdC5ib2R5KTtcclxuICAgICAgc2VsZi5zdGFnZSA9ICdpbnB1dHMnO1xyXG4gICAgICBmb3JFYWNoKHRvV2F0Y2gsIGZ1bmN0aW9uICh3YXRjaCwga2V5KSB7XHJcbiAgICAgICAgdmFyIGZuS2V5ID0gJ2ZuJyArIGtleTtcclxuICAgICAgICBzZWxmLnN0YXRlW2ZuS2V5XSA9IHsgdmFyczogW10sIGJvZHk6IFtdLCBvd246IHt9IH07XHJcbiAgICAgICAgc2VsZi5zdGF0ZS5jb21wdXRpbmcgPSBmbktleTtcclxuICAgICAgICB2YXIgaW50b0lkID0gc2VsZi5uZXh0SWQoKTtcclxuICAgICAgICBzZWxmLnJlY3Vyc2Uod2F0Y2gsIGludG9JZCk7XHJcbiAgICAgICAgc2VsZi5yZXR1cm5fKGludG9JZCk7XHJcbiAgICAgICAgc2VsZi5zdGF0ZS5pbnB1dHMucHVzaCh7IG5hbWU6IGZuS2V5LCBpc1B1cmU6IHdhdGNoLmlzUHVyZSB9KTtcclxuICAgICAgICB3YXRjaC53YXRjaElkID0ga2V5O1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5zdGF0ZS5jb21wdXRpbmcgPSAnZm4nO1xyXG4gICAgICB0aGlzLnN0YWdlID0gJ21haW4nO1xyXG4gICAgICB0aGlzLnJlY3Vyc2UoYXN0KTtcclxuICAgICAgdmFyIGZuU3RyaW5nID1cclxuICAgICAgLy8gVGhlIGJ1aWxkIGFuZCBtaW5pZmljYXRpb24gc3RlcHMgcmVtb3ZlIHRoZSBzdHJpbmcgXCJ1c2Ugc3RyaWN0XCIgZnJvbSB0aGUgY29kZSwgYnV0IHRoaXMgaXMgZG9uZSB1c2luZyBhIHJlZ2V4LlxyXG4gICAgICAvLyBUaGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgdGhpcyB1bnRpbCB3ZSBkbyBhIGJldHRlciBqb2IgYXQgb25seSByZW1vdmluZyB0aGUgcHJlZml4IG9ubHkgd2hlbiB3ZSBzaG91bGQuXHJcbiAgICAgICdcIicgKyB0aGlzLlVTRSArICcgJyArIHRoaXMuU1RSSUNUICsgJ1wiO1xcbicgKyB0aGlzLmZpbHRlclByZWZpeCgpICsgJ3ZhciBmbj0nICsgdGhpcy5nZW5lcmF0ZUZ1bmN0aW9uKCdmbicsICdzLGwsYSxpJykgKyBleHRyYSArIHRoaXMud2F0Y2hGbnMoKSArICdyZXR1cm4gZm47JztcclxuXHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1uZXctZnVuY1xyXG4gICAgICB2YXIgZm4gPSBuZXcgRnVuY3Rpb24oJyRmaWx0ZXInLCAnZ2V0U3RyaW5nVmFsdWUnLCAnaWZEZWZpbmVkJywgJ3BsdXMnLCBmblN0cmluZykodGhpcy4kZmlsdGVyLCBnZXRTdHJpbmdWYWx1ZSwgaWZEZWZpbmVkLCBwbHVzRm4pO1xyXG4gICAgICB0aGlzLnN0YXRlID0gdGhpcy5zdGFnZSA9IHVuZGVmaW5lZDtcclxuICAgICAgcmV0dXJuIGZuO1xyXG4gICAgfSxcclxuXHJcbiAgICBVU0U6ICd1c2UnLFxyXG5cclxuICAgIFNUUklDVDogJ3N0cmljdCcsXHJcblxyXG4gICAgd2F0Y2hGbnM6IGZ1bmN0aW9uIHdhdGNoRm5zKCkge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gW107XHJcbiAgICAgIHZhciBpbnB1dHMgPSB0aGlzLnN0YXRlLmlucHV0cztcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICBmb3JFYWNoKGlucHV0cywgZnVuY3Rpb24gKGlucHV0KSB7XHJcbiAgICAgICAgcmVzdWx0LnB1c2goJ3ZhciAnICsgaW5wdXQubmFtZSArICc9JyArIHNlbGYuZ2VuZXJhdGVGdW5jdGlvbihpbnB1dC5uYW1lLCAncycpKTtcclxuICAgICAgICBpZiAoaW5wdXQuaXNQdXJlKSB7XHJcbiAgICAgICAgICByZXN1bHQucHVzaChpbnB1dC5uYW1lLCAnLmlzUHVyZT0nICsgSlNPTi5zdHJpbmdpZnkoaW5wdXQuaXNQdXJlKSArICc7Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgaWYgKGlucHV0cy5sZW5ndGgpIHtcclxuICAgICAgICByZXN1bHQucHVzaCgnZm4uaW5wdXRzPVsnICsgaW5wdXRzLm1hcChmdW5jdGlvbiAoaSkge1xyXG4gICAgICAgICAgcmV0dXJuIGkubmFtZTtcclxuICAgICAgICB9KS5qb2luKCcsJykgKyAnXTsnKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJycpO1xyXG4gICAgfSxcclxuXHJcbiAgICBnZW5lcmF0ZUZ1bmN0aW9uOiBmdW5jdGlvbiBnZW5lcmF0ZUZ1bmN0aW9uKG5hbWUsIHBhcmFtcykge1xyXG4gICAgICByZXR1cm4gJ2Z1bmN0aW9uKCcgKyBwYXJhbXMgKyAnKXsnICsgdGhpcy52YXJzUHJlZml4KG5hbWUpICsgdGhpcy5ib2R5KG5hbWUpICsgJ307JztcclxuICAgIH0sXHJcblxyXG4gICAgZmlsdGVyUHJlZml4OiBmdW5jdGlvbiBmaWx0ZXJQcmVmaXgoKSB7XHJcbiAgICAgIHZhciBwYXJ0cyA9IFtdO1xyXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICAgIGZvckVhY2godGhpcy5zdGF0ZS5maWx0ZXJzLCBmdW5jdGlvbiAoaWQsIGZpbHRlcikge1xyXG4gICAgICAgIHBhcnRzLnB1c2goaWQgKyAnPSRmaWx0ZXIoJyArIHNlbGYuZXNjYXBlKGZpbHRlcikgKyAnKScpO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYgKHBhcnRzLmxlbmd0aCkgcmV0dXJuICd2YXIgJyArIHBhcnRzLmpvaW4oJywnKSArICc7JztcclxuICAgICAgcmV0dXJuICcnO1xyXG4gICAgfSxcclxuXHJcbiAgICB2YXJzUHJlZml4OiBmdW5jdGlvbiB2YXJzUHJlZml4KHNlY3Rpb24pIHtcclxuICAgICAgcmV0dXJuIHRoaXMuc3RhdGVbc2VjdGlvbl0udmFycy5sZW5ndGggPyAndmFyICcgKyB0aGlzLnN0YXRlW3NlY3Rpb25dLnZhcnMuam9pbignLCcpICsgJzsnIDogJyc7XHJcbiAgICB9LFxyXG5cclxuICAgIGJvZHk6IGZ1bmN0aW9uIGJvZHkoc2VjdGlvbikge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZVtzZWN0aW9uXS5ib2R5LmpvaW4oJycpO1xyXG4gICAgfSxcclxuXHJcbiAgICByZWN1cnNlOiBmdW5jdGlvbiByZWN1cnNlKGFzdCwgaW50b0lkLCBuYW1lSWQsIHJlY3Vyc2lvbkZuLCBjcmVhdGUsIHNraXBXYXRjaElkQ2hlY2spIHtcclxuICAgICAgdmFyIGxlZnQsXHJcbiAgICAgICAgICByaWdodCxcclxuICAgICAgICAgIHNlbGYgPSB0aGlzLFxyXG4gICAgICAgICAgYXJncyxcclxuICAgICAgICAgIGV4cHJlc3Npb24sXHJcbiAgICAgICAgICBjb21wdXRlZDtcclxuICAgICAgcmVjdXJzaW9uRm4gPSByZWN1cnNpb25GbiB8fCBub29wO1xyXG4gICAgICBpZiAoIXNraXBXYXRjaElkQ2hlY2sgJiYgaXNEZWZpbmVkKGFzdC53YXRjaElkKSkge1xyXG4gICAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICAgIHRoaXMuaWZfKCdpJywgdGhpcy5sYXp5QXNzaWduKGludG9JZCwgdGhpcy5jb21wdXRlZE1lbWJlcignaScsIGFzdC53YXRjaElkKSksIHRoaXMubGF6eVJlY3Vyc2UoYXN0LCBpbnRvSWQsIG5hbWVJZCwgcmVjdXJzaW9uRm4sIGNyZWF0ZSwgdHJ1ZSkpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICBzd2l0Y2ggKGFzdC50eXBlKSB7XHJcbiAgICAgICAgY2FzZSBBU1QuUHJvZ3JhbTpcclxuICAgICAgICAgIGZvckVhY2goYXN0LmJvZHksIGZ1bmN0aW9uIChleHByZXNzaW9uLCBwb3MpIHtcclxuICAgICAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHJlc3Npb24uZXhwcmVzc2lvbiwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uIChleHByKSB7XHJcbiAgICAgICAgICAgICAgcmlnaHQgPSBleHByO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKHBvcyAhPT0gYXN0LmJvZHkubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgIHNlbGYuY3VycmVudCgpLmJvZHkucHVzaChyaWdodCwgJzsnKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBzZWxmLnJldHVybl8ocmlnaHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQVNULkxpdGVyYWw6XHJcbiAgICAgICAgICBleHByZXNzaW9uID0gdGhpcy5lc2NhcGUoYXN0LnZhbHVlKTtcclxuICAgICAgICAgIHRoaXMuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICByZWN1cnNpb25GbihpbnRvSWQgfHwgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEFTVC5VbmFyeUV4cHJlc3Npb246XHJcbiAgICAgICAgICB0aGlzLnJlY3Vyc2UoYXN0LmFyZ3VtZW50LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGV4cHIpIHtcclxuICAgICAgICAgICAgcmlnaHQgPSBleHByO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBleHByZXNzaW9uID0gYXN0Lm9wZXJhdG9yICsgJygnICsgdGhpcy5pZkRlZmluZWQocmlnaHQsIDApICsgJyknO1xyXG4gICAgICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgIHJlY3Vyc2lvbkZuKGV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBBU1QuQmluYXJ5RXhwcmVzc2lvbjpcclxuICAgICAgICAgIHRoaXMucmVjdXJzZShhc3QubGVmdCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGZ1bmN0aW9uIChleHByKSB7XHJcbiAgICAgICAgICAgIGxlZnQgPSBleHByO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICB0aGlzLnJlY3Vyc2UoYXN0LnJpZ2h0LCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgZnVuY3Rpb24gKGV4cHIpIHtcclxuICAgICAgICAgICAgcmlnaHQgPSBleHByO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpZiAoYXN0Lm9wZXJhdG9yID09PSAnKycpIHtcclxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHRoaXMucGx1cyhsZWZ0LCByaWdodCk7XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGFzdC5vcGVyYXRvciA9PT0gJy0nKSB7XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSB0aGlzLmlmRGVmaW5lZChsZWZ0LCAwKSArIGFzdC5vcGVyYXRvciArIHRoaXMuaWZEZWZpbmVkKHJpZ2h0LCAwKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSAnKCcgKyBsZWZ0ICsgJyknICsgYXN0Lm9wZXJhdG9yICsgJygnICsgcmlnaHQgKyAnKSc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEFTVC5Mb2dpY2FsRXhwcmVzc2lvbjpcclxuICAgICAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5sZWZ0LCBpbnRvSWQpO1xyXG4gICAgICAgICAgc2VsZi5pZl8oYXN0Lm9wZXJhdG9yID09PSAnJiYnID8gaW50b0lkIDogc2VsZi5ub3QoaW50b0lkKSwgc2VsZi5sYXp5UmVjdXJzZShhc3QucmlnaHQsIGludG9JZCkpO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpcclxuICAgICAgICAgIGludG9JZCA9IGludG9JZCB8fCB0aGlzLm5leHRJZCgpO1xyXG4gICAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC50ZXN0LCBpbnRvSWQpO1xyXG4gICAgICAgICAgc2VsZi5pZl8oaW50b0lkLCBzZWxmLmxhenlSZWN1cnNlKGFzdC5hbHRlcm5hdGUsIGludG9JZCksIHNlbGYubGF6eVJlY3Vyc2UoYXN0LmNvbnNlcXVlbnQsIGludG9JZCkpO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQVNULklkZW50aWZpZXI6XHJcbiAgICAgICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcclxuICAgICAgICAgIGlmIChuYW1lSWQpIHtcclxuICAgICAgICAgICAgbmFtZUlkLmNvbnRleHQgPSBzZWxmLnN0YWdlID09PSAnaW5wdXRzJyA/ICdzJyA6IHRoaXMuYXNzaWduKHRoaXMubmV4dElkKCksIHRoaXMuZ2V0SGFzT3duUHJvcGVydHkoJ2wnLCBhc3QubmFtZSkgKyAnP2w6cycpO1xyXG4gICAgICAgICAgICBuYW1lSWQuY29tcHV0ZWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgbmFtZUlkLm5hbWUgPSBhc3QubmFtZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHNlbGYuaWZfKHNlbGYuc3RhZ2UgPT09ICdpbnB1dHMnIHx8IHNlbGYubm90KHNlbGYuZ2V0SGFzT3duUHJvcGVydHkoJ2wnLCBhc3QubmFtZSkpLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNlbGYuaWZfKHNlbGYuc3RhZ2UgPT09ICdpbnB1dHMnIHx8ICdzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIGlmIChjcmVhdGUgJiYgY3JlYXRlICE9PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLmlzTnVsbChzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdzJywgYXN0Lm5hbWUpKSwgc2VsZi5sYXp5QXNzaWduKHNlbGYubm9uQ29tcHV0ZWRNZW1iZXIoJ3MnLCBhc3QubmFtZSksICd7fScpKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKCdzJywgYXN0Lm5hbWUpKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9LCBpbnRvSWQgJiYgc2VsZi5sYXp5QXNzaWduKGludG9JZCwgc2VsZi5ub25Db21wdXRlZE1lbWJlcignbCcsIGFzdC5uYW1lKSkpO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XHJcbiAgICAgICAgICBsZWZ0ID0gbmFtZUlkICYmIChuYW1lSWQuY29udGV4dCA9IHRoaXMubmV4dElkKCkpIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcclxuICAgICAgICAgIHNlbGYucmVjdXJzZShhc3Qub2JqZWN0LCBsZWZ0LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5pZl8oc2VsZi5ub3ROdWxsKGxlZnQpLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGFzdC5jb21wdXRlZCkge1xyXG4gICAgICAgICAgICAgICAgcmlnaHQgPSBzZWxmLm5leHRJZCgpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5yZWN1cnNlKGFzdC5wcm9wZXJ0eSwgcmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5nZXRTdHJpbmdWYWx1ZShyaWdodCk7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdChzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSksIHNlbGYubGF6eUFzc2lnbihzZWxmLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KSwgJ3t9JykpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYuY29tcHV0ZWRNZW1iZXIobGVmdCwgcmlnaHQpO1xyXG4gICAgICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgICAgICAgIGlmIChuYW1lSWQpIHtcclxuICAgICAgICAgICAgICAgICAgbmFtZUlkLmNvbXB1dGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgbmFtZUlkLm5hbWUgPSByaWdodDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNyZWF0ZSAmJiBjcmVhdGUgIT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgc2VsZi5pZl8oc2VsZi5pc051bGwoc2VsZi5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCBhc3QucHJvcGVydHkubmFtZSkpLCBzZWxmLmxhenlBc3NpZ24oc2VsZi5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCBhc3QucHJvcGVydHkubmFtZSksICd7fScpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIGFzdC5wcm9wZXJ0eS5uYW1lKTtcclxuICAgICAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgICAgICBpZiAobmFtZUlkKSB7XHJcbiAgICAgICAgICAgICAgICAgIG5hbWVJZC5jb21wdXRlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICBuYW1lSWQubmFtZSA9IGFzdC5wcm9wZXJ0eS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgJ3VuZGVmaW5lZCcpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkKTtcclxuICAgICAgICAgIH0sICEhY3JlYXRlKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQVNULkNhbGxFeHByZXNzaW9uOlxyXG4gICAgICAgICAgaW50b0lkID0gaW50b0lkIHx8IHRoaXMubmV4dElkKCk7XHJcbiAgICAgICAgICBpZiAoYXN0LmZpbHRlcikge1xyXG4gICAgICAgICAgICByaWdodCA9IHNlbGYuZmlsdGVyKGFzdC5jYWxsZWUubmFtZSk7XHJcbiAgICAgICAgICAgIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yRWFjaChhc3QuYXJndW1lbnRzLCBmdW5jdGlvbiAoZXhwcikge1xyXG4gICAgICAgICAgICAgIHZhciBhcmd1bWVudCA9IHNlbGYubmV4dElkKCk7XHJcbiAgICAgICAgICAgICAgc2VsZi5yZWN1cnNlKGV4cHIsIGFyZ3VtZW50KTtcclxuICAgICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHJpZ2h0ICsgJygnICsgYXJncy5qb2luKCcsJykgKyAnKSc7XHJcbiAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByaWdodCA9IHNlbGYubmV4dElkKCk7XHJcbiAgICAgICAgICAgIGxlZnQgPSB7fTtcclxuICAgICAgICAgICAgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICBzZWxmLnJlY3Vyc2UoYXN0LmNhbGxlZSwgcmlnaHQsIGxlZnQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICBzZWxmLmlmXyhzZWxmLm5vdE51bGwocmlnaHQpLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBmb3JFYWNoKGFzdC5hcmd1bWVudHMsIGZ1bmN0aW9uIChleHByKSB7XHJcbiAgICAgICAgICAgICAgICAgIHNlbGYucmVjdXJzZShleHByLCBhc3QuY29uc3RhbnQgPyB1bmRlZmluZWQgOiBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uIChhcmd1bWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudCk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGVmdC5uYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSBzZWxmLm1lbWJlcihsZWZ0LmNvbnRleHQsIGxlZnQubmFtZSwgbGVmdC5jb21wdXRlZCkgKyAnKCcgKyBhcmdzLmpvaW4oJywnKSArICcpJztcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgIGV4cHJlc3Npb24gPSByaWdodCArICcoJyArIGFyZ3Muam9pbignLCcpICsgJyknO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgc2VsZi5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBzZWxmLmFzc2lnbihpbnRvSWQsICd1bmRlZmluZWQnKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICByZWN1cnNpb25GbihpbnRvSWQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQVNULkFzc2lnbm1lbnRFeHByZXNzaW9uOlxyXG4gICAgICAgICAgcmlnaHQgPSB0aGlzLm5leHRJZCgpO1xyXG4gICAgICAgICAgbGVmdCA9IHt9O1xyXG4gICAgICAgICAgdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB1bmRlZmluZWQsIGxlZnQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5pZl8oc2VsZi5ub3ROdWxsKGxlZnQuY29udGV4dCksIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICBzZWxmLnJlY3Vyc2UoYXN0LnJpZ2h0LCByaWdodCk7XHJcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbiA9IHNlbGYubWVtYmVyKGxlZnQuY29udGV4dCwgbGVmdC5uYW1lLCBsZWZ0LmNvbXB1dGVkKSArIGFzdC5vcGVyYXRvciArIHJpZ2h0O1xyXG4gICAgICAgICAgICAgIHNlbGYuYXNzaWduKGludG9JZCwgZXhwcmVzc2lvbik7XHJcbiAgICAgICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8IGV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0sIDEpO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBBU1QuQXJyYXlFeHByZXNzaW9uOlxyXG4gICAgICAgICAgYXJncyA9IFtdO1xyXG4gICAgICAgICAgZm9yRWFjaChhc3QuZWxlbWVudHMsIGZ1bmN0aW9uIChleHByKSB7XHJcbiAgICAgICAgICAgIHNlbGYucmVjdXJzZShleHByLCBhc3QuY29uc3RhbnQgPyB1bmRlZmluZWQgOiBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uIChhcmd1bWVudCkge1xyXG4gICAgICAgICAgICAgIGFyZ3MucHVzaChhcmd1bWVudCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBleHByZXNzaW9uID0gJ1snICsgYXJncy5qb2luKCcsJykgKyAnXSc7XHJcbiAgICAgICAgICB0aGlzLmFzc2lnbihpbnRvSWQsIGV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8IGV4cHJlc3Npb24pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBBU1QuT2JqZWN0RXhwcmVzc2lvbjpcclxuICAgICAgICAgIGFyZ3MgPSBbXTtcclxuICAgICAgICAgIGNvbXB1dGVkID0gZmFsc2U7XHJcbiAgICAgICAgICBmb3JFYWNoKGFzdC5wcm9wZXJ0aWVzLCBmdW5jdGlvbiAocHJvcGVydHkpIHtcclxuICAgICAgICAgICAgaWYgKHByb3BlcnR5LmNvbXB1dGVkKSB7XHJcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGlmIChjb21wdXRlZCkge1xyXG4gICAgICAgICAgICBpbnRvSWQgPSBpbnRvSWQgfHwgdGhpcy5uZXh0SWQoKTtcclxuICAgICAgICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAne30nKTtcclxuICAgICAgICAgICAgZm9yRWFjaChhc3QucHJvcGVydGllcywgZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgaWYgKHByb3BlcnR5LmNvbXB1dGVkKSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0ID0gc2VsZi5uZXh0SWQoKTtcclxuICAgICAgICAgICAgICAgIHNlbGYucmVjdXJzZShwcm9wZXJ0eS5rZXksIGxlZnQpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBsZWZ0ID0gcHJvcGVydHkua2V5LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyID8gcHJvcGVydHkua2V5Lm5hbWUgOiAnJyArIHByb3BlcnR5LmtleS52YWx1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmlnaHQgPSBzZWxmLm5leHRJZCgpO1xyXG4gICAgICAgICAgICAgIHNlbGYucmVjdXJzZShwcm9wZXJ0eS52YWx1ZSwgcmlnaHQpO1xyXG4gICAgICAgICAgICAgIHNlbGYuYXNzaWduKHNlbGYubWVtYmVyKGludG9JZCwgbGVmdCwgcHJvcGVydHkuY29tcHV0ZWQpLCByaWdodCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZm9yRWFjaChhc3QucHJvcGVydGllcywgZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgICAgc2VsZi5yZWN1cnNlKHByb3BlcnR5LnZhbHVlLCBhc3QuY29uc3RhbnQgPyB1bmRlZmluZWQgOiBzZWxmLm5leHRJZCgpLCB1bmRlZmluZWQsIGZ1bmN0aW9uIChleHByKSB7XHJcbiAgICAgICAgICAgICAgICBhcmdzLnB1c2goc2VsZi5lc2NhcGUocHJvcGVydHkua2V5LnR5cGUgPT09IEFTVC5JZGVudGlmaWVyID8gcHJvcGVydHkua2V5Lm5hbWUgOiAnJyArIHByb3BlcnR5LmtleS52YWx1ZSkgKyAnOicgKyBleHByKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGV4cHJlc3Npb24gPSAneycgKyBhcmdzLmpvaW4oJywnKSArICd9JztcclxuICAgICAgICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCBleHByZXNzaW9uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJlY3Vyc2lvbkZuKGludG9JZCB8fCBleHByZXNzaW9uKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQVNULlRoaXNFeHByZXNzaW9uOlxyXG4gICAgICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAncycpO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8ICdzJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEFTVC5Mb2NhbHNFeHByZXNzaW9uOlxyXG4gICAgICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAnbCcpO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8ICdsJyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEFTVC5OR1ZhbHVlUGFyYW1ldGVyOlxyXG4gICAgICAgICAgdGhpcy5hc3NpZ24oaW50b0lkLCAndicpO1xyXG4gICAgICAgICAgcmVjdXJzaW9uRm4oaW50b0lkIHx8ICd2Jyk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBnZXRIYXNPd25Qcm9wZXJ0eTogZnVuY3Rpb24gZ2V0SGFzT3duUHJvcGVydHkoZWxlbWVudCwgcHJvcGVydHkpIHtcclxuICAgICAgdmFyIGtleSA9IGVsZW1lbnQgKyAnLicgKyBwcm9wZXJ0eTtcclxuICAgICAgdmFyIG93biA9IHRoaXMuY3VycmVudCgpLm93bjtcclxuICAgICAgaWYgKCFvd24uaGFzT3duUHJvcGVydHkoa2V5KSkge1xyXG4gICAgICAgIG93bltrZXldID0gdGhpcy5uZXh0SWQoZmFsc2UsIGVsZW1lbnQgKyAnJiYoJyArIHRoaXMuZXNjYXBlKHByb3BlcnR5KSArICcgaW4gJyArIGVsZW1lbnQgKyAnKScpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBvd25ba2V5XTtcclxuICAgIH0sXHJcblxyXG4gICAgYXNzaWduOiBmdW5jdGlvbiBhc3NpZ24oaWQsIHZhbHVlKSB7XHJcbiAgICAgIGlmICghaWQpIHJldHVybjtcclxuICAgICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKGlkLCAnPScsIHZhbHVlLCAnOycpO1xyXG4gICAgICByZXR1cm4gaWQ7XHJcbiAgICB9LFxyXG5cclxuICAgIGZpbHRlcjogZnVuY3Rpb24gZmlsdGVyKGZpbHRlck5hbWUpIHtcclxuICAgICAgaWYgKCF0aGlzLnN0YXRlLmZpbHRlcnMuaGFzT3duUHJvcGVydHkoZmlsdGVyTmFtZSkpIHtcclxuICAgICAgICB0aGlzLnN0YXRlLmZpbHRlcnNbZmlsdGVyTmFtZV0gPSB0aGlzLm5leHRJZCh0cnVlKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZS5maWx0ZXJzW2ZpbHRlck5hbWVdO1xyXG4gICAgfSxcclxuXHJcbiAgICBpZkRlZmluZWQ6IGZ1bmN0aW9uIGlmRGVmaW5lZChpZCwgZGVmYXVsdFZhbHVlKSB7XHJcbiAgICAgIHJldHVybiAnaWZEZWZpbmVkKCcgKyBpZCArICcsJyArIHRoaXMuZXNjYXBlKGRlZmF1bHRWYWx1ZSkgKyAnKSc7XHJcbiAgICB9LFxyXG5cclxuICAgIHBsdXM6IGZ1bmN0aW9uIHBsdXMobGVmdCwgcmlnaHQpIHtcclxuICAgICAgcmV0dXJuICdwbHVzKCcgKyBsZWZ0ICsgJywnICsgcmlnaHQgKyAnKSc7XHJcbiAgICB9LFxyXG5cclxuICAgIHJldHVybl86IGZ1bmN0aW9uIHJldHVybl8oaWQpIHtcclxuICAgICAgdGhpcy5jdXJyZW50KCkuYm9keS5wdXNoKCdyZXR1cm4gJywgaWQsICc7Jyk7XHJcbiAgICB9LFxyXG5cclxuICAgIGlmXzogZnVuY3Rpb24gaWZfKHRlc3QsIGFsdGVybmF0ZSwgY29uc2VxdWVudCkge1xyXG4gICAgICBpZiAodGVzdCA9PT0gdHJ1ZSkge1xyXG4gICAgICAgIGFsdGVybmF0ZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBib2R5ID0gdGhpcy5jdXJyZW50KCkuYm9keTtcclxuICAgICAgICBib2R5LnB1c2goJ2lmKCcsIHRlc3QsICcpeycpO1xyXG4gICAgICAgIGFsdGVybmF0ZSgpO1xyXG4gICAgICAgIGJvZHkucHVzaCgnfScpO1xyXG4gICAgICAgIGlmIChjb25zZXF1ZW50KSB7XHJcbiAgICAgICAgICBib2R5LnB1c2goJ2Vsc2V7Jyk7XHJcbiAgICAgICAgICBjb25zZXF1ZW50KCk7XHJcbiAgICAgICAgICBib2R5LnB1c2goJ30nKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgbm90OiBmdW5jdGlvbiBub3QoZXhwcmVzc2lvbikge1xyXG4gICAgICByZXR1cm4gJyEoJyArIGV4cHJlc3Npb24gKyAnKSc7XHJcbiAgICB9LFxyXG5cclxuICAgIGlzTnVsbDogZnVuY3Rpb24gaXNOdWxsKGV4cHJlc3Npb24pIHtcclxuICAgICAgcmV0dXJuIGV4cHJlc3Npb24gKyAnPT1udWxsJztcclxuICAgIH0sXHJcblxyXG4gICAgbm90TnVsbDogZnVuY3Rpb24gbm90TnVsbChleHByZXNzaW9uKSB7XHJcbiAgICAgIHJldHVybiBleHByZXNzaW9uICsgJyE9bnVsbCc7XHJcbiAgICB9LFxyXG5cclxuICAgIG5vbkNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbiBub25Db21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCkge1xyXG4gICAgICB2YXIgU0FGRV9JREVOVElGSUVSID0gL15bJF9hLXpBLVpdWyRfYS16QS1aMC05XSokLztcclxuICAgICAgdmFyIFVOU0FGRV9DSEFSQUNURVJTID0gL1teJF9hLXpBLVowLTldL2c7XHJcbiAgICAgIGlmIChTQUZFX0lERU5USUZJRVIudGVzdChyaWdodCkpIHtcclxuICAgICAgICByZXR1cm4gbGVmdCArICcuJyArIHJpZ2h0O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBsZWZ0ICsgJ1tcIicgKyByaWdodC5yZXBsYWNlKFVOU0FGRV9DSEFSQUNURVJTLCB0aGlzLnN0cmluZ0VzY2FwZUZuKSArICdcIl0nO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGNvbXB1dGVkTWVtYmVyOiBmdW5jdGlvbiBjb21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCkge1xyXG4gICAgICByZXR1cm4gbGVmdCArICdbJyArIHJpZ2h0ICsgJ10nO1xyXG4gICAgfSxcclxuXHJcbiAgICBtZW1iZXI6IGZ1bmN0aW9uIG1lbWJlcihsZWZ0LCByaWdodCwgY29tcHV0ZWQpIHtcclxuICAgICAgaWYgKGNvbXB1dGVkKSByZXR1cm4gdGhpcy5jb21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCk7XHJcbiAgICAgIHJldHVybiB0aGlzLm5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0KTtcclxuICAgIH0sXHJcblxyXG4gICAgZ2V0U3RyaW5nVmFsdWU6IGZ1bmN0aW9uIGdldFN0cmluZ1ZhbHVlKGl0ZW0pIHtcclxuICAgICAgdGhpcy5hc3NpZ24oaXRlbSwgJ2dldFN0cmluZ1ZhbHVlKCcgKyBpdGVtICsgJyknKTtcclxuICAgIH0sXHJcblxyXG4gICAgbGF6eVJlY3Vyc2U6IGZ1bmN0aW9uIGxhenlSZWN1cnNlKGFzdCwgaW50b0lkLCBuYW1lSWQsIHJlY3Vyc2lvbkZuLCBjcmVhdGUsIHNraXBXYXRjaElkQ2hlY2spIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYucmVjdXJzZShhc3QsIGludG9JZCwgbmFtZUlkLCByZWN1cnNpb25GbiwgY3JlYXRlLCBza2lwV2F0Y2hJZENoZWNrKTtcclxuICAgICAgfTtcclxuICAgIH0sXHJcblxyXG4gICAgbGF6eUFzc2lnbjogZnVuY3Rpb24gbGF6eUFzc2lnbihpZCwgdmFsdWUpIHtcclxuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGYuYXNzaWduKGlkLCB2YWx1ZSk7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG5cclxuICAgIHN0cmluZ0VzY2FwZVJlZ2V4OiAvW14gYS16QS1aMC05XS9nLFxyXG5cclxuICAgIHN0cmluZ0VzY2FwZUZuOiBmdW5jdGlvbiBzdHJpbmdFc2NhcGVGbihjKSB7XHJcbiAgICAgIHJldHVybiAnXFxcXHUnICsgKCcwMDAwJyArIGMuY2hhckNvZGVBdCgwKS50b1N0cmluZygxNikpLnNsaWNlKC00KTtcclxuICAgIH0sXHJcblxyXG4gICAgZXNjYXBlOiBmdW5jdGlvbiBlc2NhcGUodmFsdWUpIHtcclxuICAgICAgaWYgKGlzU3RyaW5nKHZhbHVlKSkgcmV0dXJuICdcXCcnICsgdmFsdWUucmVwbGFjZSh0aGlzLnN0cmluZ0VzY2FwZVJlZ2V4LCB0aGlzLnN0cmluZ0VzY2FwZUZuKSArICdcXCcnO1xyXG4gICAgICBpZiAoaXNOdW1iZXIodmFsdWUpKSByZXR1cm4gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgaWYgKHZhbHVlID09PSB0cnVlKSByZXR1cm4gJ3RydWUnO1xyXG4gICAgICBpZiAodmFsdWUgPT09IGZhbHNlKSByZXR1cm4gJ2ZhbHNlJztcclxuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSByZXR1cm4gJ251bGwnO1xyXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJykgcmV0dXJuICd1bmRlZmluZWQnO1xyXG5cclxuICAgICAgdGhyb3cgJHBhcnNlTWluRXJyKCdlc2MnLCAnSU1QT1NTSUJMRScpO1xyXG4gICAgfSxcclxuXHJcbiAgICBuZXh0SWQ6IGZ1bmN0aW9uIG5leHRJZChza2lwLCBpbml0KSB7XHJcbiAgICAgIHZhciBpZCA9ICd2JyArIHRoaXMuc3RhdGUubmV4dElkKys7XHJcbiAgICAgIGlmICghc2tpcCkge1xyXG4gICAgICAgIHRoaXMuY3VycmVudCgpLnZhcnMucHVzaChpZCArIChpbml0ID8gJz0nICsgaW5pdCA6ICcnKSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGlkO1xyXG4gICAgfSxcclxuXHJcbiAgICBjdXJyZW50OiBmdW5jdGlvbiBjdXJyZW50KCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5zdGF0ZVt0aGlzLnN0YXRlLmNvbXB1dGluZ107XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gQVNUSW50ZXJwcmV0ZXIoJGZpbHRlcikge1xyXG4gICAgdGhpcy4kZmlsdGVyID0gJGZpbHRlcjtcclxuICB9XHJcblxyXG4gIEFTVEludGVycHJldGVyLnByb3RvdHlwZSA9IHtcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoYXN0KSB7XHJcbiAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgZmluZENvbnN0YW50QW5kV2F0Y2hFeHByZXNzaW9ucyhhc3QsIHNlbGYuJGZpbHRlcik7XHJcbiAgICAgIHZhciBhc3NpZ25hYmxlO1xyXG4gICAgICB2YXIgYXNzaWduO1xyXG4gICAgICBpZiAoYXNzaWduYWJsZSA9IGFzc2lnbmFibGVBU1QoYXN0KSkge1xyXG4gICAgICAgIGFzc2lnbiA9IHRoaXMucmVjdXJzZShhc3NpZ25hYmxlKTtcclxuICAgICAgfVxyXG4gICAgICB2YXIgdG9XYXRjaCA9IGdldElucHV0cyhhc3QuYm9keSk7XHJcbiAgICAgIHZhciBpbnB1dHM7XHJcbiAgICAgIGlmICh0b1dhdGNoKSB7XHJcbiAgICAgICAgaW5wdXRzID0gW107XHJcbiAgICAgICAgZm9yRWFjaCh0b1dhdGNoLCBmdW5jdGlvbiAod2F0Y2gsIGtleSkge1xyXG4gICAgICAgICAgdmFyIGlucHV0ID0gc2VsZi5yZWN1cnNlKHdhdGNoKTtcclxuICAgICAgICAgIGlucHV0LmlzUHVyZSA9IHdhdGNoLmlzUHVyZTtcclxuICAgICAgICAgIHdhdGNoLmlucHV0ID0gaW5wdXQ7XHJcbiAgICAgICAgICBpbnB1dHMucHVzaChpbnB1dCk7XHJcbiAgICAgICAgICB3YXRjaC53YXRjaElkID0ga2V5O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBleHByZXNzaW9ucyA9IFtdO1xyXG4gICAgICBmb3JFYWNoKGFzdC5ib2R5LCBmdW5jdGlvbiAoZXhwcmVzc2lvbikge1xyXG4gICAgICAgIGV4cHJlc3Npb25zLnB1c2goc2VsZi5yZWN1cnNlKGV4cHJlc3Npb24uZXhwcmVzc2lvbikpO1xyXG4gICAgICB9KTtcclxuICAgICAgdmFyIGZuID0gYXN0LmJvZHkubGVuZ3RoID09PSAwID8gbm9vcCA6IGFzdC5ib2R5Lmxlbmd0aCA9PT0gMSA/IGV4cHJlc3Npb25zWzBdIDogZnVuY3Rpb24gKHNjb3BlLCBsb2NhbHMpIHtcclxuICAgICAgICB2YXIgbGFzdFZhbHVlO1xyXG4gICAgICAgIGZvckVhY2goZXhwcmVzc2lvbnMsIGZ1bmN0aW9uIChleHApIHtcclxuICAgICAgICAgIGxhc3RWYWx1ZSA9IGV4cChzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbGFzdFZhbHVlO1xyXG4gICAgICB9O1xyXG4gICAgICBpZiAoYXNzaWduKSB7XHJcbiAgICAgICAgZm4uYXNzaWduID0gZnVuY3Rpb24gKHNjb3BlLCB2YWx1ZSwgbG9jYWxzKSB7XHJcbiAgICAgICAgICByZXR1cm4gYXNzaWduKHNjb3BlLCBsb2NhbHMsIHZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpbnB1dHMpIHtcclxuICAgICAgICBmbi5pbnB1dHMgPSBpbnB1dHM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZuO1xyXG4gICAgfSxcclxuXHJcbiAgICByZWN1cnNlOiBmdW5jdGlvbiByZWN1cnNlKGFzdCwgY29udGV4dCwgY3JlYXRlKSB7XHJcbiAgICAgIHZhciBsZWZ0LFxyXG4gICAgICAgICAgcmlnaHQsXHJcbiAgICAgICAgICBzZWxmID0gdGhpcyxcclxuICAgICAgICAgIGFyZ3M7XHJcbiAgICAgIGlmIChhc3QuaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5pbnB1dHMoYXN0LmlucHV0LCBhc3Qud2F0Y2hJZCk7XHJcbiAgICAgIH1cclxuICAgICAgc3dpdGNoIChhc3QudHlwZSkge1xyXG4gICAgICAgIGNhc2UgQVNULkxpdGVyYWw6XHJcbiAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZShhc3QudmFsdWUsIGNvbnRleHQpO1xyXG4gICAgICAgIGNhc2UgQVNULlVuYXJ5RXhwcmVzc2lvbjpcclxuICAgICAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5hcmd1bWVudCk7XHJcbiAgICAgICAgICByZXR1cm4gdGhpc1sndW5hcnknICsgYXN0Lm9wZXJhdG9yXShyaWdodCwgY29udGV4dCk7XHJcbiAgICAgICAgY2FzZSBBU1QuQmluYXJ5RXhwcmVzc2lvbjpcclxuICAgICAgICAgIGxlZnQgPSB0aGlzLnJlY3Vyc2UoYXN0LmxlZnQpO1xyXG4gICAgICAgICAgcmlnaHQgPSB0aGlzLnJlY3Vyc2UoYXN0LnJpZ2h0KTtcclxuICAgICAgICAgIHJldHVybiB0aGlzWydiaW5hcnknICsgYXN0Lm9wZXJhdG9yXShsZWZ0LCByaWdodCwgY29udGV4dCk7XHJcbiAgICAgICAgY2FzZSBBU1QuTG9naWNhbEV4cHJlc3Npb246XHJcbiAgICAgICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0KTtcclxuICAgICAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XHJcbiAgICAgICAgICByZXR1cm4gdGhpc1snYmluYXJ5JyArIGFzdC5vcGVyYXRvcl0obGVmdCwgcmlnaHQsIGNvbnRleHQpO1xyXG4gICAgICAgIGNhc2UgQVNULkNvbmRpdGlvbmFsRXhwcmVzc2lvbjpcclxuICAgICAgICAgIHJldHVybiB0aGlzWyd0ZXJuYXJ5PzonXSh0aGlzLnJlY3Vyc2UoYXN0LnRlc3QpLCB0aGlzLnJlY3Vyc2UoYXN0LmFsdGVybmF0ZSksIHRoaXMucmVjdXJzZShhc3QuY29uc2VxdWVudCksIGNvbnRleHQpO1xyXG4gICAgICAgIGNhc2UgQVNULklkZW50aWZpZXI6XHJcbiAgICAgICAgICByZXR1cm4gc2VsZi5pZGVudGlmaWVyKGFzdC5uYW1lLCBjb250ZXh0LCBjcmVhdGUpO1xyXG4gICAgICAgIGNhc2UgQVNULk1lbWJlckV4cHJlc3Npb246XHJcbiAgICAgICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5vYmplY3QsIGZhbHNlLCAhIWNyZWF0ZSk7XHJcbiAgICAgICAgICBpZiAoIWFzdC5jb21wdXRlZCkge1xyXG4gICAgICAgICAgICByaWdodCA9IGFzdC5wcm9wZXJ0eS5uYW1lO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGFzdC5jb21wdXRlZCkgcmlnaHQgPSB0aGlzLnJlY3Vyc2UoYXN0LnByb3BlcnR5KTtcclxuICAgICAgICAgIHJldHVybiBhc3QuY29tcHV0ZWQgPyB0aGlzLmNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0LCBjb250ZXh0LCBjcmVhdGUpIDogdGhpcy5ub25Db21wdXRlZE1lbWJlcihsZWZ0LCByaWdodCwgY29udGV4dCwgY3JlYXRlKTtcclxuICAgICAgICBjYXNlIEFTVC5DYWxsRXhwcmVzc2lvbjpcclxuICAgICAgICAgIGFyZ3MgPSBbXTtcclxuICAgICAgICAgIGZvckVhY2goYXN0LmFyZ3VtZW50cywgZnVuY3Rpb24gKGV4cHIpIHtcclxuICAgICAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIGlmIChhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMuJGZpbHRlcihhc3QuY2FsbGVlLm5hbWUpO1xyXG4gICAgICAgICAgaWYgKCFhc3QuZmlsdGVyKSByaWdodCA9IHRoaXMucmVjdXJzZShhc3QuY2FsbGVlLCB0cnVlKTtcclxuICAgICAgICAgIHJldHVybiBhc3QuZmlsdGVyID8gZnVuY3Rpb24gKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZXMgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgICAgdmFsdWVzLnB1c2goYXJnc1tpXShzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJpZ2h0LmFwcGx5KHVuZGVmaW5lZCwgdmFsdWVzLCBpbnB1dHMpO1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHsgY29udGV4dDogdW5kZWZpbmVkLCBuYW1lOiB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZSB9IDogdmFsdWU7XHJcbiAgICAgICAgICB9IDogZnVuY3Rpb24gKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgICAgIHZhciByaHMgPSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcclxuICAgICAgICAgICAgaWYgKHJocy52YWx1ZSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goYXJnc1tpXShzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB2YWx1ZSA9IHJocy52YWx1ZS5hcHBseShyaHMuY29udGV4dCwgdmFsdWVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHsgdmFsdWU6IHZhbHVlIH0gOiB2YWx1ZTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgY2FzZSBBU1QuQXNzaWdubWVudEV4cHJlc3Npb246XHJcbiAgICAgICAgICBsZWZ0ID0gdGhpcy5yZWN1cnNlKGFzdC5sZWZ0LCB0cnVlLCAxKTtcclxuICAgICAgICAgIHJpZ2h0ID0gdGhpcy5yZWN1cnNlKGFzdC5yaWdodCk7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICAgICAgdmFyIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICAgICAgbGhzLmNvbnRleHRbbGhzLm5hbWVdID0gcmhzO1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHsgdmFsdWU6IHJocyB9IDogcmhzO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICBjYXNlIEFTVC5BcnJheUV4cHJlc3Npb246XHJcbiAgICAgICAgICBhcmdzID0gW107XHJcbiAgICAgICAgICBmb3JFYWNoKGFzdC5lbGVtZW50cywgZnVuY3Rpb24gKGV4cHIpIHtcclxuICAgICAgICAgICAgYXJncy5wdXNoKHNlbGYucmVjdXJzZShleHByKSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICAgIHZhbHVlLnB1c2goYXJnc1tpXShzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjb250ZXh0ID8geyB2YWx1ZTogdmFsdWUgfSA6IHZhbHVlO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICBjYXNlIEFTVC5PYmplY3RFeHByZXNzaW9uOlxyXG4gICAgICAgICAgYXJncyA9IFtdO1xyXG4gICAgICAgICAgZm9yRWFjaChhc3QucHJvcGVydGllcywgZnVuY3Rpb24gKHByb3BlcnR5KSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9wZXJ0eS5jb21wdXRlZCkge1xyXG4gICAgICAgICAgICAgIGFyZ3MucHVzaCh7IGtleTogc2VsZi5yZWN1cnNlKHByb3BlcnR5LmtleSksXHJcbiAgICAgICAgICAgICAgICBjb21wdXRlZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHZhbHVlOiBzZWxmLnJlY3Vyc2UocHJvcGVydHkudmFsdWUpXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgYXJncy5wdXNoKHsga2V5OiBwcm9wZXJ0eS5rZXkudHlwZSA9PT0gQVNULklkZW50aWZpZXIgPyBwcm9wZXJ0eS5rZXkubmFtZSA6ICcnICsgcHJvcGVydHkua2V5LnZhbHVlLFxyXG4gICAgICAgICAgICAgICAgY29tcHV0ZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICAgICAgdmFsdWU6IHNlbGYucmVjdXJzZShwcm9wZXJ0eS52YWx1ZSlcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHt9O1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyArK2kpIHtcclxuICAgICAgICAgICAgICBpZiAoYXJnc1tpXS5jb21wdXRlZCkge1xyXG4gICAgICAgICAgICAgICAgdmFsdWVbYXJnc1tpXS5rZXkoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpXSA9IGFyZ3NbaV0udmFsdWUoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZVthcmdzW2ldLmtleV0gPSBhcmdzW2ldLnZhbHVlKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiB2YWx1ZSB9IDogdmFsdWU7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIGNhc2UgQVNULlRoaXNFeHByZXNzaW9uOlxyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHsgdmFsdWU6IHNjb3BlIH0gOiBzY29wZTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgY2FzZSBBU1QuTG9jYWxzRXhwcmVzc2lvbjpcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGxvY2Fscykge1xyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dCA/IHsgdmFsdWU6IGxvY2FscyB9IDogbG9jYWxzO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICBjYXNlIEFTVC5OR1ZhbHVlUGFyYW1ldGVyOlxyXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24pIHtcclxuICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhc3NpZ24gfSA6IGFzc2lnbjtcclxuICAgICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgJ3VuYXJ5Kyc6IGZ1bmN0aW9uIHVuYXJ5KGFyZ3VtZW50LCBjb250ZXh0KSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgYXJnID0gYXJndW1lbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIGlmIChpc0RlZmluZWQoYXJnKSkge1xyXG4gICAgICAgICAgYXJnID0gK2FyZztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYXJnID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhcmcgfSA6IGFyZztcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAndW5hcnktJzogZnVuY3Rpb24gdW5hcnkoYXJndW1lbnQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBhcmcgPSBhcmd1bWVudChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgaWYgKGlzRGVmaW5lZChhcmcpKSB7XHJcbiAgICAgICAgICBhcmcgPSAtYXJnO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhcmcgPSAtMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhcmcgfSA6IGFyZztcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAndW5hcnkhJzogZnVuY3Rpb24gdW5hcnkoYXJndW1lbnQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBhcmcgPSAhYXJndW1lbnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0ID8geyB2YWx1ZTogYXJnIH0gOiBhcmc7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgJ2JpbmFyeSsnOiBmdW5jdGlvbiBiaW5hcnkobGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICB2YXIgcmhzID0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIHZhciBhcmcgPSBwbHVzRm4obGhzLCByaHMpO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0ID8geyB2YWx1ZTogYXJnIH0gOiBhcmc7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgJ2JpbmFyeS0nOiBmdW5jdGlvbiBiaW5hcnkobGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICB2YXIgcmhzID0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIHZhciBhcmcgPSAoaXNEZWZpbmVkKGxocykgPyBsaHMgOiAwKSAtIChpc0RlZmluZWQocmhzKSA/IHJocyA6IDApO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0ID8geyB2YWx1ZTogYXJnIH0gOiBhcmc7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgJ2JpbmFyeSonOiBmdW5jdGlvbiBiaW5hcnkobGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAqIHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHsgdmFsdWU6IGFyZyB9IDogYXJnO1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuICAgICdiaW5hcnkvJzogZnVuY3Rpb24gYmluYXJ5KGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgLyByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhcmcgfSA6IGFyZztcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAnYmluYXJ5JSc6IGZ1bmN0aW9uIGJpbmFyeShsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpICUgcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0ID8geyB2YWx1ZTogYXJnIH0gOiBhcmc7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgJ2JpbmFyeT09PSc6IGZ1bmN0aW9uIGJpbmFyeShsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgdmFyIGFyZyA9IGxlZnQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpID09PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhcmcgfSA6IGFyZztcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAnYmluYXJ5IT09JzogZnVuY3Rpb24gYmluYXJ5KGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgIT09IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHsgdmFsdWU6IGFyZyB9IDogYXJnO1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuICAgICdiaW5hcnk9PSc6IGZ1bmN0aW9uIGJpbmFyeShsZWZ0LCByaWdodCwgY29udGV4dCkge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGVxZXFlcVxyXG4gICAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA9PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhcmcgfSA6IGFyZztcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAnYmluYXJ5IT0nOiBmdW5jdGlvbiBiaW5hcnkobGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBlcWVxZXFcclxuICAgICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgIT0gcmlnaHQoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgIHJldHVybiBjb250ZXh0ID8geyB2YWx1ZTogYXJnIH0gOiBhcmc7XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgJ2JpbmFyeTwnOiBmdW5jdGlvbiBiaW5hcnkobGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA8IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHsgdmFsdWU6IGFyZyB9IDogYXJnO1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuICAgICdiaW5hcnk+JzogZnVuY3Rpb24gYmluYXJ5KGxlZnQsIHJpZ2h0LCBjb250ZXh0KSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpIHtcclxuICAgICAgICB2YXIgYXJnID0gbGVmdChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgPiByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhcmcgfSA6IGFyZztcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAnYmluYXJ5PD0nOiBmdW5jdGlvbiBiaW5hcnkobGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA8PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhcmcgfSA6IGFyZztcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAnYmluYXJ5Pj0nOiBmdW5jdGlvbiBiaW5hcnkobGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA+PSByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhcmcgfSA6IGFyZztcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAnYmluYXJ5JiYnOiBmdW5jdGlvbiBiaW5hcnkobGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSAmJiByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhcmcgfSA6IGFyZztcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAnYmluYXJ5fHwnOiBmdW5jdGlvbiBiaW5hcnkobGVmdCwgcmlnaHQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBhcmcgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB8fCByaWdodChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cyk7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IHZhbHVlOiBhcmcgfSA6IGFyZztcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICAndGVybmFyeT86JzogZnVuY3Rpb24gdGVybmFyeSh0ZXN0LCBhbHRlcm5hdGUsIGNvbnNlcXVlbnQsIGNvbnRleHQpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBhcmcgPSB0ZXN0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSA/IGFsdGVybmF0ZShzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykgOiBjb25zZXF1ZW50KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICByZXR1cm4gY29udGV4dCA/IHsgdmFsdWU6IGFyZyB9IDogYXJnO1xyXG4gICAgICB9O1xyXG4gICAgfSxcclxuICAgIHZhbHVlOiBmdW5jdGlvbiB2YWx1ZShfdmFsdWUyLCBjb250ZXh0KSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNvbnRleHQgPyB7IGNvbnRleHQ6IHVuZGVmaW5lZCwgbmFtZTogdW5kZWZpbmVkLCB2YWx1ZTogX3ZhbHVlMiB9IDogX3ZhbHVlMjtcclxuICAgICAgfTtcclxuICAgIH0sXHJcbiAgICBpZGVudGlmaWVyOiBmdW5jdGlvbiBpZGVudGlmaWVyKG5hbWUsIGNvbnRleHQsIGNyZWF0ZSkge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgdmFyIGJhc2UgPSBsb2NhbHMgJiYgbmFtZSBpbiBsb2NhbHMgPyBsb2NhbHMgOiBzY29wZTtcclxuICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSAmJiBiYXNlICYmIGJhc2VbbmFtZV0gPT0gbnVsbCkge1xyXG4gICAgICAgICAgYmFzZVtuYW1lXSA9IHt9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdmFsdWUgPSBiYXNlID8gYmFzZVtuYW1lXSA6IHVuZGVmaW5lZDtcclxuICAgICAgICBpZiAoY29udGV4dCkge1xyXG4gICAgICAgICAgcmV0dXJuIHsgY29udGV4dDogYmFzZSwgbmFtZTogbmFtZSwgdmFsdWU6IHZhbHVlIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgY29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uIGNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0LCBjb250ZXh0LCBjcmVhdGUpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICB2YXIgcmhzO1xyXG4gICAgICAgIHZhciB2YWx1ZTtcclxuICAgICAgICBpZiAobGhzICE9IG51bGwpIHtcclxuICAgICAgICAgIHJocyA9IHJpZ2h0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICAgIHJocyA9IGdldFN0cmluZ1ZhbHVlKHJocyk7XHJcbiAgICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgICBpZiAobGhzICYmICFsaHNbcmhzXSkge1xyXG4gICAgICAgICAgICAgIGxoc1tyaHNdID0ge307XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhbHVlID0gbGhzW3Joc107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjb250ZXh0KSB7XHJcbiAgICAgICAgICByZXR1cm4geyBjb250ZXh0OiBsaHMsIG5hbWU6IHJocywgdmFsdWU6IHZhbHVlIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9LFxyXG4gICAgbm9uQ29tcHV0ZWRNZW1iZXI6IGZ1bmN0aW9uIG5vbkNvbXB1dGVkTWVtYmVyKGxlZnQsIHJpZ2h0LCBjb250ZXh0LCBjcmVhdGUpIHtcclxuICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgIHZhciBsaHMgPSBsZWZ0KHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICBpZiAoY3JlYXRlICYmIGNyZWF0ZSAhPT0gMSkge1xyXG4gICAgICAgICAgaWYgKGxocyAmJiBsaHNbcmlnaHRdID09IG51bGwpIHtcclxuICAgICAgICAgICAgbGhzW3JpZ2h0XSA9IHt9O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdmFsdWUgPSBsaHMgIT0gbnVsbCA/IGxoc1tyaWdodF0gOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgaWYgKGNvbnRleHQpIHtcclxuICAgICAgICAgIHJldHVybiB7IGNvbnRleHQ6IGxocywgbmFtZTogcmlnaHQsIHZhbHVlOiB2YWx1ZSB9O1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfSxcclxuICAgIGlucHV0czogZnVuY3Rpb24gaW5wdXRzKGlucHV0LCB3YXRjaElkKSB7XHJcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIHZhbHVlLCBsb2NhbHMsIGlucHV0cykge1xyXG4gICAgICAgIGlmIChpbnB1dHMpIHJldHVybiBpbnB1dHNbd2F0Y2hJZF07XHJcbiAgICAgICAgcmV0dXJuIGlucHV0KHNjb3BlLCB2YWx1ZSwgbG9jYWxzKTtcclxuICAgICAgfTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAY29uc3RydWN0b3JcclxuICAgKi9cclxuICBmdW5jdGlvbiBQYXJzZXIobGV4ZXIsICRmaWx0ZXIsIG9wdGlvbnMpIHtcclxuICAgIHRoaXMuYXN0ID0gbmV3IEFTVChsZXhlciwgb3B0aW9ucyk7XHJcbiAgICB0aGlzLmFzdENvbXBpbGVyID0gb3B0aW9ucy5jc3AgPyBuZXcgQVNUSW50ZXJwcmV0ZXIoJGZpbHRlcikgOiBuZXcgQVNUQ29tcGlsZXIoJGZpbHRlcik7XHJcbiAgfVxyXG5cclxuICBQYXJzZXIucHJvdG90eXBlID0ge1xyXG4gICAgY29uc3RydWN0b3I6IFBhcnNlcixcclxuXHJcbiAgICBwYXJzZTogZnVuY3Rpb24gcGFyc2UodGV4dCkge1xyXG4gICAgICB2YXIgYXN0ID0gdGhpcy5hc3QuYXN0KHRleHQpO1xyXG4gICAgICB2YXIgZm4gPSB0aGlzLmFzdENvbXBpbGVyLmNvbXBpbGUoYXN0KTtcclxuICAgICAgZm4ubGl0ZXJhbCA9IGlzTGl0ZXJhbChhc3QpO1xyXG4gICAgICBmbi5jb25zdGFudCA9IGlzQ29uc3RhbnQoYXN0KTtcclxuICAgICAgcmV0dXJuIGZuO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIGdldFZhbHVlT2YodmFsdWUpIHtcclxuICAgIHJldHVybiBpc0Z1bmN0aW9uKHZhbHVlLnZhbHVlT2YpID8gdmFsdWUudmFsdWVPZigpIDogb2JqZWN0VmFsdWVPZi5jYWxsKHZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgJHBhcnNlXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgdmFyIGdldHRlciA9ICRwYXJzZSgndXNlci5uYW1lJyk7XHJcbiAgICogICB2YXIgc2V0dGVyID0gZ2V0dGVyLmFzc2lnbjtcclxuICAgKiAgIHZhciBjb250ZXh0ID0ge3VzZXI6e25hbWU6J2FuZ3VsYXInfX07XHJcbiAgICogICB2YXIgbG9jYWxzID0ge3VzZXI6e25hbWU6J2xvY2FsJ319O1xyXG4gICAqXHJcbiAgICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQpKS50b0VxdWFsKCdhbmd1bGFyJyk7XHJcbiAgICogICBzZXR0ZXIoY29udGV4dCwgJ25ld1ZhbHVlJyk7XHJcbiAgICogICBleHBlY3QoY29udGV4dC51c2VyLm5hbWUpLnRvRXF1YWwoJ25ld1ZhbHVlJyk7XHJcbiAgICogICBleHBlY3QoZ2V0dGVyKGNvbnRleHQsIGxvY2FscykpLnRvRXF1YWwoJ2xvY2FsJyk7XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAgICogQHJldHVybnMge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IGEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcclxuICAgKlxyXG4gICAqICAgICogYGNvbnRleHRgIOKAkyBge29iamVjdH1gIOKAkyBhbiBvYmplY3QgYWdhaW5zdCB3aGljaCBhbnkgZXhwcmVzc2lvbnMgZW1iZWRkZWQgaW4gdGhlIHN0cmluZ3NcclxuICAgKiAgICAgIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cclxuICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluXHJcbiAgICogICAgICBgY29udGV4dGAuXHJcbiAgICpcclxuICAgKiAgICBUaGUgcmV0dXJuZWQgZnVuY3Rpb24gYWxzbyBoYXMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlxyXG4gICAqICAgICAgKiBgbGl0ZXJhbGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uJ3MgdG9wLWxldmVsIG5vZGUgaXMgYSBKYXZhU2NyaXB0XHJcbiAgICogICAgICAgIGxpdGVyYWwuXHJcbiAgICogICAgICAqIGBjb25zdGFudGAg4oCTIGB7Ym9vbGVhbn1gIOKAkyB3aGV0aGVyIHRoZSBleHByZXNzaW9uIGlzIG1hZGUgZW50aXJlbHkgb2YgSmF2YVNjcmlwdFxyXG4gICAqICAgICAgICBjb25zdGFudCBsaXRlcmFscy5cclxuICAgKiAgICAgICogYGFzc2lnbmAg4oCTIGB7P2Z1bmN0aW9uKGNvbnRleHQsIHZhbHVlKX1gIOKAkyBpZiB0aGUgZXhwcmVzc2lvbiBpcyBhc3NpZ25hYmxlLCB0aGlzIHdpbGwgYmVcclxuICAgKiAgICAgICAgc2V0IHRvIGEgZnVuY3Rpb24gdG8gY2hhbmdlIGl0cyB2YWx1ZSBvbiB0aGUgZ2l2ZW4gY29udGV4dC5cclxuICAgKlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvdmlkZXJcclxuICAgKiBAbmFtZSAkcGFyc2VQcm92aWRlclxyXG4gICAqIEB0aGlzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBgJHBhcnNlUHJvdmlkZXJgIGNhbiBiZSB1c2VkIGZvciBjb25maWd1cmluZyB0aGUgZGVmYXVsdCBiZWhhdmlvciBvZiB0aGUge0BsaW5rIG5nLiRwYXJzZSAkcGFyc2V9XHJcbiAgICogIHNlcnZpY2UuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gJFBhcnNlUHJvdmlkZXIoKSB7XHJcbiAgICB2YXIgY2FjaGUgPSBjcmVhdGVNYXAoKTtcclxuICAgIHZhciBsaXRlcmFscyA9IHtcclxuICAgICAgJ3RydWUnOiB0cnVlLFxyXG4gICAgICAnZmFsc2UnOiBmYWxzZSxcclxuICAgICAgJ251bGwnOiBudWxsLFxyXG4gICAgICAndW5kZWZpbmVkJzogdW5kZWZpbmVkXHJcbiAgICB9O1xyXG4gICAgdmFyIGlkZW50U3RhcnQsIGlkZW50Q29udGludWU7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkcGFyc2VQcm92aWRlciNhZGRMaXRlcmFsXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBDb25maWd1cmUgJHBhcnNlIHNlcnZpY2UgdG8gYWRkIGxpdGVyYWwgdmFsdWVzIHRoYXQgd2lsbCBiZSBwcmVzZW50IGFzIGxpdGVyYWwgYXQgZXhwcmVzc2lvbnMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGxpdGVyYWxOYW1lIFRva2VuIGZvciB0aGUgbGl0ZXJhbCB2YWx1ZS4gVGhlIGxpdGVyYWwgbmFtZSB2YWx1ZSBtdXN0IGJlIGEgdmFsaWQgbGl0ZXJhbCBuYW1lLlxyXG4gICAgICogQHBhcmFtIHsqfSBsaXRlcmFsVmFsdWUgVmFsdWUgZm9yIHRoaXMgbGl0ZXJhbC4gQWxsIGxpdGVyYWwgdmFsdWVzIG11c3QgYmUgcHJpbWl0aXZlcyBvciBgdW5kZWZpbmVkYC5cclxuICAgICAqXHJcbiAgICAgKiovXHJcbiAgICB0aGlzLmFkZExpdGVyYWwgPSBmdW5jdGlvbiAobGl0ZXJhbE5hbWUsIGxpdGVyYWxWYWx1ZSkge1xyXG4gICAgICBsaXRlcmFsc1tsaXRlcmFsTmFtZV0gPSBsaXRlcmFsVmFsdWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHBhcnNlUHJvdmlkZXIjc2V0SWRlbnRpZmllckZuc1xyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICpcclxuICAgICAqIEFsbG93cyBkZWZpbmluZyB0aGUgc2V0IG9mIGNoYXJhY3RlcnMgdGhhdCBhcmUgYWxsb3dlZCBpbiBBbmd1bGFyIGV4cHJlc3Npb25zLiBUaGUgZnVuY3Rpb25cclxuICAgICAqIGBpZGVudGlmaWVyU3RhcnRgIHdpbGwgZ2V0IGNhbGxlZCB0byBrbm93IGlmIGEgZ2l2ZW4gY2hhcmFjdGVyIGlzIGEgdmFsaWQgY2hhcmFjdGVyIHRvIGJlIHRoZVxyXG4gICAgICogZmlyc3QgY2hhcmFjdGVyIGZvciBhbiBpZGVudGlmaWVyLiBUaGUgZnVuY3Rpb24gYGlkZW50aWZpZXJDb250aW51ZWAgd2lsbCBnZXQgY2FsbGVkIHRvIGtub3cgaWZcclxuICAgICAqIGEgZ2l2ZW4gY2hhcmFjdGVyIGlzIGEgdmFsaWQgY2hhcmFjdGVyIHRvIGJlIGEgZm9sbG93LXVwIGlkZW50aWZpZXIgY2hhcmFjdGVyLiBUaGUgZnVuY3Rpb25zXHJcbiAgICAgKiBgaWRlbnRpZmllclN0YXJ0YCBhbmQgYGlkZW50aWZpZXJDb250aW51ZWAgd2lsbCByZWNlaXZlIGFzIGFyZ3VtZW50cyB0aGUgc2luZ2xlIGNoYXJhY3RlciB0byBiZVxyXG4gICAgICogaWRlbnRpZmllciBhbmQgdGhlIGNoYXJhY3RlciBjb2RlIHBvaW50LiBUaGVzZSBhcmd1bWVudHMgd2lsbCBiZSBgc3RyaW5nYCBhbmQgYG51bWVyaWNgLiBLZWVwIGluXHJcbiAgICAgKiBtaW5kIHRoYXQgdGhlIGBzdHJpbmdgIHBhcmFtZXRlciBjYW4gYmUgdHdvIGNoYXJhY3RlcnMgbG9uZyBkZXBlbmRpbmcgb24gdGhlIGNoYXJhY3RlclxyXG4gICAgICogcmVwcmVzZW50YXRpb24uIEl0IGlzIGV4cGVjdGVkIGZvciB0aGUgZnVuY3Rpb24gdG8gcmV0dXJuIGB0cnVlYCBvciBgZmFsc2VgLCB3aGV0aGVyIHRoYXRcclxuICAgICAqIGNoYXJhY3RlciBpcyBhbGxvd2VkIG9yIG5vdC5cclxuICAgICAqXHJcbiAgICAgKiBTaW5jZSB0aGlzIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGV4dGVuc2l2ZWx5LCBrZWVwIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGVzZSBmdW5jdGlvbnMgZmFzdCxcclxuICAgICAqIGFzIHRoZSBwZXJmb3JtYW5jZSBvZiB0aGVzZSBmdW5jdGlvbnMgaGF2ZSBhIGRpcmVjdCBpbXBhY3Qgb24gdGhlIGV4cHJlc3Npb25zIHBhcnNpbmcgc3BlZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbj19IGlkZW50aWZpZXJTdGFydCBUaGUgZnVuY3Rpb24gdGhhdCB3aWxsIGRlY2lkZSB3aGV0aGVyIHRoZSBnaXZlbiBjaGFyYWN0ZXIgaXNcclxuICAgICAqICAgYSB2YWxpZCBpZGVudGlmaWVyIHN0YXJ0IGNoYXJhY3Rlci5cclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb249fSBpZGVudGlmaWVyQ29udGludWUgVGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBkZWNpZGUgd2hldGhlciB0aGUgZ2l2ZW4gY2hhcmFjdGVyIGlzXHJcbiAgICAgKiAgIGEgdmFsaWQgaWRlbnRpZmllciBjb250aW51ZSBjaGFyYWN0ZXIuXHJcbiAgICAgKi9cclxuICAgIHRoaXMuc2V0SWRlbnRpZmllckZucyA9IGZ1bmN0aW9uIChpZGVudGlmaWVyU3RhcnQsIGlkZW50aWZpZXJDb250aW51ZSkge1xyXG4gICAgICBpZGVudFN0YXJ0ID0gaWRlbnRpZmllclN0YXJ0O1xyXG4gICAgICBpZGVudENvbnRpbnVlID0gaWRlbnRpZmllckNvbnRpbnVlO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy4kZ2V0ID0gWyckZmlsdGVyJywgZnVuY3Rpb24gKCRmaWx0ZXIpIHtcclxuICAgICAgdmFyIG5vVW5zYWZlRXZhbCA9IGNzcCgpLm5vVW5zYWZlRXZhbDtcclxuICAgICAgdmFyICRwYXJzZU9wdGlvbnMgPSB7XHJcbiAgICAgICAgY3NwOiBub1Vuc2FmZUV2YWwsXHJcbiAgICAgICAgbGl0ZXJhbHM6IGNvcHkobGl0ZXJhbHMpLFxyXG4gICAgICAgIGlzSWRlbnRpZmllclN0YXJ0OiBpc0Z1bmN0aW9uKGlkZW50U3RhcnQpICYmIGlkZW50U3RhcnQsXHJcbiAgICAgICAgaXNJZGVudGlmaWVyQ29udGludWU6IGlzRnVuY3Rpb24oaWRlbnRDb250aW51ZSkgJiYgaWRlbnRDb250aW51ZVxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gJHBhcnNlO1xyXG5cclxuICAgICAgZnVuY3Rpb24gJHBhcnNlKGV4cCwgaW50ZXJjZXB0b3JGbikge1xyXG4gICAgICAgIHZhciBwYXJzZWRFeHByZXNzaW9uLCBvbmVUaW1lLCBjYWNoZUtleTtcclxuXHJcbiAgICAgICAgc3dpdGNoICh0eXBlb2YgZXhwID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihleHApKSB7XHJcbiAgICAgICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgICAgICBleHAgPSBleHAudHJpbSgpO1xyXG4gICAgICAgICAgICBjYWNoZUtleSA9IGV4cDtcclxuXHJcbiAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBjYWNoZVtjYWNoZUtleV07XHJcblxyXG4gICAgICAgICAgICBpZiAoIXBhcnNlZEV4cHJlc3Npb24pIHtcclxuICAgICAgICAgICAgICBpZiAoZXhwLmNoYXJBdCgwKSA9PT0gJzonICYmIGV4cC5jaGFyQXQoMSkgPT09ICc6Jykge1xyXG4gICAgICAgICAgICAgICAgb25lVGltZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBleHAgPSBleHAuc3Vic3RyaW5nKDIpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB2YXIgbGV4ZXIgPSBuZXcgTGV4ZXIoJHBhcnNlT3B0aW9ucyk7XHJcbiAgICAgICAgICAgICAgdmFyIHBhcnNlciA9IG5ldyBQYXJzZXIobGV4ZXIsICRmaWx0ZXIsICRwYXJzZU9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24gPSBwYXJzZXIucGFyc2UoZXhwKTtcclxuICAgICAgICAgICAgICBpZiAocGFyc2VkRXhwcmVzc2lvbi5jb25zdGFudCkge1xyXG4gICAgICAgICAgICAgICAgcGFyc2VkRXhwcmVzc2lvbi4kJHdhdGNoRGVsZWdhdGUgPSBjb25zdGFudFdhdGNoRGVsZWdhdGU7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvbmVUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBwYXJzZWRFeHByZXNzaW9uLiQkd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24ubGl0ZXJhbCA/IG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSA6IG9uZVRpbWVXYXRjaERlbGVnYXRlO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFyc2VkRXhwcmVzc2lvbi5pbnB1dHMpIHtcclxuICAgICAgICAgICAgICAgIHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlID0gaW5wdXRzV2F0Y2hEZWxlZ2F0ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgY2FjaGVbY2FjaGVLZXldID0gcGFyc2VkRXhwcmVzc2lvbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IocGFyc2VkRXhwcmVzc2lvbiwgaW50ZXJjZXB0b3JGbik7XHJcblxyXG4gICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3IoZXhwLCBpbnRlcmNlcHRvckZuKTtcclxuXHJcbiAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICByZXR1cm4gYWRkSW50ZXJjZXB0b3Iobm9vcCwgaW50ZXJjZXB0b3JGbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrKG5ld1ZhbHVlLCBvbGRWYWx1ZU9mVmFsdWUsIGNvbXBhcmVPYmplY3RJZGVudGl0eSkge1xyXG5cclxuICAgICAgICBpZiAobmV3VmFsdWUgPT0gbnVsbCB8fCBvbGRWYWx1ZU9mVmFsdWUgPT0gbnVsbCkge1xyXG4gICAgICAgICAgLy8gbnVsbC91bmRlZmluZWRcclxuICAgICAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWVPZlZhbHVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCh0eXBlb2YgbmV3VmFsdWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKG5ld1ZhbHVlKSkgPT09ICdvYmplY3QnKSB7XHJcblxyXG4gICAgICAgICAgLy8gYXR0ZW1wdCB0byBjb252ZXJ0IHRoZSB2YWx1ZSB0byBhIHByaW1pdGl2ZSB0eXBlXHJcbiAgICAgICAgICAvLyBUT0RPKGRvY3MpOiBhZGQgYSBub3RlIHRvIGRvY3MgdGhhdCBieSBpbXBsZW1lbnRpbmcgdmFsdWVPZiBldmVuIG9iamVjdHMgYW5kIGFycmF5cyBjYW5cclxuICAgICAgICAgIC8vICAgICAgICAgICAgIGJlIGNoZWFwbHkgZGlydHktY2hlY2tlZFxyXG4gICAgICAgICAgbmV3VmFsdWUgPSBnZXRWYWx1ZU9mKG5ld1ZhbHVlKTtcclxuXHJcbiAgICAgICAgICBpZiAoKHR5cGVvZiBuZXdWYWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YobmV3VmFsdWUpKSA9PT0gJ29iamVjdCcgJiYgIWNvbXBhcmVPYmplY3RJZGVudGl0eSkge1xyXG4gICAgICAgICAgICAvLyBvYmplY3RzL2FycmF5cyBhcmUgbm90IHN1cHBvcnRlZCAtIGRlZXAtd2F0Y2hpbmcgdGhlbSB3b3VsZCBiZSB0b28gZXhwZW5zaXZlXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBmYWxsLXRocm91Z2ggdG8gdGhlIHByaW1pdGl2ZSBlcXVhbGl0eSBjaGVja1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy9QcmltaXRpdmUgb3IgTmFOXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxyXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZSA9PT0gb2xkVmFsdWVPZlZhbHVlIHx8IG5ld1ZhbHVlICE9PSBuZXdWYWx1ZSAmJiBvbGRWYWx1ZU9mVmFsdWUgIT09IG9sZFZhbHVlT2ZWYWx1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaW5wdXRzV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uLCBwcmV0dHlQcmludEV4cHJlc3Npb24pIHtcclxuICAgICAgICB2YXIgaW5wdXRFeHByZXNzaW9ucyA9IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzO1xyXG4gICAgICAgIHZhciBsYXN0UmVzdWx0O1xyXG5cclxuICAgICAgICBpZiAoaW5wdXRFeHByZXNzaW9ucy5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgIHZhciBvbGRJbnB1dFZhbHVlT2YgPSBleHByZXNzaW9uSW5wdXREaXJ0eUNoZWNrOyAvLyBpbml0IHRvIHNvbWV0aGluZyB1bmlxdWUgc28gdGhhdCBlcXVhbHMgY2hlY2sgZmFpbHNcclxuICAgICAgICAgIGlucHV0RXhwcmVzc2lvbnMgPSBpbnB1dEV4cHJlc3Npb25zWzBdO1xyXG4gICAgICAgICAgcmV0dXJuIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBleHByZXNzaW9uSW5wdXRXYXRjaChzY29wZSkge1xyXG4gICAgICAgICAgICB2YXIgbmV3SW5wdXRWYWx1ZSA9IGlucHV0RXhwcmVzc2lvbnMoc2NvcGUpO1xyXG4gICAgICAgICAgICBpZiAoIWV4cHJlc3Npb25JbnB1dERpcnR5Q2hlY2sobmV3SW5wdXRWYWx1ZSwgb2xkSW5wdXRWYWx1ZU9mLCBpbnB1dEV4cHJlc3Npb25zLmlzUHVyZSkpIHtcclxuICAgICAgICAgICAgICBsYXN0UmVzdWx0ID0gcGFyc2VkRXhwcmVzc2lvbihzY29wZSwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIFtuZXdJbnB1dFZhbHVlXSk7XHJcbiAgICAgICAgICAgICAgb2xkSW5wdXRWYWx1ZU9mID0gbmV3SW5wdXRWYWx1ZSAmJiBnZXRWYWx1ZU9mKG5ld0lucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBsYXN0UmVzdWx0O1xyXG4gICAgICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwcmV0dHlQcmludEV4cHJlc3Npb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIG9sZElucHV0VmFsdWVPZlZhbHVlcyA9IFtdO1xyXG4gICAgICAgIHZhciBvbGRJbnB1dFZhbHVlcyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGlucHV0RXhwcmVzc2lvbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xyXG4gICAgICAgICAgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldID0gZXhwcmVzc2lvbklucHV0RGlydHlDaGVjazsgLy8gaW5pdCB0byBzb21ldGhpbmcgdW5pcXVlIHNvIHRoYXQgZXF1YWxzIGNoZWNrIGZhaWxzXHJcbiAgICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGV4cHJlc3Npb25JbnB1dHNXYXRjaChzY29wZSkge1xyXG4gICAgICAgICAgdmFyIGNoYW5nZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpbnB1dEV4cHJlc3Npb25zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIG5ld0lucHV0VmFsdWUgPSBpbnB1dEV4cHJlc3Npb25zW2ldKHNjb3BlKTtcclxuICAgICAgICAgICAgaWYgKGNoYW5nZWQgfHwgKGNoYW5nZWQgPSAhZXhwcmVzc2lvbklucHV0RGlydHlDaGVjayhuZXdJbnB1dFZhbHVlLCBvbGRJbnB1dFZhbHVlT2ZWYWx1ZXNbaV0sIGlucHV0RXhwcmVzc2lvbnNbaV0uaXNQdXJlKSkpIHtcclxuICAgICAgICAgICAgICBvbGRJbnB1dFZhbHVlc1tpXSA9IG5ld0lucHV0VmFsdWU7XHJcbiAgICAgICAgICAgICAgb2xkSW5wdXRWYWx1ZU9mVmFsdWVzW2ldID0gbmV3SW5wdXRWYWx1ZSAmJiBnZXRWYWx1ZU9mKG5ld0lucHV0VmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKGNoYW5nZWQpIHtcclxuICAgICAgICAgICAgbGFzdFJlc3VsdCA9IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBvbGRJbnB1dFZhbHVlcyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIGxhc3RSZXN1bHQ7XHJcbiAgICAgICAgfSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwcmV0dHlQcmludEV4cHJlc3Npb24pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBvbmVUaW1lV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uLCBwcmV0dHlQcmludEV4cHJlc3Npb24pIHtcclxuICAgICAgICB2YXIgdW53YXRjaCwgbGFzdFZhbHVlO1xyXG4gICAgICAgIGlmIChwYXJzZWRFeHByZXNzaW9uLmlucHV0cykge1xyXG4gICAgICAgICAgdW53YXRjaCA9IGlucHV0c1dhdGNoRGVsZWdhdGUoc2NvcGUsIG9uZVRpbWVMaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHBhcnNlZEV4cHJlc3Npb24sIHByZXR0eVByaW50RXhwcmVzc2lvbik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHVud2F0Y2ggPSBzY29wZS4kd2F0Y2gob25lVGltZVdhdGNoLCBvbmVUaW1lTGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVud2F0Y2g7XHJcblxyXG4gICAgICAgIGZ1bmN0aW9uIG9uZVRpbWVXYXRjaChzY29wZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBvbmVUaW1lTGlzdGVuZXIodmFsdWUsIG9sZCwgc2NvcGUpIHtcclxuICAgICAgICAgIGxhc3RWYWx1ZSA9IHZhbHVlO1xyXG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICAgIGxpc3RlbmVyKHZhbHVlLCBvbGQsIHNjb3BlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmIChpc0RlZmluZWQodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLiQkcG9zdERpZ2VzdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGlzRGVmaW5lZChsYXN0VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB1bndhdGNoKCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZShzY29wZSwgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBwYXJzZWRFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgdmFyIHVud2F0Y2gsIGxhc3RWYWx1ZTtcclxuICAgICAgICB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIG9uZVRpbWVXYXRjaChzY29wZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHBhcnNlZEV4cHJlc3Npb24oc2NvcGUpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uIG9uZVRpbWVMaXN0ZW5lcih2YWx1ZSwgb2xkLCBzY29wZSkge1xyXG4gICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICBpZiAoaXNGdW5jdGlvbihsaXN0ZW5lcikpIHtcclxuICAgICAgICAgICAgbGlzdGVuZXIodmFsdWUsIG9sZCwgc2NvcGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKGlzQWxsRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICBpZiAoaXNBbGxEZWZpbmVkKGxhc3RWYWx1ZSkpIHVud2F0Y2goKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSwgb2JqZWN0RXF1YWxpdHkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdW53YXRjaDtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaXNBbGxEZWZpbmVkKHZhbHVlKSB7XHJcbiAgICAgICAgICB2YXIgYWxsRGVmaW5lZCA9IHRydWU7XHJcbiAgICAgICAgICBmb3JFYWNoKHZhbHVlLCBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIGlmICghaXNEZWZpbmVkKHZhbCkpIGFsbERlZmluZWQgPSBmYWxzZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIGFsbERlZmluZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBjb25zdGFudFdhdGNoRGVsZWdhdGUoc2NvcGUsIGxpc3RlbmVyLCBvYmplY3RFcXVhbGl0eSwgcGFyc2VkRXhwcmVzc2lvbikge1xyXG4gICAgICAgIHZhciB1bndhdGNoID0gc2NvcGUuJHdhdGNoKGZ1bmN0aW9uIGNvbnN0YW50V2F0Y2goc2NvcGUpIHtcclxuICAgICAgICAgIHVud2F0Y2goKTtcclxuICAgICAgICAgIHJldHVybiBwYXJzZWRFeHByZXNzaW9uKHNjb3BlKTtcclxuICAgICAgICB9LCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHkpO1xyXG4gICAgICAgIHJldHVybiB1bndhdGNoO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBhZGRJbnRlcmNlcHRvcihwYXJzZWRFeHByZXNzaW9uLCBpbnRlcmNlcHRvckZuKSB7XHJcbiAgICAgICAgaWYgKCFpbnRlcmNlcHRvckZuKSByZXR1cm4gcGFyc2VkRXhwcmVzc2lvbjtcclxuICAgICAgICB2YXIgd2F0Y2hEZWxlZ2F0ZSA9IHBhcnNlZEV4cHJlc3Npb24uJCR3YXRjaERlbGVnYXRlO1xyXG4gICAgICAgIHZhciB1c2VJbnB1dHMgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgdmFyIHJlZ3VsYXJXYXRjaCA9IHdhdGNoRGVsZWdhdGUgIT09IG9uZVRpbWVMaXRlcmFsV2F0Y2hEZWxlZ2F0ZSAmJiB3YXRjaERlbGVnYXRlICE9PSBvbmVUaW1lV2F0Y2hEZWxlZ2F0ZTtcclxuXHJcbiAgICAgICAgdmFyIGZuID0gcmVndWxhcldhdGNoID8gZnVuY3Rpb24gcmVndWxhckludGVyY2VwdGVkRXhwcmVzc2lvbihzY29wZSwgbG9jYWxzLCBhc3NpZ24sIGlucHV0cykge1xyXG4gICAgICAgICAgdmFyIHZhbHVlID0gdXNlSW5wdXRzICYmIGlucHV0cyA/IGlucHV0c1swXSA6IHBhcnNlZEV4cHJlc3Npb24oc2NvcGUsIGxvY2FscywgYXNzaWduLCBpbnB1dHMpO1xyXG4gICAgICAgICAgcmV0dXJuIGludGVyY2VwdG9yRm4odmFsdWUsIHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgIH0gOiBmdW5jdGlvbiBvbmVUaW1lSW50ZXJjZXB0ZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKSB7XHJcbiAgICAgICAgICB2YXIgdmFsdWUgPSBwYXJzZWRFeHByZXNzaW9uKHNjb3BlLCBsb2NhbHMsIGFzc2lnbiwgaW5wdXRzKTtcclxuICAgICAgICAgIHZhciByZXN1bHQgPSBpbnRlcmNlcHRvckZuKHZhbHVlLCBzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgIC8vIHdlIG9ubHkgcmV0dXJuIHRoZSBpbnRlcmNlcHRvcidzIHJlc3VsdCBpZiB0aGVcclxuICAgICAgICAgIC8vIGluaXRpYWwgdmFsdWUgaXMgZGVmaW5lZCAoZm9yIGJpbmQtb25jZSlcclxuICAgICAgICAgIHJldHVybiBpc0RlZmluZWQodmFsdWUpID8gcmVzdWx0IDogdmFsdWU7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gUHJvcGFnYXRlICQkd2F0Y2hEZWxlZ2F0ZXMgb3RoZXIgdGhlbiBpbnB1dHNXYXRjaERlbGVnYXRlXHJcbiAgICAgICAgdXNlSW5wdXRzID0gIXBhcnNlZEV4cHJlc3Npb24uaW5wdXRzO1xyXG4gICAgICAgIGlmICh3YXRjaERlbGVnYXRlICYmIHdhdGNoRGVsZWdhdGUgIT09IGlucHV0c1dhdGNoRGVsZWdhdGUpIHtcclxuICAgICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IHdhdGNoRGVsZWdhdGU7XHJcbiAgICAgICAgICBmbi5pbnB1dHMgPSBwYXJzZWRFeHByZXNzaW9uLmlucHV0cztcclxuICAgICAgICB9IGVsc2UgaWYgKCFpbnRlcmNlcHRvckZuLiRzdGF0ZWZ1bCkge1xyXG4gICAgICAgICAgLy8gVHJlYXQgaW50ZXJjZXB0b3IgbGlrZSBmaWx0ZXJzIC0gYXNzdW1lIG5vbi1zdGF0ZWZ1bCBieSBkZWZhdWx0IGFuZCB1c2UgdGhlIGlucHV0c1dhdGNoRGVsZWdhdGVcclxuICAgICAgICAgIGZuLiQkd2F0Y2hEZWxlZ2F0ZSA9IGlucHV0c1dhdGNoRGVsZWdhdGU7XHJcbiAgICAgICAgICBmbi5pbnB1dHMgPSBwYXJzZWRFeHByZXNzaW9uLmlucHV0cyA/IHBhcnNlZEV4cHJlc3Npb24uaW5wdXRzIDogW3BhcnNlZEV4cHJlc3Npb25dO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZuLmlucHV0cykge1xyXG4gICAgICAgICAgZm4uaW5wdXRzID0gZm4uaW5wdXRzLm1hcChmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIGlzUHVyZSBmbGFnIG9mIGlucHV0cyB3aGVuIGl0IGlzIG5vdCBhYnNvbHV0ZSBiZWNhdXNlIHRoZXkgYXJlIG5vdyB3cmFwcGVkIGluIGFcclxuICAgICAgICAgICAgLy8gcG90ZW50aWFsbHkgbm9uLXB1cmUgaW50ZXJjZXB0b3IgZnVuY3Rpb24uXHJcbiAgICAgICAgICAgIGlmIChlLmlzUHVyZSA9PT0gUFVSSVRZX1JFTEFUSVZFKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlcHVyaWZpZXIocykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGUocyk7XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZuO1xyXG4gICAgICB9XHJcbiAgICB9XTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgJHFcclxuICAgKiBAcmVxdWlyZXMgJHJvb3RTY29wZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQSBzZXJ2aWNlIHRoYXQgaGVscHMgeW91IHJ1biBmdW5jdGlvbnMgYXN5bmNocm9ub3VzbHksIGFuZCB1c2UgdGhlaXIgcmV0dXJuIHZhbHVlcyAob3IgZXhjZXB0aW9ucylcclxuICAgKiB3aGVuIHRoZXkgYXJlIGRvbmUgcHJvY2Vzc2luZy5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgYSBbUHJvbWlzZXMvQStdKGh0dHBzOi8vcHJvbWlzZXNhcGx1cy5jb20vKS1jb21wbGlhbnQgaW1wbGVtZW50YXRpb24gb2YgcHJvbWlzZXMvZGVmZXJyZWRcclxuICAgKiBvYmplY3RzIGluc3BpcmVkIGJ5IFtLcmlzIEtvd2FsJ3MgUV0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xKS5cclxuICAgKlxyXG4gICAqICRxIGNhbiBiZSB1c2VkIGluIHR3byBmYXNoaW9ucyAtLS0gb25lIHdoaWNoIGlzIG1vcmUgc2ltaWxhciB0byBLcmlzIEtvd2FsJ3MgUSBvciBqUXVlcnkncyBEZWZlcnJlZFxyXG4gICAqIGltcGxlbWVudGF0aW9ucywgYW5kIHRoZSBvdGhlciB3aGljaCByZXNlbWJsZXMgRVM2IChFUzIwMTUpIHByb21pc2VzIHRvIHNvbWUgZGVncmVlLlxyXG4gICAqXHJcbiAgICogIyAkcSBjb25zdHJ1Y3RvclxyXG4gICAqXHJcbiAgICogVGhlIHN0cmVhbWxpbmVkIEVTNiBzdHlsZSBwcm9taXNlIGlzIGVzc2VudGlhbGx5IGp1c3QgdXNpbmcgJHEgYXMgYSBjb25zdHJ1Y3RvciB3aGljaCB0YWtlcyBhIGByZXNvbHZlcmBcclxuICAgKiBmdW5jdGlvbiBhcyB0aGUgZmlyc3QgYXJndW1lbnQuIFRoaXMgaXMgc2ltaWxhciB0byB0aGUgbmF0aXZlIFByb21pc2UgaW1wbGVtZW50YXRpb24gZnJvbSBFUzYsXHJcbiAgICogc2VlIFtNRE5dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL1Byb21pc2UpLlxyXG4gICAqXHJcbiAgICogV2hpbGUgdGhlIGNvbnN0cnVjdG9yLXN0eWxlIHVzZSBpcyBzdXBwb3J0ZWQsIG5vdCBhbGwgb2YgdGhlIHN1cHBvcnRpbmcgbWV0aG9kcyBmcm9tIEVTNiBwcm9taXNlcyBhcmVcclxuICAgKiBhdmFpbGFibGUgeWV0LlxyXG4gICAqXHJcbiAgICogSXQgY2FuIGJlIHVzZWQgbGlrZSBzbzpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogICAvLyBmb3IgdGhlIHB1cnBvc2Ugb2YgdGhpcyBleGFtcGxlIGxldCdzIGFzc3VtZSB0aGF0IHZhcmlhYmxlcyBgJHFgIGFuZCBgb2tUb0dyZWV0YFxyXG4gICAqICAgLy8gYXJlIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBsZXhpY2FsIHNjb3BlICh0aGV5IGNvdWxkIGhhdmUgYmVlbiBpbmplY3RlZCBvciBwYXNzZWQgaW4pLlxyXG4gICAqXHJcbiAgICogICBmdW5jdGlvbiBhc3luY0dyZWV0KG5hbWUpIHtcclxuICAgKiAgICAgLy8gcGVyZm9ybSBzb21lIGFzeW5jaHJvbm91cyBvcGVyYXRpb24sIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBwcm9taXNlIHdoZW4gYXBwcm9wcmlhdGUuXHJcbiAgICogICAgIHJldHVybiAkcShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcclxuICAgKiAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgICAgaWYgKG9rVG9HcmVldChuYW1lKSkge1xyXG4gICAqICAgICAgICAgICByZXNvbHZlKCdIZWxsbywgJyArIG5hbWUgKyAnIScpO1xyXG4gICAqICAgICAgICAgfSBlbHNlIHtcclxuICAgKiAgICAgICAgICAgcmVqZWN0KCdHcmVldGluZyAnICsgbmFtZSArICcgaXMgbm90IGFsbG93ZWQuJyk7XHJcbiAgICogICAgICAgICB9XHJcbiAgICogICAgICAgfSwgMTAwMCk7XHJcbiAgICogICAgIH0pO1xyXG4gICAqICAgfVxyXG4gICAqXHJcbiAgICogICB2YXIgcHJvbWlzZSA9IGFzeW5jR3JlZXQoJ1JvYmluIEhvb2QnKTtcclxuICAgKiAgIHByb21pc2UudGhlbihmdW5jdGlvbihncmVldGluZykge1xyXG4gICAqICAgICBhbGVydCgnU3VjY2VzczogJyArIGdyZWV0aW5nKTtcclxuICAgKiAgIH0sIGZ1bmN0aW9uKHJlYXNvbikge1xyXG4gICAqICAgICBhbGVydCgnRmFpbGVkOiAnICsgcmVhc29uKTtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogTm90ZTogcHJvZ3Jlc3Mvbm90aWZ5IGNhbGxiYWNrcyBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgdmlhIHRoZSBFUzYtc3R5bGUgaW50ZXJmYWNlLlxyXG4gICAqXHJcbiAgICogTm90ZTogdW5saWtlIEVTNiBiZWhhdmlvciwgYW4gZXhjZXB0aW9uIHRocm93biBpbiB0aGUgY29uc3RydWN0b3IgZnVuY3Rpb24gd2lsbCBOT1QgaW1wbGljaXRseSByZWplY3QgdGhlIHByb21pc2UuXHJcbiAgICpcclxuICAgKiBIb3dldmVyLCB0aGUgbW9yZSB0cmFkaXRpb25hbCBDb21tb25KUy1zdHlsZSB1c2FnZSBpcyBzdGlsbCBhdmFpbGFibGUsIGFuZCBkb2N1bWVudGVkIGJlbG93LlxyXG4gICAqXHJcbiAgICogW1RoZSBDb21tb25KUyBQcm9taXNlIHByb3Bvc2FsXShodHRwOi8vd2lraS5jb21tb25qcy5vcmcvd2lraS9Qcm9taXNlcykgZGVzY3JpYmVzIGEgcHJvbWlzZSBhcyBhblxyXG4gICAqIGludGVyZmFjZSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCByZXByZXNlbnRzIHRoZSByZXN1bHQgb2YgYW4gYWN0aW9uIHRoYXQgaXNcclxuICAgKiBwZXJmb3JtZWQgYXN5bmNocm9ub3VzbHksIGFuZCBtYXkgb3IgbWF5IG5vdCBiZSBmaW5pc2hlZCBhdCBhbnkgZ2l2ZW4gcG9pbnQgaW4gdGltZS5cclxuICAgKlxyXG4gICAqIEZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIGRlYWxpbmcgd2l0aCBlcnJvciBoYW5kbGluZywgZGVmZXJyZWQgYW5kIHByb21pc2UgQVBJcyBhcmUgdG9cclxuICAgKiBhc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcgd2hhdCBgdHJ5YCwgYGNhdGNoYCBhbmQgYHRocm93YCBrZXl3b3JkcyBhcmUgdG8gc3luY2hyb25vdXMgcHJvZ3JhbW1pbmcuXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqICAgLy8gZm9yIHRoZSBwdXJwb3NlIG9mIHRoaXMgZXhhbXBsZSBsZXQncyBhc3N1bWUgdGhhdCB2YXJpYWJsZXMgYCRxYCBhbmQgYG9rVG9HcmVldGBcclxuICAgKiAgIC8vIGFyZSBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgbGV4aWNhbCBzY29wZSAodGhleSBjb3VsZCBoYXZlIGJlZW4gaW5qZWN0ZWQgb3IgcGFzc2VkIGluKS5cclxuICAgKlxyXG4gICAqICAgZnVuY3Rpb24gYXN5bmNHcmVldChuYW1lKSB7XHJcbiAgICogICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XHJcbiAgICpcclxuICAgKiAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgKiAgICAgICBkZWZlcnJlZC5ub3RpZnkoJ0Fib3V0IHRvIGdyZWV0ICcgKyBuYW1lICsgJy4nKTtcclxuICAgKlxyXG4gICAqICAgICAgIGlmIChva1RvR3JlZXQobmFtZSkpIHtcclxuICAgKiAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJ0hlbGxvLCAnICsgbmFtZSArICchJyk7XHJcbiAgICogICAgICAgfSBlbHNlIHtcclxuICAgKiAgICAgICAgIGRlZmVycmVkLnJlamVjdCgnR3JlZXRpbmcgJyArIG5hbWUgKyAnIGlzIG5vdCBhbGxvd2VkLicpO1xyXG4gICAqICAgICAgIH1cclxuICAgKiAgICAgfSwgMTAwMCk7XHJcbiAgICpcclxuICAgKiAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XHJcbiAgICogICB9XHJcbiAgICpcclxuICAgKiAgIHZhciBwcm9taXNlID0gYXN5bmNHcmVldCgnUm9iaW4gSG9vZCcpO1xyXG4gICAqICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uKGdyZWV0aW5nKSB7XHJcbiAgICogICAgIGFsZXJ0KCdTdWNjZXNzOiAnICsgZ3JlZXRpbmcpO1xyXG4gICAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICogICAgIGFsZXJ0KCdGYWlsZWQ6ICcgKyByZWFzb24pO1xyXG4gICAqICAgfSwgZnVuY3Rpb24odXBkYXRlKSB7XHJcbiAgICogICAgIGFsZXJ0KCdHb3Qgbm90aWZpY2F0aW9uOiAnICsgdXBkYXRlKTtcclxuICAgKiAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQXQgZmlyc3QgaXQgbWlnaHQgbm90IGJlIG9idmlvdXMgd2h5IHRoaXMgZXh0cmEgY29tcGxleGl0eSBpcyB3b3J0aCB0aGUgdHJvdWJsZS4gVGhlIHBheW9mZlxyXG4gICAqIGNvbWVzIGluIHRoZSB3YXkgb2YgZ3VhcmFudGVlcyB0aGF0IHByb21pc2UgYW5kIGRlZmVycmVkIEFQSXMgbWFrZSwgc2VlXHJcbiAgICogaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC91bmNvbW1vbmpzL2Jsb2IvbWFzdGVyL3Byb21pc2VzL3NwZWNpZmljYXRpb24ubWQuXHJcbiAgICpcclxuICAgKiBBZGRpdGlvbmFsbHkgdGhlIHByb21pc2UgYXBpIGFsbG93cyBmb3IgY29tcG9zaXRpb24gdGhhdCBpcyB2ZXJ5IGhhcmQgdG8gZG8gd2l0aCB0aGVcclxuICAgKiB0cmFkaXRpb25hbCBjYWxsYmFjayAoW0NQU10oaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db250aW51YXRpb24tcGFzc2luZ19zdHlsZSkpIGFwcHJvYWNoLlxyXG4gICAqIEZvciBtb3JlIG9uIHRoaXMgcGxlYXNlIHNlZSB0aGUgW1EgZG9jdW1lbnRhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xKSBlc3BlY2lhbGx5IHRoZVxyXG4gICAqIHNlY3Rpb24gb24gc2VyaWFsIG9yIHBhcmFsbGVsIGpvaW5pbmcgb2YgcHJvbWlzZXMuXHJcbiAgICpcclxuICAgKiAjIFRoZSBEZWZlcnJlZCBBUElcclxuICAgKlxyXG4gICAqIEEgbmV3IGluc3RhbmNlIG9mIGRlZmVycmVkIGlzIGNvbnN0cnVjdGVkIGJ5IGNhbGxpbmcgYCRxLmRlZmVyKClgLlxyXG4gICAqXHJcbiAgICogVGhlIHB1cnBvc2Ugb2YgdGhlIGRlZmVycmVkIG9iamVjdCBpcyB0byBleHBvc2UgdGhlIGFzc29jaWF0ZWQgUHJvbWlzZSBpbnN0YW5jZSBhcyB3ZWxsIGFzIEFQSXNcclxuICAgKiB0aGF0IGNhbiBiZSB1c2VkIGZvciBzaWduYWxpbmcgdGhlIHN1Y2Nlc3NmdWwgb3IgdW5zdWNjZXNzZnVsIGNvbXBsZXRpb24sIGFzIHdlbGwgYXMgdGhlIHN0YXR1c1xyXG4gICAqIG9mIHRoZSB0YXNrLlxyXG4gICAqXHJcbiAgICogKipNZXRob2RzKipcclxuICAgKlxyXG4gICAqIC0gYHJlc29sdmUodmFsdWUpYCDigJMgcmVzb2x2ZXMgdGhlIGRlcml2ZWQgcHJvbWlzZSB3aXRoIHRoZSBgdmFsdWVgLiBJZiB0aGUgdmFsdWUgaXMgYSByZWplY3Rpb25cclxuICAgKiAgIGNvbnN0cnVjdGVkIHZpYSBgJHEucmVqZWN0YCwgdGhlIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZCBpbnN0ZWFkLlxyXG4gICAqIC0gYHJlamVjdChyZWFzb24pYCDigJMgcmVqZWN0cyB0aGUgZGVyaXZlZCBwcm9taXNlIHdpdGggdGhlIGByZWFzb25gLiBUaGlzIGlzIGVxdWl2YWxlbnQgdG9cclxuICAgKiAgIHJlc29sdmluZyBpdCB3aXRoIGEgcmVqZWN0aW9uIGNvbnN0cnVjdGVkIHZpYSBgJHEucmVqZWN0YC5cclxuICAgKiAtIGBub3RpZnkodmFsdWUpYCAtIHByb3ZpZGVzIHVwZGF0ZXMgb24gdGhlIHN0YXR1cyBvZiB0aGUgcHJvbWlzZSdzIGV4ZWN1dGlvbi4gVGhpcyBtYXkgYmUgY2FsbGVkXHJcbiAgICogICBtdWx0aXBsZSB0aW1lcyBiZWZvcmUgdGhlIHByb21pc2UgaXMgZWl0aGVyIHJlc29sdmVkIG9yIHJlamVjdGVkLlxyXG4gICAqXHJcbiAgICogKipQcm9wZXJ0aWVzKipcclxuICAgKlxyXG4gICAqIC0gcHJvbWlzZSDigJMgYHtQcm9taXNlfWAg4oCTIHByb21pc2Ugb2JqZWN0IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRlZmVycmVkLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIFRoZSBQcm9taXNlIEFQSVxyXG4gICAqXHJcbiAgICogQSBuZXcgcHJvbWlzZSBpbnN0YW5jZSBpcyBjcmVhdGVkIHdoZW4gYSBkZWZlcnJlZCBpbnN0YW5jZSBpcyBjcmVhdGVkIGFuZCBjYW4gYmUgcmV0cmlldmVkIGJ5XHJcbiAgICogY2FsbGluZyBgZGVmZXJyZWQucHJvbWlzZWAuXHJcbiAgICpcclxuICAgKiBUaGUgcHVycG9zZSBvZiB0aGUgcHJvbWlzZSBvYmplY3QgaXMgdG8gYWxsb3cgZm9yIGludGVyZXN0ZWQgcGFydGllcyB0byBnZXQgYWNjZXNzIHRvIHRoZSByZXN1bHRcclxuICAgKiBvZiB0aGUgZGVmZXJyZWQgdGFzayB3aGVuIGl0IGNvbXBsZXRlcy5cclxuICAgKlxyXG4gICAqICoqTWV0aG9kcyoqXHJcbiAgICpcclxuICAgKiAtIGB0aGVuKHN1Y2Nlc3NDYWxsYmFjaywgW2Vycm9yQ2FsbGJhY2tdLCBbbm90aWZ5Q2FsbGJhY2tdKWAg4oCTIHJlZ2FyZGxlc3Mgb2Ygd2hlbiB0aGUgcHJvbWlzZSB3YXMgb3JcclxuICAgKiAgIHdpbGwgYmUgcmVzb2x2ZWQgb3IgcmVqZWN0ZWQsIGB0aGVuYCBjYWxscyBvbmUgb2YgdGhlIHN1Y2Nlc3Mgb3IgZXJyb3IgY2FsbGJhY2tzIGFzeW5jaHJvbm91c2x5XHJcbiAgICogICBhcyBzb29uIGFzIHRoZSByZXN1bHQgaXMgYXZhaWxhYmxlLiBUaGUgY2FsbGJhY2tzIGFyZSBjYWxsZWQgd2l0aCBhIHNpbmdsZSBhcmd1bWVudDogdGhlIHJlc3VsdFxyXG4gICAqICAgb3IgcmVqZWN0aW9uIHJlYXNvbi4gQWRkaXRpb25hbGx5LCB0aGUgbm90aWZ5IGNhbGxiYWNrIG1heSBiZSBjYWxsZWQgemVybyBvciBtb3JlIHRpbWVzIHRvXHJcbiAgICogICBwcm92aWRlIGEgcHJvZ3Jlc3MgaW5kaWNhdGlvbiwgYmVmb3JlIHRoZSBwcm9taXNlIGlzIHJlc29sdmVkIG9yIHJlamVjdGVkLlxyXG4gICAqXHJcbiAgICogICBUaGlzIG1ldGhvZCAqcmV0dXJucyBhIG5ldyBwcm9taXNlKiB3aGljaCBpcyByZXNvbHZlZCBvciByZWplY3RlZCB2aWEgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGVcclxuICAgKiAgIGBzdWNjZXNzQ2FsbGJhY2tgLCBgZXJyb3JDYWxsYmFja2AgKHVubGVzcyB0aGF0IHZhbHVlIGlzIGEgcHJvbWlzZSwgaW4gd2hpY2ggY2FzZSBpdCBpcyByZXNvbHZlZFxyXG4gICAqICAgd2l0aCB0aGUgdmFsdWUgd2hpY2ggaXMgcmVzb2x2ZWQgaW4gdGhhdCBwcm9taXNlIHVzaW5nXHJcbiAgICogICBbcHJvbWlzZSBjaGFpbmluZ10oaHR0cDovL3d3dy5odG1sNXJvY2tzLmNvbS9lbi90dXRvcmlhbHMvZXM2L3Byb21pc2VzLyN0b2MtcHJvbWlzZXMtcXVldWVzKSkuXHJcbiAgICogICBJdCBhbHNvIG5vdGlmaWVzIHZpYSB0aGUgcmV0dXJuIHZhbHVlIG9mIHRoZSBgbm90aWZ5Q2FsbGJhY2tgIG1ldGhvZC4gVGhlIHByb21pc2UgY2Fubm90IGJlXHJcbiAgICogICByZXNvbHZlZCBvciByZWplY3RlZCBmcm9tIHRoZSBub3RpZnlDYWxsYmFjayBtZXRob2QuIFRoZSBlcnJvckNhbGxiYWNrIGFuZCBub3RpZnlDYWxsYmFja1xyXG4gICAqICAgYXJndW1lbnRzIGFyZSBvcHRpb25hbC5cclxuICAgKlxyXG4gICAqIC0gYGNhdGNoKGVycm9yQ2FsbGJhY2spYCDigJMgc2hvcnRoYW5kIGZvciBgcHJvbWlzZS50aGVuKG51bGwsIGVycm9yQ2FsbGJhY2spYFxyXG4gICAqXHJcbiAgICogLSBgZmluYWxseShjYWxsYmFjaywgbm90aWZ5Q2FsbGJhY2spYCDigJMgYWxsb3dzIHlvdSB0byBvYnNlcnZlIGVpdGhlciB0aGUgZnVsZmlsbG1lbnQgb3IgcmVqZWN0aW9uIG9mIGEgcHJvbWlzZSxcclxuICAgKiAgIGJ1dCB0byBkbyBzbyB3aXRob3V0IG1vZGlmeWluZyB0aGUgZmluYWwgdmFsdWUuIFRoaXMgaXMgdXNlZnVsIHRvIHJlbGVhc2UgcmVzb3VyY2VzIG9yIGRvIHNvbWVcclxuICAgKiAgIGNsZWFuLXVwIHRoYXQgbmVlZHMgdG8gYmUgZG9uZSB3aGV0aGVyIHRoZSBwcm9taXNlIHdhcyByZWplY3RlZCBvciByZXNvbHZlZC4gU2VlIHRoZSBbZnVsbFxyXG4gICAqICAgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL2tyaXNrb3dhbC9xL3dpa2kvQVBJLVJlZmVyZW5jZSNwcm9taXNlZmluYWxseWNhbGxiYWNrKSBmb3JcclxuICAgKiAgIG1vcmUgaW5mb3JtYXRpb24uXHJcbiAgICpcclxuICAgKiAjIENoYWluaW5nIHByb21pc2VzXHJcbiAgICpcclxuICAgKiBCZWNhdXNlIGNhbGxpbmcgdGhlIGB0aGVuYCBtZXRob2Qgb2YgYSBwcm9taXNlIHJldHVybnMgYSBuZXcgZGVyaXZlZCBwcm9taXNlLCBpdCBpcyBlYXNpbHlcclxuICAgKiBwb3NzaWJsZSB0byBjcmVhdGUgYSBjaGFpbiBvZiBwcm9taXNlczpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogICBwcm9taXNlQiA9IHByb21pc2VBLnRoZW4oZnVuY3Rpb24ocmVzdWx0KSB7XHJcbiAgICogICAgIHJldHVybiByZXN1bHQgKyAxO1xyXG4gICAqICAgfSk7XHJcbiAgICpcclxuICAgKiAgIC8vIHByb21pc2VCIHdpbGwgYmUgcmVzb2x2ZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgcHJvbWlzZUEgaXMgcmVzb2x2ZWQgYW5kIGl0cyB2YWx1ZVxyXG4gICAqICAgLy8gd2lsbCBiZSB0aGUgcmVzdWx0IG9mIHByb21pc2VBIGluY3JlbWVudGVkIGJ5IDFcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEl0IGlzIHBvc3NpYmxlIHRvIGNyZWF0ZSBjaGFpbnMgb2YgYW55IGxlbmd0aCBhbmQgc2luY2UgYSBwcm9taXNlIGNhbiBiZSByZXNvbHZlZCB3aXRoIGFub3RoZXJcclxuICAgKiBwcm9taXNlICh3aGljaCB3aWxsIGRlZmVyIGl0cyByZXNvbHV0aW9uIGZ1cnRoZXIpLCBpdCBpcyBwb3NzaWJsZSB0byBwYXVzZS9kZWZlciByZXNvbHV0aW9uIG9mXHJcbiAgICogdGhlIHByb21pc2VzIGF0IGFueSBwb2ludCBpbiB0aGUgY2hhaW4uIFRoaXMgbWFrZXMgaXQgcG9zc2libGUgdG8gaW1wbGVtZW50IHBvd2VyZnVsIEFQSXMgbGlrZVxyXG4gICAqICRodHRwJ3MgcmVzcG9uc2UgaW50ZXJjZXB0b3JzLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIERpZmZlcmVuY2VzIGJldHdlZW4gS3JpcyBLb3dhbCdzIFEgYW5kICRxXHJcbiAgICpcclxuICAgKiAgVGhlcmUgYXJlIHR3byBtYWluIGRpZmZlcmVuY2VzOlxyXG4gICAqXHJcbiAgICogLSAkcSBpcyBpbnRlZ3JhdGVkIHdpdGggdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlfSBTY29wZSBtb2RlbCBvYnNlcnZhdGlvblxyXG4gICAqICAgbWVjaGFuaXNtIGluIGFuZ3VsYXIsIHdoaWNoIG1lYW5zIGZhc3RlciBwcm9wYWdhdGlvbiBvZiByZXNvbHV0aW9uIG9yIHJlamVjdGlvbiBpbnRvIHlvdXJcclxuICAgKiAgIG1vZGVscyBhbmQgYXZvaWRpbmcgdW5uZWNlc3NhcnkgYnJvd3NlciByZXBhaW50cywgd2hpY2ggd291bGQgcmVzdWx0IGluIGZsaWNrZXJpbmcgVUkuXHJcbiAgICogLSBRIGhhcyBtYW55IG1vcmUgZmVhdHVyZXMgdGhhbiAkcSwgYnV0IHRoYXQgY29tZXMgYXQgYSBjb3N0IG9mIGJ5dGVzLiAkcSBpcyB0aW55LCBidXQgY29udGFpbnNcclxuICAgKiAgIGFsbCB0aGUgaW1wb3J0YW50IGZ1bmN0aW9uYWxpdHkgbmVlZGVkIGZvciBjb21tb24gYXN5bmMgdGFza3MuXHJcbiAgICpcclxuICAgKiAjIFRlc3RpbmdcclxuICAgKlxyXG4gICAqICBgYGBqc1xyXG4gICAqICAgIGl0KCdzaG91bGQgc2ltdWxhdGUgcHJvbWlzZScsIGluamVjdChmdW5jdGlvbigkcSwgJHJvb3RTY29wZSkge1xyXG4gICAqICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcclxuICAgKiAgICAgIHZhciBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgKiAgICAgIHZhciByZXNvbHZlZFZhbHVlO1xyXG4gICAqXHJcbiAgICogICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24odmFsdWUpIHsgcmVzb2x2ZWRWYWx1ZSA9IHZhbHVlOyB9KTtcclxuICAgKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0JlVW5kZWZpbmVkKCk7XHJcbiAgICpcclxuICAgKiAgICAgIC8vIFNpbXVsYXRlIHJlc29sdmluZyBvZiBwcm9taXNlXHJcbiAgICogICAgICBkZWZlcnJlZC5yZXNvbHZlKDEyMyk7XHJcbiAgICogICAgICAvLyBOb3RlIHRoYXQgdGhlICd0aGVuJyBmdW5jdGlvbiBkb2VzIG5vdCBnZXQgY2FsbGVkIHN5bmNocm9ub3VzbHkuXHJcbiAgICogICAgICAvLyBUaGlzIGlzIGJlY2F1c2Ugd2Ugd2FudCB0aGUgcHJvbWlzZSBBUEkgdG8gYWx3YXlzIGJlIGFzeW5jLCB3aGV0aGVyIG9yIG5vdFxyXG4gICAqICAgICAgLy8gaXQgZ290IGNhbGxlZCBzeW5jaHJvbm91c2x5IG9yIGFzeW5jaHJvbm91c2x5LlxyXG4gICAqICAgICAgZXhwZWN0KHJlc29sdmVkVmFsdWUpLnRvQmVVbmRlZmluZWQoKTtcclxuICAgKlxyXG4gICAqICAgICAgLy8gUHJvcGFnYXRlIHByb21pc2UgcmVzb2x1dGlvbiB0byAndGhlbicgZnVuY3Rpb25zIHVzaW5nICRhcHBseSgpLlxyXG4gICAqICAgICAgJHJvb3RTY29wZS4kYXBwbHkoKTtcclxuICAgKiAgICAgIGV4cGVjdChyZXNvbHZlZFZhbHVlKS50b0VxdWFsKDEyMyk7XHJcbiAgICogICAgfSkpO1xyXG4gICAqICBgYGBcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7ZnVuY3Rpb24oZnVuY3Rpb24sIGZ1bmN0aW9uKX0gcmVzb2x2ZXIgRnVuY3Rpb24gd2hpY2ggaXMgcmVzcG9uc2libGUgZm9yIHJlc29sdmluZyBvclxyXG4gICAqICAgcmVqZWN0aW5nIHRoZSBuZXdseSBjcmVhdGVkIHByb21pc2UuIFRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSBmdW5jdGlvbiB3aGljaCByZXNvbHZlcyB0aGVcclxuICAgKiAgIHByb21pc2UsIHRoZSBzZWNvbmQgcGFyYW1ldGVyIGlzIGEgZnVuY3Rpb24gd2hpY2ggcmVqZWN0cyB0aGUgcHJvbWlzZS5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfSBUaGUgbmV3bHkgY3JlYXRlZCBwcm9taXNlLlxyXG4gICAqL1xyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBwcm92aWRlclxyXG4gICAqIEBuYW1lICRxUHJvdmlkZXJcclxuICAgKiBAdGhpc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gJFFQcm92aWRlcigpIHtcclxuICAgIHZhciBlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyA9IHRydWU7XHJcbiAgICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGV4Y2VwdGlvbkhhbmRsZXInLCBmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcclxuICAgICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgICRyb290U2NvcGUuJGV2YWxBc3luYyhjYWxsYmFjayk7XHJcbiAgICAgIH0sICRleGNlcHRpb25IYW5kbGVyLCBlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyk7XHJcbiAgICB9XTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRxUHJvdmlkZXIjZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnNcclxuICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHdoZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhIHJlamVjdGVkIHByb21pc2UgaXMgbm90IGhhbmRsZWQuXHJcbiAgICAgKiBUaGlzIGZlYXR1cmUgaXMgZW5hYmxlZCBieSBkZWZhdWx0LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIFdoZXRoZXIgdG8gZ2VuZXJhdGUgYW4gZXJyb3Igd2hlbiBhIHJlamVjdGVkIHByb21pc2UgaXMgbm90IGhhbmRsZWQuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbnxuZy4kcVByb3ZpZGVyfSBDdXJyZW50IHZhbHVlIHdoZW4gY2FsbGVkIHdpdGhvdXQgYSBuZXcgdmFsdWUgb3Igc2VsZiBmb3JcclxuICAgICAqICAgIGNoYWluaW5nIG90aGVyd2lzZS5cclxuICAgICAqL1xyXG4gICAgdGhpcy5lcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKHZhbHVlKSkge1xyXG4gICAgICAgIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zID0gdmFsdWU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqIEB0aGlzICovXHJcbiAgZnVuY3Rpb24gJCRRUHJvdmlkZXIoKSB7XHJcbiAgICB2YXIgZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSB0cnVlO1xyXG4gICAgdGhpcy4kZ2V0ID0gWyckYnJvd3NlcicsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uICgkYnJvd3NlciwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcclxuICAgICAgcmV0dXJuIHFGYWN0b3J5KGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgICRicm93c2VyLmRlZmVyKGNhbGxiYWNrKTtcclxuICAgICAgfSwgJGV4Y2VwdGlvbkhhbmRsZXIsIGVycm9yT25VbmhhbmRsZWRSZWplY3Rpb25zKTtcclxuICAgIH1dO1xyXG5cclxuICAgIHRoaXMuZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgaWYgKGlzRGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICBlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyA9IHZhbHVlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucztcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnN0cnVjdHMgYSBwcm9taXNlIG1hbmFnZXIuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKGZ1bmN0aW9uKX0gbmV4dFRpY2sgRnVuY3Rpb24gZm9yIGV4ZWN1dGluZyBmdW5jdGlvbnMgaW4gdGhlIG5leHQgdHVybi5cclxuICAgKiBAcGFyYW0ge2Z1bmN0aW9uKC4uLiopfSBleGNlcHRpb25IYW5kbGVyIEZ1bmN0aW9uIGludG8gd2hpY2ggdW5leHBlY3RlZCBleGNlcHRpb25zIGFyZSBwYXNzZWQgZm9yXHJcbiAgICogICAgIGRlYnVnZ2luZyBwdXJwb3Nlcy5cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucyBXaGV0aGVyIGFuIGVycm9yIHNob3VsZCBiZSBnZW5lcmF0ZWQgb24gdW5oYW5kbGVkXHJcbiAgICogICAgIHByb21pc2VzIHJlamVjdGlvbnMuXHJcbiAgICogQHJldHVybnMge29iamVjdH0gUHJvbWlzZSBtYW5hZ2VyLlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHFGYWN0b3J5KG5leHRUaWNrLCBleGNlcHRpb25IYW5kbGVyLCBlcnJvck9uVW5oYW5kbGVkUmVqZWN0aW9ucykge1xyXG4gICAgdmFyICRxTWluRXJyID0gbWluRXJyKCckcScsIFR5cGVFcnJvcik7XHJcbiAgICB2YXIgcXVldWVTaXplID0gMDtcclxuICAgIHZhciBjaGVja1F1ZXVlID0gW107XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSBuZy4kcSNkZWZlclxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIENyZWF0ZXMgYSBgRGVmZXJyZWRgIG9iamVjdCB3aGljaCByZXByZXNlbnRzIGEgdGFzayB3aGljaCB3aWxsIGZpbmlzaCBpbiB0aGUgZnV0dXJlLlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm5zIHtEZWZlcnJlZH0gUmV0dXJucyBhIG5ldyBpbnN0YW5jZSBvZiBkZWZlcnJlZC5cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gZGVmZXIoKSB7XHJcbiAgICAgIHJldHVybiBuZXcgRGVmZXJyZWQoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBEZWZlcnJlZCgpIHtcclxuICAgICAgdmFyIHByb21pc2UgPSB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgpO1xyXG4gICAgICAvL05vbiBwcm90b3R5cGUgbWV0aG9kcyBuZWNlc3NhcnkgdG8gc3VwcG9ydCB1bmJvdW5kIGV4ZWN1dGlvbiA6L1xyXG4gICAgICB0aGlzLnJlc29sdmUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgdmFsKTtcclxuICAgICAgfTtcclxuICAgICAgdGhpcy5yZWplY3QgPSBmdW5jdGlvbiAocmVhc29uKSB7XHJcbiAgICAgICAgcmVqZWN0UHJvbWlzZShwcm9taXNlLCByZWFzb24pO1xyXG4gICAgICB9O1xyXG4gICAgICB0aGlzLm5vdGlmeSA9IGZ1bmN0aW9uIChwcm9ncmVzcykge1xyXG4gICAgICAgIG5vdGlmeVByb21pc2UocHJvbWlzZSwgcHJvZ3Jlc3MpO1xyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIFByb21pc2UoKSB7XHJcbiAgICAgIHRoaXMuJCRzdGF0ZSA9IHsgc3RhdHVzOiAwIH07XHJcbiAgICB9XHJcblxyXG4gICAgZXh0ZW5kKFByb21pc2UucHJvdG90eXBlLCB7XHJcbiAgICAgIHRoZW46IGZ1bmN0aW9uIHRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb2dyZXNzQmFjaykge1xyXG4gICAgICAgIGlmIChpc1VuZGVmaW5lZChvbkZ1bGZpbGxlZCkgJiYgaXNVbmRlZmluZWQob25SZWplY3RlZCkgJiYgaXNVbmRlZmluZWQocHJvZ3Jlc3NCYWNrKSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgUHJvbWlzZSgpO1xyXG5cclxuICAgICAgICB0aGlzLiQkc3RhdGUucGVuZGluZyA9IHRoaXMuJCRzdGF0ZS5wZW5kaW5nIHx8IFtdO1xyXG4gICAgICAgIHRoaXMuJCRzdGF0ZS5wZW5kaW5nLnB1c2goW3Jlc3VsdCwgb25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQsIHByb2dyZXNzQmFja10pO1xyXG4gICAgICAgIGlmICh0aGlzLiQkc3RhdGUuc3RhdHVzID4gMCkgc2NoZWR1bGVQcm9jZXNzUXVldWUodGhpcy4kJHN0YXRlKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAgfSxcclxuXHJcbiAgICAgICdjYXRjaCc6IGZ1bmN0aW9uIF9jYXRjaChjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4obnVsbCwgY2FsbGJhY2spO1xyXG4gICAgICB9LFxyXG5cclxuICAgICAgJ2ZpbmFsbHknOiBmdW5jdGlvbiBfZmluYWxseShjYWxsYmFjaywgcHJvZ3Jlc3NCYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwgcmVzb2x2ZSwgY2FsbGJhY2spO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZUNhbGxiYWNrKGVycm9yLCByZWplY3QsIGNhbGxiYWNrKTtcclxuICAgICAgICB9LCBwcm9ncmVzc0JhY2spO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzUXVldWUoc3RhdGUpIHtcclxuICAgICAgdmFyIGZuLCBwcm9taXNlLCBwZW5kaW5nO1xyXG5cclxuICAgICAgcGVuZGluZyA9IHN0YXRlLnBlbmRpbmc7XHJcbiAgICAgIHN0YXRlLnByb2Nlc3NTY2hlZHVsZWQgPSBmYWxzZTtcclxuICAgICAgc3RhdGUucGVuZGluZyA9IHVuZGVmaW5lZDtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwZW5kaW5nLmxlbmd0aDsgaSA8IGlpOyArK2kpIHtcclxuICAgICAgICAgIG1hcmtRU3RhdGVFeGNlcHRpb25IYW5kbGVkKHN0YXRlKTtcclxuICAgICAgICAgIHByb21pc2UgPSBwZW5kaW5nW2ldWzBdO1xyXG4gICAgICAgICAgZm4gPSBwZW5kaW5nW2ldW3N0YXRlLnN0YXR1c107XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihmbikpIHtcclxuICAgICAgICAgICAgICByZXNvbHZlUHJvbWlzZShwcm9taXNlLCBmbihzdGF0ZS52YWx1ZSkpO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLnN0YXR1cyA9PT0gMSkge1xyXG4gICAgICAgICAgICAgIHJlc29sdmVQcm9taXNlKHByb21pc2UsIHN0YXRlLnZhbHVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICByZWplY3RQcm9taXNlKHByb21pc2UsIHN0YXRlLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICByZWplY3RQcm9taXNlKHByb21pc2UsIGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAtLXF1ZXVlU2l6ZTtcclxuICAgICAgICBpZiAoZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgJiYgcXVldWVTaXplID09PSAwKSB7XHJcbiAgICAgICAgICBuZXh0VGljayhwcm9jZXNzQ2hlY2tzKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzQ2hlY2tzKCkge1xyXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5tb2RpZmllZC1sb29wLWNvbmRpdGlvblxyXG4gICAgICB3aGlsZSAoIXF1ZXVlU2l6ZSAmJiBjaGVja1F1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgIHZhciB0b0NoZWNrID0gY2hlY2tRdWV1ZS5zaGlmdCgpO1xyXG4gICAgICAgIGlmICghaXNTdGF0ZUV4Y2VwdGlvbkhhbmRsZWQodG9DaGVjaykpIHtcclxuICAgICAgICAgIG1hcmtRU3RhdGVFeGNlcHRpb25IYW5kbGVkKHRvQ2hlY2spO1xyXG4gICAgICAgICAgdmFyIGVycm9yTWVzc2FnZSA9ICdQb3NzaWJseSB1bmhhbmRsZWQgcmVqZWN0aW9uOiAnICsgdG9EZWJ1Z1N0cmluZyh0b0NoZWNrLnZhbHVlKTtcclxuICAgICAgICAgIGlmIChpc0Vycm9yKHRvQ2hlY2sudmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIodG9DaGVjay52YWx1ZSwgZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGV4Y2VwdGlvbkhhbmRsZXIoZXJyb3JNZXNzYWdlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzY2hlZHVsZVByb2Nlc3NRdWV1ZShzdGF0ZSkge1xyXG4gICAgICBpZiAoZXJyb3JPblVuaGFuZGxlZFJlamVjdGlvbnMgJiYgIXN0YXRlLnBlbmRpbmcgJiYgc3RhdGUuc3RhdHVzID09PSAyICYmICFpc1N0YXRlRXhjZXB0aW9uSGFuZGxlZChzdGF0ZSkpIHtcclxuICAgICAgICBpZiAocXVldWVTaXplID09PSAwICYmIGNoZWNrUXVldWUubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICBuZXh0VGljayhwcm9jZXNzQ2hlY2tzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2hlY2tRdWV1ZS5wdXNoKHN0YXRlKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoc3RhdGUucHJvY2Vzc1NjaGVkdWxlZCB8fCAhc3RhdGUucGVuZGluZykgcmV0dXJuO1xyXG4gICAgICBzdGF0ZS5wcm9jZXNzU2NoZWR1bGVkID0gdHJ1ZTtcclxuICAgICAgKytxdWV1ZVNpemU7XHJcbiAgICAgIG5leHRUaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBwcm9jZXNzUXVldWUoc3RhdGUpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiByZXNvbHZlUHJvbWlzZShwcm9taXNlLCB2YWwpIHtcclxuICAgICAgaWYgKHByb21pc2UuJCRzdGF0ZS5zdGF0dXMpIHJldHVybjtcclxuICAgICAgaWYgKHZhbCA9PT0gcHJvbWlzZSkge1xyXG4gICAgICAgICQkcmVqZWN0KHByb21pc2UsICRxTWluRXJyKCdxY3ljbGUnLCAnRXhwZWN0ZWQgcHJvbWlzZSB0byBiZSByZXNvbHZlZCB3aXRoIHZhbHVlIG90aGVyIHRoYW4gaXRzZWxmIFxcJ3swfVxcJycsIHZhbCkpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgICQkcmVzb2x2ZShwcm9taXNlLCB2YWwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gJCRyZXNvbHZlKHByb21pc2UsIHZhbCkge1xyXG4gICAgICB2YXIgdGhlbjtcclxuICAgICAgdmFyIGRvbmUgPSBmYWxzZTtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBpZiAoaXNPYmplY3QodmFsKSB8fCBpc0Z1bmN0aW9uKHZhbCkpIHRoZW4gPSB2YWwudGhlbjtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbih0aGVuKSkge1xyXG4gICAgICAgICAgcHJvbWlzZS4kJHN0YXRlLnN0YXR1cyA9IC0xO1xyXG4gICAgICAgICAgdGhlbi5jYWxsKHZhbCwgZG9SZXNvbHZlLCBkb1JlamVjdCwgZG9Ob3RpZnkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBwcm9taXNlLiQkc3RhdGUudmFsdWUgPSB2YWw7XHJcbiAgICAgICAgICBwcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gMTtcclxuICAgICAgICAgIHNjaGVkdWxlUHJvY2Vzc1F1ZXVlKHByb21pc2UuJCRzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgZG9SZWplY3QoZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGRvUmVzb2x2ZSh2YWwpIHtcclxuICAgICAgICBpZiAoZG9uZSkgcmV0dXJuO1xyXG4gICAgICAgIGRvbmUgPSB0cnVlO1xyXG4gICAgICAgICQkcmVzb2x2ZShwcm9taXNlLCB2YWwpO1xyXG4gICAgICB9XHJcbiAgICAgIGZ1bmN0aW9uIGRvUmVqZWN0KHZhbCkge1xyXG4gICAgICAgIGlmIChkb25lKSByZXR1cm47XHJcbiAgICAgICAgZG9uZSA9IHRydWU7XHJcbiAgICAgICAgJCRyZWplY3QocHJvbWlzZSwgdmFsKTtcclxuICAgICAgfVxyXG4gICAgICBmdW5jdGlvbiBkb05vdGlmeShwcm9ncmVzcykge1xyXG4gICAgICAgIG5vdGlmeVByb21pc2UocHJvbWlzZSwgcHJvZ3Jlc3MpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gcmVqZWN0UHJvbWlzZShwcm9taXNlLCByZWFzb24pIHtcclxuICAgICAgaWYgKHByb21pc2UuJCRzdGF0ZS5zdGF0dXMpIHJldHVybjtcclxuICAgICAgJCRyZWplY3QocHJvbWlzZSwgcmVhc29uKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiAkJHJlamVjdChwcm9taXNlLCByZWFzb24pIHtcclxuICAgICAgcHJvbWlzZS4kJHN0YXRlLnZhbHVlID0gcmVhc29uO1xyXG4gICAgICBwcm9taXNlLiQkc3RhdGUuc3RhdHVzID0gMjtcclxuICAgICAgc2NoZWR1bGVQcm9jZXNzUXVldWUocHJvbWlzZS4kJHN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBub3RpZnlQcm9taXNlKHByb21pc2UsIHByb2dyZXNzKSB7XHJcbiAgICAgIHZhciBjYWxsYmFja3MgPSBwcm9taXNlLiQkc3RhdGUucGVuZGluZztcclxuXHJcbiAgICAgIGlmIChwcm9taXNlLiQkc3RhdGUuc3RhdHVzIDw9IDAgJiYgY2FsbGJhY2tzICYmIGNhbGxiYWNrcy5sZW5ndGgpIHtcclxuICAgICAgICBuZXh0VGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB2YXIgY2FsbGJhY2ssIHJlc3VsdDtcclxuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGNhbGxiYWNrcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGNhbGxiYWNrc1tpXVswXTtcclxuICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFja3NbaV1bM107XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgbm90aWZ5UHJvbWlzZShyZXN1bHQsIGlzRnVuY3Rpb24oY2FsbGJhY2spID8gY2FsbGJhY2socHJvZ3Jlc3MpIDogcHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgZXhjZXB0aW9uSGFuZGxlcihlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkcSNyZWplY3RcclxuICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBDcmVhdGVzIGEgcHJvbWlzZSB0aGF0IGlzIHJlc29sdmVkIGFzIHJlamVjdGVkIHdpdGggdGhlIHNwZWNpZmllZCBgcmVhc29uYC4gVGhpcyBhcGkgc2hvdWxkIGJlXHJcbiAgICAgKiB1c2VkIHRvIGZvcndhcmQgcmVqZWN0aW9uIGluIGEgY2hhaW4gb2YgcHJvbWlzZXMuIElmIHlvdSBhcmUgZGVhbGluZyB3aXRoIHRoZSBsYXN0IHByb21pc2UgaW5cclxuICAgICAqIGEgcHJvbWlzZSBjaGFpbiwgeW91IGRvbid0IG5lZWQgdG8gd29ycnkgYWJvdXQgaXQuXHJcbiAgICAgKlxyXG4gICAgICogV2hlbiBjb21wYXJpbmcgZGVmZXJyZWRzL3Byb21pc2VzIHRvIHRoZSBmYW1pbGlhciBiZWhhdmlvciBvZiB0cnkvY2F0Y2gvdGhyb3csIHRoaW5rIG9mXHJcbiAgICAgKiBgcmVqZWN0YCBhcyB0aGUgYHRocm93YCBrZXl3b3JkIGluIEphdmFTY3JpcHQuIFRoaXMgYWxzbyBtZWFucyB0aGF0IGlmIHlvdSBcImNhdGNoXCIgYW4gZXJyb3IgdmlhXHJcbiAgICAgKiBhIHByb21pc2UgZXJyb3IgY2FsbGJhY2sgYW5kIHlvdSB3YW50IHRvIGZvcndhcmQgdGhlIGVycm9yIHRvIHRoZSBwcm9taXNlIGRlcml2ZWQgZnJvbSB0aGVcclxuICAgICAqIGN1cnJlbnQgcHJvbWlzZSwgeW91IGhhdmUgdG8gXCJyZXRocm93XCIgdGhlIGVycm9yIGJ5IHJldHVybmluZyBhIHJlamVjdGlvbiBjb25zdHJ1Y3RlZCB2aWFcclxuICAgICAqIGByZWplY3RgLlxyXG4gICAgICpcclxuICAgICAqIGBgYGpzXHJcbiAgICAgKiAgIHByb21pc2VCID0gcHJvbWlzZUEudGhlbihmdW5jdGlvbihyZXN1bHQpIHtcclxuICAgICAqICAgICAvLyBzdWNjZXNzOiBkbyBzb21ldGhpbmcgYW5kIHJlc29sdmUgcHJvbWlzZUJcclxuICAgICAqICAgICAvLyAgICAgICAgICB3aXRoIHRoZSBvbGQgb3IgYSBuZXcgcmVzdWx0XHJcbiAgICAgKiAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgICAqICAgfSwgZnVuY3Rpb24ocmVhc29uKSB7XHJcbiAgICAgKiAgICAgLy8gZXJyb3I6IGhhbmRsZSB0aGUgZXJyb3IgaWYgcG9zc2libGUgYW5kXHJcbiAgICAgKiAgICAgLy8gICAgICAgIHJlc29sdmUgcHJvbWlzZUIgd2l0aCBuZXdQcm9taXNlT3JWYWx1ZSxcclxuICAgICAqICAgICAvLyAgICAgICAgb3RoZXJ3aXNlIGZvcndhcmQgdGhlIHJlamVjdGlvbiB0byBwcm9taXNlQlxyXG4gICAgICogICAgIGlmIChjYW5IYW5kbGUocmVhc29uKSkge1xyXG4gICAgICogICAgICAvLyBoYW5kbGUgdGhlIGVycm9yIGFuZCByZWNvdmVyXHJcbiAgICAgKiAgICAgIHJldHVybiBuZXdQcm9taXNlT3JWYWx1ZTtcclxuICAgICAqICAgICB9XHJcbiAgICAgKiAgICAgcmV0dXJuICRxLnJlamVjdChyZWFzb24pO1xyXG4gICAgICogICB9KTtcclxuICAgICAqIGBgYFxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Kn0gcmVhc29uIENvbnN0YW50LCBtZXNzYWdlLCBleGNlcHRpb24gb3IgYW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgcmVqZWN0aW9uIHJlYXNvbi5cclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHdhcyBhbHJlYWR5IHJlc29sdmVkIGFzIHJlamVjdGVkIHdpdGggdGhlIGByZWFzb25gLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZWplY3QocmVhc29uKSB7XHJcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgUHJvbWlzZSgpO1xyXG4gICAgICByZWplY3RQcm9taXNlKHJlc3VsdCwgcmVhc29uKTtcclxuICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBoYW5kbGVDYWxsYmFjayh2YWx1ZSwgcmVzb2x2ZXIsIGNhbGxiYWNrKSB7XHJcbiAgICAgIHZhciBjYWxsYmFja091dHB1dCA9IG51bGw7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oY2FsbGJhY2spKSBjYWxsYmFja091dHB1dCA9IGNhbGxiYWNrKCk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gcmVqZWN0KGUpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpc1Byb21pc2VMaWtlKGNhbGxiYWNrT3V0cHV0KSkge1xyXG4gICAgICAgIHJldHVybiBjYWxsYmFja091dHB1dC50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIHJldHVybiByZXNvbHZlcih2YWx1ZSk7XHJcbiAgICAgICAgfSwgcmVqZWN0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzb2x2ZXIodmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkcSN3aGVuXHJcbiAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogV3JhcHMgYW4gb2JqZWN0IHRoYXQgbWlnaHQgYmUgYSB2YWx1ZSBvciBhICgzcmQgcGFydHkpIHRoZW4tYWJsZSBwcm9taXNlIGludG8gYSAkcSBwcm9taXNlLlxyXG4gICAgICogVGhpcyBpcyB1c2VmdWwgd2hlbiB5b3UgYXJlIGRlYWxpbmcgd2l0aCBhbiBvYmplY3QgdGhhdCBtaWdodCBvciBtaWdodCBub3QgYmUgYSBwcm9taXNlLCBvciBpZlxyXG4gICAgICogdGhlIHByb21pc2UgY29tZXMgZnJvbSBhIHNvdXJjZSB0aGF0IGNhbid0IGJlIHRydXN0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSBvciBhIHByb21pc2VcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBzdWNjZXNzQ2FsbGJhY2tcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBlcnJvckNhbGxiYWNrXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gcHJvZ3Jlc3NDYWxsYmFja1xyXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIG9mIHRoZSBwYXNzZWQgdmFsdWUgb3IgcHJvbWlzZVxyXG4gICAgICovXHJcblxyXG4gICAgZnVuY3Rpb24gd2hlbih2YWx1ZSwgY2FsbGJhY2ssIGVycmJhY2ssIHByb2dyZXNzQmFjaykge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IFByb21pc2UoKTtcclxuICAgICAgcmVzb2x2ZVByb21pc2UocmVzdWx0LCB2YWx1ZSk7XHJcbiAgICAgIHJldHVybiByZXN1bHQudGhlbihjYWxsYmFjaywgZXJyYmFjaywgcHJvZ3Jlc3NCYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRxI3Jlc29sdmVcclxuICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBBbGlhcyBvZiB7QGxpbmsgbmcuJHEjd2hlbiB3aGVufSB0byBtYWludGFpbiBuYW1pbmcgY29uc2lzdGVuY3kgd2l0aCBFUzYuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBWYWx1ZSBvciBhIHByb21pc2VcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBzdWNjZXNzQ2FsbGJhY2tcclxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb249fSBlcnJvckNhbGxiYWNrXHJcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uPX0gcHJvZ3Jlc3NDYWxsYmFja1xyXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBwcm9taXNlIG9mIHRoZSBwYXNzZWQgdmFsdWUgb3IgcHJvbWlzZVxyXG4gICAgICovXHJcbiAgICB2YXIgcmVzb2x2ZSA9IHdoZW47XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkcSNhbGxcclxuICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBDb21iaW5lcyBtdWx0aXBsZSBwcm9taXNlcyBpbnRvIGEgc2luZ2xlIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIGFsbCBvZiB0aGUgaW5wdXRcclxuICAgICAqIHByb21pc2VzIGFyZSByZXNvbHZlZC5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5LjxQcm9taXNlPnxPYmplY3QuPFByb21pc2U+fSBwcm9taXNlcyBBbiBhcnJheSBvciBoYXNoIG9mIHByb21pc2VzLlxyXG4gICAgICogQHJldHVybnMge1Byb21pc2V9IFJldHVybnMgYSBzaW5nbGUgcHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhbiBhcnJheS9oYXNoIG9mIHZhbHVlcyxcclxuICAgICAqICAgZWFjaCB2YWx1ZSBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9taXNlIGF0IHRoZSBzYW1lIGluZGV4L2tleSBpbiB0aGUgYHByb21pc2VzYCBhcnJheS9oYXNoLlxyXG4gICAgICogICBJZiBhbnkgb2YgdGhlIHByb21pc2VzIGlzIHJlc29sdmVkIHdpdGggYSByZWplY3Rpb24sIHRoaXMgcmVzdWx0aW5nIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZFxyXG4gICAgICogICB3aXRoIHRoZSBzYW1lIHJlamVjdGlvbiB2YWx1ZS5cclxuICAgICAqL1xyXG5cclxuICAgIGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xyXG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IFByb21pc2UoKSxcclxuICAgICAgICAgIGNvdW50ZXIgPSAwLFxyXG4gICAgICAgICAgcmVzdWx0cyA9IGlzQXJyYXkocHJvbWlzZXMpID8gW10gOiB7fTtcclxuXHJcbiAgICAgIGZvckVhY2gocHJvbWlzZXMsIGZ1bmN0aW9uIChwcm9taXNlLCBrZXkpIHtcclxuICAgICAgICBjb3VudGVyKys7XHJcbiAgICAgICAgd2hlbihwcm9taXNlKS50aGVuKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgcmVzdWx0c1trZXldID0gdmFsdWU7XHJcbiAgICAgICAgICBpZiAoISAtLWNvdW50ZXIpIHJlc29sdmVQcm9taXNlKHJlc3VsdCwgcmVzdWx0cyk7XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xyXG4gICAgICAgICAgcmVqZWN0UHJvbWlzZShyZXN1bHQsIHJlYXNvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGNvdW50ZXIgPT09IDApIHtcclxuICAgICAgICByZXNvbHZlUHJvbWlzZShyZXN1bHQsIHJlc3VsdHMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHEjcmFjZVxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb3IgcmVqZWN0cyBhcyBzb29uIGFzIG9uZSBvZiB0aG9zZSBwcm9taXNlc1xyXG4gICAgICogcmVzb2x2ZXMgb3IgcmVqZWN0cywgd2l0aCB0aGUgdmFsdWUgb3IgcmVhc29uIGZyb20gdGhhdCBwcm9taXNlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7QXJyYXkuPFByb21pc2U+fE9iamVjdC48UHJvbWlzZT59IHByb21pc2VzIEFuIGFycmF5IG9yIGhhc2ggb2YgcHJvbWlzZXMuXHJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZX0gYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgb3IgcmVqZWN0cyBhcyBzb29uIGFzIG9uZSBvZiB0aGUgYHByb21pc2VzYFxyXG4gICAgICogcmVzb2x2ZXMgb3IgcmVqZWN0cywgd2l0aCB0aGUgdmFsdWUgb3IgcmVhc29uIGZyb20gdGhhdCBwcm9taXNlLlxyXG4gICAgICovXHJcblxyXG4gICAgZnVuY3Rpb24gcmFjZShwcm9taXNlcykge1xyXG4gICAgICB2YXIgZGVmZXJyZWQgPSBkZWZlcigpO1xyXG5cclxuICAgICAgZm9yRWFjaChwcm9taXNlcywgZnVuY3Rpb24gKHByb21pc2UpIHtcclxuICAgICAgICB3aGVuKHByb21pc2UpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiAkUShyZXNvbHZlcikge1xyXG4gICAgICBpZiAoIWlzRnVuY3Rpb24ocmVzb2x2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgJHFNaW5FcnIoJ25vcnNsdnInLCAnRXhwZWN0ZWQgcmVzb2x2ZXJGbiwgZ290IFxcJ3swfVxcJycsIHJlc29sdmVyKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZSgpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gcmVzb2x2ZUZuKHZhbHVlKSB7XHJcbiAgICAgICAgcmVzb2x2ZVByb21pc2UocHJvbWlzZSwgdmFsdWUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiByZWplY3RGbihyZWFzb24pIHtcclxuICAgICAgICByZWplY3RQcm9taXNlKHByb21pc2UsIHJlYXNvbik7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJlc29sdmVyKHJlc29sdmVGbiwgcmVqZWN0Rm4pO1xyXG5cclxuICAgICAgcmV0dXJuIHByb21pc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gTGV0J3MgbWFrZSB0aGUgaW5zdGFuY2VvZiBvcGVyYXRvciB3b3JrIGZvciBwcm9taXNlcywgc28gdGhhdFxyXG4gICAgLy8gYG5ldyAkcShmbikgaW5zdGFuY2VvZiAkcWAgd291bGQgZXZhbHVhdGUgdG8gdHJ1ZS5cclxuICAgICRRLnByb3RvdHlwZSA9IFByb21pc2UucHJvdG90eXBlO1xyXG5cclxuICAgICRRLmRlZmVyID0gZGVmZXI7XHJcbiAgICAkUS5yZWplY3QgPSByZWplY3Q7XHJcbiAgICAkUS53aGVuID0gd2hlbjtcclxuICAgICRRLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICAgJFEuYWxsID0gYWxsO1xyXG4gICAgJFEucmFjZSA9IHJhY2U7XHJcblxyXG4gICAgcmV0dXJuICRRO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNTdGF0ZUV4Y2VwdGlvbkhhbmRsZWQoc3RhdGUpIHtcclxuICAgIHJldHVybiAhIXN0YXRlLnB1cjtcclxuICB9XHJcbiAgZnVuY3Rpb24gbWFya1FTdGF0ZUV4Y2VwdGlvbkhhbmRsZWQoc3RhdGUpIHtcclxuICAgIHN0YXRlLnB1ciA9IHRydWU7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIG1hcmtRRXhjZXB0aW9uSGFuZGxlZChxKSB7XHJcbiAgICBtYXJrUVN0YXRlRXhjZXB0aW9uSGFuZGxlZChxLiQkc3RhdGUpO1xyXG4gIH1cclxuXHJcbiAgLyoqIEB0aGlzICovXHJcbiAgZnVuY3Rpb24gJCRSQUZQcm92aWRlcigpIHtcclxuICAgIC8vckFGXHJcbiAgICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJHRpbWVvdXQnLCBmdW5jdGlvbiAoJHdpbmRvdywgJHRpbWVvdXQpIHtcclxuICAgICAgdmFyIHJlcXVlc3RBbmltYXRpb25GcmFtZSA9ICR3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8ICR3aW5kb3cud2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG5cclxuICAgICAgdmFyIGNhbmNlbEFuaW1hdGlvbkZyYW1lID0gJHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSB8fCAkd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8ICR3aW5kb3cud2Via2l0Q2FuY2VsUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG5cclxuICAgICAgdmFyIHJhZlN1cHBvcnRlZCA9ICEhcmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xyXG4gICAgICB2YXIgcmFmID0gcmFmU3VwcG9ydGVkID8gZnVuY3Rpb24gKGZuKSB7XHJcbiAgICAgICAgdmFyIGlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZuKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH0gOiBmdW5jdGlvbiAoZm4pIHtcclxuICAgICAgICB2YXIgdGltZXIgPSAkdGltZW91dChmbiwgMTYuNjYsIGZhbHNlKTsgLy8gMTAwMCAvIDYwID0gMTYuNjY2XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0aW1lcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJhZi5zdXBwb3J0ZWQgPSByYWZTdXBwb3J0ZWQ7XHJcblxyXG4gICAgICByZXR1cm4gcmFmO1xyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBERVNJR04gTk9URVNcclxuICAgKlxyXG4gICAqIFRoZSBkZXNpZ24gZGVjaXNpb25zIGJlaGluZCB0aGUgc2NvcGUgYXJlIGhlYXZpbHkgZmF2b3JlZCBmb3Igc3BlZWQgYW5kIG1lbW9yeSBjb25zdW1wdGlvbi5cclxuICAgKlxyXG4gICAqIFRoZSB0eXBpY2FsIHVzZSBvZiBzY29wZSBpcyB0byB3YXRjaCB0aGUgZXhwcmVzc2lvbnMsIHdoaWNoIG1vc3Qgb2YgdGhlIHRpbWUgcmV0dXJuIHRoZSBzYW1lXHJcbiAgICogdmFsdWUgYXMgbGFzdCB0aW1lIHNvIHdlIG9wdGltaXplIHRoZSBvcGVyYXRpb24uXHJcbiAgICpcclxuICAgKiBDbG9zdXJlcyBjb25zdHJ1Y3Rpb24gaXMgZXhwZW5zaXZlIGluIHRlcm1zIG9mIHNwZWVkIGFzIHdlbGwgYXMgbWVtb3J5OlxyXG4gICAqICAgLSBObyBjbG9zdXJlcywgaW5zdGVhZCB1c2UgcHJvdG90eXBpY2FsIGluaGVyaXRhbmNlIGZvciBBUElcclxuICAgKiAgIC0gSW50ZXJuYWwgc3RhdGUgbmVlZHMgdG8gYmUgc3RvcmVkIG9uIHNjb3BlIGRpcmVjdGx5LCB3aGljaCBtZWFucyB0aGF0IHByaXZhdGUgc3RhdGUgaXNcclxuICAgKiAgICAgZXhwb3NlZCBhcyAkJF9fX18gcHJvcGVydGllc1xyXG4gICAqXHJcbiAgICogTG9vcCBvcGVyYXRpb25zIGFyZSBvcHRpbWl6ZWQgYnkgdXNpbmcgd2hpbGUoY291bnQtLSkgeyAuLi4gfVxyXG4gICAqICAgLSBUaGlzIG1lYW5zIHRoYXQgaW4gb3JkZXIgdG8ga2VlcCB0aGUgc2FtZSBvcmRlciBvZiBleGVjdXRpb24gYXMgYWRkaXRpb24gd2UgaGF2ZSB0byBhZGRcclxuICAgKiAgICAgaXRlbXMgdG8gdGhlIGFycmF5IGF0IHRoZSBiZWdpbm5pbmcgKHVuc2hpZnQpIGluc3RlYWQgb2YgYXQgdGhlIGVuZCAocHVzaClcclxuICAgKlxyXG4gICAqIENoaWxkIHNjb3BlcyBhcmUgY3JlYXRlZCBhbmQgcmVtb3ZlZCBvZnRlblxyXG4gICAqICAgLSBVc2luZyBhbiBhcnJheSB3b3VsZCBiZSBzbG93IHNpbmNlIGluc2VydHMgaW4gdGhlIG1pZGRsZSBhcmUgZXhwZW5zaXZlOyBzbyB3ZSB1c2UgbGlua2VkIGxpc3RzXHJcbiAgICpcclxuICAgKiBUaGVyZSBhcmUgZmV3ZXIgd2F0Y2hlcyB0aGFuIG9ic2VydmVycy4gVGhpcyBpcyB3aHkgeW91IGRvbid0IHdhbnQgdGhlIG9ic2VydmVyIHRvIGJlIGltcGxlbWVudGVkXHJcbiAgICogaW4gdGhlIHNhbWUgd2F5IGFzIHdhdGNoLiBXYXRjaCByZXF1aXJlcyByZXR1cm4gb2YgdGhlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHdoaWNoIGlzIGV4cGVuc2l2ZVxyXG4gICAqIHRvIGNvbnN0cnVjdC5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHByb3ZpZGVyXHJcbiAgICogQG5hbWUgJHJvb3RTY29wZVByb3ZpZGVyXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBQcm92aWRlciBmb3IgdGhlICRyb290U2NvcGUgc2VydmljZS5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lICRyb290U2NvcGVQcm92aWRlciNkaWdlc3RUdGxcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIFNldHMgdGhlIG51bWJlciBvZiBgJGRpZ2VzdGAgaXRlcmF0aW9ucyB0aGUgc2NvcGUgc2hvdWxkIGF0dGVtcHQgdG8gZXhlY3V0ZSBiZWZvcmUgZ2l2aW5nIHVwIGFuZFxyXG4gICAqIGFzc3VtaW5nIHRoYXQgdGhlIG1vZGVsIGlzIHVuc3RhYmxlLlxyXG4gICAqXHJcbiAgICogVGhlIGN1cnJlbnQgZGVmYXVsdCBpcyAxMCBpdGVyYXRpb25zLlxyXG4gICAqXHJcbiAgICogSW4gY29tcGxleCBhcHBsaWNhdGlvbnMgaXQncyBwb3NzaWJsZSB0aGF0IHRoZSBkZXBlbmRlbmNpZXMgYmV0d2VlbiBgJHdhdGNoYHMgd2lsbCByZXN1bHQgaW5cclxuICAgKiBzZXZlcmFsIGRpZ2VzdCBpdGVyYXRpb25zLiBIb3dldmVyIGlmIGFuIGFwcGxpY2F0aW9uIG5lZWRzIG1vcmUgdGhhbiB0aGUgZGVmYXVsdCAxMCBkaWdlc3RcclxuICAgKiBpdGVyYXRpb25zIGZvciBpdHMgbW9kZWwgdG8gc3RhYmlsaXplIHRoZW4geW91IHNob3VsZCBpbnZlc3RpZ2F0ZSB3aGF0IGlzIGNhdXNpbmcgdGhlIG1vZGVsIHRvXHJcbiAgICogY29udGludW91c2x5IGNoYW5nZSBkdXJpbmcgdGhlIGRpZ2VzdC5cclxuICAgKlxyXG4gICAqIEluY3JlYXNpbmcgdGhlIFRUTCBjb3VsZCBoYXZlIHBlcmZvcm1hbmNlIGltcGxpY2F0aW9ucywgc28geW91IHNob3VsZCBub3QgY2hhbmdlIGl0IHdpdGhvdXRcclxuICAgKiBwcm9wZXIganVzdGlmaWNhdGlvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsaW1pdCBUaGUgbnVtYmVyIG9mIGRpZ2VzdCBpdGVyYXRpb25zLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRyb290U2NvcGVcclxuICAgKiBAdGhpc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBFdmVyeSBhcHBsaWNhdGlvbiBoYXMgYSBzaW5nbGUgcm9vdCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBzY29wZX0uXHJcbiAgICogQWxsIG90aGVyIHNjb3BlcyBhcmUgZGVzY2VuZGFudCBzY29wZXMgb2YgdGhlIHJvb3Qgc2NvcGUuIFNjb3BlcyBwcm92aWRlIHNlcGFyYXRpb25cclxuICAgKiBiZXR3ZWVuIHRoZSBtb2RlbCBhbmQgdGhlIHZpZXcsIHZpYSBhIG1lY2hhbmlzbSBmb3Igd2F0Y2hpbmcgdGhlIG1vZGVsIGZvciBjaGFuZ2VzLlxyXG4gICAqIFRoZXkgYWxzbyBwcm92aWRlIGV2ZW50IGVtaXNzaW9uL2Jyb2FkY2FzdCBhbmQgc3Vic2NyaXB0aW9uIGZhY2lsaXR5LiBTZWUgdGhlXHJcbiAgICoge0BsaW5rIGd1aWRlL3Njb3BlIGRldmVsb3BlciBndWlkZSBvbiBzY29wZXN9LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uICRSb290U2NvcGVQcm92aWRlcigpIHtcclxuICAgIHZhciBUVEwgPSAxMDtcclxuICAgIHZhciAkcm9vdFNjb3BlTWluRXJyID0gbWluRXJyKCckcm9vdFNjb3BlJyk7XHJcbiAgICB2YXIgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xyXG4gICAgdmFyIGFwcGx5QXN5bmNJZCA9IG51bGw7XHJcblxyXG4gICAgdGhpcy5kaWdlc3RUdGwgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICBUVEwgPSB2YWx1ZTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gVFRMO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVDaGlsZFNjb3BlQ2xhc3MocGFyZW50KSB7XHJcbiAgICAgIGZ1bmN0aW9uIENoaWxkU2NvcGUoKSB7XHJcbiAgICAgICAgdGhpcy4kJHdhdGNoZXJzID0gdGhpcy4kJG5leHRTaWJsaW5nID0gdGhpcy4kJGNoaWxkSGVhZCA9IHRoaXMuJCRjaGlsZFRhaWwgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuJCRsaXN0ZW5lcnMgPSB7fTtcclxuICAgICAgICB0aGlzLiQkbGlzdGVuZXJDb3VudCA9IHt9O1xyXG4gICAgICAgIHRoaXMuJCR3YXRjaGVyc0NvdW50ID0gMDtcclxuICAgICAgICB0aGlzLiRpZCA9IG5leHRVaWQoKTtcclxuICAgICAgICB0aGlzLiQkQ2hpbGRTY29wZSA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgQ2hpbGRTY29wZS5wcm90b3R5cGUgPSBwYXJlbnQ7XHJcbiAgICAgIHJldHVybiBDaGlsZFNjb3BlO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuJGdldCA9IFsnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHBhcnNlJywgJyRicm93c2VyJywgZnVuY3Rpb24gKCRleGNlcHRpb25IYW5kbGVyLCAkcGFyc2UsICRicm93c2VyKSB7XHJcblxyXG4gICAgICBmdW5jdGlvbiBkZXN0cm95Q2hpbGRTY29wZSgkZXZlbnQpIHtcclxuICAgICAgICAkZXZlbnQuY3VycmVudFNjb3BlLiQkZGVzdHJveWVkID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY2xlYW5VcFNjb3BlKCRzY29wZSkge1xyXG5cclxuICAgICAgICAvLyBTdXBwb3J0OiBJRSA5IG9ubHlcclxuICAgICAgICBpZiAobXNpZSA9PT0gOSkge1xyXG4gICAgICAgICAgLy8gVGhlcmUgaXMgYSBtZW1vcnkgbGVhayBpbiBJRTkgaWYgYWxsIGNoaWxkIHNjb3BlcyBhcmUgbm90IGRpc2Nvbm5lY3RlZFxyXG4gICAgICAgICAgLy8gY29tcGxldGVseSB3aGVuIGEgc2NvcGUgaXMgZGVzdHJveWVkLiBTbyB0aGlzIGNvZGUgd2lsbCByZWN1cnNlIHVwIHRocm91Z2hcclxuICAgICAgICAgIC8vIGFsbCB0aGlzIHNjb3BlcyBjaGlsZHJlblxyXG4gICAgICAgICAgLy9cclxuICAgICAgICAgIC8vIFNlZSBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMDcwNlxyXG4gICAgICAgICAgaWYgKCRzY29wZS4kJGNoaWxkSGVhZCkge1xyXG4gICAgICAgICAgICBjbGVhblVwU2NvcGUoJHNjb3BlLiQkY2hpbGRIZWFkKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGlmICgkc2NvcGUuJCRuZXh0U2libGluZykge1xyXG4gICAgICAgICAgICBjbGVhblVwU2NvcGUoJHNjb3BlLiQkbmV4dFNpYmxpbmcpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gVGhlIGNvZGUgYmVsb3cgd29ya3MgYXJvdW5kIElFOSBhbmQgVjgncyBtZW1vcnkgbGVha3NcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vIFNlZTpcclxuICAgICAgICAvLyAtIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvdjgvaXNzdWVzL2RldGFpbD9pZD0yMDczI2MyNlxyXG4gICAgICAgIC8vIC0gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNjc5NCNpc3N1ZWNvbW1lbnQtMzg2NDg5MDlcclxuICAgICAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzEzMTMjaXNzdWVjb21tZW50LTEwMzc4NDUxXHJcblxyXG4gICAgICAgICRzY29wZS4kcGFyZW50ID0gJHNjb3BlLiQkbmV4dFNpYmxpbmcgPSAkc2NvcGUuJCRwcmV2U2libGluZyA9ICRzY29wZS4kJGNoaWxkSGVhZCA9ICRzY29wZS4kJGNoaWxkVGFpbCA9ICRzY29wZS4kcm9vdCA9ICRzY29wZS4kJHdhdGNoZXJzID0gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyB0eXBlXHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGVcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIEEgcm9vdCBzY29wZSBjYW4gYmUgcmV0cmlldmVkIHVzaW5nIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZSAkcm9vdFNjb3BlfSBrZXkgZnJvbSB0aGVcclxuICAgICAgICoge0BsaW5rIGF1dG8uJGluamVjdG9yICRpbmplY3Rvcn0uIENoaWxkIHNjb3BlcyBhcmUgY3JlYXRlZCB1c2luZyB0aGVcclxuICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG5ldyAkbmV3KCl9IG1ldGhvZC4gKE1vc3Qgc2NvcGVzIGFyZSBjcmVhdGVkIGF1dG9tYXRpY2FsbHkgd2hlblxyXG4gICAgICAgKiBjb21waWxlZCBIVE1MIHRlbXBsYXRlIGlzIGV4ZWN1dGVkLikgU2VlIGFsc28gdGhlIHtAbGluayBndWlkZS9zY29wZSBTY29wZXMgZ3VpZGV9IGZvclxyXG4gICAgICAgKiBhbiBpbi1kZXB0aCBpbnRyb2R1Y3Rpb24gYW5kIHVzYWdlIGV4YW1wbGVzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAjIEluaGVyaXRhbmNlXHJcbiAgICAgICAqIEEgc2NvcGUgY2FuIGluaGVyaXQgZnJvbSBhIHBhcmVudCBzY29wZSwgYXMgaW4gdGhpcyBleGFtcGxlOlxyXG4gICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAgIHZhciBwYXJlbnQgPSAkcm9vdFNjb3BlO1xyXG4gICAgICAgICAgIHZhciBjaGlsZCA9IHBhcmVudC4kbmV3KCk7XHJcbiAgICAgICAgICAgICBwYXJlbnQuc2FsdXRhdGlvbiA9IFwiSGVsbG9cIjtcclxuICAgICAgICAgICBleHBlY3QoY2hpbGQuc2FsdXRhdGlvbikudG9FcXVhbCgnSGVsbG8nKTtcclxuICAgICAgICAgICAgIGNoaWxkLnNhbHV0YXRpb24gPSBcIldlbGNvbWVcIjtcclxuICAgICAgICAgICBleHBlY3QoY2hpbGQuc2FsdXRhdGlvbikudG9FcXVhbCgnV2VsY29tZScpO1xyXG4gICAgICAgICAgIGV4cGVjdChwYXJlbnQuc2FsdXRhdGlvbikudG9FcXVhbCgnSGVsbG8nKTtcclxuICAgICAgICogYGBgXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFdoZW4gaW50ZXJhY3Rpbmcgd2l0aCBgU2NvcGVgIGluIHRlc3RzLCBhZGRpdGlvbmFsIGhlbHBlciBtZXRob2RzIGFyZSBhdmFpbGFibGUgb24gdGhlXHJcbiAgICAgICAqIGluc3RhbmNlcyBvZiBgU2NvcGVgIHR5cGUuIFNlZSB7QGxpbmsgbmdNb2NrLiRyb290U2NvcGUuU2NvcGUgbmdNb2NrIFNjb3BlfSBmb3IgYWRkaXRpb25hbFxyXG4gICAgICAgKiBkZXRhaWxzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge09iamVjdC48c3RyaW5nLCBmdW5jdGlvbigpPj19IHByb3ZpZGVycyBNYXAgb2Ygc2VydmljZSBmYWN0b3J5IHdoaWNoIG5lZWQgdG8gYmVcclxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlZCBmb3IgdGhlIGN1cnJlbnQgc2NvcGUuIERlZmF1bHRzIHRvIHtAbGluayBuZ30uXHJcbiAgICAgICAqIEBwYXJhbSB7T2JqZWN0LjxzdHJpbmcsICo+PX0gaW5zdGFuY2VDYWNoZSBQcm92aWRlcyBwcmUtaW5zdGFudGlhdGVkIHNlcnZpY2VzIHdoaWNoIHNob3VsZFxyXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGVuZC9vdmVycmlkZSBzZXJ2aWNlcyBwcm92aWRlZCBieSBgcHJvdmlkZXJzYC4gVGhpcyBpcyBoYW5keVxyXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gdW5pdC10ZXN0aW5nIGFuZCBoYXZpbmcgdGhlIG5lZWQgdG8gb3ZlcnJpZGUgYSBkZWZhdWx0XHJcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZS5cclxuICAgICAgICogQHJldHVybnMge09iamVjdH0gTmV3bHkgY3JlYXRlZCBzY29wZS5cclxuICAgICAgICpcclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIFNjb3BlKCkge1xyXG4gICAgICAgIHRoaXMuJGlkID0gbmV4dFVpZCgpO1xyXG4gICAgICAgIHRoaXMuJCRwaGFzZSA9IHRoaXMuJHBhcmVudCA9IHRoaXMuJCR3YXRjaGVycyA9IHRoaXMuJCRuZXh0U2libGluZyA9IHRoaXMuJCRwcmV2U2libGluZyA9IHRoaXMuJCRjaGlsZEhlYWQgPSB0aGlzLiQkY2hpbGRUYWlsID0gbnVsbDtcclxuICAgICAgICB0aGlzLiRyb290ID0gdGhpcztcclxuICAgICAgICB0aGlzLiQkZGVzdHJveWVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy4kJGxpc3RlbmVycyA9IHt9O1xyXG4gICAgICAgIHRoaXMuJCRsaXN0ZW5lckNvdW50ID0ge307XHJcbiAgICAgICAgdGhpcy4kJHdhdGNoZXJzQ291bnQgPSAwO1xyXG4gICAgICAgIHRoaXMuJCRpc29sYXRlQmluZGluZ3MgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIHByb3BlcnR5XHJcbiAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGlkXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBVbmlxdWUgc2NvcGUgSUQgKG1vbm90b25pY2FsbHkgaW5jcmVhc2luZykgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuXHJcbiAgICAgICAqL1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBwcm9wZXJ0eVxyXG4gICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRwYXJlbnRcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFJlZmVyZW5jZSB0byB0aGUgcGFyZW50IHNjb3BlLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgcHJvcGVydHlcclxuICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkcm9vdFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSByb290IHNjb3BlLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIFNjb3BlLnByb3RvdHlwZSA9IHtcclxuICAgICAgICBjb25zdHJ1Y3RvcjogU2NvcGUsXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJG5ld1xyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IGNoaWxkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIHNjb3BlfS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRoZSBwYXJlbnQgc2NvcGUgd2lsbCBwcm9wYWdhdGUgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBldmVudC5cclxuICAgICAgICAgKiBUaGUgc2NvcGUgY2FuIGJlIHJlbW92ZWQgZnJvbSB0aGUgc2NvcGUgaGllcmFyY2h5IHVzaW5nIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95ICRkZXN0cm95KCl9LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICoge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRlc3Ryb3kgJGRlc3Ryb3koKX0gbXVzdCBiZSBjYWxsZWQgb24gYSBzY29wZSB3aGVuIGl0IGlzXHJcbiAgICAgICAgICogZGVzaXJlZCBmb3IgdGhlIHNjb3BlIGFuZCBpdHMgY2hpbGQgc2NvcGVzIHRvIGJlIHBlcm1hbmVudGx5IGRldGFjaGVkIGZyb20gdGhlIHBhcmVudCBhbmRcclxuICAgICAgICAgKiB0aHVzIHN0b3AgcGFydGljaXBhdGluZyBpbiBtb2RlbCBjaGFuZ2UgZGV0ZWN0aW9uIGFuZCBsaXN0ZW5lciBub3RpZmljYXRpb24gYnkgaW52b2tpbmcuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzb2xhdGUgSWYgdHJ1ZSwgdGhlbiB0aGUgc2NvcGUgZG9lcyBub3QgcHJvdG90eXBpY2FsbHkgaW5oZXJpdCBmcm9tIHRoZVxyXG4gICAgICAgICAqICAgICAgICAgcGFyZW50IHNjb3BlLiBUaGUgc2NvcGUgaXMgaXNvbGF0ZWQsIGFzIGl0IGNhbiBub3Qgc2VlIHBhcmVudCBzY29wZSBwcm9wZXJ0aWVzLlxyXG4gICAgICAgICAqICAgICAgICAgV2hlbiBjcmVhdGluZyB3aWRnZXRzLCBpdCBpcyB1c2VmdWwgZm9yIHRoZSB3aWRnZXQgdG8gbm90IGFjY2lkZW50YWxseSByZWFkIHBhcmVudFxyXG4gICAgICAgICAqICAgICAgICAgc3RhdGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge1Njb3BlfSBbcGFyZW50PXRoaXNdIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSBgU2NvcGVgfSB0aGF0IHdpbGwgYmUgdGhlIGAkcGFyZW50YFxyXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2YgdGhlIG5ld2x5IGNyZWF0ZWQgc2NvcGUuIERlZmF1bHRzIHRvIGB0aGlzYCBzY29wZSBpZiBub3QgcHJvdmlkZWQuXHJcbiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGlzIHVzZWQgd2hlbiBjcmVhdGluZyBhIHRyYW5zY2x1ZGUgc2NvcGUgdG8gY29ycmVjdGx5IHBsYWNlIGl0XHJcbiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbiB0aGUgc2NvcGUgaGllcmFyY2h5IHdoaWxlIG1haW50YWluaW5nIHRoZSBjb3JyZWN0IHByb3RvdHlwaWNhbFxyXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5oZXJpdGFuY2UuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBUaGUgbmV3bHkgY3JlYXRlZCBjaGlsZCBzY29wZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICRuZXc6IGZ1bmN0aW9uICRuZXcoaXNvbGF0ZSwgcGFyZW50KSB7XHJcbiAgICAgICAgICB2YXIgY2hpbGQ7XHJcblxyXG4gICAgICAgICAgcGFyZW50ID0gcGFyZW50IHx8IHRoaXM7XHJcblxyXG4gICAgICAgICAgaWYgKGlzb2xhdGUpIHtcclxuICAgICAgICAgICAgY2hpbGQgPSBuZXcgU2NvcGUoKTtcclxuICAgICAgICAgICAgY2hpbGQuJHJvb3QgPSB0aGlzLiRyb290O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gT25seSBjcmVhdGUgYSBjaGlsZCBzY29wZSBjbGFzcyBpZiBzb21lYm9keSBhc2tzIGZvciBvbmUsXHJcbiAgICAgICAgICAgIC8vIGJ1dCBjYWNoZSBpdCB0byBhbGxvdyB0aGUgVk0gdG8gb3B0aW1pemUgbG9va3Vwcy5cclxuICAgICAgICAgICAgaWYgKCF0aGlzLiQkQ2hpbGRTY29wZSkge1xyXG4gICAgICAgICAgICAgIHRoaXMuJCRDaGlsZFNjb3BlID0gY3JlYXRlQ2hpbGRTY29wZUNsYXNzKHRoaXMpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNoaWxkID0gbmV3IHRoaXMuJCRDaGlsZFNjb3BlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBjaGlsZC4kcGFyZW50ID0gcGFyZW50O1xyXG4gICAgICAgICAgY2hpbGQuJCRwcmV2U2libGluZyA9IHBhcmVudC4kJGNoaWxkVGFpbDtcclxuICAgICAgICAgIGlmIChwYXJlbnQuJCRjaGlsZEhlYWQpIHtcclxuICAgICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsLiQkbmV4dFNpYmxpbmcgPSBjaGlsZDtcclxuICAgICAgICAgICAgcGFyZW50LiQkY2hpbGRUYWlsID0gY2hpbGQ7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBwYXJlbnQuJCRjaGlsZEhlYWQgPSBwYXJlbnQuJCRjaGlsZFRhaWwgPSBjaGlsZDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBXaGVuIHRoZSBuZXcgc2NvcGUgaXMgbm90IGlzb2xhdGVkIG9yIHdlIGluaGVyaXQgZnJvbSBgdGhpc2AsIGFuZFxyXG4gICAgICAgICAgLy8gdGhlIHBhcmVudCBzY29wZSBpcyBkZXN0cm95ZWQsIHRoZSBwcm9wZXJ0eSBgJCRkZXN0cm95ZWRgIGlzIGluaGVyaXRlZFxyXG4gICAgICAgICAgLy8gcHJvdG90eXBpY2FsbHkuIEluIGFsbCBvdGhlciBjYXNlcywgdGhpcyBwcm9wZXJ0eSBuZWVkcyB0byBiZSBzZXRcclxuICAgICAgICAgIC8vIHdoZW4gdGhlIHBhcmVudCBzY29wZSBpcyBkZXN0cm95ZWQuXHJcbiAgICAgICAgICAvLyBUaGUgbGlzdGVuZXIgbmVlZHMgdG8gYmUgYWRkZWQgYWZ0ZXIgdGhlIHBhcmVudCBpcyBzZXRcclxuICAgICAgICAgIGlmIChpc29sYXRlIHx8IHBhcmVudCAhPT0gdGhpcykgY2hpbGQuJG9uKCckZGVzdHJveScsIGRlc3Ryb3lDaGlsZFNjb3BlKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gY2hpbGQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoXHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIFJlZ2lzdGVycyBhIGBsaXN0ZW5lcmAgY2FsbGJhY2sgdG8gYmUgZXhlY3V0ZWQgd2hlbmV2ZXIgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGNoYW5nZXMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAtIFRoZSBgd2F0Y2hFeHByZXNzaW9uYCBpcyBjYWxsZWQgb24gZXZlcnkgY2FsbCB0byB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0XHJcbiAgICAgICAgICogICAkZGlnZXN0KCl9IGFuZCBzaG91bGQgcmV0dXJuIHRoZSB2YWx1ZSB0aGF0IHdpbGwgYmUgd2F0Y2hlZC4gKGB3YXRjaEV4cHJlc3Npb25gIHNob3VsZCBub3QgY2hhbmdlXHJcbiAgICAgICAgICogICBpdHMgdmFsdWUgd2hlbiBleGVjdXRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIHRoZSBzYW1lIGlucHV0IGJlY2F1c2UgaXQgbWF5IGJlIGV4ZWN1dGVkIG11bHRpcGxlXHJcbiAgICAgICAgICogICB0aW1lcyBieSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZGlnZXN0ICRkaWdlc3QoKX0uIFRoYXQgaXMsIGB3YXRjaEV4cHJlc3Npb25gIHNob3VsZCBiZVxyXG4gICAgICAgICAqICAgW2lkZW1wb3RlbnRdKGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvSWRlbXBvdGVuY2UpLilcclxuICAgICAgICAgKiAtIFRoZSBgbGlzdGVuZXJgIGlzIGNhbGxlZCBvbmx5IHdoZW4gdGhlIHZhbHVlIGZyb20gdGhlIGN1cnJlbnQgYHdhdGNoRXhwcmVzc2lvbmAgYW5kIHRoZVxyXG4gICAgICAgICAqICAgcHJldmlvdXMgY2FsbCB0byBgd2F0Y2hFeHByZXNzaW9uYCBhcmUgbm90IGVxdWFsICh3aXRoIHRoZSBleGNlcHRpb24gb2YgdGhlIGluaXRpYWwgcnVuLFxyXG4gICAgICAgICAqICAgc2VlIGJlbG93KS4gSW5lcXVhbGl0eSBpcyBkZXRlcm1pbmVkIGFjY29yZGluZyB0byByZWZlcmVuY2UgaW5lcXVhbGl0eSxcclxuICAgICAgICAgKiAgIFtzdHJpY3QgY29tcGFyaXNvbl0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL0NvbXBhcmlzb25fT3BlcmF0b3JzKVxyXG4gICAgICAgICAqICAgIHZpYSB0aGUgYCE9PWAgSmF2YXNjcmlwdCBvcGVyYXRvciwgdW5sZXNzIGBvYmplY3RFcXVhbGl0eSA9PSB0cnVlYFxyXG4gICAgICAgICAqICAgKHNlZSBuZXh0IHBvaW50KVxyXG4gICAgICAgICAqIC0gV2hlbiBgb2JqZWN0RXF1YWxpdHkgPT0gdHJ1ZWAsIGluZXF1YWxpdHkgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gIGlzIGRldGVybWluZWRcclxuICAgICAgICAgKiAgIGFjY29yZGluZyB0byB0aGUge0BsaW5rIGFuZ3VsYXIuZXF1YWxzfSBmdW5jdGlvbi4gVG8gc2F2ZSB0aGUgdmFsdWUgb2YgdGhlIG9iamVjdCBmb3JcclxuICAgICAgICAgKiAgIGxhdGVyIGNvbXBhcmlzb24sIHRoZSB7QGxpbmsgYW5ndWxhci5jb3B5fSBmdW5jdGlvbiBpcyB1c2VkLiBUaGlzIHRoZXJlZm9yZSBtZWFucyB0aGF0XHJcbiAgICAgICAgICogICB3YXRjaGluZyBjb21wbGV4IG9iamVjdHMgd2lsbCBoYXZlIGFkdmVyc2UgbWVtb3J5IGFuZCBwZXJmb3JtYW5jZSBpbXBsaWNhdGlvbnMuXHJcbiAgICAgICAgICogLSBUaGlzIHNob3VsZCBub3QgYmUgdXNlZCB0byB3YXRjaCBmb3IgY2hhbmdlcyBpbiBvYmplY3RzIHRoYXQgYXJlXHJcbiAgICAgICAgICogICBvciBjb250YWluIFtGaWxlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvRmlsZSkgb2JqZWN0cyBkdWUgdG8gbGltaXRhdGlvbnMgd2l0aCB7QGxpbmsgYW5ndWxhci5jb3B5IGBhbmd1bGFyLmNvcHlgfS5cclxuICAgICAgICAgKiAtIFRoZSB3YXRjaCBgbGlzdGVuZXJgIG1heSBjaGFuZ2UgdGhlIG1vZGVsLCB3aGljaCBtYXkgdHJpZ2dlciBvdGhlciBgbGlzdGVuZXJgcyB0byBmaXJlLlxyXG4gICAgICAgICAqICAgVGhpcyBpcyBhY2hpZXZlZCBieSByZXJ1bm5pbmcgdGhlIHdhdGNoZXJzIHVudGlsIG5vIGNoYW5nZXMgYXJlIGRldGVjdGVkLiBUaGUgcmVydW5cclxuICAgICAgICAgKiAgIGl0ZXJhdGlvbiBsaW1pdCBpcyAxMCB0byBwcmV2ZW50IGFuIGluZmluaXRlIGxvb3AgZGVhZGxvY2suXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIElmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW5ldmVyIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gaXMgY2FsbGVkLFxyXG4gICAgICAgICAqIHlvdSBjYW4gcmVnaXN0ZXIgYSBgd2F0Y2hFeHByZXNzaW9uYCBmdW5jdGlvbiB3aXRoIG5vIGBsaXN0ZW5lcmAuIChCZSBwcmVwYXJlZCBmb3JcclxuICAgICAgICAgKiBtdWx0aXBsZSBjYWxscyB0byB5b3VyIGB3YXRjaEV4cHJlc3Npb25gIGJlY2F1c2UgaXQgd2lsbCBleGVjdXRlIG11bHRpcGxlIHRpbWVzIGluIGFcclxuICAgICAgICAgKiBzaW5nbGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0fSBjeWNsZSBpZiBhIGNoYW5nZSBpcyBkZXRlY3RlZC4pXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBBZnRlciBhIHdhdGNoZXIgaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBzY29wZSwgdGhlIGBsaXN0ZW5lcmAgZm4gaXMgY2FsbGVkIGFzeW5jaHJvbm91c2x5XHJcbiAgICAgICAgICogKHZpYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZXZhbEFzeW5jICRldmFsQXN5bmN9KSB0byBpbml0aWFsaXplIHRoZVxyXG4gICAgICAgICAqIHdhdGNoZXIuIEluIHJhcmUgY2FzZXMsIHRoaXMgaXMgdW5kZXNpcmFibGUgYmVjYXVzZSB0aGUgbGlzdGVuZXIgaXMgY2FsbGVkIHdoZW4gdGhlIHJlc3VsdFxyXG4gICAgICAgICAqIG9mIGB3YXRjaEV4cHJlc3Npb25gIGRpZG4ndCBjaGFuZ2UuIFRvIGRldGVjdCB0aGlzIHNjZW5hcmlvIHdpdGhpbiB0aGUgYGxpc3RlbmVyYCBmbiwgeW91XHJcbiAgICAgICAgICogY2FuIGNvbXBhcmUgdGhlIGBuZXdWYWxgIGFuZCBgb2xkVmFsYC4gSWYgdGhlc2UgdHdvIHZhbHVlcyBhcmUgaWRlbnRpY2FsIChgPT09YCkgdGhlbiB0aGVcclxuICAgICAgICAgKiBsaXN0ZW5lciB3YXMgY2FsbGVkIGR1ZSB0byBpbml0aWFsaXphdGlvbi5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAjIEV4YW1wbGVcclxuICAgICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAgICAgLy8gbGV0J3MgYXNzdW1lIHRoYXQgc2NvcGUgd2FzIGRlcGVuZGVuY3kgaW5qZWN0ZWQgYXMgdGhlICRyb290U2NvcGVcclxuICAgICAgICAgICAgIHZhciBzY29wZSA9ICRyb290U2NvcGU7XHJcbiAgICAgICAgICAgICBzY29wZS5uYW1lID0gJ21pc2tvJztcclxuICAgICAgICAgICAgIHNjb3BlLmNvdW50ZXIgPSAwO1xyXG4gICAgICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcclxuICAgICAgICAgICAgIHNjb3BlLiR3YXRjaCgnbmFtZScsIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gc2NvcGUuY291bnRlciArIDE7XHJcbiAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDApO1xyXG4gICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgICAvLyB0aGUgbGlzdGVuZXIgaXMgYWx3YXlzIGNhbGxlZCBkdXJpbmcgdGhlIGZpcnN0ICRkaWdlc3QgbG9vcCBhZnRlciBpdCB3YXMgcmVnaXN0ZXJlZFxyXG4gICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XHJcbiAgICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAgIC8vIGJ1dCBub3cgaXQgd2lsbCBub3QgYmUgY2FsbGVkIHVubGVzcyB0aGUgdmFsdWUgY2hhbmdlc1xyXG4gICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMSk7XHJcbiAgICAgICAgICAgICAgIHNjb3BlLm5hbWUgPSAnYWRhbSc7XHJcbiAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgyKTtcclxuICAgICAgICAgICAgICAgICAgIC8vIFVzaW5nIGEgZnVuY3Rpb24gYXMgYSB3YXRjaEV4cHJlc3Npb25cclxuICAgICAgICAgICAgIHZhciBmb29kO1xyXG4gICAgICAgICAgICAgc2NvcGUuZm9vZENvdW50ZXIgPSAwO1xyXG4gICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmZvb2RDb3VudGVyKS50b0VxdWFsKDApO1xyXG4gICAgICAgICAgICAgc2NvcGUuJHdhdGNoKFxyXG4gICAgICAgICAgICAgICAvLyBUaGlzIGZ1bmN0aW9uIHJldHVybnMgdGhlIHZhbHVlIGJlaW5nIHdhdGNoZWQuIEl0IGlzIGNhbGxlZCBmb3IgZWFjaCB0dXJuIG9mIHRoZSAkZGlnZXN0IGxvb3BcclxuICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7IHJldHVybiBmb29kOyB9LFxyXG4gICAgICAgICAgICAgICAvLyBUaGlzIGlzIHRoZSBjaGFuZ2UgbGlzdGVuZXIsIGNhbGxlZCB3aGVuIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBhYm92ZSBmdW5jdGlvbiBjaGFuZ2VzXHJcbiAgICAgICAgICAgICAgIGZ1bmN0aW9uKG5ld1ZhbHVlLCBvbGRWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgIGlmICggbmV3VmFsdWUgIT09IG9sZFZhbHVlICkge1xyXG4gICAgICAgICAgICAgICAgICAgLy8gT25seSBpbmNyZW1lbnQgdGhlIGNvdW50ZXIgaWYgdGhlIHZhbHVlIGNoYW5nZWRcclxuICAgICAgICAgICAgICAgICAgIHNjb3BlLmZvb2RDb3VudGVyID0gc2NvcGUuZm9vZENvdW50ZXIgKyAxO1xyXG4gICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgIC8vIE5vIGRpZ2VzdCBoYXMgYmVlbiBydW4gc28gdGhlIGNvdW50ZXIgd2lsbCBiZSB6ZXJvXHJcbiAgICAgICAgICAgICBleHBlY3Qoc2NvcGUuZm9vZENvdW50ZXIpLnRvRXF1YWwoMCk7XHJcbiAgICAgICAgICAgICAgIC8vIFJ1biB0aGUgZGlnZXN0IGJ1dCBzaW5jZSBmb29kIGhhcyBub3QgY2hhbmdlZCBjb3VudCB3aWxsIHN0aWxsIGJlIHplcm9cclxuICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgwKTtcclxuICAgICAgICAgICAgICAgLy8gVXBkYXRlIGZvb2QgYW5kIHJ1biBkaWdlc3QuICBOb3cgdGhlIGNvdW50ZXIgd2lsbCBpbmNyZW1lbnRcclxuICAgICAgICAgICAgIGZvb2QgPSAnY2hlZXNlYnVyZ2VyJztcclxuICAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAgIGV4cGVjdChzY29wZS5mb29kQ291bnRlcikudG9FcXVhbCgxKTtcclxuICAgICAgICAgICAqIGBgYFxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7KGZ1bmN0aW9uKCl8c3RyaW5nKX0gd2F0Y2hFeHByZXNzaW9uIEV4cHJlc3Npb24gdGhhdCBpcyBldmFsdWF0ZWQgb24gZWFjaFxyXG4gICAgICAgICAqICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUuIEEgY2hhbmdlIGluIHRoZSByZXR1cm4gdmFsdWUgdHJpZ2dlcnNcclxuICAgICAgICAgKiAgICBhIGNhbGwgdG8gdGhlIGBsaXN0ZW5lcmAuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAtIGBzdHJpbmdgOiBFdmFsdWF0ZWQgYXMge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn1cclxuICAgICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBjYWxsZWQgd2l0aCBjdXJyZW50IGBzY29wZWAgYXMgYSBwYXJhbWV0ZXIuXHJcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdWYWwsIG9sZFZhbCwgc2NvcGUpfSBsaXN0ZW5lciBDYWxsYmFjayBjYWxsZWQgd2hlbmV2ZXIgdGhlIHZhbHVlXHJcbiAgICAgICAgICogICAgb2YgYHdhdGNoRXhwcmVzc2lvbmAgY2hhbmdlcy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgIC0gYG5ld1ZhbGAgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gXHJcbiAgICAgICAgICogICAgLSBgb2xkVmFsYCBjb250YWlucyB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGB3YXRjaEV4cHJlc3Npb25gXHJcbiAgICAgICAgICogICAgLSBgc2NvcGVgIHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZVxyXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtvYmplY3RFcXVhbGl0eT1mYWxzZV0gQ29tcGFyZSBmb3Igb2JqZWN0IGVxdWFsaXR5IHVzaW5nIHtAbGluayBhbmd1bGFyLmVxdWFsc30gaW5zdGVhZCBvZlxyXG4gICAgICAgICAqICAgICBjb21wYXJpbmcgZm9yIHJlZmVyZW5jZSBlcXVhbGl0eS5cclxuICAgICAgICAgKiBAcmV0dXJucyB7ZnVuY3Rpb24oKX0gUmV0dXJucyBhIGRlcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICR3YXRjaDogZnVuY3Rpb24gJHdhdGNoKHdhdGNoRXhwLCBsaXN0ZW5lciwgb2JqZWN0RXF1YWxpdHksIHByZXR0eVByaW50RXhwcmVzc2lvbikge1xyXG4gICAgICAgICAgdmFyIGdldCA9ICRwYXJzZSh3YXRjaEV4cCk7XHJcblxyXG4gICAgICAgICAgaWYgKGdldC4kJHdhdGNoRGVsZWdhdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldC4kJHdhdGNoRGVsZWdhdGUodGhpcywgbGlzdGVuZXIsIG9iamVjdEVxdWFsaXR5LCBnZXQsIHdhdGNoRXhwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHZhciBzY29wZSA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzLFxyXG4gICAgICAgICAgICAgIHdhdGNoZXIgPSB7XHJcbiAgICAgICAgICAgIGZuOiBsaXN0ZW5lcixcclxuICAgICAgICAgICAgbGFzdDogaW5pdFdhdGNoVmFsLFxyXG4gICAgICAgICAgICBnZXQ6IGdldCxcclxuICAgICAgICAgICAgZXhwOiBwcmV0dHlQcmludEV4cHJlc3Npb24gfHwgd2F0Y2hFeHAsXHJcbiAgICAgICAgICAgIGVxOiAhIW9iamVjdEVxdWFsaXR5XHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGxhc3REaXJ0eVdhdGNoID0gbnVsbDtcclxuXHJcbiAgICAgICAgICBpZiAoIWlzRnVuY3Rpb24obGlzdGVuZXIpKSB7XHJcbiAgICAgICAgICAgIHdhdGNoZXIuZm4gPSBub29wO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICghYXJyYXkpIHtcclxuICAgICAgICAgICAgYXJyYXkgPSBzY29wZS4kJHdhdGNoZXJzID0gW107XHJcbiAgICAgICAgICAgIGFycmF5LiQkZGlnZXN0V2F0Y2hJbmRleCA9IC0xO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gd2UgdXNlIHVuc2hpZnQgc2luY2Ugd2UgdXNlIGEgd2hpbGUgbG9vcCBpbiAkZGlnZXN0IGZvciBzcGVlZC5cclxuICAgICAgICAgIC8vIHRoZSB3aGlsZSBsb29wIHJlYWRzIGluIHJldmVyc2Ugb3JkZXIuXHJcbiAgICAgICAgICBhcnJheS51bnNoaWZ0KHdhdGNoZXIpO1xyXG4gICAgICAgICAgYXJyYXkuJCRkaWdlc3RXYXRjaEluZGV4Kys7XHJcbiAgICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHRoaXMsIDEpO1xyXG5cclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2goKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCA9IGFycmF5UmVtb3ZlKGFycmF5LCB3YXRjaGVyKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHtcclxuICAgICAgICAgICAgICBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KHNjb3BlLCAtMSk7XHJcbiAgICAgICAgICAgICAgaWYgKGluZGV4IDwgYXJyYXkuJCRkaWdlc3RXYXRjaEluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICBhcnJheS4kJGRpZ2VzdFdhdGNoSW5kZXgtLTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hHcm91cFxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBBIHZhcmlhbnQgb2Yge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoICR3YXRjaCgpfSB3aGVyZSBpdCB3YXRjaGVzIGFuIGFycmF5IG9mIGB3YXRjaEV4cHJlc3Npb25zYC5cclxuICAgICAgICAgKiBJZiBhbnkgb25lIGV4cHJlc3Npb24gaW4gdGhlIGNvbGxlY3Rpb24gY2hhbmdlcyB0aGUgYGxpc3RlbmVyYCBpcyBleGVjdXRlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIC0gVGhlIGl0ZW1zIGluIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AgYXJyYXkgYXJlIG9ic2VydmVkIHZpYSB0aGUgc3RhbmRhcmQgYCR3YXRjaGAgb3BlcmF0aW9uLiBUaGVpciByZXR1cm5cclxuICAgICAgICAgKiAgIHZhbHVlcyBhcmUgZXhhbWluZWQgZm9yIGNoYW5nZXMgb24gZXZlcnkgY2FsbCB0byBgJGRpZ2VzdGAuXHJcbiAgICAgICAgICogLSBUaGUgYGxpc3RlbmVyYCBpcyBjYWxsZWQgd2hlbmV2ZXIgYW55IGV4cHJlc3Npb24gaW4gdGhlIGB3YXRjaEV4cHJlc3Npb25zYCBhcnJheSBjaGFuZ2VzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogYCR3YXRjaEdyb3VwYCBpcyBtb3JlIHBlcmZvcm1hbnQgdGhhbiB3YXRjaGluZyBlYWNoIGV4cHJlc3Npb24gaW5kaXZpZHVhbGx5LCBhbmQgc2hvdWxkIGJlXHJcbiAgICAgICAgICogdXNlZCB3aGVuIHRoZSBsaXN0ZW5lciBkb2VzIG5vdCBuZWVkIHRvIGtub3cgd2hpY2ggZXhwcmVzc2lvbiBoYXMgY2hhbmdlZC5cclxuICAgICAgICAgKiBJZiB0aGUgbGlzdGVuZXIgbmVlZHMgdG8ga25vdyB3aGljaCBleHByZXNzaW9uIGhhcyBjaGFuZ2VkLFxyXG4gICAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX0gb3JcclxuICAgICAgICAgKiB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2hDb2xsZWN0aW9uICR3YXRjaENvbGxlY3Rpb24oKX0gc2hvdWxkIGJlIHVzZWQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge0FycmF5LjxzdHJpbmd8RnVuY3Rpb24oc2NvcGUpPn0gd2F0Y2hFeHByZXNzaW9ucyBBcnJheSBvZiBleHByZXNzaW9ucyB0aGF0IHdpbGwgYmUgaW5kaXZpZHVhbGx5XHJcbiAgICAgICAgICogd2F0Y2hlZCB1c2luZyB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggJHdhdGNoKCl9XHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9uKG5ld1ZhbHVlcywgb2xkVmFsdWVzLCBzY29wZSl9IGxpc3RlbmVyIENhbGxiYWNrIGNhbGxlZCB3aGVuZXZlciB0aGUgcmV0dXJuIHZhbHVlIG9mIGFueVxyXG4gICAgICAgICAqICAgIGV4cHJlc3Npb24gaW4gYHdhdGNoRXhwcmVzc2lvbnNgIGNoYW5nZXNcclxuICAgICAgICAgKiAgICBUaGUgYG5ld1ZhbHVlc2AgYXJyYXkgY29udGFpbnMgdGhlIGN1cnJlbnQgdmFsdWVzIG9mIHRoZSBgd2F0Y2hFeHByZXNzaW9uc2AsIHdpdGggdGhlIGluZGV4ZXMgbWF0Y2hpbmdcclxuICAgICAgICAgKiAgICB0aG9zZSBvZiBgd2F0Y2hFeHByZXNzaW9uYFxyXG4gICAgICAgICAqICAgIGFuZCB0aGUgYG9sZFZhbHVlc2AgYXJyYXkgY29udGFpbnMgdGhlIHByZXZpb3VzIHZhbHVlcyBvZiB0aGUgYHdhdGNoRXhwcmVzc2lvbnNgLCB3aXRoIHRoZSBpbmRleGVzIG1hdGNoaW5nXHJcbiAgICAgICAgICogICAgdGhvc2Ugb2YgYHdhdGNoRXhwcmVzc2lvbmAuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICBOb3RlIHRoYXQgYG5ld1ZhbHVlc2AgYW5kIGBvbGRWYWx1ZXNgIHJlZmxlY3QgdGhlIGRpZmZlcmVuY2VzIGluIGVhY2ggKippbmRpdmlkdWFsKipcclxuICAgICAgICAgKiAgICBleHByZXNzaW9uLCBhbmQgbm90IHRoZSBkaWZmZXJlbmNlIG9mIHRoZSB2YWx1ZXMgYmV0d2VlbiBlYWNoIGNhbGwgb2YgdGhlIGxpc3RlbmVyLlxyXG4gICAgICAgICAqICAgIFRoYXQgbWVhbnMgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBgbmV3VmFsdWVzYCBhbmQgYG9sZFZhbHVlc2AgY2Fubm90IGJlIHVzZWQgdG8gZGV0ZXJtaW5lXHJcbiAgICAgICAgICogICAgd2hpY2ggZXhwcmVzc2lvbiBoYXMgY2hhbmdlZCAvIHJlbWFpbmVkIHN0YWJsZTpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgIGBgYGpzXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAkc2NvcGUuJHdhdGNoR3JvdXAoWyd2MScsICd2MiddLCBmdW5jdGlvbihuZXdWYWx1ZXMsIG9sZFZhbHVlcykge1xyXG4gICAgICAgICAqICAgICAgY29uc29sZS5sb2cobmV3VmFsdWVzLCBvbGRWYWx1ZXMpO1xyXG4gICAgICAgICAqICAgIH0pO1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgLy8gbmV3VmFsdWVzLCBvbGRWYWx1ZXMgaW5pdGlhbGx5XHJcbiAgICAgICAgICogICAgLy8gW3VuZGVmaW5lZCwgdW5kZWZpbmVkXSwgW3VuZGVmaW5lZCwgdW5kZWZpbmVkXVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgJHNjb3BlLnYxID0gJ2EnO1xyXG4gICAgICAgICAqICAgICRzY29wZS52MiA9ICdhJztcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgIC8vIFsnYScsICdhJ10sIFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgICRzY29wZS52MiA9ICdiJ1xyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgLy8gdjEgaGFzbid0IGNoYW5nZWQgc2luY2UgaXQgYmVjYW1lIGAnYSdgLCB0aGVyZWZvcmUgaXRzIG9sZFZhbHVlIGlzIHN0aWxsIGB1bmRlZmluZWRgXHJcbiAgICAgICAgICogICAgLy8gWydhJywgJ2InXSwgW3VuZGVmaW5lZCwgJ2EnXVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgYGBgXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICBUaGUgYHNjb3BlYCByZWZlcnMgdG8gdGhlIGN1cnJlbnQgc2NvcGUuXHJcbiAgICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZS1yZWdpc3RyYXRpb24gZnVuY3Rpb24gZm9yIGFsbCBsaXN0ZW5lcnMuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJHdhdGNoR3JvdXA6IGZ1bmN0aW9uICR3YXRjaEdyb3VwKHdhdGNoRXhwcmVzc2lvbnMsIGxpc3RlbmVyKSB7XHJcbiAgICAgICAgICB2YXIgb2xkVmFsdWVzID0gbmV3IEFycmF5KHdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKTtcclxuICAgICAgICAgIHZhciBuZXdWYWx1ZXMgPSBuZXcgQXJyYXkod2F0Y2hFeHByZXNzaW9ucy5sZW5ndGgpO1xyXG4gICAgICAgICAgdmFyIGRlcmVnaXN0ZXJGbnMgPSBbXTtcclxuICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgIHZhciBjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgdmFyIGZpcnN0UnVuID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICBpZiAoIXdhdGNoRXhwcmVzc2lvbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIE5vIGV4cHJlc3Npb25zIG1lYW5zIHdlIGNhbGwgdGhlIGxpc3RlbmVyIEFTQVBcclxuICAgICAgICAgICAgdmFyIHNob3VsZENhbGwgPSB0cnVlO1xyXG4gICAgICAgICAgICBzZWxmLiRldmFsQXN5bmMoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIGlmIChzaG91bGRDYWxsKSBsaXN0ZW5lcihuZXdWYWx1ZXMsIG5ld1ZhbHVlcywgc2VsZik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVyZWdpc3RlcldhdGNoR3JvdXAoKSB7XHJcbiAgICAgICAgICAgICAgc2hvdWxkQ2FsbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICh3YXRjaEV4cHJlc3Npb25zLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2Ugc2l6ZSBvZiBvbmVcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHdhdGNoKHdhdGNoRXhwcmVzc2lvbnNbMF0sIGZ1bmN0aW9uIHdhdGNoR3JvdXBBY3Rpb24odmFsdWUsIG9sZFZhbHVlLCBzY29wZSkge1xyXG4gICAgICAgICAgICAgIG5ld1ZhbHVlc1swXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgIG9sZFZhbHVlc1swXSA9IG9sZFZhbHVlO1xyXG4gICAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgdmFsdWUgPT09IG9sZFZhbHVlID8gbmV3VmFsdWVzIDogb2xkVmFsdWVzLCBzY29wZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZvckVhY2god2F0Y2hFeHByZXNzaW9ucywgZnVuY3Rpb24gKGV4cHIsIGkpIHtcclxuICAgICAgICAgICAgdmFyIHVud2F0Y2hGbiA9IHNlbGYuJHdhdGNoKGV4cHIsIGZ1bmN0aW9uIHdhdGNoR3JvdXBTdWJBY3Rpb24odmFsdWUsIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgbmV3VmFsdWVzW2ldID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgb2xkVmFsdWVzW2ldID0gb2xkVmFsdWU7XHJcbiAgICAgICAgICAgICAgaWYgKCFjaGFuZ2VSZWFjdGlvblNjaGVkdWxlZCkge1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgc2VsZi4kZXZhbEFzeW5jKHdhdGNoR3JvdXBBY3Rpb24pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGRlcmVnaXN0ZXJGbnMucHVzaCh1bndhdGNoRm4pO1xyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gd2F0Y2hHcm91cEFjdGlvbigpIHtcclxuICAgICAgICAgICAgY2hhbmdlUmVhY3Rpb25TY2hlZHVsZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmaXJzdFJ1bikge1xyXG4gICAgICAgICAgICAgIGZpcnN0UnVuID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgbGlzdGVuZXIobmV3VmFsdWVzLCBuZXdWYWx1ZXMsIHNlbGYpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlcywgb2xkVmFsdWVzLCBzZWxmKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBkZXJlZ2lzdGVyV2F0Y2hHcm91cCgpIHtcclxuICAgICAgICAgICAgd2hpbGUgKGRlcmVnaXN0ZXJGbnMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgZGVyZWdpc3RlckZucy5zaGlmdCgpKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJHdhdGNoQ29sbGVjdGlvblxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBTaGFsbG93IHdhdGNoZXMgdGhlIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZCBmaXJlcyB3aGVuZXZlciBhbnkgb2YgdGhlIHByb3BlcnRpZXMgY2hhbmdlXHJcbiAgICAgICAgICogKGZvciBhcnJheXMsIHRoaXMgaW1wbGllcyB3YXRjaGluZyB0aGUgYXJyYXkgaXRlbXM7IGZvciBvYmplY3QgbWFwcywgdGhpcyBpbXBsaWVzIHdhdGNoaW5nXHJcbiAgICAgICAgICogdGhlIHByb3BlcnRpZXMpLiBJZiBhIGNoYW5nZSBpcyBkZXRlY3RlZCwgdGhlIGBsaXN0ZW5lcmAgY2FsbGJhY2sgaXMgZmlyZWQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAtIFRoZSBgb2JqYCBjb2xsZWN0aW9uIGlzIG9ic2VydmVkIHZpYSBzdGFuZGFyZCAkd2F0Y2ggb3BlcmF0aW9uIGFuZCBpcyBleGFtaW5lZCBvbiBldmVyeVxyXG4gICAgICAgICAqICAgY2FsbCB0byAkZGlnZXN0KCkgdG8gc2VlIGlmIGFueSBpdGVtcyBoYXZlIGJlZW4gYWRkZWQsIHJlbW92ZWQsIG9yIG1vdmVkLlxyXG4gICAgICAgICAqIC0gVGhlIGBsaXN0ZW5lcmAgaXMgY2FsbGVkIHdoZW5ldmVyIGFueXRoaW5nIHdpdGhpbiB0aGUgYG9iamAgaGFzIGNoYW5nZWQuIEV4YW1wbGVzIGluY2x1ZGVcclxuICAgICAgICAgKiAgIGFkZGluZywgcmVtb3ZpbmcsIGFuZCBtb3ZpbmcgaXRlbXMgYmVsb25naW5nIHRvIGFuIG9iamVjdCBvciBhcnJheS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogIyBFeGFtcGxlXHJcbiAgICAgICAgICogYGBganNcclxuICAgICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydpZ29yJywgJ21hdGlhcycsICdtaXNrbycsICdqYW1lcyddO1xyXG4gICAgICAgICAgICAkc2NvcGUuZGF0YUNvdW50ID0gNDtcclxuICAgICAgICAgICAgICAkc2NvcGUuJHdhdGNoQ29sbGVjdGlvbignbmFtZXMnLCBmdW5jdGlvbihuZXdOYW1lcywgb2xkTmFtZXMpIHtcclxuICAgICAgICAgICAgICAkc2NvcGUuZGF0YUNvdW50ID0gbmV3TmFtZXMubGVuZ3RoO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCg0KTtcclxuICAgICAgICAgICAgJHNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAgICAvL3N0aWxsIGF0IDQgLi4uIG5vIGNoYW5nZXNcclxuICAgICAgICAgICAgZXhwZWN0KCRzY29wZS5kYXRhQ291bnQpLnRvRXF1YWwoNCk7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm5hbWVzLnBvcCgpO1xyXG4gICAgICAgICAgICAkc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgICAgIC8vbm93IHRoZXJlJ3MgYmVlbiBhIGNoYW5nZVxyXG4gICAgICAgICAgICBleHBlY3QoJHNjb3BlLmRhdGFDb3VudCkudG9FcXVhbCgzKTtcclxuICAgICAgICAgKiBgYGBcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd8ZnVuY3Rpb24oc2NvcGUpfSBvYmogRXZhbHVhdGVkIGFzIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LiBUaGVcclxuICAgICAgICAgKiAgICBleHByZXNzaW9uIHZhbHVlIHNob3VsZCBldmFsdWF0ZSB0byBhbiBvYmplY3Qgb3IgYW4gYXJyYXkgd2hpY2ggaXMgb2JzZXJ2ZWQgb24gZWFjaFxyXG4gICAgICAgICAqICAgIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdH0gY3ljbGUuIEFueSBzaGFsbG93IGNoYW5nZSB3aXRoaW4gdGhlXHJcbiAgICAgICAgICogICAgY29sbGVjdGlvbiB3aWxsIHRyaWdnZXIgYSBjYWxsIHRvIHRoZSBgbGlzdGVuZXJgLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtmdW5jdGlvbihuZXdDb2xsZWN0aW9uLCBvbGRDb2xsZWN0aW9uLCBzY29wZSl9IGxpc3RlbmVyIGEgY2FsbGJhY2sgZnVuY3Rpb24gY2FsbGVkXHJcbiAgICAgICAgICogICAgd2hlbiBhIGNoYW5nZSBpcyBkZXRlY3RlZC5cclxuICAgICAgICAgKiAgICAtIFRoZSBgbmV3Q29sbGVjdGlvbmAgb2JqZWN0IGlzIHRoZSBuZXdseSBtb2RpZmllZCBkYXRhIG9idGFpbmVkIGZyb20gdGhlIGBvYmpgIGV4cHJlc3Npb25cclxuICAgICAgICAgKiAgICAtIFRoZSBgb2xkQ29sbGVjdGlvbmAgb2JqZWN0IGlzIGEgY29weSBvZiB0aGUgZm9ybWVyIGNvbGxlY3Rpb24gZGF0YS5cclxuICAgICAgICAgKiAgICAgIER1ZSB0byBwZXJmb3JtYW5jZSBjb25zaWRlcmF0aW9ucywgdGhlYG9sZENvbGxlY3Rpb25gIHZhbHVlIGlzIGNvbXB1dGVkIG9ubHkgaWYgdGhlXHJcbiAgICAgICAgICogICAgICBgbGlzdGVuZXJgIGZ1bmN0aW9uIGRlY2xhcmVzIHR3byBvciBtb3JlIGFyZ3VtZW50cy5cclxuICAgICAgICAgKiAgICAtIFRoZSBgc2NvcGVgIGFyZ3VtZW50IHJlZmVycyB0byB0aGUgY3VycmVudCBzY29wZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHtmdW5jdGlvbigpfSBSZXR1cm5zIGEgZGUtcmVnaXN0cmF0aW9uIGZ1bmN0aW9uIGZvciB0aGlzIGxpc3RlbmVyLiBXaGVuIHRoZVxyXG4gICAgICAgICAqICAgIGRlLXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBpcyBleGVjdXRlZCwgdGhlIGludGVybmFsIHdhdGNoIG9wZXJhdGlvbiBpcyB0ZXJtaW5hdGVkLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICR3YXRjaENvbGxlY3Rpb246IGZ1bmN0aW9uICR3YXRjaENvbGxlY3Rpb24ob2JqLCBsaXN0ZW5lcikge1xyXG4gICAgICAgICAgJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yLiRzdGF0ZWZ1bCA9IHRydWU7XHJcblxyXG4gICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgICAgICAgLy8gdGhlIGN1cnJlbnQgdmFsdWUsIHVwZGF0ZWQgb24gZWFjaCBkaXJ0eS1jaGVjayBydW5cclxuICAgICAgICAgIHZhciBuZXdWYWx1ZTtcclxuICAgICAgICAgIC8vIGEgc2hhbGxvdyBjb3B5IG9mIHRoZSBuZXdWYWx1ZSBmcm9tIHRoZSBsYXN0IGRpcnR5LWNoZWNrIHJ1bixcclxuICAgICAgICAgIC8vIHVwZGF0ZWQgdG8gbWF0Y2ggbmV3VmFsdWUgZHVyaW5nIGRpcnR5LWNoZWNrIHJ1blxyXG4gICAgICAgICAgdmFyIG9sZFZhbHVlO1xyXG4gICAgICAgICAgLy8gYSBzaGFsbG93IGNvcHkgb2YgdGhlIG5ld1ZhbHVlIGZyb20gd2hlbiB0aGUgbGFzdCBjaGFuZ2UgaGFwcGVuZWRcclxuICAgICAgICAgIHZhciB2ZXJ5T2xkVmFsdWU7XHJcbiAgICAgICAgICAvLyBvbmx5IHRyYWNrIHZlcnlPbGRWYWx1ZSBpZiB0aGUgbGlzdGVuZXIgaXMgYXNraW5nIGZvciBpdFxyXG4gICAgICAgICAgdmFyIHRyYWNrVmVyeU9sZFZhbHVlID0gbGlzdGVuZXIubGVuZ3RoID4gMTtcclxuICAgICAgICAgIHZhciBjaGFuZ2VEZXRlY3RlZCA9IDA7XHJcbiAgICAgICAgICB2YXIgY2hhbmdlRGV0ZWN0b3IgPSAkcGFyc2Uob2JqLCAkd2F0Y2hDb2xsZWN0aW9uSW50ZXJjZXB0b3IpO1xyXG4gICAgICAgICAgdmFyIGludGVybmFsQXJyYXkgPSBbXTtcclxuICAgICAgICAgIHZhciBpbnRlcm5hbE9iamVjdCA9IHt9O1xyXG4gICAgICAgICAgdmFyIGluaXRSdW4gPSB0cnVlO1xyXG4gICAgICAgICAgdmFyIG9sZExlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gJHdhdGNoQ29sbGVjdGlvbkludGVyY2VwdG9yKF92YWx1ZSkge1xyXG4gICAgICAgICAgICBuZXdWYWx1ZSA9IF92YWx1ZTtcclxuICAgICAgICAgICAgdmFyIG5ld0xlbmd0aCwga2V5LCBib3RoTmFOLCBuZXdJdGVtLCBvbGRJdGVtO1xyXG5cclxuICAgICAgICAgICAgLy8gSWYgdGhlIG5ldyB2YWx1ZSBpcyB1bmRlZmluZWQsIHRoZW4gcmV0dXJuIHVuZGVmaW5lZCBhcyB0aGUgd2F0Y2ggbWF5IGJlIGEgb25lLXRpbWUgd2F0Y2hcclxuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKG5ld1ZhbHVlKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFpc09iamVjdChuZXdWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAvLyBpZiBwcmltaXRpdmVcclxuICAgICAgICAgICAgICBpZiAob2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG9sZFZhbHVlICE9PSBpbnRlcm5hbEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSBhcmUgdHJhbnNpdGlvbmluZyBmcm9tIHNvbWV0aGluZyB3aGljaCB3YXMgbm90IGFuIGFycmF5IGludG8gYXJyYXkuXHJcbiAgICAgICAgICAgICAgICBvbGRWYWx1ZSA9IGludGVybmFsQXJyYXk7XHJcbiAgICAgICAgICAgICAgICBvbGRMZW5ndGggPSBvbGRWYWx1ZS5sZW5ndGggPSAwO1xyXG4gICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgIG5ld0xlbmd0aCA9IG5ld1ZhbHVlLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKG9sZExlbmd0aCAhPT0gbmV3TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiBsZW5ndGhzIGRvIG5vdCBtYXRjaCB3ZSBuZWVkIHRvIHRyaWdnZXIgY2hhbmdlIG5vdGlmaWNhdGlvblxyXG4gICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgICAgIG9sZFZhbHVlLmxlbmd0aCA9IG9sZExlbmd0aCA9IG5ld0xlbmd0aDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgLy8gY29weSB0aGUgaXRlbXMgdG8gb2xkVmFsdWUgYW5kIGxvb2sgZm9yIGNoYW5nZXMuXHJcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuZXdMZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgb2xkSXRlbSA9IG9sZFZhbHVlW2ldO1xyXG4gICAgICAgICAgICAgICAgbmV3SXRlbSA9IG5ld1ZhbHVlW2ldO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcclxuICAgICAgICAgICAgICAgIGJvdGhOYU4gPSBvbGRJdGVtICE9PSBvbGRJdGVtICYmIG5ld0l0ZW0gIT09IG5ld0l0ZW07XHJcbiAgICAgICAgICAgICAgICBpZiAoIWJvdGhOYU4gJiYgb2xkSXRlbSAhPT0gbmV3SXRlbSkge1xyXG4gICAgICAgICAgICAgICAgICBjaGFuZ2VEZXRlY3RlZCsrO1xyXG4gICAgICAgICAgICAgICAgICBvbGRWYWx1ZVtpXSA9IG5ld0l0ZW07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGlmIChvbGRWYWx1ZSAhPT0gaW50ZXJuYWxPYmplY3QpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdlIGFyZSB0cmFuc2l0aW9uaW5nIGZyb20gc29tZXRoaW5nIHdoaWNoIHdhcyBub3QgYW4gb2JqZWN0IGludG8gb2JqZWN0LlxyXG4gICAgICAgICAgICAgICAgb2xkVmFsdWUgPSBpbnRlcm5hbE9iamVjdCA9IHt9O1xyXG4gICAgICAgICAgICAgICAgb2xkTGVuZ3RoID0gMDtcclxuICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIC8vIGNvcHkgdGhlIGl0ZW1zIHRvIG9sZFZhbHVlIGFuZCBsb29rIGZvciBjaGFuZ2VzLlxyXG4gICAgICAgICAgICAgIG5ld0xlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgZm9yIChrZXkgaW4gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKG5ld1ZhbHVlLCBrZXkpKSB7XHJcbiAgICAgICAgICAgICAgICAgIG5ld0xlbmd0aCsrO1xyXG4gICAgICAgICAgICAgICAgICBuZXdJdGVtID0gbmV3VmFsdWVba2V5XTtcclxuICAgICAgICAgICAgICAgICAgb2xkSXRlbSA9IG9sZFZhbHVlW2tleV07XHJcblxyXG4gICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxyXG4gICAgICAgICAgICAgICAgICAgIGJvdGhOYU4gPSBvbGRJdGVtICE9PSBvbGRJdGVtICYmIG5ld0l0ZW0gIT09IG5ld0l0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFib3RoTmFOICYmIG9sZEl0ZW0gIT09IG5ld0l0ZW0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZURldGVjdGVkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICBvbGRWYWx1ZVtrZXldID0gbmV3SXRlbTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkTGVuZ3RoKys7XHJcbiAgICAgICAgICAgICAgICAgICAgb2xkVmFsdWVba2V5XSA9IG5ld0l0ZW07XHJcbiAgICAgICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBpZiAob2xkTGVuZ3RoID4gbmV3TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3ZSB1c2VkIHRvIGhhdmUgbW9yZSBrZXlzLCBuZWVkIHRvIGZpbmQgdGhlbSBhbmQgZGVzdHJveSB0aGVtLlxyXG4gICAgICAgICAgICAgICAgY2hhbmdlRGV0ZWN0ZWQrKztcclxuICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIG9sZFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChuZXdWYWx1ZSwga2V5KSkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9sZExlbmd0aC0tO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvbGRWYWx1ZVtrZXldO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjaGFuZ2VEZXRlY3RlZDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiAkd2F0Y2hDb2xsZWN0aW9uQWN0aW9uKCkge1xyXG4gICAgICAgICAgICBpZiAoaW5pdFJ1bikge1xyXG4gICAgICAgICAgICAgIGluaXRSdW4gPSBmYWxzZTtcclxuICAgICAgICAgICAgICBsaXN0ZW5lcihuZXdWYWx1ZSwgbmV3VmFsdWUsIHNlbGYpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGxpc3RlbmVyKG5ld1ZhbHVlLCB2ZXJ5T2xkVmFsdWUsIHNlbGYpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBtYWtlIGEgY29weSBmb3IgdGhlIG5leHQgdGltZSBhIGNvbGxlY3Rpb24gaXMgY2hhbmdlZFxyXG4gICAgICAgICAgICBpZiAodHJhY2tWZXJ5T2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KG5ld1ZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgLy9wcmltaXRpdmVcclxuICAgICAgICAgICAgICAgIHZlcnlPbGRWYWx1ZSA9IG5ld1ZhbHVlO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNBcnJheUxpa2UobmV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWUgPSBuZXcgQXJyYXkobmV3VmFsdWUubGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbmV3VmFsdWUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlW2ldID0gbmV3VmFsdWVbaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIG9iamVjdFxyXG4gICAgICAgICAgICAgICAgdmVyeU9sZFZhbHVlID0ge307XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gbmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwobmV3VmFsdWUsIGtleSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB2ZXJ5T2xkVmFsdWVba2V5XSA9IG5ld1ZhbHVlW2tleV07XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gdGhpcy4kd2F0Y2goY2hhbmdlRGV0ZWN0b3IsICR3YXRjaENvbGxlY3Rpb25BY3Rpb24pO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3RcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogUHJvY2Vzc2VzIGFsbCBvZiB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfSBvZiB0aGUgY3VycmVudCBzY29wZSBhbmRcclxuICAgICAgICAgKiBpdHMgY2hpbGRyZW4uIEJlY2F1c2UgYSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2hlcn0ncyBsaXN0ZW5lciBjYW4gY2hhbmdlXHJcbiAgICAgICAgICogdGhlIG1vZGVsLCB0aGUgYCRkaWdlc3QoKWAga2VlcHMgY2FsbGluZyB0aGUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJHdhdGNoIHdhdGNoZXJzfVxyXG4gICAgICAgICAqIHVudGlsIG5vIG1vcmUgbGlzdGVuZXJzIGFyZSBmaXJpbmcuIFRoaXMgbWVhbnMgdGhhdCBpdCBpcyBwb3NzaWJsZSB0byBnZXQgaW50byBhbiBpbmZpbml0ZVxyXG4gICAgICAgICAqIGxvb3AuIFRoaXMgZnVuY3Rpb24gd2lsbCB0aHJvdyBgJ01heGltdW0gaXRlcmF0aW9uIGxpbWl0IGV4Y2VlZGVkLidgIGlmIHRoZSBudW1iZXIgb2ZcclxuICAgICAgICAgKiBpdGVyYXRpb25zIGV4Y2VlZHMgMTAuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBVc3VhbGx5LCB5b3UgZG9uJ3QgY2FsbCBgJGRpZ2VzdCgpYCBkaXJlY3RseSBpblxyXG4gICAgICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDb250cm9sbGVyIGNvbnRyb2xsZXJzfSBvciBpblxyXG4gICAgICAgICAqIHtAbGluayBuZy4kY29tcGlsZVByb3ZpZGVyI2RpcmVjdGl2ZSBkaXJlY3RpdmVzfS5cclxuICAgICAgICAgKiBJbnN0ZWFkLCB5b3Ugc2hvdWxkIGNhbGwge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGFwcGx5ICRhcHBseSgpfSAodHlwaWNhbGx5IGZyb20gd2l0aGluXHJcbiAgICAgICAgICogYSB7QGxpbmsgbmcuJGNvbXBpbGVQcm92aWRlciNkaXJlY3RpdmUgZGlyZWN0aXZlfSksIHdoaWNoIHdpbGwgZm9yY2UgYSBgJGRpZ2VzdCgpYC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIElmIHlvdSB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW5ldmVyIGAkZGlnZXN0KClgIGlzIGNhbGxlZCxcclxuICAgICAgICAgKiB5b3UgY2FuIHJlZ2lzdGVyIGEgYHdhdGNoRXhwcmVzc2lvbmAgZnVuY3Rpb24gd2l0aFxyXG4gICAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyR3YXRjaCAkd2F0Y2goKX0gd2l0aCBubyBgbGlzdGVuZXJgLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogSW4gdW5pdCB0ZXN0cywgeW91IG1heSBuZWVkIHRvIGNhbGwgYCRkaWdlc3QoKWAgdG8gc2ltdWxhdGUgdGhlIHNjb3BlIGxpZmUgY3ljbGUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAjIEV4YW1wbGVcclxuICAgICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAgICAgdmFyIHNjb3BlID0gLi4uO1xyXG4gICAgICAgICAgICAgc2NvcGUubmFtZSA9ICdtaXNrbyc7XHJcbiAgICAgICAgICAgICBzY29wZS5jb3VudGVyID0gMDtcclxuICAgICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMCk7XHJcbiAgICAgICAgICAgICBzY29wZS4kd2F0Y2goJ25hbWUnLCBmdW5jdGlvbihuZXdWYWx1ZSwgb2xkVmFsdWUpIHtcclxuICAgICAgICAgICAgICAgc2NvcGUuY291bnRlciA9IHNjb3BlLmNvdW50ZXIgKyAxO1xyXG4gICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICBleHBlY3Qoc2NvcGUuY291bnRlcikudG9FcXVhbCgwKTtcclxuICAgICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgICAgLy8gdGhlIGxpc3RlbmVyIGlzIGFsd2F5cyBjYWxsZWQgZHVyaW5nIHRoZSBmaXJzdCAkZGlnZXN0IGxvb3AgYWZ0ZXIgaXQgd2FzIHJlZ2lzdGVyZWRcclxuICAgICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xyXG4gICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgICAvLyBidXQgbm93IGl0IHdpbGwgbm90IGJlIGNhbGxlZCB1bmxlc3MgdGhlIHZhbHVlIGNoYW5nZXNcclxuICAgICAgICAgICAgIGV4cGVjdChzY29wZS5jb3VudGVyKS50b0VxdWFsKDEpO1xyXG4gICAgICAgICAgICAgICBzY29wZS5uYW1lID0gJ2FkYW0nO1xyXG4gICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgICAgZXhwZWN0KHNjb3BlLmNvdW50ZXIpLnRvRXF1YWwoMik7XHJcbiAgICAgICAgICogYGBgXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKi9cclxuICAgICAgICAkZGlnZXN0OiBmdW5jdGlvbiAkZGlnZXN0KCkge1xyXG4gICAgICAgICAgdmFyIHdhdGNoLFxyXG4gICAgICAgICAgICAgIHZhbHVlLFxyXG4gICAgICAgICAgICAgIGxhc3QsXHJcbiAgICAgICAgICAgICAgZm4sXHJcbiAgICAgICAgICAgICAgZ2V0LFxyXG4gICAgICAgICAgICAgIHdhdGNoZXJzLFxyXG4gICAgICAgICAgICAgIGRpcnR5LFxyXG4gICAgICAgICAgICAgIHR0bCA9IFRUTCxcclxuICAgICAgICAgICAgICBuZXh0LFxyXG4gICAgICAgICAgICAgIGN1cnJlbnQsXHJcbiAgICAgICAgICAgICAgdGFyZ2V0ID0gdGhpcyxcclxuICAgICAgICAgICAgICB3YXRjaExvZyA9IFtdLFxyXG4gICAgICAgICAgICAgIGxvZ0lkeCxcclxuICAgICAgICAgICAgICBhc3luY1Rhc2s7XHJcblxyXG4gICAgICAgICAgYmVnaW5QaGFzZSgnJGRpZ2VzdCcpO1xyXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIGNoYW5nZXMgdG8gYnJvd3NlciB1cmwgdGhhdCBoYXBwZW5lZCBpbiBzeW5jIGJlZm9yZSB0aGUgY2FsbCB0byAkZGlnZXN0XHJcbiAgICAgICAgICAkYnJvd3Nlci4kJGNoZWNrVXJsQ2hhbmdlKCk7XHJcblxyXG4gICAgICAgICAgaWYgKHRoaXMgPT09ICRyb290U2NvcGUgJiYgYXBwbHlBc3luY0lkICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIHJvb3Qgc2NvcGUsIGFuZCAkYXBwbHlBc3luYyBoYXMgc2NoZWR1bGVkIGEgZGVmZXJyZWQgJGFwcGx5KCksIHRoZW5cclxuICAgICAgICAgICAgLy8gY2FuY2VsIHRoZSBzY2hlZHVsZWQgJGFwcGx5IGFuZCBmbHVzaCB0aGUgcXVldWUgb2YgZXhwcmVzc2lvbnMgdG8gYmUgZXZhbHVhdGVkLlxyXG4gICAgICAgICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwoYXBwbHlBc3luY0lkKTtcclxuICAgICAgICAgICAgZmx1c2hBcHBseUFzeW5jKCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSBudWxsO1xyXG5cclxuICAgICAgICAgIGRvIHtcclxuICAgICAgICAgICAgLy8gXCJ3aGlsZSBkaXJ0eVwiIGxvb3BcclxuICAgICAgICAgICAgZGlydHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgY3VycmVudCA9IHRhcmdldDtcclxuXHJcbiAgICAgICAgICAgIC8vIEl0J3Mgc2FmZSBmb3IgYXN5bmNRdWV1ZVBvc2l0aW9uIHRvIGJlIGEgbG9jYWwgdmFyaWFibGUgaGVyZSBiZWNhdXNlIHRoaXMgbG9vcCBjYW4ndFxyXG4gICAgICAgICAgICAvLyBiZSByZWVudGVyZWQgcmVjdXJzaXZlbHkuIENhbGxpbmcgJGRpZ2VzdCBmcm9tIGEgZnVuY3Rpb24gcGFzc2VkIHRvICRldmFsQXN5bmMgd291bGRcclxuICAgICAgICAgICAgLy8gbGVhZCB0byBhICckZGlnZXN0IGFscmVhZHkgaW4gcHJvZ3Jlc3MnIGVycm9yLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBhc3luY1F1ZXVlUG9zaXRpb24gPSAwOyBhc3luY1F1ZXVlUG9zaXRpb24gPCBhc3luY1F1ZXVlLmxlbmd0aDsgYXN5bmNRdWV1ZVBvc2l0aW9uKyspIHtcclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgYXN5bmNUYXNrID0gYXN5bmNRdWV1ZVthc3luY1F1ZXVlUG9zaXRpb25dO1xyXG4gICAgICAgICAgICAgICAgZm4gPSBhc3luY1Rhc2suZm47XHJcbiAgICAgICAgICAgICAgICBmbihhc3luY1Rhc2suc2NvcGUsIGFzeW5jVGFzay5sb2NhbHMpO1xyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBsYXN0RGlydHlXYXRjaCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgYXN5bmNRdWV1ZS5sZW5ndGggPSAwO1xyXG5cclxuICAgICAgICAgICAgdHJhdmVyc2VTY29wZXNMb29wOiBkbyB7XHJcbiAgICAgICAgICAgICAgLy8gXCJ0cmF2ZXJzZSB0aGUgc2NvcGVzXCIgbG9vcFxyXG4gICAgICAgICAgICAgIGlmICh3YXRjaGVycyA9IGN1cnJlbnQuJCR3YXRjaGVycykge1xyXG4gICAgICAgICAgICAgICAgLy8gcHJvY2VzcyBvdXIgd2F0Y2hlc1xyXG4gICAgICAgICAgICAgICAgd2F0Y2hlcnMuJCRkaWdlc3RXYXRjaEluZGV4ID0gd2F0Y2hlcnMubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHdhdGNoZXJzLiQkZGlnZXN0V2F0Y2hJbmRleC0tKSB7XHJcbiAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2F0Y2ggPSB3YXRjaGVyc1t3YXRjaGVycy4kJGRpZ2VzdFdhdGNoSW5kZXhdO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIE1vc3QgY29tbW9uIHdhdGNoZXMgYXJlIG9uIHByaW1pdGl2ZXMsIGluIHdoaWNoIGNhc2Ugd2UgY2FuIHNob3J0XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY2lyY3VpdCBpdCB3aXRoID09PSBvcGVyYXRvciwgb25seSB3aGVuID09PSBmYWlscyBkbyB3ZSB1c2UgLmVxdWFsc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh3YXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZ2V0ID0gd2F0Y2guZ2V0O1xyXG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSA9IGdldChjdXJyZW50KSkgIT09IChsYXN0ID0gd2F0Y2gubGFzdCkgJiYgISh3YXRjaC5lcSA/IGVxdWFscyh2YWx1ZSwgbGFzdCkgOiBpc051bWJlck5hTih2YWx1ZSkgJiYgaXNOdW1iZXJOYU4obGFzdCkpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpcnR5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdERpcnR5V2F0Y2ggPSB3YXRjaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2F0Y2gubGFzdCA9IHdhdGNoLmVxID8gY29weSh2YWx1ZSwgbnVsbCkgOiB2YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm4gPSB3YXRjaC5mbjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm4odmFsdWUsIGxhc3QgPT09IGluaXRXYXRjaFZhbCA/IHZhbHVlIDogbGFzdCwgY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0dGwgPCA1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nSWR4ID0gNCAtIHR0bDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdhdGNoTG9nW2xvZ0lkeF0pIHdhdGNoTG9nW2xvZ0lkeF0gPSBbXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3YXRjaExvZ1tsb2dJZHhdLnB1c2goe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXNnOiBpc0Z1bmN0aW9uKHdhdGNoLmV4cCkgPyAnZm46ICcgKyAod2F0Y2guZXhwLm5hbWUgfHwgd2F0Y2guZXhwLnRvU3RyaW5nKCkpIDogd2F0Y2guZXhwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3VmFsOiB2YWx1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9sZFZhbDogbGFzdFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHdhdGNoID09PSBsYXN0RGlydHlXYXRjaCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbW9zdCByZWNlbnRseSBkaXJ0eSB3YXRjaGVyIGlzIG5vdyBjbGVhbiwgc2hvcnQgY2lyY3VpdCBzaW5jZSB0aGUgcmVtYWluaW5nIHdhdGNoZXJzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGhhdmUgYWxyZWFkeSBiZWVuIHRlc3RlZC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlydHkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgdHJhdmVyc2VTY29wZXNMb29wO1xyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWxcclxuICAgICAgICAgICAgICAvLyB5ZXMsIHRoaXMgY29kZSBpcyBhIGJpdCBjcmF6eSwgYnV0IGl0IHdvcmtzIGFuZCB3ZSBoYXZlIHRlc3RzIHRvIHByb3ZlIGl0IVxyXG4gICAgICAgICAgICAgIC8vIHRoaXMgcGllY2Ugc2hvdWxkIGJlIGtlcHQgaW4gc3luYyB3aXRoIHRoZSB0cmF2ZXJzYWwgaW4gJGJyb2FkY2FzdFxyXG4gICAgICAgICAgICAgIGlmICghKG5leHQgPSBjdXJyZW50LiQkd2F0Y2hlcnNDb3VudCAmJiBjdXJyZW50LiQkY2hpbGRIZWFkIHx8IGN1cnJlbnQgIT09IHRhcmdldCAmJiBjdXJyZW50LiQkbmV4dFNpYmxpbmcpKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCAhPT0gdGFyZ2V0ICYmICEobmV4dCA9IGN1cnJlbnQuJCRuZXh0U2libGluZykpIHtcclxuICAgICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gd2hpbGUgKGN1cnJlbnQgPSBuZXh0KTtcclxuXHJcbiAgICAgICAgICAgIC8vIGBicmVhayB0cmF2ZXJzZVNjb3Blc0xvb3A7YCB0YWtlcyB1cyB0byBoZXJlXHJcblxyXG4gICAgICAgICAgICBpZiAoKGRpcnR5IHx8IGFzeW5jUXVldWUubGVuZ3RoKSAmJiAhdHRsLS0pIHtcclxuICAgICAgICAgICAgICBjbGVhclBoYXNlKCk7XHJcbiAgICAgICAgICAgICAgdGhyb3cgJHJvb3RTY29wZU1pbkVycignaW5mZGlnJywgJ3swfSAkZGlnZXN0KCkgaXRlcmF0aW9ucyByZWFjaGVkLiBBYm9ydGluZyFcXG4nICsgJ1dhdGNoZXJzIGZpcmVkIGluIHRoZSBsYXN0IDUgaXRlcmF0aW9uczogezF9JywgVFRMLCB3YXRjaExvZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gd2hpbGUgKGRpcnR5IHx8IGFzeW5jUXVldWUubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICBjbGVhclBoYXNlKCk7XHJcblxyXG4gICAgICAgICAgLy8gcG9zdERpZ2VzdFF1ZXVlUG9zaXRpb24gaXNuJ3QgbG9jYWwgaGVyZSBiZWNhdXNlIHRoaXMgbG9vcCBjYW4gYmUgcmVlbnRlcmVkIHJlY3Vyc2l2ZWx5LlxyXG4gICAgICAgICAgd2hpbGUgKHBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uIDwgcG9zdERpZ2VzdFF1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIHBvc3REaWdlc3RRdWV1ZVtwb3N0RGlnZXN0UXVldWVQb3NpdGlvbisrXSgpO1xyXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHBvc3REaWdlc3RRdWV1ZS5sZW5ndGggPSBwb3N0RGlnZXN0UXVldWVQb3NpdGlvbiA9IDA7XHJcblxyXG4gICAgICAgICAgLy8gQ2hlY2sgZm9yIGNoYW5nZXMgdG8gYnJvd3NlciB1cmwgdGhhdCBoYXBwZW5lZCBkdXJpbmcgdGhlICRkaWdlc3RcclxuICAgICAgICAgIC8vIChmb3Igd2hpY2ggbm8gZXZlbnQgaXMgZmlyZWQ7IGUuZy4gdmlhIGBoaXN0b3J5LnB1c2hTdGF0ZSgpYClcclxuICAgICAgICAgICRicm93c2VyLiQkY2hlY2tVcmxDaGFuZ2UoKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgZXZlbnRcclxuICAgICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95XHJcbiAgICAgICAgICogQGV2ZW50VHlwZSBicm9hZGNhc3Qgb24gc2NvcGUgYmVpbmcgZGVzdHJveWVkXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBCcm9hZGNhc3RlZCB3aGVuIGEgc2NvcGUgYW5kIGl0cyBjaGlsZHJlbiBhcmUgYmVpbmcgZGVzdHJveWVkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogTm90ZSB0aGF0LCBpbiBBbmd1bGFySlMsIHRoZXJlIGlzIGFsc28gYSBgJGRlc3Ryb3lgIGpRdWVyeSBldmVudCwgd2hpY2ggY2FuIGJlIHVzZWQgdG9cclxuICAgICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXHJcbiAgICAgICAgICovXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRkZXN0cm95XHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIFJlbW92ZXMgdGhlIGN1cnJlbnQgc2NvcGUgKGFuZCBhbGwgb2YgaXRzIGNoaWxkcmVuKSBmcm9tIHRoZSBwYXJlbnQgc2NvcGUuIFJlbW92YWwgaW1wbGllc1xyXG4gICAgICAgICAqIHRoYXQgY2FsbHMgdG8ge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0KCl9IHdpbGwgbm8gbG9uZ2VyXHJcbiAgICAgICAgICogcHJvcGFnYXRlIHRvIHRoZSBjdXJyZW50IHNjb3BlIGFuZCBpdHMgY2hpbGRyZW4uIFJlbW92YWwgYWxzbyBpbXBsaWVzIHRoYXQgdGhlIGN1cnJlbnRcclxuICAgICAgICAgKiBzY29wZSBpcyBlbGlnaWJsZSBmb3IgZ2FyYmFnZSBjb2xsZWN0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhlIGAkZGVzdHJveSgpYCBpcyB1c3VhbGx5IHVzZWQgYnkgZGlyZWN0aXZlcyBzdWNoIGFzXHJcbiAgICAgICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0gZm9yIG1hbmFnaW5nIHRoZVxyXG4gICAgICAgICAqIHVucm9sbGluZyBvZiB0aGUgbG9vcC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEp1c3QgYmVmb3JlIGEgc2NvcGUgaXMgZGVzdHJveWVkLCBhIGAkZGVzdHJveWAgZXZlbnQgaXMgYnJvYWRjYXN0ZWQgb24gdGhpcyBzY29wZS5cclxuICAgICAgICAgKiBBcHBsaWNhdGlvbiBjb2RlIGNhbiByZWdpc3RlciBhIGAkZGVzdHJveWAgZXZlbnQgaGFuZGxlciB0aGF0IHdpbGwgZ2l2ZSBpdCBhIGNoYW5jZSB0b1xyXG4gICAgICAgICAqIHBlcmZvcm0gYW55IG5lY2Vzc2FyeSBjbGVhbnVwLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogTm90ZSB0aGF0LCBpbiBBbmd1bGFySlMsIHRoZXJlIGlzIGFsc28gYSBgJGRlc3Ryb3lgIGpRdWVyeSBldmVudCwgd2hpY2ggY2FuIGJlIHVzZWQgdG9cclxuICAgICAgICAgKiBjbGVhbiB1cCBET00gYmluZGluZ3MgYmVmb3JlIGFuIGVsZW1lbnQgaXMgcmVtb3ZlZCBmcm9tIHRoZSBET00uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJGRlc3Ryb3k6IGZ1bmN0aW9uICRkZXN0cm95KCkge1xyXG4gICAgICAgICAgLy8gV2UgY2FuJ3QgZGVzdHJveSBhIHNjb3BlIHRoYXQgaGFzIGJlZW4gYWxyZWFkeSBkZXN0cm95ZWQuXHJcbiAgICAgICAgICBpZiAodGhpcy4kJGRlc3Ryb3llZCkgcmV0dXJuO1xyXG4gICAgICAgICAgdmFyIHBhcmVudCA9IHRoaXMuJHBhcmVudDtcclxuXHJcbiAgICAgICAgICB0aGlzLiRicm9hZGNhc3QoJyRkZXN0cm95Jyk7XHJcbiAgICAgICAgICB0aGlzLiQkZGVzdHJveWVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICBpZiAodGhpcyA9PT0gJHJvb3RTY29wZSkge1xyXG4gICAgICAgICAgICAvL1JlbW92ZSBoYW5kbGVycyBhdHRhY2hlZCB0byB3aW5kb3cgd2hlbiAkcm9vdFNjb3BlIGlzIHJlbW92ZWRcclxuICAgICAgICAgICAgJGJyb3dzZXIuJCRhcHBsaWNhdGlvbkRlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGluY3JlbWVudFdhdGNoZXJzQ291bnQodGhpcywgLXRoaXMuJCR3YXRjaGVyc0NvdW50KTtcclxuICAgICAgICAgIGZvciAodmFyIGV2ZW50TmFtZSBpbiB0aGlzLiQkbGlzdGVuZXJDb3VudCkge1xyXG4gICAgICAgICAgICBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KHRoaXMsIHRoaXMuJCRsaXN0ZW5lckNvdW50W2V2ZW50TmFtZV0sIGV2ZW50TmFtZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8gc2V2ZXIgYWxsIHRoZSByZWZlcmVuY2VzIHRvIHBhcmVudCBzY29wZXMgKGFmdGVyIHRoaXMgY2xlYW51cCwgdGhlIGN1cnJlbnQgc2NvcGUgc2hvdWxkXHJcbiAgICAgICAgICAvLyBub3QgYmUgcmV0YWluZWQgYnkgYW55IG9mIG91ciByZWZlcmVuY2VzIGFuZCBzaG91bGQgYmUgZWxpZ2libGUgZm9yIGdhcmJhZ2UgY29sbGVjdGlvbilcclxuICAgICAgICAgIGlmIChwYXJlbnQgJiYgcGFyZW50LiQkY2hpbGRIZWFkID09PSB0aGlzKSBwYXJlbnQuJCRjaGlsZEhlYWQgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICBpZiAocGFyZW50ICYmIHBhcmVudC4kJGNoaWxkVGFpbCA9PT0gdGhpcykgcGFyZW50LiQkY2hpbGRUYWlsID0gdGhpcy4kJHByZXZTaWJsaW5nO1xyXG4gICAgICAgICAgaWYgKHRoaXMuJCRwcmV2U2libGluZykgdGhpcy4kJHByZXZTaWJsaW5nLiQkbmV4dFNpYmxpbmcgPSB0aGlzLiQkbmV4dFNpYmxpbmc7XHJcbiAgICAgICAgICBpZiAodGhpcy4kJG5leHRTaWJsaW5nKSB0aGlzLiQkbmV4dFNpYmxpbmcuJCRwcmV2U2libGluZyA9IHRoaXMuJCRwcmV2U2libGluZztcclxuXHJcbiAgICAgICAgICAvLyBEaXNhYmxlIGxpc3RlbmVycywgd2F0Y2hlcnMgYW5kIGFwcGx5L2RpZ2VzdCBtZXRob2RzXHJcbiAgICAgICAgICB0aGlzLiRkZXN0cm95ID0gdGhpcy4kZGlnZXN0ID0gdGhpcy4kYXBwbHkgPSB0aGlzLiRldmFsQXN5bmMgPSB0aGlzLiRhcHBseUFzeW5jID0gbm9vcDtcclxuICAgICAgICAgIHRoaXMuJG9uID0gdGhpcy4kd2F0Y2ggPSB0aGlzLiR3YXRjaEdyb3VwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gbm9vcDtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgICB0aGlzLiQkbGlzdGVuZXJzID0ge307XHJcblxyXG4gICAgICAgICAgLy8gRGlzY29ubmVjdCB0aGUgbmV4dCBzaWJsaW5nIHRvIHByZXZlbnQgYGNsZWFuVXBTY29wZWAgZGVzdHJveWluZyB0aG9zZSB0b29cclxuICAgICAgICAgIHRoaXMuJCRuZXh0U2libGluZyA9IG51bGw7XHJcbiAgICAgICAgICBjbGVhblVwU2NvcGUodGhpcyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGV2YWxcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogRXhlY3V0ZXMgdGhlIGBleHByZXNzaW9uYCBvbiB0aGUgY3VycmVudCBzY29wZSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0LiBBbnkgZXhjZXB0aW9ucyBpblxyXG4gICAgICAgICAqIHRoZSBleHByZXNzaW9uIGFyZSBwcm9wYWdhdGVkICh1bmNhdWdodCkuIFRoaXMgaXMgdXNlZnVsIHdoZW4gZXZhbHVhdGluZyBBbmd1bGFyXHJcbiAgICAgICAgICogZXhwcmVzc2lvbnMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAjIEV4YW1wbGVcclxuICAgICAgICAgKiBgYGBqc1xyXG4gICAgICAgICAgICAgdmFyIHNjb3BlID0gbmcuJHJvb3RTY29wZS5TY29wZSgpO1xyXG4gICAgICAgICAgICAgc2NvcGUuYSA9IDE7XHJcbiAgICAgICAgICAgICBzY29wZS5iID0gMjtcclxuICAgICAgICAgICAgICAgZXhwZWN0KHNjb3BlLiRldmFsKCdhK2InKSkudG9FcXVhbCgzKTtcclxuICAgICAgICAgICAgIGV4cGVjdChzY29wZS4kZXZhbChmdW5jdGlvbihzY29wZSl7IHJldHVybiBzY29wZS5hICsgc2NvcGUuYjsgfSkpLnRvRXF1YWwoMyk7XHJcbiAgICAgICAgICogYGBgXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0geyhzdHJpbmd8ZnVuY3Rpb24oKSk9fSBleHByZXNzaW9uIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4gIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxyXG4gICAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggdGhlIGN1cnJlbnQgYHNjb3BlYCBwYXJhbWV0ZXIuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAcGFyYW0geyhvYmplY3QpPX0gbG9jYWxzIExvY2FsIHZhcmlhYmxlcyBvYmplY3QsIHVzZWZ1bCBmb3Igb3ZlcnJpZGluZyB2YWx1ZXMgaW4gc2NvcGUuXHJcbiAgICAgICAgICogQHJldHVybnMgeyp9IFRoZSByZXN1bHQgb2YgZXZhbHVhdGluZyB0aGUgZXhwcmVzc2lvbi5cclxuICAgICAgICAgKi9cclxuICAgICAgICAkZXZhbDogZnVuY3Rpb24gJGV2YWwoZXhwciwgbG9jYWxzKSB7XHJcbiAgICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHIpKHRoaXMsIGxvY2Fscyk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGV2YWxBc3luY1xyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBFeGVjdXRlcyB0aGUgZXhwcmVzc2lvbiBvbiB0aGUgY3VycmVudCBzY29wZSBhdCBhIGxhdGVyIHBvaW50IGluIHRpbWUuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGUgYCRldmFsQXN5bmNgIG1ha2VzIG5vIGd1YXJhbnRlZXMgYXMgdG8gd2hlbiB0aGUgYGV4cHJlc3Npb25gIHdpbGwgYmUgZXhlY3V0ZWQsIG9ubHlcclxuICAgICAgICAgKiB0aGF0OlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAtIGl0IHdpbGwgZXhlY3V0ZSBhZnRlciB0aGUgZnVuY3Rpb24gdGhhdCBzY2hlZHVsZWQgdGhlIGV2YWx1YXRpb24gKHByZWZlcmFibHkgYmVmb3JlIERPTVxyXG4gICAgICAgICAqICAgICByZW5kZXJpbmcpLlxyXG4gICAgICAgICAqICAgLSBhdCBsZWFzdCBvbmUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJGRpZ2VzdCAkZGlnZXN0IGN5Y2xlfSB3aWxsIGJlIHBlcmZvcm1lZCBhZnRlclxyXG4gICAgICAgICAqICAgICBgZXhwcmVzc2lvbmAgZXhlY3V0aW9uLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXHJcbiAgICAgICAgICoge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogX19Ob3RlOl9fIGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkIG91dHNpZGUgb2YgYSBgJGRpZ2VzdGAgY3ljbGUsIGEgbmV3IGAkZGlnZXN0YCBjeWNsZVxyXG4gICAgICAgICAqIHdpbGwgYmUgc2NoZWR1bGVkLiBIb3dldmVyLCBpdCBpcyBlbmNvdXJhZ2VkIHRvIGFsd2F5cyBjYWxsIGNvZGUgdGhhdCBjaGFuZ2VzIHRoZSBtb2RlbFxyXG4gICAgICAgICAqIGZyb20gd2l0aGluIGFuIGAkYXBwbHlgIGNhbGwuIFRoYXQgaW5jbHVkZXMgY29kZSBldmFsdWF0ZWQgdmlhIGAkZXZhbEFzeW5jYC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cHJlc3Npb24gQW4gYW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAgLSBgc3RyaW5nYDogZXhlY3V0ZSB1c2luZyB0aGUgcnVsZXMgYXMgZGVmaW5lZCBpbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufS5cclxuICAgICAgICAgKiAgICAtIGBmdW5jdGlvbihzY29wZSlgOiBleGVjdXRlIHRoZSBmdW5jdGlvbiB3aXRoIHRoZSBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHsob2JqZWN0KT19IGxvY2FscyBMb2NhbCB2YXJpYWJsZXMgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzIGluIHNjb3BlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICRldmFsQXN5bmM6IGZ1bmN0aW9uICRldmFsQXN5bmMoZXhwciwgbG9jYWxzKSB7XHJcbiAgICAgICAgICAvLyBpZiB3ZSBhcmUgb3V0c2lkZSBvZiBhbiAkZGlnZXN0IGxvb3AgYW5kIHRoaXMgaXMgdGhlIGZpcnN0IHRpbWUgd2UgYXJlIHNjaGVkdWxpbmcgYXN5bmNcclxuICAgICAgICAgIC8vIHRhc2sgYWxzbyBzY2hlZHVsZSBhc3luYyBhdXRvLWZsdXNoXHJcbiAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSAmJiAhYXN5bmNRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgIGlmIChhc3luY1F1ZXVlLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBhc3luY1F1ZXVlLnB1c2goeyBzY29wZTogdGhpcywgZm46ICRwYXJzZShleHByKSwgbG9jYWxzOiBsb2NhbHMgfSk7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgJCRwb3N0RGlnZXN0OiBmdW5jdGlvbiAkJHBvc3REaWdlc3QoZm4pIHtcclxuICAgICAgICAgIHBvc3REaWdlc3RRdWV1ZS5wdXNoKGZuKTtcclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlcclxuICAgICAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAgICogYCRhcHBseSgpYCBpcyB1c2VkIHRvIGV4ZWN1dGUgYW4gZXhwcmVzc2lvbiBpbiBhbmd1bGFyIGZyb20gb3V0c2lkZSBvZiB0aGUgYW5ndWxhclxyXG4gICAgICAgICAqIGZyYW1ld29yay4gKEZvciBleGFtcGxlIGZyb20gYnJvd3NlciBET00gZXZlbnRzLCBzZXRUaW1lb3V0LCBYSFIgb3IgdGhpcmQgcGFydHkgbGlicmFyaWVzKS5cclxuICAgICAgICAgKiBCZWNhdXNlIHdlIGFyZSBjYWxsaW5nIGludG8gdGhlIGFuZ3VsYXIgZnJhbWV3b3JrIHdlIG5lZWQgdG8gcGVyZm9ybSBwcm9wZXIgc2NvcGUgbGlmZVxyXG4gICAgICAgICAqIGN5Y2xlIG9mIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciBleGNlcHRpb24gaGFuZGxpbmd9LFxyXG4gICAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgZXhlY3V0aW5nIHdhdGNoZXN9LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogIyMgTGlmZSBjeWNsZVxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogIyBQc2V1ZG8tQ29kZSBvZiBgJGFwcGx5KClgXHJcbiAgICAgICAgICogYGBganNcclxuICAgICAgICAgICAgIGZ1bmN0aW9uICRhcHBseShleHByKSB7XHJcbiAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgcmV0dXJuICRldmFsKGV4cHIpO1xyXG4gICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgJHJvb3QuJGRpZ2VzdCgpO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICogYGBgXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFNjb3BlJ3MgYCRhcHBseSgpYCBtZXRob2QgdHJhbnNpdGlvbnMgdGhyb3VnaCB0aGUgZm9sbG93aW5nIHN0YWdlczpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIDEuIFRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyBleGVjdXRlZCB1c2luZyB0aGVcclxuICAgICAgICAgKiAgICB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZXZhbCAkZXZhbCgpfSBtZXRob2QuXHJcbiAgICAgICAgICogMi4gQW55IGV4Y2VwdGlvbnMgZnJvbSB0aGUgZXhlY3V0aW9uIG9mIHRoZSBleHByZXNzaW9uIGFyZSBmb3J3YXJkZWQgdG8gdGhlXHJcbiAgICAgICAgICogICAge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxyXG4gICAgICAgICAqIDMuIFRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkd2F0Y2ggd2F0Y2h9IGxpc3RlbmVycyBhcmUgZmlyZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXHJcbiAgICAgICAgICogICAgZXhwcmVzc2lvbiB3YXMgZXhlY3V0ZWQgdXNpbmcgdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRkaWdlc3QgJGRpZ2VzdCgpfSBtZXRob2QuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7KHN0cmluZ3xmdW5jdGlvbigpKT19IGV4cCBBbiBhbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiAgICAtIGBzdHJpbmdgOiBleGVjdXRlIHVzaW5nIHRoZSBydWxlcyBhcyBkZWZpbmVkIGluIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259LlxyXG4gICAgICAgICAqICAgIC0gYGZ1bmN0aW9uKHNjb3BlKWA6IGV4ZWN1dGUgdGhlIGZ1bmN0aW9uIHdpdGggY3VycmVudCBgc2NvcGVgIHBhcmFtZXRlci5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0IG9mIGV2YWx1YXRpbmcgdGhlIGV4cHJlc3Npb24uXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJGFwcGx5OiBmdW5jdGlvbiAkYXBwbHkoZXhwcikge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYmVnaW5QaGFzZSgnJGFwcGx5Jyk7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGV2YWwoZXhwcik7XHJcbiAgICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgY2xlYXJQaGFzZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgfSBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcclxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnNhZmUtZmluYWxseVxyXG4gICAgICAgICAgICAgIHRocm93IGU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAgICogQG5hbWUgJHJvb3RTY29wZS5TY29wZSMkYXBwbHlBc3luY1xyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBTY2hlZHVsZSB0aGUgaW52b2NhdGlvbiBvZiAkYXBwbHkgdG8gb2NjdXIgYXQgYSBsYXRlciB0aW1lLiBUaGUgYWN0dWFsIHRpbWUgZGlmZmVyZW5jZVxyXG4gICAgICAgICAqIHZhcmllcyBhY3Jvc3MgYnJvd3NlcnMsIGJ1dCBpcyB0eXBpY2FsbHkgYXJvdW5kIH4xMCBtaWxsaXNlY29uZHMuXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIHRvIHF1ZXVlIHVwIG11bHRpcGxlIGV4cHJlc3Npb25zIHdoaWNoIG5lZWQgdG8gYmUgZXZhbHVhdGVkIGluIHRoZSBzYW1lXHJcbiAgICAgICAgICogZGlnZXN0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHsoc3RyaW5nfGZ1bmN0aW9uKCkpPX0gZXhwIEFuIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqICAgIC0gYHN0cmluZ2A6IGV4ZWN1dGUgdXNpbmcgdGhlIHJ1bGVzIGFzIGRlZmluZWQgaW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0uXHJcbiAgICAgICAgICogICAgLSBgZnVuY3Rpb24oc2NvcGUpYDogZXhlY3V0ZSB0aGUgZnVuY3Rpb24gd2l0aCBjdXJyZW50IGBzY29wZWAgcGFyYW1ldGVyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICRhcHBseUFzeW5jOiBmdW5jdGlvbiAkYXBwbHlBc3luYyhleHByKSB7XHJcbiAgICAgICAgICB2YXIgc2NvcGUgPSB0aGlzO1xyXG4gICAgICAgICAgaWYgKGV4cHIpIHtcclxuICAgICAgICAgICAgYXBwbHlBc3luY1F1ZXVlLnB1c2goJGFwcGx5QXN5bmNFeHByZXNzaW9uKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGV4cHIgPSAkcGFyc2UoZXhwcik7XHJcbiAgICAgICAgICBzY2hlZHVsZUFwcGx5QXN5bmMoKTtcclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiAkYXBwbHlBc3luY0V4cHJlc3Npb24oKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLiRldmFsKGV4cHIpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRvblxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBMaXN0ZW5zIG9uIGV2ZW50cyBvZiBhIGdpdmVuIHR5cGUuIFNlZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkZW1pdCAkZW1pdH0gZm9yXHJcbiAgICAgICAgICogZGlzY3Vzc2lvbiBvZiBldmVudCBsaWZlIGN5Y2xlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhlIGV2ZW50IGxpc3RlbmVyIGZ1bmN0aW9uIGZvcm1hdCBpczogYGZ1bmN0aW9uKGV2ZW50LCBhcmdzLi4uKWAuIFRoZSBgZXZlbnRgIG9iamVjdFxyXG4gICAgICAgICAqIHBhc3NlZCBpbnRvIHRoZSBsaXN0ZW5lciBoYXMgdGhlIGZvbGxvd2luZyBhdHRyaWJ1dGVzOlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogICAtIGB0YXJnZXRTY29wZWAgLSBge1Njb3BlfWA6IHRoZSBzY29wZSBvbiB3aGljaCB0aGUgZXZlbnQgd2FzIGAkZW1pdGAtZWQgb3JcclxuICAgICAgICAgKiAgICAgYCRicm9hZGNhc3RgLWVkLlxyXG4gICAgICAgICAqICAgLSBgY3VycmVudFNjb3BlYCAtIGB7U2NvcGV9YDogdGhlIHNjb3BlIHRoYXQgaXMgY3VycmVudGx5IGhhbmRsaW5nIHRoZSBldmVudC4gT25jZSB0aGVcclxuICAgICAgICAgKiAgICAgZXZlbnQgcHJvcGFnYXRlcyB0aHJvdWdoIHRoZSBzY29wZSBoaWVyYXJjaHksIHRoaXMgcHJvcGVydHkgaXMgc2V0IHRvIG51bGwuXHJcbiAgICAgICAgICogICAtIGBuYW1lYCAtIGB7c3RyaW5nfWA6IG5hbWUgb2YgdGhlIGV2ZW50LlxyXG4gICAgICAgICAqICAgLSBgc3RvcFByb3BhZ2F0aW9uYCAtIGB7ZnVuY3Rpb249fWA6IGNhbGxpbmcgYHN0b3BQcm9wYWdhdGlvbmAgZnVuY3Rpb24gd2lsbCBjYW5jZWxcclxuICAgICAgICAgKiAgICAgZnVydGhlciBldmVudCBwcm9wYWdhdGlvbiAoYXZhaWxhYmxlIG9ubHkgZm9yIGV2ZW50cyB0aGF0IHdlcmUgYCRlbWl0YC1lZCkuXHJcbiAgICAgICAgICogICAtIGBwcmV2ZW50RGVmYXVsdGAgLSBge2Z1bmN0aW9ufWA6IGNhbGxpbmcgYHByZXZlbnREZWZhdWx0YCBzZXRzIGBkZWZhdWx0UHJldmVudGVkYCBmbGFnXHJcbiAgICAgICAgICogICAgIHRvIHRydWUuXHJcbiAgICAgICAgICogICAtIGBkZWZhdWx0UHJldmVudGVkYCAtIGB7Ym9vbGVhbn1gOiB0cnVlIGlmIGBwcmV2ZW50RGVmYXVsdGAgd2FzIGNhbGxlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gbGlzdGVuIG9uLlxyXG4gICAgICAgICAqIEBwYXJhbSB7ZnVuY3Rpb24oZXZlbnQsIC4uLmFyZ3MpfSBsaXN0ZW5lciBGdW5jdGlvbiB0byBjYWxsIHdoZW4gdGhlIGV2ZW50IGlzIGVtaXR0ZWQuXHJcbiAgICAgICAgICogQHJldHVybnMge2Z1bmN0aW9uKCl9IFJldHVybnMgYSBkZXJlZ2lzdHJhdGlvbiBmdW5jdGlvbiBmb3IgdGhpcyBsaXN0ZW5lci5cclxuICAgICAgICAgKi9cclxuICAgICAgICAkb246IGZ1bmN0aW9uICRvbihuYW1lLCBsaXN0ZW5lcikge1xyXG4gICAgICAgICAgdmFyIG5hbWVkTGlzdGVuZXJzID0gdGhpcy4kJGxpc3RlbmVyc1tuYW1lXTtcclxuICAgICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnMpIHtcclxuICAgICAgICAgICAgdGhpcy4kJGxpc3RlbmVyc1tuYW1lXSA9IG5hbWVkTGlzdGVuZXJzID0gW107XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBuYW1lZExpc3RlbmVycy5wdXNoKGxpc3RlbmVyKTtcclxuXHJcbiAgICAgICAgICB2YXIgY3VycmVudCA9IHRoaXM7XHJcbiAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgIGlmICghY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0pIHtcclxuICAgICAgICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSA9IDA7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0rKztcclxuICAgICAgICAgIH0gd2hpbGUgKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpO1xyXG5cclxuICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleE9mTGlzdGVuZXIgPSBuYW1lZExpc3RlbmVycy5pbmRleE9mKGxpc3RlbmVyKTtcclxuICAgICAgICAgICAgaWYgKGluZGV4T2ZMaXN0ZW5lciAhPT0gLTEpIHtcclxuICAgICAgICAgICAgICBuYW1lZExpc3RlbmVyc1tpbmRleE9mTGlzdGVuZXJdID0gbnVsbDtcclxuICAgICAgICAgICAgICBkZWNyZW1lbnRMaXN0ZW5lckNvdW50KHNlbGYsIDEsIG5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICAgKiBAbmFtZSAkcm9vdFNjb3BlLlNjb3BlIyRlbWl0XHJcbiAgICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgICAqIERpc3BhdGNoZXMgYW4gZXZlbnQgYG5hbWVgIHVwd2FyZHMgdGhyb3VnaCB0aGUgc2NvcGUgaGllcmFyY2h5IG5vdGlmeWluZyB0aGVcclxuICAgICAgICAgKiByZWdpc3RlcmVkIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbn0gbGlzdGVuZXJzLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogVGhlIGV2ZW50IGxpZmUgY3ljbGUgc3RhcnRzIGF0IHRoZSBzY29wZSBvbiB3aGljaCBgJGVtaXRgIHdhcyBjYWxsZWQuIEFsbFxyXG4gICAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XHJcbiAgICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCB0cmF2ZXJzZXMgdXB3YXJkcyB0b3dhcmQgdGhlIHJvb3Qgc2NvcGUgYW5kIGNhbGxzIGFsbFxyXG4gICAgICAgICAqIHJlZ2lzdGVyZWQgbGlzdGVuZXJzIGFsb25nIHRoZSB3YXkuIFRoZSBldmVudCB3aWxsIHN0b3AgcHJvcGFnYXRpbmcgaWYgb25lIG9mIHRoZSBsaXN0ZW5lcnNcclxuICAgICAgICAgKiBjYW5jZWxzIGl0LlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQW55IGV4Y2VwdGlvbiBlbWl0dGVkIGZyb20gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IHdpbGwgYmUgcGFzc2VkXHJcbiAgICAgICAgICogb250byB0aGUge0BsaW5rIG5nLiRleGNlcHRpb25IYW5kbGVyICRleGNlcHRpb25IYW5kbGVyfSBzZXJ2aWNlLlxyXG4gICAgICAgICAqXHJcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgRXZlbnQgbmFtZSB0byBlbWl0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBvbmUgb3IgbW9yZSBhcmd1bWVudHMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgb250byB0aGUgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgb2JqZWN0IChzZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufSkuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgJGVtaXQ6IGZ1bmN0aW9uICRlbWl0KG5hbWUsIGFyZ3MpIHtcclxuICAgICAgICAgIHZhciBlbXB0eSA9IFtdLFxyXG4gICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLFxyXG4gICAgICAgICAgICAgIHNjb3BlID0gdGhpcyxcclxuICAgICAgICAgICAgICBfc3RvcFByb3BhZ2F0aW9uID0gZmFsc2UsXHJcbiAgICAgICAgICAgICAgZXZlbnQgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIHRhcmdldFNjb3BlOiBzY29wZSxcclxuICAgICAgICAgICAgc3RvcFByb3BhZ2F0aW9uOiBmdW5jdGlvbiBzdG9wUHJvcGFnYXRpb24oKSB7XHJcbiAgICAgICAgICAgICAgX3N0b3BQcm9wYWdhdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHByZXZlbnREZWZhdWx0OiBmdW5jdGlvbiBwcmV2ZW50RGVmYXVsdCgpIHtcclxuICAgICAgICAgICAgICBldmVudC5kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgZGVmYXVsdFByZXZlbnRlZDogZmFsc2VcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgbGlzdGVuZXJBcmdzID0gY29uY2F0KFtldmVudF0sIGFyZ3VtZW50cywgMSksXHJcbiAgICAgICAgICAgICAgaSxcclxuICAgICAgICAgICAgICBsZW5ndGg7XHJcblxyXG4gICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICBuYW1lZExpc3RlbmVycyA9IHNjb3BlLiQkbGlzdGVuZXJzW25hbWVdIHx8IGVtcHR5O1xyXG4gICAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBzY29wZTtcclxuICAgICAgICAgICAgZm9yIChpID0gMCwgbGVuZ3RoID0gbmFtZWRMaXN0ZW5lcnMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHJcbiAgICAgICAgICAgICAgLy8gaWYgbGlzdGVuZXJzIHdlcmUgZGVyZWdpc3RlcmVkLCBkZWZyYWdtZW50IHRoZSBhcnJheVxyXG4gICAgICAgICAgICAgIGlmICghbmFtZWRMaXN0ZW5lcnNbaV0pIHtcclxuICAgICAgICAgICAgICAgIG5hbWVkTGlzdGVuZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICAgIGxlbmd0aC0tO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAvL2FsbG93IGFsbCBsaXN0ZW5lcnMgYXR0YWNoZWQgdG8gdGhlIGN1cnJlbnQgc2NvcGUgdG8gcnVuXHJcbiAgICAgICAgICAgICAgICBuYW1lZExpc3RlbmVyc1tpXS5hcHBseShudWxsLCBsaXN0ZW5lckFyZ3MpO1xyXG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvL2lmIGFueSBsaXN0ZW5lciBvbiB0aGUgY3VycmVudCBzY29wZSBzdG9wcyBwcm9wYWdhdGlvbiwgcHJldmVudCBidWJibGluZ1xyXG4gICAgICAgICAgICBpZiAoX3N0b3BQcm9wYWdhdGlvbikge1xyXG4gICAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IG51bGw7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vdHJhdmVyc2UgdXB3YXJkc1xyXG4gICAgICAgICAgICBzY29wZSA9IHNjb3BlLiRwYXJlbnQ7XHJcbiAgICAgICAgICB9IHdoaWxlIChzY29wZSk7XHJcblxyXG4gICAgICAgICAgZXZlbnQuY3VycmVudFNjb3BlID0gbnVsbDtcclxuXHJcbiAgICAgICAgICByZXR1cm4gZXZlbnQ7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgICAqIEBuYW1lICRyb290U2NvcGUuU2NvcGUjJGJyb2FkY2FzdFxyXG4gICAgICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgICAgICpcclxuICAgICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICAgKiBEaXNwYXRjaGVzIGFuIGV2ZW50IGBuYW1lYCBkb3dud2FyZHMgdG8gYWxsIGNoaWxkIHNjb3BlcyAoYW5kIHRoZWlyIGNoaWxkcmVuKSBub3RpZnlpbmcgdGhlXHJcbiAgICAgICAgICogcmVnaXN0ZXJlZCB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb259IGxpc3RlbmVycy5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIFRoZSBldmVudCBsaWZlIGN5Y2xlIHN0YXJ0cyBhdCB0aGUgc2NvcGUgb24gd2hpY2ggYCRicm9hZGNhc3RgIHdhcyBjYWxsZWQuIEFsbFxyXG4gICAgICAgICAqIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRvbiBsaXN0ZW5lcnN9IGxpc3RlbmluZyBmb3IgYG5hbWVgIGV2ZW50IG9uIHRoaXMgc2NvcGUgZ2V0XHJcbiAgICAgICAgICogbm90aWZpZWQuIEFmdGVyd2FyZHMsIHRoZSBldmVudCBwcm9wYWdhdGVzIHRvIGFsbCBkaXJlY3QgYW5kIGluZGlyZWN0IHNjb3BlcyBvZiB0aGUgY3VycmVudFxyXG4gICAgICAgICAqIHNjb3BlIGFuZCBjYWxscyBhbGwgcmVnaXN0ZXJlZCBsaXN0ZW5lcnMgYWxvbmcgdGhlIHdheS4gVGhlIGV2ZW50IGNhbm5vdCBiZSBjYW5jZWxlZC5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEFueSBleGNlcHRpb24gZW1pdHRlZCBmcm9tIHRoZSB7QGxpbmsgbmcuJHJvb3RTY29wZS5TY29wZSMkb24gbGlzdGVuZXJzfSB3aWxsIGJlIHBhc3NlZFxyXG4gICAgICAgICAqIG9udG8gdGhlIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cclxuICAgICAgICAgKlxyXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIEV2ZW50IG5hbWUgdG8gYnJvYWRjYXN0LlxyXG4gICAgICAgICAqIEBwYXJhbSB7Li4uKn0gYXJncyBPcHRpb25hbCBvbmUgb3IgbW9yZSBhcmd1bWVudHMgd2hpY2ggd2lsbCBiZSBwYXNzZWQgb250byB0aGUgZXZlbnQgbGlzdGVuZXJzLlxyXG4gICAgICAgICAqIEByZXR1cm4ge09iamVjdH0gRXZlbnQgb2JqZWN0LCBzZWUge0BsaW5rIG5nLiRyb290U2NvcGUuU2NvcGUjJG9ufVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgICRicm9hZGNhc3Q6IGZ1bmN0aW9uICRicm9hZGNhc3QobmFtZSwgYXJncykge1xyXG4gICAgICAgICAgdmFyIHRhcmdldCA9IHRoaXMsXHJcbiAgICAgICAgICAgICAgY3VycmVudCA9IHRhcmdldCxcclxuICAgICAgICAgICAgICBuZXh0ID0gdGFyZ2V0LFxyXG4gICAgICAgICAgICAgIGV2ZW50ID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICB0YXJnZXRTY29wZTogdGFyZ2V0LFxyXG4gICAgICAgICAgICBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24gcHJldmVudERlZmF1bHQoKSB7XHJcbiAgICAgICAgICAgICAgZXZlbnQuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGRlZmF1bHRQcmV2ZW50ZWQ6IGZhbHNlXHJcbiAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgIGlmICghdGFyZ2V0LiQkbGlzdGVuZXJDb3VudFtuYW1lXSkgcmV0dXJuIGV2ZW50O1xyXG5cclxuICAgICAgICAgIHZhciBsaXN0ZW5lckFyZ3MgPSBjb25jYXQoW2V2ZW50XSwgYXJndW1lbnRzLCAxKSxcclxuICAgICAgICAgICAgICBsaXN0ZW5lcnMsXHJcbiAgICAgICAgICAgICAgaSxcclxuICAgICAgICAgICAgICBsZW5ndGg7XHJcblxyXG4gICAgICAgICAgLy9kb3duIHdoaWxlIHlvdSBjYW4sIHRoZW4gdXAgYW5kIG5leHQgc2libGluZyBvciB1cCBhbmQgbmV4dCBzaWJsaW5nIHVudGlsIGJhY2sgYXQgcm9vdFxyXG4gICAgICAgICAgd2hpbGUgKGN1cnJlbnQgPSBuZXh0KSB7XHJcbiAgICAgICAgICAgIGV2ZW50LmN1cnJlbnRTY29wZSA9IGN1cnJlbnQ7XHJcbiAgICAgICAgICAgIGxpc3RlbmVycyA9IGN1cnJlbnQuJCRsaXN0ZW5lcnNbbmFtZV0gfHwgW107XHJcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGxlbmd0aCA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgIC8vIGlmIGxpc3RlbmVycyB3ZXJlIGRlcmVnaXN0ZXJlZCwgZGVmcmFnbWVudCB0aGUgYXJyYXlcclxuICAgICAgICAgICAgICBpZiAoIWxpc3RlbmVyc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGktLTtcclxuICAgICAgICAgICAgICAgIGxlbmd0aC0tO1xyXG4gICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgbGlzdGVuZXJzW2ldLmFwcGx5KG51bGwsIGxpc3RlbmVyQXJncyk7XHJcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBJbnNhbml0eSBXYXJuaW5nOiBzY29wZSBkZXB0aC1maXJzdCB0cmF2ZXJzYWxcclxuICAgICAgICAgICAgLy8geWVzLCB0aGlzIGNvZGUgaXMgYSBiaXQgY3JhenksIGJ1dCBpdCB3b3JrcyBhbmQgd2UgaGF2ZSB0ZXN0cyB0byBwcm92ZSBpdCFcclxuICAgICAgICAgICAgLy8gdGhpcyBwaWVjZSBzaG91bGQgYmUga2VwdCBpbiBzeW5jIHdpdGggdGhlIHRyYXZlcnNhbCBpbiAkZGlnZXN0XHJcbiAgICAgICAgICAgIC8vICh0aG91Z2ggaXQgZGlmZmVycyBkdWUgdG8gaGF2aW5nIHRoZSBleHRyYSBjaGVjayBmb3IgJCRsaXN0ZW5lckNvdW50KVxyXG4gICAgICAgICAgICBpZiAoIShuZXh0ID0gY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gJiYgY3VycmVudC4kJGNoaWxkSGVhZCB8fCBjdXJyZW50ICE9PSB0YXJnZXQgJiYgY3VycmVudC4kJG5leHRTaWJsaW5nKSkge1xyXG4gICAgICAgICAgICAgIHdoaWxlIChjdXJyZW50ICE9PSB0YXJnZXQgJiYgIShuZXh0ID0gY3VycmVudC4kJG5leHRTaWJsaW5nKSkge1xyXG4gICAgICAgICAgICAgICAgY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudDtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBldmVudC5jdXJyZW50U2NvcGUgPSBudWxsO1xyXG4gICAgICAgICAgcmV0dXJuIGV2ZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHZhciAkcm9vdFNjb3BlID0gbmV3IFNjb3BlKCk7XHJcblxyXG4gICAgICAvL1RoZSBpbnRlcm5hbCBxdWV1ZXMuIEV4cG9zZSB0aGVtIG9uIHRoZSAkcm9vdFNjb3BlIGZvciBkZWJ1Z2dpbmcvdGVzdGluZyBwdXJwb3Nlcy5cclxuICAgICAgdmFyIGFzeW5jUXVldWUgPSAkcm9vdFNjb3BlLiQkYXN5bmNRdWV1ZSA9IFtdO1xyXG4gICAgICB2YXIgcG9zdERpZ2VzdFF1ZXVlID0gJHJvb3RTY29wZS4kJHBvc3REaWdlc3RRdWV1ZSA9IFtdO1xyXG4gICAgICB2YXIgYXBwbHlBc3luY1F1ZXVlID0gJHJvb3RTY29wZS4kJGFwcGx5QXN5bmNRdWV1ZSA9IFtdO1xyXG5cclxuICAgICAgdmFyIHBvc3REaWdlc3RRdWV1ZVBvc2l0aW9uID0gMDtcclxuXHJcbiAgICAgIHJldHVybiAkcm9vdFNjb3BlO1xyXG5cclxuICAgICAgZnVuY3Rpb24gYmVnaW5QaGFzZShwaGFzZSkge1xyXG4gICAgICAgIGlmICgkcm9vdFNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgIHRocm93ICRyb290U2NvcGVNaW5FcnIoJ2lucHJvZycsICd7MH0gYWxyZWFkeSBpbiBwcm9ncmVzcycsICRyb290U2NvcGUuJCRwaGFzZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBwaGFzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gY2xlYXJQaGFzZSgpIHtcclxuICAgICAgICAkcm9vdFNjb3BlLiQkcGhhc2UgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBpbmNyZW1lbnRXYXRjaGVyc0NvdW50KGN1cnJlbnQsIGNvdW50KSB7XHJcbiAgICAgICAgZG8ge1xyXG4gICAgICAgICAgY3VycmVudC4kJHdhdGNoZXJzQ291bnQgKz0gY291bnQ7XHJcbiAgICAgICAgfSB3aGlsZSAoY3VycmVudCA9IGN1cnJlbnQuJHBhcmVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGRlY3JlbWVudExpc3RlbmVyQ291bnQoY3VycmVudCwgY291bnQsIG5hbWUpIHtcclxuICAgICAgICBkbyB7XHJcbiAgICAgICAgICBjdXJyZW50LiQkbGlzdGVuZXJDb3VudFtuYW1lXSAtPSBjb3VudDtcclxuXHJcbiAgICAgICAgICBpZiAoY3VycmVudC4kJGxpc3RlbmVyQ291bnRbbmFtZV0gPT09IDApIHtcclxuICAgICAgICAgICAgZGVsZXRlIGN1cnJlbnQuJCRsaXN0ZW5lckNvdW50W25hbWVdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gd2hpbGUgKGN1cnJlbnQgPSBjdXJyZW50LiRwYXJlbnQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogZnVuY3Rpb24gdXNlZCBhcyBhbiBpbml0aWFsIHZhbHVlIGZvciB3YXRjaGVycy5cclxuICAgICAgICogYmVjYXVzZSBpdCdzIHVuaXF1ZSB3ZSBjYW4gZWFzaWx5IHRlbGwgaXQgYXBhcnQgZnJvbSBvdGhlciB2YWx1ZXNcclxuICAgICAgICovXHJcbiAgICAgIGZ1bmN0aW9uIGluaXRXYXRjaFZhbCgpIHt9XHJcblxyXG4gICAgICBmdW5jdGlvbiBmbHVzaEFwcGx5QXN5bmMoKSB7XHJcbiAgICAgICAgd2hpbGUgKGFwcGx5QXN5bmNRdWV1ZS5sZW5ndGgpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGFwcGx5QXN5bmNRdWV1ZS5zaGlmdCgpKCk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhcHBseUFzeW5jSWQgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBzY2hlZHVsZUFwcGx5QXN5bmMoKSB7XHJcbiAgICAgICAgaWYgKGFwcGx5QXN5bmNJZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgYXBwbHlBc3luY0lkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkcm9vdFNjb3BlLiRhcHBseShmbHVzaEFwcGx5QXN5bmMpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgJHJvb3RFbGVtZW50XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgcm9vdCBlbGVtZW50IG9mIEFuZ3VsYXIgYXBwbGljYXRpb24uIFRoaXMgaXMgZWl0aGVyIHRoZSBlbGVtZW50IHdoZXJlIHtAbGlua1xyXG4gICAqIG5nLmRpcmVjdGl2ZTpuZ0FwcCBuZ0FwcH0gd2FzIGRlY2xhcmVkIG9yIHRoZSBlbGVtZW50IHBhc3NlZCBpbnRvXHJcbiAgICoge0BsaW5rIGFuZ3VsYXIuYm9vdHN0cmFwfS4gVGhlIGVsZW1lbnQgcmVwcmVzZW50cyB0aGUgcm9vdCBlbGVtZW50IG9mIGFwcGxpY2F0aW9uLiBJdCBpcyBhbHNvIHRoZVxyXG4gICAqIGxvY2F0aW9uIHdoZXJlIHRoZSBhcHBsaWNhdGlvbidzIHtAbGluayBhdXRvLiRpbmplY3RvciAkaW5qZWN0b3J9IHNlcnZpY2UgZ2V0c1xyXG4gICAqIHB1Ymxpc2hlZCwgYW5kIGNhbiBiZSByZXRyaWV2ZWQgdXNpbmcgYCRyb290RWxlbWVudC5pbmplY3RvcigpYC5cclxuICAgKi9cclxuXHJcbiAgLy8gdGhlIGltcGxlbWVudGF0aW9uIGlzIGluIGFuZ3VsYXIuYm9vdHN0cmFwXHJcblxyXG4gIC8qKlxyXG4gICAqIEB0aGlzXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUHJpdmF0ZSBzZXJ2aWNlIHRvIHNhbml0aXplIHVyaXMgZm9yIGxpbmtzIGFuZCBpbWFnZXMuIFVzZWQgYnkgJGNvbXBpbGUgYW5kICRzYW5pdGl6ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiAkJFNhbml0aXplVXJpUHJvdmlkZXIoKSB7XHJcbiAgICB2YXIgYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSAvXlxccyooaHR0cHM/fGZ0cHxtYWlsdG98dGVsfGZpbGUpOi8sXHJcbiAgICAgICAgaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gL15cXHMqKChodHRwcz98ZnRwfGZpbGV8YmxvYik6fGRhdGE6aW1hZ2VcXC8pLztcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogUmV0cmlldmVzIG9yIG92ZXJyaWRlcyB0aGUgZGVmYXVsdCByZWd1bGFyIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIGZvciB3aGl0ZWxpc3Rpbmcgb2Ygc2FmZVxyXG4gICAgICogdXJscyBkdXJpbmcgYVtocmVmXSBzYW5pdGl6YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cclxuICAgICAqXHJcbiAgICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGFbaHJlZl0gdmlhIGRhdGEtYmluZGluZyBpcyBmaXJzdCBub3JtYWxpemVkIGFuZCB0dXJuZWQgaW50b1xyXG4gICAgICogYW4gYWJzb2x1dGUgdXJsLiBBZnRlcndhcmRzLCB0aGUgdXJsIGlzIG1hdGNoZWQgYWdhaW5zdCB0aGUgYGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0YFxyXG4gICAgICogcmVndWxhciBleHByZXNzaW9uLiBJZiBhIG1hdGNoIGlzIGZvdW5kLCB0aGUgb3JpZ2luYWwgdXJsIGlzIHdyaXR0ZW4gaW50byB0aGUgZG9tLiBPdGhlcndpc2UsXHJcbiAgICAgKiB0aGUgYWJzb2x1dGUgdXJsIGlzIHByZWZpeGVkIHdpdGggYCd1bnNhZmU6J2Agc3RyaW5nIGFuZCBvbmx5IHRoZW4gaXMgaXQgd3JpdHRlbiBpbnRvIHRoZSBET00uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtSZWdFeHA9fSByZWdleHAgTmV3IHJlZ2V4cCB0byB3aGl0ZWxpc3QgdXJscyB3aXRoLlxyXG4gICAgICogQHJldHVybnMge1JlZ0V4cHxuZy4kY29tcGlsZVByb3ZpZGVyfSBDdXJyZW50IFJlZ0V4cCBpZiBjYWxsZWQgd2l0aG91dCB2YWx1ZSBvciBzZWxmIGZvclxyXG4gICAgICogICAgY2hhaW5pbmcgb3RoZXJ3aXNlLlxyXG4gICAgICovXHJcbiAgICB0aGlzLmFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24gKHJlZ2V4cCkge1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcclxuICAgICAgICBhSHJlZlNhbml0aXphdGlvbldoaXRlbGlzdCA9IHJlZ2V4cDtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gYUhyZWZTYW5pdGl6YXRpb25XaGl0ZWxpc3Q7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBSZXRyaWV2ZXMgb3Igb3ZlcnJpZGVzIHRoZSBkZWZhdWx0IHJlZ3VsYXIgZXhwcmVzc2lvbiB0aGF0IGlzIHVzZWQgZm9yIHdoaXRlbGlzdGluZyBvZiBzYWZlXHJcbiAgICAgKiB1cmxzIGR1cmluZyBpbWdbc3JjXSBzYW5pdGl6YXRpb24uXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHNhbml0aXphdGlvbiBpcyBhIHNlY3VyaXR5IG1lYXN1cmUgYWltZWQgYXQgcHJldmVudCBYU1MgYXR0YWNrcyB2aWEgaHRtbCBsaW5rcy5cclxuICAgICAqXHJcbiAgICAgKiBBbnkgdXJsIGFib3V0IHRvIGJlIGFzc2lnbmVkIHRvIGltZ1tzcmNdIHZpYSBkYXRhLWJpbmRpbmcgaXMgZmlyc3Qgbm9ybWFsaXplZCBhbmQgdHVybmVkIGludG9cclxuICAgICAqIGFuIGFic29sdXRlIHVybC4gQWZ0ZXJ3YXJkcywgdGhlIHVybCBpcyBtYXRjaGVkIGFnYWluc3QgdGhlIGBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3RgXHJcbiAgICAgKiByZWd1bGFyIGV4cHJlc3Npb24uIElmIGEgbWF0Y2ggaXMgZm91bmQsIHRoZSBvcmlnaW5hbCB1cmwgaXMgd3JpdHRlbiBpbnRvIHRoZSBkb20uIE90aGVyd2lzZSxcclxuICAgICAqIHRoZSBhYnNvbHV0ZSB1cmwgaXMgcHJlZml4ZWQgd2l0aCBgJ3Vuc2FmZTonYCBzdHJpbmcgYW5kIG9ubHkgdGhlbiBpcyBpdCB3cml0dGVuIGludG8gdGhlIERPTS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge1JlZ0V4cD19IHJlZ2V4cCBOZXcgcmVnZXhwIHRvIHdoaXRlbGlzdCB1cmxzIHdpdGguXHJcbiAgICAgKiBAcmV0dXJucyB7UmVnRXhwfG5nLiRjb21waWxlUHJvdmlkZXJ9IEN1cnJlbnQgUmVnRXhwIGlmIGNhbGxlZCB3aXRob3V0IHZhbHVlIG9yIHNlbGYgZm9yXHJcbiAgICAgKiAgICBjaGFpbmluZyBvdGhlcndpc2UuXHJcbiAgICAgKi9cclxuICAgIHRoaXMuaW1nU3JjU2FuaXRpemF0aW9uV2hpdGVsaXN0ID0gZnVuY3Rpb24gKHJlZ2V4cCkge1xyXG4gICAgICBpZiAoaXNEZWZpbmVkKHJlZ2V4cCkpIHtcclxuICAgICAgICBpbWdTcmNTYW5pdGl6YXRpb25XaGl0ZWxpc3QgPSByZWdleHA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdDtcclxuICAgIH07XHJcblxyXG4gICAgdGhpcy4kZ2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2FuaXRpemVVcmkodXJpLCBpc0ltYWdlKSB7XHJcbiAgICAgICAgdmFyIHJlZ2V4ID0gaXNJbWFnZSA/IGltZ1NyY1Nhbml0aXphdGlvbldoaXRlbGlzdCA6IGFIcmVmU2FuaXRpemF0aW9uV2hpdGVsaXN0O1xyXG4gICAgICAgIHZhciBub3JtYWxpemVkVmFsO1xyXG4gICAgICAgIG5vcm1hbGl6ZWRWYWwgPSB1cmxSZXNvbHZlKHVyaSkuaHJlZjtcclxuICAgICAgICBpZiAobm9ybWFsaXplZFZhbCAhPT0gJycgJiYgIW5vcm1hbGl6ZWRWYWwubWF0Y2gocmVnZXgpKSB7XHJcbiAgICAgICAgICByZXR1cm4gJ3Vuc2FmZTonICsgbm9ybWFsaXplZFZhbDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVyaTtcclxuICAgICAgfTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqXHJcbiAgICogICAgIEFueSBjb21taXRzIHRvIHRoaXMgZmlsZSBzaG91bGQgYmUgcmV2aWV3ZWQgd2l0aCBzZWN1cml0eSBpbiBtaW5kLiAgKlxyXG4gICAqICAgQ2hhbmdlcyB0byB0aGlzIGZpbGUgY2FuIHBvdGVudGlhbGx5IGNyZWF0ZSBzZWN1cml0eSB2dWxuZXJhYmlsaXRpZXMuICpcclxuICAgKiAgICAgICAgICBBbiBhcHByb3ZhbCBmcm9tIDIgQ29yZSBtZW1iZXJzIHdpdGggaGlzdG9yeSBvZiBtb2RpZnlpbmcgICAgICAqXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgdGhpcyBmaWxlIGlzIHJlcXVpcmVkLiAgICAgICAgICAgICAgICAgICAgICAgICAgKlxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICpcclxuICAgKiAgRG9lcyB0aGUgY2hhbmdlIHNvbWVob3cgYWxsb3cgZm9yIGFyYml0cmFyeSBqYXZhc2NyaXB0IHRvIGJlIGV4ZWN1dGVkPyAqXHJcbiAgICogICAgT3IgYWxsb3dzIGZvciBzb21lb25lIHRvIGNoYW5nZSB0aGUgcHJvdG90eXBlIG9mIGJ1aWx0LWluIG9iamVjdHM/ICAgKlxyXG4gICAqICAgICBPciBnaXZlcyB1bmRlc2lyZWQgYWNjZXNzIHRvIHZhcmlhYmxlcyBsaWtlcyBkb2N1bWVudCBvciB3aW5kb3c/ICAgICpcclxuICAgKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqICogKiAqL1xyXG5cclxuICAvKiBleHBvcnRlZCAkU2NlUHJvdmlkZXIsICRTY2VEZWxlZ2F0ZVByb3ZpZGVyICovXHJcblxyXG4gIHZhciAkc2NlTWluRXJyID0gbWluRXJyKCckc2NlJyk7XHJcblxyXG4gIHZhciBTQ0VfQ09OVEVYVFMgPSB7XHJcbiAgICAvLyBIVE1MIGlzIHVzZWQgd2hlbiB0aGVyZSdzIEhUTUwgcmVuZGVyZWQgKGUuZy4gbmctYmluZC1odG1sLCBpZnJhbWUgc3JjZG9jIGJpbmRpbmcpLlxyXG4gICAgSFRNTDogJ2h0bWwnLFxyXG5cclxuICAgIC8vIFN0eWxlIHN0YXRlbWVudHMgb3Igc3R5bGVzaGVldHMuIEN1cnJlbnRseSB1bnVzZWQgaW4gQW5ndWxhckpTLlxyXG4gICAgQ1NTOiAnY3NzJyxcclxuXHJcbiAgICAvLyBBbiBVUkwgdXNlZCBpbiBhIGNvbnRleHQgd2hlcmUgaXQgZG9lcyBub3QgcmVmZXIgdG8gYSByZXNvdXJjZSB0aGF0IGxvYWRzIGNvZGUuIEN1cnJlbnRseVxyXG4gICAgLy8gdW51c2VkIGluIEFuZ3VsYXJKUy5cclxuICAgIFVSTDogJ3VybCcsXHJcblxyXG4gICAgLy8gUkVTT1VSQ0VfVVJMIGlzIGEgc3VidHlwZSBvZiBVUkwgdXNlZCB3aGVyZSB0aGUgcmVmZXJyZWQtdG8gcmVzb3VyY2UgY291bGQgYmUgaW50ZXJwcmV0ZWQgYXNcclxuICAgIC8vIGNvZGUuIChlLmcuIG5nLWluY2x1ZGUsIHNjcmlwdCBzcmMgYmluZGluZywgdGVtcGxhdGVVcmwpXHJcbiAgICBSRVNPVVJDRV9VUkw6ICdyZXNvdXJjZVVybCcsXHJcblxyXG4gICAgLy8gU2NyaXB0LiBDdXJyZW50bHkgdW51c2VkIGluIEFuZ3VsYXJKUy5cclxuICAgIEpTOiAnanMnXHJcbiAgfTtcclxuXHJcbiAgLy8gSGVscGVyIGZ1bmN0aW9ucyBmb2xsb3cuXHJcblxyXG4gIHZhciBVTkRFUlNDT1JFX0xPV0VSQ0FTRV9SRUdFWFAgPSAvXyhbYS16XSkvZztcclxuXHJcbiAgZnVuY3Rpb24gc25ha2VUb0NhbWVsKG5hbWUpIHtcclxuICAgIHJldHVybiBuYW1lLnJlcGxhY2UoVU5ERVJTQ09SRV9MT1dFUkNBU0VfUkVHRVhQLCBmbkNhbWVsQ2FzZVJlcGxhY2UpO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcihtYXRjaGVyKSB7XHJcbiAgICBpZiAobWF0Y2hlciA9PT0gJ3NlbGYnKSB7XHJcbiAgICAgIHJldHVybiBtYXRjaGVyO1xyXG4gICAgfSBlbHNlIGlmIChpc1N0cmluZyhtYXRjaGVyKSkge1xyXG4gICAgICAvLyBTdHJpbmdzIG1hdGNoIGV4YWN0bHkgZXhjZXB0IGZvciAyIHdpbGRjYXJkcyAtICcqJyBhbmQgJyoqJy5cclxuICAgICAgLy8gJyonIG1hdGNoZXMgYW55IGNoYXJhY3RlciBleGNlcHQgdGhvc2UgZnJvbSB0aGUgc2V0ICc6Ly4/JicuXHJcbiAgICAgIC8vICcqKicgbWF0Y2hlcyBhbnkgY2hhcmFjdGVyIChsaWtlIC4qIGluIGEgUmVnRXhwKS5cclxuICAgICAgLy8gTW9yZSB0aGFuIDIgKidzIHJhaXNlcyBhbiBlcnJvciBhcyBpdCdzIGlsbCBkZWZpbmVkLlxyXG4gICAgICBpZiAobWF0Y2hlci5pbmRleE9mKCcqKionKSA+IC0xKSB7XHJcbiAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaXdjYXJkJywgJ0lsbGVnYWwgc2VxdWVuY2UgKioqIGluIHN0cmluZyBtYXRjaGVyLiAgU3RyaW5nOiB7MH0nLCBtYXRjaGVyKTtcclxuICAgICAgfVxyXG4gICAgICBtYXRjaGVyID0gZXNjYXBlRm9yUmVnZXhwKG1hdGNoZXIpLnJlcGxhY2UoL1xcXFxcXCpcXFxcXFwqL2csICcuKicpLnJlcGxhY2UoL1xcXFxcXCovZywgJ1teOi8uPyY7XSonKTtcclxuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgbWF0Y2hlciArICckJyk7XHJcbiAgICB9IGVsc2UgaWYgKGlzUmVnRXhwKG1hdGNoZXIpKSB7XHJcbiAgICAgIC8vIFRoZSBvbmx5IG90aGVyIHR5cGUgb2YgbWF0Y2hlciBhbGxvd2VkIGlzIGEgUmVnZXhwLlxyXG4gICAgICAvLyBNYXRjaCBlbnRpcmUgVVJMIC8gZGlzYWxsb3cgcGFydGlhbCBtYXRjaGVzLlxyXG4gICAgICAvLyBGbGFncyBhcmUgcmVzZXQgKGkuZS4gbm8gZ2xvYmFsLCBpZ25vcmVDYXNlIG9yIG11bHRpbGluZSlcclxuICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ14nICsgbWF0Y2hlci5zb3VyY2UgKyAnJCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhyb3cgJHNjZU1pbkVycignaW1hdGNoZXInLCAnTWF0Y2hlcnMgbWF5IG9ubHkgYmUgXCJzZWxmXCIsIHN0cmluZyBwYXR0ZXJucyBvciBSZWdFeHAgb2JqZWN0cycpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYWRqdXN0TWF0Y2hlcnMobWF0Y2hlcnMpIHtcclxuICAgIHZhciBhZGp1c3RlZE1hdGNoZXJzID0gW107XHJcbiAgICBpZiAoaXNEZWZpbmVkKG1hdGNoZXJzKSkge1xyXG4gICAgICBmb3JFYWNoKG1hdGNoZXJzLCBmdW5jdGlvbiAobWF0Y2hlcikge1xyXG4gICAgICAgIGFkanVzdGVkTWF0Y2hlcnMucHVzaChhZGp1c3RNYXRjaGVyKG1hdGNoZXIpKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYWRqdXN0ZWRNYXRjaGVycztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBzZXJ2aWNlXHJcbiAgICogQG5hbWUgJHNjZURlbGVnYXRlXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogYCRzY2VEZWxlZ2F0ZWAgaXMgYSBzZXJ2aWNlIHRoYXQgaXMgdXNlZCBieSB0aGUgYCRzY2VgIHNlcnZpY2UgdG8gcHJvdmlkZSB7QGxpbmsgbmcuJHNjZSBTdHJpY3RcclxuICAgKiBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfSBzZXJ2aWNlcyB0byBBbmd1bGFySlMuXHJcbiAgICpcclxuICAgKiBGb3IgYW4gb3ZlcnZpZXcgb2YgdGhpcyBzZXJ2aWNlIGFuZCB0aGUgZnVuY3Rpb25uYWxpdHkgaXQgcHJvdmlkZXMgaW4gQW5ndWxhckpTLCBzZWUgdGhlIG1haW5cclxuICAgKiBwYWdlIGZvciB7QGxpbmsgbmcuJHNjZSBTQ0V9LiBUaGUgY3VycmVudCBwYWdlIGlzIHRhcmdldGVkIGZvciBkZXZlbG9wZXJzIHdobyBuZWVkIHRvIGFsdGVyIGhvd1xyXG4gICAqIFNDRSB3b3JrcyBpbiB0aGVpciBhcHBsaWNhdGlvbiwgd2hpY2ggc2hvdWxkbid0IGJlIG5lZWRlZCBpbiBtb3N0IGNhc2VzLlxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxyXG4gICAqIEFuZ3VsYXJKUyBzdHJvbmdseSByZWxpZXMgb24gY29udGV4dHVhbCBlc2NhcGluZyBmb3IgdGhlIHNlY3VyaXR5IG9mIGJpbmRpbmdzOiBkaXNhYmxpbmcgb3JcclxuICAgKiBtb2RpZnlpbmcgdGhpcyBtaWdodCBjYXVzZSBjcm9zcyBzaXRlIHNjcmlwdGluZyAoWFNTKSB2dWxuZXJhYmlsaXRpZXMuIEZvciBsaWJyYXJpZXMgb3duZXJzLFxyXG4gICAqIGNoYW5nZXMgdG8gdGhpcyBzZXJ2aWNlIHdpbGwgYWxzbyBpbmZsdWVuY2UgdXNlcnMsIHNvIGJlIGV4dHJhIGNhcmVmdWwgYW5kIGRvY3VtZW50IHlvdXIgY2hhbmdlcy5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIFR5cGljYWxseSwgeW91IHdvdWxkIGNvbmZpZ3VyZSBvciBvdmVycmlkZSB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSAkc2NlRGVsZWdhdGV9IGluc3RlYWQgb2ZcclxuICAgKiB0aGUgYCRzY2VgIHNlcnZpY2UgdG8gY3VzdG9taXplIHRoZSB3YXkgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgd29ya3MgaW4gQW5ndWxhckpTLiAgVGhpcyBpc1xyXG4gICAqIGJlY2F1c2UsIHdoaWxlIHRoZSBgJHNjZWAgcHJvdmlkZXMgbnVtZXJvdXMgc2hvcnRoYW5kIG1ldGhvZHMsIGV0Yy4sIHlvdSByZWFsbHkgb25seSBuZWVkIHRvXHJcbiAgICogb3ZlcnJpZGUgMyBjb3JlIGZ1bmN0aW9ucyAoYHRydXN0QXNgLCBgZ2V0VHJ1c3RlZGAgYW5kIGB2YWx1ZU9mYCkgdG8gcmVwbGFjZSB0aGUgd2F5IHRoaW5nc1xyXG4gICAqIHdvcmsgYmVjYXVzZSBgJHNjZWAgZGVsZWdhdGVzIHRvIGAkc2NlRGVsZWdhdGVgIGZvciB0aGVzZSBvcGVyYXRpb25zLlxyXG4gICAqXHJcbiAgICogUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSB0byBjb25maWd1cmUgdGhpcyBzZXJ2aWNlLlxyXG4gICAqXHJcbiAgICogVGhlIGRlZmF1bHQgaW5zdGFuY2Ugb2YgYCRzY2VEZWxlZ2F0ZWAgc2hvdWxkIHdvcmsgb3V0IG9mIHRoZSBib3ggd2l0aCBsaXR0bGUgcGFpbi4gIFdoaWxlIHlvdVxyXG4gICAqIGNhbiBvdmVycmlkZSBpdCBjb21wbGV0ZWx5IHRvIGNoYW5nZSB0aGUgYmVoYXZpb3Igb2YgYCRzY2VgLCB0aGUgY29tbW9uIGNhc2Ugd291bGRcclxuICAgKiBpbnZvbHZlIGNvbmZpZ3VyaW5nIHRoZSB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIgJHNjZURlbGVnYXRlUHJvdmlkZXJ9IGluc3RlYWQgYnkgc2V0dGluZ1xyXG4gICAqIHlvdXIgb3duIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgZm9yIHRydXN0aW5nIFVSTHMgdXNlZCBmb3IgbG9hZGluZyBBbmd1bGFySlMgcmVzb3VyY2VzIHN1Y2ggYXNcclxuICAgKiB0ZW1wbGF0ZXMuICBSZWZlciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3RcclxuICAgKiAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdH0gYW5kIHtAbGlua1xyXG4gICAqIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsQmxhY2tsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0fVxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvdmlkZXJcclxuICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlclxyXG4gICAqIEB0aGlzXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIFRoZSBgJHNjZURlbGVnYXRlUHJvdmlkZXJgIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVxyXG4gICAqICRzY2VEZWxlZ2F0ZSBzZXJ2aWNlfSwgdXNlZCBhcyBhIGRlbGVnYXRlIGZvciB7QGxpbmsgbmcuJHNjZSBTdHJpY3QgQ29udGV4dHVhbCBFc2NhcGluZyAoU0NFKX0uXHJcbiAgICpcclxuICAgKiBUaGUgYCRzY2VEZWxlZ2F0ZVByb3ZpZGVyYCBhbGxvd3Mgb25lIHRvIGdldC9zZXQgdGhlIHdoaXRlbGlzdHMgYW5kIGJsYWNrbGlzdHMgdXNlZCB0byBlbnN1cmVcclxuICAgKiB0aGF0IHRoZSBVUkxzIHVzZWQgZm9yIHNvdXJjaW5nIEFuZ3VsYXJKUyB0ZW1wbGF0ZXMgYW5kIG90aGVyIHNjcmlwdC1ydW5uaW5nIFVSTHMgYXJlIHNhZmUgKGFsbFxyXG4gICAqIHBsYWNlcyB0aGF0IHVzZSB0aGUgYCRzY2UuUkVTT1VSQ0VfVVJMYCBjb250ZXh0KS4gU2VlXHJcbiAgICoge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0ICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsV2hpdGVsaXN0fVxyXG4gICAqIGFuZFxyXG4gICAqIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdCAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybEJsYWNrbGlzdH0sXHJcbiAgICpcclxuICAgKiBGb3IgdGhlIGdlbmVyYWwgZGV0YWlscyBhYm91dCB0aGlzIHNlcnZpY2UgaW4gQW5ndWxhciwgcmVhZCB0aGUgbWFpbiBwYWdlIGZvciB7QGxpbmsgbmcuJHNjZVxyXG4gICAqIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cclxuICAgKlxyXG4gICAqICoqRXhhbXBsZSoqOiAgQ29uc2lkZXIgdGhlIGZvbGxvd2luZyBjYXNlLiA8YSBuYW1lPVwiZXhhbXBsZVwiPjwvYT5cclxuICAgKlxyXG4gICAqIC0geW91ciBhcHAgaXMgaG9zdGVkIGF0IHVybCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2BcclxuICAgKiAtIGJ1dCBzb21lIG9mIHlvdXIgdGVtcGxhdGVzIGFyZSBob3N0ZWQgb24gb3RoZXIgZG9tYWlucyB5b3UgY29udHJvbCBzdWNoIGFzXHJcbiAgICogICBgaHR0cDovL3NydjAxLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBgaHR0cDovL3NydjAyLmFzc2V0cy5leGFtcGxlLmNvbS9gLCBldGMuXHJcbiAgICogLSBhbmQgeW91IGhhdmUgYW4gb3BlbiByZWRpcmVjdCBhdCBgaHR0cDovL215YXBwLmV4YW1wbGUuY29tL2NsaWNrVGhydT8uLi5gLlxyXG4gICAqXHJcbiAgICogSGVyZSBpcyB3aGF0IGEgc2VjdXJlIGNvbmZpZ3VyYXRpb24gZm9yIHRoaXMgc2NlbmFyaW8gbWlnaHQgbG9vayBsaWtlOlxyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICogIGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFtdKS5jb25maWcoZnVuY3Rpb24oJHNjZURlbGVnYXRlUHJvdmlkZXIpIHtcclxuICAgKiAgICAkc2NlRGVsZWdhdGVQcm92aWRlci5yZXNvdXJjZVVybFdoaXRlbGlzdChbXHJcbiAgICogICAgICAvLyBBbGxvdyBzYW1lIG9yaWdpbiByZXNvdXJjZSBsb2Fkcy5cclxuICAgKiAgICAgICdzZWxmJyxcclxuICAgKiAgICAgIC8vIEFsbG93IGxvYWRpbmcgZnJvbSBvdXIgYXNzZXRzIGRvbWFpbi4gIE5vdGljZSB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuICogYW5kICoqLlxyXG4gICAqICAgICAgJ2h0dHA6Ly9zcnYqLmFzc2V0cy5leGFtcGxlLmNvbS8qKidcclxuICAgKiAgICBdKTtcclxuICAgKlxyXG4gICAqICAgIC8vIFRoZSBibGFja2xpc3Qgb3ZlcnJpZGVzIHRoZSB3aGl0ZWxpc3Qgc28gdGhlIG9wZW4gcmVkaXJlY3QgaGVyZSBpcyBibG9ja2VkLlxyXG4gICAqICAgICRzY2VEZWxlZ2F0ZVByb3ZpZGVyLnJlc291cmNlVXJsQmxhY2tsaXN0KFtcclxuICAgKiAgICAgICdodHRwOi8vbXlhcHAuZXhhbXBsZS5jb20vY2xpY2tUaHJ1KionXHJcbiAgICogICAgXSk7XHJcbiAgICogIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqIE5vdGUgdGhhdCBhbiBlbXB0eSB3aGl0ZWxpc3Qgd2lsbCBibG9jayBldmVyeSByZXNvdXJjZSBVUkwgZnJvbSBiZWluZyBsb2FkZWQsIGFuZCB3aWxsIHJlcXVpcmVcclxuICAgKiB5b3UgdG8gbWFudWFsbHkgbWFyayBlYWNoIG9uZSBhcyB0cnVzdGVkIHdpdGggYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsYC4gSG93ZXZlciwgdGVtcGxhdGVzXHJcbiAgICogcmVxdWVzdGVkIGJ5IHtAbGluayBuZy4kdGVtcGxhdGVSZXF1ZXN0ICR0ZW1wbGF0ZVJlcXVlc3R9IHRoYXQgYXJlIHByZXNlbnQgaW5cclxuICAgKiB7QGxpbmsgbmcuJHRlbXBsYXRlQ2FjaGUgJHRlbXBsYXRlQ2FjaGV9IHdpbGwgbm90IGdvIHRocm91Z2ggdGhpcyBjaGVjay4gSWYgeW91IGhhdmUgYSBtZWNoYW5pc21cclxuICAgKiB0byBwb3B1bGF0ZSB5b3VyIHRlbXBsYXRlcyBpbiB0aGF0IGNhY2hlIGF0IGNvbmZpZyB0aW1lLCB0aGVuIGl0IGlzIGEgZ29vZCBpZGVhIHRvIHJlbW92ZSAnc2VsZidcclxuICAgKiBmcm9tIHRoYXQgd2hpdGVsaXN0LiBUaGlzIGhlbHBzIHRvIG1pdGlnYXRlIHRoZSBzZWN1cml0eSBpbXBhY3Qgb2YgY2VydGFpbiB0eXBlcyBvZiBpc3N1ZXMsIGxpa2VcclxuICAgKiBmb3IgaW5zdGFuY2UgYXR0YWNrZXItY29udHJvbGxlZCBgbmctaW5jbHVkZXNgLlxyXG4gICAqL1xyXG5cclxuICBmdW5jdGlvbiAkU2NlRGVsZWdhdGVQcm92aWRlcigpIHtcclxuICAgIHRoaXMuU0NFX0NPTlRFWFRTID0gU0NFX0NPTlRFWFRTO1xyXG5cclxuICAgIC8vIFJlc291cmNlIFVSTHMgY2FuIGFsc28gYmUgdHJ1c3RlZCBieSBwb2xpY3kuXHJcbiAgICB2YXIgcmVzb3VyY2VVcmxXaGl0ZWxpc3QgPSBbJ3NlbGYnXSxcclxuICAgICAgICByZXNvdXJjZVVybEJsYWNrbGlzdCA9IFtdO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxXaGl0ZWxpc3RcclxuICAgICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtBcnJheT19IHdoaXRlbGlzdCBXaGVuIHByb3ZpZGVkLCByZXBsYWNlcyB0aGUgcmVzb3VyY2VVcmxXaGl0ZWxpc3Qgd2l0aCB0aGUgdmFsdWVcclxuICAgICAqICAgICBwcm92aWRlZC4gIFRoaXMgbXVzdCBiZSBhbiBhcnJheSBvciBudWxsLiAgQSBzbmFwc2hvdCBvZiB0aGlzIGFycmF5IGlzIHVzZWQgc28gZnVydGhlclxyXG4gICAgICogICAgIGNoYW5nZXMgdG8gdGhlIGFycmF5IGFyZSBpZ25vcmVkLlxyXG4gICAgICogICAgIEZvbGxvdyB7QGxpbmsgbmcuJHNjZSNyZXNvdXJjZVVybFBhdHRlcm5JdGVtIHRoaXMgbGlua30gZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGl0ZW1zXHJcbiAgICAgKiAgICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgY3VycmVudGx5IHNldCB3aGl0ZWxpc3QgYXJyYXkuXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTZXRzL0dldHMgdGhlIHdoaXRlbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuXHJcbiAgICAgKlxyXG4gICAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIGBbJ3NlbGYnXWAgYWxsb3dpbmcgb25seVxyXG4gICAgICogc2FtZSBvcmlnaW4gcmVzb3VyY2UgcmVxdWVzdHMuXHJcbiAgICAgKlxyXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAqICoqTm90ZToqKiB0aGUgZGVmYXVsdCB3aGl0ZWxpc3Qgb2YgJ3NlbGYnIGlzIG5vdCByZWNvbW1lbmRlZCBpZiB5b3VyIGFwcCBzaGFyZXMgaXRzIG9yaWdpblxyXG4gICAgICogd2l0aCBvdGhlciBhcHBzISBJdCBpcyBhIGdvb2QgaWRlYSB0byBsaW1pdCBpdCB0byBvbmx5IHlvdXIgYXBwbGljYXRpb24ncyBkaXJlY3RvcnkuXHJcbiAgICAgKiA8L2Rpdj5cclxuICAgICAqL1xyXG4gICAgdGhpcy5yZXNvdXJjZVVybFdoaXRlbGlzdCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgIHJlc291cmNlVXJsV2hpdGVsaXN0ID0gYWRqdXN0TWF0Y2hlcnModmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXNvdXJjZVVybFdoaXRlbGlzdDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybEJsYWNrbGlzdFxyXG4gICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge0FycmF5PX0gYmxhY2tsaXN0IFdoZW4gcHJvdmlkZWQsIHJlcGxhY2VzIHRoZSByZXNvdXJjZVVybEJsYWNrbGlzdCB3aXRoIHRoZSB2YWx1ZVxyXG4gICAgICogICAgIHByb3ZpZGVkLiAgVGhpcyBtdXN0IGJlIGFuIGFycmF5IG9yIG51bGwuICBBIHNuYXBzaG90IG9mIHRoaXMgYXJyYXkgaXMgdXNlZCBzbyBmdXJ0aGVyXHJcbiAgICAgKiAgICAgY2hhbmdlcyB0byB0aGUgYXJyYXkgYXJlIGlnbm9yZWQuPC9wPjxwPlxyXG4gICAgICogICAgIEZvbGxvdyB7QGxpbmsgbmcuJHNjZSNyZXNvdXJjZVVybFBhdHRlcm5JdGVtIHRoaXMgbGlua30gZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGl0ZW1zXHJcbiAgICAgKiAgICAgYWxsb3dlZCBpbiB0aGlzIGFycmF5LjwvcD48cD5cclxuICAgICAqICAgICBUaGUgdHlwaWNhbCB1c2FnZSBmb3IgdGhlIGJsYWNrbGlzdCBpcyB0byAqKmJsb2NrXHJcbiAgICAgKiAgICAgW29wZW4gcmVkaXJlY3RzXShodHRwOi8vY3dlLm1pdHJlLm9yZy9kYXRhL2RlZmluaXRpb25zLzYwMS5odG1sKSoqIHNlcnZlZCBieSB5b3VyIGRvbWFpbiBhc1xyXG4gICAgICogICAgIHRoZXNlIHdvdWxkIG90aGVyd2lzZSBiZSB0cnVzdGVkIGJ1dCBhY3R1YWxseSByZXR1cm4gY29udGVudCBmcm9tIHRoZSByZWRpcmVjdGVkIGRvbWFpbi5cclxuICAgICAqICAgICA8L3A+PHA+XHJcbiAgICAgKiAgICAgRmluYWxseSwgKip0aGUgYmxhY2tsaXN0IG92ZXJyaWRlcyB0aGUgd2hpdGVsaXN0KiogYW5kIGhhcyB0aGUgZmluYWwgc2F5LlxyXG4gICAgICpcclxuICAgICAqIEByZXR1cm4ge0FycmF5fSBUaGUgY3VycmVudGx5IHNldCBibGFja2xpc3QgYXJyYXkuXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTZXRzL0dldHMgdGhlIGJsYWNrbGlzdCBvZiB0cnVzdGVkIHJlc291cmNlIFVSTHMuXHJcbiAgICAgKlxyXG4gICAgICogVGhlICoqZGVmYXVsdCB2YWx1ZSoqIHdoZW4gbm8gd2hpdGVsaXN0IGhhcyBiZWVuIGV4cGxpY2l0bHkgc2V0IGlzIHRoZSBlbXB0eSBhcnJheSAoaS5lLiB0aGVyZVxyXG4gICAgICogaXMgbm8gYmxhY2tsaXN0LilcclxuICAgICAqL1xyXG5cclxuICAgIHRoaXMucmVzb3VyY2VVcmxCbGFja2xpc3QgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGgpIHtcclxuICAgICAgICByZXNvdXJjZVVybEJsYWNrbGlzdCA9IGFkanVzdE1hdGNoZXJzKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzb3VyY2VVcmxCbGFja2xpc3Q7XHJcbiAgICB9O1xyXG5cclxuICAgIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24gKCRpbmplY3Rvcikge1xyXG5cclxuICAgICAgdmFyIGh0bWxTYW5pdGl6ZXIgPSBmdW5jdGlvbiBodG1sU2FuaXRpemVyKGh0bWwpIHtcclxuICAgICAgICB0aHJvdyAkc2NlTWluRXJyKCd1bnNhZmUnLCAnQXR0ZW1wdGluZyB0byB1c2UgYW4gdW5zYWZlIHZhbHVlIGluIGEgc2FmZSBjb250ZXh0LicpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgaWYgKCRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpKSB7XHJcbiAgICAgICAgaHRtbFNhbml0aXplciA9ICRpbmplY3Rvci5nZXQoJyRzYW5pdGl6ZScpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBtYXRjaFVybChtYXRjaGVyLCBwYXJzZWRVcmwpIHtcclxuICAgICAgICBpZiAobWF0Y2hlciA9PT0gJ3NlbGYnKSB7XHJcbiAgICAgICAgICByZXR1cm4gdXJsSXNTYW1lT3JpZ2luKHBhcnNlZFVybCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIGRlZmluaXRlbHkgYSByZWdleC4gIFNlZSBhZGp1c3RNYXRjaGVycygpXHJcbiAgICAgICAgICByZXR1cm4gISFtYXRjaGVyLmV4ZWMocGFyc2VkVXJsLmhyZWYpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gaXNSZXNvdXJjZVVybEFsbG93ZWRCeVBvbGljeSh1cmwpIHtcclxuICAgICAgICB2YXIgcGFyc2VkVXJsID0gdXJsUmVzb2x2ZSh1cmwudG9TdHJpbmcoKSk7XHJcbiAgICAgICAgdmFyIGksXHJcbiAgICAgICAgICAgIG4sXHJcbiAgICAgICAgICAgIGFsbG93ZWQgPSBmYWxzZTtcclxuICAgICAgICAvLyBFbnN1cmUgdGhhdCBhdCBsZWFzdCBvbmUgaXRlbSBmcm9tIHRoZSB3aGl0ZWxpc3QgYWxsb3dzIHRoaXMgdXJsLlxyXG4gICAgICAgIGZvciAoaSA9IDAsIG4gPSByZXNvdXJjZVVybFdoaXRlbGlzdC5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgIGlmIChtYXRjaFVybChyZXNvdXJjZVVybFdoaXRlbGlzdFtpXSwgcGFyc2VkVXJsKSkge1xyXG4gICAgICAgICAgICBhbGxvd2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhbGxvd2VkKSB7XHJcbiAgICAgICAgICAvLyBFbnN1cmUgdGhhdCBubyBpdGVtIGZyb20gdGhlIGJsYWNrbGlzdCBibG9ja2VkIHRoaXMgdXJsLlxyXG4gICAgICAgICAgZm9yIChpID0gMCwgbiA9IHJlc291cmNlVXJsQmxhY2tsaXN0Lmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBpZiAobWF0Y2hVcmwocmVzb3VyY2VVcmxCbGFja2xpc3RbaV0sIHBhcnNlZFVybCkpIHtcclxuICAgICAgICAgICAgICBhbGxvd2VkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFsbG93ZWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGdlbmVyYXRlSG9sZGVyVHlwZShCYXNlKSB7XHJcbiAgICAgICAgdmFyIGhvbGRlclR5cGUgPSBmdW5jdGlvbiBUcnVzdGVkVmFsdWVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZSkge1xyXG4gICAgICAgICAgdGhpcy4kJHVud3JhcFRydXN0ZWRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydXN0ZWRWYWx1ZTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAoQmFzZSkge1xyXG4gICAgICAgICAgaG9sZGVyVHlwZS5wcm90b3R5cGUgPSBuZXcgQmFzZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBob2xkZXJUeXBlLnByb3RvdHlwZS52YWx1ZU9mID0gZnVuY3Rpb24gc2NlVmFsdWVPZigpIHtcclxuICAgICAgICAgIHJldHVybiB0aGlzLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBob2xkZXJUeXBlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHNjZVRvU3RyaW5nKCkge1xyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuJCR1bndyYXBUcnVzdGVkVmFsdWUoKS50b1N0cmluZygpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIGhvbGRlclR5cGU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB0cnVzdGVkVmFsdWVIb2xkZXJCYXNlID0gZ2VuZXJhdGVIb2xkZXJUeXBlKCksXHJcbiAgICAgICAgICBieVR5cGUgPSB7fTtcclxuXHJcbiAgICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuSFRNTF0gPSBnZW5lcmF0ZUhvbGRlclR5cGUodHJ1c3RlZFZhbHVlSG9sZGVyQmFzZSk7XHJcbiAgICAgIGJ5VHlwZVtTQ0VfQ09OVEVYVFMuQ1NTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcclxuICAgICAgYnlUeXBlW1NDRV9DT05URVhUUy5VUkxdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKHRydXN0ZWRWYWx1ZUhvbGRlckJhc2UpO1xyXG4gICAgICBieVR5cGVbU0NFX0NPTlRFWFRTLkpTXSA9IGdlbmVyYXRlSG9sZGVyVHlwZSh0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKTtcclxuICAgICAgYnlUeXBlW1NDRV9DT05URVhUUy5SRVNPVVJDRV9VUkxdID0gZ2VuZXJhdGVIb2xkZXJUeXBlKGJ5VHlwZVtTQ0VfQ09OVEVYVFMuVVJMXSk7XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjdHJ1c3RBc1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmV0dXJucyBhIHRydXN0ZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBhcmFtZXRlciBmb3IgdGhlIHNwZWNpZmllZCBjb250ZXh0LiBUaGlzIHRydXN0ZWRcclxuICAgICAgICogb2JqZWN0IHdpbGwgbGF0ZXIgb24gYmUgdXNlZCBhcy1pcywgd2l0aG91dCBhbnkgc2VjdXJpdHkgY2hlY2ssIGJ5IGJpbmRpbmdzIG9yIGRpcmVjdGl2ZXNcclxuICAgICAgICogdGhhdCByZXF1aXJlIHRoaXMgc2VjdXJpdHkgY29udGV4dC5cclxuICAgICAgICogRm9yIGluc3RhbmNlLCBtYXJraW5nIGEgc3RyaW5nIGFzIHRydXN0ZWQgZm9yIHRoZSBgJHNjZS5IVE1MYCBjb250ZXh0IHdpbGwgZW50aXJlbHkgYnlwYXNzXHJcbiAgICAgICAqIHRoZSBwb3RlbnRpYWwgYCRzYW5pdGl6ZWAgY2FsbCBpbiBjb3JyZXNwb25kaW5nIGAkc2NlLkhUTUxgIGJpbmRpbmdzIG9yIGRpcmVjdGl2ZXMsIHN1Y2ggYXNcclxuICAgICAgICogYG5nLWJpbmQtaHRtbGAuIE5vdGUgdGhhdCBpbiBtb3N0IGNhc2VzIHlvdSB3b24ndCBuZWVkIHRvIGNhbGwgdGhpcyBmdW5jdGlvbjogaWYgeW91IGhhdmUgdGhlXHJcbiAgICAgICAqIHNhbml0aXplciBsb2FkZWQsIHBhc3NpbmcgdGhlIHZhbHVlIGl0c2VsZiB3aWxsIHJlbmRlciBhbGwgdGhlIEhUTUwgdGhhdCBkb2VzIG5vdCBwb3NlIGFcclxuICAgICAgICogc2VjdXJpdHkgcmlzay5cclxuICAgICAgICpcclxuICAgICAgICogU2VlIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBnZXRUcnVzdGVkfSBmb3IgdGhlIGZ1bmN0aW9uIHRoYXQgd2lsbCBjb25zdW1lIHRob3NlXHJcbiAgICAgICAqIHRydXN0ZWQgdmFsdWVzLCBhbmQge0BsaW5rIG5nLiRzY2UgJHNjZX0gZm9yIGdlbmVyYWwgZG9jdW1lbnRhdGlvbiBhYm91dCBzdHJpY3QgY29udGV4dHVhbFxyXG4gICAgICAgKiBlc2NhcGluZy5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIGNvbnRleHQgaW4gd2hpY2ggdGhpcyB2YWx1ZSBpcyBzYWZlIGZvciB1c2UsIGUuZy4gYCRzY2UuVVJMYCxcclxuICAgICAgICogICAgIGAkc2NlLlJFU09VUkNFX1VSTGAsIGAkc2NlLkhUTUxgLCBgJHNjZS5KU2Agb3IgYCRzY2UuQ1NTYC5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdGhhdCBzaG91bGQgYmUgY29uc2lkZXJlZCB0cnVzdGVkLlxyXG4gICAgICAgKiBAcmV0dXJuIHsqfSBBIHRydXN0ZWQgcmVwcmVzZW50YXRpb24gb2YgdmFsdWUsIHRoYXQgY2FuIGJlIHVzZWQgaW4gdGhlIGdpdmVuIGNvbnRleHQuXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiB0cnVzdEFzKHR5cGUsIHRydXN0ZWRWYWx1ZSkge1xyXG4gICAgICAgIHZhciBDb25zdHJ1Y3RvciA9IGJ5VHlwZS5oYXNPd25Qcm9wZXJ0eSh0eXBlKSA/IGJ5VHlwZVt0eXBlXSA6IG51bGw7XHJcbiAgICAgICAgaWYgKCFDb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaWNvbnRleHQnLCAnQXR0ZW1wdGVkIHRvIHRydXN0IGEgdmFsdWUgaW4gaW52YWxpZCBjb250ZXh0LiBDb250ZXh0OiB7MH07IFZhbHVlOiB7MX0nLCB0eXBlLCB0cnVzdGVkVmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHJ1c3RlZFZhbHVlID09PSBudWxsIHx8IGlzVW5kZWZpbmVkKHRydXN0ZWRWYWx1ZSkgfHwgdHJ1c3RlZFZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgcmV0dXJuIHRydXN0ZWRWYWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWxsIHRoZSBjdXJyZW50IGNvbnRleHRzIGluIFNDRV9DT05URVhUUyBoYXBwZW4gdG8gYmUgc3RyaW5ncy4gIEluIG9yZGVyIHRvIGF2b2lkIHRydXN0aW5nXHJcbiAgICAgICAgLy8gbXV0YWJsZSBvYmplY3RzLCB3ZSBlbnN1cmUgaGVyZSB0aGF0IHRoZSB2YWx1ZSBwYXNzZWQgaW4gaXMgYWN0dWFsbHkgYSBzdHJpbmcuXHJcbiAgICAgICAgaWYgKHR5cGVvZiB0cnVzdGVkVmFsdWUgIT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICB0aHJvdyAkc2NlTWluRXJyKCdpdHlwZScsICdBdHRlbXB0ZWQgdG8gdHJ1c3QgYSBub24tc3RyaW5nIHZhbHVlIGluIGEgY29udGVudCByZXF1aXJpbmcgYSBzdHJpbmc6IENvbnRleHQ6IHswfScsIHR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRydXN0ZWRWYWx1ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRzY2VEZWxlZ2F0ZSN2YWx1ZU9mXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBJZiB0aGUgcGFzc2VkIHBhcmFtZXRlciBoYWQgYmVlbiByZXR1cm5lZCBieSBhIHByaW9yIGNhbGwgdG8ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXHJcbiAgICAgICAqIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCByZXR1cm5zIHRoZSB2YWx1ZSB0aGF0IGhhZCBiZWVuIHBhc3NlZCB0byB7QGxpbmtcclxuICAgICAgICogbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIElmIHRoZSBwYXNzZWQgcGFyYW1ldGVyIGlzIG5vdCBhIHZhbHVlIHRoYXQgaGFkIGJlZW4gcmV0dXJuZWQgYnkge0BsaW5rXHJcbiAgICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9LCBpdCBtdXN0IGJlIHJldHVybmVkIGFzLWlzLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSByZXN1bHQgb2YgYSBwcmlvciB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH1cclxuICAgICAgICogICAgIGNhbGwgb3IgYW55dGhpbmcgZWxzZS5cclxuICAgICAgICogQHJldHVybiB7Kn0gVGhlIGB2YWx1ZWAgdGhhdCB3YXMgb3JpZ2luYWxseSBwcm92aWRlZCB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXNcclxuICAgICAgICogICAgIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGlmIGB2YWx1ZWAgaXMgdGhlIHJlc3VsdCBvZiBzdWNoIGEgY2FsbC4gIE90aGVyd2lzZSwgcmV0dXJuc1xyXG4gICAgICAgKiAgICAgYHZhbHVlYCB1bmNoYW5nZWQuXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiB2YWx1ZU9mKG1heWJlVHJ1c3RlZCkge1xyXG4gICAgICAgIGlmIChtYXliZVRydXN0ZWQgaW5zdGFuY2VvZiB0cnVzdGVkVmFsdWVIb2xkZXJCYXNlKSB7XHJcbiAgICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBtYXliZVRydXN0ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogVGFrZXMgYW55IGlucHV0LCBhbmQgZWl0aGVyIHJldHVybnMgYSB2YWx1ZSB0aGF0J3Mgc2FmZSB0byB1c2UgaW4gdGhlIHNwZWNpZmllZCBjb250ZXh0LCBvclxyXG4gICAgICAgKiB0aHJvd3MgYW4gZXhjZXB0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBJbiBwcmFjdGljZSwgdGhlcmUgYXJlIHNldmVyYWwgY2FzZXMuIFdoZW4gZ2l2ZW4gYSBzdHJpbmcsIHRoaXMgZnVuY3Rpb24gcnVucyBjaGVja3NcclxuICAgICAgICogYW5kIHNhbml0aXphdGlvbiB0byBtYWtlIGl0IHNhZmUgd2l0aG91dCBwcmlvciBhc3N1bXB0aW9ucy4gV2hlbiBnaXZlbiB0aGUgcmVzdWx0IG9mIGEge0BsaW5rXHJcbiAgICAgICAqIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBc2B9IGNhbGwsIGl0IHJldHVybnMgdGhlIG9yaWdpbmFsbHkgc3VwcGxpZWRcclxuICAgICAgICogdmFsdWUgaWYgdGhhdCB2YWx1ZSdzIGNvbnRleHQgaXMgdmFsaWQgZm9yIHRoaXMgY2FsbCdzIGNvbnRleHQuIEZpbmFsbHksIHRoaXMgZnVuY3Rpb24gY2FuXHJcbiAgICAgICAqIGFsc28gdGhyb3cgd2hlbiB0aGVyZSBpcyBubyB3YXkgdG8gdHVybiBgbWF5YmVUcnVzdGVkYCBpbiBhIHNhZmUgdmFsdWUgKGUuZy4sIG5vIHNhbml0aXphdGlvblxyXG4gICAgICAgKiBpcyBhdmFpbGFibGUgb3IgcG9zc2libGUuKVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHRvIGJlIHVzZWQgKHN1Y2ggYXMgYCRzY2UuSFRNTGApLlxyXG4gICAgICAgKiBAcGFyYW0geyp9IG1heWJlVHJ1c3RlZCBUaGUgcmVzdWx0IG9mIGEgcHJpb3Ige0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzXHJcbiAgICAgICAqICAgICBgJHNjZURlbGVnYXRlLnRydXN0QXNgfSBjYWxsLCBvciBhbnl0aGluZyBlbHNlICh3aGljaCB3aWxsIG5vdCBiZSBjb25zaWRlcmVkIHRydXN0ZWQuKVxyXG4gICAgICAgKiBAcmV0dXJuIHsqfSBBIHZlcnNpb24gb2YgdGhlIHZhbHVlIHRoYXQncyBzYWZlIHRvIHVzZSBpbiB0aGUgZ2l2ZW4gY29udGV4dCwgb3IgdGhyb3dzIGFuXHJcbiAgICAgICAqICAgICBleGNlcHRpb24gaWYgdGhpcyBpcyBpbXBvc3NpYmxlLlxyXG4gICAgICAgKi9cclxuICAgICAgZnVuY3Rpb24gZ2V0VHJ1c3RlZCh0eXBlLCBtYXliZVRydXN0ZWQpIHtcclxuICAgICAgICBpZiAobWF5YmVUcnVzdGVkID09PSBudWxsIHx8IGlzVW5kZWZpbmVkKG1heWJlVHJ1c3RlZCkgfHwgbWF5YmVUcnVzdGVkID09PSAnJykge1xyXG4gICAgICAgICAgcmV0dXJuIG1heWJlVHJ1c3RlZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGNvbnN0cnVjdG9yID0gYnlUeXBlLmhhc093blByb3BlcnR5KHR5cGUpID8gYnlUeXBlW3R5cGVdIDogbnVsbDtcclxuICAgICAgICAvLyBJZiBtYXliZVRydXN0ZWQgaXMgYSB0cnVzdGVkIGNsYXNzIGluc3RhbmNlIG9yIHN1YmNsYXNzIGluc3RhbmNlLCB0aGVuIHVud3JhcCBhbmQgcmV0dXJuXHJcbiAgICAgICAgLy8gYXMtaXMuXHJcbiAgICAgICAgaWYgKGNvbnN0cnVjdG9yICYmIG1heWJlVHJ1c3RlZCBpbnN0YW5jZW9mIGNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkLiQkdW53cmFwVHJ1c3RlZFZhbHVlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE90aGVyd2lzZSwgaWYgd2UgZ2V0IGhlcmUsIHRoZW4gd2UgbWF5IGVpdGhlciBtYWtlIGl0IHNhZmUsIG9yIHRocm93IGFuIGV4Y2VwdGlvbi4gVGhpc1xyXG4gICAgICAgIC8vIGRlcGVuZHMgb24gdGhlIGNvbnRleHQ6IHNvbWUgYXJlIHNhbml0aXphdGlibGUgKEhUTUwpLCBzb21lIHVzZSB3aGl0ZWxpc3RzIChSRVNPVVJDRV9VUkwpLFxyXG4gICAgICAgIC8vIHNvbWUgYXJlIGltcG9zc2libGUgdG8gZG8gKEpTKS4gVGhpcyBzdGVwIGlzbid0IGltcGxlbWVudGVkIGZvciBDU1MgYW5kIFVSTCwgYXMgQW5ndWxhckpTXHJcbiAgICAgICAgLy8gaGFzIG5vIGNvcnJlc3BvbmRpbmcgc2lua3MuXHJcbiAgICAgICAgaWYgKHR5cGUgPT09IFNDRV9DT05URVhUUy5SRVNPVVJDRV9VUkwpIHtcclxuICAgICAgICAgIC8vIFJFU09VUkNFX1VSTCB1c2VzIGEgd2hpdGVsaXN0LlxyXG4gICAgICAgICAgaWYgKGlzUmVzb3VyY2VVcmxBbGxvd2VkQnlQb2xpY3kobWF5YmVUcnVzdGVkKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gbWF5YmVUcnVzdGVkO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaW5zZWN1cmwnLCAnQmxvY2tlZCBsb2FkaW5nIHJlc291cmNlIGZyb20gdXJsIG5vdCBhbGxvd2VkIGJ5ICRzY2VEZWxlZ2F0ZSBwb2xpY3kuICBVUkw6IHswfScsIG1heWJlVHJ1c3RlZC50b1N0cmluZygpKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IFNDRV9DT05URVhUUy5IVE1MKSB7XHJcbiAgICAgICAgICAvLyBodG1sU2FuaXRpemVyIHRocm93cyBpdHMgb3duIGVycm9yIHdoZW4gbm8gc2FuaXRpemVyIGlzIGF2YWlsYWJsZS5cclxuICAgICAgICAgIHJldHVybiBodG1sU2FuaXRpemVyKG1heWJlVHJ1c3RlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIERlZmF1bHQgZXJyb3Igd2hlbiB0aGUgJHNjZSBzZXJ2aWNlIGhhcyBubyB3YXkgdG8gbWFrZSB0aGUgaW5wdXQgc2FmZS5cclxuICAgICAgICB0aHJvdyAkc2NlTWluRXJyKCd1bnNhZmUnLCAnQXR0ZW1wdGluZyB0byB1c2UgYW4gdW5zYWZlIHZhbHVlIGluIGEgc2FmZSBjb250ZXh0LicpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4geyB0cnVzdEFzOiB0cnVzdEFzLFxyXG4gICAgICAgIGdldFRydXN0ZWQ6IGdldFRydXN0ZWQsXHJcbiAgICAgICAgdmFsdWVPZjogdmFsdWVPZiB9O1xyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvdmlkZXJcclxuICAgKiBAbmFtZSAkc2NlUHJvdmlkZXJcclxuICAgKiBAdGhpc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBUaGUgJHNjZVByb3ZpZGVyIHByb3ZpZGVyIGFsbG93cyBkZXZlbG9wZXJzIHRvIGNvbmZpZ3VyZSB0aGUge0BsaW5rIG5nLiRzY2UgJHNjZX0gc2VydmljZS5cclxuICAgKiAtICAgZW5hYmxlL2Rpc2FibGUgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgKFNDRSkgaW4gYSBtb2R1bGVcclxuICAgKiAtICAgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgaW1wbGVtZW50YXRpb24gd2l0aCBhIGN1c3RvbSBkZWxlZ2F0ZVxyXG4gICAqXHJcbiAgICogUmVhZCBtb3JlIGFib3V0IHtAbGluayBuZy4kc2NlIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHNlcnZpY2VcclxuICAgKiBAbmFtZSAkc2NlXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogYCRzY2VgIGlzIGEgc2VydmljZSB0aGF0IHByb3ZpZGVzIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIHNlcnZpY2VzIHRvIEFuZ3VsYXJKUy5cclxuICAgKlxyXG4gICAqICMgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmdcclxuICAgKlxyXG4gICAqIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpIGlzIGEgbW9kZSBpbiB3aGljaCBBbmd1bGFySlMgY29uc3RyYWlucyBiaW5kaW5ncyB0byBvbmx5IHJlbmRlclxyXG4gICAqIHRydXN0ZWQgdmFsdWVzLiBJdHMgZ29hbCBpcyB0byBhc3Npc3QgaW4gd3JpdGluZyBjb2RlIGluIGEgd2F5IHRoYXQgKGEpIGlzIHNlY3VyZSBieSBkZWZhdWx0LCBhbmRcclxuICAgKiAoYikgbWFrZXMgYXVkaXRpbmcgZm9yIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcyBzdWNoIGFzIFhTUywgY2xpY2tqYWNraW5nLCBldGMuIGEgbG90IGVhc2llci5cclxuICAgKlxyXG4gICAqICMjIE92ZXJ2aWV3XHJcbiAgICpcclxuICAgKiBUbyBzeXN0ZW1hdGljYWxseSBibG9jayBYU1Mgc2VjdXJpdHkgYnVncywgQW5ndWxhckpTIHRyZWF0cyBhbGwgdmFsdWVzIGFzIHVudHJ1c3RlZCBieSBkZWZhdWx0IGluXHJcbiAgICogSFRNTCBvciBzZW5zaXRpdmUgVVJMIGJpbmRpbmdzLiBXaGVuIGJpbmRpbmcgdW50cnVzdGVkIHZhbHVlcywgQW5ndWxhckpTIHdpbGwgYXV0b21hdGljYWxseVxyXG4gICAqIHJ1biBzZWN1cml0eSBjaGVja3Mgb24gdGhlbSAoc2FuaXRpemF0aW9ucywgd2hpdGVsaXN0cywgZGVwZW5kaW5nIG9uIGNvbnRleHQpLCBvciB0aHJvdyB3aGVuIGl0XHJcbiAgICogY2Fubm90IGd1YXJhbnRlZSB0aGUgc2VjdXJpdHkgb2YgdGhlIHJlc3VsdC4gVGhhdCBiZWhhdmlvciBkZXBlbmRzIHN0cm9uZ2x5IG9uIGNvbnRleHRzOiBIVE1MXHJcbiAgICogY2FuIGJlIHNhbml0aXplZCwgYnV0IHRlbXBsYXRlIFVSTHMgY2Fubm90LCBmb3IgaW5zdGFuY2UuXHJcbiAgICpcclxuICAgKiBUbyBpbGx1c3RyYXRlIHRoaXMsIGNvbnNpZGVyIHRoZSBgbmctYmluZC1odG1sYCBkaXJlY3RpdmUuIEl0IHJlbmRlcnMgaXRzIHZhbHVlIGRpcmVjdGx5IGFzIEhUTUw6XHJcbiAgICogd2UgY2FsbCB0aGF0IHRoZSAqY29udGV4dCouIFdoZW4gZ2l2ZW4gYW4gdW50cnVzdGVkIGlucHV0LCBBbmd1bGFySlMgd2lsbCBhdHRlbXB0IHRvIHNhbml0aXplIGl0XHJcbiAgICogYmVmb3JlIHJlbmRlcmluZyBpZiBhIHNhbml0aXplciBpcyBhdmFpbGFibGUsIGFuZCB0aHJvdyBvdGhlcndpc2UuIFRvIGJ5cGFzcyBzYW5pdGl6YXRpb24gYW5kXHJcbiAgICogcmVuZGVyIHRoZSBpbnB1dCBhcy1pcywgeW91IHdpbGwgbmVlZCB0byBtYXJrIGl0IGFzIHRydXN0ZWQgZm9yIHRoYXQgY29udGV4dCBiZWZvcmUgYXR0ZW1wdGluZ1xyXG4gICAqIHRvIGJpbmQgaXQuXHJcbiAgICpcclxuICAgKiBBcyBvZiB2ZXJzaW9uIDEuMiwgQW5ndWxhckpTIHNoaXBzIHdpdGggU0NFIGVuYWJsZWQgYnkgZGVmYXVsdC5cclxuICAgKlxyXG4gICAqICMjIEluIHByYWN0aWNlXHJcbiAgICpcclxuICAgKiBIZXJlJ3MgYW4gZXhhbXBsZSBvZiBhIGJpbmRpbmcgaW4gYSBwcml2aWxlZ2VkIGNvbnRleHQ6XHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKiA8aW5wdXQgbmctbW9kZWw9XCJ1c2VySHRtbFwiIGFyaWEtbGFiZWw9XCJVc2VyIGlucHV0XCI+XHJcbiAgICogPGRpdiBuZy1iaW5kLWh0bWw9XCJ1c2VySHRtbFwiPjwvZGl2PlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogTm90aWNlIHRoYXQgYG5nLWJpbmQtaHRtbGAgaXMgYm91bmQgdG8gYHVzZXJIdG1sYCBjb250cm9sbGVkIGJ5IHRoZSB1c2VyLiAgV2l0aCBTQ0VcclxuICAgKiBkaXNhYmxlZCwgdGhpcyBhcHBsaWNhdGlvbiBhbGxvd3MgdGhlIHVzZXIgdG8gcmVuZGVyIGFyYml0cmFyeSBIVE1MIGludG8gdGhlIERJViwgd2hpY2ggd291bGRcclxuICAgKiBiZSBhbiBYU1Mgc2VjdXJpdHkgYnVnLiBJbiBhIG1vcmUgcmVhbGlzdGljIGV4YW1wbGUsIG9uZSBtYXkgYmUgcmVuZGVyaW5nIHVzZXIgY29tbWVudHMsIGJsb2dcclxuICAgKiBhcnRpY2xlcywgZXRjLiB2aWEgYmluZGluZ3MuIChIVE1MIGlzIGp1c3Qgb25lIGV4YW1wbGUgb2YgYSBjb250ZXh0IHdoZXJlIHJlbmRlcmluZyB1c2VyXHJcbiAgICogY29udHJvbGxlZCBpbnB1dCBjcmVhdGVzIHNlY3VyaXR5IHZ1bG5lcmFiaWxpdGllcy4pXHJcbiAgICpcclxuICAgKiBGb3IgdGhlIGNhc2Ugb2YgSFRNTCwgeW91IG1pZ2h0IHVzZSBhIGxpYnJhcnksIGVpdGhlciBvbiB0aGUgY2xpZW50IHNpZGUsIG9yIG9uIHRoZSBzZXJ2ZXIgc2lkZSxcclxuICAgKiB0byBzYW5pdGl6ZSB1bnNhZmUgSFRNTCBiZWZvcmUgYmluZGluZyB0byB0aGUgdmFsdWUgYW5kIHJlbmRlcmluZyBpdCBpbiB0aGUgZG9jdW1lbnQuXHJcbiAgICpcclxuICAgKiBIb3cgd291bGQgeW91IGVuc3VyZSB0aGF0IGV2ZXJ5IHBsYWNlIHRoYXQgdXNlZCB0aGVzZSB0eXBlcyBvZiBiaW5kaW5ncyB3YXMgYm91bmQgdG8gYSB2YWx1ZSB0aGF0XHJcbiAgICogd2FzIHNhbml0aXplZCBieSB5b3VyIGxpYnJhcnkgKG9yIHJldHVybmVkIGFzIHNhZmUgZm9yIHJlbmRlcmluZyBieSB5b3VyIHNlcnZlcj8pICBIb3cgY2FuIHlvdVxyXG4gICAqIGVuc3VyZSB0aGF0IHlvdSBkaWRuJ3QgYWNjaWRlbnRhbGx5IGRlbGV0ZSB0aGUgbGluZSB0aGF0IHNhbml0aXplZCB0aGUgdmFsdWUsIG9yIHJlbmFtZWQgc29tZVxyXG4gICAqIHByb3BlcnRpZXMvZmllbGRzIGFuZCBmb3Jnb3QgdG8gdXBkYXRlIHRoZSBiaW5kaW5nIHRvIHRoZSBzYW5pdGl6ZWQgdmFsdWU/XHJcbiAgICpcclxuICAgKiBUbyBiZSBzZWN1cmUgYnkgZGVmYXVsdCwgQW5ndWxhckpTIG1ha2VzIHN1cmUgYmluZGluZ3MgZ28gdGhyb3VnaCB0aGF0IHNhbml0aXphdGlvbiwgb3JcclxuICAgKiBhbnkgc2ltaWxhciB2YWxpZGF0aW9uIHByb2Nlc3MsIHVubGVzcyB0aGVyZSdzIGEgZ29vZCByZWFzb24gdG8gdHJ1c3QgdGhlIGdpdmVuIHZhbHVlIGluIHRoaXNcclxuICAgKiBjb250ZXh0LiAgVGhhdCB0cnVzdCBpcyBmb3JtYWxpemVkIHdpdGggYSBmdW5jdGlvbiBjYWxsLiBUaGlzIG1lYW5zIHRoYXQgYXMgYSBkZXZlbG9wZXIsIHlvdVxyXG4gICAqIGNhbiBhc3N1bWUgYWxsIHVudHJ1c3RlZCBiaW5kaW5ncyBhcmUgc2FmZS4gVGhlbiwgdG8gYXVkaXQgeW91ciBjb2RlIGZvciBiaW5kaW5nIHNlY3VyaXR5IGlzc3VlcyxcclxuICAgKiB5b3UganVzdCBuZWVkIHRvIGVuc3VyZSB0aGUgdmFsdWVzIHlvdSBtYXJrIGFzIHRydXN0ZWQgaW5kZWVkIGFyZSBzYWZlIC0gYmVjYXVzZSB0aGV5IHdlcmVcclxuICAgKiByZWNlaXZlZCBmcm9tIHlvdXIgc2VydmVyLCBzYW5pdGl6ZWQgYnkgeW91ciBsaWJyYXJ5LCBldGMuIFlvdSBjYW4gb3JnYW5pemUgeW91ciBjb2RlYmFzZSB0b1xyXG4gICAqIGhlbHAgd2l0aCB0aGlzIC0gcGVyaGFwcyBhbGxvd2luZyBvbmx5IHRoZSBmaWxlcyBpbiBhIHNwZWNpZmljIGRpcmVjdG9yeSB0byBkbyB0aGlzLlxyXG4gICAqIEVuc3VyaW5nIHRoYXQgdGhlIGludGVybmFsIEFQSSBleHBvc2VkIGJ5IHRoYXQgY29kZSBkb2Vzbid0IG1hcmt1cCBhcmJpdHJhcnkgdmFsdWVzIGFzIHNhZmUgdGhlblxyXG4gICAqIGJlY29tZXMgYSBtb3JlIG1hbmFnZWFibGUgdGFzay5cclxuICAgKlxyXG4gICAqIEluIHRoZSBjYXNlIG9mIEFuZ3VsYXJKUycgU0NFIHNlcnZpY2UsIG9uZSB1c2VzIHtAbGluayBuZy4kc2NlI3RydXN0QXMgJHNjZS50cnVzdEFzfVxyXG4gICAqIChhbmQgc2hvcnRoYW5kIG1ldGhvZHMgc3VjaCBhcyB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzSHRtbCAkc2NlLnRydXN0QXNIdG1sfSwgZXRjLikgdG9cclxuICAgKiBidWlsZCB0aGUgdHJ1c3RlZCB2ZXJzaW9ucyBvZiB5b3VyIHZhbHVlcy5cclxuICAgKlxyXG4gICAqICMjIEhvdyBkb2VzIGl0IHdvcms/XHJcbiAgICpcclxuICAgKiBJbiBwcml2aWxlZ2VkIGNvbnRleHRzLCBkaXJlY3RpdmVzIGFuZCBjb2RlIHdpbGwgYmluZCB0byB0aGUgcmVzdWx0IG9mIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWRcclxuICAgKiAkc2NlLmdldFRydXN0ZWQoY29udGV4dCwgdmFsdWUpfSByYXRoZXIgdGhhbiB0byB0aGUgdmFsdWUgZGlyZWN0bHkuICBUaGluayBvZiB0aGlzIGZ1bmN0aW9uIGFzXHJcbiAgICogYSB3YXkgdG8gZW5mb3JjZSB0aGUgcmVxdWlyZWQgc2VjdXJpdHkgY29udGV4dCBpbiB5b3VyIGRhdGEgc2luay4gRGlyZWN0aXZlcyB1c2Uge0BsaW5rXHJcbiAgICogbmcuJHNjZSNwYXJzZUFzICRzY2UucGFyc2VBc30gcmF0aGVyIHRoYW4gYCRwYXJzZWAgdG8gd2F0Y2ggYXR0cmlidXRlIGJpbmRpbmdzLCB3aGljaCBwZXJmb3Jtc1xyXG4gICAqIHRoZSB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZH0gYmVoaW5kIHRoZSBzY2VuZXMgb24gbm9uLWNvbnN0YW50IGxpdGVyYWxzLiBBbHNvLFxyXG4gICAqIHdoZW4gYmluZGluZyB3aXRob3V0IGRpcmVjdGl2ZXMsIEFuZ3VsYXJKUyB3aWxsIHVuZGVyc3RhbmQgdGhlIGNvbnRleHQgb2YgeW91ciBiaW5kaW5nc1xyXG4gICAqIGF1dG9tYXRpY2FsbHkuXHJcbiAgICpcclxuICAgKiBBcyBhbiBleGFtcGxlLCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQmluZEh0bWwgbmdCaW5kSHRtbH0gdXNlcyB7QGxpbmtcclxuICAgKiBuZy4kc2NlI3BhcnNlQXNIdG1sICRzY2UucGFyc2VBc0h0bWwoYmluZGluZyBleHByZXNzaW9uKX0uICBIZXJlJ3MgdGhlIGFjdHVhbCBjb2RlIChzbGlnaHRseVxyXG4gICAqIHNpbXBsaWZpZWQpOlxyXG4gICAqXHJcbiAgICogYGBgXHJcbiAgICogdmFyIG5nQmluZEh0bWxEaXJlY3RpdmUgPSBbJyRzY2UnLCBmdW5jdGlvbigkc2NlKSB7XHJcbiAgICogICByZXR1cm4gZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgKiAgICAgc2NvcGUuJHdhdGNoKCRzY2UucGFyc2VBc0h0bWwoYXR0ci5uZ0JpbmRIdG1sKSwgZnVuY3Rpb24odmFsdWUpIHtcclxuICAgKiAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xyXG4gICAqICAgICB9KTtcclxuICAgKiAgIH07XHJcbiAgICogfV07XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiAjIyBJbXBhY3Qgb24gbG9hZGluZyB0ZW1wbGF0ZXNcclxuICAgKlxyXG4gICAqIFRoaXMgYXBwbGllcyBib3RoIHRvIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5jbHVkZSBgbmctaW5jbHVkZWB9IGRpcmVjdGl2ZSBhcyB3ZWxsIGFzXHJcbiAgICogYHRlbXBsYXRlVXJsYCdzIHNwZWNpZmllZCBieSB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LlxyXG4gICAqXHJcbiAgICogQnkgZGVmYXVsdCwgQW5ndWxhciBvbmx5IGxvYWRzIHRlbXBsYXRlcyBmcm9tIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlIGFwcGxpY2F0aW9uXHJcbiAgICogZG9jdW1lbnQuICBUaGlzIGlzIGRvbmUgYnkgY2FsbGluZyB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkUmVzb3VyY2VVcmxcclxuICAgKiAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybH0gb24gdGhlIHRlbXBsYXRlIFVSTC4gIFRvIGxvYWQgdGVtcGxhdGVzIGZyb20gb3RoZXIgZG9tYWlucyBhbmQvb3JcclxuICAgKiBwcm90b2NvbHMsIHlvdSBtYXkgZWl0aGVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3RcclxuICAgKiB0aGVtfSBvciB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmwgd3JhcCBpdH0gaW50byBhIHRydXN0ZWQgdmFsdWUuXHJcbiAgICpcclxuICAgKiAqUGxlYXNlIG5vdGUqOlxyXG4gICAqIFRoZSBicm93c2VyJ3NcclxuICAgKiBbU2FtZSBPcmlnaW4gUG9saWN5XShodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Jyb3dzZXJzZWMvd2lraS9QYXJ0MiNTYW1lLW9yaWdpbl9wb2xpY3lfZm9yX1hNTEh0dHBSZXF1ZXN0KVxyXG4gICAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcclxuICAgKiBwb2xpY3kgYXBwbHkgaW4gYWRkaXRpb24gdG8gdGhpcyBhbmQgbWF5IGZ1cnRoZXIgcmVzdHJpY3Qgd2hldGhlciB0aGUgdGVtcGxhdGUgaXMgc3VjY2Vzc2Z1bGx5XHJcbiAgICogbG9hZGVkLiAgVGhpcyBtZWFucyB0aGF0IHdpdGhvdXQgdGhlIHJpZ2h0IENPUlMgcG9saWN5LCBsb2FkaW5nIHRlbXBsYXRlcyBmcm9tIGEgZGlmZmVyZW50IGRvbWFpblxyXG4gICAqIHdvbid0IHdvcmsgb24gYWxsIGJyb3dzZXJzLiAgQWxzbywgbG9hZGluZyB0ZW1wbGF0ZXMgZnJvbSBgZmlsZTovL2AgVVJMIGRvZXMgbm90IHdvcmsgb24gc29tZVxyXG4gICAqIGJyb3dzZXJzLlxyXG4gICAqXHJcbiAgICogIyMgVGhpcyBmZWVscyBsaWtlIHRvbyBtdWNoIG92ZXJoZWFkXHJcbiAgICpcclxuICAgKiBJdCdzIGltcG9ydGFudCB0byByZW1lbWJlciB0aGF0IFNDRSBvbmx5IGFwcGxpZXMgdG8gaW50ZXJwb2xhdGlvbiBleHByZXNzaW9ucy5cclxuICAgKlxyXG4gICAqIElmIHlvdXIgZXhwcmVzc2lvbnMgYXJlIGNvbnN0YW50IGxpdGVyYWxzLCB0aGV5J3JlIGF1dG9tYXRpY2FsbHkgdHJ1c3RlZCBhbmQgeW91IGRvbid0IG5lZWQgdG9cclxuICAgKiBjYWxsIGAkc2NlLnRydXN0QXNgIG9uIHRoZW0gKGUuZy5cclxuICAgKiBgPGRpdiBuZy1iaW5kLWh0bWw9XCInPGI+aW1wbGljaXRseSB0cnVzdGVkPC9iPidcIj48L2Rpdj5gKSBqdXN0IHdvcmtzLiBUaGUgYCRzY2VEZWxlZ2F0ZWAgd2lsbFxyXG4gICAqIGFsc28gdXNlIHRoZSBgJHNhbml0aXplYCBzZXJ2aWNlIGlmIGl0IGlzIGF2YWlsYWJsZSB3aGVuIGJpbmRpbmcgdW50cnVzdGVkIHZhbHVlcyB0b1xyXG4gICAqIGAkc2NlLkhUTUxgIGNvbnRleHQuIEFuZ3VsYXJKUyBwcm92aWRlcyBhbiBpbXBsZW1lbnRhdGlvbiBpbiBgYW5ndWxhci1zYW5pdGl6ZS5qc2AsIGFuZCBpZiB5b3VcclxuICAgKiB3aXNoIHRvIHVzZSBpdCwgeW91IHdpbGwgYWxzbyBuZWVkIHRvIGRlcGVuZCBvbiB0aGUge0BsaW5rIG5nU2FuaXRpemUgYG5nU2FuaXRpemVgfSBtb2R1bGUgaW5cclxuICAgKiB5b3VyIGFwcGxpY2F0aW9uLlxyXG4gICAqXHJcbiAgICogVGhlIGluY2x1ZGVkIHtAbGluayBuZy4kc2NlRGVsZWdhdGUgJHNjZURlbGVnYXRlfSBjb21lcyB3aXRoIHNhbmUgZGVmYXVsdHMgdG8gYWxsb3cgeW91IHRvIGxvYWRcclxuICAgKiB0ZW1wbGF0ZXMgaW4gYG5nLWluY2x1ZGVgIGZyb20geW91ciBhcHBsaWNhdGlvbidzIGRvbWFpbiB3aXRob3V0IGhhdmluZyB0byBldmVuIGtub3cgYWJvdXQgU0NFLlxyXG4gICAqIEl0IGJsb2NrcyBsb2FkaW5nIHRlbXBsYXRlcyBmcm9tIG90aGVyIGRvbWFpbnMgb3IgbG9hZGluZyB0ZW1wbGF0ZXMgb3ZlciBodHRwIGZyb20gYW4gaHR0cHNcclxuICAgKiBzZXJ2ZWQgZG9jdW1lbnQuICBZb3UgY2FuIGNoYW5nZSB0aGVzZSBieSBzZXR0aW5nIHlvdXIgb3duIGN1c3RvbSB7QGxpbmtcclxuICAgKiBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3RzfSBhbmQge0BsaW5rXHJcbiAgICogbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgYmxhY2tsaXN0c30gZm9yIG1hdGNoaW5nIHN1Y2ggVVJMcy5cclxuICAgKlxyXG4gICAqIFRoaXMgc2lnbmlmaWNhbnRseSByZWR1Y2VzIHRoZSBvdmVyaGVhZC4gIEl0IGlzIGZhciBlYXNpZXIgdG8gcGF5IHRoZSBzbWFsbCBvdmVyaGVhZCBhbmQgaGF2ZSBhblxyXG4gICAqIGFwcGxpY2F0aW9uIHRoYXQncyBzZWN1cmUgYW5kIGNhbiBiZSBhdWRpdGVkIHRvIHZlcmlmeSB0aGF0IHdpdGggbXVjaCBtb3JlIGVhc2UgdGhhbiBib2x0aW5nXHJcbiAgICogc2VjdXJpdHkgb250byBhbiBhcHBsaWNhdGlvbiBsYXRlci5cclxuICAgKlxyXG4gICAqIDxhIG5hbWU9XCJjb250ZXh0c1wiPjwvYT5cclxuICAgKiAjIyBXaGF0IHRydXN0ZWQgY29udGV4dCB0eXBlcyBhcmUgc3VwcG9ydGVkP1xyXG4gICAqXHJcbiAgICogfCBDb250ZXh0ICAgICAgICAgICAgIHwgTm90ZXMgICAgICAgICAgfFxyXG4gICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLXxcclxuICAgKiB8IGAkc2NlLkhUTUxgICAgICAgICAgfCBGb3IgSFRNTCB0aGF0J3Mgc2FmZSB0byBzb3VyY2UgaW50byB0aGUgYXBwbGljYXRpb24uICBUaGUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0JpbmRIdG1sIG5nQmluZEh0bWx9IGRpcmVjdGl2ZSB1c2VzIHRoaXMgY29udGV4dCBmb3IgYmluZGluZ3MuIElmIGFuIHVuc2FmZSB2YWx1ZSBpcyBlbmNvdW50ZXJlZCwgYW5kIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZS4kc2FuaXRpemUgJHNhbml0aXplfSBzZXJ2aWNlIGlzIGF2YWlsYWJsZSAoaW1wbGVtZW50ZWQgYnkgdGhlIHtAbGluayBuZ1Nhbml0aXplIG5nU2FuaXRpemV9IG1vZHVsZSkgdGhpcyB3aWxsIHNhbml0aXplIHRoZSB2YWx1ZSBpbnN0ZWFkIG9mIHRocm93aW5nIGFuIGVycm9yLiB8XHJcbiAgICogfCBgJHNjZS5DU1NgICAgICAgICAgIHwgRm9yIENTUyB0aGF0J3Mgc2FmZSB0byBzb3VyY2UgaW50byB0aGUgYXBwbGljYXRpb24uICBDdXJyZW50bHksIG5vIGJpbmRpbmdzIHJlcXVpcmUgdGhpcyBjb250ZXh0LiBGZWVsIGZyZWUgdG8gdXNlIGl0IGluIHlvdXIgb3duIGRpcmVjdGl2ZXMuIHxcclxuICAgKiB8IGAkc2NlLlVSTGAgICAgICAgICAgfCBGb3IgVVJMcyB0aGF0IGFyZSBzYWZlIHRvIGZvbGxvdyBhcyBsaW5rcy4gIEN1cnJlbnRseSB1bnVzZWQgKGA8YSBocmVmPWAsIGA8aW1nIHNyYz1gLCBhbmQgc29tZSBvdGhlcnMgc2FuaXRpemUgdGhlaXIgdXJscyBhbmQgZG9uJ3QgY29uc3RpdHV0ZSBhbiBTQ0UgY29udGV4dC4pIHxcclxuICAgKiB8IGAkc2NlLlJFU09VUkNFX1VSTGAgfCBGb3IgVVJMcyB0aGF0IGFyZSBub3Qgb25seSBzYWZlIHRvIGZvbGxvdyBhcyBsaW5rcywgYnV0IHdob3NlIGNvbnRlbnRzIGFyZSBhbHNvIHNhZmUgdG8gaW5jbHVkZSBpbiB5b3VyIGFwcGxpY2F0aW9uLiAgRXhhbXBsZXMgaW5jbHVkZSBgbmctaW5jbHVkZWAsIGBzcmNgIC8gYG5nU3JjYCBiaW5kaW5ncyBmb3IgdGFncyBvdGhlciB0aGFuIGBJTUdgLCBgVklERU9gLCBgQVVESU9gLCBgU09VUkNFYCwgYW5kIGBUUkFDS2AgKGUuZy4gYElGUkFNRWAsIGBPQkpFQ1RgLCBldGMuKSAgPGJyPjxicj5Ob3RlIHRoYXQgYCRzY2UuUkVTT1VSQ0VfVVJMYCBtYWtlcyBhIHN0cm9uZ2VyIHN0YXRlbWVudCBhYm91dCB0aGUgVVJMIHRoYW4gYCRzY2UuVVJMYCBkb2VzIChpdCdzIG5vdCBqdXN0IHRoZSBVUkwgdGhhdCBtYXR0ZXJzLCBidXQgYWxzbyB3aGF0IGlzIGF0IHRoZSBlbmQgb2YgaXQpLCBhbmQgdGhlcmVmb3JlIGNvbnRleHRzIHJlcXVpcmluZyB2YWx1ZXMgdHJ1c3RlZCBmb3IgYCRzY2UuUkVTT1VSQ0VfVVJMYCBjYW4gYmUgdXNlZCBhbnl3aGVyZSB0aGF0IHZhbHVlcyB0cnVzdGVkIGZvciBgJHNjZS5VUkxgIGFyZSByZXF1aXJlZC4gfFxyXG4gICAqIHwgYCRzY2UuSlNgICAgICAgICAgICB8IEZvciBKYXZhU2NyaXB0IHRoYXQgaXMgc2FmZSB0byBleGVjdXRlIGluIHlvdXIgYXBwbGljYXRpb24ncyBjb250ZXh0LiAgQ3VycmVudGx5LCBubyBiaW5kaW5ncyByZXF1aXJlIHRoaXMgY29udGV4dC4gIEZlZWwgZnJlZSB0byB1c2UgaXQgaW4geW91ciBvd24gZGlyZWN0aXZlcy4gfFxyXG4gICAqXHJcbiAgICpcclxuICAgKiBCZSBhd2FyZSB0aGF0IGBhW2hyZWZdYCBhbmQgYGltZ1tzcmNdYCBhdXRvbWF0aWNhbGx5IHNhbml0aXplIHRoZWlyIFVSTHMgYW5kIGRvIG5vdCBwYXNzIHRoZW1cclxuICAgKiB0aHJvdWdoIHtAbGluayBuZy4kc2NlI2dldFRydXN0ZWQgJHNjZS5nZXRUcnVzdGVkfS4gVGhlcmUncyBubyBDU1MtLCBVUkwtLCBvciBKUy1jb250ZXh0IGJpbmRpbmdzXHJcbiAgICogaW4gQW5ndWxhckpTIGN1cnJlbnRseSwgc28gdGhlaXIgY29ycmVzcG9uZGluZyBgJHNjZS50cnVzdEFzYCBmdW5jdGlvbnMgYXJlbid0IHVzZWZ1bCB5ZXQuIFRoaXNcclxuICAgKiBtaWdodCBldm9sdmUuXHJcbiAgICpcclxuICAgKiAjIyBGb3JtYXQgb2YgaXRlbXMgaW4ge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyI3Jlc291cmNlVXJsV2hpdGVsaXN0IHJlc291cmNlVXJsV2hpdGVsaXN0fS97QGxpbmsgbmcuJHNjZURlbGVnYXRlUHJvdmlkZXIjcmVzb3VyY2VVcmxCbGFja2xpc3QgQmxhY2tsaXN0fSA8YSBuYW1lPVwicmVzb3VyY2VVcmxQYXR0ZXJuSXRlbVwiPjwvYT5cclxuICAgKlxyXG4gICAqICBFYWNoIGVsZW1lbnQgaW4gdGhlc2UgYXJyYXlzIG11c3QgYmUgb25lIG9mIHRoZSBmb2xsb3dpbmc6XHJcbiAgICpcclxuICAgKiAgLSAqKidzZWxmJyoqXHJcbiAgICogICAgLSBUaGUgc3BlY2lhbCAqKnN0cmluZyoqLCBgJ3NlbGYnYCwgY2FuIGJlIHVzZWQgdG8gbWF0Y2ggYWdhaW5zdCBhbGwgVVJMcyBvZiB0aGUgKipzYW1lXHJcbiAgICogICAgICBkb21haW4qKiBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQgdXNpbmcgdGhlICoqc2FtZSBwcm90b2NvbCoqLlxyXG4gICAqICAtICoqU3RyaW5nKiogKGV4Y2VwdCB0aGUgc3BlY2lhbCB2YWx1ZSBgJ3NlbGYnYClcclxuICAgKiAgICAtIFRoZSBzdHJpbmcgaXMgbWF0Y2hlZCBhZ2FpbnN0IHRoZSBmdWxsICpub3JtYWxpemVkIC8gYWJzb2x1dGUgVVJMKiBvZiB0aGUgcmVzb3VyY2VcclxuICAgKiAgICAgIGJlaW5nIHRlc3RlZCAoc3Vic3RyaW5nIG1hdGNoZXMgYXJlIG5vdCBnb29kIGVub3VnaC4pXHJcbiAgICogICAgLSBUaGVyZSBhcmUgZXhhY3RseSAqKnR3byB3aWxkY2FyZCBzZXF1ZW5jZXMqKiAtIGAqYCBhbmQgYCoqYC4gIEFsbCBvdGhlciBjaGFyYWN0ZXJzXHJcbiAgICogICAgICBtYXRjaCB0aGVtc2VsdmVzLlxyXG4gICAqICAgIC0gYCpgOiBtYXRjaGVzIHplcm8gb3IgbW9yZSBvY2N1cnJlbmNlcyBvZiBhbnkgY2hhcmFjdGVyIG90aGVyIHRoYW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgNlxyXG4gICAqICAgICAgY2hhcmFjdGVyczogJ2A6YCcsICdgL2AnLCAnYC5gJywgJ2A/YCcsICdgJmAnIGFuZCAnYDtgJy4gIEl0J3MgYSB1c2VmdWwgd2lsZGNhcmQgZm9yIHVzZVxyXG4gICAqICAgICAgaW4gYSB3aGl0ZWxpc3QuXHJcbiAgICogICAgLSBgKipgOiBtYXRjaGVzIHplcm8gb3IgbW9yZSBvY2N1cnJlbmNlcyBvZiAqYW55KiBjaGFyYWN0ZXIuICBBcyBzdWNoLCBpdCdzIG5vdFxyXG4gICAqICAgICAgYXBwcm9wcmlhdGUgZm9yIHVzZSBpbiBhIHNjaGVtZSwgZG9tYWluLCBldGMuIGFzIGl0IHdvdWxkIG1hdGNoIHRvbyBtdWNoLiAgKGUuZy5cclxuICAgKiAgICAgIGh0dHA6Ly8qKi5leGFtcGxlLmNvbS8gd291bGQgbWF0Y2ggaHR0cDovL2V2aWwuY29tLz9pZ25vcmU9LmV4YW1wbGUuY29tLyBhbmQgdGhhdCBtaWdodFxyXG4gICAqICAgICAgbm90IGhhdmUgYmVlbiB0aGUgaW50ZW50aW9uLikgIEl0cyB1c2FnZSBhdCB0aGUgdmVyeSBlbmQgb2YgdGhlIHBhdGggaXMgb2suICAoZS5nLlxyXG4gICAqICAgICAgaHR0cDovL2Zvby5leGFtcGxlLmNvbS90ZW1wbGF0ZXMvKiopLlxyXG4gICAqICAtICoqUmVnRXhwKiogKCpzZWUgY2F2ZWF0IGJlbG93KilcclxuICAgKiAgICAtICpDYXZlYXQqOiAgV2hpbGUgcmVndWxhciBleHByZXNzaW9ucyBhcmUgcG93ZXJmdWwgYW5kIG9mZmVyIGdyZWF0IGZsZXhpYmlsaXR5LCAgdGhlaXIgc3ludGF4XHJcbiAgICogICAgICAoYW5kIGFsbCB0aGUgaW5ldml0YWJsZSBlc2NhcGluZykgbWFrZXMgdGhlbSAqaGFyZGVyIHRvIG1haW50YWluKi4gIEl0J3MgZWFzeSB0b1xyXG4gICAqICAgICAgYWNjaWRlbnRhbGx5IGludHJvZHVjZSBhIGJ1ZyB3aGVuIG9uZSB1cGRhdGVzIGEgY29tcGxleCBleHByZXNzaW9uIChpbWhvLCBhbGwgcmVnZXhlcyBzaG91bGRcclxuICAgKiAgICAgIGhhdmUgZ29vZCB0ZXN0IGNvdmVyYWdlKS4gIEZvciBpbnN0YW5jZSwgdGhlIHVzZSBvZiBgLmAgaW4gdGhlIHJlZ2V4IGlzIGNvcnJlY3Qgb25seSBpbiBhXHJcbiAgICogICAgICBzbWFsbCBudW1iZXIgb2YgY2FzZXMuICBBIGAuYCBjaGFyYWN0ZXIgaW4gdGhlIHJlZ2V4IHVzZWQgd2hlbiBtYXRjaGluZyB0aGUgc2NoZW1lIG9yIGFcclxuICAgKiAgICAgIHN1YmRvbWFpbiBjb3VsZCBiZSBtYXRjaGVkIGFnYWluc3QgYSBgOmAgb3IgbGl0ZXJhbCBgLmAgdGhhdCB3YXMgbGlrZWx5IG5vdCBpbnRlbmRlZC4gICBJdFxyXG4gICAqICAgICAgaXMgaGlnaGx5IHJlY29tbWVuZGVkIHRvIHVzZSB0aGUgc3RyaW5nIHBhdHRlcm5zIGFuZCBvbmx5IGZhbGwgYmFjayB0byByZWd1bGFyIGV4cHJlc3Npb25zXHJcbiAgICogICAgICBhcyBhIGxhc3QgcmVzb3J0LlxyXG4gICAqICAgIC0gVGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBtdXN0IGJlIGFuIGluc3RhbmNlIG9mIFJlZ0V4cCAoaS5lLiBub3QgYSBzdHJpbmcuKSAgSXQgaXNcclxuICAgKiAgICAgIG1hdGNoZWQgYWdhaW5zdCB0aGUgKiplbnRpcmUqKiAqbm9ybWFsaXplZCAvIGFic29sdXRlIFVSTCogb2YgdGhlIHJlc291cmNlIGJlaW5nIHRlc3RlZFxyXG4gICAqICAgICAgKGV2ZW4gd2hlbiB0aGUgUmVnRXhwIGRpZCBub3QgaGF2ZSB0aGUgYF5gIGFuZCBgJGAgY29kZXMuKSAgSW4gYWRkaXRpb24sIGFueSBmbGFnc1xyXG4gICAqICAgICAgcHJlc2VudCBvbiB0aGUgUmVnRXhwIChzdWNoIGFzIG11bHRpbGluZSwgZ2xvYmFsLCBpZ25vcmVDYXNlKSBhcmUgaWdub3JlZC5cclxuICAgKiAgICAtIElmIHlvdSBhcmUgZ2VuZXJhdGluZyB5b3VyIEphdmFTY3JpcHQgZnJvbSBzb21lIG90aGVyIHRlbXBsYXRpbmcgZW5naW5lIChub3RcclxuICAgKiAgICAgIHJlY29tbWVuZGVkLCBlLmcuIGluIGlzc3VlIFsjNDAwNl0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvNDAwNikpLFxyXG4gICAqICAgICAgcmVtZW1iZXIgdG8gZXNjYXBlIHlvdXIgcmVndWxhciBleHByZXNzaW9uIChhbmQgYmUgYXdhcmUgdGhhdCB5b3UgbWlnaHQgbmVlZCBtb3JlIHRoYW5cclxuICAgKiAgICAgIG9uZSBsZXZlbCBvZiBlc2NhcGluZyBkZXBlbmRpbmcgb24geW91ciB0ZW1wbGF0aW5nIGVuZ2luZSBhbmQgdGhlIHdheSB5b3UgaW50ZXJwb2xhdGVkXHJcbiAgICogICAgICB0aGUgdmFsdWUuKSAgRG8gbWFrZSB1c2Ugb2YgeW91ciBwbGF0Zm9ybSdzIGVzY2FwaW5nIG1lY2hhbmlzbSBhcyBpdCBtaWdodCBiZSBnb29kXHJcbiAgICogICAgICBlbm91Z2ggYmVmb3JlIGNvZGluZyB5b3VyIG93bi4gIEUuZy4gUnVieSBoYXNcclxuICAgKiAgICAgIFtSZWdleHAuZXNjYXBlKHN0cildKGh0dHA6Ly93d3cucnVieS1kb2Mub3JnL2NvcmUtMi4wLjAvUmVnZXhwLmh0bWwjbWV0aG9kLWMtZXNjYXBlKVxyXG4gICAqICAgICAgYW5kIFB5dGhvbiBoYXMgW3JlLmVzY2FwZV0oaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3JlLmh0bWwjcmUuZXNjYXBlKS5cclxuICAgKiAgICAgIEphdmFzY3JpcHQgbGFja3MgYSBzaW1pbGFyIGJ1aWx0IGluIGZ1bmN0aW9uIGZvciBlc2NhcGluZy4gIFRha2UgYSBsb29rIGF0IEdvb2dsZVxyXG4gICAqICAgICAgQ2xvc3VyZSBsaWJyYXJ5J3MgW2dvb2cuc3RyaW5nLnJlZ0V4cEVzY2FwZShzKV0oXHJcbiAgICogICAgICBodHRwOi8vZG9jcy5jbG9zdXJlLWxpYnJhcnkuZ29vZ2xlY29kZS5jb20vZ2l0L2Nsb3N1cmVfZ29vZ19zdHJpbmdfc3RyaW5nLmpzLnNvdXJjZS5odG1sI2xpbmU5NjIpLlxyXG4gICAqXHJcbiAgICogUmVmZXIge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZVByb3ZpZGVyICRzY2VEZWxlZ2F0ZVByb3ZpZGVyfSBmb3IgYW4gZXhhbXBsZS5cclxuICAgKlxyXG4gICAqICMjIFNob3cgbWUgYW4gZXhhbXBsZSB1c2luZyBTQ0UuXHJcbiAgICpcclxuICAgKiA8ZXhhbXBsZSBtb2R1bGU9XCJteVNjZUFwcFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCIgbmFtZT1cInNjZS1zZXJ2aWNlXCI+XHJcbiAgICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgKiAgIDxkaXYgbmctY29udHJvbGxlcj1cIkFwcENvbnRyb2xsZXIgYXMgbXlDdHJsXCI+XHJcbiAgICogICAgIDxpIG5nLWJpbmQtaHRtbD1cIm15Q3RybC5leHBsaWNpdGx5VHJ1c3RlZEh0bWxcIiBpZD1cImV4cGxpY2l0bHlUcnVzdGVkSHRtbFwiPjwvaT48YnI+PGJyPlxyXG4gICAqICAgICA8Yj5Vc2VyIGNvbW1lbnRzPC9iPjxicj5cclxuICAgKiAgICAgQnkgZGVmYXVsdCwgSFRNTCB0aGF0IGlzbid0IGV4cGxpY2l0bHkgdHJ1c3RlZCAoZS5nLiBBbGljZSdzIGNvbW1lbnQpIGlzIHNhbml0aXplZCB3aGVuXHJcbiAgICogICAgICRzYW5pdGl6ZSBpcyBhdmFpbGFibGUuICBJZiAkc2FuaXRpemUgaXNuJ3QgYXZhaWxhYmxlLCB0aGlzIHJlc3VsdHMgaW4gYW4gZXJyb3IgaW5zdGVhZCBvZiBhblxyXG4gICAqICAgICBleHBsb2l0LlxyXG4gICAqICAgICA8ZGl2IGNsYXNzPVwid2VsbFwiPlxyXG4gICAqICAgICAgIDxkaXYgbmctcmVwZWF0PVwidXNlckNvbW1lbnQgaW4gbXlDdHJsLnVzZXJDb21tZW50c1wiPlxyXG4gICAqICAgICAgICAgPGI+e3t1c2VyQ29tbWVudC5uYW1lfX08L2I+OlxyXG4gICAqICAgICAgICAgPHNwYW4gbmctYmluZC1odG1sPVwidXNlckNvbW1lbnQuaHRtbENvbW1lbnRcIiBjbGFzcz1cImh0bWxDb21tZW50XCI+PC9zcGFuPlxyXG4gICAqICAgICAgICAgPGJyPlxyXG4gICAqICAgICAgIDwvZGl2PlxyXG4gICAqICAgICA8L2Rpdj5cclxuICAgKiAgIDwvZGl2PlxyXG4gICAqIDwvZmlsZT5cclxuICAgKlxyXG4gICAqIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgKiAgIGFuZ3VsYXIubW9kdWxlKCdteVNjZUFwcCcsIFsnbmdTYW5pdGl6ZSddKVxyXG4gICAqICAgICAuY29udHJvbGxlcignQXBwQ29udHJvbGxlcicsIFsnJGh0dHAnLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJHNjZScsXHJcbiAgICogICAgICAgZnVuY3Rpb24gQXBwQ29udHJvbGxlcigkaHR0cCwgJHRlbXBsYXRlQ2FjaGUsICRzY2UpIHtcclxuICAgKiAgICAgICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgKiAgICAgICAgICRodHRwLmdldCgndGVzdF9kYXRhLmpzb24nLCB7Y2FjaGU6ICR0ZW1wbGF0ZUNhY2hlfSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xyXG4gICAqICAgICAgICAgICBzZWxmLnVzZXJDb21tZW50cyA9IHJlc3BvbnNlLmRhdGE7XHJcbiAgICogICAgICAgICB9KTtcclxuICAgKiAgICAgICAgIHNlbGYuZXhwbGljaXRseVRydXN0ZWRIdG1sID0gJHNjZS50cnVzdEFzSHRtbChcclxuICAgKiAgICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xyXG4gICAqICAgICAgICAgICAgICdzYW5pdGl6YXRpb24uJnF1b3Q7XCI+SG92ZXIgb3ZlciB0aGlzIHRleHQuPC9zcGFuPicpO1xyXG4gICAqICAgICAgIH1dKTtcclxuICAgKiA8L2ZpbGU+XHJcbiAgICpcclxuICAgKiA8ZmlsZSBuYW1lPVwidGVzdF9kYXRhLmpzb25cIj5cclxuICAgKiBbXHJcbiAgICogICB7IFwibmFtZVwiOiBcIkFsaWNlXCIsXHJcbiAgICogICAgIFwiaHRtbENvbW1lbnRcIjpcclxuICAgKiAgICAgICAgIFwiPHNwYW4gb25tb3VzZW92ZXI9J3RoaXMudGV4dENvbnRlbnQ9XFxcIlBXTjNEIVxcXCInPklzIDxpPmFueW9uZTwvaT4gcmVhZGluZyB0aGlzPzwvc3Bhbj5cIlxyXG4gICAqICAgfSxcclxuICAgKiAgIHsgXCJuYW1lXCI6IFwiQm9iXCIsXHJcbiAgICogICAgIFwiaHRtbENvbW1lbnRcIjogXCI8aT5ZZXMhPC9pPiAgQW0gSSB0aGUgb25seSBvdGhlciBvbmU/XCJcclxuICAgKiAgIH1cclxuICAgKiBdXHJcbiAgICogPC9maWxlPlxyXG4gICAqXHJcbiAgICogPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAqICAgZGVzY3JpYmUoJ1NDRSBkb2MgZGVtbycsIGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICBpdCgnc2hvdWxkIHNhbml0aXplIHVudHJ1c3RlZCB2YWx1ZXMnLCBmdW5jdGlvbigpIHtcclxuICAgKiAgICAgICBleHBlY3QoZWxlbWVudC5hbGwoYnkuY3NzKCcuaHRtbENvbW1lbnQnKSkuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKVxyXG4gICAqICAgICAgICAgICAudG9CZSgnPHNwYW4+SXMgPGk+YW55b25lPC9pPiByZWFkaW5nIHRoaXM/PC9zcGFuPicpO1xyXG4gICAqICAgICB9KTtcclxuICAgKlxyXG4gICAqICAgICBpdCgnc2hvdWxkIE5PVCBzYW5pdGl6ZSBleHBsaWNpdGx5IHRydXN0ZWQgdmFsdWVzJywgZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2V4cGxpY2l0bHlUcnVzdGVkSHRtbCcpKS5nZXRBdHRyaWJ1dGUoJ2lubmVySFRNTCcpKS50b0JlKFxyXG4gICAqICAgICAgICAgICAnPHNwYW4gb25tb3VzZW92ZXI9XCJ0aGlzLnRleHRDb250ZW50PSZxdW90O0V4cGxpY2l0bHkgdHJ1c3RlZCBIVE1MIGJ5cGFzc2VzICcgK1xyXG4gICAqICAgICAgICAgICAnc2FuaXRpemF0aW9uLiZxdW90O1wiPkhvdmVyIG92ZXIgdGhpcyB0ZXh0Ljwvc3Bhbj4nKTtcclxuICAgKiAgICAgfSk7XHJcbiAgICogICB9KTtcclxuICAgKiA8L2ZpbGU+XHJcbiAgICogPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICpcclxuICAgKlxyXG4gICAqICMjIENhbiBJIGRpc2FibGUgU0NFIGNvbXBsZXRlbHk/XHJcbiAgICpcclxuICAgKiBZZXMsIHlvdSBjYW4uICBIb3dldmVyLCB0aGlzIGlzIHN0cm9uZ2x5IGRpc2NvdXJhZ2VkLiAgU0NFIGdpdmVzIHlvdSBhIGxvdCBvZiBzZWN1cml0eSBiZW5lZml0c1xyXG4gICAqIGZvciBsaXR0bGUgY29kaW5nIG92ZXJoZWFkLiAgSXQgd2lsbCBiZSBtdWNoIGhhcmRlciB0byB0YWtlIGFuIFNDRSBkaXNhYmxlZCBhcHBsaWNhdGlvbiBhbmRcclxuICAgKiBlaXRoZXIgc2VjdXJlIGl0IG9uIHlvdXIgb3duIG9yIGVuYWJsZSBTQ0UgYXQgYSBsYXRlciBzdGFnZS4gIEl0IG1pZ2h0IG1ha2Ugc2Vuc2UgdG8gZGlzYWJsZSBTQ0VcclxuICAgKiBmb3IgY2FzZXMgd2hlcmUgeW91IGhhdmUgYSBsb3Qgb2YgZXhpc3RpbmcgY29kZSB0aGF0IHdhcyB3cml0dGVuIGJlZm9yZSBTQ0Ugd2FzIGludHJvZHVjZWQgYW5kXHJcbiAgICogeW91J3JlIG1pZ3JhdGluZyB0aGVtIGEgbW9kdWxlIGF0IGEgdGltZS4gQWxzbyBkbyBub3RlIHRoYXQgdGhpcyBpcyBhbiBhcHAtd2lkZSBzZXR0aW5nLCBzbyBpZlxyXG4gICAqIHlvdSBhcmUgd3JpdGluZyBhIGxpYnJhcnksIHlvdSB3aWxsIGNhdXNlIHNlY3VyaXR5IGJ1Z3MgYXBwbGljYXRpb25zIHVzaW5nIGl0LlxyXG4gICAqXHJcbiAgICogVGhhdCBzYWlkLCBoZXJlJ3MgaG93IHlvdSBjYW4gY29tcGxldGVseSBkaXNhYmxlIFNDRTpcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIGFuZ3VsYXIubW9kdWxlKCdteUFwcFdpdGhTY2VEaXNhYmxlZG15QXBwJywgW10pLmNvbmZpZyhmdW5jdGlvbigkc2NlUHJvdmlkZXIpIHtcclxuICAgKiAgIC8vIENvbXBsZXRlbHkgZGlzYWJsZSBTQ0UuICBGb3IgZGVtb25zdHJhdGlvbiBwdXJwb3NlcyBvbmx5IVxyXG4gICAqICAgLy8gRG8gbm90IHVzZSBpbiBuZXcgcHJvamVjdHMgb3IgbGlicmFyaWVzLlxyXG4gICAqICAgJHNjZVByb3ZpZGVyLmVuYWJsZWQoZmFsc2UpO1xyXG4gICAqIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICovXHJcblxyXG4gIGZ1bmN0aW9uICRTY2VQcm92aWRlcigpIHtcclxuICAgIHZhciBlbmFibGVkID0gdHJ1ZTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRzY2VQcm92aWRlciNlbmFibGVkXHJcbiAgICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IHZhbHVlIElmIHByb3ZpZGVkLCB0aGVuIGVuYWJsZXMvZGlzYWJsZXMgU0NFIGFwcGxpY2F0aW9uLXdpZGUuXHJcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIFNDRSBpcyBlbmFibGVkLCBmYWxzZSBvdGhlcndpc2UuXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBFbmFibGVzL2Rpc2FibGVzIFNDRSBhbmQgcmV0dXJucyB0aGUgY3VycmVudCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgdGhpcy5lbmFibGVkID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoKSB7XHJcbiAgICAgICAgZW5hYmxlZCA9ICEhdmFsdWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGVuYWJsZWQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qIERlc2lnbiBub3RlcyBvbiB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiBmb3IgU0NFLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBBUEkgY29udHJhY3QgZm9yIHRoZSBTQ0UgZGVsZWdhdGVcclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqIFRoZSBTQ0UgZGVsZWdhdGUgb2JqZWN0IG11c3QgcHJvdmlkZSB0aGUgZm9sbG93aW5nIDMgbWV0aG9kczpcclxuICAgICAqXHJcbiAgICAgKiAtIHRydXN0QXMoY29udGV4dEVudW0sIHZhbHVlKVxyXG4gICAgICogICAgIFRoaXMgbWV0aG9kIGlzIHVzZWQgdG8gdGVsbCB0aGUgU0NFIHNlcnZpY2UgdGhhdCB0aGUgcHJvdmlkZWQgdmFsdWUgaXMgT0sgdG8gdXNlIGluIHRoZVxyXG4gICAgICogICAgIGNvbnRleHRzIHNwZWNpZmllZCBieSBjb250ZXh0RW51bS4gIEl0IG11c3QgcmV0dXJuIGFuIG9iamVjdCB0aGF0IHdpbGwgYmUgYWNjZXB0ZWQgYnlcclxuICAgICAqICAgICBnZXRUcnVzdGVkKCkgZm9yIGEgY29tcGF0aWJsZSBjb250ZXh0RW51bSBhbmQgcmV0dXJuIHRoaXMgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogLSB2YWx1ZU9mKHZhbHVlKVxyXG4gICAgICogICAgIEZvciB2YWx1ZXMgdGhhdCB3ZXJlIG5vdCBwcm9kdWNlZCBieSB0cnVzdEFzKCksIHJldHVybiB0aGVtIGFzIGlzLiAgRm9yIHZhbHVlcyB0aGF0IHdlcmVcclxuICAgICAqICAgICBwcm9kdWNlZCBieSB0cnVzdEFzKCksIHJldHVybiB0aGUgY29ycmVzcG9uZGluZyBpbnB1dCB2YWx1ZSB0byB0cnVzdEFzLiAgQmFzaWNhbGx5LCBpZlxyXG4gICAgICogICAgIHRydXN0QXMgaXMgd3JhcHBpbmcgdGhlIGdpdmVuIHZhbHVlcyBpbnRvIHNvbWUgdHlwZSwgdGhpcyBvcGVyYXRpb24gdW53cmFwcyBpdCB3aGVuIGdpdmVuXHJcbiAgICAgKiAgICAgc3VjaCBhIHZhbHVlLlxyXG4gICAgICpcclxuICAgICAqIC0gZ2V0VHJ1c3RlZChjb250ZXh0RW51bSwgdmFsdWUpXHJcbiAgICAgKiAgICAgVGhpcyBmdW5jdGlvbiBzaG91bGQgcmV0dXJuIHRoZSBhIHZhbHVlIHRoYXQgaXMgc2FmZSB0byB1c2UgaW4gdGhlIGNvbnRleHQgc3BlY2lmaWVkIGJ5XHJcbiAgICAgKiAgICAgY29udGV4dEVudW0gb3IgdGhyb3cgYW5kIGV4Y2VwdGlvbiBvdGhlcndpc2UuXHJcbiAgICAgKlxyXG4gICAgICogTk9URTogVGhpcyBjb250cmFjdCBkZWxpYmVyYXRlbHkgZG9lcyBOT1Qgc3RhdGUgdGhhdCB2YWx1ZXMgcmV0dXJuZWQgYnkgdHJ1c3RBcygpIG11c3QgYmVcclxuICAgICAqIG9wYXF1ZSBvciB3cmFwcGVkIGluIHNvbWUgaG9sZGVyIG9iamVjdC4gIFRoYXQgaGFwcGVucyB0byBiZSBhbiBpbXBsZW1lbnRhdGlvbiBkZXRhaWwuICBGb3JcclxuICAgICAqIGluc3RhbmNlLCBhbiBpbXBsZW1lbnRhdGlvbiBjb3VsZCBtYWludGFpbiBhIHJlZ2lzdHJ5IG9mIGFsbCB0cnVzdGVkIG9iamVjdHMgYnkgY29udGV4dC4gIEluXHJcbiAgICAgKiBzdWNoIGEgY2FzZSwgdHJ1c3RBcygpIHdvdWxkIHJldHVybiB0aGUgc2FtZSBvYmplY3QgdGhhdCB3YXMgcGFzc2VkIGluLiAgZ2V0VHJ1c3RlZCgpIHdvdWxkXHJcbiAgICAgKiByZXR1cm4gdGhlIHNhbWUgb2JqZWN0IHBhc3NlZCBpbiBpZiBpdCB3YXMgZm91bmQgaW4gdGhlIHJlZ2lzdHJ5IHVuZGVyIGEgY29tcGF0aWJsZSBjb250ZXh0IG9yXHJcbiAgICAgKiB0aHJvdyBhbiBleGNlcHRpb24gb3RoZXJ3aXNlLiAgQW4gaW1wbGVtZW50YXRpb24gbWlnaHQgb25seSB3cmFwIHZhbHVlcyBzb21lIG9mIHRoZSB0aW1lIGJhc2VkXHJcbiAgICAgKiBvbiBzb21lIGNyaXRlcmlhLiAgZ2V0VHJ1c3RlZCgpIG1pZ2h0IHJldHVybiBhIHZhbHVlIGFuZCBub3QgdGhyb3cgYW4gZXhjZXB0aW9uIGZvciBzcGVjaWFsXHJcbiAgICAgKiBjb25zdGFudHMgb3Igb2JqZWN0cyBldmVuIGlmIG5vdCB3cmFwcGVkLiAgQWxsIHN1Y2ggaW1wbGVtZW50YXRpb25zIGZ1bGZpbGwgdGhpcyBjb250cmFjdC5cclxuICAgICAqXHJcbiAgICAgKlxyXG4gICAgICogQSBub3RlIG9uIHRoZSBpbmhlcml0YW5jZSBtb2RlbCBmb3IgU0NFIGNvbnRleHRzXHJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqIEkndmUgdXNlZCBpbmhlcml0YW5jZSBhbmQgbWFkZSBSRVNPVVJDRV9VUkwgd3JhcHBlZCB0eXBlcyBhIHN1YnR5cGUgb2YgVVJMIHdyYXBwZWQgdHlwZXMuICBUaGlzXHJcbiAgICAgKiBpcyBwdXJlbHkgYW4gaW1wbGVtZW50YXRpb24gZGV0YWlscy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgY29udHJhY3QgaXMgc2ltcGx5IHRoaXM6XHJcbiAgICAgKlxyXG4gICAgICogICAgIGdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKSBzdWNjZWVkaW5nIGltcGxpZXMgdGhhdCBnZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlcclxuICAgICAqICAgICB3aWxsIGFsc28gc3VjY2VlZC5cclxuICAgICAqXHJcbiAgICAgKiBJbmhlcml0YW5jZSBoYXBwZW5zIHRvIGNhcHR1cmUgdGhpcyBpbiBhIG5hdHVyYWwgd2F5LiBJbiBzb21lIGZ1dHVyZSwgd2UgbWF5IG5vdCB1c2VcclxuICAgICAqIGluaGVyaXRhbmNlIGFueW1vcmUuIFRoYXQgaXMgT0sgYmVjYXVzZSBubyBjb2RlIG91dHNpZGUgb2Ygc2NlLmpzIGFuZCBzY2VTcGVjcy5qcyB3b3VsZCBuZWVkIHRvXHJcbiAgICAgKiBiZSBhd2FyZSBvZiB0aGlzIGRldGFpbC5cclxuICAgICAqL1xyXG5cclxuICAgIHRoaXMuJGdldCA9IFsnJHBhcnNlJywgJyRzY2VEZWxlZ2F0ZScsIGZ1bmN0aW9uICgkcGFyc2UsICRzY2VEZWxlZ2F0ZSkge1xyXG4gICAgICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHlcclxuICAgICAgLy8gUHJlcmVxOiBFbnN1cmUgdGhhdCB3ZSdyZSBub3QgcnVubmluZyBpbiBJRTwxMSBxdWlya3MgbW9kZS4gIEluIHRoYXQgbW9kZSwgSUUgPCAxMSBhbGxvd1xyXG4gICAgICAvLyB0aGUgXCJleHByZXNzaW9uKGphdmFzY3JpcHQgZXhwcmVzc2lvbilcIiBzeW50YXggd2hpY2ggaXMgaW5zZWN1cmUuXHJcbiAgICAgIGlmIChlbmFibGVkICYmIG1zaWUgPCA4KSB7XHJcbiAgICAgICAgdGhyb3cgJHNjZU1pbkVycignaWVxdWlya3MnLCAnU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmcgZG9lcyBub3Qgc3VwcG9ydCBJbnRlcm5ldCBFeHBsb3JlciB2ZXJzaW9uIDwgMTEgaW4gcXVpcmtzICcgKyAnbW9kZS4gIFlvdSBjYW4gZml4IHRoaXMgYnkgYWRkaW5nIHRoZSB0ZXh0IDwhZG9jdHlwZSBodG1sPiB0byB0aGUgdG9wIG9mIHlvdXIgSFRNTCAnICsgJ2RvY3VtZW50LiAgU2VlIGh0dHA6Ly9kb2NzLmFuZ3VsYXJqcy5vcmcvYXBpL25nLiRzY2UgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBzY2UgPSBzaGFsbG93Q29weShTQ0VfQ09OVEVYVFMpO1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHNjZSNpc0VuYWJsZWRcclxuICAgICAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgICAgICpcclxuICAgICAgICogQHJldHVybiB7Qm9vbGVhbn0gVHJ1ZSBpZiBTQ0UgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLiAgSWYgeW91IHdhbnQgdG8gc2V0IHRoZSB2YWx1ZSwgeW91XHJcbiAgICAgICAqICAgICBoYXZlIHRvIGRvIGl0IGF0IG1vZHVsZSBjb25maWcgdGltZSBvbiB7QGxpbmsgbmcuJHNjZVByb3ZpZGVyICRzY2VQcm92aWRlcn0uXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIGlmIFNDRSBpcyBlbmFibGVkLlxyXG4gICAgICAgKi9cclxuICAgICAgc2NlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gZW5hYmxlZDtcclxuICAgICAgfTtcclxuICAgICAgc2NlLnRydXN0QXMgPSAkc2NlRGVsZWdhdGUudHJ1c3RBcztcclxuICAgICAgc2NlLmdldFRydXN0ZWQgPSAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZDtcclxuICAgICAgc2NlLnZhbHVlT2YgPSAkc2NlRGVsZWdhdGUudmFsdWVPZjtcclxuXHJcbiAgICAgIGlmICghZW5hYmxlZCkge1xyXG4gICAgICAgIHNjZS50cnVzdEFzID0gc2NlLmdldFRydXN0ZWQgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNjZS52YWx1ZU9mID0gaWRlbnRpdHk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogQ29udmVydHMgQW5ndWxhciB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpbnRvIGEgZnVuY3Rpb24uICBUaGlzIGlzIGxpa2Uge0BsaW5rXHJcbiAgICAgICAqIG5nLiRwYXJzZSAkcGFyc2V9IGFuZCBpcyBpZGVudGljYWwgd2hlbiB0aGUgZXhwcmVzc2lvbiBpcyBhIGxpdGVyYWwgY29uc3RhbnQuICBPdGhlcndpc2UsIGl0XHJcbiAgICAgICAqIHdyYXBzIHRoZSBleHByZXNzaW9uIGluIGEgY2FsbCB0byB7QGxpbmsgbmcuJHNjZSNnZXRUcnVzdGVkICRzY2UuZ2V0VHJ1c3RlZCgqdHlwZSosXHJcbiAgICAgICAqICpyZXN1bHQqKX1cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgVGhlIFNDRSBjb250ZXh0IGluIHdoaWNoIHRoaXMgcmVzdWx0IHdpbGwgYmUgdXNlZC5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICAgICAgICogQHJldHVybiB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gQSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZVxyXG4gICAgICAgKiAgICAgIHN0cmluZ3MgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxyXG4gICAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzXHJcbiAgICAgICAqICAgICAgaW4gYGNvbnRleHRgLlxyXG4gICAgICAgKi9cclxuICAgICAgc2NlLnBhcnNlQXMgPSBmdW5jdGlvbiBzY2VQYXJzZUFzKHR5cGUsIGV4cHIpIHtcclxuICAgICAgICB2YXIgcGFyc2VkID0gJHBhcnNlKGV4cHIpO1xyXG4gICAgICAgIGlmIChwYXJzZWQubGl0ZXJhbCAmJiBwYXJzZWQuY29uc3RhbnQpIHtcclxuICAgICAgICAgIHJldHVybiBwYXJzZWQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiAkcGFyc2UoZXhwciwgZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY2UuZ2V0VHJ1c3RlZCh0eXBlLCB2YWx1ZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIERlbGVnYXRlcyB0byB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzYH0uIEFzIHN1Y2gsIHJldHVybnMgYVxyXG4gICAgICAgKiB3cmFwcGVkIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgeW91ciB2YWx1ZSwgYW5kIHRoZSB0cnVzdCB5b3UgaGF2ZSBpbiBpdHMgc2FmZXR5IGZvciB0aGUgZ2l2ZW5cclxuICAgICAgICogY29udGV4dC4gQW5ndWxhckpTIGNhbiB0aGVuIHVzZSB0aGF0IHZhbHVlIGFzLWlzIGluIGJpbmRpbmdzIG9mIHRoZSBzcGVjaWZpZWQgc2VjdXJlIGNvbnRleHQuXHJcbiAgICAgICAqIFRoaXMgaXMgdXNlZCBpbiBiaW5kaW5ncyBmb3IgYG5nLWJpbmQtaHRtbGAsIGBuZy1pbmNsdWRlYCwgYW5kIG1vc3QgYHNyY2AgYXR0cmlidXRlXHJcbiAgICAgICAqIGludGVycG9sYXRpb25zLiBTZWUge0BsaW5rIG5nLiRzY2UgJHNjZX0gZm9yIHN0cmljdCBjb250ZXh0dWFsIGVzY2FwaW5nLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZSBUaGUgY29udGV4dCBpbiB3aGljaCB0aGlzIHZhbHVlIGlzIHNhZmUgZm9yIHVzZSwgZS5nLiBgJHNjZS5VUkxgLFxyXG4gICAgICAgKiAgICAgYCRzY2UuUkVTT1VSQ0VfVVJMYCwgYCRzY2UuSFRNTGAsIGAkc2NlLkpTYCBvciBgJHNjZS5DU1NgLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0aGF0IHRoYXQgc2hvdWxkIGJlIGNvbnNpZGVyZWQgdHJ1c3RlZC5cclxuICAgICAgICogQHJldHVybiB7Kn0gQSB3cmFwcGVkIHZlcnNpb24gb2YgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRydXN0ZWQgdmFyaWFudCBvZiB5b3VyIGB2YWx1ZWBcclxuICAgICAgICogICAgIGluIHRoZSBjb250ZXh0IHlvdSBzcGVjaWZpZWQuXHJcbiAgICAgICAqL1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHNjZSN0cnVzdEFzSHRtbFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnRydXN0QXNIdG1sKHZhbHVlKWAg4oaSXHJcbiAgICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSFRNTCwgdmFsdWUpYH1cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gbWFyayBhcyB0cnVzdGVkIGZvciBgJHNjZS5IVE1MYCBjb250ZXh0LlxyXG4gICAgICAgKiBAcmV0dXJuIHsqfSBBIHdyYXBwZWQgdmVyc2lvbiBvZiB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgdHJ1c3RlZCB2YXJpYW50IG9mIHlvdXIgYHZhbHVlYFxyXG4gICAgICAgKiAgICAgaW4gYCRzY2UuSFRNTGAgY29udGV4dCAobGlrZSBgbmctYmluZC1odG1sYCkuXHJcbiAgICAgICAqL1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHNjZSN0cnVzdEFzQ3NzXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0Nzcyh2YWx1ZSlgIOKGklxyXG4gICAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSN0cnVzdEFzIGAkc2NlRGVsZWdhdGUudHJ1c3RBcygkc2NlLkNTUywgdmFsdWUpYH1cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gbWFyayBhcyB0cnVzdGVkIGZvciBgJHNjZS5DU1NgIGNvbnRleHQuXHJcbiAgICAgICAqIEByZXR1cm4geyp9IEEgd3JhcHBlZCB2ZXJzaW9uIG9mIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSB0cnVzdGVkIHZhcmlhbnRcclxuICAgICAgICogICAgIG9mIHlvdXIgYHZhbHVlYCBpbiBgJHNjZS5DU1NgIGNvbnRleHQuIFRoaXMgY29udGV4dCBpcyBjdXJyZW50bHkgdW51c2VkLCBzbyB0aGVyZSBhcmVcclxuICAgICAgICogICAgIGFsbW9zdCBubyByZWFzb25zIHRvIHVzZSB0aGlzIGZ1bmN0aW9uIHNvIGZhci5cclxuICAgICAgICovXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkc2NlI3RydXN0QXNVcmxcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS50cnVzdEFzVXJsKHZhbHVlKWAg4oaSXHJcbiAgICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuVVJMLCB2YWx1ZSlgfVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBtYXJrIGFzIHRydXN0ZWQgZm9yIGAkc2NlLlVSTGAgY29udGV4dC5cclxuICAgICAgICogQHJldHVybiB7Kn0gQSB3cmFwcGVkIHZlcnNpb24gb2YgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRydXN0ZWQgdmFyaWFudCBvZiB5b3VyIGB2YWx1ZWBcclxuICAgICAgICogICAgIGluIGAkc2NlLlVSTGAgY29udGV4dC4gVGhhdCBjb250ZXh0IGlzIGN1cnJlbnRseSB1bnVzZWQsIHNvIHRoZXJlIGFyZSBhbG1vc3Qgbm8gcmVhc29uc1xyXG4gICAgICAgKiAgICAgdG8gdXNlIHRoaXMgZnVuY3Rpb24gc28gZmFyLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc1Jlc291cmNlVXJsXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc1Jlc291cmNlVXJsKHZhbHVlKWAg4oaSXHJcbiAgICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuUkVTT1VSQ0VfVVJMLCB2YWx1ZSlgfVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBtYXJrIGFzIHRydXN0ZWQgZm9yIGAkc2NlLlJFU09VUkNFX1VSTGAgY29udGV4dC5cclxuICAgICAgICogQHJldHVybiB7Kn0gQSB3cmFwcGVkIHZlcnNpb24gb2YgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHRydXN0ZWQgdmFyaWFudCBvZiB5b3VyIGB2YWx1ZWBcclxuICAgICAgICogICAgIGluIGAkc2NlLlJFU09VUkNFX1VSTGAgY29udGV4dCAodGVtcGxhdGUgVVJMcyBpbiBgbmctaW5jbHVkZWAsIG1vc3QgYHNyY2AgYXR0cmlidXRlXHJcbiAgICAgICAqICAgICBiaW5kaW5ncywgLi4uKVxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRzY2UjdHJ1c3RBc0pzXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UudHJ1c3RBc0pzKHZhbHVlKWAg4oaSXHJcbiAgICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI3RydXN0QXMgYCRzY2VEZWxlZ2F0ZS50cnVzdEFzKCRzY2UuSlMsIHZhbHVlKWB9XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIG1hcmsgYXMgdHJ1c3RlZCBmb3IgYCRzY2UuSlNgIGNvbnRleHQuXHJcbiAgICAgICAqIEByZXR1cm4geyp9IEEgd3JhcHBlZCB2ZXJzaW9uIG9mIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSB0cnVzdGVkIHZhcmlhbnQgb2YgeW91ciBgdmFsdWVgXHJcbiAgICAgICAqICAgICBpbiBgJHNjZS5KU2AgY29udGV4dC4gVGhhdCBjb250ZXh0IGlzIGN1cnJlbnRseSB1bnVzZWQsIHNvIHRoZXJlIGFyZSBhbG1vc3Qgbm8gcmVhc29ucyB0b1xyXG4gICAgICAgKiAgICAgdXNlIHRoaXMgZnVuY3Rpb24gc28gZmFyLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogRGVsZWdhdGVzIHRvIHtAbGluayBuZy4kc2NlRGVsZWdhdGUjZ2V0VHJ1c3RlZCBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWRgfS4gIEFzIHN1Y2gsXHJcbiAgICAgICAqIHRha2VzIGFueSBpbnB1dCwgYW5kIGVpdGhlciByZXR1cm5zIGEgdmFsdWUgdGhhdCdzIHNhZmUgdG8gdXNlIGluIHRoZSBzcGVjaWZpZWQgY29udGV4dCxcclxuICAgICAgICogb3IgdGhyb3dzIGFuIGV4Y2VwdGlvbi4gVGhpcyBmdW5jdGlvbiBpcyBhd2FyZSBvZiB0cnVzdGVkIHZhbHVlcyBjcmVhdGVkIGJ5IHRoZSBgdHJ1c3RBc2BcclxuICAgICAgICogZnVuY3Rpb24gYW5kIGl0cyBzaG9ydGhhbmRzLCBhbmQgd2hlbiBjb250ZXh0cyBhcmUgYXBwcm9wcmlhdGUsIHJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZVxyXG4gICAgICAgKiBhcy1pcy4gRmluYWxseSwgdGhpcyBmdW5jdGlvbiBjYW4gYWxzbyB0aHJvdyB3aGVuIHRoZXJlIGlzIG5vIHdheSB0byB0dXJuIGBtYXliZVRydXN0ZWRgIGluIGFcclxuICAgICAgICogc2FmZSB2YWx1ZSAoZS5nLiwgbm8gc2FuaXRpemF0aW9uIGlzIGF2YWlsYWJsZSBvciBwb3NzaWJsZS4pXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIFRoZSBjb250ZXh0IGluIHdoaWNoIHRoaXMgdmFsdWUgaXMgdG8gYmUgdXNlZC5cclxuICAgICAgICogQHBhcmFtIHsqfSBtYXliZVRydXN0ZWQgVGhlIHJlc3VsdCBvZiBhIHByaW9yIHtAbGluayBuZy4kc2NlI3RydXN0QXNcclxuICAgICAgICogICAgIGAkc2NlLnRydXN0QXNgfSBjYWxsLCBvciBhbnl0aGluZyBlbHNlICh3aGljaCB3aWxsIG5vdCBiZSBjb25zaWRlcmVkIHRydXN0ZWQuKVxyXG4gICAgICAgKiBAcmV0dXJuIHsqfSBBIHZlcnNpb24gb2YgdGhlIHZhbHVlIHRoYXQncyBzYWZlIHRvIHVzZSBpbiB0aGUgZ2l2ZW4gY29udGV4dCwgb3IgdGhyb3dzIGFuXHJcbiAgICAgICAqICAgICBleGNlcHRpb24gaWYgdGhpcyBpcyBpbXBvc3NpYmxlLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRzY2UjZ2V0VHJ1c3RlZEh0bWxcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkSHRtbCh2YWx1ZSlgIOKGklxyXG4gICAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkhUTUwsIHZhbHVlKWB9XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHBhc3MgdG8gYCRzY2UuZ2V0VHJ1c3RlZGAuXHJcbiAgICAgICAqIEByZXR1cm4geyp9IFRoZSByZXR1cm4gdmFsdWUgb2YgYCRzY2UuZ2V0VHJ1c3RlZCgkc2NlLkhUTUwsIHZhbHVlKWBcclxuICAgICAgICovXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRDc3NcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkQ3NzKHZhbHVlKWAg4oaSXHJcbiAgICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuQ1NTLCB2YWx1ZSlgfVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxyXG4gICAgICAgKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5DU1MsIHZhbHVlKWBcclxuICAgICAgICovXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRVcmxcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5nZXRUcnVzdGVkVXJsKHZhbHVlKWAg4oaSXHJcbiAgICAgICAqICAgICB7QGxpbmsgbmcuJHNjZURlbGVnYXRlI2dldFRydXN0ZWQgYCRzY2VEZWxlZ2F0ZS5nZXRUcnVzdGVkKCRzY2UuVVJMLCB2YWx1ZSlgfVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxyXG4gICAgICAgKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5VUkwsIHZhbHVlKWBcclxuICAgICAgICovXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh2YWx1ZSlgIOKGklxyXG4gICAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLlJFU09VUkNFX1VSTCwgdmFsdWUpYH1cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcGFzcyB0byBgJHNjZURlbGVnYXRlLmdldFRydXN0ZWRgLlxyXG4gICAgICAgKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWBcclxuICAgICAgICovXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkc2NlI2dldFRydXN0ZWRKc1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLmdldFRydXN0ZWRKcyh2YWx1ZSlgIOKGklxyXG4gICAgICAgKiAgICAge0BsaW5rIG5nLiRzY2VEZWxlZ2F0ZSNnZXRUcnVzdGVkIGAkc2NlRGVsZWdhdGUuZ2V0VHJ1c3RlZCgkc2NlLkpTLCB2YWx1ZSlgfVxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwYXNzIHRvIGAkc2NlLmdldFRydXN0ZWRgLlxyXG4gICAgICAgKiBAcmV0dXJuIHsqfSBUaGUgcmV0dXJuIHZhbHVlIG9mIGAkc2NlLmdldFRydXN0ZWQoJHNjZS5KUywgdmFsdWUpYFxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0h0bWxcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNob3J0aGFuZCBtZXRob2QuICBgJHNjZS5wYXJzZUFzSHRtbChleHByZXNzaW9uIHN0cmluZylgIOKGklxyXG4gICAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuSFRNTCwgdmFsdWUpYH1cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICAgICAgICogQHJldHVybiB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gQSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZVxyXG4gICAgICAgKiAgICAgIHN0cmluZ3MgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxyXG4gICAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzXHJcbiAgICAgICAqICAgICAgaW4gYGNvbnRleHRgLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc0Nzc1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNDc3ModmFsdWUpYCDihpJcclxuICAgICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLkNTUywgdmFsdWUpYH1cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICAgICAgICogQHJldHVybiB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gQSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZVxyXG4gICAgICAgKiAgICAgIHN0cmluZ3MgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxyXG4gICAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzXHJcbiAgICAgICAqICAgICAgaW4gYGNvbnRleHRgLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1VybFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNVcmwodmFsdWUpYCDihpJcclxuICAgICAgICogICAgIHtAbGluayBuZy4kc2NlI3BhcnNlQXMgYCRzY2UucGFyc2VBcygkc2NlLlVSTCwgdmFsdWUpYH1cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gU3RyaW5nIGV4cHJlc3Npb24gdG8gY29tcGlsZS5cclxuICAgICAgICogQHJldHVybiB7ZnVuY3Rpb24oY29udGV4dCwgbG9jYWxzKX0gQSBmdW5jdGlvbiB3aGljaCByZXByZXNlbnRzIHRoZSBjb21waWxlZCBleHByZXNzaW9uOlxyXG4gICAgICAgKlxyXG4gICAgICAgKiAgICAqIGBjb250ZXh0YCDigJMgYHtvYmplY3R9YCDigJMgYW4gb2JqZWN0IGFnYWluc3Qgd2hpY2ggYW55IGV4cHJlc3Npb25zIGVtYmVkZGVkIGluIHRoZVxyXG4gICAgICAgKiAgICAgIHN0cmluZ3MgYXJlIGV2YWx1YXRlZCBhZ2FpbnN0ICh0eXBpY2FsbHkgYSBzY29wZSBvYmplY3QpLlxyXG4gICAgICAgKiAgICAqIGBsb2NhbHNgIOKAkyBge29iamVjdD19YCDigJMgbG9jYWwgdmFyaWFibGVzIGNvbnRleHQgb2JqZWN0LCB1c2VmdWwgZm9yIG92ZXJyaWRpbmcgdmFsdWVzXHJcbiAgICAgICAqICAgICAgaW4gYGNvbnRleHRgLlxyXG4gICAgICAgKi9cclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgICAqIEBuYW1lICRzY2UjcGFyc2VBc1Jlc291cmNlVXJsXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBTaG9ydGhhbmQgbWV0aG9kLiAgYCRzY2UucGFyc2VBc1Jlc291cmNlVXJsKHZhbHVlKWAg4oaSXHJcbiAgICAgICAqICAgICB7QGxpbmsgbmcuJHNjZSNwYXJzZUFzIGAkc2NlLnBhcnNlQXMoJHNjZS5SRVNPVVJDRV9VUkwsIHZhbHVlKWB9XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAgICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IEEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcclxuICAgICAgICpcclxuICAgICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGVcclxuICAgICAgICogICAgICBzdHJpbmdzIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cclxuICAgICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlc1xyXG4gICAgICAgKiAgICAgIGluIGBjb250ZXh0YC5cclxuICAgICAgICovXHJcblxyXG4gICAgICAvKipcclxuICAgICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICAgKiBAbmFtZSAkc2NlI3BhcnNlQXNKc1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogU2hvcnRoYW5kIG1ldGhvZC4gIGAkc2NlLnBhcnNlQXNKcyh2YWx1ZSlgIOKGklxyXG4gICAgICAgKiAgICAge0BsaW5rIG5nLiRzY2UjcGFyc2VBcyBgJHNjZS5wYXJzZUFzKCRzY2UuSlMsIHZhbHVlKWB9XHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBleHByZXNzaW9uIFN0cmluZyBleHByZXNzaW9uIHRvIGNvbXBpbGUuXHJcbiAgICAgICAqIEByZXR1cm4ge2Z1bmN0aW9uKGNvbnRleHQsIGxvY2Fscyl9IEEgZnVuY3Rpb24gd2hpY2ggcmVwcmVzZW50cyB0aGUgY29tcGlsZWQgZXhwcmVzc2lvbjpcclxuICAgICAgICpcclxuICAgICAgICogICAgKiBgY29udGV4dGAg4oCTIGB7b2JqZWN0fWAg4oCTIGFuIG9iamVjdCBhZ2FpbnN0IHdoaWNoIGFueSBleHByZXNzaW9ucyBlbWJlZGRlZCBpbiB0aGVcclxuICAgICAgICogICAgICBzdHJpbmdzIGFyZSBldmFsdWF0ZWQgYWdhaW5zdCAodHlwaWNhbGx5IGEgc2NvcGUgb2JqZWN0KS5cclxuICAgICAgICogICAgKiBgbG9jYWxzYCDigJMgYHtvYmplY3Q9fWAg4oCTIGxvY2FsIHZhcmlhYmxlcyBjb250ZXh0IG9iamVjdCwgdXNlZnVsIGZvciBvdmVycmlkaW5nIHZhbHVlc1xyXG4gICAgICAgKiAgICAgIGluIGBjb250ZXh0YC5cclxuICAgICAgICovXHJcblxyXG4gICAgICAvLyBTaG9ydGhhbmQgZGVsZWdhdGlvbnMuXHJcbiAgICAgIHZhciBwYXJzZSA9IHNjZS5wYXJzZUFzLFxyXG4gICAgICAgICAgZ2V0VHJ1c3RlZCA9IHNjZS5nZXRUcnVzdGVkLFxyXG4gICAgICAgICAgdHJ1c3RBcyA9IHNjZS50cnVzdEFzO1xyXG5cclxuICAgICAgZm9yRWFjaChTQ0VfQ09OVEVYVFMsIGZ1bmN0aW9uIChlbnVtVmFsdWUsIG5hbWUpIHtcclxuICAgICAgICB2YXIgbE5hbWUgPSBsb3dlcmNhc2UobmFtZSk7XHJcbiAgICAgICAgc2NlW3NuYWtlVG9DYW1lbCgncGFyc2VfYXNfJyArIGxOYW1lKV0gPSBmdW5jdGlvbiAoZXhwcikge1xyXG4gICAgICAgICAgcmV0dXJuIHBhcnNlKGVudW1WYWx1ZSwgZXhwcik7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzY2Vbc25ha2VUb0NhbWVsKCdnZXRfdHJ1c3RlZF8nICsgbE5hbWUpXSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIGdldFRydXN0ZWQoZW51bVZhbHVlLCB2YWx1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzY2Vbc25ha2VUb0NhbWVsKCd0cnVzdF9hc18nICsgbE5hbWUpXSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuIHRydXN0QXMoZW51bVZhbHVlLCB2YWx1ZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICByZXR1cm4gc2NlO1xyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICAvKiBleHBvcnRlZCAkU25pZmZlclByb3ZpZGVyICovXHJcblxyXG4gIC8qKlxyXG4gICAqICEhISBUaGlzIGlzIGFuIHVuZG9jdW1lbnRlZCBcInByaXZhdGVcIiBzZXJ2aWNlICEhIVxyXG4gICAqXHJcbiAgICogQG5hbWUgJHNuaWZmZXJcclxuICAgKiBAcmVxdWlyZXMgJHdpbmRvd1xyXG4gICAqIEByZXF1aXJlcyAkZG9jdW1lbnRcclxuICAgKiBAdGhpc1xyXG4gICAqXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSBoaXN0b3J5IERvZXMgdGhlIGJyb3dzZXIgc3VwcG9ydCBodG1sNSBoaXN0b3J5IGFwaSA/XHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSB0cmFuc2l0aW9ucyBEb2VzIHRoZSBicm93c2VyIHN1cHBvcnQgQ1NTIHRyYW5zaXRpb24gZXZlbnRzID9cclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59IGFuaW1hdGlvbnMgRG9lcyB0aGUgYnJvd3NlciBzdXBwb3J0IENTUyBhbmltYXRpb24gZXZlbnRzID9cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoaXMgaXMgdmVyeSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgdGVzdGluZyBicm93c2VyJ3MgZmVhdHVyZXMuXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gJFNuaWZmZXJQcm92aWRlcigpIHtcclxuICAgIHRoaXMuJGdldCA9IFsnJHdpbmRvdycsICckZG9jdW1lbnQnLCBmdW5jdGlvbiAoJHdpbmRvdywgJGRvY3VtZW50KSB7XHJcbiAgICAgIHZhciBldmVudFN1cHBvcnQgPSB7fSxcclxuXHJcbiAgICAgIC8vIENocm9tZSBQYWNrYWdlZCBBcHBzIGFyZSBub3QgYWxsb3dlZCB0byBhY2Nlc3MgYGhpc3RvcnkucHVzaFN0YXRlYC5cclxuICAgICAgLy8gSWYgbm90IHNhbmRib3hlZCwgdGhleSBjYW4gYmUgZGV0ZWN0ZWQgYnkgdGhlIHByZXNlbmNlIG9mIGBjaHJvbWUuYXBwLnJ1bnRpbWVgXHJcbiAgICAgIC8vIChzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9hcHBzL2FwaV9pbmRleCkuIElmIHNhbmRib3hlZCwgdGhleSBjYW4gYmUgZGV0ZWN0ZWQgYnlcclxuICAgICAgLy8gdGhlIHByZXNlbmNlIG9mIGFuIGV4dGVuc2lvbiBydW50aW1lIElEIGFuZCB0aGUgYWJzZW5jZSBvZiBvdGhlciBDaHJvbWUgcnVudGltZSBBUElzXHJcbiAgICAgIC8vIChzZWUgaHR0cHM6Ly9kZXZlbG9wZXIuY2hyb21lLmNvbS9hcHBzL21hbmlmZXN0L3NhbmRib3gpLlxyXG4gICAgICAvLyAoTlcuanMgYXBwcyBoYXZlIGFjY2VzcyB0byBDaHJvbWUgQVBJcywgYnV0IGRvIHN1cHBvcnQgYGhpc3RvcnlgLilcclxuICAgICAgaXNOdyA9ICR3aW5kb3cubncgJiYgJHdpbmRvdy5udy5wcm9jZXNzLFxyXG4gICAgICAgICAgaXNDaHJvbWVQYWNrYWdlZEFwcCA9ICFpc053ICYmICR3aW5kb3cuY2hyb21lICYmICgkd2luZG93LmNocm9tZS5hcHAgJiYgJHdpbmRvdy5jaHJvbWUuYXBwLnJ1bnRpbWUgfHwgISR3aW5kb3cuY2hyb21lLmFwcCAmJiAkd2luZG93LmNocm9tZS5ydW50aW1lICYmICR3aW5kb3cuY2hyb21lLnJ1bnRpbWUuaWQpLFxyXG4gICAgICAgICAgaGFzSGlzdG9yeVB1c2hTdGF0ZSA9ICFpc0Nocm9tZVBhY2thZ2VkQXBwICYmICR3aW5kb3cuaGlzdG9yeSAmJiAkd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlLFxyXG4gICAgICAgICAgYW5kcm9pZCA9IHRvSW50KCgvYW5kcm9pZCAoXFxkKykvLmV4ZWMobG93ZXJjYXNlKCgkd2luZG93Lm5hdmlnYXRvciB8fCB7fSkudXNlckFnZW50KSkgfHwgW10pWzFdKSxcclxuICAgICAgICAgIGJveGVlID0gL0JveGVlL2kudGVzdCgoJHdpbmRvdy5uYXZpZ2F0b3IgfHwge30pLnVzZXJBZ2VudCksXHJcbiAgICAgICAgICBkb2N1bWVudCA9ICRkb2N1bWVudFswXSB8fCB7fSxcclxuICAgICAgICAgIGJvZHlTdHlsZSA9IGRvY3VtZW50LmJvZHkgJiYgZG9jdW1lbnQuYm9keS5zdHlsZSxcclxuICAgICAgICAgIHRyYW5zaXRpb25zID0gZmFsc2UsXHJcbiAgICAgICAgICBhbmltYXRpb25zID0gZmFsc2U7XHJcblxyXG4gICAgICBpZiAoYm9keVN0eWxlKSB7XHJcbiAgICAgICAgLy8gU3VwcG9ydDogQW5kcm9pZCA8NSwgQmxhY2tiZXJyeSBCcm93c2VyIDEwLCBkZWZhdWx0IENocm9tZSBpbiBBbmRyb2lkIDQuNC54XHJcbiAgICAgICAgLy8gTWVudGlvbmVkIGJyb3dzZXJzIG5lZWQgYSAtd2Via2l0LSBwcmVmaXggZm9yIHRyYW5zaXRpb25zICYgYW5pbWF0aW9ucy5cclxuICAgICAgICB0cmFuc2l0aW9ucyA9ICEhKCd0cmFuc2l0aW9uJyBpbiBib2R5U3R5bGUgfHwgJ3dlYmtpdFRyYW5zaXRpb24nIGluIGJvZHlTdHlsZSk7XHJcbiAgICAgICAgYW5pbWF0aW9ucyA9ICEhKCdhbmltYXRpb24nIGluIGJvZHlTdHlsZSB8fCAnd2Via2l0QW5pbWF0aW9uJyBpbiBib2R5U3R5bGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIC8vIEFuZHJvaWQgaGFzIGhpc3RvcnkucHVzaFN0YXRlLCBidXQgaXQgZG9lcyBub3QgdXBkYXRlIGxvY2F0aW9uIGNvcnJlY3RseVxyXG4gICAgICAgIC8vIHNvIGxldCdzIG5vdCB1c2UgdGhlIGhpc3RvcnkgQVBJIGF0IGFsbC5cclxuICAgICAgICAvLyBodHRwOi8vY29kZS5nb29nbGUuY29tL3AvYW5kcm9pZC9pc3N1ZXMvZGV0YWlsP2lkPTE3NDcxXHJcbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvOTA0XHJcblxyXG4gICAgICAgIC8vIG9sZGVyIHdlYmtpdCBicm93c2VyICg1MzMuOSkgb24gQm94ZWUgYm94IGhhcyBleGFjdGx5IHRoZSBzYW1lIHByb2JsZW0gYXMgQW5kcm9pZCBoYXNcclxuICAgICAgICAvLyBzbyBsZXQncyBub3QgdXNlIHRoZSBoaXN0b3J5IEFQSSBhbHNvXHJcbiAgICAgICAgLy8gV2UgYXJlIHB1cnBvc2VmdWxseSB1c2luZyBgIShhbmRyb2lkIDwgNClgIHRvIGNvdmVyIHRoZSBjYXNlIHdoZW4gYGFuZHJvaWRgIGlzIHVuZGVmaW5lZFxyXG4gICAgICAgIGhpc3Rvcnk6ICEhKGhhc0hpc3RvcnlQdXNoU3RhdGUgJiYgIShhbmRyb2lkIDwgNCkgJiYgIWJveGVlKSxcclxuICAgICAgICBoYXNFdmVudDogZnVuY3Rpb24gaGFzRXZlbnQoZXZlbnQpIHtcclxuICAgICAgICAgIC8vIFN1cHBvcnQ6IElFIDktMTEgb25seVxyXG4gICAgICAgICAgLy8gSUU5IGltcGxlbWVudHMgJ2lucHV0JyBldmVudCBpdCdzIHNvIGZ1YmFyZWQgdGhhdCB3ZSByYXRoZXIgcHJldGVuZCB0aGF0IGl0IGRvZXNuJ3QgaGF2ZVxyXG4gICAgICAgICAgLy8gaXQuIEluIHBhcnRpY3VsYXIgdGhlIGV2ZW50IGlzIG5vdCBmaXJlZCB3aGVuIGJhY2tzcGFjZSBvciBkZWxldGUga2V5IGFyZSBwcmVzc2VkIG9yXHJcbiAgICAgICAgICAvLyB3aGVuIGN1dCBvcGVyYXRpb24gaXMgcGVyZm9ybWVkLlxyXG4gICAgICAgICAgLy8gSUUxMCsgaW1wbGVtZW50cyAnaW5wdXQnIGV2ZW50IGJ1dCBpdCBlcnJvbmVvdXNseSBmaXJlcyB1bmRlciB2YXJpb3VzIHNpdHVhdGlvbnMsXHJcbiAgICAgICAgICAvLyBlLmcuIHdoZW4gcGxhY2Vob2xkZXIgY2hhbmdlcywgb3IgYSBmb3JtIGlzIGZvY3VzZWQuXHJcbiAgICAgICAgICBpZiAoZXZlbnQgPT09ICdpbnB1dCcgJiYgbXNpZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChldmVudFN1cHBvcnRbZXZlbnRdKSkge1xyXG4gICAgICAgICAgICB2YXIgZGl2RWxtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGV2ZW50U3VwcG9ydFtldmVudF0gPSAnb24nICsgZXZlbnQgaW4gZGl2RWxtO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBldmVudFN1cHBvcnRbZXZlbnRdO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY3NwOiBjc3AoKSxcclxuICAgICAgICB0cmFuc2l0aW9uczogdHJhbnNpdGlvbnMsXHJcbiAgICAgICAgYW5pbWF0aW9uczogYW5pbWF0aW9ucyxcclxuICAgICAgICBhbmRyb2lkOiBhbmRyb2lkXHJcbiAgICAgIH07XHJcbiAgICB9XTtcclxuICB9XHJcblxyXG4gIHZhciAkdGVtcGxhdGVSZXF1ZXN0TWluRXJyID0gbWluRXJyKCckY29tcGlsZScpO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvdmlkZXJcclxuICAgKiBAbmFtZSAkdGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXJcclxuICAgKiBAdGhpc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVXNlZCB0byBjb25maWd1cmUgdGhlIG9wdGlvbnMgcGFzc2VkIHRvIHRoZSB7QGxpbmsgJGh0dHB9IHNlcnZpY2Ugd2hlbiBtYWtpbmcgYSB0ZW1wbGF0ZSByZXF1ZXN0LlxyXG4gICAqXHJcbiAgICogRm9yIGV4YW1wbGUsIGl0IGNhbiBiZSB1c2VkIGZvciBzcGVjaWZ5aW5nIHRoZSBcIkFjY2VwdFwiIGhlYWRlciB0aGF0IGlzIHNlbnQgdG8gdGhlIHNlcnZlciwgd2hlblxyXG4gICAqIHJlcXVlc3RpbmcgYSB0ZW1wbGF0ZS5cclxuICAgKi9cclxuICBmdW5jdGlvbiAkVGVtcGxhdGVSZXF1ZXN0UHJvdmlkZXIoKSB7XHJcblxyXG4gICAgdmFyIGh0dHBPcHRpb25zO1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgJHRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyI2h0dHBPcHRpb25zXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFRoZSBvcHRpb25zIHRvIGJlIHBhc3NlZCB0byB0aGUge0BsaW5rICRodHRwfSBzZXJ2aWNlIHdoZW4gbWFraW5nIHRoZSByZXF1ZXN0LlxyXG4gICAgICogWW91IGNhbiB1c2UgdGhpcyB0byBvdmVycmlkZSBvcHRpb25zIHN1Y2ggYXMgdGhlIFwiQWNjZXB0XCIgaGVhZGVyIGZvciB0ZW1wbGF0ZSByZXF1ZXN0cy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUge0BsaW5rICR0ZW1wbGF0ZVJlcXVlc3R9IHdpbGwgc2V0IHRoZSBgY2FjaGVgIGFuZCB0aGUgYHRyYW5zZm9ybVJlc3BvbnNlYCBwcm9wZXJ0aWVzIG9mIHRoZVxyXG4gICAgICogb3B0aW9ucyBpZiBub3Qgb3ZlcnJpZGRlbiBoZXJlLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gdmFsdWUgbmV3IHZhbHVlIGZvciB0aGUge0BsaW5rICRodHRwfSBvcHRpb25zLlxyXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzZWxmfSBSZXR1cm5zIHRoZSB7QGxpbmsgJGh0dHB9IG9wdGlvbnMgd2hlbiB1c2VkIGFzIGdldHRlciBhbmQgc2VsZiBpZiB1c2VkIGFzIHNldHRlci5cclxuICAgICAqL1xyXG4gICAgdGhpcy5odHRwT3B0aW9ucyA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgaWYgKHZhbCkge1xyXG4gICAgICAgIGh0dHBPcHRpb25zID0gdmFsO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBodHRwT3B0aW9ucztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAgICogQG5hbWUgJHRlbXBsYXRlUmVxdWVzdFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogVGhlIGAkdGVtcGxhdGVSZXF1ZXN0YCBzZXJ2aWNlIHJ1bnMgc2VjdXJpdHkgY2hlY2tzIHRoZW4gZG93bmxvYWRzIHRoZSBwcm92aWRlZCB0ZW1wbGF0ZSB1c2luZ1xyXG4gICAgICogYCRodHRwYCBhbmQsIHVwb24gc3VjY2Vzcywgc3RvcmVzIHRoZSBjb250ZW50cyBpbnNpZGUgb2YgYCR0ZW1wbGF0ZUNhY2hlYC4gSWYgdGhlIEhUVFAgcmVxdWVzdFxyXG4gICAgICogZmFpbHMgb3IgdGhlIHJlc3BvbnNlIGRhdGEgb2YgdGhlIEhUVFAgcmVxdWVzdCBpcyBlbXB0eSwgYSBgJGNvbXBpbGVgIGVycm9yIHdpbGwgYmUgdGhyb3duICh0aGVcclxuICAgICAqIGV4Y2VwdGlvbiBjYW4gYmUgdGh3YXJ0ZWQgYnkgc2V0dGluZyB0aGUgMm5kIHBhcmFtZXRlciBvZiB0aGUgZnVuY3Rpb24gdG8gdHJ1ZSkuIE5vdGUgdGhhdCB0aGVcclxuICAgICAqIGNvbnRlbnRzIG9mIGAkdGVtcGxhdGVDYWNoZWAgYXJlIHRydXN0ZWQsIHNvIHRoZSBjYWxsIHRvIGAkc2NlLmdldFRydXN0ZWRVcmwodHBsKWAgaXMgb21pdHRlZFxyXG4gICAgICogd2hlbiBgdHBsYCBpcyBvZiB0eXBlIHN0cmluZyBhbmQgYCR0ZW1wbGF0ZUNhY2hlYCBoYXMgdGhlIG1hdGNoaW5nIGVudHJ5LlxyXG4gICAgICpcclxuICAgICAqIElmIHlvdSB3YW50IHRvIHBhc3MgY3VzdG9tIG9wdGlvbnMgdG8gdGhlIGAkaHR0cGAgc2VydmljZSwgc3VjaCBhcyBzZXR0aW5nIHRoZSBBY2NlcHQgaGVhZGVyIHlvdVxyXG4gICAgICogY2FuIGNvbmZpZ3VyZSB0aGlzIHZpYSB7QGxpbmsgJHRlbXBsYXRlUmVxdWVzdFByb3ZpZGVyI2h0dHBPcHRpb25zfS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ3xUcnVzdGVkUmVzb3VyY2VVcmx9IHRwbCBUaGUgSFRUUCByZXF1ZXN0IHRlbXBsYXRlIFVSTFxyXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gaWdub3JlUmVxdWVzdEVycm9yIFdoZXRoZXIgb3Igbm90IHRvIGlnbm9yZSB0aGUgZXhjZXB0aW9uIHdoZW4gdGhlIHJlcXVlc3QgZmFpbHMgb3IgdGhlIHRlbXBsYXRlIGlzIGVtcHR5XHJcbiAgICAgKlxyXG4gICAgICogQHJldHVybiB7UHJvbWlzZX0gYSBwcm9taXNlIGZvciB0aGUgSFRUUCByZXNwb25zZSBkYXRhIG9mIHRoZSBnaXZlbiBVUkwuXHJcbiAgICAgKlxyXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IHRvdGFsUGVuZGluZ1JlcXVlc3RzIHRvdGFsIGFtb3VudCBvZiBwZW5kaW5nIHRlbXBsYXRlIHJlcXVlc3RzIGJlaW5nIGRvd25sb2FkZWQuXHJcbiAgICAgKi9cclxuICAgIHRoaXMuJGdldCA9IFsnJGV4Y2VwdGlvbkhhbmRsZXInLCAnJHRlbXBsYXRlQ2FjaGUnLCAnJGh0dHAnLCAnJHEnLCAnJHNjZScsIGZ1bmN0aW9uICgkZXhjZXB0aW9uSGFuZGxlciwgJHRlbXBsYXRlQ2FjaGUsICRodHRwLCAkcSwgJHNjZSkge1xyXG5cclxuICAgICAgZnVuY3Rpb24gaGFuZGxlUmVxdWVzdEZuKHRwbCwgaWdub3JlUmVxdWVzdEVycm9yKSB7XHJcbiAgICAgICAgaGFuZGxlUmVxdWVzdEZuLnRvdGFsUGVuZGluZ1JlcXVlc3RzKys7XHJcblxyXG4gICAgICAgIC8vIFdlIGNvbnNpZGVyIHRoZSB0ZW1wbGF0ZSBjYWNoZSBob2xkcyBvbmx5IHRydXN0ZWQgdGVtcGxhdGVzLCBzb1xyXG4gICAgICAgIC8vIHRoZXJlJ3Mgbm8gbmVlZCB0byBnbyB0aHJvdWdoIHdoaXRlbGlzdGluZyBhZ2FpbiBmb3Iga2V5cyB0aGF0IGFscmVhZHlcclxuICAgICAgICAvLyBhcmUgaW5jbHVkZWQgaW4gdGhlcmUuIFRoaXMgYWxzbyBtYWtlcyBBbmd1bGFyIGFjY2VwdCBhbnkgc2NyaXB0XHJcbiAgICAgICAgLy8gZGlyZWN0aXZlLCBubyBtYXR0ZXIgaXRzIG5hbWUuIEhvd2V2ZXIsIHdlIHN0aWxsIG5lZWQgdG8gdW53cmFwIHRydXN0ZWRcclxuICAgICAgICAvLyB0eXBlcy5cclxuICAgICAgICBpZiAoIWlzU3RyaW5nKHRwbCkgfHwgaXNVbmRlZmluZWQoJHRlbXBsYXRlQ2FjaGUuZ2V0KHRwbCkpKSB7XHJcbiAgICAgICAgICB0cGwgPSAkc2NlLmdldFRydXN0ZWRSZXNvdXJjZVVybCh0cGwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRyYW5zZm9ybVJlc3BvbnNlID0gJGh0dHAuZGVmYXVsdHMgJiYgJGh0dHAuZGVmYXVsdHMudHJhbnNmb3JtUmVzcG9uc2U7XHJcblxyXG4gICAgICAgIGlmIChpc0FycmF5KHRyYW5zZm9ybVJlc3BvbnNlKSkge1xyXG4gICAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2UgPSB0cmFuc2Zvcm1SZXNwb25zZS5maWx0ZXIoZnVuY3Rpb24gKHRyYW5zZm9ybWVyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2Zvcm1lciAhPT0gZGVmYXVsdEh0dHBSZXNwb25zZVRyYW5zZm9ybTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHJhbnNmb3JtUmVzcG9uc2UgPT09IGRlZmF1bHRIdHRwUmVzcG9uc2VUcmFuc2Zvcm0pIHtcclxuICAgICAgICAgIHRyYW5zZm9ybVJlc3BvbnNlID0gbnVsbDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiAkaHR0cC5nZXQodHBsLCBleHRlbmQoe1xyXG4gICAgICAgICAgY2FjaGU6ICR0ZW1wbGF0ZUNhY2hlLFxyXG4gICAgICAgICAgdHJhbnNmb3JtUmVzcG9uc2U6IHRyYW5zZm9ybVJlc3BvbnNlXHJcbiAgICAgICAgfSwgaHR0cE9wdGlvbnMpKS5maW5hbGx5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cy0tO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAkdGVtcGxhdGVDYWNoZS5wdXQodHBsLCByZXNwb25zZS5kYXRhKTtcclxuICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG4gICAgICAgIH0sIGhhbmRsZUVycm9yKTtcclxuXHJcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRXJyb3IocmVzcCkge1xyXG4gICAgICAgICAgaWYgKCFpZ25vcmVSZXF1ZXN0RXJyb3IpIHtcclxuICAgICAgICAgICAgcmVzcCA9ICR0ZW1wbGF0ZVJlcXVlc3RNaW5FcnIoJ3RwbG9hZCcsICdGYWlsZWQgdG8gbG9hZCB0ZW1wbGF0ZTogezB9IChIVFRQIHN0YXR1czogezF9IHsyfSknLCB0cGwsIHJlc3Auc3RhdHVzLCByZXNwLnN0YXR1c1RleHQpO1xyXG5cclxuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIocmVzcCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZXNwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGhhbmRsZVJlcXVlc3RGbi50b3RhbFBlbmRpbmdSZXF1ZXN0cyA9IDA7XHJcblxyXG4gICAgICByZXR1cm4gaGFuZGxlUmVxdWVzdEZuO1xyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICAvKiogQHRoaXMgKi9cclxuICBmdW5jdGlvbiAkJFRlc3RhYmlsaXR5UHJvdmlkZXIoKSB7XHJcbiAgICB0aGlzLiRnZXQgPSBbJyRyb290U2NvcGUnLCAnJGJyb3dzZXInLCAnJGxvY2F0aW9uJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICRicm93c2VyLCAkbG9jYXRpb24pIHtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmFtZSAkdGVzdGFiaWxpdHlcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFRoZSBwcml2YXRlICQkdGVzdGFiaWxpdHkgc2VydmljZSBwcm92aWRlcyBhIGNvbGxlY3Rpb24gb2YgbWV0aG9kcyBmb3IgdXNlIHdoZW4gZGVidWdnaW5nXHJcbiAgICAgICAqIG9yIGJ5IGF1dG9tYXRlZCB0ZXN0IGFuZCBkZWJ1Z2dpbmcgdG9vbHMuXHJcbiAgICAgICAqL1xyXG4gICAgICB2YXIgdGVzdGFiaWxpdHkgPSB7fTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRCaW5kaW5nc1xyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBlbGVtZW50cyB0aGF0IGFyZSBib3VuZCAodmlhIG5nLWJpbmQgb3Ige3t9fSlcclxuICAgICAgICogdG8gZXhwcmVzc2lvbnMgbWF0Y2hpbmcgdGhlIGlucHV0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIGJpbmRpbmcgZXhwcmVzc2lvbiB0byBtYXRjaC5cclxuICAgICAgICogQHBhcmFtIHtib29sZWFufSBvcHRfZXhhY3RNYXRjaCBJZiB0cnVlLCBvbmx5IHJldHVybnMgZXhhY3QgbWF0Y2hlc1xyXG4gICAgICAgKiAgICAgZm9yIHRoZSBleHByZXNzaW9uLiBGaWx0ZXJzIGFuZCB3aGl0ZXNwYWNlIGFyZSBpZ25vcmVkLlxyXG4gICAgICAgKi9cclxuICAgICAgdGVzdGFiaWxpdHkuZmluZEJpbmRpbmdzID0gZnVuY3Rpb24gKGVsZW1lbnQsIGV4cHJlc3Npb24sIG9wdF9leGFjdE1hdGNoKSB7XHJcbiAgICAgICAgdmFyIGJpbmRpbmdzID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZy1iaW5kaW5nJyk7XHJcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBbXTtcclxuICAgICAgICBmb3JFYWNoKGJpbmRpbmdzLCBmdW5jdGlvbiAoYmluZGluZykge1xyXG4gICAgICAgICAgdmFyIGRhdGFCaW5kaW5nID0gYW5ndWxhci5lbGVtZW50KGJpbmRpbmcpLmRhdGEoJyRiaW5kaW5nJyk7XHJcbiAgICAgICAgICBpZiAoZGF0YUJpbmRpbmcpIHtcclxuICAgICAgICAgICAgZm9yRWFjaChkYXRhQmluZGluZywgZnVuY3Rpb24gKGJpbmRpbmdOYW1lKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG9wdF9leGFjdE1hdGNoKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoJyhefFxcXFxzKScgKyBlc2NhcGVGb3JSZWdleHAoZXhwcmVzc2lvbikgKyAnKFxcXFxzfFxcXFx8fCQpJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobWF0Y2hlci50ZXN0KGJpbmRpbmdOYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYmluZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChiaW5kaW5nTmFtZS5pbmRleE9mKGV4cHJlc3Npb24pICE9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgICBtYXRjaGVzLnB1c2goYmluZGluZyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gbWF0Y2hlcztcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I2ZpbmRNb2RlbHNcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgZWxlbWVudHMgdGhhdCBhcmUgdHdvLXdheSBmb3VuZCB2aWEgbmctbW9kZWwgdG9cclxuICAgICAgICogZXhwcmVzc2lvbnMgbWF0Y2hpbmcgdGhlIGlucHV0LlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge0VsZW1lbnR9IGVsZW1lbnQgVGhlIGVsZW1lbnQgcm9vdCB0byBzZWFyY2ggZnJvbS5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGV4cHJlc3Npb24gVGhlIG1vZGVsIGV4cHJlc3Npb24gdG8gbWF0Y2guXHJcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gb3B0X2V4YWN0TWF0Y2ggSWYgdHJ1ZSwgb25seSByZXR1cm5zIGV4YWN0IG1hdGNoZXNcclxuICAgICAgICogICAgIGZvciB0aGUgZXhwcmVzc2lvbi5cclxuICAgICAgICovXHJcbiAgICAgIHRlc3RhYmlsaXR5LmZpbmRNb2RlbHMgPSBmdW5jdGlvbiAoZWxlbWVudCwgZXhwcmVzc2lvbiwgb3B0X2V4YWN0TWF0Y2gpIHtcclxuICAgICAgICB2YXIgcHJlZml4ZXMgPSBbJ25nLScsICdkYXRhLW5nLScsICduZ1xcXFw6J107XHJcbiAgICAgICAgZm9yICh2YXIgcCA9IDA7IHAgPCBwcmVmaXhlcy5sZW5ndGg7ICsrcCkge1xyXG4gICAgICAgICAgdmFyIGF0dHJpYnV0ZUVxdWFscyA9IG9wdF9leGFjdE1hdGNoID8gJz0nIDogJyo9JztcclxuICAgICAgICAgIHZhciBzZWxlY3RvciA9ICdbJyArIHByZWZpeGVzW3BdICsgJ21vZGVsJyArIGF0dHJpYnV0ZUVxdWFscyArICdcIicgKyBleHByZXNzaW9uICsgJ1wiXSc7XHJcbiAgICAgICAgICB2YXIgZWxlbWVudHMgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpO1xyXG4gICAgICAgICAgaWYgKGVsZW1lbnRzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudHM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjZ2V0TG9jYXRpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNob3J0Y3V0IGZvciBnZXR0aW5nIHRoZSBsb2NhdGlvbiBpbiBhIGJyb3dzZXIgYWdub3N0aWMgd2F5LiBSZXR1cm5zXHJcbiAgICAgICAqICAgICB0aGUgcGF0aCwgc2VhcmNoLCBhbmQgaGFzaC4gKGUuZy4gL3BhdGg/YT1iI2hhc2gpXHJcbiAgICAgICAqL1xyXG4gICAgICB0ZXN0YWJpbGl0eS5nZXRMb2NhdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gJGxvY2F0aW9uLnVybCgpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuYW1lICQkdGVzdGFiaWxpdHkjc2V0TG9jYXRpb25cclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIFNob3J0Y3V0IGZvciBuYXZpZ2F0aW5nIHRvIGEgbG9jYXRpb24gd2l0aG91dCBkb2luZyBhIGZ1bGwgcGFnZSByZWxvYWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVGhlIGxvY2F0aW9uIHVybCAocGF0aCwgc2VhcmNoIGFuZCBoYXNoLFxyXG4gICAgICAgKiAgICAgZS5nLiAvcGF0aD9hPWIjaGFzaCkgdG8gZ28gdG8uXHJcbiAgICAgICAqL1xyXG4gICAgICB0ZXN0YWJpbGl0eS5zZXRMb2NhdGlvbiA9IGZ1bmN0aW9uICh1cmwpIHtcclxuICAgICAgICBpZiAodXJsICE9PSAkbG9jYXRpb24udXJsKCkpIHtcclxuICAgICAgICAgICRsb2NhdGlvbi51cmwodXJsKTtcclxuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmFtZSAkJHRlc3RhYmlsaXR5I3doZW5TdGFibGVcclxuICAgICAgICpcclxuICAgICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgICAqIENhbGxzIHRoZSBjYWxsYmFjayB3aGVuICR0aW1lb3V0IGFuZCAkaHR0cCByZXF1ZXN0cyBhcmUgY29tcGxldGVkLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAgICAgKi9cclxuICAgICAgdGVzdGFiaWxpdHkud2hlblN0YWJsZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgICRicm93c2VyLm5vdGlmeVdoZW5Ob091dHN0YW5kaW5nUmVxdWVzdHMoY2FsbGJhY2spO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgcmV0dXJuIHRlc3RhYmlsaXR5O1xyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICAvKiogQHRoaXMgKi9cclxuICBmdW5jdGlvbiAkVGltZW91dFByb3ZpZGVyKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gWyckcm9vdFNjb3BlJywgJyRicm93c2VyJywgJyRxJywgJyQkcScsICckZXhjZXB0aW9uSGFuZGxlcicsIGZ1bmN0aW9uICgkcm9vdFNjb3BlLCAkYnJvd3NlciwgJHEsICQkcSwgJGV4Y2VwdGlvbkhhbmRsZXIpIHtcclxuXHJcbiAgICAgIHZhciBkZWZlcnJlZHMgPSB7fTtcclxuXHJcbiAgICAgIC8qKlxyXG4gICAgICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAgICAgKiBAbmFtZSAkdGltZW91dFxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAgICogQW5ndWxhcidzIHdyYXBwZXIgZm9yIGB3aW5kb3cuc2V0VGltZW91dGAuIFRoZSBgZm5gIGZ1bmN0aW9uIGlzIHdyYXBwZWQgaW50byBhIHRyeS9jYXRjaFxyXG4gICAgICAgKiBibG9jayBhbmQgZGVsZWdhdGVzIGFueSBleGNlcHRpb25zIHRvXHJcbiAgICAgICAqIHtAbGluayBuZy4kZXhjZXB0aW9uSGFuZGxlciAkZXhjZXB0aW9uSGFuZGxlcn0gc2VydmljZS5cclxuICAgICAgICpcclxuICAgICAgICogVGhlIHJldHVybiB2YWx1ZSBvZiBjYWxsaW5nIGAkdGltZW91dGAgaXMgYSBwcm9taXNlLCB3aGljaCB3aWxsIGJlIHJlc29sdmVkIHdoZW5cclxuICAgICAgICogdGhlIGRlbGF5IGhhcyBwYXNzZWQgYW5kIHRoZSB0aW1lb3V0IGZ1bmN0aW9uLCBpZiBwcm92aWRlZCwgaXMgZXhlY3V0ZWQuXHJcbiAgICAgICAqXHJcbiAgICAgICAqIFRvIGNhbmNlbCBhIHRpbWVvdXQgcmVxdWVzdCwgY2FsbCBgJHRpbWVvdXQuY2FuY2VsKHByb21pc2UpYC5cclxuICAgICAgICpcclxuICAgICAgICogSW4gdGVzdHMgeW91IGNhbiB1c2Uge0BsaW5rIG5nTW9jay4kdGltZW91dCBgJHRpbWVvdXQuZmx1c2goKWB9IHRvXHJcbiAgICAgICAqIHN5bmNocm9ub3VzbHkgZmx1c2ggdGhlIHF1ZXVlIG9mIGRlZmVycmVkIGZ1bmN0aW9ucy5cclxuICAgICAgICpcclxuICAgICAgICogSWYgeW91IG9ubHkgd2FudCBhIHByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIGFmdGVyIHNvbWUgc3BlY2lmaWVkIGRlbGF5XHJcbiAgICAgICAqIHRoZW4geW91IGNhbiBjYWxsIGAkdGltZW91dGAgd2l0aG91dCB0aGUgYGZuYCBmdW5jdGlvbi5cclxuICAgICAgICpcclxuICAgICAgICogQHBhcmFtIHtmdW5jdGlvbigpPX0gZm4gQSBmdW5jdGlvbiwgd2hvc2UgZXhlY3V0aW9uIHNob3VsZCBiZSBkZWxheWVkLlxyXG4gICAgICAgKiBAcGFyYW0ge251bWJlcj19IFtkZWxheT0wXSBEZWxheSBpbiBtaWxsaXNlY29uZHMuXHJcbiAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtpbnZva2VBcHBseT10cnVlXSBJZiBzZXQgdG8gYGZhbHNlYCBza2lwcyBtb2RlbCBkaXJ0eSBjaGVja2luZywgb3RoZXJ3aXNlXHJcbiAgICAgICAqICAgd2lsbCBpbnZva2UgYGZuYCB3aXRoaW4gdGhlIHtAbGluayBuZy4kcm9vdFNjb3BlLlNjb3BlIyRhcHBseSAkYXBwbHl9IGJsb2NrLlxyXG4gICAgICAgKiBAcGFyYW0gey4uLio9fSBQYXNzIGFkZGl0aW9uYWwgcGFyYW1ldGVycyB0byB0aGUgZXhlY3V0ZWQgZnVuY3Rpb24uXHJcbiAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlfSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSB0aW1lb3V0IGlzIHJlYWNoZWQuIFRoZSBwcm9taXNlXHJcbiAgICAgICAqICAgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGBmbmAgZnVuY3Rpb24uXHJcbiAgICAgICAqXHJcbiAgICAgICAqL1xyXG4gICAgICBmdW5jdGlvbiB0aW1lb3V0KGZuLCBkZWxheSwgaW52b2tlQXBwbHkpIHtcclxuICAgICAgICBpZiAoIWlzRnVuY3Rpb24oZm4pKSB7XHJcbiAgICAgICAgICBpbnZva2VBcHBseSA9IGRlbGF5O1xyXG4gICAgICAgICAgZGVsYXkgPSBmbjtcclxuICAgICAgICAgIGZuID0gbm9vcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHZhciBhcmdzID0gc2xpY2VBcmdzKGFyZ3VtZW50cywgMyksXHJcbiAgICAgICAgICAgIHNraXBBcHBseSA9IGlzRGVmaW5lZChpbnZva2VBcHBseSkgJiYgIWludm9rZUFwcGx5LFxyXG4gICAgICAgICAgICBkZWZlcnJlZCA9IChza2lwQXBwbHkgPyAkJHEgOiAkcSkuZGVmZXIoKSxcclxuICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2UsXHJcbiAgICAgICAgICAgIHRpbWVvdXRJZDtcclxuXHJcbiAgICAgICAgdGltZW91dElkID0gJGJyb3dzZXIuZGVmZXIoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmbi5hcHBseShudWxsLCBhcmdzKSk7XHJcbiAgICAgICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIGRlZmVycmVkLnJlamVjdChlKTtcclxuICAgICAgICAgICAgJGV4Y2VwdGlvbkhhbmRsZXIoZSk7XHJcbiAgICAgICAgICB9IGZpbmFsbHkge1xyXG4gICAgICAgICAgICBkZWxldGUgZGVmZXJyZWRzW3Byb21pc2UuJCR0aW1lb3V0SWRdO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGlmICghc2tpcEFwcGx5KSAkcm9vdFNjb3BlLiRhcHBseSgpO1xyXG4gICAgICAgIH0sIGRlbGF5KTtcclxuXHJcbiAgICAgICAgcHJvbWlzZS4kJHRpbWVvdXRJZCA9IHRpbWVvdXRJZDtcclxuICAgICAgICBkZWZlcnJlZHNbdGltZW91dElkXSA9IGRlZmVycmVkO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJvbWlzZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLyoqXHJcbiAgICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAgICogQG5hbWUgJHRpbWVvdXQjY2FuY2VsXHJcbiAgICAgICAqXHJcbiAgICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICAgKiBDYW5jZWxzIGEgdGFzayBhc3NvY2lhdGVkIHdpdGggdGhlIGBwcm9taXNlYC4gQXMgYSByZXN1bHQgb2YgdGhpcywgdGhlIHByb21pc2Ugd2lsbCBiZVxyXG4gICAgICAgKiByZXNvbHZlZCB3aXRoIGEgcmVqZWN0aW9uLlxyXG4gICAgICAgKlxyXG4gICAgICAgKiBAcGFyYW0ge1Byb21pc2U9fSBwcm9taXNlIFByb21pc2UgcmV0dXJuZWQgYnkgdGhlIGAkdGltZW91dGAgZnVuY3Rpb24uXHJcbiAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdGFzayBoYXNuJ3QgZXhlY3V0ZWQgeWV0IGFuZCB3YXMgc3VjY2Vzc2Z1bGx5XHJcbiAgICAgICAqICAgY2FuY2VsZWQuXHJcbiAgICAgICAqL1xyXG4gICAgICB0aW1lb3V0LmNhbmNlbCA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XHJcbiAgICAgICAgaWYgKHByb21pc2UgJiYgcHJvbWlzZS4kJHRpbWVvdXRJZCBpbiBkZWZlcnJlZHMpIHtcclxuICAgICAgICAgIC8vIFRpbWVvdXQgY2FuY2VscyBzaG91bGQgbm90IHJlcG9ydCBhbiB1bmhhbmRsZWQgcHJvbWlzZS5cclxuICAgICAgICAgIG1hcmtRRXhjZXB0aW9uSGFuZGxlZChkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF0ucHJvbWlzZSk7XHJcbiAgICAgICAgICBkZWZlcnJlZHNbcHJvbWlzZS4kJHRpbWVvdXRJZF0ucmVqZWN0KCdjYW5jZWxlZCcpO1xyXG4gICAgICAgICAgZGVsZXRlIGRlZmVycmVkc1twcm9taXNlLiQkdGltZW91dElkXTtcclxuICAgICAgICAgIHJldHVybiAkYnJvd3Nlci5kZWZlci5jYW5jZWwocHJvbWlzZS4kJHRpbWVvdXRJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiB0aW1lb3V0O1xyXG4gICAgfV07XHJcbiAgfVxyXG5cclxuICAvLyBOT1RFOiAgVGhlIHVzYWdlIG9mIHdpbmRvdyBhbmQgZG9jdW1lbnQgaW5zdGVhZCBvZiAkd2luZG93IGFuZCAkZG9jdW1lbnQgaGVyZSBpc1xyXG4gIC8vIGRlbGliZXJhdGUuICBUaGlzIHNlcnZpY2UgZGVwZW5kcyBvbiB0aGUgc3BlY2lmaWMgYmVoYXZpb3Igb2YgYW5jaG9yIG5vZGVzIGNyZWF0ZWQgYnkgdGhlXHJcbiAgLy8gYnJvd3NlciAocmVzb2x2aW5nIGFuZCBwYXJzaW5nIFVSTHMpIHRoYXQgaXMgdW5saWtlbHkgdG8gYmUgcHJvdmlkZWQgYnkgbW9jayBvYmplY3RzIGFuZFxyXG4gIC8vIGNhdXNlIHVzIHRvIGJyZWFrIHRlc3RzLiAgSW4gYWRkaXRpb24sIHdoZW4gdGhlIGJyb3dzZXIgcmVzb2x2ZXMgYSBVUkwgZm9yIFhIUiwgaXRcclxuICAvLyBkb2Vzbid0IGtub3cgYWJvdXQgbW9ja2VkIGxvY2F0aW9ucyBhbmQgcmVzb2x2ZXMgVVJMcyB0byB0aGUgcmVhbCBkb2N1bWVudCAtIHdoaWNoIGlzXHJcbiAgLy8gZXhhY3RseSB0aGUgYmVoYXZpb3IgbmVlZGVkIGhlcmUuICBUaGVyZSBpcyBsaXR0bGUgdmFsdWUgaXMgbW9ja2luZyB0aGVzZSBvdXQgZm9yIHRoaXNcclxuICAvLyBzZXJ2aWNlLlxyXG4gIHZhciB1cmxQYXJzaW5nTm9kZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgdmFyIG9yaWdpblVybCA9IHVybFJlc29sdmUod2luZG93LmxvY2F0aW9uLmhyZWYpO1xyXG5cclxuICAvKipcclxuICAgKlxyXG4gICAqIEltcGxlbWVudGF0aW9uIE5vdGVzIGZvciBub24tSUUgYnJvd3NlcnNcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICogQXNzaWduaW5nIGEgVVJMIHRvIHRoZSBocmVmIHByb3BlcnR5IG9mIGFuIGFuY2hvciBET00gbm9kZSwgZXZlbiBvbmUgYXR0YWNoZWQgdG8gdGhlIERPTSxcclxuICAgKiByZXN1bHRzIGJvdGggaW4gdGhlIG5vcm1hbGl6aW5nIGFuZCBwYXJzaW5nIG9mIHRoZSBVUkwuICBOb3JtYWxpemluZyBtZWFucyB0aGF0IGEgcmVsYXRpdmVcclxuICAgKiBVUkwgd2lsbCBiZSByZXNvbHZlZCBpbnRvIGFuIGFic29sdXRlIFVSTCBpbiB0aGUgY29udGV4dCBvZiB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXHJcbiAgICogUGFyc2luZyBtZWFucyB0aGF0IHRoZSBhbmNob3Igbm9kZSdzIGhvc3QsIGhvc3RuYW1lLCBwcm90b2NvbCwgcG9ydCwgcGF0aG5hbWUgYW5kIHJlbGF0ZWRcclxuICAgKiBwcm9wZXJ0aWVzIGFyZSBhbGwgcG9wdWxhdGVkIHRvIHJlZmxlY3QgdGhlIG5vcm1hbGl6ZWQgVVJMLiAgVGhpcyBhcHByb2FjaCBoYXMgd2lkZVxyXG4gICAqIGNvbXBhdGliaWxpdHkgLSBTYWZhcmkgMSssIE1vemlsbGEgMSsgZXRjLiAgU2VlXHJcbiAgICogaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXHJcbiAgICpcclxuICAgKiBJbXBsZW1lbnRhdGlvbiBOb3RlcyBmb3IgSUVcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgKiBJRSA8PSAxMCBub3JtYWxpemVzIHRoZSBVUkwgd2hlbiBhc3NpZ25lZCB0byB0aGUgYW5jaG9yIG5vZGUgc2ltaWxhciB0byB0aGUgb3RoZXJcclxuICAgKiBicm93c2Vycy4gIEhvd2V2ZXIsIHRoZSBwYXJzZWQgY29tcG9uZW50cyB3aWxsIG5vdCBiZSBzZXQgaWYgdGhlIFVSTCBhc3NpZ25lZCBkaWQgbm90IHNwZWNpZnlcclxuICAgKiB0aGVtLiAgKGUuZy4gaWYgeW91IGFzc2lnbiBhLmhyZWYgPSBcImZvb1wiLCB0aGVuIGEucHJvdG9jb2wsIGEuaG9zdCwgZXRjLiB3aWxsIGJlIGVtcHR5LikgIFdlXHJcbiAgICogd29yayBhcm91bmQgdGhhdCBieSBwZXJmb3JtaW5nIHRoZSBwYXJzaW5nIGluIGEgMm5kIHN0ZXAgYnkgdGFraW5nIGEgcHJldmlvdXNseSBub3JtYWxpemVkXHJcbiAgICogVVJMIChlLmcuIGJ5IGFzc2lnbmluZyB0byBhLmhyZWYpIGFuZCBhc3NpZ25pbmcgaXQgYS5ocmVmIGFnYWluLiAgVGhpcyBjb3JyZWN0bHkgcG9wdWxhdGVzIHRoZVxyXG4gICAqIHByb3BlcnRpZXMgc3VjaCBhcyBwcm90b2NvbCwgaG9zdG5hbWUsIHBvcnQsIGV0Yy5cclxuICAgKlxyXG4gICAqIFJlZmVyZW5jZXM6XHJcbiAgICogICBodHRwOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MQW5jaG9yRWxlbWVudFxyXG4gICAqICAgaHR0cDovL3d3dy5hcHRhbmEuY29tL3JlZmVyZW5jZS9odG1sL2FwaS9IVE1MQW5jaG9yRWxlbWVudC5odG1sXHJcbiAgICogICBodHRwOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsdXRpbHNcclxuICAgKiAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvcHVsbC8yOTAyXHJcbiAgICogICBodHRwOi8vamFtZXMucGFkb2xzZXkuY29tL2phdmFzY3JpcHQvcGFyc2luZy11cmxzLXdpdGgtdGhlLWRvbS9cclxuICAgKlxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZC5cclxuICAgKiBAZGVzY3JpcHRpb24gTm9ybWFsaXplcyBhbmQgcGFyc2VzIGEgVVJMLlxyXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IFJldHVybnMgdGhlIG5vcm1hbGl6ZWQgVVJMIGFzIGEgZGljdGlvbmFyeS5cclxuICAgKlxyXG4gICAqICAgfCBtZW1iZXIgbmFtZSAgIHwgRGVzY3JpcHRpb24gICAgfFxyXG4gICAqICAgfC0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tfFxyXG4gICAqICAgfCBocmVmICAgICAgICAgIHwgQSBub3JtYWxpemVkIHZlcnNpb24gb2YgdGhlIHByb3ZpZGVkIFVSTCBpZiBpdCB3YXMgbm90IGFuIGFic29sdXRlIFVSTCB8XHJcbiAgICogICB8IHByb3RvY29sICAgICAgfCBUaGUgcHJvdG9jb2wgaW5jbHVkaW5nIHRoZSB0cmFpbGluZyBjb2xvbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgKiAgIHwgaG9zdCAgICAgICAgICB8IFRoZSBob3N0IGFuZCBwb3J0IChpZiB0aGUgcG9ydCBpcyBub24tZGVmYXVsdCkgb2YgdGhlIG5vcm1hbGl6ZWRVcmwgICAgfFxyXG4gICAqICAgfCBzZWFyY2ggICAgICAgIHwgVGhlIHNlYXJjaCBwYXJhbXMsIG1pbnVzIHRoZSBxdWVzdGlvbiBtYXJrICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICogICB8IGhhc2ggICAgICAgICAgfCBUaGUgaGFzaCBzdHJpbmcsIG1pbnVzIHRoZSBoYXNoIHN5bWJvbFxyXG4gICAqICAgfCBob3N0bmFtZSAgICAgIHwgVGhlIGhvc3RuYW1lXHJcbiAgICogICB8IHBvcnQgICAgICAgICAgfCBUaGUgcG9ydCwgd2l0aG91dCBcIjpcIlxyXG4gICAqICAgfCBwYXRobmFtZSAgICAgIHwgVGhlIHBhdGhuYW1lLCBiZWdpbm5pbmcgd2l0aCBcIi9cIlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gdXJsUmVzb2x2ZSh1cmwpIHtcclxuICAgIHZhciBocmVmID0gdXJsO1xyXG5cclxuICAgIC8vIFN1cHBvcnQ6IElFIDktMTEgb25seVxyXG4gICAgaWYgKG1zaWUpIHtcclxuICAgICAgLy8gTm9ybWFsaXplIGJlZm9yZSBwYXJzZS4gIFJlZmVyIEltcGxlbWVudGF0aW9uIE5vdGVzIG9uIHdoeSB0aGlzIGlzXHJcbiAgICAgIC8vIGRvbmUgaW4gdHdvIHN0ZXBzIG9uIElFLlxyXG4gICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcclxuICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XHJcbiAgICB9XHJcblxyXG4gICAgdXJsUGFyc2luZ05vZGUuc2V0QXR0cmlidXRlKCdocmVmJywgaHJlZik7XHJcblxyXG4gICAgLy8gdXJsUGFyc2luZ05vZGUgcHJvdmlkZXMgdGhlIFVybFV0aWxzIGludGVyZmFjZSAtIGh0dHA6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmx1dGlsc1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgaHJlZjogdXJsUGFyc2luZ05vZGUuaHJlZixcclxuICAgICAgcHJvdG9jb2w6IHVybFBhcnNpbmdOb2RlLnByb3RvY29sID8gdXJsUGFyc2luZ05vZGUucHJvdG9jb2wucmVwbGFjZSgvOiQvLCAnJykgOiAnJyxcclxuICAgICAgaG9zdDogdXJsUGFyc2luZ05vZGUuaG9zdCxcclxuICAgICAgc2VhcmNoOiB1cmxQYXJzaW5nTm9kZS5zZWFyY2ggPyB1cmxQYXJzaW5nTm9kZS5zZWFyY2gucmVwbGFjZSgvXlxcPy8sICcnKSA6ICcnLFxyXG4gICAgICBoYXNoOiB1cmxQYXJzaW5nTm9kZS5oYXNoID8gdXJsUGFyc2luZ05vZGUuaGFzaC5yZXBsYWNlKC9eIy8sICcnKSA6ICcnLFxyXG4gICAgICBob3N0bmFtZTogdXJsUGFyc2luZ05vZGUuaG9zdG5hbWUsXHJcbiAgICAgIHBvcnQ6IHVybFBhcnNpbmdOb2RlLnBvcnQsXHJcbiAgICAgIHBhdGhuYW1lOiB1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyA/IHVybFBhcnNpbmdOb2RlLnBhdGhuYW1lIDogJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQYXJzZSBhIHJlcXVlc3QgVVJMIGFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGlzIGlzIGEgc2FtZS1vcmlnaW4gcmVxdWVzdCBhcyB0aGUgYXBwbGljYXRpb24gZG9jdW1lbnQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ3xvYmplY3R9IHJlcXVlc3RVcmwgVGhlIHVybCBvZiB0aGUgcmVxdWVzdCBhcyBhIHN0cmluZyB0aGF0IHdpbGwgYmUgcmVzb2x2ZWRcclxuICAgKiBvciBhIHBhcnNlZCBVUkwgb2JqZWN0LlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBXaGV0aGVyIHRoZSByZXF1ZXN0IGlzIGZvciB0aGUgc2FtZSBvcmlnaW4gYXMgdGhlIGFwcGxpY2F0aW9uIGRvY3VtZW50LlxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIHVybElzU2FtZU9yaWdpbihyZXF1ZXN0VXJsKSB7XHJcbiAgICB2YXIgcGFyc2VkID0gaXNTdHJpbmcocmVxdWVzdFVybCkgPyB1cmxSZXNvbHZlKHJlcXVlc3RVcmwpIDogcmVxdWVzdFVybDtcclxuICAgIHJldHVybiBwYXJzZWQucHJvdG9jb2wgPT09IG9yaWdpblVybC5wcm90b2NvbCAmJiBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVXJsLmhvc3Q7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICR3aW5kb3dcclxuICAgKiBAdGhpc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQSByZWZlcmVuY2UgdG8gdGhlIGJyb3dzZXIncyBgd2luZG93YCBvYmplY3QuIFdoaWxlIGB3aW5kb3dgXHJcbiAgICogaXMgZ2xvYmFsbHkgYXZhaWxhYmxlIGluIEphdmFTY3JpcHQsIGl0IGNhdXNlcyB0ZXN0YWJpbGl0eSBwcm9ibGVtcywgYmVjYXVzZVxyXG4gICAqIGl0IGlzIGEgZ2xvYmFsIHZhcmlhYmxlLiBJbiBhbmd1bGFyIHdlIGFsd2F5cyByZWZlciB0byBpdCB0aHJvdWdoIHRoZVxyXG4gICAqIGAkd2luZG93YCBzZXJ2aWNlLCBzbyBpdCBtYXkgYmUgb3ZlcnJpZGRlbiwgcmVtb3ZlZCBvciBtb2NrZWQgZm9yIHRlc3RpbmcuXHJcbiAgICpcclxuICAgKiBFeHByZXNzaW9ucywgbGlrZSB0aGUgb25lIGRlZmluZWQgZm9yIHRoZSBgbmdDbGlja2AgZGlyZWN0aXZlIGluIHRoZSBleGFtcGxlXHJcbiAgICogYmVsb3csIGFyZSBldmFsdWF0ZWQgd2l0aCByZXNwZWN0IHRvIHRoZSBjdXJyZW50IHNjb3BlLiAgVGhlcmVmb3JlLCB0aGVyZSBpc1xyXG4gICAqIG5vIHJpc2sgb2YgaW5hZHZlcnRlbnRseSBjb2RpbmcgaW4gYSBkZXBlbmRlbmN5IG9uIGEgZ2xvYmFsIHZhbHVlIGluIHN1Y2ggYW5cclxuICAgKiBleHByZXNzaW9uLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBtb2R1bGU9XCJ3aW5kb3dFeGFtcGxlXCIgbmFtZT1cIndpbmRvdy1zZXJ2aWNlXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd3aW5kb3dFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICckd2luZG93JywgZnVuY3Rpb24oJHNjb3BlLCAkd2luZG93KSB7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5ncmVldGluZyA9ICdIZWxsbywgV29ybGQhJztcclxuICAgICAgICAgICAgICAgJHNjb3BlLmRvR3JlZXRpbmcgPSBmdW5jdGlvbihncmVldGluZykge1xyXG4gICAgICAgICAgICAgICAgICR3aW5kb3cuYWxlcnQoZ3JlZXRpbmcpO1xyXG4gICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImdyZWV0aW5nXCIgYXJpYS1sYWJlbD1cImdyZWV0aW5nXCIgLz5cclxuICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZG9HcmVldGluZyhncmVldGluZylcIj5BTEVSVDwvYnV0dG9uPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICBpdCgnc2hvdWxkIGRpc3BsYXkgdGhlIGdyZWV0aW5nIGluIHRoZSBpbnB1dCBib3gnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnZ3JlZXRpbmcnKSkuc2VuZEtleXMoJ0hlbGxvLCBFMkUgVGVzdHMnKTtcclxuICAgICAgICAgLy8gSWYgd2UgY2xpY2sgdGhlIGJ1dHRvbiBpdCB3aWxsIGJsb2NrIHRoZSB0ZXN0IHJ1bm5lclxyXG4gICAgICAgICAvLyBlbGVtZW50KCc6YnV0dG9uJykuY2xpY2soKTtcclxuICAgICAgICB9KTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgZnVuY3Rpb24gJFdpbmRvd1Byb3ZpZGVyKCkge1xyXG4gICAgdGhpcy4kZ2V0ID0gdmFsdWVGbih3aW5kb3cpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5hbWUgJCRjb29raWVSZWFkZXJcclxuICAgKiBAcmVxdWlyZXMgJGRvY3VtZW50XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGlzIGEgcHJpdmF0ZSBzZXJ2aWNlIGZvciByZWFkaW5nIGNvb2tpZXMgdXNlZCBieSAkaHR0cCBhbmQgbmdDb29raWVzXHJcbiAgICpcclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGEga2V5L3ZhbHVlIG1hcCBvZiB0aGUgY3VycmVudCBjb29raWVzXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gJCRDb29raWVSZWFkZXIoJGRvY3VtZW50KSB7XHJcbiAgICB2YXIgcmF3RG9jdW1lbnQgPSAkZG9jdW1lbnRbMF0gfHwge307XHJcbiAgICB2YXIgbGFzdENvb2tpZXMgPSB7fTtcclxuICAgIHZhciBsYXN0Q29va2llU3RyaW5nID0gJyc7XHJcblxyXG4gICAgZnVuY3Rpb24gc2FmZUdldENvb2tpZShyYXdEb2N1bWVudCkge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiByYXdEb2N1bWVudC5jb29raWUgfHwgJyc7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KHN0cikge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICB2YXIgY29va2llQXJyYXksIGNvb2tpZSwgaSwgaW5kZXgsIG5hbWU7XHJcbiAgICAgIHZhciBjdXJyZW50Q29va2llU3RyaW5nID0gc2FmZUdldENvb2tpZShyYXdEb2N1bWVudCk7XHJcblxyXG4gICAgICBpZiAoY3VycmVudENvb2tpZVN0cmluZyAhPT0gbGFzdENvb2tpZVN0cmluZykge1xyXG4gICAgICAgIGxhc3RDb29raWVTdHJpbmcgPSBjdXJyZW50Q29va2llU3RyaW5nO1xyXG4gICAgICAgIGNvb2tpZUFycmF5ID0gbGFzdENvb2tpZVN0cmluZy5zcGxpdCgnOyAnKTtcclxuICAgICAgICBsYXN0Q29va2llcyA9IHt9O1xyXG5cclxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29va2llQXJyYXkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGNvb2tpZSA9IGNvb2tpZUFycmF5W2ldO1xyXG4gICAgICAgICAgaW5kZXggPSBjb29raWUuaW5kZXhPZignPScpO1xyXG4gICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xyXG4gICAgICAgICAgICAvL2lnbm9yZSBuYW1lbGVzcyBjb29raWVzXHJcbiAgICAgICAgICAgIG5hbWUgPSBzYWZlRGVjb2RlVVJJQ29tcG9uZW50KGNvb2tpZS5zdWJzdHJpbmcoMCwgaW5kZXgpKTtcclxuICAgICAgICAgICAgLy8gdGhlIGZpcnN0IHZhbHVlIHRoYXQgaXMgc2VlbiBmb3IgYSBjb29raWUgaXMgdGhlIG1vc3RcclxuICAgICAgICAgICAgLy8gc3BlY2lmaWMgb25lLiAgdmFsdWVzIGZvciB0aGUgc2FtZSBjb29raWUgbmFtZSB0aGF0XHJcbiAgICAgICAgICAgIC8vIGZvbGxvdyBhcmUgZm9yIGxlc3Mgc3BlY2lmaWMgcGF0aHMuXHJcbiAgICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChsYXN0Q29va2llc1tuYW1lXSkpIHtcclxuICAgICAgICAgICAgICBsYXN0Q29va2llc1tuYW1lXSA9IHNhZmVEZWNvZGVVUklDb21wb25lbnQoY29va2llLnN1YnN0cmluZyhpbmRleCArIDEpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbGFzdENvb2tpZXM7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgJCRDb29raWVSZWFkZXIuJGluamVjdCA9IFsnJGRvY3VtZW50J107XHJcblxyXG4gIC8qKiBAdGhpcyAqL1xyXG4gIGZ1bmN0aW9uICQkQ29va2llUmVhZGVyUHJvdmlkZXIoKSB7XHJcbiAgICB0aGlzLiRnZXQgPSAkJENvb2tpZVJlYWRlcjtcclxuICB9XHJcblxyXG4gIC8qIGdsb2JhbCBjdXJyZW5jeUZpbHRlcjogdHJ1ZSxcclxuICAgZGF0ZUZpbHRlcjogdHJ1ZSxcclxuICAgZmlsdGVyRmlsdGVyOiB0cnVlLFxyXG4gICBqc29uRmlsdGVyOiB0cnVlLFxyXG4gICBsaW1pdFRvRmlsdGVyOiB0cnVlLFxyXG4gICBsb3dlcmNhc2VGaWx0ZXI6IHRydWUsXHJcbiAgIG51bWJlckZpbHRlcjogdHJ1ZSxcclxuICAgb3JkZXJCeUZpbHRlcjogdHJ1ZSxcclxuICAgdXBwZXJjYXNlRmlsdGVyOiB0cnVlLFxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgcHJvdmlkZXJcclxuICAgKiBAbmFtZSAkZmlsdGVyUHJvdmlkZXJcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIEZpbHRlcnMgYXJlIGp1c3QgZnVuY3Rpb25zIHdoaWNoIHRyYW5zZm9ybSBpbnB1dCB0byBhbiBvdXRwdXQuIEhvd2V2ZXIgZmlsdGVycyBuZWVkIHRvIGJlXHJcbiAgICogRGVwZW5kZW5jeSBJbmplY3RlZC4gVG8gYWNoaWV2ZSB0aGlzIGEgZmlsdGVyIGRlZmluaXRpb24gY29uc2lzdHMgb2YgYSBmYWN0b3J5IGZ1bmN0aW9uIHdoaWNoIGlzXHJcbiAgICogYW5ub3RhdGVkIHdpdGggZGVwZW5kZW5jaWVzIGFuZCBpcyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgYSBmaWx0ZXIgZnVuY3Rpb24uXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXHJcbiAgICogTmFtZXMgd2l0aCBzcGVjaWFsIGNoYXJhY3RlcnMsIHN1Y2ggYXMgaHlwaGVucyBhbmQgZG90cywgYXJlIG5vdCBhbGxvd2VkLiBJZiB5b3Ugd2lzaCB0byBuYW1lc3BhY2VcclxuICAgKiB5b3VyIGZpbHRlcnMsIHRoZW4geW91IGNhbiB1c2UgY2FwaXRhbGl6YXRpb24gKGBteWFwcFN1YnNlY3Rpb25GaWx0ZXJ4YCkgb3IgdW5kZXJzY29yZXNcclxuICAgKiAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiAgIC8vIEZpbHRlciByZWdpc3RyYXRpb25cclxuICAgKiAgIGZ1bmN0aW9uIE15TW9kdWxlKCRwcm92aWRlLCAkZmlsdGVyUHJvdmlkZXIpIHtcclxuICAgKiAgICAgLy8gY3JlYXRlIGEgc2VydmljZSB0byBkZW1vbnN0cmF0ZSBpbmplY3Rpb24gKG5vdCBhbHdheXMgbmVlZGVkKVxyXG4gICAqICAgICAkcHJvdmlkZS52YWx1ZSgnZ3JlZXQnLCBmdW5jdGlvbihuYW1lKXtcclxuICAgKiAgICAgICByZXR1cm4gJ0hlbGxvICcgKyBuYW1lICsgJyEnO1xyXG4gICAqICAgICB9KTtcclxuICAgKlxyXG4gICAqICAgICAvLyByZWdpc3RlciBhIGZpbHRlciBmYWN0b3J5IHdoaWNoIHVzZXMgdGhlXHJcbiAgICogICAgIC8vIGdyZWV0IHNlcnZpY2UgdG8gZGVtb25zdHJhdGUgREkuXHJcbiAgICogICAgICRmaWx0ZXJQcm92aWRlci5yZWdpc3RlcignZ3JlZXQnLCBmdW5jdGlvbihncmVldCl7XHJcbiAgICogICAgICAgLy8gcmV0dXJuIHRoZSBmaWx0ZXIgZnVuY3Rpb24gd2hpY2ggdXNlcyB0aGUgZ3JlZXQgc2VydmljZVxyXG4gICAqICAgICAgIC8vIHRvIGdlbmVyYXRlIHNhbHV0YXRpb25cclxuICAgKiAgICAgICByZXR1cm4gZnVuY3Rpb24odGV4dCkge1xyXG4gICAqICAgICAgICAgLy8gZmlsdGVycyBuZWVkIHRvIGJlIGZvcmdpdmluZyBzbyBjaGVjayBpbnB1dCB2YWxpZGl0eVxyXG4gICAqICAgICAgICAgcmV0dXJuIHRleHQgJiYgZ3JlZXQodGV4dCkgfHwgdGV4dDtcclxuICAgKiAgICAgICB9O1xyXG4gICAqICAgICB9KTtcclxuICAgKiAgIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIFRoZSBmaWx0ZXIgZnVuY3Rpb24gaXMgcmVnaXN0ZXJlZCB3aXRoIHRoZSBgJGluamVjdG9yYCB1bmRlciB0aGUgZmlsdGVyIG5hbWUgc3VmZml4IHdpdGhcclxuICAgKiBgRmlsdGVyYC5cclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogICBpdCgnc2hvdWxkIGJlIHRoZSBzYW1lIGluc3RhbmNlJywgaW5qZWN0KFxyXG4gICAqICAgICBmdW5jdGlvbigkZmlsdGVyUHJvdmlkZXIpIHtcclxuICAgKiAgICAgICAkZmlsdGVyUHJvdmlkZXIucmVnaXN0ZXIoJ3JldmVyc2UnLCBmdW5jdGlvbigpe1xyXG4gICAqICAgICAgICAgcmV0dXJuIC4uLjtcclxuICAgKiAgICAgICB9KTtcclxuICAgKiAgICAgfSxcclxuICAgKiAgICAgZnVuY3Rpb24oJGZpbHRlciwgcmV2ZXJzZUZpbHRlcikge1xyXG4gICAqICAgICAgIGV4cGVjdCgkZmlsdGVyKCdyZXZlcnNlJykpLnRvQmUocmV2ZXJzZUZpbHRlcik7XHJcbiAgICogICAgIH0pO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICpcclxuICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dCBob3cgYW5ndWxhciBmaWx0ZXJzIHdvcmssIGFuZCBob3cgdG8gY3JlYXRlIHlvdXIgb3duIGZpbHRlcnMsIHNlZVxyXG4gICAqIHtAbGluayBndWlkZS9maWx0ZXIgRmlsdGVyc30gaW4gdGhlIEFuZ3VsYXIgRGV2ZWxvcGVyIEd1aWRlLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2Mgc2VydmljZVxyXG4gICAqIEBuYW1lICRmaWx0ZXJcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEZpbHRlcnMgYXJlIHVzZWQgZm9yIGZvcm1hdHRpbmcgZGF0YSBkaXNwbGF5ZWQgdG8gdGhlIHVzZXIuXHJcbiAgICpcclxuICAgKiBUaGV5IGNhbiBiZSB1c2VkIGluIHZpZXcgdGVtcGxhdGVzLCBjb250cm9sbGVycyBvciBzZXJ2aWNlcy5Bbmd1bGFyIGNvbWVzXHJcbiAgICogd2l0aCBhIGNvbGxlY3Rpb24gb2YgW2J1aWx0LWluIGZpbHRlcnNdKGFwaS9uZy9maWx0ZXIpLCBidXQgaXQgaXMgZWFzeSB0b1xyXG4gICAqIGRlZmluZSB5b3VyIG93biBhcyB3ZWxsLlxyXG4gICAqXHJcbiAgICogVGhlIGdlbmVyYWwgc3ludGF4IGluIHRlbXBsYXRlcyBpcyBhcyBmb2xsb3dzOlxyXG4gICAqXHJcbiAgICogYGBgaHRtbFxyXG4gICAqIHt7IGV4cHJlc3Npb24gW3wgZmlsdGVyX25hbWVbOnBhcmFtZXRlcl92YWx1ZV0gLi4uIF0gfX1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiB0byByZXRyaWV2ZVxyXG4gICAqIEByZXR1cm4ge0Z1bmN0aW9ufSB0aGUgZmlsdGVyIGZ1bmN0aW9uXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwiJGZpbHRlclwiIG1vZHVsZT1cImZpbHRlckV4YW1wbGVcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIk1haW5DdHJsXCI+XHJcbiAgICAgICAgICA8aDM+e3sgb3JpZ2luYWxUZXh0IH19PC9oMz5cclxuICAgICAgICAgIDxoMz57eyBmaWx0ZXJlZFRleHQgfX08L2gzPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZmlsZT5cclxuICBcclxuICAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZmlsdGVyRXhhbXBsZScsIFtdKVxyXG4gICAgICAgIC5jb250cm9sbGVyKCdNYWluQ3RybCcsIGZ1bmN0aW9uKCRzY29wZSwgJGZpbHRlcikge1xyXG4gICAgICAgICAgJHNjb3BlLm9yaWdpbmFsVGV4dCA9ICdoZWxsbyc7XHJcbiAgICAgICAgICAkc2NvcGUuZmlsdGVyZWRUZXh0ID0gJGZpbHRlcigndXBwZXJjYXNlJykoJHNjb3BlLm9yaWdpbmFsVGV4dCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAgKi9cclxuICAkRmlsdGVyUHJvdmlkZXIuJGluamVjdCA9IFsnJHByb3ZpZGUnXTtcclxuICAvKiogQHRoaXMgKi9cclxuICBmdW5jdGlvbiAkRmlsdGVyUHJvdmlkZXIoJHByb3ZpZGUpIHtcclxuICAgIHZhciBzdWZmaXggPSAnRmlsdGVyJztcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lICRmaWx0ZXJQcm92aWRlciNyZWdpc3RlclxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fSBuYW1lIE5hbWUgb2YgdGhlIGZpbHRlciBmdW5jdGlvbiwgb3IgYW4gb2JqZWN0IG1hcCBvZiBmaWx0ZXJzIHdoZXJlXHJcbiAgICAgKiAgICB0aGUga2V5cyBhcmUgdGhlIGZpbHRlciBuYW1lcyBhbmQgdGhlIHZhbHVlcyBhcmUgdGhlIGZpbHRlciBmYWN0b3JpZXMuXHJcbiAgICAgKlxyXG4gICAgICogICAgPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAqICAgICoqTm90ZToqKiBGaWx0ZXIgbmFtZXMgbXVzdCBiZSB2YWxpZCBhbmd1bGFyIHtAbGluayBleHByZXNzaW9ufSBpZGVudGlmaWVycywgc3VjaCBhcyBgdXBwZXJjYXNlYCBvciBgb3JkZXJCeWAuXHJcbiAgICAgKiAgICBOYW1lcyB3aXRoIHNwZWNpYWwgY2hhcmFjdGVycywgc3VjaCBhcyBoeXBoZW5zIGFuZCBkb3RzLCBhcmUgbm90IGFsbG93ZWQuIElmIHlvdSB3aXNoIHRvIG5hbWVzcGFjZVxyXG4gICAgICogICAgeW91ciBmaWx0ZXJzLCB0aGVuIHlvdSBjYW4gdXNlIGNhcGl0YWxpemF0aW9uIChgbXlhcHBTdWJzZWN0aW9uRmlsdGVyeGApIG9yIHVuZGVyc2NvcmVzXHJcbiAgICAgKiAgICAoYG15YXBwX3N1YnNlY3Rpb25fZmlsdGVyeGApLlxyXG4gICAgICogICAgPC9kaXY+XHJcbiAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmFjdG9yeSBJZiB0aGUgZmlyc3QgYXJndW1lbnQgd2FzIGEgc3RyaW5nLCBhIGZhY3RvcnkgZnVuY3Rpb24gZm9yIHRoZSBmaWx0ZXIgdG8gYmUgcmVnaXN0ZXJlZC5cclxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJlZ2lzdGVyZWQgZmlsdGVyIGluc3RhbmNlLCBvciBpZiBhIG1hcCBvZiBmaWx0ZXJzIHdhcyBwcm92aWRlZCB0aGVuIGEgbWFwXHJcbiAgICAgKiAgICBvZiB0aGUgcmVnaXN0ZXJlZCBmaWx0ZXIgaW5zdGFuY2VzLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiByZWdpc3RlcihuYW1lLCBmYWN0b3J5KSB7XHJcbiAgICAgIGlmIChpc09iamVjdChuYW1lKSkge1xyXG4gICAgICAgIHZhciBmaWx0ZXJzID0ge307XHJcbiAgICAgICAgZm9yRWFjaChuYW1lLCBmdW5jdGlvbiAoZmlsdGVyLCBrZXkpIHtcclxuICAgICAgICAgIGZpbHRlcnNba2V5XSA9IHJlZ2lzdGVyKGtleSwgZmlsdGVyKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gZmlsdGVycztcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gJHByb3ZpZGUuZmFjdG9yeShuYW1lICsgc3VmZml4LCBmYWN0b3J5KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy5yZWdpc3RlciA9IHJlZ2lzdGVyO1xyXG5cclxuICAgIHRoaXMuJGdldCA9IFsnJGluamVjdG9yJywgZnVuY3Rpb24gKCRpbmplY3Rvcikge1xyXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICByZXR1cm4gJGluamVjdG9yLmdldChuYW1lICsgc3VmZml4KTtcclxuICAgICAgfTtcclxuICAgIH1dO1xyXG5cclxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cclxuXHJcbiAgICAvKiBnbG9iYWxcclxuICAgICAgY3VycmVuY3lGaWx0ZXI6IGZhbHNlLFxyXG4gICAgICBkYXRlRmlsdGVyOiBmYWxzZSxcclxuICAgICAgZmlsdGVyRmlsdGVyOiBmYWxzZSxcclxuICAgICAganNvbkZpbHRlcjogZmFsc2UsXHJcbiAgICAgIGxpbWl0VG9GaWx0ZXI6IGZhbHNlLFxyXG4gICAgICBsb3dlcmNhc2VGaWx0ZXI6IGZhbHNlLFxyXG4gICAgICBudW1iZXJGaWx0ZXI6IGZhbHNlLFxyXG4gICAgICBvcmRlckJ5RmlsdGVyOiBmYWxzZSxcclxuICAgICAgdXBwZXJjYXNlRmlsdGVyOiBmYWxzZVxyXG4gICAgKi9cclxuXHJcbiAgICByZWdpc3RlcignY3VycmVuY3knLCBjdXJyZW5jeUZpbHRlcik7XHJcbiAgICByZWdpc3RlcignZGF0ZScsIGRhdGVGaWx0ZXIpO1xyXG4gICAgcmVnaXN0ZXIoJ2ZpbHRlcicsIGZpbHRlckZpbHRlcik7XHJcbiAgICByZWdpc3RlcignanNvbicsIGpzb25GaWx0ZXIpO1xyXG4gICAgcmVnaXN0ZXIoJ2xpbWl0VG8nLCBsaW1pdFRvRmlsdGVyKTtcclxuICAgIHJlZ2lzdGVyKCdsb3dlcmNhc2UnLCBsb3dlcmNhc2VGaWx0ZXIpO1xyXG4gICAgcmVnaXN0ZXIoJ251bWJlcicsIG51bWJlckZpbHRlcik7XHJcbiAgICByZWdpc3Rlcignb3JkZXJCeScsIG9yZGVyQnlGaWx0ZXIpO1xyXG4gICAgcmVnaXN0ZXIoJ3VwcGVyY2FzZScsIHVwcGVyY2FzZUZpbHRlcik7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZmlsdGVyXHJcbiAgICogQG5hbWUgZmlsdGVyXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNlbGVjdHMgYSBzdWJzZXQgb2YgaXRlbXMgZnJvbSBgYXJyYXlgIGFuZCByZXR1cm5zIGl0IGFzIGEgbmV3IGFycmF5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvdXJjZSBhcnJheS5cclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gICAqICAgKipOb3RlKio6IElmIHRoZSBhcnJheSBjb250YWlucyBvYmplY3RzIHRoYXQgcmVmZXJlbmNlIHRoZW1zZWx2ZXMsIGZpbHRlcmluZyBpcyBub3QgcG9zc2libGUuXHJcbiAgICogPC9kaXY+XHJcbiAgICogQHBhcmFtIHtzdHJpbmd8T2JqZWN0fGZ1bmN0aW9uKCl9IGV4cHJlc3Npb24gVGhlIHByZWRpY2F0ZSB0byBiZSB1c2VkIGZvciBzZWxlY3RpbmcgaXRlbXMgZnJvbVxyXG4gICAqICAgYGFycmF5YC5cclxuICAgKlxyXG4gICAqICAgQ2FuIGJlIG9uZSBvZjpcclxuICAgKlxyXG4gICAqICAgLSBgc3RyaW5nYDogVGhlIHN0cmluZyBpcyB1c2VkIGZvciBtYXRjaGluZyBhZ2FpbnN0IHRoZSBjb250ZW50cyBvZiB0aGUgYGFycmF5YC4gQWxsIHN0cmluZ3Mgb3JcclxuICAgKiAgICAgb2JqZWN0cyB3aXRoIHN0cmluZyBwcm9wZXJ0aWVzIGluIGBhcnJheWAgdGhhdCBtYXRjaCB0aGlzIHN0cmluZyB3aWxsIGJlIHJldHVybmVkLiBUaGlzIGFsc29cclxuICAgKiAgICAgYXBwbGllcyB0byBuZXN0ZWQgb2JqZWN0IHByb3BlcnRpZXMuXHJcbiAgICogICAgIFRoZSBwcmVkaWNhdGUgY2FuIGJlIG5lZ2F0ZWQgYnkgcHJlZml4aW5nIHRoZSBzdHJpbmcgd2l0aCBgIWAuXHJcbiAgICpcclxuICAgKiAgIC0gYE9iamVjdGA6IEEgcGF0dGVybiBvYmplY3QgY2FuIGJlIHVzZWQgdG8gZmlsdGVyIHNwZWNpZmljIHByb3BlcnRpZXMgb24gb2JqZWN0cyBjb250YWluZWRcclxuICAgKiAgICAgYnkgYGFycmF5YC4gRm9yIGV4YW1wbGUgYHtuYW1lOlwiTVwiLCBwaG9uZTpcIjFcIn1gIHByZWRpY2F0ZSB3aWxsIHJldHVybiBhbiBhcnJheSBvZiBpdGVtc1xyXG4gICAqICAgICB3aGljaCBoYXZlIHByb3BlcnR5IGBuYW1lYCBjb250YWluaW5nIFwiTVwiIGFuZCBwcm9wZXJ0eSBgcGhvbmVgIGNvbnRhaW5pbmcgXCIxXCIuIEEgc3BlY2lhbFxyXG4gICAqICAgICBwcm9wZXJ0eSBuYW1lIChgJGAgYnkgZGVmYXVsdCkgY2FuIGJlIHVzZWQgKGUuZy4gYXMgaW4gYHskOiBcInRleHRcIn1gKSB0byBhY2NlcHQgYSBtYXRjaFxyXG4gICAqICAgICBhZ2FpbnN0IGFueSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IG9yIGl0cyBuZXN0ZWQgb2JqZWN0IHByb3BlcnRpZXMuIFRoYXQncyBlcXVpdmFsZW50IHRvIHRoZVxyXG4gICAqICAgICBzaW1wbGUgc3Vic3RyaW5nIG1hdGNoIHdpdGggYSBgc3RyaW5nYCBhcyBkZXNjcmliZWQgYWJvdmUuIFRoZSBzcGVjaWFsIHByb3BlcnR5IG5hbWUgY2FuIGJlXHJcbiAgICogICAgIG92ZXJ3cml0dGVuLCB1c2luZyB0aGUgYGFueVByb3BlcnR5S2V5YCBwYXJhbWV0ZXIuXHJcbiAgICogICAgIFRoZSBwcmVkaWNhdGUgY2FuIGJlIG5lZ2F0ZWQgYnkgcHJlZml4aW5nIHRoZSBzdHJpbmcgd2l0aCBgIWAuXHJcbiAgICogICAgIEZvciBleGFtcGxlIGB7bmFtZTogXCIhTVwifWAgcHJlZGljYXRlIHdpbGwgcmV0dXJuIGFuIGFycmF5IG9mIGl0ZW1zIHdoaWNoIGhhdmUgcHJvcGVydHkgYG5hbWVgXHJcbiAgICogICAgIG5vdCBjb250YWluaW5nIFwiTVwiLlxyXG4gICAqXHJcbiAgICogICAgIE5vdGUgdGhhdCBhIG5hbWVkIHByb3BlcnR5IHdpbGwgbWF0Y2ggcHJvcGVydGllcyBvbiB0aGUgc2FtZSBsZXZlbCBvbmx5LCB3aGlsZSB0aGUgc3BlY2lhbFxyXG4gICAqICAgICBgJGAgcHJvcGVydHkgd2lsbCBtYXRjaCBwcm9wZXJ0aWVzIG9uIHRoZSBzYW1lIGxldmVsIG9yIGRlZXBlci4gRS5nLiBhbiBhcnJheSBpdGVtIGxpa2VcclxuICAgKiAgICAgYHtuYW1lOiB7Zmlyc3Q6ICdKb2huJywgbGFzdDogJ0RvZSd9fWAgd2lsbCAqKm5vdCoqIGJlIG1hdGNoZWQgYnkgYHtuYW1lOiAnSm9obid9YCwgYnV0XHJcbiAgICogICAgICoqd2lsbCoqIGJlIG1hdGNoZWQgYnkgYHskOiAnSm9obid9YC5cclxuICAgKlxyXG4gICAqICAgLSBgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBhcnJheSlgOiBBIHByZWRpY2F0ZSBmdW5jdGlvbiBjYW4gYmUgdXNlZCB0byB3cml0ZSBhcmJpdHJhcnkgZmlsdGVycy5cclxuICAgKiAgICAgVGhlIGZ1bmN0aW9uIGlzIGNhbGxlZCBmb3IgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSwgd2l0aCB0aGUgZWxlbWVudCwgaXRzIGluZGV4LCBhbmRcclxuICAgKiAgICAgdGhlIGVudGlyZSBhcnJheSBpdHNlbGYgYXMgYXJndW1lbnRzLlxyXG4gICAqXHJcbiAgICogICAgIFRoZSBmaW5hbCByZXN1bHQgaXMgYW4gYXJyYXkgb2YgdGhvc2UgZWxlbWVudHMgdGhhdCB0aGUgcHJlZGljYXRlIHJldHVybmVkIHRydWUgZm9yLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKXx0cnVlfGZhbHNlfSBbY29tcGFyYXRvcl0gQ29tcGFyYXRvciB3aGljaCBpcyB1c2VkIGluXHJcbiAgICogICAgIGRldGVybWluaW5nIGlmIHZhbHVlcyByZXRyaWV2ZWQgdXNpbmcgYGV4cHJlc3Npb25gICh3aGVuIGl0IGlzIG5vdCBhIGZ1bmN0aW9uKSBzaG91bGQgYmVcclxuICAgKiAgICAgY29uc2lkZXJlZCBhIG1hdGNoIGJhc2VkIG9uIHRoZSBleHBlY3RlZCB2YWx1ZSAoZnJvbSB0aGUgZmlsdGVyIGV4cHJlc3Npb24pIGFuZCBhY3R1YWxcclxuICAgKiAgICAgdmFsdWUgKGZyb20gdGhlIG9iamVjdCBpbiB0aGUgYXJyYXkpLlxyXG4gICAqXHJcbiAgICogICBDYW4gYmUgb25lIG9mOlxyXG4gICAqXHJcbiAgICogICAtIGBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKWA6XHJcbiAgICogICAgIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGdpdmVuIHRoZSBvYmplY3QgdmFsdWUgYW5kIHRoZSBwcmVkaWNhdGUgdmFsdWUgdG8gY29tcGFyZSBhbmRcclxuICAgKiAgICAgc2hvdWxkIHJldHVybiB0cnVlIGlmIGJvdGggdmFsdWVzIHNob3VsZCBiZSBjb25zaWRlcmVkIGVxdWFsLlxyXG4gICAqXHJcbiAgICogICAtIGB0cnVlYDogQSBzaG9ydGhhbmQgZm9yIGBmdW5jdGlvbihhY3R1YWwsIGV4cGVjdGVkKSB7IHJldHVybiBhbmd1bGFyLmVxdWFscyhhY3R1YWwsIGV4cGVjdGVkKX1gLlxyXG4gICAqICAgICBUaGlzIGlzIGVzc2VudGlhbGx5IHN0cmljdCBjb21wYXJpc29uIG9mIGV4cGVjdGVkIGFuZCBhY3R1YWwuXHJcbiAgICpcclxuICAgKiAgIC0gYGZhbHNlYDogQSBzaG9ydCBoYW5kIGZvciBhIGZ1bmN0aW9uIHdoaWNoIHdpbGwgbG9vayBmb3IgYSBzdWJzdHJpbmcgbWF0Y2ggaW4gYSBjYXNlXHJcbiAgICogICAgIGluc2Vuc2l0aXZlIHdheS4gUHJpbWl0aXZlIHZhbHVlcyBhcmUgY29udmVydGVkIHRvIHN0cmluZ3MuIE9iamVjdHMgYXJlIG5vdCBjb21wYXJlZCBhZ2FpbnN0XHJcbiAgICogICAgIHByaW1pdGl2ZXMsIHVubGVzcyB0aGV5IGhhdmUgYSBjdXN0b20gYHRvU3RyaW5nYCBtZXRob2QgKGUuZy4gYERhdGVgIG9iamVjdHMpLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAgIERlZmF1bHRzIHRvIGBmYWxzZWAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gW2FueVByb3BlcnR5S2V5XSBUaGUgc3BlY2lhbCBwcm9wZXJ0eSBuYW1lIHRoYXQgbWF0Y2hlcyBhZ2FpbnN0IGFueSBwcm9wZXJ0eS5cclxuICAgKiAgICAgQnkgZGVmYXVsdCBgJGAuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJmaWx0ZXItZmlsdGVyXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8ZGl2IG5nLWluaXQ9XCJmcmllbmRzID0gW3tuYW1lOidKb2huJywgcGhvbmU6JzU1NS0xMjc2J30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonTWFyeScsIHBob25lOic4MDAtQklHLU1BUlknfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtuYW1lOidNaWtlJywgcGhvbmU6JzU1NS00MzIxJ30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonQWRhbScsIHBob25lOic1NTUtNTY3OCd9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge25hbWU6J0p1bGllJywgcGhvbmU6JzU1NS04NzY1J30sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bmFtZTonSnVsaWV0dGUnLCBwaG9uZTonNTU1LTU2NzgnfV1cIj48L2Rpdj5cclxuICBcclxuICAgICAgICAgPGxhYmVsPlNlYXJjaDogPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoVGV4dFwiPjwvbGFiZWw+XHJcbiAgICAgICAgIDx0YWJsZSBpZD1cInNlYXJjaFRleHRSZXN1bHRzXCI+XHJcbiAgICAgICAgICAgPHRyPjx0aD5OYW1lPC90aD48dGg+UGhvbmU8L3RoPjwvdHI+XHJcbiAgICAgICAgICAgPHRyIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnNlYXJjaFRleHRcIj5cclxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxyXG4gICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLnBob25lfX08L3RkPlxyXG4gICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgIDxocj5cclxuICAgICAgICAgPGxhYmVsPkFueTogPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLiRcIj48L2xhYmVsPiA8YnI+XHJcbiAgICAgICAgIDxsYWJlbD5OYW1lIG9ubHkgPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLm5hbWVcIj48L2xhYmVsPjxicj5cclxuICAgICAgICAgPGxhYmVsPlBob25lIG9ubHkgPGlucHV0IG5nLW1vZGVsPVwic2VhcmNoLnBob25lXCI+PC9sYWJlbD48YnI+XHJcbiAgICAgICAgIDxsYWJlbD5FcXVhbGl0eSA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJzdHJpY3RcIj48L2xhYmVsPjxicj5cclxuICAgICAgICAgPHRhYmxlIGlkPVwic2VhcmNoT2JqUmVzdWx0c1wiPlxyXG4gICAgICAgICAgIDx0cj48dGg+TmFtZTwvdGg+PHRoPlBob25lPC90aD48L3RyPlxyXG4gICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmRPYmogaW4gZnJpZW5kcyB8IGZpbHRlcjpzZWFyY2g6c3RyaWN0XCI+XHJcbiAgICAgICAgICAgICA8dGQ+e3tmcmllbmRPYmoubmFtZX19PC90ZD5cclxuICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZE9iai5waG9uZX19PC90ZD5cclxuICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICA8L3RhYmxlPlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICB2YXIgZXhwZWN0RnJpZW5kTmFtZXMgPSBmdW5jdGlvbihleHBlY3RlZE5hbWVzLCBrZXkpIHtcclxuICAgICAgICAgICBlbGVtZW50LmFsbChieS5yZXBlYXRlcihrZXkgKyAnIGluIGZyaWVuZHMnKS5jb2x1bW4oa2V5ICsgJy5uYW1lJykpLnRoZW4oZnVuY3Rpb24oYXJyKSB7XHJcbiAgICAgICAgICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbih3ZCwgaSkge1xyXG4gICAgICAgICAgICAgICBleHBlY3Qod2QuZ2V0VGV4dCgpKS50b01hdGNoKGV4cGVjdGVkTmFtZXNbaV0pO1xyXG4gICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIH07XHJcbiAgXHJcbiAgICAgICAgIGl0KCdzaG91bGQgc2VhcmNoIGFjcm9zcyBhbGwgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBzdHJpbmcnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICB2YXIgc2VhcmNoVGV4dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaFRleHQnKSk7XHJcbiAgICAgICAgICAgc2VhcmNoVGV4dC5jbGVhcigpO1xyXG4gICAgICAgICAgIHNlYXJjaFRleHQuc2VuZEtleXMoJ20nKTtcclxuICAgICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ01hcnknLCAnTWlrZScsICdBZGFtJ10sICdmcmllbmQnKTtcclxuICBcclxuICAgICAgICAgICBzZWFyY2hUZXh0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgc2VhcmNoVGV4dC5zZW5kS2V5cygnNzYnKTtcclxuICAgICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0pvaG4nLCAnSnVsaWUnXSwgJ2ZyaWVuZCcpO1xyXG4gICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgaXQoJ3Nob3VsZCBzZWFyY2ggaW4gc3BlY2lmaWMgZmllbGRzIHdoZW4gZmlsdGVyaW5nIHdpdGggYSBwcmVkaWNhdGUgb2JqZWN0JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgdmFyIHNlYXJjaEFueSA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlYXJjaC4kJykpO1xyXG4gICAgICAgICAgIHNlYXJjaEFueS5jbGVhcigpO1xyXG4gICAgICAgICAgIHNlYXJjaEFueS5zZW5kS2V5cygnaScpO1xyXG4gICAgICAgICAgIGV4cGVjdEZyaWVuZE5hbWVzKFsnTWFyeScsICdNaWtlJywgJ0p1bGllJywgJ0p1bGlldHRlJ10sICdmcmllbmRPYmonKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICAgIGl0KCdzaG91bGQgdXNlIGEgZXF1YWwgY29tcGFyaXNvbiB3aGVuIGNvbXBhcmF0b3IgaXMgdHJ1ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIHZhciBzZWFyY2hOYW1lID0gZWxlbWVudChieS5tb2RlbCgnc2VhcmNoLm5hbWUnKSk7XHJcbiAgICAgICAgICAgdmFyIHN0cmljdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3N0cmljdCcpKTtcclxuICAgICAgICAgICBzZWFyY2hOYW1lLmNsZWFyKCk7XHJcbiAgICAgICAgICAgc2VhcmNoTmFtZS5zZW5kS2V5cygnSnVsaWUnKTtcclxuICAgICAgICAgICBzdHJpY3QuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3RGcmllbmROYW1lcyhbJ0p1bGllJ10sICdmcmllbmRPYmonKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG5cclxuICBmdW5jdGlvbiBmaWx0ZXJGaWx0ZXIoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFycmF5LCBleHByZXNzaW9uLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSkge1xyXG4gICAgICBpZiAoIWlzQXJyYXlMaWtlKGFycmF5KSkge1xyXG4gICAgICAgIGlmIChhcnJheSA9PSBudWxsKSB7XHJcbiAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRocm93IG1pbkVycignZmlsdGVyJykoJ25vdGFycmF5JywgJ0V4cGVjdGVkIGFycmF5IGJ1dCByZWNlaXZlZDogezB9JywgYXJyYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgYW55UHJvcGVydHlLZXkgPSBhbnlQcm9wZXJ0eUtleSB8fCAnJCc7XHJcbiAgICAgIHZhciBleHByZXNzaW9uVHlwZSA9IGdldFR5cGVGb3JGaWx0ZXIoZXhwcmVzc2lvbik7XHJcbiAgICAgIHZhciBwcmVkaWNhdGVGbjtcclxuICAgICAgdmFyIG1hdGNoQWdhaW5zdEFueVByb3A7XHJcblxyXG4gICAgICBzd2l0Y2ggKGV4cHJlc3Npb25UeXBlKSB7XHJcbiAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxyXG4gICAgICAgICAgcHJlZGljYXRlRm4gPSBleHByZXNzaW9uO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6XHJcbiAgICAgICAgY2FzZSAnbnVsbCc6XHJcbiAgICAgICAgY2FzZSAnbnVtYmVyJzpcclxuICAgICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgICAgbWF0Y2hBZ2FpbnN0QW55UHJvcCA9IHRydWU7XHJcbiAgICAgICAgLy8gZmFsbHMgdGhyb3VnaFxyXG4gICAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgICBwcmVkaWNhdGVGbiA9IGNyZWF0ZVByZWRpY2F0ZUZuKGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICByZXR1cm4gYXJyYXk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwoYXJyYXksIHByZWRpY2F0ZUZuKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvLyBIZWxwZXIgZnVuY3Rpb25zIGZvciBgZmlsdGVyRmlsdGVyYFxyXG4gIGZ1bmN0aW9uIGNyZWF0ZVByZWRpY2F0ZUZuKGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKSB7XHJcbiAgICB2YXIgc2hvdWxkTWF0Y2hQcmltaXRpdmVzID0gaXNPYmplY3QoZXhwcmVzc2lvbikgJiYgYW55UHJvcGVydHlLZXkgaW4gZXhwcmVzc2lvbjtcclxuICAgIHZhciBwcmVkaWNhdGVGbjtcclxuXHJcbiAgICBpZiAoY29tcGFyYXRvciA9PT0gdHJ1ZSkge1xyXG4gICAgICBjb21wYXJhdG9yID0gZXF1YWxzO1xyXG4gICAgfSBlbHNlIGlmICghaXNGdW5jdGlvbihjb21wYXJhdG9yKSkge1xyXG4gICAgICBjb21wYXJhdG9yID0gZnVuY3Rpb24gY29tcGFyYXRvcihhY3R1YWwsIGV4cGVjdGVkKSB7XHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKGFjdHVhbCkpIHtcclxuICAgICAgICAgIC8vIE5vIHN1YnN0cmluZyBtYXRjaGluZyBhZ2FpbnN0IGB1bmRlZmluZWRgXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhY3R1YWwgPT09IG51bGwgfHwgZXhwZWN0ZWQgPT09IG51bGwpIHtcclxuICAgICAgICAgIC8vIE5vIHN1YnN0cmluZyBtYXRjaGluZyBhZ2FpbnN0IGBudWxsYDsgb25seSBtYXRjaCBhZ2FpbnN0IGBudWxsYFxyXG4gICAgICAgICAgcmV0dXJuIGFjdHVhbCA9PT0gZXhwZWN0ZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc09iamVjdChleHBlY3RlZCkgfHwgaXNPYmplY3QoYWN0dWFsKSAmJiAhaGFzQ3VzdG9tVG9TdHJpbmcoYWN0dWFsKSkge1xyXG4gICAgICAgICAgLy8gU2hvdWxkIG5vdCBjb21wYXJlIHByaW1pdGl2ZXMgYWdhaW5zdCBvYmplY3RzLCB1bmxlc3MgdGhleSBoYXZlIGN1c3RvbSBgdG9TdHJpbmdgIG1ldGhvZFxyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWN0dWFsID0gbG93ZXJjYXNlKCcnICsgYWN0dWFsKTtcclxuICAgICAgICBleHBlY3RlZCA9IGxvd2VyY2FzZSgnJyArIGV4cGVjdGVkKTtcclxuICAgICAgICByZXR1cm4gYWN0dWFsLmluZGV4T2YoZXhwZWN0ZWQpICE9PSAtMTtcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBwcmVkaWNhdGVGbiA9IGZ1bmN0aW9uIHByZWRpY2F0ZUZuKGl0ZW0pIHtcclxuICAgICAgaWYgKHNob3VsZE1hdGNoUHJpbWl0aXZlcyAmJiAhaXNPYmplY3QoaXRlbSkpIHtcclxuICAgICAgICByZXR1cm4gZGVlcENvbXBhcmUoaXRlbSwgZXhwcmVzc2lvblthbnlQcm9wZXJ0eUtleV0sIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGRlZXBDb21wYXJlKGl0ZW0sIGV4cHJlc3Npb24sIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHByZWRpY2F0ZUZuO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZGVlcENvbXBhcmUoYWN0dWFsLCBleHBlY3RlZCwgY29tcGFyYXRvciwgYW55UHJvcGVydHlLZXksIG1hdGNoQWdhaW5zdEFueVByb3AsIGRvbnRNYXRjaFdob2xlT2JqZWN0KSB7XHJcbiAgICB2YXIgYWN0dWFsVHlwZSA9IGdldFR5cGVGb3JGaWx0ZXIoYWN0dWFsKTtcclxuICAgIHZhciBleHBlY3RlZFR5cGUgPSBnZXRUeXBlRm9yRmlsdGVyKGV4cGVjdGVkKTtcclxuXHJcbiAgICBpZiAoZXhwZWN0ZWRUeXBlID09PSAnc3RyaW5nJyAmJiBleHBlY3RlZC5jaGFyQXQoMCkgPT09ICchJykge1xyXG4gICAgICByZXR1cm4gIWRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQuc3Vic3RyaW5nKDEpLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgbWF0Y2hBZ2FpbnN0QW55UHJvcCk7XHJcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkoYWN0dWFsKSkge1xyXG4gICAgICAvLyBJbiBjYXNlIGBhY3R1YWxgIGlzIGFuIGFycmF5LCBjb25zaWRlciBpdCBhIG1hdGNoXHJcbiAgICAgIC8vIGlmIEFOWSBvZiBpdCdzIGl0ZW1zIG1hdGNoZXMgYGV4cGVjdGVkYFxyXG4gICAgICByZXR1cm4gYWN0dWFsLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICByZXR1cm4gZGVlcENvbXBhcmUoaXRlbSwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBtYXRjaEFnYWluc3RBbnlQcm9wKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgc3dpdGNoIChhY3R1YWxUeXBlKSB7XHJcbiAgICAgIGNhc2UgJ29iamVjdCc6XHJcbiAgICAgICAgdmFyIGtleTtcclxuICAgICAgICBpZiAobWF0Y2hBZ2FpbnN0QW55UHJvcCkge1xyXG4gICAgICAgICAgZm9yIChrZXkgaW4gYWN0dWFsKSB7XHJcbiAgICAgICAgICAgIC8vIFVuZGVyIGNlcnRhaW4sIHJhcmUsIGNpcmN1bXN0YW5jZXMsIGtleSBtYXkgbm90IGJlIGEgc3RyaW5nIGFuZCBgY2hhckF0YCB3aWxsIGJlIHVuZGVmaW5lZFxyXG4gICAgICAgICAgICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE1NjQ0XHJcbiAgICAgICAgICAgIGlmIChrZXkuY2hhckF0ICYmIGtleS5jaGFyQXQoMCkgIT09ICckJyAmJiBkZWVwQ29tcGFyZShhY3R1YWxba2V5XSwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCB0cnVlKSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gZG9udE1hdGNoV2hvbGVPYmplY3QgPyBmYWxzZSA6IGRlZXBDb21wYXJlKGFjdHVhbCwgZXhwZWN0ZWQsIGNvbXBhcmF0b3IsIGFueVByb3BlcnR5S2V5LCBmYWxzZSk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChleHBlY3RlZFR5cGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgICBmb3IgKGtleSBpbiBleHBlY3RlZCkge1xyXG4gICAgICAgICAgICB2YXIgZXhwZWN0ZWRWYWwgPSBleHBlY3RlZFtrZXldO1xyXG4gICAgICAgICAgICBpZiAoaXNGdW5jdGlvbihleHBlY3RlZFZhbCkgfHwgaXNVbmRlZmluZWQoZXhwZWN0ZWRWYWwpKSB7XHJcbiAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHZhciBtYXRjaEFueVByb3BlcnR5ID0ga2V5ID09PSBhbnlQcm9wZXJ0eUtleTtcclxuICAgICAgICAgICAgdmFyIGFjdHVhbFZhbCA9IG1hdGNoQW55UHJvcGVydHkgPyBhY3R1YWwgOiBhY3R1YWxba2V5XTtcclxuICAgICAgICAgICAgaWYgKCFkZWVwQ29tcGFyZShhY3R1YWxWYWwsIGV4cGVjdGVkVmFsLCBjb21wYXJhdG9yLCBhbnlQcm9wZXJ0eUtleSwgbWF0Y2hBbnlQcm9wZXJ0eSwgbWF0Y2hBbnlQcm9wZXJ0eSkpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gY29tcGFyYXRvcihhY3R1YWwsIGV4cGVjdGVkKTtcclxuICAgICAgICB9XHJcbiAgICAgIGNhc2UgJ2Z1bmN0aW9uJzpcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIGNvbXBhcmF0b3IoYWN0dWFsLCBleHBlY3RlZCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvLyBVc2VkIGZvciBlYXNpbHkgZGlmZmVyZW50aWF0aW5nIGJldHdlZW4gYG51bGxgIGFuZCBhY3R1YWwgYG9iamVjdGBcclxuICBmdW5jdGlvbiBnZXRUeXBlRm9yRmlsdGVyKHZhbCkge1xyXG4gICAgcmV0dXJuIHZhbCA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHZhbCk7XHJcbiAgfVxyXG5cclxuICB2YXIgTUFYX0RJR0lUUyA9IDIyO1xyXG4gIHZhciBERUNJTUFMX1NFUCA9ICcuJztcclxuICB2YXIgWkVST19DSEFSID0gJzAnO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZmlsdGVyXHJcbiAgICogQG5hbWUgY3VycmVuY3lcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRm9ybWF0cyBhIG51bWJlciBhcyBhIGN1cnJlbmN5IChpZSAkMSwyMzQuNTYpLiBXaGVuIG5vIGN1cnJlbmN5IHN5bWJvbCBpcyBwcm92aWRlZCwgZGVmYXVsdFxyXG4gICAqIHN5bWJvbCBmb3IgY3VycmVudCBsb2NhbGUgaXMgdXNlZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBhbW91bnQgSW5wdXQgdG8gZmlsdGVyLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gc3ltYm9sIEN1cnJlbmN5IHN5bWJvbCBvciBpZGVudGlmaWVyIHRvIGJlIGRpc3BsYXllZC5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IGZyYWN0aW9uU2l6ZSBOdW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gcm91bmQgdGhlIGFtb3VudCB0bywgZGVmYXVsdHMgdG8gZGVmYXVsdCBtYXggZnJhY3Rpb24gc2l6ZSBmb3IgY3VycmVudCBsb2NhbGVcclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBGb3JtYXR0ZWQgbnVtYmVyLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG1vZHVsZT1cImN1cnJlbmN5RXhhbXBsZVwiIG5hbWU9XCJjdXJyZW5jeS1maWx0ZXJcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2N1cnJlbmN5RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmFtb3VudCA9IDEyMzQuNTY7XHJcbiAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJhbW91bnRcIiBhcmlhLWxhYmVsPVwiYW1vdW50XCI+IDxicj5cclxuICAgICAgICAgICBkZWZhdWx0IGN1cnJlbmN5IHN5bWJvbCAoJCk6IDxzcGFuIGlkPVwiY3VycmVuY3ktZGVmYXVsdFwiPnt7YW1vdW50IHwgY3VycmVuY3l9fTwvc3Bhbj48YnI+XHJcbiAgICAgICAgICAgY3VzdG9tIGN1cnJlbmN5IGlkZW50aWZpZXIgKFVTRCQpOiA8c3BhbiBpZD1cImN1cnJlbmN5LWN1c3RvbVwiPnt7YW1vdW50IHwgY3VycmVuY3k6XCJVU0QkXCJ9fTwvc3Bhbj48YnI+XHJcbiAgICAgICAgICAgbm8gZnJhY3Rpb25zICgwKTogPHNwYW4gaWQ9XCJjdXJyZW5jeS1uby1mcmFjdGlvbnNcIj57e2Ftb3VudCB8IGN1cnJlbmN5OlwiVVNEJFwiOjB9fTwvc3Bhbj5cclxuICAgICAgICAgPC9kaXY+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgIGl0KCdzaG91bGQgaW5pdCB3aXRoIDEyMzQuNTYnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJyQxLDIzNC41NicpO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1jdXN0b20nKSkuZ2V0VGV4dCgpKS50b0JlKCdVU0QkMSwyMzQuNTYnKTtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY3VycmVuY3ktbm8tZnJhY3Rpb25zJykpLmdldFRleHQoKSkudG9CZSgnVVNEJDEsMjM1Jyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgICBpdCgnc2hvdWxkIHVwZGF0ZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGlmIChicm93c2VyLnBhcmFtcy5icm93c2VyID09PSAnc2FmYXJpJykge1xyXG4gICAgICAgICAgICAgLy8gU2FmYXJpIGRvZXMgbm90IHVuZGVyc3RhbmQgdGhlIG1pbnVzIGtleS4gU2VlXHJcbiAgICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy80ODFcclxuICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnYW1vdW50JykpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnYW1vdW50JykpLnNlbmRLZXlzKCctMTIzNCcpO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnLSQxLDIzNC4wMCcpO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXJyZW5jeS1jdXN0b20nKSkuZ2V0VGV4dCgpKS50b0JlKCctVVNEJDEsMjM0LjAwJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2N1cnJlbmN5LW5vLWZyYWN0aW9ucycpKS5nZXRUZXh0KCkpLnRvQmUoJy1VU0QkMSwyMzQnKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIGN1cnJlbmN5RmlsdGVyLiRpbmplY3QgPSBbJyRsb2NhbGUnXTtcclxuICBmdW5jdGlvbiBjdXJyZW5jeUZpbHRlcigkbG9jYWxlKSB7XHJcbiAgICB2YXIgZm9ybWF0cyA9ICRsb2NhbGUuTlVNQkVSX0ZPUk1BVFM7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGFtb3VudCwgY3VycmVuY3lTeW1ib2wsIGZyYWN0aW9uU2l6ZSkge1xyXG4gICAgICBpZiAoaXNVbmRlZmluZWQoY3VycmVuY3lTeW1ib2wpKSB7XHJcbiAgICAgICAgY3VycmVuY3lTeW1ib2wgPSBmb3JtYXRzLkNVUlJFTkNZX1NZTTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKGlzVW5kZWZpbmVkKGZyYWN0aW9uU2l6ZSkpIHtcclxuICAgICAgICBmcmFjdGlvblNpemUgPSBmb3JtYXRzLlBBVFRFUk5TWzFdLm1heEZyYWM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGlmIG51bGwgb3IgdW5kZWZpbmVkIHBhc3MgaXQgdGhyb3VnaFxyXG4gICAgICByZXR1cm4gYW1vdW50ID09IG51bGwgPyBhbW91bnQgOiBmb3JtYXROdW1iZXIoYW1vdW50LCBmb3JtYXRzLlBBVFRFUk5TWzFdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCwgZnJhY3Rpb25TaXplKS5yZXBsYWNlKC9cXHUwMEE0L2csIGN1cnJlbmN5U3ltYm9sKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZmlsdGVyXHJcbiAgICogQG5hbWUgbnVtYmVyXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEZvcm1hdHMgYSBudW1iZXIgYXMgdGV4dC5cclxuICAgKlxyXG4gICAqIElmIHRoZSBpbnB1dCBpcyBudWxsIG9yIHVuZGVmaW5lZCwgaXQgd2lsbCBqdXN0IGJlIHJldHVybmVkLlxyXG4gICAqIElmIHRoZSBpbnB1dCBpcyBpbmZpbml0ZSAoSW5maW5pdHkgb3IgLUluZmluaXR5KSwgdGhlIEluZmluaXR5IHN5bWJvbCAn4oieJyBvciAnLeKInicgaXMgcmV0dXJuZWQsIHJlc3BlY3RpdmVseS5cclxuICAgKiBJZiB0aGUgaW5wdXQgaXMgbm90IGEgbnVtYmVyIGFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ8c3RyaW5nfSBudW1iZXIgTnVtYmVyIHRvIGZvcm1hdC5cclxuICAgKiBAcGFyYW0geyhudW1iZXJ8c3RyaW5nKT19IGZyYWN0aW9uU2l6ZSBOdW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgdG8gcm91bmQgdGhlIG51bWJlciB0by5cclxuICAgKiBJZiB0aGlzIGlzIG5vdCBwcm92aWRlZCB0aGVuIHRoZSBmcmFjdGlvbiBzaXplIGlzIGNvbXB1dGVkIGZyb20gdGhlIGN1cnJlbnQgbG9jYWxlJ3MgbnVtYmVyXHJcbiAgICogZm9ybWF0dGluZyBwYXR0ZXJuLiBJbiB0aGUgY2FzZSBvZiB0aGUgZGVmYXVsdCBsb2NhbGUsIGl0IHdpbGwgYmUgMy5cclxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBOdW1iZXIgcm91bmRlZCB0byBgZnJhY3Rpb25TaXplYCBhcHByb3ByaWF0ZWx5IGZvcm1hdHRlZCBiYXNlZCBvbiB0aGUgY3VycmVudFxyXG4gICAqICAgICAgICAgICAgICAgICAgIGxvY2FsZSAoZS5nLiwgaW4gdGhlIGVuX1VTIGxvY2FsZSBpdCB3aWxsIGhhdmUgXCIuXCIgYXMgdGhlIGRlY2ltYWwgc2VwYXJhdG9yIGFuZFxyXG4gICAqICAgICAgICAgICAgICAgICAgIGluY2x1ZGUgXCIsXCIgZ3JvdXAgc2VwYXJhdG9ycyBhZnRlciBlYWNoIHRoaXJkIGRpZ2l0KS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwibnVtYmVyRmlsdGVyRXhhbXBsZVwiIG5hbWU9XCJudW1iZXItZmlsdGVyXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdudW1iZXJGaWx0ZXJFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUudmFsID0gMTIzNC41Njc4OTtcclxuICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgPGxhYmVsPkVudGVyIG51bWJlcjogPGlucHV0IG5nLW1vZGVsPSd2YWwnPjwvbGFiZWw+PGJyPlxyXG4gICAgICAgICAgIERlZmF1bHQgZm9ybWF0dGluZzogPHNwYW4gaWQ9J251bWJlci1kZWZhdWx0Jz57e3ZhbCB8IG51bWJlcn19PC9zcGFuPjxicj5cclxuICAgICAgICAgICBObyBmcmFjdGlvbnM6IDxzcGFuPnt7dmFsIHwgbnVtYmVyOjB9fTwvc3Bhbj48YnI+XHJcbiAgICAgICAgICAgTmVnYXRpdmUgbnVtYmVyOiA8c3Bhbj57ey12YWwgfCBudW1iZXI6NH19PC9zcGFuPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgaXQoJ3Nob3VsZCBmb3JtYXQgbnVtYmVycycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdudW1iZXItZGVmYXVsdCcpKS5nZXRUZXh0KCkpLnRvQmUoJzEsMjM0LjU2OCcpO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3ZhbCB8IG51bWJlcjowJykpLmdldFRleHQoKSkudG9CZSgnMSwyMzUnKTtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCctdmFsIHwgbnVtYmVyOjQnKSkuZ2V0VGV4dCgpKS50b0JlKCctMSwyMzQuNTY3OScpO1xyXG4gICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWwnKSkuY2xlYXIoKTtcclxuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCd2YWwnKSkuc2VuZEtleXMoJzMzNzQuMzMzJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ251bWJlci1kZWZhdWx0JykpLmdldFRleHQoKSkudG9CZSgnMywzNzQuMzMzJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndmFsIHwgbnVtYmVyOjAnKSkuZ2V0VGV4dCgpKS50b0JlKCczLDM3NCcpO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJy12YWwgfCBudW1iZXI6NCcpKS5nZXRUZXh0KCkpLnRvQmUoJy0zLDM3NC4zMzMwJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIG51bWJlckZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XHJcbiAgZnVuY3Rpb24gbnVtYmVyRmlsdGVyKCRsb2NhbGUpIHtcclxuICAgIHZhciBmb3JtYXRzID0gJGxvY2FsZS5OVU1CRVJfRk9STUFUUztcclxuICAgIHJldHVybiBmdW5jdGlvbiAobnVtYmVyLCBmcmFjdGlvblNpemUpIHtcclxuXHJcbiAgICAgIC8vIGlmIG51bGwgb3IgdW5kZWZpbmVkIHBhc3MgaXQgdGhyb3VnaFxyXG4gICAgICByZXR1cm4gbnVtYmVyID09IG51bGwgPyBudW1iZXIgOiBmb3JtYXROdW1iZXIobnVtYmVyLCBmb3JtYXRzLlBBVFRFUk5TWzBdLCBmb3JtYXRzLkdST1VQX1NFUCwgZm9ybWF0cy5ERUNJTUFMX1NFUCwgZnJhY3Rpb25TaXplKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQYXJzZSBhIG51bWJlciAoYXMgYSBzdHJpbmcpIGludG8gdGhyZWUgY29tcG9uZW50cyB0aGF0IGNhbiBiZSB1c2VkXHJcbiAgICogZm9yIGZvcm1hdHRpbmcgdGhlIG51bWJlci5cclxuICAgKlxyXG4gICAqIChTaWduaWZpY2FudCBiaXRzIG9mIHRoaXMgcGFyc2UgYWxnb3JpdGhtIGNhbWUgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vTWlrZU1jbC9iaWcuanMvKVxyXG4gICAqXHJcbiAgICogQHBhcmFtICB7c3RyaW5nfSBudW1TdHIgVGhlIG51bWJlciB0byBwYXJzZVxyXG4gICAqIEByZXR1cm4ge29iamVjdH0gQW4gb2JqZWN0IGRlc2NyaWJpbmcgdGhpcyBudW1iZXIsIGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBrZXlzOlxyXG4gICAqICAtIGQgOiBhbiBhcnJheSBvZiBkaWdpdHMgY29udGFpbmluZyBsZWFkaW5nIHplcm9zIGFzIG5lY2Vzc2FyeVxyXG4gICAqICAtIGkgOiB0aGUgbnVtYmVyIG9mIHRoZSBkaWdpdHMgaW4gYGRgIHRoYXQgYXJlIHRvIHRoZSBsZWZ0IG9mIHRoZSBkZWNpbWFsIHBvaW50XHJcbiAgICogIC0gZSA6IHRoZSBleHBvbmVudCBmb3IgbnVtYmVycyB0aGF0IHdvdWxkIG5lZWQgbW9yZSB0aGFuIGBNQVhfRElHSVRTYCBkaWdpdHMgaW4gYGRgXHJcbiAgICpcclxuICAgKi9cclxuICBmdW5jdGlvbiBwYXJzZShudW1TdHIpIHtcclxuICAgIHZhciBleHBvbmVudCA9IDAsXHJcbiAgICAgICAgZGlnaXRzLFxyXG4gICAgICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cztcclxuICAgIHZhciBpLCBqLCB6ZXJvcztcclxuXHJcbiAgICAvLyBEZWNpbWFsIHBvaW50P1xyXG4gICAgaWYgKChudW1iZXJPZkludGVnZXJEaWdpdHMgPSBudW1TdHIuaW5kZXhPZihERUNJTUFMX1NFUCkpID4gLTEpIHtcclxuICAgICAgbnVtU3RyID0gbnVtU3RyLnJlcGxhY2UoREVDSU1BTF9TRVAsICcnKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFeHBvbmVudGlhbCBmb3JtP1xyXG4gICAgaWYgKChpID0gbnVtU3RyLnNlYXJjaCgvZS9pKSkgPiAwKSB7XHJcbiAgICAgIC8vIFdvcmsgb3V0IHRoZSBleHBvbmVudC5cclxuICAgICAgaWYgKG51bWJlck9mSW50ZWdlckRpZ2l0cyA8IDApIG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IGk7XHJcbiAgICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cyArPSArbnVtU3RyLnNsaWNlKGkgKyAxKTtcclxuICAgICAgbnVtU3RyID0gbnVtU3RyLnN1YnN0cmluZygwLCBpKTtcclxuICAgIH0gZWxzZSBpZiAobnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIDwgMCkge1xyXG4gICAgICAvLyBUaGVyZSB3YXMgbm8gZGVjaW1hbCBwb2ludCBvciBleHBvbmVudCBzbyBpdCBpcyBhbiBpbnRlZ2VyLlxyXG4gICAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgPSBudW1TdHIubGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIENvdW50IHRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcy5cclxuICAgIGZvciAoaSA9IDA7IG51bVN0ci5jaGFyQXQoaSkgPT09IFpFUk9fQ0hBUjsgaSsrKSB7LyogZW1wdHkgKi99XHJcblxyXG4gICAgaWYgKGkgPT09ICh6ZXJvcyA9IG51bVN0ci5sZW5ndGgpKSB7XHJcbiAgICAgIC8vIFRoZSBkaWdpdHMgYXJlIGFsbCB6ZXJvLlxyXG4gICAgICBkaWdpdHMgPSBbMF07XHJcbiAgICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IDE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBDb3VudCB0aGUgbnVtYmVyIG9mIHRyYWlsaW5nIHplcm9zXHJcbiAgICAgIHplcm9zLS07XHJcbiAgICAgIHdoaWxlIChudW1TdHIuY2hhckF0KHplcm9zKSA9PT0gWkVST19DSEFSKSB7XHJcbiAgICAgICAgemVyb3MtLTtcclxuICAgICAgfSAvLyBUcmFpbGluZyB6ZXJvcyBhcmUgaW5zaWduaWZpY2FudCBzbyBpZ25vcmUgdGhlbVxyXG4gICAgICBudW1iZXJPZkludGVnZXJEaWdpdHMgLT0gaTtcclxuICAgICAgZGlnaXRzID0gW107XHJcbiAgICAgIC8vIENvbnZlcnQgc3RyaW5nIHRvIGFycmF5IG9mIGRpZ2l0cyB3aXRob3V0IGxlYWRpbmcvdHJhaWxpbmcgemVyb3MuXHJcbiAgICAgIGZvciAoaiA9IDA7IGkgPD0gemVyb3M7IGkrKywgaisrKSB7XHJcbiAgICAgICAgZGlnaXRzW2pdID0gK251bVN0ci5jaGFyQXQoaSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBJZiB0aGUgbnVtYmVyIG92ZXJmbG93cyB0aGUgbWF4aW11bSBhbGxvd2VkIGRpZ2l0cyB0aGVuIHVzZSBhbiBleHBvbmVudC5cclxuICAgIGlmIChudW1iZXJPZkludGVnZXJEaWdpdHMgPiBNQVhfRElHSVRTKSB7XHJcbiAgICAgIGRpZ2l0cyA9IGRpZ2l0cy5zcGxpY2UoMCwgTUFYX0RJR0lUUyAtIDEpO1xyXG4gICAgICBleHBvbmVudCA9IG51bWJlck9mSW50ZWdlckRpZ2l0cyAtIDE7XHJcbiAgICAgIG51bWJlck9mSW50ZWdlckRpZ2l0cyA9IDE7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHsgZDogZGlnaXRzLCBlOiBleHBvbmVudCwgaTogbnVtYmVyT2ZJbnRlZ2VyRGlnaXRzIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSb3VuZCB0aGUgcGFyc2VkIG51bWJlciB0byB0aGUgc3BlY2lmaWVkIG51bWJlciBvZiBkZWNpbWFsIHBsYWNlc1xyXG4gICAqIFRoaXMgZnVuY3Rpb24gY2hhbmdlZCB0aGUgcGFyc2VkTnVtYmVyIGluLXBsYWNlXHJcbiAgICovXHJcbiAgZnVuY3Rpb24gcm91bmROdW1iZXIocGFyc2VkTnVtYmVyLCBmcmFjdGlvblNpemUsIG1pbkZyYWMsIG1heEZyYWMpIHtcclxuICAgIHZhciBkaWdpdHMgPSBwYXJzZWROdW1iZXIuZDtcclxuICAgIHZhciBmcmFjdGlvbkxlbiA9IGRpZ2l0cy5sZW5ndGggLSBwYXJzZWROdW1iZXIuaTtcclxuXHJcbiAgICAvLyBkZXRlcm1pbmUgZnJhY3Rpb25TaXplIGlmIGl0IGlzIG5vdCBzcGVjaWZpZWQ7IGArZnJhY3Rpb25TaXplYCBjb252ZXJ0cyBpdCB0byBhIG51bWJlclxyXG4gICAgZnJhY3Rpb25TaXplID0gaXNVbmRlZmluZWQoZnJhY3Rpb25TaXplKSA/IE1hdGgubWluKE1hdGgubWF4KG1pbkZyYWMsIGZyYWN0aW9uTGVuKSwgbWF4RnJhYykgOiArZnJhY3Rpb25TaXplO1xyXG5cclxuICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgZGlnaXQgdG8gd2hlcmUgcm91bmRpbmcgaXMgdG8gb2NjdXJcclxuICAgIHZhciByb3VuZEF0ID0gZnJhY3Rpb25TaXplICsgcGFyc2VkTnVtYmVyLmk7XHJcbiAgICB2YXIgZGlnaXQgPSBkaWdpdHNbcm91bmRBdF07XHJcblxyXG4gICAgaWYgKHJvdW5kQXQgPiAwKSB7XHJcbiAgICAgIC8vIERyb3AgZnJhY3Rpb25hbCBkaWdpdHMgYmV5b25kIGByb3VuZEF0YFxyXG4gICAgICBkaWdpdHMuc3BsaWNlKE1hdGgubWF4KHBhcnNlZE51bWJlci5pLCByb3VuZEF0KSk7XHJcblxyXG4gICAgICAvLyBTZXQgbm9uLWZyYWN0aW9uYWwgZGlnaXRzIGJleW9uZCBgcm91bmRBdGAgdG8gMFxyXG4gICAgICBmb3IgKHZhciBqID0gcm91bmRBdDsgaiA8IGRpZ2l0cy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgIGRpZ2l0c1tqXSA9IDA7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFdlIHJvdW5kZWQgdG8gemVybyBzbyByZXNldCB0aGUgcGFyc2VkTnVtYmVyXHJcbiAgICAgIGZyYWN0aW9uTGVuID0gTWF0aC5tYXgoMCwgZnJhY3Rpb25MZW4pO1xyXG4gICAgICBwYXJzZWROdW1iZXIuaSA9IDE7XHJcbiAgICAgIGRpZ2l0cy5sZW5ndGggPSBNYXRoLm1heCgxLCByb3VuZEF0ID0gZnJhY3Rpb25TaXplICsgMSk7XHJcbiAgICAgIGRpZ2l0c1swXSA9IDA7XHJcbiAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgcm91bmRBdDsgaSsrKSB7XHJcbiAgICAgICAgZGlnaXRzW2ldID0gMDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChkaWdpdCA+PSA1KSB7XHJcbiAgICAgIGlmIChyb3VuZEF0IC0gMSA8IDApIHtcclxuICAgICAgICBmb3IgKHZhciBrID0gMDsgayA+IHJvdW5kQXQ7IGstLSkge1xyXG4gICAgICAgICAgZGlnaXRzLnVuc2hpZnQoMCk7XHJcbiAgICAgICAgICBwYXJzZWROdW1iZXIuaSsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkaWdpdHMudW5zaGlmdCgxKTtcclxuICAgICAgICBwYXJzZWROdW1iZXIuaSsrO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGRpZ2l0c1tyb3VuZEF0IC0gMV0rKztcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBhZCBvdXQgd2l0aCB6ZXJvcyB0byBnZXQgdGhlIHJlcXVpcmVkIGZyYWN0aW9uIGxlbmd0aFxyXG4gICAgZm9yICg7IGZyYWN0aW9uTGVuIDwgTWF0aC5tYXgoMCwgZnJhY3Rpb25TaXplKTsgZnJhY3Rpb25MZW4rKykge1xyXG4gICAgICBkaWdpdHMucHVzaCgwKTtcclxuICAgIH0gLy8gRG8gYW55IGNhcnJ5aW5nLCBlLmcuIGEgZGlnaXQgd2FzIHJvdW5kZWQgdXAgdG8gMTBcclxuICAgIHZhciBjYXJyeSA9IGRpZ2l0cy5yZWR1Y2VSaWdodChmdW5jdGlvbiAoY2FycnksIGQsIGksIGRpZ2l0cykge1xyXG4gICAgICBkID0gZCArIGNhcnJ5O1xyXG4gICAgICBkaWdpdHNbaV0gPSBkICUgMTA7XHJcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGQgLyAxMCk7XHJcbiAgICB9LCAwKTtcclxuICAgIGlmIChjYXJyeSkge1xyXG4gICAgICBkaWdpdHMudW5zaGlmdChjYXJyeSk7XHJcbiAgICAgIHBhcnNlZE51bWJlci5pKys7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBGb3JtYXQgYSBudW1iZXIgaW50byBhIHN0cmluZ1xyXG4gICAqIEBwYXJhbSAge251bWJlcn0gbnVtYmVyICAgICAgIFRoZSBudW1iZXIgdG8gZm9ybWF0XHJcbiAgICogQHBhcmFtICB7e1xyXG4gICAqICAgICAgICAgICBtaW5GcmFjLCAvLyB0aGUgbWluaW11bSBudW1iZXIgb2YgZGlnaXRzIHJlcXVpcmVkIGluIHRoZSBmcmFjdGlvbiBwYXJ0IG9mIHRoZSBudW1iZXJcclxuICAgKiAgICAgICAgICAgbWF4RnJhYywgLy8gdGhlIG1heGltdW0gbnVtYmVyIG9mIGRpZ2l0cyByZXF1aXJlZCBpbiB0aGUgZnJhY3Rpb24gcGFydCBvZiB0aGUgbnVtYmVyXHJcbiAgICogICAgICAgICAgIGdTaXplLCAgIC8vIG51bWJlciBvZiBkaWdpdHMgaW4gZWFjaCBncm91cCBvZiBzZXBhcmF0ZWQgZGlnaXRzXHJcbiAgICogICAgICAgICAgIGxnU2l6ZSwgIC8vIG51bWJlciBvZiBkaWdpdHMgaW4gdGhlIGxhc3QgZ3JvdXAgb2YgZGlnaXRzIGJlZm9yZSB0aGUgZGVjaW1hbCBzZXBhcmF0b3JcclxuICAgKiAgICAgICAgICAgbmVnUHJlLCAgLy8gdGhlIHN0cmluZyB0byBnbyBpbiBmcm9udCBvZiBhIG5lZ2F0aXZlIG51bWJlciAoZS5nLiBgLWAgb3IgYChgKSlcclxuICAgKiAgICAgICAgICAgcG9zUHJlLCAgLy8gdGhlIHN0cmluZyB0byBnbyBpbiBmcm9udCBvZiBhIHBvc2l0aXZlIG51bWJlclxyXG4gICAqICAgICAgICAgICBuZWdTdWYsICAvLyB0aGUgc3RyaW5nIHRvIGdvIGFmdGVyIGEgbmVnYXRpdmUgbnVtYmVyIChlLmcuIGApYClcclxuICAgKiAgICAgICAgICAgcG9zU3VmICAgLy8gdGhlIHN0cmluZyB0byBnbyBhZnRlciBhIHBvc2l0aXZlIG51bWJlclxyXG4gICAqICAgICAgICAgfX0gcGF0dGVyblxyXG4gICAqIEBwYXJhbSAge3N0cmluZ30gZ3JvdXBTZXAgICAgIFRoZSBzdHJpbmcgdG8gc2VwYXJhdGUgZ3JvdXBzIG9mIG51bWJlciAoZS5nLiBgLGApXHJcbiAgICogQHBhcmFtICB7c3RyaW5nfSBkZWNpbWFsU2VwICAgVGhlIHN0cmluZyB0byBhY3QgYXMgdGhlIGRlY2ltYWwgc2VwYXJhdG9yIChlLmcuIGAuYClcclxuICAgKiBAcGFyYW0gIHtbdHlwZV19IGZyYWN0aW9uU2l6ZSBUaGUgc2l6ZSBvZiB0aGUgZnJhY3Rpb25hbCBwYXJ0IG9mIHRoZSBudW1iZXJcclxuICAgKiBAcmV0dXJuIHtzdHJpbmd9ICAgICAgICAgICAgICBUaGUgbnVtYmVyIGZvcm1hdHRlZCBhcyBhIHN0cmluZ1xyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIGZvcm1hdE51bWJlcihudW1iZXIsIHBhdHRlcm4sIGdyb3VwU2VwLCBkZWNpbWFsU2VwLCBmcmFjdGlvblNpemUpIHtcclxuXHJcbiAgICBpZiAoIShpc1N0cmluZyhudW1iZXIpIHx8IGlzTnVtYmVyKG51bWJlcikpIHx8IGlzTmFOKG51bWJlcikpIHJldHVybiAnJztcclxuXHJcbiAgICB2YXIgaXNJbmZpbml0eSA9ICFpc0Zpbml0ZShudW1iZXIpO1xyXG4gICAgdmFyIGlzWmVybyA9IGZhbHNlO1xyXG4gICAgdmFyIG51bVN0ciA9IE1hdGguYWJzKG51bWJlcikgKyAnJyxcclxuICAgICAgICBmb3JtYXR0ZWRUZXh0ID0gJycsXHJcbiAgICAgICAgcGFyc2VkTnVtYmVyO1xyXG5cclxuICAgIGlmIChpc0luZmluaXR5KSB7XHJcbiAgICAgIGZvcm1hdHRlZFRleHQgPSAnXFx1MjIxRSc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBwYXJzZWROdW1iZXIgPSBwYXJzZShudW1TdHIpO1xyXG5cclxuICAgICAgcm91bmROdW1iZXIocGFyc2VkTnVtYmVyLCBmcmFjdGlvblNpemUsIHBhdHRlcm4ubWluRnJhYywgcGF0dGVybi5tYXhGcmFjKTtcclxuXHJcbiAgICAgIHZhciBkaWdpdHMgPSBwYXJzZWROdW1iZXIuZDtcclxuICAgICAgdmFyIGludGVnZXJMZW4gPSBwYXJzZWROdW1iZXIuaTtcclxuICAgICAgdmFyIGV4cG9uZW50ID0gcGFyc2VkTnVtYmVyLmU7XHJcbiAgICAgIHZhciBkZWNpbWFscyA9IFtdO1xyXG4gICAgICBpc1plcm8gPSBkaWdpdHMucmVkdWNlKGZ1bmN0aW9uIChpc1plcm8sIGQpIHtcclxuICAgICAgICByZXR1cm4gaXNaZXJvICYmICFkO1xyXG4gICAgICB9LCB0cnVlKTtcclxuXHJcbiAgICAgIC8vIHBhZCB6ZXJvcyBmb3Igc21hbGwgbnVtYmVyc1xyXG4gICAgICB3aGlsZSAoaW50ZWdlckxlbiA8IDApIHtcclxuICAgICAgICBkaWdpdHMudW5zaGlmdCgwKTtcclxuICAgICAgICBpbnRlZ2VyTGVuKys7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGV4dHJhY3QgZGVjaW1hbHMgZGlnaXRzXHJcbiAgICAgIGlmIChpbnRlZ2VyTGVuID4gMCkge1xyXG4gICAgICAgIGRlY2ltYWxzID0gZGlnaXRzLnNwbGljZShpbnRlZ2VyTGVuLCBkaWdpdHMubGVuZ3RoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBkZWNpbWFscyA9IGRpZ2l0cztcclxuICAgICAgICBkaWdpdHMgPSBbMF07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIGZvcm1hdCB0aGUgaW50ZWdlciBkaWdpdHMgd2l0aCBncm91cGluZyBzZXBhcmF0b3JzXHJcbiAgICAgIHZhciBncm91cHMgPSBbXTtcclxuICAgICAgaWYgKGRpZ2l0cy5sZW5ndGggPj0gcGF0dGVybi5sZ1NpemUpIHtcclxuICAgICAgICBncm91cHMudW5zaGlmdChkaWdpdHMuc3BsaWNlKC1wYXR0ZXJuLmxnU2l6ZSwgZGlnaXRzLmxlbmd0aCkuam9pbignJykpO1xyXG4gICAgICB9XHJcbiAgICAgIHdoaWxlIChkaWdpdHMubGVuZ3RoID4gcGF0dGVybi5nU2l6ZSkge1xyXG4gICAgICAgIGdyb3Vwcy51bnNoaWZ0KGRpZ2l0cy5zcGxpY2UoLXBhdHRlcm4uZ1NpemUsIGRpZ2l0cy5sZW5ndGgpLmpvaW4oJycpKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoZGlnaXRzLmxlbmd0aCkge1xyXG4gICAgICAgIGdyb3Vwcy51bnNoaWZ0KGRpZ2l0cy5qb2luKCcnKSk7XHJcbiAgICAgIH1cclxuICAgICAgZm9ybWF0dGVkVGV4dCA9IGdyb3Vwcy5qb2luKGdyb3VwU2VwKTtcclxuXHJcbiAgICAgIC8vIGFwcGVuZCB0aGUgZGVjaW1hbCBkaWdpdHNcclxuICAgICAgaWYgKGRlY2ltYWxzLmxlbmd0aCkge1xyXG4gICAgICAgIGZvcm1hdHRlZFRleHQgKz0gZGVjaW1hbFNlcCArIGRlY2ltYWxzLmpvaW4oJycpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoZXhwb25lbnQpIHtcclxuICAgICAgICBmb3JtYXR0ZWRUZXh0ICs9ICdlKycgKyBleHBvbmVudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgaWYgKG51bWJlciA8IDAgJiYgIWlzWmVybykge1xyXG4gICAgICByZXR1cm4gcGF0dGVybi5uZWdQcmUgKyBmb3JtYXR0ZWRUZXh0ICsgcGF0dGVybi5uZWdTdWY7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gcGF0dGVybi5wb3NQcmUgKyBmb3JtYXR0ZWRUZXh0ICsgcGF0dGVybi5wb3NTdWY7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwYWROdW1iZXIobnVtLCBkaWdpdHMsIHRyaW0sIG5lZ1dyYXApIHtcclxuICAgIHZhciBuZWcgPSAnJztcclxuICAgIGlmIChudW0gPCAwIHx8IG5lZ1dyYXAgJiYgbnVtIDw9IDApIHtcclxuICAgICAgaWYgKG5lZ1dyYXApIHtcclxuICAgICAgICBudW0gPSAtbnVtICsgMTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBudW0gPSAtbnVtO1xyXG4gICAgICAgIG5lZyA9ICctJztcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgbnVtID0gJycgKyBudW07XHJcbiAgICB3aGlsZSAobnVtLmxlbmd0aCA8IGRpZ2l0cykge1xyXG4gICAgICBudW0gPSBaRVJPX0NIQVIgKyBudW07XHJcbiAgICB9aWYgKHRyaW0pIHtcclxuICAgICAgbnVtID0gbnVtLnN1YnN0cihudW0ubGVuZ3RoIC0gZGlnaXRzKTtcclxuICAgIH1cclxuICAgIHJldHVybiBuZWcgKyBudW07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBkYXRlR2V0dGVyKG5hbWUsIHNpemUsIG9mZnNldCwgdHJpbSwgbmVnV3JhcCkge1xyXG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGUpIHtcclxuICAgICAgdmFyIHZhbHVlID0gZGF0ZVsnZ2V0JyArIG5hbWVdKCk7XHJcbiAgICAgIGlmIChvZmZzZXQgPiAwIHx8IHZhbHVlID4gLW9mZnNldCkge1xyXG4gICAgICAgIHZhbHVlICs9IG9mZnNldDtcclxuICAgICAgfVxyXG4gICAgICBpZiAodmFsdWUgPT09IDAgJiYgb2Zmc2V0ID09PSAtMTIpIHZhbHVlID0gMTI7XHJcbiAgICAgIHJldHVybiBwYWROdW1iZXIodmFsdWUsIHNpemUsIHRyaW0sIG5lZ1dyYXApO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGRhdGVTdHJHZXR0ZXIobmFtZSwgc2hvcnRGb3JtLCBzdGFuZEFsb25lKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGUsIGZvcm1hdHMpIHtcclxuICAgICAgdmFyIHZhbHVlID0gZGF0ZVsnZ2V0JyArIG5hbWVdKCk7XHJcbiAgICAgIHZhciBwcm9wUHJlZml4ID0gKHN0YW5kQWxvbmUgPyAnU1RBTkRBTE9ORScgOiAnJykgKyAoc2hvcnRGb3JtID8gJ1NIT1JUJyA6ICcnKTtcclxuICAgICAgdmFyIGdldCA9IHVwcGVyY2FzZShwcm9wUHJlZml4ICsgbmFtZSk7XHJcblxyXG4gICAgICByZXR1cm4gZm9ybWF0c1tnZXRdW3ZhbHVlXTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0aW1lWm9uZUdldHRlcihkYXRlLCBmb3JtYXRzLCBvZmZzZXQpIHtcclxuICAgIHZhciB6b25lID0gLTEgKiBvZmZzZXQ7XHJcbiAgICB2YXIgcGFkZGVkWm9uZSA9IHpvbmUgPj0gMCA/ICcrJyA6ICcnO1xyXG5cclxuICAgIHBhZGRlZFpvbmUgKz0gcGFkTnVtYmVyKE1hdGhbem9uZSA+IDAgPyAnZmxvb3InIDogJ2NlaWwnXSh6b25lIC8gNjApLCAyKSArIHBhZE51bWJlcihNYXRoLmFicyh6b25lICUgNjApLCAyKTtcclxuXHJcbiAgICByZXR1cm4gcGFkZGVkWm9uZTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhcikge1xyXG4gICAgLy8gMCA9IGluZGV4IG9mIEphbnVhcnlcclxuICAgIHZhciBkYXlPZldlZWtPbkZpcnN0ID0gbmV3IERhdGUoeWVhciwgMCwgMSkuZ2V0RGF5KCk7XHJcbiAgICAvLyA0ID0gaW5kZXggb2YgVGh1cnNkYXkgKCsxIHRvIGFjY291bnQgZm9yIDFzdCA9IDUpXHJcbiAgICAvLyAxMSA9IGluZGV4IG9mICpuZXh0KiBUaHVyc2RheSAoKzEgYWNjb3VudCBmb3IgMXN0ID0gMTIpXHJcbiAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgKGRheU9mV2Vla09uRmlyc3QgPD0gNCA/IDUgOiAxMikgLSBkYXlPZldlZWtPbkZpcnN0KTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGdldFRodXJzZGF5VGhpc1dlZWsoZGF0ZXRpbWUpIHtcclxuICAgIHJldHVybiBuZXcgRGF0ZShkYXRldGltZS5nZXRGdWxsWWVhcigpLCBkYXRldGltZS5nZXRNb250aCgpLFxyXG4gICAgLy8gNCA9IGluZGV4IG9mIFRodXJzZGF5XHJcbiAgICBkYXRldGltZS5nZXREYXRlKCkgKyAoNCAtIGRhdGV0aW1lLmdldERheSgpKSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB3ZWVrR2V0dGVyKHNpemUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZGF0ZSkge1xyXG4gICAgICB2YXIgZmlyc3RUaHVycyA9IGdldEZpcnN0VGh1cnNkYXlPZlllYXIoZGF0ZS5nZXRGdWxsWWVhcigpKSxcclxuICAgICAgICAgIHRoaXNUaHVycyA9IGdldFRodXJzZGF5VGhpc1dlZWsoZGF0ZSk7XHJcblxyXG4gICAgICB2YXIgZGlmZiA9ICt0aGlzVGh1cnMgLSArZmlyc3RUaHVycyxcclxuICAgICAgICAgIHJlc3VsdCA9IDEgKyBNYXRoLnJvdW5kKGRpZmYgLyA2LjA0OGU4KTsgLy8gNi4wNDhlOCBtcyBwZXIgd2Vla1xyXG5cclxuICAgICAgcmV0dXJuIHBhZE51bWJlcihyZXN1bHQsIHNpemUpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGFtcG1HZXR0ZXIoZGF0ZSwgZm9ybWF0cykge1xyXG4gICAgcmV0dXJuIGRhdGUuZ2V0SG91cnMoKSA8IDEyID8gZm9ybWF0cy5BTVBNU1swXSA6IGZvcm1hdHMuQU1QTVNbMV07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBlcmFHZXR0ZXIoZGF0ZSwgZm9ybWF0cykge1xyXG4gICAgcmV0dXJuIGRhdGUuZ2V0RnVsbFllYXIoKSA8PSAwID8gZm9ybWF0cy5FUkFTWzBdIDogZm9ybWF0cy5FUkFTWzFdO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbG9uZ0VyYUdldHRlcihkYXRlLCBmb3JtYXRzKSB7XHJcbiAgICByZXR1cm4gZGF0ZS5nZXRGdWxsWWVhcigpIDw9IDAgPyBmb3JtYXRzLkVSQU5BTUVTWzBdIDogZm9ybWF0cy5FUkFOQU1FU1sxXTtcclxuICB9XHJcblxyXG4gIHZhciBEQVRFX0ZPUk1BVFMgPSB7XHJcbiAgICB5eXl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDQsIDAsIGZhbHNlLCB0cnVlKSxcclxuICAgIHl5OiBkYXRlR2V0dGVyKCdGdWxsWWVhcicsIDIsIDAsIHRydWUsIHRydWUpLFxyXG4gICAgeTogZGF0ZUdldHRlcignRnVsbFllYXInLCAxLCAwLCBmYWxzZSwgdHJ1ZSksXHJcbiAgICBNTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcpLFxyXG4gICAgTU1NOiBkYXRlU3RyR2V0dGVyKCdNb250aCcsIHRydWUpLFxyXG4gICAgTU06IGRhdGVHZXR0ZXIoJ01vbnRoJywgMiwgMSksXHJcbiAgICBNOiBkYXRlR2V0dGVyKCdNb250aCcsIDEsIDEpLFxyXG4gICAgTExMTDogZGF0ZVN0ckdldHRlcignTW9udGgnLCBmYWxzZSwgdHJ1ZSksXHJcbiAgICBkZDogZGF0ZUdldHRlcignRGF0ZScsIDIpLFxyXG4gICAgZDogZGF0ZUdldHRlcignRGF0ZScsIDEpLFxyXG4gICAgSEg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMiksXHJcbiAgICBIOiBkYXRlR2V0dGVyKCdIb3VycycsIDEpLFxyXG4gICAgaGg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMiwgLTEyKSxcclxuICAgIGg6IGRhdGVHZXR0ZXIoJ0hvdXJzJywgMSwgLTEyKSxcclxuICAgIG1tOiBkYXRlR2V0dGVyKCdNaW51dGVzJywgMiksXHJcbiAgICBtOiBkYXRlR2V0dGVyKCdNaW51dGVzJywgMSksXHJcbiAgICBzczogZGF0ZUdldHRlcignU2Vjb25kcycsIDIpLFxyXG4gICAgczogZGF0ZUdldHRlcignU2Vjb25kcycsIDEpLFxyXG4gICAgLy8gd2hpbGUgSVNPIDg2MDEgcmVxdWlyZXMgZnJhY3Rpb25zIHRvIGJlIHByZWZpeGVkIHdpdGggYC5gIG9yIGAsYFxyXG4gICAgLy8gd2UgY2FuIGJlIGp1c3Qgc2FmZWx5IHJlbHkgb24gdXNpbmcgYHNzc2Agc2luY2Ugd2UgY3VycmVudGx5IGRvbid0IHN1cHBvcnQgc2luZ2xlIG9yIHR3byBkaWdpdCBmcmFjdGlvbnNcclxuICAgIHNzczogZGF0ZUdldHRlcignTWlsbGlzZWNvbmRzJywgMyksXHJcbiAgICBFRUVFOiBkYXRlU3RyR2V0dGVyKCdEYXknKSxcclxuICAgIEVFRTogZGF0ZVN0ckdldHRlcignRGF5JywgdHJ1ZSksXHJcbiAgICBhOiBhbXBtR2V0dGVyLFxyXG4gICAgWjogdGltZVpvbmVHZXR0ZXIsXHJcbiAgICB3dzogd2Vla0dldHRlcigyKSxcclxuICAgIHc6IHdlZWtHZXR0ZXIoMSksXHJcbiAgICBHOiBlcmFHZXR0ZXIsXHJcbiAgICBHRzogZXJhR2V0dGVyLFxyXG4gICAgR0dHOiBlcmFHZXR0ZXIsXHJcbiAgICBHR0dHOiBsb25nRXJhR2V0dGVyXHJcbiAgfTtcclxuXHJcbiAgdmFyIERBVEVfRk9STUFUU19TUExJVCA9IC8oKD86W155TUxkSGhtc2FaRXdHJ10rKXwoPzonKD86W14nXXwnJykqJyl8KD86RSt8eSt8TSt8TCt8ZCt8SCt8aCt8bSt8cyt8YXxafEcrfHcrKSkoW1xcc1xcU10qKS8sXHJcbiAgICAgIE5VTUJFUl9TVFJJTkcgPSAvXi0/XFxkKyQvO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZmlsdGVyXHJcbiAgICogQG5hbWUgZGF0ZVxyXG4gICAqIEBraW5kIGZ1bmN0aW9uXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiAgIEZvcm1hdHMgYGRhdGVgIHRvIGEgc3RyaW5nIGJhc2VkIG9uIHRoZSByZXF1ZXN0ZWQgYGZvcm1hdGAuXHJcbiAgICpcclxuICAgKiAgIGBmb3JtYXRgIHN0cmluZyBjYW4gYmUgY29tcG9zZWQgb2YgdGhlIGZvbGxvd2luZyBlbGVtZW50czpcclxuICAgKlxyXG4gICAqICAgKiBgJ3l5eXknYDogNCBkaWdpdCByZXByZXNlbnRhdGlvbiBvZiB5ZWFyIChlLmcuIEFEIDEgPT4gMDAwMSwgQUQgMjAxMCA9PiAyMDEwKVxyXG4gICAqICAgKiBgJ3l5J2A6IDIgZGlnaXQgcmVwcmVzZW50YXRpb24gb2YgeWVhciwgcGFkZGVkICgwMC05OSkuIChlLmcuIEFEIDIwMDEgPT4gMDEsIEFEIDIwMTAgPT4gMTApXHJcbiAgICogICAqIGAneSdgOiAxIGRpZ2l0IHJlcHJlc2VudGF0aW9uIG9mIHllYXIsIGUuZy4gKEFEIDEgPT4gMSwgQUQgMTk5ID0+IDE5OSlcclxuICAgKiAgICogYCdNTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbnVhcnktRGVjZW1iZXIpXHJcbiAgICogICAqIGAnTU1NJ2A6IE1vbnRoIGluIHllYXIgKEphbi1EZWMpXHJcbiAgICogICAqIGAnTU0nYDogTW9udGggaW4geWVhciwgcGFkZGVkICgwMS0xMilcclxuICAgKiAgICogYCdNJ2A6IE1vbnRoIGluIHllYXIgKDEtMTIpXHJcbiAgICogICAqIGAnTExMTCdgOiBTdGFuZC1hbG9uZSBtb250aCBpbiB5ZWFyIChKYW51YXJ5LURlY2VtYmVyKVxyXG4gICAqICAgKiBgJ2RkJ2A6IERheSBpbiBtb250aCwgcGFkZGVkICgwMS0zMSlcclxuICAgKiAgICogYCdkJ2A6IERheSBpbiBtb250aCAoMS0zMSlcclxuICAgKiAgICogYCdFRUVFJ2A6IERheSBpbiBXZWVrLChTdW5kYXktU2F0dXJkYXkpXHJcbiAgICogICAqIGAnRUVFJ2A6IERheSBpbiBXZWVrLCAoU3VuLVNhdClcclxuICAgKiAgICogYCdISCdgOiBIb3VyIGluIGRheSwgcGFkZGVkICgwMC0yMylcclxuICAgKiAgICogYCdIJ2A6IEhvdXIgaW4gZGF5ICgwLTIzKVxyXG4gICAqICAgKiBgJ2hoJ2A6IEhvdXIgaW4gQU0vUE0sIHBhZGRlZCAoMDEtMTIpXHJcbiAgICogICAqIGAnaCdgOiBIb3VyIGluIEFNL1BNLCAoMS0xMilcclxuICAgKiAgICogYCdtbSdgOiBNaW51dGUgaW4gaG91ciwgcGFkZGVkICgwMC01OSlcclxuICAgKiAgICogYCdtJ2A6IE1pbnV0ZSBpbiBob3VyICgwLTU5KVxyXG4gICAqICAgKiBgJ3NzJ2A6IFNlY29uZCBpbiBtaW51dGUsIHBhZGRlZCAoMDAtNTkpXHJcbiAgICogICAqIGAncydgOiBTZWNvbmQgaW4gbWludXRlICgwLTU5KVxyXG4gICAqICAgKiBgJ3NzcydgOiBNaWxsaXNlY29uZCBpbiBzZWNvbmQsIHBhZGRlZCAoMDAwLTk5OSlcclxuICAgKiAgICogYCdhJ2A6IEFNL1BNIG1hcmtlclxyXG4gICAqICAgKiBgJ1onYDogNCBkaWdpdCAoK3NpZ24pIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0aW1lem9uZSBvZmZzZXQgKC0xMjAwLSsxMjAwKVxyXG4gICAqICAgKiBgJ3d3J2A6IFdlZWsgb2YgeWVhciwgcGFkZGVkICgwMC01MykuIFdlZWsgMDEgaXMgdGhlIHdlZWsgd2l0aCB0aGUgZmlyc3QgVGh1cnNkYXkgb2YgdGhlIHllYXJcclxuICAgKiAgICogYCd3J2A6IFdlZWsgb2YgeWVhciAoMC01MykuIFdlZWsgMSBpcyB0aGUgd2VlayB3aXRoIHRoZSBmaXJzdCBUaHVyc2RheSBvZiB0aGUgeWVhclxyXG4gICAqICAgKiBgJ0cnYCwgYCdHRydgLCBgJ0dHRydgOiBUaGUgYWJicmV2aWF0ZWQgZm9ybSBvZiB0aGUgZXJhIHN0cmluZyAoZS5nLiAnQUQnKVxyXG4gICAqICAgKiBgJ0dHR0cnYDogVGhlIGxvbmcgZm9ybSBvZiB0aGUgZXJhIHN0cmluZyAoZS5nLiAnQW5ubyBEb21pbmknKVxyXG4gICAqXHJcbiAgICogICBgZm9ybWF0YCBzdHJpbmcgY2FuIGFsc28gYmUgb25lIG9mIHRoZSBmb2xsb3dpbmcgcHJlZGVmaW5lZFxyXG4gICAqICAge0BsaW5rIGd1aWRlL2kxOG4gbG9jYWxpemFibGUgZm9ybWF0c306XHJcbiAgICpcclxuICAgKiAgICogYCdtZWRpdW0nYDogZXF1aXZhbGVudCB0byBgJ01NTSBkLCB5IGg6bW06c3MgYSdgIGZvciBlbl9VUyBsb2NhbGVcclxuICAgKiAgICAgKGUuZy4gU2VwIDMsIDIwMTAgMTI6MDU6MDggUE0pXHJcbiAgICogICAqIGAnc2hvcnQnYDogZXF1aXZhbGVudCB0byBgJ00vZC95eSBoOm1tIGEnYCBmb3IgZW5fVVMgIGxvY2FsZSAoZS5nLiA5LzMvMTAgMTI6MDUgUE0pXHJcbiAgICogICAqIGAnZnVsbERhdGUnYDogZXF1aXZhbGVudCB0byBgJ0VFRUUsIE1NTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlXHJcbiAgICogICAgIChlLmcuIEZyaWRheSwgU2VwdGVtYmVyIDMsIDIwMTApXHJcbiAgICogICAqIGAnbG9uZ0RhdGUnYDogZXF1aXZhbGVudCB0byBgJ01NTU0gZCwgeSdgIGZvciBlbl9VUyAgbG9jYWxlIChlLmcuIFNlcHRlbWJlciAzLCAyMDEwKVxyXG4gICAqICAgKiBgJ21lZGl1bURhdGUnYDogZXF1aXZhbGVudCB0byBgJ01NTSBkLCB5J2AgZm9yIGVuX1VTICBsb2NhbGUgKGUuZy4gU2VwIDMsIDIwMTApXHJcbiAgICogICAqIGAnc2hvcnREYXRlJ2A6IGVxdWl2YWxlbnQgdG8gYCdNL2QveXknYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDkvMy8xMClcclxuICAgKiAgICogYCdtZWRpdW1UaW1lJ2A6IGVxdWl2YWxlbnQgdG8gYCdoOm1tOnNzIGEnYCBmb3IgZW5fVVMgbG9jYWxlIChlLmcuIDEyOjA1OjA4IFBNKVxyXG4gICAqICAgKiBgJ3Nob3J0VGltZSdgOiBlcXVpdmFsZW50IHRvIGAnaDptbSBhJ2AgZm9yIGVuX1VTIGxvY2FsZSAoZS5nLiAxMjowNSBQTSlcclxuICAgKlxyXG4gICAqICAgYGZvcm1hdGAgc3RyaW5nIGNhbiBjb250YWluIGxpdGVyYWwgdmFsdWVzLiBUaGVzZSBuZWVkIHRvIGJlIGVzY2FwZWQgYnkgc3Vycm91bmRpbmcgd2l0aCBzaW5nbGUgcXVvdGVzIChlLmcuXHJcbiAgICogICBgXCJoICdpbiB0aGUgbW9ybmluZydcImApLiBJbiBvcmRlciB0byBvdXRwdXQgYSBzaW5nbGUgcXVvdGUsIGVzY2FwZSBpdCAtIGkuZS4sIHR3byBzaW5nbGUgcXVvdGVzIGluIGEgc2VxdWVuY2VcclxuICAgKiAgIChlLmcuIGBcImggJ28nJ2Nsb2NrJ1wiYCkuXHJcbiAgICpcclxuICAgKiAgIEFueSBvdGhlciBjaGFyYWN0ZXJzIGluIHRoZSBgZm9ybWF0YCBzdHJpbmcgd2lsbCBiZSBvdXRwdXQgYXMtaXMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyhEYXRlfG51bWJlcnxzdHJpbmcpfSBkYXRlIERhdGUgdG8gZm9ybWF0IGVpdGhlciBhcyBEYXRlIG9iamVjdCwgbWlsbGlzZWNvbmRzIChzdHJpbmcgb3JcclxuICAgKiAgICBudW1iZXIpIG9yIHZhcmlvdXMgSVNPIDg2MDEgZGF0ZXRpbWUgc3RyaW5nIGZvcm1hdHMgKGUuZy4geXl5eS1NTS1kZFRISDptbTpzcy5zc3NaIGFuZCBpdHNcclxuICAgKiAgICBzaG9ydGVyIHZlcnNpb25zIGxpa2UgeXl5eS1NTS1kZFRISDptbVosIHl5eXktTU0tZGQgb3IgeXl5eU1NZGRUSEhtbXNzWikuIElmIG5vIHRpbWV6b25lIGlzXHJcbiAgICogICAgc3BlY2lmaWVkIGluIHRoZSBzdHJpbmcgaW5wdXQsIHRoZSB0aW1lIGlzIGNvbnNpZGVyZWQgdG8gYmUgaW4gdGhlIGxvY2FsIHRpbWV6b25lLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gZm9ybWF0IEZvcm1hdHRpbmcgcnVsZXMgKHNlZSBEZXNjcmlwdGlvbikuIElmIG5vdCBzcGVjaWZpZWQsXHJcbiAgICogICAgYG1lZGl1bURhdGVgIGlzIHVzZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSB0aW1lem9uZSBUaW1lem9uZSB0byBiZSB1c2VkIGZvciBmb3JtYXR0aW5nLiBJdCB1bmRlcnN0YW5kcyBVVEMvR01UIGFuZCB0aGVcclxuICAgKiAgICBjb250aW5lbnRhbCBVUyB0aW1lIHpvbmUgYWJicmV2aWF0aW9ucywgYnV0IGZvciBnZW5lcmFsIHVzZSwgdXNlIGEgdGltZSB6b25lIG9mZnNldCwgZm9yXHJcbiAgICogICAgZXhhbXBsZSwgYCcrMDQzMCdgICg0IGhvdXJzLCAzMCBtaW51dGVzIGVhc3Qgb2YgdGhlIEdyZWVud2ljaCBtZXJpZGlhbilcclxuICAgKiAgICBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIgd2lsbCBiZSB1c2VkLlxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEZvcm1hdHRlZCBzdHJpbmcgb3IgdGhlIGlucHV0IGlmIGlucHV0IGlzIG5vdCByZWNvZ25pemVkIGFzIGRhdGUvbWlsbGlzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwiZmlsdGVyLWRhdGVcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidtZWRpdW0nfX08L3NwYW4+OlxyXG4gICAgICAgICAgICAgPHNwYW4+e3sxMjg4MzIzNjIzMDA2IHwgZGF0ZTonbWVkaXVtJ319PC9zcGFuPjxicj5cclxuICAgICAgICAgPHNwYW4gbmctbm9uLWJpbmRhYmxlPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWid9fTwvc3Bhbj46XHJcbiAgICAgICAgICAgIDxzcGFuPnt7MTI4ODMyMzYyMzAwNiB8IGRhdGU6J3l5eXktTU0tZGQgSEg6bW06c3MgWid9fTwvc3Bhbj48YnI+XHJcbiAgICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOidNTS9kZC95eXl5IEAgaDptbWEnfX08L3NwYW4+OlxyXG4gICAgICAgICAgICA8c3Bhbj57eycxMjg4MzIzNjIzMDA2JyB8IGRhdGU6J01NL2RkL3l5eXkgQCBoOm1tYSd9fTwvc3Bhbj48YnI+XHJcbiAgICAgICAgIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT57ezEyODgzMjM2MjMwMDYgfCBkYXRlOlwiTU0vZGQveXl5eSAnYXQnIGg6bW1hXCJ9fTwvc3Bhbj46XHJcbiAgICAgICAgICAgIDxzcGFuPnt7JzEyODgzMjM2MjMwMDYnIHwgZGF0ZTpcIk1NL2RkL3l5eXkgJ2F0JyBoOm1tYVwifX08L3NwYW4+PGJyPlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICBpdCgnc2hvdWxkIGZvcm1hdCBkYXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZyhcIjEyODgzMjM2MjMwMDYgfCBkYXRlOidtZWRpdW0nXCIpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICAgIHRvTWF0Y2goL09jdCAyXFxkLCAyMDEwIFxcZHsxLDJ9OlxcZHsyfTpcXGR7Mn0gKEFNfFBNKS8pO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCIxMjg4MzIzNjIzMDA2IHwgZGF0ZToneXl5eS1NTS1kZCBISDptbTpzcyBaJ1wiKSkuZ2V0VGV4dCgpKS5cclxuICAgICAgICAgICAgICB0b01hdGNoKC8yMDEwLTEwLTJcXGQgXFxkezJ9OlxcZHsyfTpcXGR7Mn0gKC18XFwrKT9cXGR7NH0vKTtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKFwiJzEyODgzMjM2MjMwMDYnIHwgZGF0ZTonTU0vZGQveXl5eSBAIGg6bW1hJ1wiKSkuZ2V0VGV4dCgpKS5cclxuICAgICAgICAgICAgICB0b01hdGNoKC8xMFxcLzJcXGRcXC8yMDEwIEAgXFxkezEsMn06XFxkezJ9KEFNfFBNKS8pO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoXCInMTI4ODMyMzYyMzAwNicgfCBkYXRlOlxcXCJNTS9kZC95eXl5ICdhdCcgaDptbWFcXFwiXCIpKS5nZXRUZXh0KCkpLlxyXG4gICAgICAgICAgICAgIHRvTWF0Y2goLzEwXFwvMlxcZFxcLzIwMTAgYXQgXFxkezEsMn06XFxkezJ9KEFNfFBNKS8pO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgZGF0ZUZpbHRlci4kaW5qZWN0ID0gWyckbG9jYWxlJ107XHJcbiAgZnVuY3Rpb24gZGF0ZUZpbHRlcigkbG9jYWxlKSB7XHJcblxyXG4gICAgdmFyIFJfSVNPODYwMV9TVFIgPSAvXihcXGR7NH0pLT8oXFxkXFxkKS0/KFxcZFxcZCkoPzpUKFxcZFxcZCkoPzo6PyhcXGRcXGQpKD86Oj8oXFxkXFxkKSg/OlxcLihcXGQrKSk/KT8pPyhafChbKy1dKShcXGRcXGQpOj8oXFxkXFxkKSk/KT8kLztcclxuICAgIC8vIDEgICAgICAgIDIgICAgICAgMyAgICAgICAgIDQgICAgICAgICAgNSAgICAgICAgICA2ICAgICAgICAgIDcgICAgICAgICAgOCAgOSAgICAgMTAgICAgICAxMVxyXG4gICAgZnVuY3Rpb24ganNvblN0cmluZ1RvRGF0ZShzdHJpbmcpIHtcclxuICAgICAgdmFyIG1hdGNoO1xyXG4gICAgICBpZiAobWF0Y2ggPSBzdHJpbmcubWF0Y2goUl9JU084NjAxX1NUUikpIHtcclxuICAgICAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKDApLFxyXG4gICAgICAgICAgICB0ekhvdXIgPSAwLFxyXG4gICAgICAgICAgICB0ek1pbiA9IDAsXHJcbiAgICAgICAgICAgIGRhdGVTZXR0ZXIgPSBtYXRjaFs4XSA/IGRhdGUuc2V0VVRDRnVsbFllYXIgOiBkYXRlLnNldEZ1bGxZZWFyLFxyXG4gICAgICAgICAgICB0aW1lU2V0dGVyID0gbWF0Y2hbOF0gPyBkYXRlLnNldFVUQ0hvdXJzIDogZGF0ZS5zZXRIb3VycztcclxuXHJcbiAgICAgICAgaWYgKG1hdGNoWzldKSB7XHJcbiAgICAgICAgICB0ekhvdXIgPSB0b0ludChtYXRjaFs5XSArIG1hdGNoWzEwXSk7XHJcbiAgICAgICAgICB0ek1pbiA9IHRvSW50KG1hdGNoWzldICsgbWF0Y2hbMTFdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZGF0ZVNldHRlci5jYWxsKGRhdGUsIHRvSW50KG1hdGNoWzFdKSwgdG9JbnQobWF0Y2hbMl0pIC0gMSwgdG9JbnQobWF0Y2hbM10pKTtcclxuICAgICAgICB2YXIgaCA9IHRvSW50KG1hdGNoWzRdIHx8IDApIC0gdHpIb3VyO1xyXG4gICAgICAgIHZhciBtID0gdG9JbnQobWF0Y2hbNV0gfHwgMCkgLSB0ek1pbjtcclxuICAgICAgICB2YXIgcyA9IHRvSW50KG1hdGNoWzZdIHx8IDApO1xyXG4gICAgICAgIHZhciBtcyA9IE1hdGgucm91bmQocGFyc2VGbG9hdCgnMC4nICsgKG1hdGNoWzddIHx8IDApKSAqIDEwMDApO1xyXG4gICAgICAgIHRpbWVTZXR0ZXIuY2FsbChkYXRlLCBoLCBtLCBzLCBtcyk7XHJcbiAgICAgICAgcmV0dXJuIGRhdGU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHN0cmluZztcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGUsIGZvcm1hdCwgdGltZXpvbmUpIHtcclxuICAgICAgdmFyIHRleHQgPSAnJyxcclxuICAgICAgICAgIHBhcnRzID0gW10sXHJcbiAgICAgICAgICBmbixcclxuICAgICAgICAgIG1hdGNoO1xyXG5cclxuICAgICAgZm9ybWF0ID0gZm9ybWF0IHx8ICdtZWRpdW1EYXRlJztcclxuICAgICAgZm9ybWF0ID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF0gfHwgZm9ybWF0O1xyXG4gICAgICBpZiAoaXNTdHJpbmcoZGF0ZSkpIHtcclxuICAgICAgICBkYXRlID0gTlVNQkVSX1NUUklORy50ZXN0KGRhdGUpID8gdG9JbnQoZGF0ZSkgOiBqc29uU3RyaW5nVG9EYXRlKGRhdGUpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNOdW1iZXIoZGF0ZSkpIHtcclxuICAgICAgICBkYXRlID0gbmV3IERhdGUoZGF0ZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghaXNEYXRlKGRhdGUpIHx8ICFpc0Zpbml0ZShkYXRlLmdldFRpbWUoKSkpIHtcclxuICAgICAgICByZXR1cm4gZGF0ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgd2hpbGUgKGZvcm1hdCkge1xyXG4gICAgICAgIG1hdGNoID0gREFURV9GT1JNQVRTX1NQTElULmV4ZWMoZm9ybWF0KTtcclxuICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgIHBhcnRzID0gY29uY2F0KHBhcnRzLCBtYXRjaCwgMSk7XHJcbiAgICAgICAgICBmb3JtYXQgPSBwYXJ0cy5wb3AoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcGFydHMucHVzaChmb3JtYXQpO1xyXG4gICAgICAgICAgZm9ybWF0ID0gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciBkYXRlVGltZXpvbmVPZmZzZXQgPSBkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XHJcbiAgICAgIGlmICh0aW1lem9uZSkge1xyXG4gICAgICAgIGRhdGVUaW1lem9uZU9mZnNldCA9IHRpbWV6b25lVG9PZmZzZXQodGltZXpvbmUsIGRhdGVUaW1lem9uZU9mZnNldCk7XHJcbiAgICAgICAgZGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwoZGF0ZSwgdGltZXpvbmUsIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICAgIGZvckVhY2gocGFydHMsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGZuID0gREFURV9GT1JNQVRTW3ZhbHVlXTtcclxuICAgICAgICB0ZXh0ICs9IGZuID8gZm4oZGF0ZSwgJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLCBkYXRlVGltZXpvbmVPZmZzZXQpIDogdmFsdWUgPT09ICdcXCdcXCcnID8gJ1xcJycgOiB2YWx1ZS5yZXBsYWNlKC8oXid8JyQpL2csICcnKS5yZXBsYWNlKC8nJy9nLCAnXFwnJyk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHRleHQ7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZpbHRlclxyXG4gICAqIEBuYW1lIGpzb25cclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogICBBbGxvd3MgeW91IHRvIGNvbnZlcnQgYSBKYXZhU2NyaXB0IG9iamVjdCBpbnRvIEpTT04gc3RyaW5nLlxyXG4gICAqXHJcbiAgICogICBUaGlzIGZpbHRlciBpcyBtb3N0bHkgdXNlZnVsIGZvciBkZWJ1Z2dpbmcuIFdoZW4gdXNpbmcgdGhlIGRvdWJsZSBjdXJseSB7e3ZhbHVlfX0gbm90YXRpb25cclxuICAgKiAgIHRoZSBiaW5kaW5nIGlzIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIEpTT04uXHJcbiAgICpcclxuICAgKiBAcGFyYW0geyp9IG9iamVjdCBBbnkgSmF2YVNjcmlwdCBvYmplY3QgKGluY2x1ZGluZyBhcnJheXMgYW5kIHByaW1pdGl2ZSB0eXBlcykgdG8gZmlsdGVyLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gc3BhY2luZyBUaGUgbnVtYmVyIG9mIHNwYWNlcyB0byB1c2UgcGVyIGluZGVudGF0aW9uLCBkZWZhdWx0cyB0byAyLlxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IEpTT04gc3RyaW5nLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJmaWx0ZXItanNvblwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPHByZSBpZD1cImRlZmF1bHQtc3BhY2luZ1wiPnt7IHsnbmFtZSc6J3ZhbHVlJ30gfCBqc29uIH19PC9wcmU+XHJcbiAgICAgICAgIDxwcmUgaWQ9XCJjdXN0b20tc3BhY2luZ1wiPnt7IHsnbmFtZSc6J3ZhbHVlJ30gfCBqc29uOjQgfX08L3ByZT5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgaXQoJ3Nob3VsZCBqc29uaWZ5IGZpbHRlcmVkIG9iamVjdHMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZGVmYXVsdC1zcGFjaW5nJykpLmdldFRleHQoKSkudG9NYXRjaCgvXFx7XFxuIHsyfVwibmFtZVwiOiA/XCJ2YWx1ZVwiXFxufS8pO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdjdXN0b20tc3BhY2luZycpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL1xce1xcbiB7NH1cIm5hbWVcIjogP1widmFsdWVcIlxcbn0vKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICovXHJcbiAgZnVuY3Rpb24ganNvbkZpbHRlcigpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAob2JqZWN0LCBzcGFjaW5nKSB7XHJcbiAgICAgIGlmIChpc1VuZGVmaW5lZChzcGFjaW5nKSkge1xyXG4gICAgICAgIHNwYWNpbmcgPSAyO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b0pzb24ob2JqZWN0LCBzcGFjaW5nKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZmlsdGVyXHJcbiAgICogQG5hbWUgbG93ZXJjYXNlXHJcbiAgICogQGtpbmQgZnVuY3Rpb25cclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDb252ZXJ0cyBzdHJpbmcgdG8gbG93ZXJjYXNlLlxyXG4gICAqXHJcbiAgICogU2VlIHRoZSB7QGxpbmsgbmcudXBwZXJjYXNlIHVwcGVyY2FzZSBmaWx0ZXIgZG9jdW1lbnRhdGlvbn0gZm9yIGEgZnVuY3Rpb25hbGx5IGlkZW50aWNhbCBleGFtcGxlLlxyXG4gICAqXHJcbiAgICogQHNlZSBhbmd1bGFyLmxvd2VyY2FzZVxyXG4gICAqL1xyXG4gIHZhciBsb3dlcmNhc2VGaWx0ZXIgPSB2YWx1ZUZuKGxvd2VyY2FzZSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBmaWx0ZXJcclxuICAgKiBAbmFtZSB1cHBlcmNhc2VcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENvbnZlcnRzIHN0cmluZyB0byB1cHBlcmNhc2UuXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBtb2R1bGU9XCJ1cHBlcmNhc2VGaWx0ZXJFeGFtcGxlXCIgbmFtZT1cImZpbHRlci11cHBlcmNhc2VcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3VwcGVyY2FzZUZpbHRlckV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICRzY29wZS50aXRsZSA9ICdUaGlzIGlzIGEgdGl0bGUnO1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8IS0tIFRoaXMgdGl0bGUgc2hvdWxkIGJlIGZvcm1hdHRlZCBub3JtYWxseSAtLT5cclxuICAgICAgICAgICA8aDE+e3t0aXRsZX19PC9oMT5cclxuICAgICAgICAgICA8IS0tIFRoaXMgdGl0bGUgc2hvdWxkIGJlIGNhcGl0YWxpemVkIC0tPlxyXG4gICAgICAgICAgIDxoMT57e3RpdGxlIHwgdXBwZXJjYXNlfX08L2gxPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIHVwcGVyY2FzZUZpbHRlciA9IHZhbHVlRm4odXBwZXJjYXNlKTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZpbHRlclxyXG4gICAqIEBuYW1lIGxpbWl0VG9cclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBvciBzdHJpbmcgY29udGFpbmluZyBvbmx5IGEgc3BlY2lmaWVkIG51bWJlciBvZiBlbGVtZW50cy4gVGhlIGVsZW1lbnRzIGFyZVxyXG4gICAqIHRha2VuIGZyb20gZWl0aGVyIHRoZSBiZWdpbm5pbmcgb3IgdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5LCBzdHJpbmcgb3IgbnVtYmVyLCBhcyBzcGVjaWZpZWQgYnlcclxuICAgKiB0aGUgdmFsdWUgYW5kIHNpZ24gKHBvc2l0aXZlIG9yIG5lZ2F0aXZlKSBvZiBgbGltaXRgLiBPdGhlciBhcnJheS1saWtlIG9iamVjdHMgYXJlIGFsc28gc3VwcG9ydGVkXHJcbiAgICogKGUuZy4gYXJyYXkgc3ViY2xhc3NlcywgTm9kZUxpc3RzLCBqcUxpdGUvalF1ZXJ5IGNvbGxlY3Rpb25zIGV0YykuIElmIGEgbnVtYmVyIGlzIHVzZWQgYXMgaW5wdXQsXHJcbiAgICogaXQgaXMgY29udmVydGVkIHRvIGEgc3RyaW5nLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtBcnJheXxBcnJheUxpa2V8c3RyaW5nfG51bWJlcn0gaW5wdXQgLSBBcnJheS9hcnJheS1saWtlLCBzdHJpbmcgb3IgbnVtYmVyIHRvIGJlIGxpbWl0ZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8bnVtYmVyfSBsaW1pdCAtIFRoZSBsZW5ndGggb2YgdGhlIHJldHVybmVkIGFycmF5IG9yIHN0cmluZy4gSWYgdGhlIGBsaW1pdGAgbnVtYmVyXHJcbiAgICogICAgIGlzIHBvc2l0aXZlLCBgbGltaXRgIG51bWJlciBvZiBpdGVtcyBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNvdXJjZSBhcnJheS9zdHJpbmcgYXJlIGNvcGllZC5cclxuICAgKiAgICAgSWYgdGhlIG51bWJlciBpcyBuZWdhdGl2ZSwgYGxpbWl0YCBudW1iZXIgIG9mIGl0ZW1zIGZyb20gdGhlIGVuZCBvZiB0aGUgc291cmNlIGFycmF5L3N0cmluZ1xyXG4gICAqICAgICBhcmUgY29waWVkLiBUaGUgYGxpbWl0YCB3aWxsIGJlIHRyaW1tZWQgaWYgaXQgZXhjZWVkcyBgYXJyYXkubGVuZ3RoYC4gSWYgYGxpbWl0YCBpcyB1bmRlZmluZWQsXHJcbiAgICogICAgIHRoZSBpbnB1dCB3aWxsIGJlIHJldHVybmVkIHVuY2hhbmdlZC5cclxuICAgKiBAcGFyYW0geyhzdHJpbmd8bnVtYmVyKT19IGJlZ2luIC0gSW5kZXggYXQgd2hpY2ggdG8gYmVnaW4gbGltaXRhdGlvbi4gQXMgYSBuZWdhdGl2ZSBpbmRleCxcclxuICAgKiAgICAgYGJlZ2luYCBpbmRpY2F0ZXMgYW4gb2Zmc2V0IGZyb20gdGhlIGVuZCBvZiBgaW5wdXRgLiBEZWZhdWx0cyB0byBgMGAuXHJcbiAgICogQHJldHVybnMge0FycmF5fHN0cmluZ30gQSBuZXcgc3ViLWFycmF5IG9yIHN1YnN0cmluZyBvZiBsZW5ndGggYGxpbWl0YCBvciBsZXNzIGlmIHRoZSBpbnB1dCBoYWRcclxuICAgKiAgICAgbGVzcyB0aGFuIGBsaW1pdGAgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG1vZHVsZT1cImxpbWl0VG9FeGFtcGxlXCIgbmFtZT1cImxpbWl0LXRvLWZpbHRlclwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbGltaXRUb0V4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5udW1iZXJzID0gWzEsMiwzLDQsNSw2LDcsOCw5XTtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmxldHRlcnMgPSBcImFiY2RlZmdoaVwiO1xyXG4gICAgICAgICAgICAgICAkc2NvcGUubG9uZ051bWJlciA9IDIzNDU0MzIzNDI7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5udW1MaW1pdCA9IDM7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5sZXR0ZXJMaW1pdCA9IDM7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5sb25nTnVtYmVyTGltaXQgPSAzO1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICAgTGltaXQge3tudW1iZXJzfX0gdG86XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibnVtTGltaXRcIj5cclxuICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgIDxwPk91dHB1dCBudW1iZXJzOiB7eyBudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCB9fTwvcD5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICAgTGltaXQge3tsZXR0ZXJzfX0gdG86XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibGV0dGVyTGltaXRcIj5cclxuICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgIDxwPk91dHB1dCBsZXR0ZXJzOiB7eyBsZXR0ZXJzIHwgbGltaXRUbzpsZXR0ZXJMaW1pdCB9fTwvcD5cclxuICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICAgTGltaXQge3tsb25nTnVtYmVyfX0gdG86XHJcbiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiMVwiIG5nLW1vZGVsPVwibG9uZ051bWJlckxpbWl0XCI+XHJcbiAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICA8cD5PdXRwdXQgbG9uZyBudW1iZXI6IHt7IGxvbmdOdW1iZXIgfCBsaW1pdFRvOmxvbmdOdW1iZXJMaW1pdCB9fTwvcD5cclxuICAgICAgICAgPC9kaXY+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgIHZhciBudW1MaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbnVtTGltaXQnKSk7XHJcbiAgICAgICAgIHZhciBsZXR0ZXJMaW1pdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbGV0dGVyTGltaXQnKSk7XHJcbiAgICAgICAgIHZhciBsb25nTnVtYmVyTGltaXRJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ2xvbmdOdW1iZXJMaW1pdCcpKTtcclxuICAgICAgICAgdmFyIGxpbWl0ZWROdW1iZXJzID0gZWxlbWVudChieS5iaW5kaW5nKCdudW1iZXJzIHwgbGltaXRUbzpudW1MaW1pdCcpKTtcclxuICAgICAgICAgdmFyIGxpbWl0ZWRMZXR0ZXJzID0gZWxlbWVudChieS5iaW5kaW5nKCdsZXR0ZXJzIHwgbGltaXRUbzpsZXR0ZXJMaW1pdCcpKTtcclxuICAgICAgICAgdmFyIGxpbWl0ZWRMb25nTnVtYmVyID0gZWxlbWVudChieS5iaW5kaW5nKCdsb25nTnVtYmVyIHwgbGltaXRUbzpsb25nTnVtYmVyTGltaXQnKSk7XHJcbiAgXHJcbiAgICAgICAgIGl0KCdzaG91bGQgbGltaXQgdGhlIG51bWJlciBhcnJheSB0byBmaXJzdCB0aHJlZSBpdGVtcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChudW1MaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xyXG4gICAgICAgICAgIGV4cGVjdChsZXR0ZXJMaW1pdElucHV0LmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnMycpO1xyXG4gICAgICAgICAgIGV4cGVjdChsb25nTnVtYmVyTGltaXRJbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJzMnKTtcclxuICAgICAgICAgICBleHBlY3QobGltaXRlZE51bWJlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbnVtYmVyczogWzEsMiwzXScpO1xyXG4gICAgICAgICAgIGV4cGVjdChsaW1pdGVkTGV0dGVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsZXR0ZXJzOiBhYmMnKTtcclxuICAgICAgICAgICBleHBlY3QobGltaXRlZExvbmdOdW1iZXIuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbG9uZyBudW1iZXI6IDIzNCcpO1xyXG4gICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgLy8gVGhlcmUgaXMgYSBidWcgaW4gc2FmYXJpIGFuZCBwcm90cmFjdG9yIHRoYXQgZG9lc24ndCBsaWtlIHRoZSBtaW51cyBrZXlcclxuICAgICAgICAgLy8gaXQoJ3Nob3VsZCB1cGRhdGUgdGhlIG91dHB1dCB3aGVuIC0zIGlzIGVudGVyZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgLy8gICBudW1MaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgIC8vICAgbnVtTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcclxuICAgICAgICAgLy8gICBsZXR0ZXJMaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgIC8vICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnLTMnKTtcclxuICAgICAgICAgLy8gICBsb25nTnVtYmVyTGltaXRJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAvLyAgIGxvbmdOdW1iZXJMaW1pdElucHV0LnNlbmRLZXlzKCctMycpO1xyXG4gICAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTnVtYmVycy5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBudW1iZXJzOiBbNyw4LDldJyk7XHJcbiAgICAgICAgIC8vICAgZXhwZWN0KGxpbWl0ZWRMZXR0ZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxldHRlcnM6IGdoaScpO1xyXG4gICAgICAgICAvLyAgIGV4cGVjdChsaW1pdGVkTG9uZ051bWJlci5nZXRUZXh0KCkpLnRvRXF1YWwoJ091dHB1dCBsb25nIG51bWJlcjogMzQyJyk7XHJcbiAgICAgICAgIC8vIH0pO1xyXG4gIFxyXG4gICAgICAgICBpdCgnc2hvdWxkIG5vdCBleGNlZWQgdGhlIG1heGltdW0gc2l6ZSBvZiBpbnB1dCBhcnJheScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIG51bUxpbWl0SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICBudW1MaW1pdElucHV0LnNlbmRLZXlzKCcxMDAnKTtcclxuICAgICAgICAgICBsZXR0ZXJMaW1pdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgbGV0dGVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XHJcbiAgICAgICAgICAgbG9uZ051bWJlckxpbWl0SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICBsb25nTnVtYmVyTGltaXRJbnB1dC5zZW5kS2V5cygnMTAwJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGxpbWl0ZWROdW1iZXJzLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IG51bWJlcnM6IFsxLDIsMyw0LDUsNiw3LDgsOV0nKTtcclxuICAgICAgICAgICBleHBlY3QobGltaXRlZExldHRlcnMuZ2V0VGV4dCgpKS50b0VxdWFsKCdPdXRwdXQgbGV0dGVyczogYWJjZGVmZ2hpJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGxpbWl0ZWRMb25nTnVtYmVyLmdldFRleHQoKSkudG9FcXVhbCgnT3V0cHV0IGxvbmcgbnVtYmVyOiAyMzQ1NDMyMzQyJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAqL1xyXG4gIGZ1bmN0aW9uIGxpbWl0VG9GaWx0ZXIoKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKGlucHV0LCBsaW1pdCwgYmVnaW4pIHtcclxuICAgICAgaWYgKE1hdGguYWJzKE51bWJlcihsaW1pdCkpID09PSBJbmZpbml0eSkge1xyXG4gICAgICAgIGxpbWl0ID0gTnVtYmVyKGxpbWl0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsaW1pdCA9IHRvSW50KGxpbWl0KTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoaXNOdW1iZXJOYU4obGltaXQpKSByZXR1cm4gaW5wdXQ7XHJcblxyXG4gICAgICBpZiAoaXNOdW1iZXIoaW5wdXQpKSBpbnB1dCA9IGlucHV0LnRvU3RyaW5nKCk7XHJcbiAgICAgIGlmICghaXNBcnJheUxpa2UoaW5wdXQpKSByZXR1cm4gaW5wdXQ7XHJcblxyXG4gICAgICBiZWdpbiA9ICFiZWdpbiB8fCBpc05hTihiZWdpbikgPyAwIDogdG9JbnQoYmVnaW4pO1xyXG4gICAgICBiZWdpbiA9IGJlZ2luIDwgMCA/IE1hdGgubWF4KDAsIGlucHV0Lmxlbmd0aCArIGJlZ2luKSA6IGJlZ2luO1xyXG5cclxuICAgICAgaWYgKGxpbWl0ID49IDApIHtcclxuICAgICAgICByZXR1cm4gc2xpY2VGbihpbnB1dCwgYmVnaW4sIGJlZ2luICsgbGltaXQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChiZWdpbiA9PT0gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIHNsaWNlRm4oaW5wdXQsIGxpbWl0LCBpbnB1dC5sZW5ndGgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZXR1cm4gc2xpY2VGbihpbnB1dCwgTWF0aC5tYXgoMCwgYmVnaW4gKyBsaW1pdCksIGJlZ2luKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBzbGljZUZuKGlucHV0LCBiZWdpbiwgZW5kKSB7XHJcbiAgICBpZiAoaXNTdHJpbmcoaW5wdXQpKSByZXR1cm4gaW5wdXQuc2xpY2UoYmVnaW4sIGVuZCk7XHJcblxyXG4gICAgcmV0dXJuIHNsaWNlLmNhbGwoaW5wdXQsIGJlZ2luLCBlbmQpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGZpbHRlclxyXG4gICAqIEBuYW1lIG9yZGVyQnlcclxuICAgKiBAa2luZCBmdW5jdGlvblxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogUmV0dXJucyBhbiBhcnJheSBjb250YWluaW5nIHRoZSBpdGVtcyBmcm9tIHRoZSBzcGVjaWZpZWQgYGNvbGxlY3Rpb25gLCBvcmRlcmVkIGJ5IGEgYGNvbXBhcmF0b3JgXHJcbiAgICogZnVuY3Rpb24gYmFzZWQgb24gdGhlIHZhbHVlcyBjb21wdXRlZCB1c2luZyB0aGUgYGV4cHJlc3Npb25gIHByZWRpY2F0ZS5cclxuICAgKlxyXG4gICAqIEZvciBleGFtcGxlLCBgW3tpZDogJ2Zvbyd9LCB7aWQ6ICdiYXInfV0gfCBvcmRlckJ5OidpZCdgIHdvdWxkIHJlc3VsdCBpblxyXG4gICAqIGBbe2lkOiAnYmFyJ30sIHtpZDogJ2Zvbyd9XWAuXHJcbiAgICpcclxuICAgKiBUaGUgYGNvbGxlY3Rpb25gIGNhbiBiZSBhbiBBcnJheSBvciBhcnJheS1saWtlIG9iamVjdCAoZS5nLiBOb2RlTGlzdCwgalF1ZXJ5IG9iamVjdCwgVHlwZWRBcnJheSxcclxuICAgKiBTdHJpbmcsIGV0YykuXHJcbiAgICpcclxuICAgKiBUaGUgYGV4cHJlc3Npb25gIGNhbiBiZSBhIHNpbmdsZSBwcmVkaWNhdGUsIG9yIGEgbGlzdCBvZiBwcmVkaWNhdGVzIGVhY2ggc2VydmluZyBhcyBhIHRpZS1icmVha2VyXHJcbiAgICogZm9yIHRoZSBwcmVjZWRpbmcgb25lLiBUaGUgYGV4cHJlc3Npb25gIGlzIGV2YWx1YXRlZCBhZ2FpbnN0IGVhY2ggaXRlbSBhbmQgdGhlIG91dHB1dCBpcyB1c2VkXHJcbiAgICogZm9yIGNvbXBhcmluZyB3aXRoIG90aGVyIGl0ZW1zLlxyXG4gICAqXHJcbiAgICogWW91IGNhbiBjaGFuZ2UgdGhlIHNvcnRpbmcgb3JkZXIgYnkgc2V0dGluZyBgcmV2ZXJzZWAgdG8gYHRydWVgLiBCeSBkZWZhdWx0LCBpdGVtcyBhcmUgc29ydGVkIGluXHJcbiAgICogYXNjZW5kaW5nIG9yZGVyLlxyXG4gICAqXHJcbiAgICogVGhlIGNvbXBhcmlzb24gaXMgZG9uZSB1c2luZyB0aGUgYGNvbXBhcmF0b3JgIGZ1bmN0aW9uLiBJZiBub25lIGlzIHNwZWNpZmllZCwgYSBkZWZhdWx0LCBidWlsdC1pblxyXG4gICAqIGNvbXBhcmF0b3IgaXMgdXNlZCAoc2VlIGJlbG93IGZvciBkZXRhaWxzIC0gaW4gYSBudXRzaGVsbCwgaXQgY29tcGFyZXMgbnVtYmVycyBudW1lcmljYWxseSBhbmRcclxuICAgKiBzdHJpbmdzIGFscGhhYmV0aWNhbGx5KS5cclxuICAgKlxyXG4gICAqICMjIyBVbmRlciB0aGUgaG9vZFxyXG4gICAqXHJcbiAgICogT3JkZXJpbmcgdGhlIHNwZWNpZmllZCBgY29sbGVjdGlvbmAgaGFwcGVucyBpbiB0d28gcGhhc2VzOlxyXG4gICAqXHJcbiAgICogMS4gQWxsIGl0ZW1zIGFyZSBwYXNzZWQgdGhyb3VnaCB0aGUgcHJlZGljYXRlIChvciBwcmVkaWNhdGVzKSwgYW5kIHRoZSByZXR1cm5lZCB2YWx1ZXMgYXJlIHNhdmVkXHJcbiAgICogICAgYWxvbmcgd2l0aCB0aGVpciB0eXBlIChgc3RyaW5nYCwgYG51bWJlcmAgZXRjKS4gRm9yIGV4YW1wbGUsIGFuIGl0ZW0gYHtsYWJlbDogJ2Zvbyd9YCwgcGFzc2VkXHJcbiAgICogICAgdGhyb3VnaCBhIHByZWRpY2F0ZSB0aGF0IGV4dHJhY3RzIHRoZSB2YWx1ZSBvZiB0aGUgYGxhYmVsYCBwcm9wZXJ0eSwgd291bGQgYmUgdHJhbnNmb3JtZWQgdG86XHJcbiAgICogICAgYGBgXHJcbiAgICogICAge1xyXG4gICAqICAgICAgdmFsdWU6ICdmb28nLFxyXG4gICAqICAgICAgdHlwZTogJ3N0cmluZycsXHJcbiAgICogICAgICBpbmRleDogLi4uXHJcbiAgICogICAgfVxyXG4gICAqICAgIGBgYFxyXG4gICAqIDIuIFRoZSBjb21wYXJhdG9yIGZ1bmN0aW9uIGlzIHVzZWQgdG8gc29ydCB0aGUgaXRlbXMsIGJhc2VkIG9uIHRoZSBkZXJpdmVkIHZhbHVlcywgdHlwZXMgYW5kXHJcbiAgICogICAgaW5kaWNlcy5cclxuICAgKlxyXG4gICAqIElmIHlvdSB1c2UgYSBjdXN0b20gY29tcGFyYXRvciwgaXQgd2lsbCBiZSBjYWxsZWQgd2l0aCBwYWlycyBvZiBvYmplY3RzIG9mIHRoZSBmb3JtXHJcbiAgICogYHt2YWx1ZTogLi4uLCB0eXBlOiAnLi4uJywgaW5kZXg6IC4uLn1gIGFuZCBpcyBleHBlY3RlZCB0byByZXR1cm4gYDBgIGlmIHRoZSBvYmplY3RzIGFyZSBlcXVhbFxyXG4gICAqIChhcyBmYXIgYXMgdGhlIGNvbXBhcmF0b3IgaXMgY29uY2VybmVkKSwgYC0xYCBpZiB0aGUgMXN0IG9uZSBzaG91bGQgYmUgcmFua2VkIGhpZ2hlciB0aGFuIHRoZVxyXG4gICAqIHNlY29uZCwgb3IgYDFgIG90aGVyd2lzZS5cclxuICAgKlxyXG4gICAqIEluIG9yZGVyIHRvIGVuc3VyZSB0aGF0IHRoZSBzb3J0aW5nIHdpbGwgYmUgZGV0ZXJtaW5pc3RpYyBhY3Jvc3MgcGxhdGZvcm1zLCBpZiBub25lIG9mIHRoZVxyXG4gICAqIHNwZWNpZmllZCBwcmVkaWNhdGVzIGNhbiBkaXN0aW5ndWlzaCBiZXR3ZWVuIHR3byBpdGVtcywgYG9yZGVyQnlgIHdpbGwgYXV0b21hdGljYWxseSBpbnRyb2R1Y2UgYVxyXG4gICAqIGR1bW15IHByZWRpY2F0ZSB0aGF0IHJldHVybnMgdGhlIGl0ZW0ncyBpbmRleCBhcyBgdmFsdWVgLlxyXG4gICAqIChJZiB5b3UgYXJlIHVzaW5nIGEgY3VzdG9tIGNvbXBhcmF0b3IsIG1ha2Ugc3VyZSBpdCBjYW4gaGFuZGxlIHRoaXMgcHJlZGljYXRlIGFzIHdlbGwuKVxyXG4gICAqXHJcbiAgICogSWYgYSBjdXN0b20gY29tcGFyYXRvciBzdGlsbCBjYW4ndCBkaXN0aW5ndWlzaCBiZXR3ZWVuIHR3byBpdGVtcywgdGhlbiB0aGV5IHdpbGwgYmUgc29ydGVkIGJhc2VkXHJcbiAgICogb24gdGhlaXIgaW5kZXggdXNpbmcgdGhlIGJ1aWx0LWluIGNvbXBhcmF0b3IuXHJcbiAgICpcclxuICAgKiBGaW5hbGx5LCBpbiBhbiBhdHRlbXB0IHRvIHNpbXBsaWZ5IHRoaW5ncywgaWYgYSBwcmVkaWNhdGUgcmV0dXJucyBhbiBvYmplY3QgYXMgdGhlIGV4dHJhY3RlZFxyXG4gICAqIHZhbHVlIGZvciBhbiBpdGVtLCBgb3JkZXJCeWAgd2lsbCB0cnkgdG8gY29udmVydCB0aGF0IG9iamVjdCB0byBhIHByaW1pdGl2ZSB2YWx1ZSwgYmVmb3JlIHBhc3NpbmdcclxuICAgKiBpdCB0byB0aGUgY29tcGFyYXRvci4gVGhlIGZvbGxvd2luZyBydWxlcyBnb3Zlcm4gdGhlIGNvbnZlcnNpb246XHJcbiAgICpcclxuICAgKiAxLiBJZiB0aGUgb2JqZWN0IGhhcyBhIGB2YWx1ZU9mKClgIG1ldGhvZCB0aGF0IHJldHVybnMgYSBwcmltaXRpdmUsIGl0cyByZXR1cm4gdmFsdWUgd2lsbCBiZVxyXG4gICAqICAgIHVzZWQgaW5zdGVhZC48YnIgLz5cclxuICAgKiAgICAoSWYgdGhlIG9iamVjdCBoYXMgYSBgdmFsdWVPZigpYCBtZXRob2QgdGhhdCByZXR1cm5zIGFub3RoZXIgb2JqZWN0LCB0aGVuIHRoZSByZXR1cm5lZCBvYmplY3RcclxuICAgKiAgICB3aWxsIGJlIHVzZWQgaW4gc3Vic2VxdWVudCBzdGVwcy4pXHJcbiAgICogMi4gSWYgdGhlIG9iamVjdCBoYXMgYSBjdXN0b20gYHRvU3RyaW5nKClgIG1ldGhvZCAoaS5lLiBub3QgdGhlIG9uZSBpbmhlcml0ZWQgZnJvbSBgT2JqZWN0YCkgdGhhdFxyXG4gICAqICAgIHJldHVybnMgYSBwcmltaXRpdmUsIGl0cyByZXR1cm4gdmFsdWUgd2lsbCBiZSB1c2VkIGluc3RlYWQuPGJyIC8+XHJcbiAgICogICAgKElmIHRoZSBvYmplY3QgaGFzIGEgYHRvU3RyaW5nKClgIG1ldGhvZCB0aGF0IHJldHVybnMgYW5vdGhlciBvYmplY3QsIHRoZW4gdGhlIHJldHVybmVkIG9iamVjdFxyXG4gICAqICAgIHdpbGwgYmUgdXNlZCBpbiBzdWJzZXF1ZW50IHN0ZXBzLilcclxuICAgKiAzLiBObyBjb252ZXJzaW9uOyB0aGUgb2JqZWN0IGl0c2VsZiBpcyB1c2VkLlxyXG4gICAqXHJcbiAgICogIyMjIFRoZSBkZWZhdWx0IGNvbXBhcmF0b3JcclxuICAgKlxyXG4gICAqIFRoZSBkZWZhdWx0LCBidWlsdC1pbiBjb21wYXJhdG9yIHNob3VsZCBiZSBzdWZmaWNpZW50IGZvciBtb3N0IHVzZWNhc2VzLiBJbiBzaG9ydCwgaXQgY29tcGFyZXNcclxuICAgKiBudW1iZXJzIG51bWVyaWNhbGx5LCBzdHJpbmdzIGFscGhhYmV0aWNhbGx5IChhbmQgY2FzZS1pbnNlbnNpdGl2ZWx5KSwgZm9yIG9iamVjdHMgZmFsbHMgYmFjayB0b1xyXG4gICAqIHVzaW5nIHRoZWlyIGluZGV4IGluIHRoZSBvcmlnaW5hbCBjb2xsZWN0aW9uLCBhbmQgc29ydHMgdmFsdWVzIG9mIGRpZmZlcmVudCB0eXBlcyBieSB0eXBlLlxyXG4gICAqXHJcbiAgICogTW9yZSBzcGVjaWZpY2FsbHksIGl0IGZvbGxvd3MgdGhlc2Ugc3RlcHMgdG8gZGV0ZXJtaW5lIHRoZSByZWxhdGl2ZSBvcmRlciBvZiBpdGVtczpcclxuICAgKlxyXG4gICAqIDEuIElmIHRoZSBjb21wYXJlZCB2YWx1ZXMgYXJlIG9mIGRpZmZlcmVudCB0eXBlcywgY29tcGFyZSB0aGUgdHlwZXMgdGhlbXNlbHZlcyBhbHBoYWJldGljYWxseS5cclxuICAgKiAyLiBJZiBib3RoIHZhbHVlcyBhcmUgb2YgdHlwZSBgc3RyaW5nYCwgY29tcGFyZSB0aGVtIGFscGhhYmV0aWNhbGx5IGluIGEgY2FzZS0gYW5kXHJcbiAgICogICAgbG9jYWxlLWluc2Vuc2l0aXZlIHdheS5cclxuICAgKiAzLiBJZiBib3RoIHZhbHVlcyBhcmUgb2JqZWN0cywgY29tcGFyZSB0aGVpciBpbmRpY2VzIGluc3RlYWQuXHJcbiAgICogNC4gT3RoZXJ3aXNlLCByZXR1cm46XHJcbiAgICogICAgLSAgYDBgLCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVhbCAoYnkgc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb24sIGkuZS4gdXNpbmcgYD09PWApLlxyXG4gICAqICAgIC0gYC0xYCwgaWYgdGhlIDFzdCB2YWx1ZSBpcyBcImxlc3MgdGhhblwiIHRoZSAybmQgdmFsdWUgKGNvbXBhcmVkIHVzaW5nIHRoZSBgPGAgb3BlcmF0b3IpLlxyXG4gICAqICAgIC0gIGAxYCwgb3RoZXJ3aXNlLlxyXG4gICAqXHJcbiAgICogKipOb3RlOioqIElmIHlvdSBub3RpY2UgbnVtYmVycyBub3QgYmVpbmcgc29ydGVkIGFzIGV4cGVjdGVkLCBtYWtlIHN1cmUgdGhleSBhcmUgYWN0dWFsbHkgYmVpbmdcclxuICAgKiAgICAgICAgICAgc2F2ZWQgYXMgbnVtYmVycyBhbmQgbm90IHN0cmluZ3MuXHJcbiAgICogKipOb3RlOioqIEZvciB0aGUgcHVycG9zZSBvZiBzb3J0aW5nLCBgbnVsbGAgdmFsdWVzIGFyZSB0cmVhdGVkIGFzIHRoZSBzdHJpbmcgYCdudWxsJ2AgKGkuZS5cclxuICAgKiAgICAgICAgICAgYHR5cGU6ICdzdHJpbmcnYCwgYHZhbHVlOiAnbnVsbCdgKS4gVGhpcyBtYXkgY2F1c2UgdW5leHBlY3RlZCBzb3J0IG9yZGVyIHJlbGF0aXZlIHRvXHJcbiAgICogICAgICAgICAgIG90aGVyIHZhbHVlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7QXJyYXl8QXJyYXlMaWtlfSBjb2xsZWN0aW9uIC0gVGhlIGNvbGxlY3Rpb24gKGFycmF5IG9yIGFycmF5LWxpa2Ugb2JqZWN0KSB0byBzb3J0LlxyXG4gICAqIEBwYXJhbSB7KEZ1bmN0aW9ufHN0cmluZ3xBcnJheS48RnVuY3Rpb258c3RyaW5nPik9fSBleHByZXNzaW9uIC0gQSBwcmVkaWNhdGUgKG9yIGxpc3Qgb2ZcclxuICAgKiAgICBwcmVkaWNhdGVzKSB0byBiZSB1c2VkIGJ5IHRoZSBjb21wYXJhdG9yIHRvIGRldGVybWluZSB0aGUgb3JkZXIgb2YgZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiAgICBDYW4gYmUgb25lIG9mOlxyXG4gICAqXHJcbiAgICogICAgLSBgRnVuY3Rpb25gOiBBIGdldHRlciBmdW5jdGlvbi4gVGhpcyBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aXRoIGVhY2ggaXRlbSBhcyBhcmd1bWVudCBhbmRcclxuICAgKiAgICAgIHRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSB1c2VkIGZvciBzb3J0aW5nLlxyXG4gICAqICAgIC0gYHN0cmluZ2A6IEFuIEFuZ3VsYXIgZXhwcmVzc2lvbi4gVGhpcyBleHByZXNzaW9uIHdpbGwgYmUgZXZhbHVhdGVkIGFnYWluc3QgZWFjaCBpdGVtIGFuZCB0aGVcclxuICAgKiAgICAgIHJlc3VsdCB3aWxsIGJlIHVzZWQgZm9yIHNvcnRpbmcuIEZvciBleGFtcGxlLCB1c2UgYCdsYWJlbCdgIHRvIHNvcnQgYnkgYSBwcm9wZXJ0eSBjYWxsZWRcclxuICAgKiAgICAgIGBsYWJlbGAgb3IgYCdsYWJlbC5zdWJzdHJpbmcoMCwgMyknYCB0byBzb3J0IGJ5IHRoZSBmaXJzdCAzIGNoYXJhY3RlcnMgb2YgdGhlIGBsYWJlbGBcclxuICAgKiAgICAgIHByb3BlcnR5LjxiciAvPlxyXG4gICAqICAgICAgKFRoZSByZXN1bHQgb2YgYSBjb25zdGFudCBleHByZXNzaW9uIGlzIGludGVycHJldGVkIGFzIGEgcHJvcGVydHkgbmFtZSB0byBiZSB1c2VkIGZvclxyXG4gICAqICAgICAgY29tcGFyaXNvbi4gRm9yIGV4YW1wbGUsIHVzZSBgJ1wic3BlY2lhbCBuYW1lXCInYCAobm90ZSB0aGUgZXh0cmEgcGFpciBvZiBxdW90ZXMpIHRvIHNvcnQgYnkgYVxyXG4gICAqICAgICAgcHJvcGVydHkgY2FsbGVkIGBzcGVjaWFsIG5hbWVgLik8YnIgLz5cclxuICAgKiAgICAgIEFuIGV4cHJlc3Npb24gY2FuIGJlIG9wdGlvbmFsbHkgcHJlZml4ZWQgd2l0aCBgK2Agb3IgYC1gIHRvIGNvbnRyb2wgdGhlIHNvcnRpbmcgZGlyZWN0aW9uLFxyXG4gICAqICAgICAgYXNjZW5kaW5nIG9yIGRlc2NlbmRpbmcuIEZvciBleGFtcGxlLCBgJytsYWJlbCdgIG9yIGAnLWxhYmVsJ2AuIElmIG5vIHByb3BlcnR5IGlzIHByb3ZpZGVkLFxyXG4gICAqICAgICAgKGUuZy4gYCcrJ2Agb3IgYCctJ2ApLCB0aGUgY29sbGVjdGlvbiBlbGVtZW50IGl0c2VsZiBpcyB1c2VkIGluIGNvbXBhcmlzb25zLlxyXG4gICAqICAgIC0gYEFycmF5YDogQW4gYXJyYXkgb2YgZnVuY3Rpb24gYW5kL29yIHN0cmluZyBwcmVkaWNhdGVzLiBJZiBhIHByZWRpY2F0ZSBjYW5ub3QgZGV0ZXJtaW5lIHRoZVxyXG4gICAqICAgICAgcmVsYXRpdmUgb3JkZXIgb2YgdHdvIGl0ZW1zLCB0aGUgbmV4dCBwcmVkaWNhdGUgaXMgdXNlZCBhcyBhIHRpZS1icmVha2VyLlxyXG4gICAqXHJcbiAgICogKipOb3RlOioqIElmIHRoZSBwcmVkaWNhdGUgaXMgbWlzc2luZyBvciBlbXB0eSB0aGVuIGl0IGRlZmF1bHRzIHRvIGAnKydgLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtib29sZWFuPX0gcmV2ZXJzZSAtIElmIGB0cnVlYCwgcmV2ZXJzZSB0aGUgc29ydGluZyBvcmRlci5cclxuICAgKiBAcGFyYW0geyhGdW5jdGlvbik9fSBjb21wYXJhdG9yIC0gVGhlIGNvbXBhcmF0b3IgZnVuY3Rpb24gdXNlZCB0byBkZXRlcm1pbmUgdGhlIHJlbGF0aXZlIG9yZGVyIG9mXHJcbiAgICogICAgdmFsdWUgcGFpcnMuIElmIG9taXR0ZWQsIHRoZSBidWlsdC1pbiBjb21wYXJhdG9yIHdpbGwgYmUgdXNlZC5cclxuICAgKlxyXG4gICAqIEByZXR1cm5zIHtBcnJheX0gLSBUaGUgc29ydGVkIGFycmF5LlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqICMjIyBPcmRlcmluZyBhIHRhYmxlIHdpdGggYG5nUmVwZWF0YFxyXG4gICAqXHJcbiAgICogVGhlIGV4YW1wbGUgYmVsb3cgZGVtb25zdHJhdGVzIGEgc2ltcGxlIHtAbGluayBuZ1JlcGVhdCBuZ1JlcGVhdH0sIHdoZXJlIHRoZSBkYXRhIGlzIHNvcnRlZCBieVxyXG4gICAqIGFnZSBpbiBkZXNjZW5kaW5nIG9yZGVyIChleHByZXNzaW9uIGlzIHNldCB0byBgJy1hZ2UnYCkuIFRoZSBgY29tcGFyYXRvcmAgaXMgbm90IHNldCwgd2hpY2ggbWVhbnNcclxuICAgKiBpdCBkZWZhdWx0cyB0byB0aGUgYnVpbHQtaW4gY29tcGFyYXRvci5cclxuICAgKlxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJvcmRlckJ5LXN0YXRpY1wiIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlMVwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRzXCI+XHJcbiAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgIDx0aD5OYW1lPC90aD5cclxuICAgICAgICAgICAgICAgPHRoPlBob25lIE51bWJlcjwvdGg+XHJcbiAgICAgICAgICAgICAgIDx0aD5BZ2U8L3RoPlxyXG4gICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6Jy1hZ2UnXCI+XHJcbiAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxyXG4gICAgICAgICAgICAgICA8dGQ+e3tmcmllbmQucGhvbmV9fTwvdGQ+XHJcbiAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5hZ2V9fTwvdGQ+XHJcbiAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGUxJywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICRzY29wZS5mcmllbmRzID0gW1xyXG4gICAgICAgICAgICAgICB7bmFtZTogJ0pvaG4nLCAgIHBob25lOiAnNTU1LTEyMTInLCAgYWdlOiAxMH0sXHJcbiAgICAgICAgICAgICAgIHtuYW1lOiAnTWFyeScsICAgcGhvbmU6ICc1NTUtOTg3NicsICBhZ2U6IDE5fSxcclxuICAgICAgICAgICAgICAge25hbWU6ICdNaWtlJywgICBwaG9uZTogJzU1NS00MzIxJywgIGFnZTogMjF9LFxyXG4gICAgICAgICAgICAgICB7bmFtZTogJ0FkYW0nLCAgIHBob25lOiAnNTU1LTU2NzgnLCAgYWdlOiAzNX0sXHJcbiAgICAgICAgICAgICAgIHtuYW1lOiAnSnVsaWUnLCAgcGhvbmU6ICc1NTUtODc2NScsICBhZ2U6IDI5fVxyXG4gICAgICAgICAgICAgXTtcclxuICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgIC5mcmllbmRzIHtcclxuICAgICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgIC5mcmllbmRzIHRoIHtcclxuICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLmZyaWVuZHMgdGQsIC5mcmllbmRzIHRoIHtcclxuICAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkO1xyXG4gICAgICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC5mcmllbmRzIHRkOmZpcnN0LWNoaWxkLCAuZnJpZW5kcyB0aDpmaXJzdC1jaGlsZCB7XHJcbiAgICAgICAgICAgYm9yZGVyLWxlZnQ6IG5vbmU7XHJcbiAgICAgICAgIH1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgLy8gRWxlbWVudCBsb2NhdG9yc1xyXG4gICAgICAgICB2YXIgbmFtZXMgPSBlbGVtZW50LmFsbChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKSk7XHJcbiAgXHJcbiAgICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGJ5IGFnZSBpbiByZXZlcnNlIG9yZGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnSnVsaWUnKTtcclxuICAgICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDIpLmdldFRleHQoKSkudG9CZSgnTWlrZScpO1xyXG4gICAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMykuZ2V0VGV4dCgpKS50b0JlKCdNYXJ5Jyk7XHJcbiAgICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCg0KS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqIDxociAvPlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiAjIyMgQ2hhbmdpbmcgcGFyYW1ldGVycyBkeW5hbWljYWxseVxyXG4gICAqXHJcbiAgICogQWxsIHBhcmFtZXRlcnMgY2FuIGJlIGNoYW5nZWQgZHluYW1pY2FsbHkuIFRoZSBuZXh0IGV4YW1wbGUgc2hvd3MgaG93IHlvdSBjYW4gbWFrZSB0aGUgY29sdW1ucyBvZlxyXG4gICAqIGEgdGFibGUgc29ydGFibGUsIGJ5IGJpbmRpbmcgdGhlIGBleHByZXNzaW9uYCBhbmQgYHJldmVyc2VgIHBhcmFtZXRlcnMgdG8gc2NvcGUgcHJvcGVydGllcy5cclxuICAgKlxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJvcmRlckJ5LWR5bmFtaWNcIiBtb2R1bGU9XCJvcmRlckJ5RXhhbXBsZTJcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgPHByZT5Tb3J0IGJ5ID0ge3twcm9wZXJ0eU5hbWV9fTsgcmV2ZXJzZSA9IHt7cmV2ZXJzZX19PC9wcmU+XHJcbiAgICAgICAgICAgPGhyLz5cclxuICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwicHJvcGVydHlOYW1lID0gbnVsbDsgcmV2ZXJzZSA9IGZhbHNlXCI+U2V0IHRvIHVuc29ydGVkPC9idXR0b24+XHJcbiAgICAgICAgICAgPGhyLz5cclxuICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRzXCI+XHJcbiAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgIDx0aD5cclxuICAgICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCduYW1lJylcIj5OYW1lPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAnbmFtZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOiByZXZlcnNlfVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICAgPHRoPlxyXG4gICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkoJ3Bob25lJylcIj5QaG9uZSBOdW1iZXI8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNvcnRvcmRlclwiIG5nLXNob3c9XCJwcm9wZXJ0eU5hbWUgPT09ICdwaG9uZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOiByZXZlcnNlfVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgICAgPHRoPlxyXG4gICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJzb3J0QnkoJ2FnZScpXCI+QWdlPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAnYWdlJ1wiIG5nLWNsYXNzPVwie3JldmVyc2U6IHJldmVyc2V9XCI+PC9zcGFuPlxyXG4gICAgICAgICAgICAgICA8L3RoPlxyXG4gICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6cHJvcGVydHlOYW1lOnJldmVyc2VcIj5cclxuICAgICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cclxuICAgICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmFnZX19PC90ZD5cclxuICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgPC9kaXY+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZTInLCBbXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgdmFyIGZyaWVuZHMgPSBbXHJcbiAgICAgICAgICAgICAgIHtuYW1lOiAnSm9obicsICAgcGhvbmU6ICc1NTUtMTIxMicsICBhZ2U6IDEwfSxcclxuICAgICAgICAgICAgICAge25hbWU6ICdNYXJ5JywgICBwaG9uZTogJzU1NS05ODc2JywgIGFnZTogMTl9LFxyXG4gICAgICAgICAgICAgICB7bmFtZTogJ01pa2UnLCAgIHBob25lOiAnNTU1LTQzMjEnLCAgYWdlOiAyMX0sXHJcbiAgICAgICAgICAgICAgIHtuYW1lOiAnQWRhbScsICAgcGhvbmU6ICc1NTUtNTY3OCcsICBhZ2U6IDM1fSxcclxuICAgICAgICAgICAgICAge25hbWU6ICdKdWxpZScsICBwaG9uZTogJzU1NS04NzY1JywgIGFnZTogMjl9XHJcbiAgICAgICAgICAgICBdO1xyXG4gIFxyXG4gICAgICAgICAgICAgJHNjb3BlLnByb3BlcnR5TmFtZSA9ICdhZ2UnO1xyXG4gICAgICAgICAgICAgJHNjb3BlLnJldmVyc2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBmcmllbmRzO1xyXG4gIFxyXG4gICAgICAgICAgICAgJHNjb3BlLnNvcnRCeSA9IGZ1bmN0aW9uKHByb3BlcnR5TmFtZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9ICgkc2NvcGUucHJvcGVydHlOYW1lID09PSBwcm9wZXJ0eU5hbWUpID8gISRzY29wZS5yZXZlcnNlIDogZmFsc2U7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7XHJcbiAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgIH1dKTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgICAgLmZyaWVuZHMge1xyXG4gICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICAgICAgIH1cclxuICBcclxuICAgICAgICAgLmZyaWVuZHMgdGgge1xyXG4gICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZDtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAuZnJpZW5kcyB0ZCwgLmZyaWVuZHMgdGgge1xyXG4gICAgICAgICAgIGJvcmRlci1sZWZ0OiAxcHggc29saWQ7XHJcbiAgICAgICAgICAgcGFkZGluZzogNXB4IDEwcHg7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLmZyaWVuZHMgdGQ6Zmlyc3QtY2hpbGQsIC5mcmllbmRzIHRoOmZpcnN0LWNoaWxkIHtcclxuICAgICAgICAgICBib3JkZXItbGVmdDogbm9uZTtcclxuICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAuc29ydG9yZGVyOmFmdGVyIHtcclxuICAgICAgICAgICBjb250ZW50OiAnXFwyNWIyJzsgICAvLyBCTEFDSyBVUC1QT0lOVElORyBUUklBTkdMRVxyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC5zb3J0b3JkZXIucmV2ZXJzZTphZnRlciB7XHJcbiAgICAgICAgICAgY29udGVudDogJ1xcMjViYyc7ICAgLy8gQkxBQ0sgRE9XTi1QT0lOVElORyBUUklBTkdMRVxyXG4gICAgICAgICB9XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgIC8vIEVsZW1lbnQgbG9jYXRvcnNcclxuICAgICAgICAgdmFyIHVuc29ydEJ1dHRvbiA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ3Vuc29ydGVkJykpO1xyXG4gICAgICAgICB2YXIgbmFtZUhlYWRlciA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ05hbWUnKSk7XHJcbiAgICAgICAgIHZhciBwaG9uZUhlYWRlciA9IGVsZW1lbnQoYnkucGFydGlhbEJ1dHRvblRleHQoJ1Bob25lJykpO1xyXG4gICAgICAgICB2YXIgYWdlSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnQWdlJykpO1xyXG4gICAgICAgICB2YXIgZmlyc3ROYW1lID0gZWxlbWVudChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKS5yb3coMCkpO1xyXG4gICAgICAgICB2YXIgbGFzdE5hbWUgPSBlbGVtZW50KGJ5LnJlcGVhdGVyKCdmcmllbmRzJykuY29sdW1uKCdmcmllbmQubmFtZScpLnJvdyg0KSk7XHJcbiAgXHJcbiAgICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGJ5IHNvbWUgcHJvcGVydHksIHdoZW4gY2xpY2tpbmcgb24gdGhlIGNvbHVtbiBoZWFkZXInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xyXG4gICAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICBcclxuICAgICAgICAgICBwaG9uZUhlYWRlci5jbGljaygpO1xyXG4gICAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnTWFyeScpO1xyXG4gIFxyXG4gICAgICAgICAgIG5hbWVIZWFkZXIuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xyXG4gICAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ01pa2UnKTtcclxuICBcclxuICAgICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG4gICAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGluIHJldmVyc2Ugb3JkZXIsIHdoZW4gY2xpY2tpbmcgb24gdGhlIHNhbWUgY29sdW1uJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgXHJcbiAgICAgICAgICAgYWdlSGVhZGVyLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICAgICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XHJcbiAgXHJcbiAgICAgICAgICAgYWdlSGVhZGVyLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICAgICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgICBpdCgnc2hvdWxkIHJlc3RvcmUgdGhlIG9yaWdpbmFsIG9yZGVyLCB3aGVuIGNsaWNraW5nIFwiU2V0IHRvIHVuc29ydGVkXCInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xyXG4gICAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICBcclxuICAgICAgICAgICB1bnNvcnRCdXR0b24uY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG4gICAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0p1bGllJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAgKiA8aHIgLz5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogIyMjIFVzaW5nIGBvcmRlckJ5YCBpbnNpZGUgYSBjb250cm9sbGVyXHJcbiAgICpcclxuICAgKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIGNhbGwgdGhlIGBvcmRlckJ5YCBmaWx0ZXIgbWFudWFsbHksIGJ5IGluamVjdGluZyBgb3JkZXJCeUZpbHRlcmAsIGFuZFxyXG4gICAqIGNhbGxpbmcgaXQgd2l0aCB0aGUgZGVzaXJlZCBwYXJhbWV0ZXJzLiAoQWx0ZXJuYXRpdmVseSwgeW91IGNvdWxkIGluamVjdCB0aGUgYCRmaWx0ZXJgIGZhY3RvcnlcclxuICAgKiBhbmQgcmV0cmlldmUgdGhlIGBvcmRlckJ5YCBmaWx0ZXIgd2l0aCBgJGZpbHRlcignb3JkZXJCeScpYC4pXHJcbiAgICpcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwib3JkZXJCeS1jYWxsLW1hbnVhbGx5XCIgbW9kdWxlPVwib3JkZXJCeUV4YW1wbGUzXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxwcmU+U29ydCBieSA9IHt7cHJvcGVydHlOYW1lfX07IHJldmVyc2UgPSB7e3JldmVyc2V9fTwvcHJlPlxyXG4gICAgICAgICAgIDxoci8+XHJcbiAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeShudWxsKVwiPlNldCB0byB1bnNvcnRlZDwvYnV0dG9uPlxyXG4gICAgICAgICAgIDxoci8+XHJcbiAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kc1wiPlxyXG4gICAgICAgICAgICAgPHRyPlxyXG4gICAgICAgICAgICAgICA8dGg+XHJcbiAgICAgICAgICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNvcnRCeSgnbmFtZScpXCI+TmFtZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByb3BlcnR5TmFtZSA9PT0gJ25hbWUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgICAgIDx0aD5cclxuICAgICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCdwaG9uZScpXCI+UGhvbmUgTnVtYmVyPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJzb3J0b3JkZXJcIiBuZy1zaG93PVwicHJvcGVydHlOYW1lID09PSAncGhvbmUnXCIgbmctY2xhc3M9XCJ7cmV2ZXJzZTogcmV2ZXJzZX1cIj48L3NwYW4+XHJcbiAgICAgICAgICAgICAgIDwvdGg+XHJcbiAgICAgICAgICAgICAgIDx0aD5cclxuICAgICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwic29ydEJ5KCdhZ2UnKVwiPkFnZTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwic29ydG9yZGVyXCIgbmctc2hvdz1cInByb3BlcnR5TmFtZSA9PT0gJ2FnZSdcIiBuZy1jbGFzcz1cIntyZXZlcnNlOiByZXZlcnNlfVwiPjwvc3Bhbj5cclxuICAgICAgICAgICAgICAgPC90aD5cclxuICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHNcIj5cclxuICAgICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLm5hbWV9fTwvdGQ+XHJcbiAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5waG9uZX19PC90ZD5cclxuICAgICAgICAgICAgICAgPHRkPnt7ZnJpZW5kLmFnZX19PC90ZD5cclxuICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgPC9kaXY+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdvcmRlckJ5RXhhbXBsZTMnLCBbXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsICdvcmRlckJ5RmlsdGVyJywgZnVuY3Rpb24oJHNjb3BlLCBvcmRlckJ5KSB7XHJcbiAgICAgICAgICAgICB2YXIgZnJpZW5kcyA9IFtcclxuICAgICAgICAgICAgICAge25hbWU6ICdKb2huJywgICBwaG9uZTogJzU1NS0xMjEyJywgIGFnZTogMTB9LFxyXG4gICAgICAgICAgICAgICB7bmFtZTogJ01hcnknLCAgIHBob25lOiAnNTU1LTk4NzYnLCAgYWdlOiAxOX0sXHJcbiAgICAgICAgICAgICAgIHtuYW1lOiAnTWlrZScsICAgcGhvbmU6ICc1NTUtNDMyMScsICBhZ2U6IDIxfSxcclxuICAgICAgICAgICAgICAge25hbWU6ICdBZGFtJywgICBwaG9uZTogJzU1NS01Njc4JywgIGFnZTogMzV9LFxyXG4gICAgICAgICAgICAgICB7bmFtZTogJ0p1bGllJywgIHBob25lOiAnNTU1LTg3NjUnLCAgYWdlOiAyOX1cclxuICAgICAgICAgICAgIF07XHJcbiAgXHJcbiAgICAgICAgICAgICAkc2NvcGUucHJvcGVydHlOYW1lID0gJ2FnZSc7XHJcbiAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAkc2NvcGUuZnJpZW5kcyA9IG9yZGVyQnkoZnJpZW5kcywgJHNjb3BlLnByb3BlcnR5TmFtZSwgJHNjb3BlLnJldmVyc2UpO1xyXG4gIFxyXG4gICAgICAgICAgICAgJHNjb3BlLnNvcnRCeSA9IGZ1bmN0aW9uKHByb3BlcnR5TmFtZSkge1xyXG4gICAgICAgICAgICAgICAkc2NvcGUucmV2ZXJzZSA9IChwcm9wZXJ0eU5hbWUgIT09IG51bGwgJiYgJHNjb3BlLnByb3BlcnR5TmFtZSA9PT0gcHJvcGVydHlOYW1lKVxyXG4gICAgICAgICAgICAgICAgICAgPyAhJHNjb3BlLnJldmVyc2UgOiBmYWxzZTtcclxuICAgICAgICAgICAgICAgJHNjb3BlLnByb3BlcnR5TmFtZSA9IHByb3BlcnR5TmFtZTtcclxuICAgICAgICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBvcmRlckJ5KGZyaWVuZHMsICRzY29wZS5wcm9wZXJ0eU5hbWUsICRzY29wZS5yZXZlcnNlKTtcclxuICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInN0eWxlLmNzc1wiPlxyXG4gICAgICAgICAuZnJpZW5kcyB7XHJcbiAgICAgICAgICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcclxuICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAuZnJpZW5kcyB0aCB7XHJcbiAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC5mcmllbmRzIHRkLCAuZnJpZW5kcyB0aCB7XHJcbiAgICAgICAgICAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZDtcclxuICAgICAgICAgICBwYWRkaW5nOiA1cHggMTBweDtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAuZnJpZW5kcyB0ZDpmaXJzdC1jaGlsZCwgLmZyaWVuZHMgdGg6Zmlyc3QtY2hpbGQge1xyXG4gICAgICAgICAgIGJvcmRlci1sZWZ0OiBub25lO1xyXG4gICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgIC5zb3J0b3JkZXI6YWZ0ZXIge1xyXG4gICAgICAgICAgIGNvbnRlbnQ6ICdcXDI1YjInOyAgIC8vIEJMQUNLIFVQLVBPSU5USU5HIFRSSUFOR0xFXHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLnNvcnRvcmRlci5yZXZlcnNlOmFmdGVyIHtcclxuICAgICAgICAgICBjb250ZW50OiAnXFwyNWJjJzsgICAvLyBCTEFDSyBET1dOLVBPSU5USU5HIFRSSUFOR0xFXHJcbiAgICAgICAgIH1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgLy8gRWxlbWVudCBsb2NhdG9yc1xyXG4gICAgICAgICB2YXIgdW5zb3J0QnV0dG9uID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgndW5zb3J0ZWQnKSk7XHJcbiAgICAgICAgIHZhciBuYW1lSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnTmFtZScpKTtcclxuICAgICAgICAgdmFyIHBob25lSGVhZGVyID0gZWxlbWVudChieS5wYXJ0aWFsQnV0dG9uVGV4dCgnUGhvbmUnKSk7XHJcbiAgICAgICAgIHZhciBhZ2VIZWFkZXIgPSBlbGVtZW50KGJ5LnBhcnRpYWxCdXR0b25UZXh0KCdBZ2UnKSk7XHJcbiAgICAgICAgIHZhciBmaXJzdE5hbWUgPSBlbGVtZW50KGJ5LnJlcGVhdGVyKCdmcmllbmRzJykuY29sdW1uKCdmcmllbmQubmFtZScpLnJvdygwKSk7XHJcbiAgICAgICAgIHZhciBsYXN0TmFtZSA9IGVsZW1lbnQoYnkucmVwZWF0ZXIoJ2ZyaWVuZHMnKS5jb2x1bW4oJ2ZyaWVuZC5uYW1lJykucm93KDQpKTtcclxuICBcclxuICAgICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgYnkgc29tZSBwcm9wZXJ0eSwgd2hlbiBjbGlja2luZyBvbiB0aGUgY29sdW1uIGhlYWRlcicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG4gIFxyXG4gICAgICAgICAgIHBob25lSGVhZGVyLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZXhwZWN0KGZpcnN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICAgICAgICAgICBleHBlY3QobGFzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdNYXJ5Jyk7XHJcbiAgXHJcbiAgICAgICAgICAgbmFtZUhlYWRlci5jbGljaygpO1xyXG4gICAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnTWlrZScpO1xyXG4gIFxyXG4gICAgICAgICAgIGFnZUhlYWRlci5jbGljaygpO1xyXG4gICAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xyXG4gICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgaXQoJ3Nob3VsZCBzb3J0IGZyaWVuZHMgaW4gcmV2ZXJzZSBvcmRlciwgd2hlbiBjbGlja2luZyBvbiB0aGUgc2FtZSBjb2x1bW4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xyXG4gICAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICBcclxuICAgICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG4gICAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0FkYW0nKTtcclxuICBcclxuICAgICAgICAgICBhZ2VIZWFkZXIuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoZmlyc3ROYW1lLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xyXG4gICAgICAgICAgIGV4cGVjdChsYXN0TmFtZS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgIGl0KCdzaG91bGQgcmVzdG9yZSB0aGUgb3JpZ2luYWwgb3JkZXIsIHdoZW4gY2xpY2tpbmcgXCJTZXQgdG8gdW5zb3J0ZWRcIicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdBZGFtJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSm9obicpO1xyXG4gIFxyXG4gICAgICAgICAgIHVuc29ydEJ1dHRvbi5jbGljaygpO1xyXG4gICAgICAgICAgIGV4cGVjdChmaXJzdE5hbWUuZ2V0VGV4dCgpKS50b0JlKCdKb2huJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGxhc3ROYW1lLmdldFRleHQoKSkudG9CZSgnSnVsaWUnKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqIDxociAvPlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiAjIyMgVXNpbmcgYSBjdXN0b20gY29tcGFyYXRvclxyXG4gICAqXHJcbiAgICogSWYgeW91IGhhdmUgdmVyeSBzcGVjaWZpYyByZXF1aXJlbWVudHMgYWJvdXQgdGhlIHdheSBpdGVtcyBhcmUgc29ydGVkLCB5b3UgY2FuIHBhc3MgeW91ciBvd25cclxuICAgKiBjb21wYXJhdG9yIGZ1bmN0aW9uLiBGb3IgZXhhbXBsZSwgeW91IG1pZ2h0IG5lZWQgdG8gY29tcGFyZSBzb21lIHN0cmluZ3MgaW4gYSBsb2NhbGUtc2Vuc2l0aXZlXHJcbiAgICogd2F5LiAoV2hlbiBzcGVjaWZ5aW5nIGEgY3VzdG9tIGNvbXBhcmF0b3IsIHlvdSBhbHNvIG5lZWQgdG8gcGFzcyBhIHZhbHVlIGZvciB0aGUgYHJldmVyc2VgXHJcbiAgICogYXJndW1lbnQgLSBwYXNzaW5nIGBmYWxzZWAgcmV0YWlucyB0aGUgZGVmYXVsdCBzb3J0aW5nIG9yZGVyLCBpLmUuIGFzY2VuZGluZy4pXHJcbiAgICpcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwib3JkZXJCeS1jdXN0b20tY29tcGFyYXRvclwiIG1vZHVsZT1cIm9yZGVyQnlFeGFtcGxlNFwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZnJpZW5kcy1jb250YWluZXIgY3VzdG9tLWNvbXBhcmF0b3JcIj5cclxuICAgICAgICAgICAgIDxoMz5Mb2NhbGUtc2Vuc2l0aXZlIENvbXBhcmF0b3I8L2gzPlxyXG4gICAgICAgICAgICAgPHRhYmxlIGNsYXNzPVwiZnJpZW5kc1wiPlxyXG4gICAgICAgICAgICAgICA8dHI+XHJcbiAgICAgICAgICAgICAgICAgPHRoPk5hbWU8L3RoPlxyXG4gICAgICAgICAgICAgICAgIDx0aD5GYXZvcml0ZSBMZXR0ZXI8L3RoPlxyXG4gICAgICAgICAgICAgICA8L3RyPlxyXG4gICAgICAgICAgICAgICA8dHIgbmctcmVwZWF0PVwiZnJpZW5kIGluIGZyaWVuZHMgfCBvcmRlckJ5OidmYXZvcml0ZUxldHRlcic6ZmFsc2U6bG9jYWxlU2Vuc2l0aXZlQ29tcGFyYXRvclwiPlxyXG4gICAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxyXG4gICAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5mYXZvcml0ZUxldHRlcn19PC90ZD5cclxuICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz1cImZyaWVuZHMtY29udGFpbmVyIGRlZmF1bHQtY29tcGFyYXRvclwiPlxyXG4gICAgICAgICAgICAgPGgzPkRlZmF1bHQgQ29tcGFyYXRvcjwvaDM+XHJcbiAgICAgICAgICAgICA8dGFibGUgY2xhc3M9XCJmcmllbmRzXCI+XHJcbiAgICAgICAgICAgICAgIDx0cj5cclxuICAgICAgICAgICAgICAgICA8dGg+TmFtZTwvdGg+XHJcbiAgICAgICAgICAgICAgICAgPHRoPkZhdm9yaXRlIExldHRlcjwvdGg+XHJcbiAgICAgICAgICAgICAgIDwvdHI+XHJcbiAgICAgICAgICAgICAgIDx0ciBuZy1yZXBlYXQ9XCJmcmllbmQgaW4gZnJpZW5kcyB8IG9yZGVyQnk6J2Zhdm9yaXRlTGV0dGVyJ1wiPlxyXG4gICAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5uYW1lfX08L3RkPlxyXG4gICAgICAgICAgICAgICAgIDx0ZD57e2ZyaWVuZC5mYXZvcml0ZUxldHRlcn19PC90ZD5cclxuICAgICAgICAgICAgICAgPC90cj5cclxuICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnb3JkZXJCeUV4YW1wbGU0JywgW10pXHJcbiAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICRzY29wZS5mcmllbmRzID0gW1xyXG4gICAgICAgICAgICAgICB7bmFtZTogJ0pvaG4nLCAgIGZhdm9yaXRlTGV0dGVyOiAnw4QnfSxcclxuICAgICAgICAgICAgICAge25hbWU6ICdNYXJ5JywgICBmYXZvcml0ZUxldHRlcjogJ8OcJ30sXHJcbiAgICAgICAgICAgICAgIHtuYW1lOiAnTWlrZScsICAgZmF2b3JpdGVMZXR0ZXI6ICfDlid9LFxyXG4gICAgICAgICAgICAgICB7bmFtZTogJ0FkYW0nLCAgIGZhdm9yaXRlTGV0dGVyOiAnSCd9LFxyXG4gICAgICAgICAgICAgICB7bmFtZTogJ0p1bGllJywgIGZhdm9yaXRlTGV0dGVyOiAnWid9XHJcbiAgICAgICAgICAgICBdO1xyXG4gIFxyXG4gICAgICAgICAgICAgJHNjb3BlLmxvY2FsZVNlbnNpdGl2ZUNvbXBhcmF0b3IgPSBmdW5jdGlvbih2MSwgdjIpIHtcclxuICAgICAgICAgICAgICAgLy8gSWYgd2UgZG9uJ3QgZ2V0IHN0cmluZ3MsIGp1c3QgY29tcGFyZSBieSBpbmRleFxyXG4gICAgICAgICAgICAgICBpZiAodjEudHlwZSAhPT0gJ3N0cmluZycgfHwgdjIudHlwZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICByZXR1cm4gKHYxLmluZGV4IDwgdjIuaW5kZXgpID8gLTEgOiAxO1xyXG4gICAgICAgICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgICAgICAgIC8vIENvbXBhcmUgc3RyaW5ncyBhbHBoYWJldGljYWxseSwgdGFraW5nIGxvY2FsZSBpbnRvIGFjY291bnRcclxuICAgICAgICAgICAgICAgcmV0dXJuIHYxLnZhbHVlLmxvY2FsZUNvbXBhcmUodjIudmFsdWUpO1xyXG4gICAgICAgICAgICAgfTtcclxuICAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgIC5mcmllbmRzLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xyXG4gICAgICAgICAgIG1hcmdpbjogMCAzMHB4O1xyXG4gICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgIC5mcmllbmRzIHtcclxuICAgICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xyXG4gICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgIC5mcmllbmRzIHRoIHtcclxuICAgICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQ7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLmZyaWVuZHMgdGQsIC5mcmllbmRzIHRoIHtcclxuICAgICAgICAgICBib3JkZXItbGVmdDogMXB4IHNvbGlkO1xyXG4gICAgICAgICAgIHBhZGRpbmc6IDVweCAxMHB4O1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC5mcmllbmRzIHRkOmZpcnN0LWNoaWxkLCAuZnJpZW5kcyB0aDpmaXJzdC1jaGlsZCB7XHJcbiAgICAgICAgICAgYm9yZGVyLWxlZnQ6IG5vbmU7XHJcbiAgICAgICAgIH1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgLy8gRWxlbWVudCBsb2NhdG9yc1xyXG4gICAgICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5jc3MoJy5jdXN0b20tY29tcGFyYXRvcicpKTtcclxuICAgICAgICAgdmFyIG5hbWVzID0gY29udGFpbmVyLmFsbChieS5yZXBlYXRlcignZnJpZW5kcycpLmNvbHVtbignZnJpZW5kLm5hbWUnKSk7XHJcbiAgXHJcbiAgICAgICAgIGl0KCdzaG91bGQgc29ydCBmcmllbmRzIGJ5IGZhdm9yaXRlIGxldHRlciAoaW4gY29ycmVjdCBhbHBoYWJldGljYWwgb3JkZXIpJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgwKS5nZXRUZXh0KCkpLnRvQmUoJ0pvaG4nKTtcclxuICAgICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDEpLmdldFRleHQoKSkudG9CZSgnQWRhbScpO1xyXG4gICAgICAgICAgIGV4cGVjdChuYW1lcy5nZXQoMikuZ2V0VGV4dCgpKS50b0JlKCdNaWtlJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KG5hbWVzLmdldCgzKS5nZXRUZXh0KCkpLnRvQmUoJ01hcnknKTtcclxuICAgICAgICAgICBleHBlY3QobmFtZXMuZ2V0KDQpLmdldFRleHQoKSkudG9CZSgnSnVsaWUnKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICovXHJcbiAgb3JkZXJCeUZpbHRlci4kaW5qZWN0ID0gWyckcGFyc2UnXTtcclxuICBmdW5jdGlvbiBvcmRlckJ5RmlsdGVyKCRwYXJzZSkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhcnJheSwgc29ydFByZWRpY2F0ZSwgcmV2ZXJzZU9yZGVyLCBjb21wYXJlRm4pIHtcclxuXHJcbiAgICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gYXJyYXk7XHJcbiAgICAgIGlmICghaXNBcnJheUxpa2UoYXJyYXkpKSB7XHJcbiAgICAgICAgdGhyb3cgbWluRXJyKCdvcmRlckJ5JykoJ25vdGFycmF5JywgJ0V4cGVjdGVkIGFycmF5IGJ1dCByZWNlaXZlZDogezB9JywgYXJyYXkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWlzQXJyYXkoc29ydFByZWRpY2F0ZSkpIHtcclxuICAgICAgICBzb3J0UHJlZGljYXRlID0gW3NvcnRQcmVkaWNhdGVdO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzb3J0UHJlZGljYXRlLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHNvcnRQcmVkaWNhdGUgPSBbJysnXTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdmFyIHByZWRpY2F0ZXMgPSBwcm9jZXNzUHJlZGljYXRlcyhzb3J0UHJlZGljYXRlKTtcclxuXHJcbiAgICAgIHZhciBkZXNjZW5kaW5nID0gcmV2ZXJzZU9yZGVyID8gLTEgOiAxO1xyXG5cclxuICAgICAgLy8gRGVmaW5lIHRoZSBgY29tcGFyZSgpYCBmdW5jdGlvbi4gVXNlIGEgZGVmYXVsdCBjb21wYXJhdG9yIGlmIG5vbmUgaXMgc3BlY2lmaWVkLlxyXG4gICAgICB2YXIgY29tcGFyZSA9IGlzRnVuY3Rpb24oY29tcGFyZUZuKSA/IGNvbXBhcmVGbiA6IGRlZmF1bHRDb21wYXJlO1xyXG5cclxuICAgICAgLy8gVGhlIG5leHQgdGhyZWUgbGluZXMgYXJlIGEgdmVyc2lvbiBvZiBhIFN3YXJ0emlhbiBUcmFuc2Zvcm0gaWRpb20gZnJvbSBQZXJsXHJcbiAgICAgIC8vIChzb21ldGltZXMgY2FsbGVkIHRoZSBEZWNvcmF0ZS1Tb3J0LVVuZGVjb3JhdGUgaWRpb20pXHJcbiAgICAgIC8vIFNlZSBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TY2h3YXJ0emlhbl90cmFuc2Zvcm1cclxuICAgICAgdmFyIGNvbXBhcmVWYWx1ZXMgPSBBcnJheS5wcm90b3R5cGUubWFwLmNhbGwoYXJyYXksIGdldENvbXBhcmlzb25PYmplY3QpO1xyXG4gICAgICBjb21wYXJlVmFsdWVzLnNvcnQoZG9Db21wYXJpc29uKTtcclxuICAgICAgYXJyYXkgPSBjb21wYXJlVmFsdWVzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIHJldHVybiBpdGVtLnZhbHVlO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIHJldHVybiBhcnJheTtcclxuXHJcbiAgICAgIGZ1bmN0aW9uIGdldENvbXBhcmlzb25PYmplY3QodmFsdWUsIGluZGV4KSB7XHJcbiAgICAgICAgLy8gTk9URTogV2UgYXJlIGFkZGluZyBhbiBleHRyYSBgdGllQnJlYWtlcmAgdmFsdWUgYmFzZWQgb24gdGhlIGVsZW1lbnQncyBpbmRleC5cclxuICAgICAgICAvLyBUaGlzIHdpbGwgYmUgdXNlZCB0byBrZWVwIHRoZSBzb3J0IHN0YWJsZSB3aGVuIG5vbmUgb2YgdGhlIGlucHV0IHByZWRpY2F0ZXMgY2FuXHJcbiAgICAgICAgLy8gZGlzdGluZ3Vpc2ggYmV0d2VlbiB0d28gZWxlbWVudHMuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcclxuICAgICAgICAgIHRpZUJyZWFrZXI6IHsgdmFsdWU6IGluZGV4LCB0eXBlOiAnbnVtYmVyJywgaW5kZXg6IGluZGV4IH0sXHJcbiAgICAgICAgICBwcmVkaWNhdGVWYWx1ZXM6IHByZWRpY2F0ZXMubWFwKGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGdldFByZWRpY2F0ZVZhbHVlKHByZWRpY2F0ZS5nZXQodmFsdWUpLCBpbmRleCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGRvQ29tcGFyaXNvbih2MSwgdjIpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwcmVkaWNhdGVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcclxuICAgICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlKHYxLnByZWRpY2F0ZVZhbHVlc1tpXSwgdjIucHJlZGljYXRlVmFsdWVzW2ldKTtcclxuICAgICAgICAgIGlmIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIHByZWRpY2F0ZXNbaV0uZGVzY2VuZGluZyAqIGRlc2NlbmRpbmc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gKGNvbXBhcmUodjEudGllQnJlYWtlciwgdjIudGllQnJlYWtlcikgfHwgZGVmYXVsdENvbXBhcmUodjEudGllQnJlYWtlciwgdjIudGllQnJlYWtlcikpICogZGVzY2VuZGluZztcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBwcm9jZXNzUHJlZGljYXRlcyhzb3J0UHJlZGljYXRlcykge1xyXG4gICAgICByZXR1cm4gc29ydFByZWRpY2F0ZXMubWFwKGZ1bmN0aW9uIChwcmVkaWNhdGUpIHtcclxuICAgICAgICB2YXIgZGVzY2VuZGluZyA9IDEsXHJcbiAgICAgICAgICAgIGdldCA9IGlkZW50aXR5O1xyXG5cclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihwcmVkaWNhdGUpKSB7XHJcbiAgICAgICAgICBnZXQgPSBwcmVkaWNhdGU7XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc1N0cmluZyhwcmVkaWNhdGUpKSB7XHJcbiAgICAgICAgICBpZiAocHJlZGljYXRlLmNoYXJBdCgwKSA9PT0gJysnIHx8IHByZWRpY2F0ZS5jaGFyQXQoMCkgPT09ICctJykge1xyXG4gICAgICAgICAgICBkZXNjZW5kaW5nID0gcHJlZGljYXRlLmNoYXJBdCgwKSA9PT0gJy0nID8gLTEgOiAxO1xyXG4gICAgICAgICAgICBwcmVkaWNhdGUgPSBwcmVkaWNhdGUuc3Vic3RyaW5nKDEpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgaWYgKHByZWRpY2F0ZSAhPT0gJycpIHtcclxuICAgICAgICAgICAgZ2V0ID0gJHBhcnNlKHByZWRpY2F0ZSk7XHJcbiAgICAgICAgICAgIGlmIChnZXQuY29uc3RhbnQpIHtcclxuICAgICAgICAgICAgICB2YXIga2V5ID0gZ2V0KCk7XHJcbiAgICAgICAgICAgICAgZ2V0ID0gZnVuY3Rpb24gZ2V0KHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWVba2V5XTtcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IGdldDogZ2V0LCBkZXNjZW5kaW5nOiBkZXNjZW5kaW5nIH07XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHZhbHVlKSB7XHJcbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2YWx1ZSkpIHtcclxuICAgICAgICBjYXNlICdudW1iZXInOiAvKiBmYWxscyB0aHJvdWdoICovXHJcbiAgICAgICAgY2FzZSAnYm9vbGVhbic6IC8qIGZhbGxzIHRocm91Z2ggKi9cclxuICAgICAgICBjYXNlICdzdHJpbmcnOlxyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIG9iamVjdFZhbHVlKHZhbHVlKSB7XHJcbiAgICAgIC8vIElmIGB2YWx1ZU9mYCBpcyBhIHZhbGlkIGZ1bmN0aW9uIHVzZSB0aGF0XHJcbiAgICAgIGlmIChpc0Z1bmN0aW9uKHZhbHVlLnZhbHVlT2YpKSB7XHJcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS52YWx1ZU9mKCk7XHJcbiAgICAgICAgaWYgKGlzUHJpbWl0aXZlKHZhbHVlKSkgcmV0dXJuIHZhbHVlO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIElmIGB0b1N0cmluZ2AgaXMgYSB2YWxpZCBmdW5jdGlvbiBhbmQgbm90IHRoZSBvbmUgZnJvbSBgT2JqZWN0LnByb3RvdHlwZWAgdXNlIHRoYXRcclxuICAgICAgaWYgKGhhc0N1c3RvbVRvU3RyaW5nKHZhbHVlKSkge1xyXG4gICAgICAgIHZhbHVlID0gdmFsdWUudG9TdHJpbmcoKTtcclxuICAgICAgICBpZiAoaXNQcmltaXRpdmUodmFsdWUpKSByZXR1cm4gdmFsdWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRQcmVkaWNhdGVWYWx1ZSh2YWx1ZSwgaW5kZXgpIHtcclxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHZhbHVlKTtcclxuICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XHJcbiAgICAgICAgdHlwZSA9ICdzdHJpbmcnO1xyXG4gICAgICAgIHZhbHVlID0gJ251bGwnO1xyXG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgdmFsdWUgPSBvYmplY3RWYWx1ZSh2YWx1ZSk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHsgdmFsdWU6IHZhbHVlLCB0eXBlOiB0eXBlLCBpbmRleDogaW5kZXggfTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBkZWZhdWx0Q29tcGFyZSh2MSwgdjIpIHtcclxuICAgICAgdmFyIHJlc3VsdCA9IDA7XHJcbiAgICAgIHZhciB0eXBlMSA9IHYxLnR5cGU7XHJcbiAgICAgIHZhciB0eXBlMiA9IHYyLnR5cGU7XHJcblxyXG4gICAgICBpZiAodHlwZTEgPT09IHR5cGUyKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlMSA9IHYxLnZhbHVlO1xyXG4gICAgICAgIHZhciB2YWx1ZTIgPSB2Mi52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKHR5cGUxID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgLy8gQ29tcGFyZSBzdHJpbmdzIGNhc2UtaW5zZW5zaXRpdmVseVxyXG4gICAgICAgICAgdmFsdWUxID0gdmFsdWUxLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICB2YWx1ZTIgPSB2YWx1ZTIudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUxID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgLy8gRm9yIGJhc2ljIG9iamVjdHMsIHVzZSB0aGUgcG9zaXRpb24gb2YgdGhlIG9iamVjdFxyXG4gICAgICAgICAgLy8gaW4gdGhlIGNvbGxlY3Rpb24gaW5zdGVhZCBvZiB0aGUgdmFsdWVcclxuICAgICAgICAgIGlmIChpc09iamVjdCh2YWx1ZTEpKSB2YWx1ZTEgPSB2MS5pbmRleDtcclxuICAgICAgICAgIGlmIChpc09iamVjdCh2YWx1ZTIpKSB2YWx1ZTIgPSB2Mi5pbmRleDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZTEgIT09IHZhbHVlMikge1xyXG4gICAgICAgICAgcmVzdWx0ID0gdmFsdWUxIDwgdmFsdWUyID8gLTEgOiAxO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZXN1bHQgPSB0eXBlMSA8IHR5cGUyID8gLTEgOiAxO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbmdEaXJlY3RpdmUoZGlyZWN0aXZlKSB7XHJcbiAgICBpZiAoaXNGdW5jdGlvbihkaXJlY3RpdmUpKSB7XHJcbiAgICAgIGRpcmVjdGl2ZSA9IHtcclxuICAgICAgICBsaW5rOiBkaXJlY3RpdmVcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGRpcmVjdGl2ZS5yZXN0cmljdCA9IGRpcmVjdGl2ZS5yZXN0cmljdCB8fCAnQUMnO1xyXG4gICAgcmV0dXJuIHZhbHVlRm4oZGlyZWN0aXZlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBhXHJcbiAgICogQHJlc3RyaWN0IEVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIE1vZGlmaWVzIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHRoZSBodG1sIGEgdGFnIHNvIHRoYXQgdGhlIGRlZmF1bHQgYWN0aW9uIGlzIHByZXZlbnRlZCB3aGVuXHJcbiAgICogdGhlIGhyZWYgYXR0cmlidXRlIGlzIGVtcHR5LlxyXG4gICAqXHJcbiAgICogRm9yIGR5bmFtaWNhbGx5IGNyZWF0aW5nIGBocmVmYCBhdHRyaWJ1dGVzIGZvciBhIHRhZ3MsIHNlZSB0aGUge0BsaW5rIG5nLm5nSHJlZiBgbmdIcmVmYH0gZGlyZWN0aXZlLlxyXG4gICAqL1xyXG4gIHZhciBodG1sQW5jaG9yRGlyZWN0aXZlID0gdmFsdWVGbih7XHJcbiAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgY29tcGlsZTogZnVuY3Rpb24gY29tcGlsZShlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgIGlmICghYXR0ci5ocmVmICYmICFhdHRyLnhsaW5rSHJlZikge1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQpIHtcclxuICAgICAgICAgIC8vIElmIHRoZSBsaW5rZWQgZWxlbWVudCBpcyBub3QgYW4gYW5jaG9yIHRhZyBhbnltb3JlLCBkbyBub3RoaW5nXHJcbiAgICAgICAgICBpZiAoZWxlbWVudFswXS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnYScpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAvLyBTVkdBRWxlbWVudCBkb2VzIG5vdCB1c2UgdGhlIGhyZWYgYXR0cmlidXRlLCBidXQgcmF0aGVyIHRoZSAneGxpbmtIcmVmJyBhdHRyaWJ1dGUuXHJcbiAgICAgICAgICB2YXIgaHJlZiA9IHRvU3RyaW5nLmNhbGwoZWxlbWVudC5wcm9wKCdocmVmJykpID09PSAnW29iamVjdCBTVkdBbmltYXRlZFN0cmluZ10nID8gJ3hsaW5rOmhyZWYnIDogJ2hyZWYnO1xyXG4gICAgICAgICAgZWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBubyBocmVmIHVybCwgdGhlbiBkb24ndCBuYXZpZ2F0ZSBhbnl3aGVyZS5cclxuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmF0dHIoaHJlZikpIHtcclxuICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ0hyZWZcclxuICAgKiBAcmVzdHJpY3QgQVxyXG4gICAqIEBwcmlvcml0eSA5OVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVXNpbmcgQW5ndWxhciBtYXJrdXAgbGlrZSBge3toYXNofX1gIGluIGFuIGhyZWYgYXR0cmlidXRlIHdpbGxcclxuICAgKiBtYWtlIHRoZSBsaW5rIGdvIHRvIHRoZSB3cm9uZyBVUkwgaWYgdGhlIHVzZXIgY2xpY2tzIGl0IGJlZm9yZVxyXG4gICAqIEFuZ3VsYXIgaGFzIGEgY2hhbmNlIHRvIHJlcGxhY2UgdGhlIGB7e2hhc2h9fWAgbWFya3VwIHdpdGggaXRzXHJcbiAgICogdmFsdWUuIFVudGlsIEFuZ3VsYXIgcmVwbGFjZXMgdGhlIG1hcmt1cCB0aGUgbGluayB3aWxsIGJlIGJyb2tlblxyXG4gICAqIGFuZCB3aWxsIG1vc3QgbGlrZWx5IHJldHVybiBhIDQwNCBlcnJvci4gVGhlIGBuZ0hyZWZgIGRpcmVjdGl2ZVxyXG4gICAqIHNvbHZlcyB0aGlzIHByb2JsZW0uXHJcbiAgICpcclxuICAgKiBUaGUgd3Jvbmcgd2F5IHRvIHdyaXRlIGl0OlxyXG4gICAqIGBgYGh0bWxcclxuICAgKiA8YSBocmVmPVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19XCI+bGluazE8L2E+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XHJcbiAgICogYGBgaHRtbFxyXG4gICAqIDxhIG5nLWhyZWY9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIj5saW5rMTwvYT5cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBlbGVtZW50IEFcclxuICAgKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ0hyZWYgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBUaGlzIGV4YW1wbGUgc2hvd3MgdmFyaW91cyBjb21iaW5hdGlvbnMgb2YgYGhyZWZgLCBgbmctaHJlZmAgYW5kIGBuZy1jbGlja2AgYXR0cmlidXRlc1xyXG4gICAqIGluIGxpbmtzIGFuZCB0aGVpciBkaWZmZXJlbnQgYmVoYXZpb3JzOlxyXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwibmctaHJlZlwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJ2YWx1ZVwiIC8+PGJyIC8+XHJcbiAgICAgICAgICA8YSBpZD1cImxpbmstMVwiIGhyZWYgbmctY2xpY2s9XCJ2YWx1ZSA9IDFcIj5saW5rIDE8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XHJcbiAgICAgICAgICA8YSBpZD1cImxpbmstMlwiIGhyZWY9XCJcIiBuZy1jbGljaz1cInZhbHVlID0gMlwiPmxpbmsgMjwvYT4gKGxpbmssIGRvbid0IHJlbG9hZCk8YnIgLz5cclxuICAgICAgICAgIDxhIGlkPVwibGluay0zXCIgbmctaHJlZj1cIi97eycxMjMnfX1cIj5saW5rIDM8L2E+IChsaW5rLCByZWxvYWQhKTxiciAvPlxyXG4gICAgICAgICAgPGEgaWQ9XCJsaW5rLTRcIiBocmVmPVwiXCIgbmFtZT1cInh4XCIgbmctY2xpY2s9XCJ2YWx1ZSA9IDRcIj5hbmNob3I8L2E+IChsaW5rLCBkb24ndCByZWxvYWQpPGJyIC8+XHJcbiAgICAgICAgICA8YSBpZD1cImxpbmstNVwiIG5hbWU9XCJ4eHhcIiBuZy1jbGljaz1cInZhbHVlID0gNVwiPmFuY2hvcjwvYT4gKG5vIGxpbmspPGJyIC8+XHJcbiAgICAgICAgICA8YSBpZD1cImxpbmstNlwiIG5nLWhyZWY9XCJ7e3ZhbHVlfX1cIj5saW5rPC9hPiAobGluaywgY2hhbmdlIGxvY2F0aW9uKVxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBocmVmIHdpdGhvdXQgdmFsdWUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay0xJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzEnKTtcclxuICAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstMScpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7XHJcbiAgICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIGhyZWYgZW1wdHkgc3RyaW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMicpKS5jbGljaygpO1xyXG4gICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCcyJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTInKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUoJycpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYW5kIGNoYW5nZSB1cmwgd2hlbiBuZy1ocmVmIHNwZWNpZmllZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbGluay0zJykpLmdldEF0dHJpYnV0ZSgnaHJlZicpKS50b01hdGNoKC9cXC8xMjMkLyk7XHJcbiAgXHJcbiAgICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstMycpKS5jbGljaygpO1xyXG4gIFxyXG4gICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhciBwYWdlLCBzbyB3ZSBuZWVkXHJcbiAgICAgICAgICAgIC8vIHRvIHVzZSBicm93c2VyLmRyaXZlciB0byBnZXQgdGhlIGJhc2Ugd2ViZHJpdmVyLlxyXG4gIFxyXG4gICAgICAgICAgICBicm93c2VyLndhaXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvMTIzJC8pO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCA1MDAwLCAncGFnZSBzaG91bGQgbmF2aWdhdGUgdG8gLzEyMycpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGV4ZWN1dGUgbmctY2xpY2sgYnV0IG5vdCByZWxvYWQgd2hlbiBocmVmIGVtcHR5IHN0cmluZyBhbmQgbmFtZSBzcGVjaWZpZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZWxlbWVudChieS5pZCgnbGluay00JykpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd2YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJzQnKTtcclxuICAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuaWQoJ2xpbmstNCcpKS5nZXRBdHRyaWJ1dGUoJ2hyZWYnKSkudG9CZSgnJyk7XHJcbiAgICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgIGl0KCdzaG91bGQgZXhlY3V0ZSBuZy1jbGljayBidXQgbm90IHJlbG9hZCB3aGVuIG5vIGhyZWYgYnV0IG5hbWUgc3BlY2lmaWVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNScpKS5jbGljaygpO1xyXG4gICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5tb2RlbCgndmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCc1Jyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTUnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvQmUobnVsbCk7XHJcbiAgICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgIGl0KCdzaG91bGQgb25seSBjaGFuZ2UgdXJsIHdoZW4gb25seSBuZy1ocmVmJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3ZhbHVlJykpLnNlbmRLZXlzKCc2Jyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdsaW5rLTYnKSkuZ2V0QXR0cmlidXRlKCdocmVmJykpLnRvTWF0Y2goL1xcLzYkLyk7XHJcbiAgXHJcbiAgICAgICAgICAgIGVsZW1lbnQoYnkuaWQoJ2xpbmstNicpKS5jbGljaygpO1xyXG4gIFxyXG4gICAgICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCB3ZSBuYXZpZ2F0ZSBhd2F5IGZyb20gYW4gQW5ndWxhciBwYWdlLCBzbyB3ZSBuZWVkXHJcbiAgICAgICAgICAgIC8vIHRvIHVzZSBicm93c2VyLmRyaXZlciB0byBnZXQgdGhlIGJhc2Ugd2ViZHJpdmVyLlxyXG4gICAgICAgICAgICBicm93c2VyLndhaXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIuZHJpdmVyLmdldEN1cnJlbnRVcmwoKS50aGVuKGZ1bmN0aW9uKHVybCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVybC5tYXRjaCgvXFwvNiQvKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSwgNTAwMCwgJ3BhZ2Ugc2hvdWxkIG5hdmlnYXRlIHRvIC82Jyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nU3JjXHJcbiAgICogQHJlc3RyaWN0IEFcclxuICAgKiBAcHJpb3JpdHkgOTlcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFVzaW5nIEFuZ3VsYXIgbWFya3VwIGxpa2UgYHt7aGFzaH19YCBpbiBhIGBzcmNgIGF0dHJpYnV0ZSBkb2Vzbid0XHJcbiAgICogd29yayByaWdodDogVGhlIGJyb3dzZXIgd2lsbCBmZXRjaCBmcm9tIHRoZSBVUkwgd2l0aCB0aGUgbGl0ZXJhbFxyXG4gICAqIHRleHQgYHt7aGFzaH19YCB1bnRpbCBBbmd1bGFyIHJlcGxhY2VzIHRoZSBleHByZXNzaW9uIGluc2lkZVxyXG4gICAqIGB7e2hhc2h9fWAuIFRoZSBgbmdTcmNgIGRpcmVjdGl2ZSBzb2x2ZXMgdGhpcyBwcm9ibGVtLlxyXG4gICAqXHJcbiAgICogVGhlIGJ1Z2d5IHdheSB0byB3cml0ZSBpdDpcclxuICAgKiBgYGBodG1sXHJcbiAgICogPGltZyBzcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIiBhbHQ9XCJEZXNjcmlwdGlvblwiLz5cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIFRoZSBjb3JyZWN0IHdheSB0byB3cml0ZSBpdDpcclxuICAgKiBgYGBodG1sXHJcbiAgICogPGltZyBuZy1zcmM9XCJodHRwOi8vd3d3LmdyYXZhdGFyLmNvbS9hdmF0YXIve3toYXNofX1cIiBhbHQ9XCJEZXNjcmlwdGlvblwiIC8+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBJTUdcclxuICAgKiBAcGFyYW0ge3RlbXBsYXRlfSBuZ1NyYyBhbnkgc3RyaW5nIHdoaWNoIGNhbiBjb250YWluIGB7e319YCBtYXJrdXAuXHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ1NyY3NldFxyXG4gICAqIEByZXN0cmljdCBBXHJcbiAgICogQHByaW9yaXR5IDk5XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBVc2luZyBBbmd1bGFyIG1hcmt1cCBsaWtlIGB7e2hhc2h9fWAgaW4gYSBgc3Jjc2V0YCBhdHRyaWJ1dGUgZG9lc24ndFxyXG4gICAqIHdvcmsgcmlnaHQ6IFRoZSBicm93c2VyIHdpbGwgZmV0Y2ggZnJvbSB0aGUgVVJMIHdpdGggdGhlIGxpdGVyYWxcclxuICAgKiB0ZXh0IGB7e2hhc2h9fWAgdW50aWwgQW5ndWxhciByZXBsYWNlcyB0aGUgZXhwcmVzc2lvbiBpbnNpZGVcclxuICAgKiBge3toYXNofX1gLiBUaGUgYG5nU3Jjc2V0YCBkaXJlY3RpdmUgc29sdmVzIHRoaXMgcHJvYmxlbS5cclxuICAgKlxyXG4gICAqIFRoZSBidWdneSB3YXkgdG8gd3JpdGUgaXQ6XHJcbiAgICogYGBgaHRtbFxyXG4gICAqIDxpbWcgc3Jjc2V0PVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19IDJ4XCIgYWx0PVwiRGVzY3JpcHRpb25cIi8+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBUaGUgY29ycmVjdCB3YXkgdG8gd3JpdGUgaXQ6XHJcbiAgICogYGBgaHRtbFxyXG4gICAqIDxpbWcgbmctc3Jjc2V0PVwiaHR0cDovL3d3dy5ncmF2YXRhci5jb20vYXZhdGFyL3t7aGFzaH19IDJ4XCIgYWx0PVwiRGVzY3JpcHRpb25cIiAvPlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgSU1HXHJcbiAgICogQHBhcmFtIHt0ZW1wbGF0ZX0gbmdTcmNzZXQgYW55IHN0cmluZyB3aGljaCBjYW4gY29udGFpbiBge3t9fWAgbWFya3VwLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdEaXNhYmxlZFxyXG4gICAqIEByZXN0cmljdCBBXHJcbiAgICogQHByaW9yaXR5IDEwMFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBUaGlzIGRpcmVjdGl2ZSBzZXRzIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCAodHlwaWNhbGx5IGEgZm9ybSBjb250cm9sLFxyXG4gICAqIGUuZy4gYGlucHV0YCwgYGJ1dHRvbmAsIGBzZWxlY3RgIGV0Yy4pIGlmIHRoZVxyXG4gICAqIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGluc2lkZSBgbmdEaXNhYmxlZGAgZXZhbHVhdGVzIHRvIHRydXRoeS5cclxuICAgKlxyXG4gICAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYGRpc2FibGVkYFxyXG4gICAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cIm5nLWRpc2FibGVkXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgIDxsYWJlbD5DbGljayBtZSB0byB0b2dnbGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48L2xhYmVsPjxici8+XHJcbiAgICAgICAgICA8YnV0dG9uIG5nLW1vZGVsPVwiYnV0dG9uXCIgbmctZGlzYWJsZWQ9XCJjaGVja2VkXCI+QnV0dG9uPC9idXR0b24+XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIGJ1dHRvbicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ2J1dHRvbicpKS5nZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJykpLnRvQmVGYWxzeSgpO1xyXG4gICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnYnV0dG9uJykpLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBJTlBVVFxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdEaXNhYmxlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxyXG4gICAqICAgICB0aGVuIHRoZSBgZGlzYWJsZWRgIGF0dHJpYnV0ZSB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdDaGVja2VkXHJcbiAgICogQHJlc3RyaWN0IEFcclxuICAgKiBAcHJpb3JpdHkgMTAwXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTZXRzIHRoZSBgY2hlY2tlZGAgYXR0cmlidXRlIG9uIHRoZSBlbGVtZW50LCBpZiB0aGUgZXhwcmVzc2lvbiBpbnNpZGUgYG5nQ2hlY2tlZGAgaXMgdHJ1dGh5LlxyXG4gICAqXHJcbiAgICogTm90ZSB0aGF0IHRoaXMgZGlyZWN0aXZlIHNob3VsZCBub3QgYmUgdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0sXHJcbiAgICogYXMgdGhpcyBjYW4gbGVhZCB0byB1bmV4cGVjdGVkIGJlaGF2aW9yLlxyXG4gICAqXHJcbiAgICogQSBzcGVjaWFsIGRpcmVjdGl2ZSBpcyBuZWNlc3NhcnkgYmVjYXVzZSB3ZSBjYW5ub3QgdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoZSBgY2hlY2tlZGBcclxuICAgKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJuZy1jaGVja2VkXCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBjaGVjayBib3RoOiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJtYXN0ZXJcIj48L2xhYmVsPjxici8+XHJcbiAgICAgICAgICA8aW5wdXQgaWQ9XCJjaGVja1NsYXZlXCIgdHlwZT1cImNoZWNrYm94XCIgbmctY2hlY2tlZD1cIm1hc3RlclwiIGFyaWEtbGFiZWw9XCJTbGF2ZSBpbnB1dFwiPlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIGJvdGggY2hlY2tCb3hlcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY2hlY2tTbGF2ZScpKS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkudG9CZUZhbHN5KCk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ21hc3RlcicpKS5jbGljaygpO1xyXG4gICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnY2hlY2tTbGF2ZScpKS5nZXRBdHRyaWJ1dGUoJ2NoZWNrZWQnKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBJTlBVVFxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDaGVja2VkIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyB0cnV0aHksXHJcbiAgICogICAgIHRoZW4gdGhlIGBjaGVja2VkYCBhdHRyaWJ1dGUgd2lsbCBiZSBzZXQgb24gdGhlIGVsZW1lbnRcclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nUmVhZG9ubHlcclxuICAgKiBAcmVzdHJpY3QgQVxyXG4gICAqIEBwcmlvcml0eSAxMDBcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogU2V0cyB0aGUgYHJlYWRvbmx5YCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQsIGlmIHRoZSBleHByZXNzaW9uIGluc2lkZSBgbmdSZWFkb25seWAgaXMgdHJ1dGh5LlxyXG4gICAqIE5vdGUgdGhhdCBgcmVhZG9ubHlgIGFwcGxpZXMgb25seSB0byBgaW5wdXRgIGVsZW1lbnRzIHdpdGggc3BlY2lmaWMgdHlwZXMuIFtTZWUgdGhlIGlucHV0IGRvY3Mgb25cclxuICAgKiBNRE5dKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0hUTUwvRWxlbWVudC9pbnB1dCNhdHRyLXJlYWRvbmx5KSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cclxuICAgKlxyXG4gICAqIEEgc3BlY2lhbCBkaXJlY3RpdmUgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugd2UgY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGUgYHJlYWRvbmx5YFxyXG4gICAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cIm5nLXJlYWRvbmx5XCI+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgIDxsYWJlbD5DaGVjayBtZSB0byBtYWtlIHRleHQgcmVhZG9ubHk6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIj48L2xhYmVsPjxici8+XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1yZWFkb25seT1cImNoZWNrZWRcIiB2YWx1ZT1cIkknbSBBbmd1bGFyXCIgYXJpYS1sYWJlbD1cIlJlYWRvbmx5IGZpZWxkXCIgLz5cclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCB0b2dnbGUgcmVhZG9ubHkgYXR0cicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJ1t0eXBlPVwidGV4dFwiXScpKS5nZXRBdHRyaWJ1dGUoJ3JlYWRvbmx5JykpLnRvQmVGYWxzeSgpO1xyXG4gICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnW3R5cGU9XCJ0ZXh0XCJdJykpLmdldEF0dHJpYnV0ZSgncmVhZG9ubHknKSkudG9CZVRydXRoeSgpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBJTlBVVFxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdSZWFkb25seSBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxyXG4gICAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwicmVhZG9ubHlcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdTZWxlY3RlZFxyXG4gICAqIEByZXN0cmljdCBBXHJcbiAgICogQHByaW9yaXR5IDEwMFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBTZXRzIHRoZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCwgaWYgdGhlIGV4cHJlc3Npb24gaW5zaWRlIGBuZ1NlbGVjdGVkYCBpcyB0cnV0aHkuXHJcbiAgICpcclxuICAgKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBzZWxlY3RlZGBcclxuICAgKiBhdHRyaWJ1dGUuIFNlZSB0aGUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbiBndWlkZX0gZm9yIG1vcmUgaW5mby5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC13YXJuaW5nXCI+XHJcbiAgICogICAqKk5vdGU6KiogYG5nU2VsZWN0ZWRgIGRvZXMgbm90IGludGVyYWN0IHdpdGggdGhlIGBzZWxlY3RgIGFuZCBgbmdNb2RlbGAgZGlyZWN0aXZlcywgaXQgb25seVxyXG4gICAqICAgc2V0cyB0aGUgYHNlbGVjdGVkYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQuIElmIHlvdSBhcmUgdXNpbmcgYG5nTW9kZWxgIG9uIHRoZSBzZWxlY3QsIHlvdVxyXG4gICAqICAgc2hvdWxkIG5vdCB1c2UgYG5nU2VsZWN0ZWRgIG9uIHRoZSBvcHRpb25zLCBhcyBgbmdNb2RlbGAgd2lsbCBzZXQgdGhlIHNlbGVjdCB2YWx1ZSBhbmRcclxuICAgKiAgIHNlbGVjdGVkIG9wdGlvbnMuXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgICA8ZXhhbXBsZSBuYW1lPVwibmctc2VsZWN0ZWRcIj5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgPGxhYmVsPkNoZWNrIG1lIHRvIHNlbGVjdDogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj48L2xhYmVsPjxici8+XHJcbiAgICAgICAgICA8c2VsZWN0IGFyaWEtbGFiZWw9XCJuZ1NlbGVjdGVkIGRlbW9cIj5cclxuICAgICAgICAgICAgPG9wdGlvbj5IZWxsbyE8L29wdGlvbj5cclxuICAgICAgICAgICAgPG9wdGlvbiBpZD1cImdyZWV0XCIgbmctc2VsZWN0ZWQ9XCJzZWxlY3RlZFwiPkdyZWV0aW5ncyE8L29wdGlvbj5cclxuICAgICAgICAgIDwvc2VsZWN0PlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICBpdCgnc2hvdWxkIHNlbGVjdCBHcmVldGluZ3MhJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdncmVldCcpKS5nZXRBdHRyaWJ1dGUoJ3NlbGVjdGVkJykpLnRvQmVGYWxzeSgpO1xyXG4gICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzZWxlY3RlZCcpKS5jbGljaygpO1xyXG4gICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnZ3JlZXQnKSkuZ2V0QXR0cmlidXRlKCdzZWxlY3RlZCcpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgIDwvZXhhbXBsZT5cclxuICAgKlxyXG4gICAqIEBlbGVtZW50IE9QVElPTlxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdTZWxlY3RlZCBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxyXG4gICAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwic2VsZWN0ZWRcIiB3aWxsIGJlIHNldCBvbiB0aGUgZWxlbWVudFxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdPcGVuXHJcbiAgICogQHJlc3RyaWN0IEFcclxuICAgKiBAcHJpb3JpdHkgMTAwXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIFNldHMgdGhlIGBvcGVuYCBhdHRyaWJ1dGUgb24gdGhlIGVsZW1lbnQsIGlmIHRoZSBleHByZXNzaW9uIGluc2lkZSBgbmdPcGVuYCBpcyB0cnV0aHkuXHJcbiAgICpcclxuICAgKiBBIHNwZWNpYWwgZGlyZWN0aXZlIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlIGNhbm5vdCB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhlIGBvcGVuYFxyXG4gICAqIGF0dHJpYnV0ZS4gU2VlIHRoZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9uIGd1aWRlfSBmb3IgbW9yZSBpbmZvLlxyXG4gICAqXHJcbiAgICogIyMgQSBub3RlIGFib3V0IGJyb3dzZXIgY29tcGF0aWJpbGl0eVxyXG4gICAqXHJcbiAgICogSW50ZXJuZXQgRXhwbG9yZXIgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQgdGhlIGBkZXRhaWxzYCBlbGVtZW50LCBpdCBpc1xyXG4gICAqIHJlY29tbWVuZGVkIHRvIHVzZSB7QGxpbmsgbmcubmdTaG93fSBhbmQge0BsaW5rIG5nLm5nSGlkZX0gaW5zdGVhZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgICA8ZXhhbXBsZSBuYW1lPVwibmctb3BlblwiPlxyXG4gICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgIDxsYWJlbD5Ub2dnbGUgZGV0YWlsczogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwib3BlblwiPjwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgICA8ZGV0YWlscyBpZD1cImRldGFpbHNcIiBuZy1vcGVuPVwib3BlblwiPlxyXG4gICAgICAgICAgICAgIDxzdW1tYXJ5Pkxpc3Q8L3N1bW1hcnk+XHJcbiAgICAgICAgICAgICAgPHVsPlxyXG4gICAgICAgICAgICAgICAgPGxpPkFwcGxlPC9saT5cclxuICAgICAgICAgICAgICAgIDxsaT5PcmFuZ2U8L2xpPlxyXG4gICAgICAgICAgICAgICAgPGxpPkR1cmlhbjwvbGk+XHJcbiAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICA8L2RldGFpbHM+XHJcbiAgICAgICAgIDwvZmlsZT5cclxuICAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgIGl0KCdzaG91bGQgdG9nZ2xlIG9wZW4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZXRhaWxzJykpLmdldEF0dHJpYnV0ZSgnb3BlbicpKS50b0JlRmFsc3koKTtcclxuICAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ29wZW4nKSkuY2xpY2soKTtcclxuICAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdkZXRhaWxzJykpLmdldEF0dHJpYnV0ZSgnb3BlbicpKS50b0JlVHJ1dGh5KCk7XHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgIDwvZmlsZT5cclxuICAgICAgIDwvZXhhbXBsZT5cclxuICAgKlxyXG4gICAqIEBlbGVtZW50IERFVEFJTFNcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nT3BlbiBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5LFxyXG4gICAqICAgICB0aGVuIHNwZWNpYWwgYXR0cmlidXRlIFwib3BlblwiIHdpbGwgYmUgc2V0IG9uIHRoZSBlbGVtZW50XHJcbiAgICovXHJcblxyXG4gIHZhciBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlcyA9IHt9O1xyXG5cclxuICAvLyBib29sZWFuIGF0dHJzIGFyZSBldmFsdWF0ZWRcclxuICBmb3JFYWNoKEJPT0xFQU5fQVRUUiwgZnVuY3Rpb24gKHByb3BOYW1lLCBhdHRyTmFtZSkge1xyXG4gICAgLy8gYmluZGluZyB0byBtdWx0aXBsZSBpcyBub3Qgc3VwcG9ydGVkXHJcbiAgICBpZiAocHJvcE5hbWUgPT09ICdtdWx0aXBsZScpIHJldHVybjtcclxuXHJcbiAgICBmdW5jdGlvbiBkZWZhdWx0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgIHNjb3BlLiR3YXRjaChhdHRyW25vcm1hbGl6ZWRdLCBmdW5jdGlvbiBuZ0Jvb2xlYW5BdHRyV2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICBhdHRyLiRzZXQoYXR0ck5hbWUsICEhdmFsdWUpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbm9ybWFsaXplZCA9IGRpcmVjdGl2ZU5vcm1hbGl6ZSgnbmctJyArIGF0dHJOYW1lKTtcclxuICAgIHZhciBsaW5rRm4gPSBkZWZhdWx0TGlua0ZuO1xyXG5cclxuICAgIGlmIChwcm9wTmFtZSA9PT0gJ2NoZWNrZWQnKSB7XHJcbiAgICAgIGxpbmtGbiA9IGZ1bmN0aW9uIGxpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgIC8vIGVuc3VyaW5nIG5nQ2hlY2tlZCBkb2Vzbid0IGludGVyZmVyZSB3aXRoIG5nTW9kZWwgd2hlbiBib3RoIGFyZSBzZXQgb24gdGhlIHNhbWUgaW5wdXRcclxuICAgICAgICBpZiAoYXR0ci5uZ01vZGVsICE9PSBhdHRyW25vcm1hbGl6ZWRdKSB7XHJcbiAgICAgICAgICBkZWZhdWx0TGlua0ZuKHNjb3BlLCBlbGVtZW50LCBhdHRyKTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgICBwcmlvcml0eTogMTAwLFxyXG4gICAgICAgIGxpbms6IGxpbmtGblxyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICB9KTtcclxuXHJcbiAgLy8gYWxpYXNlZCBpbnB1dCBhdHRycyBhcmUgZXZhbHVhdGVkXHJcbiAgZm9yRWFjaChBTElBU0VEX0FUVFIsIGZ1bmN0aW9uIChodG1sQXR0ciwgbmdBdHRyKSB7XHJcbiAgICBuZ0F0dHJpYnV0ZUFsaWFzRGlyZWN0aXZlc1tuZ0F0dHJdID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHByaW9yaXR5OiAxMDAsXHJcbiAgICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgICAgLy9zcGVjaWFsIGNhc2UgbmdQYXR0ZXJuIHdoZW4gYSBsaXRlcmFsIHJlZ3VsYXIgZXhwcmVzc2lvbiB2YWx1ZVxyXG4gICAgICAgICAgLy9pcyB1c2VkIGFzIHRoZSBleHByZXNzaW9uICh0aGlzIHdheSB3ZSBkb24ndCBoYXZlIHRvIHdhdGNoIGFueXRoaW5nKS5cclxuICAgICAgICAgIGlmIChuZ0F0dHIgPT09ICduZ1BhdHRlcm4nICYmIGF0dHIubmdQYXR0ZXJuLmNoYXJBdCgwKSA9PT0gJy8nKSB7XHJcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IGF0dHIubmdQYXR0ZXJuLm1hdGNoKFJFR0VYX1NUUklOR19SRUdFWFApO1xyXG4gICAgICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgICBhdHRyLiRzZXQoJ25nUGF0dGVybicsIG5ldyBSZWdFeHAobWF0Y2hbMV0sIG1hdGNoWzJdKSk7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJbbmdBdHRyXSwgZnVuY3Rpb24gbmdBdHRyQWxpYXNXYXRjaEFjdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgICBhdHRyLiRzZXQobmdBdHRyLCB2YWx1ZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuICAvLyBuZy1zcmMsIG5nLXNyY3NldCwgbmctaHJlZiBhcmUgaW50ZXJwb2xhdGVkXHJcbiAgZm9yRWFjaChbJ3NyYycsICdzcmNzZXQnLCAnaHJlZiddLCBmdW5jdGlvbiAoYXR0ck5hbWUpIHtcclxuICAgIHZhciBub3JtYWxpemVkID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgYXR0ck5hbWUpO1xyXG4gICAgbmdBdHRyaWJ1dGVBbGlhc0RpcmVjdGl2ZXNbbm9ybWFsaXplZF0gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJpb3JpdHk6IDk5LCAvLyBpdCBuZWVkcyB0byBydW4gYWZ0ZXIgdGhlIGF0dHJpYnV0ZXMgYXJlIGludGVycG9sYXRlZFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAgIHZhciBwcm9wTmFtZSA9IGF0dHJOYW1lLFxyXG4gICAgICAgICAgICAgIG5hbWUgPSBhdHRyTmFtZTtcclxuXHJcbiAgICAgICAgICBpZiAoYXR0ck5hbWUgPT09ICdocmVmJyAmJiB0b1N0cmluZy5jYWxsKGVsZW1lbnQucHJvcCgnaHJlZicpKSA9PT0gJ1tvYmplY3QgU1ZHQW5pbWF0ZWRTdHJpbmddJykge1xyXG4gICAgICAgICAgICBuYW1lID0gJ3hsaW5rSHJlZic7XHJcbiAgICAgICAgICAgIGF0dHIuJGF0dHJbbmFtZV0gPSAneGxpbms6aHJlZic7XHJcbiAgICAgICAgICAgIHByb3BOYW1lID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBhdHRyLiRvYnNlcnZlKG5vcm1hbGl6ZWQsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGF0dHJOYW1lID09PSAnaHJlZicpIHtcclxuICAgICAgICAgICAgICAgIGF0dHIuJHNldChuYW1lLCBudWxsKTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBhdHRyLiRzZXQobmFtZSwgdmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgLy8gU3VwcG9ydDogSUUgOS0xMSBvbmx5XHJcbiAgICAgICAgICAgIC8vIE9uIElFLCBpZiBcIm5nOnNyY1wiIGRpcmVjdGl2ZSBkZWNsYXJhdGlvbiBpcyB1c2VkIGFuZCBcInNyY1wiIGF0dHJpYnV0ZSBkb2Vzbid0IGV4aXN0XHJcbiAgICAgICAgICAgIC8vIHRoZW4gY2FsbGluZyBlbGVtZW50LnNldEF0dHJpYnV0ZSgnc3JjJywgJ2ZvbycpIGRvZXNuJ3QgZG8gYW55dGhpbmcsIHNvIHdlIG5lZWRcclxuICAgICAgICAgICAgLy8gdG8gc2V0IHRoZSBwcm9wZXJ0eSBhcyB3ZWxsIHRvIGFjaGlldmUgdGhlIGRlc2lyZWQgZWZmZWN0LlxyXG4gICAgICAgICAgICAvLyBXZSB1c2UgYXR0clthdHRyTmFtZV0gdmFsdWUgc2luY2UgJHNldCBjYW4gc2FuaXRpemUgdGhlIHVybC5cclxuICAgICAgICAgICAgaWYgKG1zaWUgJiYgcHJvcE5hbWUpIGVsZW1lbnQucHJvcChwcm9wTmFtZSwgYXR0cltuYW1lXSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICB9O1xyXG4gIH0pO1xyXG5cclxuICAvKiBnbG9iYWwgLW51bGxGb3JtQ3RybCwgLVBFTkRJTkdfQ0xBU1MsIC1TVUJNSVRURURfQ0xBU1NcclxuICAgKi9cclxuICB2YXIgbnVsbEZvcm1DdHJsID0ge1xyXG4gICAgJGFkZENvbnRyb2w6IG5vb3AsXHJcbiAgICAkJHJlbmFtZUNvbnRyb2w6IG51bGxGb3JtUmVuYW1lQ29udHJvbCxcclxuICAgICRyZW1vdmVDb250cm9sOiBub29wLFxyXG4gICAgJHNldFZhbGlkaXR5OiBub29wLFxyXG4gICAgJHNldERpcnR5OiBub29wLFxyXG4gICAgJHNldFByaXN0aW5lOiBub29wLFxyXG4gICAgJHNldFN1Ym1pdHRlZDogbm9vcFxyXG4gIH0sXHJcbiAgICAgIFBFTkRJTkdfQ0xBU1MgPSAnbmctcGVuZGluZycsXHJcbiAgICAgIFNVQk1JVFRFRF9DTEFTUyA9ICduZy1zdWJtaXR0ZWQnO1xyXG5cclxuICBmdW5jdGlvbiBudWxsRm9ybVJlbmFtZUNvbnRyb2woY29udHJvbCwgbmFtZSkge1xyXG4gICAgY29udHJvbC4kbmFtZSA9IG5hbWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgdHlwZVxyXG4gICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXJcclxuICAgKlxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHByaXN0aW5lIFRydWUgaWYgdXNlciBoYXMgbm90IGludGVyYWN0ZWQgd2l0aCB0aGUgZm9ybSB5ZXQuXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSAkZGlydHkgVHJ1ZSBpZiB1c2VyIGhhcyBhbHJlYWR5IGludGVyYWN0ZWQgd2l0aCB0aGUgZm9ybS5cclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59ICR2YWxpZCBUcnVlIGlmIGFsbCBvZiB0aGUgY29udGFpbmluZyBmb3JtcyBhbmQgY29udHJvbHMgYXJlIHZhbGlkLlxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJGludmFsaWQgVHJ1ZSBpZiBhdCBsZWFzdCBvbmUgY29udGFpbmluZyBjb250cm9sIG9yIGZvcm0gaXMgaW52YWxpZC5cclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59ICRzdWJtaXR0ZWQgVHJ1ZSBpZiB1c2VyIGhhcyBzdWJtaXR0ZWQgdGhlIGZvcm0gZXZlbiBpZiBpdHMgaW52YWxpZC5cclxuICAgKlxyXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0fSAkcGVuZGluZyBBbiBvYmplY3QgaGFzaCwgY29udGFpbmluZyByZWZlcmVuY2VzIHRvIGNvbnRyb2xzIG9yIGZvcm1zIHdpdGhcclxuICAgKiAgcGVuZGluZyB2YWxpZGF0b3JzLCB3aGVyZTpcclxuICAgKlxyXG4gICAqICAtIGtleXMgYXJlIHZhbGlkYXRpb25zIHRva2VucyAoZXJyb3IgbmFtZXMpLlxyXG4gICAqICAtIHZhbHVlcyBhcmUgYXJyYXlzIG9mIGNvbnRyb2xzIG9yIGZvcm1zIHRoYXQgaGF2ZSBhIHBlbmRpbmcgdmFsaWRhdG9yIGZvciB0aGUgZ2l2ZW4gZXJyb3IgbmFtZS5cclxuICAgKlxyXG4gICAqIFNlZSB7QGxpbmsgZm9ybS5Gb3JtQ29udHJvbGxlciMkZXJyb3IgJGVycm9yfSBmb3IgYSBsaXN0IG9mIGJ1aWx0LWluIHZhbGlkYXRpb24gdG9rZW5zLlxyXG4gICAqXHJcbiAgICogQHByb3BlcnR5IHtPYmplY3R9ICRlcnJvciBBbiBvYmplY3QgaGFzaCwgY29udGFpbmluZyByZWZlcmVuY2VzIHRvIGNvbnRyb2xzIG9yIGZvcm1zIHdpdGggZmFpbGluZ1xyXG4gICAqICB2YWxpZGF0b3JzLCB3aGVyZTpcclxuICAgKlxyXG4gICAqICAtIGtleXMgYXJlIHZhbGlkYXRpb24gdG9rZW5zIChlcnJvciBuYW1lcyksXHJcbiAgICogIC0gdmFsdWVzIGFyZSBhcnJheXMgb2YgY29udHJvbHMgb3IgZm9ybXMgdGhhdCBoYXZlIGEgZmFpbGluZyB2YWxpZGF0b3IgZm9yIHRoZSBnaXZlbiBlcnJvciBuYW1lLlxyXG4gICAqXHJcbiAgICogIEJ1aWx0LWluIHZhbGlkYXRpb24gdG9rZW5zOlxyXG4gICAqICAtIGBlbWFpbGBcclxuICAgKiAgLSBgbWF4YFxyXG4gICAqICAtIGBtYXhsZW5ndGhgXHJcbiAgICogIC0gYG1pbmBcclxuICAgKiAgLSBgbWlubGVuZ3RoYFxyXG4gICAqICAtIGBudW1iZXJgXHJcbiAgICogIC0gYHBhdHRlcm5gXHJcbiAgICogIC0gYHJlcXVpcmVkYFxyXG4gICAqICAtIGB1cmxgXHJcbiAgICogIC0gYGRhdGVgXHJcbiAgICogIC0gYGRhdGV0aW1lbG9jYWxgXHJcbiAgICogIC0gYHRpbWVgXHJcbiAgICogIC0gYHdlZWtgXHJcbiAgICogIC0gYG1vbnRoYFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogYEZvcm1Db250cm9sbGVyYCBrZWVwcyB0cmFjayBvZiBhbGwgaXRzIGNvbnRyb2xzIGFuZCBuZXN0ZWQgZm9ybXMgYXMgd2VsbCBhcyB0aGUgc3RhdGUgb2YgdGhlbSxcclxuICAgKiBzdWNoIGFzIGJlaW5nIHZhbGlkL2ludmFsaWQgb3IgZGlydHkvcHJpc3RpbmUuXHJcbiAgICpcclxuICAgKiBFYWNoIHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfSBkaXJlY3RpdmUgY3JlYXRlcyBhbiBpbnN0YW5jZVxyXG4gICAqIG9mIGBGb3JtQ29udHJvbGxlcmAuXHJcbiAgICpcclxuICAgKi9cclxuICAvL2Fza3MgZm9yICRzY29wZSB0byBmb29sIHRoZSBCQyBjb250cm9sbGVyIG1vZHVsZVxyXG4gIEZvcm1Db250cm9sbGVyLiRpbmplY3QgPSBbJyRlbGVtZW50JywgJyRhdHRycycsICckc2NvcGUnLCAnJGFuaW1hdGUnLCAnJGludGVycG9sYXRlJ107XHJcbiAgZnVuY3Rpb24gRm9ybUNvbnRyb2xsZXIoJGVsZW1lbnQsICRhdHRycywgJHNjb3BlLCAkYW5pbWF0ZSwgJGludGVycG9sYXRlKSB7XHJcbiAgICB0aGlzLiQkY29udHJvbHMgPSBbXTtcclxuXHJcbiAgICAvLyBpbml0IHN0YXRlXHJcbiAgICB0aGlzLiRlcnJvciA9IHt9O1xyXG4gICAgdGhpcy4kJHN1Y2Nlc3MgPSB7fTtcclxuICAgIHRoaXMuJHBlbmRpbmcgPSB1bmRlZmluZWQ7XHJcbiAgICB0aGlzLiRuYW1lID0gJGludGVycG9sYXRlKCRhdHRycy5uYW1lIHx8ICRhdHRycy5uZ0Zvcm0gfHwgJycpKCRzY29wZSk7XHJcbiAgICB0aGlzLiRkaXJ0eSA9IGZhbHNlO1xyXG4gICAgdGhpcy4kcHJpc3RpbmUgPSB0cnVlO1xyXG4gICAgdGhpcy4kdmFsaWQgPSB0cnVlO1xyXG4gICAgdGhpcy4kaW52YWxpZCA9IGZhbHNlO1xyXG4gICAgdGhpcy4kc3VibWl0dGVkID0gZmFsc2U7XHJcbiAgICB0aGlzLiQkcGFyZW50Rm9ybSA9IG51bGxGb3JtQ3RybDtcclxuXHJcbiAgICB0aGlzLiQkZWxlbWVudCA9ICRlbGVtZW50O1xyXG4gICAgdGhpcy4kJGFuaW1hdGUgPSAkYW5pbWF0ZTtcclxuXHJcbiAgICBzZXR1cFZhbGlkaXR5KHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgRm9ybUNvbnRyb2xsZXIucHJvdG90eXBlID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogUm9sbGJhY2sgYWxsIGZvcm0gY29udHJvbHMgcGVuZGluZyB1cGRhdGVzIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxyXG4gICAgICpcclxuICAgICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxyXG4gICAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIFRoaXMgbWV0aG9kIGlzIHR5cGljYWxseSBuZWVkZWQgYnkgdGhlIHJlc2V0IGJ1dHRvbiBvZlxyXG4gICAgICogYSBmb3JtIHRoYXQgdXNlcyBgbmctbW9kZWwtb3B0aW9uc2AgdG8gcGVuZCB1cGRhdGVzLlxyXG4gICAgICovXHJcbiAgICAkcm9sbGJhY2tWaWV3VmFsdWU6IGZ1bmN0aW9uICRyb2xsYmFja1ZpZXdWYWx1ZSgpIHtcclxuICAgICAgZm9yRWFjaCh0aGlzLiQkY29udHJvbHMsIGZ1bmN0aW9uIChjb250cm9sKSB7XHJcbiAgICAgICAgY29udHJvbC4kcm9sbGJhY2tWaWV3VmFsdWUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkY29tbWl0Vmlld1ZhbHVlXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBDb21taXQgYWxsIGZvcm0gY29udHJvbHMgcGVuZGluZyB1cGRhdGVzIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxyXG4gICAgICpcclxuICAgICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxyXG4gICAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIFRoaXMgbWV0aG9kIGlzIHJhcmVseSBuZWVkZWQgYXMgYE5nTW9kZWxDb250cm9sbGVyYFxyXG4gICAgICogdXN1YWxseSBoYW5kbGVzIGNhbGxpbmcgdGhpcyBpbiByZXNwb25zZSB0byBpbnB1dCBldmVudHMuXHJcbiAgICAgKi9cclxuICAgICRjb21taXRWaWV3VmFsdWU6IGZ1bmN0aW9uICRjb21taXRWaWV3VmFsdWUoKSB7XHJcbiAgICAgIGZvckVhY2godGhpcy4kJGNvbnRyb2xzLCBmdW5jdGlvbiAoY29udHJvbCkge1xyXG4gICAgICAgIGNvbnRyb2wuJGNvbW1pdFZpZXdWYWx1ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRhZGRDb250cm9sXHJcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gY29udHJvbCBjb250cm9sIG9iamVjdCwgZWl0aGVyIGEge0BsaW5rIGZvcm0uRm9ybUNvbnRyb2xsZXJ9IG9yIGFuXHJcbiAgICAgKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlcn1cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFJlZ2lzdGVyIGEgY29udHJvbCB3aXRoIHRoZSBmb3JtLiBJbnB1dCBlbGVtZW50cyB1c2luZyBuZ01vZGVsQ29udHJvbGxlciBkbyB0aGlzIGF1dG9tYXRpY2FsbHlcclxuICAgICAqIHdoZW4gdGhleSBhcmUgbGlua2VkLlxyXG4gICAgICpcclxuICAgICAqIE5vdGUgdGhhdCB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgY29udHJvbCB3aWxsIG5vdCBiZSByZWZsZWN0ZWQgb24gdGhlIG5ldyBwYXJlbnQgZm9ybS4gVGhpc1xyXG4gICAgICogaXMgbm90IGFuIGlzc3VlIHdpdGggbm9ybWFsIHVzZSwgYXMgZnJlc2hseSBjb21waWxlZCBhbmQgbGlua2VkIGNvbnRyb2xzIGFyZSBpbiBhIGAkcHJpc3RpbmVgXHJcbiAgICAgKiBzdGF0ZS5cclxuICAgICAqXHJcbiAgICAgKiBIb3dldmVyLCBpZiB0aGUgbWV0aG9kIGlzIHVzZWQgcHJvZ3JhbW1hdGljYWxseSwgZm9yIGV4YW1wbGUgYnkgYWRkaW5nIGR5bmFtaWNhbGx5IGNyZWF0ZWQgY29udHJvbHMsXHJcbiAgICAgKiBvciBjb250cm9scyB0aGF0IGhhdmUgYmVlbiBwcmV2aW91c2x5IHJlbW92ZWQgd2l0aG91dCBkZXN0cm95aW5nIHRoZWlyIGNvcnJlc3BvbmRpbmcgRE9NIGVsZW1lbnQsXHJcbiAgICAgKiBpdCdzIHRoZSBkZXZlbG9wZXJzIHJlc3BvbnNpYmlsaXR5IHRvIG1ha2Ugc3VyZSB0aGUgY3VycmVudCBzdGF0ZSBwcm9wYWdhdGVzIHRvIHRoZSBwYXJlbnQgZm9ybS5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgZXhhbXBsZSwgaWYgYW4gaW5wdXQgY29udHJvbCBpcyBhZGRlZCB0aGF0IGlzIGFscmVhZHkgYCRkaXJ0eWAgYW5kIGhhcyBgJGVycm9yYCBwcm9wZXJ0aWVzLFxyXG4gICAgICogY2FsbGluZyBgJHNldERpcnR5KClgIGFuZCBgJHZhbGlkYXRlKClgIGFmdGVyd2FyZHMgd2lsbCBwcm9wYWdhdGUgdGhlIHN0YXRlIHRvIHRoZSBwYXJlbnQgZm9ybS5cclxuICAgICAqL1xyXG4gICAgJGFkZENvbnRyb2w6IGZ1bmN0aW9uICRhZGRDb250cm9sKGNvbnRyb2wpIHtcclxuICAgICAgLy8gQnJlYWtpbmcgY2hhbmdlIC0gYmVmb3JlLCBpbnB1dHMgd2hvc2UgbmFtZSB3YXMgXCJoYXNPd25Qcm9wZXJ0eVwiIHdlcmUgcXVpZXRseSBpZ25vcmVkXHJcbiAgICAgIC8vIGFuZCBub3QgYWRkZWQgdG8gdGhlIHNjb3BlLiAgTm93IHdlIHRocm93IGFuIGVycm9yLlxyXG4gICAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eShjb250cm9sLiRuYW1lLCAnaW5wdXQnKTtcclxuICAgICAgdGhpcy4kJGNvbnRyb2xzLnB1c2goY29udHJvbCk7XHJcblxyXG4gICAgICBpZiAoY29udHJvbC4kbmFtZSkge1xyXG4gICAgICAgIHRoaXNbY29udHJvbC4kbmFtZV0gPSBjb250cm9sO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb250cm9sLiQkcGFyZW50Rm9ybSA9IHRoaXM7XHJcbiAgICB9LFxyXG5cclxuICAgIC8vIFByaXZhdGUgQVBJOiByZW5hbWUgYSBmb3JtIGNvbnRyb2xcclxuICAgICQkcmVuYW1lQ29udHJvbDogZnVuY3Rpb24gJCRyZW5hbWVDb250cm9sKGNvbnRyb2wsIG5ld05hbWUpIHtcclxuICAgICAgdmFyIG9sZE5hbWUgPSBjb250cm9sLiRuYW1lO1xyXG5cclxuICAgICAgaWYgKHRoaXNbb2xkTmFtZV0gPT09IGNvbnRyb2wpIHtcclxuICAgICAgICBkZWxldGUgdGhpc1tvbGROYW1lXTtcclxuICAgICAgfVxyXG4gICAgICB0aGlzW25ld05hbWVdID0gY29udHJvbDtcclxuICAgICAgY29udHJvbC4kbmFtZSA9IG5ld05hbWU7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkcmVtb3ZlQ29udHJvbFxyXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGNvbnRyb2wgY29udHJvbCBvYmplY3QsIGVpdGhlciBhIHtAbGluayBmb3JtLkZvcm1Db250cm9sbGVyfSBvciBhblxyXG4gICAgICoge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXJ9XHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBEZXJlZ2lzdGVyIGEgY29udHJvbCBmcm9tIHRoZSBmb3JtLlxyXG4gICAgICpcclxuICAgICAqIElucHV0IGVsZW1lbnRzIHVzaW5nIG5nTW9kZWxDb250cm9sbGVyIGRvIHRoaXMgYXV0b21hdGljYWxseSB3aGVuIHRoZXkgYXJlIGRlc3Ryb3llZC5cclxuICAgICAqXHJcbiAgICAgKiBOb3RlIHRoYXQgb25seSB0aGUgcmVtb3ZlZCBjb250cm9sJ3MgdmFsaWRhdGlvbiBzdGF0ZSAoYCRlcnJvcnNgZXRjLikgd2lsbCBiZSByZW1vdmVkIGZyb20gdGhlXHJcbiAgICAgKiBmb3JtLiBgJGRpcnR5YCwgYCRzdWJtaXR0ZWRgIHN0YXRlcyB3aWxsIG5vdCBiZSBjaGFuZ2VkLCBiZWNhdXNlIHRoZSBleHBlY3RlZCBiZWhhdmlvciBjYW4gYmVcclxuICAgICAqIGRpZmZlcmVudCBmcm9tIGNhc2UgdG8gY2FzZS4gRm9yIGV4YW1wbGUsIHJlbW92aW5nIHRoZSBvbmx5IGAkZGlydHlgIGNvbnRyb2wgZnJvbSBhIGZvcm0gbWF5IG9yXHJcbiAgICAgKiBtYXkgbm90IG1lYW4gdGhhdCB0aGUgZm9ybSBpcyBzdGlsbCBgJGRpcnR5YC5cclxuICAgICAqL1xyXG4gICAgJHJlbW92ZUNvbnRyb2w6IGZ1bmN0aW9uICRyZW1vdmVDb250cm9sKGNvbnRyb2wpIHtcclxuICAgICAgaWYgKGNvbnRyb2wuJG5hbWUgJiYgdGhpc1tjb250cm9sLiRuYW1lXSA9PT0gY29udHJvbCkge1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzW2NvbnRyb2wuJG5hbWVdO1xyXG4gICAgICB9XHJcbiAgICAgIGZvckVhY2godGhpcy4kcGVuZGluZywgZnVuY3Rpb24gKHZhbHVlLCBuYW1lKSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWludmFsaWQtdGhpc1xyXG4gICAgICAgIHRoaXMuJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xyXG4gICAgICB9LCB0aGlzKTtcclxuICAgICAgZm9yRWFjaCh0aGlzLiRlcnJvciwgZnVuY3Rpb24gKHZhbHVlLCBuYW1lKSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWludmFsaWQtdGhpc1xyXG4gICAgICAgIHRoaXMuJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xyXG4gICAgICB9LCB0aGlzKTtcclxuICAgICAgZm9yRWFjaCh0aGlzLiQkc3VjY2VzcywgZnVuY3Rpb24gKHZhbHVlLCBuYW1lKSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWludmFsaWQtdGhpc1xyXG4gICAgICAgIHRoaXMuJHNldFZhbGlkaXR5KG5hbWUsIG51bGwsIGNvbnRyb2wpO1xyXG4gICAgICB9LCB0aGlzKTtcclxuXHJcbiAgICAgIGFycmF5UmVtb3ZlKHRoaXMuJCRjb250cm9scywgY29udHJvbCk7XHJcbiAgICAgIGNvbnRyb2wuJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lIGZvcm0uRm9ybUNvbnRyb2xsZXIjJHNldERpcnR5XHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTZXRzIHRoZSBmb3JtIHRvIGEgZGlydHkgc3RhdGUuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byBhZGQgdGhlICduZy1kaXJ0eScgY2xhc3MgYW5kIHNldCB0aGUgZm9ybSB0byBhIGRpcnR5XHJcbiAgICAgKiBzdGF0ZSAobmctZGlydHkgY2xhc3MpLiBUaGlzIG1ldGhvZCB3aWxsIGFsc28gcHJvcGFnYXRlIHRvIHBhcmVudCBmb3Jtcy5cclxuICAgICAqL1xyXG4gICAgJHNldERpcnR5OiBmdW5jdGlvbiAkc2V0RGlydHkoKSB7XHJcbiAgICAgIHRoaXMuJCRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XHJcbiAgICAgIHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBESVJUWV9DTEFTUyk7XHJcbiAgICAgIHRoaXMuJGRpcnR5ID0gdHJ1ZTtcclxuICAgICAgdGhpcy4kcHJpc3RpbmUgPSBmYWxzZTtcclxuICAgICAgdGhpcy4kJHBhcmVudEZvcm0uJHNldERpcnR5KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0UHJpc3RpbmVcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHByaXN0aW5lIHN0YXRlLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWV0aG9kIHNldHMgdGhlIGZvcm0ncyBgJHByaXN0aW5lYCBzdGF0ZSB0byB0cnVlLCB0aGUgYCRkaXJ0eWAgc3RhdGUgdG8gZmFsc2UsIHJlbW92ZXNcclxuICAgICAqIHRoZSBgbmctZGlydHlgIGNsYXNzIGFuZCBhZGRzIHRoZSBgbmctcHJpc3RpbmVgIGNsYXNzLiBBZGRpdGlvbmFsbHksIGl0IHNldHMgdGhlIGAkc3VibWl0dGVkYFxyXG4gICAgICogc3RhdGUgdG8gZmFsc2UuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2Qgd2lsbCBhbHNvIHByb3BhZ2F0ZSB0byBhbGwgdGhlIGNvbnRyb2xzIGNvbnRhaW5lZCBpbiB0aGlzIGZvcm0uXHJcbiAgICAgKlxyXG4gICAgICogU2V0dGluZyBhIGZvcm0gYmFjayB0byBhIHByaXN0aW5lIHN0YXRlIGlzIG9mdGVuIHVzZWZ1bCB3aGVuIHdlIHdhbnQgdG8gJ3JldXNlJyBhIGZvcm0gYWZ0ZXJcclxuICAgICAqIHNhdmluZyBvciByZXNldHRpbmcgaXQuXHJcbiAgICAgKi9cclxuICAgICRzZXRQcmlzdGluZTogZnVuY3Rpb24gJHNldFByaXN0aW5lKCkge1xyXG4gICAgICB0aGlzLiQkYW5pbWF0ZS5zZXRDbGFzcyh0aGlzLiQkZWxlbWVudCwgUFJJU1RJTkVfQ0xBU1MsIERJUlRZX0NMQVNTICsgJyAnICsgU1VCTUlUVEVEX0NMQVNTKTtcclxuICAgICAgdGhpcy4kZGlydHkgPSBmYWxzZTtcclxuICAgICAgdGhpcy4kcHJpc3RpbmUgPSB0cnVlO1xyXG4gICAgICB0aGlzLiRzdWJtaXR0ZWQgPSBmYWxzZTtcclxuICAgICAgZm9yRWFjaCh0aGlzLiQkY29udHJvbHMsIGZ1bmN0aW9uIChjb250cm9sKSB7XHJcbiAgICAgICAgY29udHJvbC4kc2V0UHJpc3RpbmUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VW50b3VjaGVkXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTZXRzIHRoZSBmb3JtIHRvIGl0cyB1bnRvdWNoZWQgc3RhdGUuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlICduZy10b3VjaGVkJyBjbGFzcyBhbmQgc2V0IHRoZSBmb3JtIGNvbnRyb2xzIHRvIHRoZWlyXHJcbiAgICAgKiB1bnRvdWNoZWQgc3RhdGUgKG5nLXVudG91Y2hlZCBjbGFzcykuXHJcbiAgICAgKlxyXG4gICAgICogU2V0dGluZyBhIGZvcm0gY29udHJvbHMgYmFjayB0byB0aGVpciB1bnRvdWNoZWQgc3RhdGUgaXMgb2Z0ZW4gdXNlZnVsIHdoZW4gc2V0dGluZyB0aGUgZm9ybVxyXG4gICAgICogYmFjayB0byBpdHMgcHJpc3RpbmUgc3RhdGUuXHJcbiAgICAgKi9cclxuICAgICRzZXRVbnRvdWNoZWQ6IGZ1bmN0aW9uICRzZXRVbnRvdWNoZWQoKSB7XHJcbiAgICAgIGZvckVhY2godGhpcy4kJGNvbnRyb2xzLCBmdW5jdGlvbiAoY29udHJvbCkge1xyXG4gICAgICAgIGNvbnRyb2wuJHNldFVudG91Y2hlZCgpO1xyXG4gICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSBmb3JtLkZvcm1Db250cm9sbGVyIyRzZXRTdWJtaXR0ZWRcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNldHMgdGhlIGZvcm0gdG8gaXRzIHN1Ym1pdHRlZCBzdGF0ZS5cclxuICAgICAqL1xyXG4gICAgJHNldFN1Ym1pdHRlZDogZnVuY3Rpb24gJHNldFN1Ym1pdHRlZCgpIHtcclxuICAgICAgdGhpcy4kJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIFNVQk1JVFRFRF9DTEFTUyk7XHJcbiAgICAgIHRoaXMuJHN1Ym1pdHRlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMuJCRwYXJlbnRGb3JtLiRzZXRTdWJtaXR0ZWQoKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICogQG5hbWUgZm9ybS5Gb3JtQ29udHJvbGxlciMkc2V0VmFsaWRpdHlcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIENoYW5nZSB0aGUgdmFsaWRpdHkgc3RhdGUgb2YgdGhlIGZvcm0sIGFuZCBub3RpZnkgdGhlIHBhcmVudCBmb3JtIChpZiBhbnkpLlxyXG4gICAqXHJcbiAgICogQXBwbGljYXRpb24gZGV2ZWxvcGVycyB3aWxsIHJhcmVseSBuZWVkIHRvIGNhbGwgdGhpcyBtZXRob2QgZGlyZWN0bHkuIEl0IGlzIHVzZWQgaW50ZXJuYWxseSwgYnlcclxuICAgKiB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VmFsaWRpdHkgTmdNb2RlbENvbnRyb2xsZXIuJHNldFZhbGlkaXR5KCl9LCB0byBwcm9wYWdhdGUgYVxyXG4gICAqIGNvbnRyb2wncyB2YWxpZGl0eSBzdGF0ZSB0byB0aGUgcGFyZW50IGBGb3JtQ29udHJvbGxlcmAuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsaWRhdGlvbkVycm9yS2V5IE5hbWUgb2YgdGhlIHZhbGlkYXRvci4gVGhlIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHdpbGwgYmVcclxuICAgKiAgICAgICAgYXNzaWduZWQgdG8gZWl0aGVyIGAkZXJyb3JbdmFsaWRhdGlvbkVycm9yS2V5XWAgb3IgYCRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV1gIChmb3JcclxuICAgKiAgICAgICAgdW5mdWxmaWxsZWQgYCRhc3luY1ZhbGlkYXRvcnNgKSwgc28gdGhhdCBpdCBpcyBhdmFpbGFibGUgZm9yIGRhdGEtYmluZGluZy4gVGhlXHJcbiAgICogICAgICAgIGB2YWxpZGF0aW9uRXJyb3JLZXlgIHNob3VsZCBiZSBpbiBjYW1lbENhc2UgYW5kIHdpbGwgZ2V0IGNvbnZlcnRlZCBpbnRvIGRhc2gtY2FzZSBmb3JcclxuICAgKiAgICAgICAgY2xhc3MgbmFtZS4gRXhhbXBsZTogYG15RXJyb3JgIHdpbGwgcmVzdWx0IGluIGBuZy12YWxpZC1teS1lcnJvcmAgYW5kXHJcbiAgICogICAgICAgIGBuZy1pbnZhbGlkLW15LWVycm9yYCBjbGFzc2VzIGFuZCBjYW4gYmUgYm91bmQgdG8gYXMgYHt7IHNvbWVGb3JtLiRlcnJvci5teUVycm9yIH19YC5cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzVmFsaWQgV2hldGhlciB0aGUgY3VycmVudCBzdGF0ZSBpcyB2YWxpZCAodHJ1ZSksIGludmFsaWQgKGZhbHNlKSwgcGVuZGluZ1xyXG4gICAqICAgICAgICAodW5kZWZpbmVkKSwgIG9yIHNraXBwZWQgKG51bGwpLiBQZW5kaW5nIGlzIHVzZWQgZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYC5cclxuICAgKiAgICAgICAgU2tpcHBlZCBpcyB1c2VkIGJ5IEFuZ3VsYXJKUyB3aGVuIHZhbGlkYXRvcnMgZG8gbm90IHJ1biBiZWNhdXNlIG9mIHBhcnNlIGVycm9ycyBhbmQgd2hlblxyXG4gICAqICAgICAgICBgJGFzeW5jVmFsaWRhdG9yc2AgZG8gbm90IHJ1biBiZWNhdXNlIGFueSBvZiB0aGUgYCR2YWxpZGF0b3JzYCBmYWlsZWQuXHJcbiAgICogQHBhcmFtIHtOZ01vZGVsQ29udHJvbGxlciB8IEZvcm1Db250cm9sbGVyfSBjb250cm9sbGVyIC0gVGhlIGNvbnRyb2xsZXIgd2hvc2UgdmFsaWRpdHkgc3RhdGUgaXNcclxuICAgKiAgICAgICAgdHJpZ2dlcmluZyB0aGUgY2hhbmdlLlxyXG4gICAqL1xyXG4gIGFkZFNldFZhbGlkaXR5TWV0aG9kKHtcclxuICAgIGNsYXp6OiBGb3JtQ29udHJvbGxlcixcclxuICAgIHNldDogZnVuY3Rpb24gc2V0KG9iamVjdCwgcHJvcGVydHksIGNvbnRyb2xsZXIpIHtcclxuICAgICAgdmFyIGxpc3QgPSBvYmplY3RbcHJvcGVydHldO1xyXG4gICAgICBpZiAoIWxpc3QpIHtcclxuICAgICAgICBvYmplY3RbcHJvcGVydHldID0gW2NvbnRyb2xsZXJdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZhciBpbmRleCA9IGxpc3QuaW5kZXhPZihjb250cm9sbGVyKTtcclxuICAgICAgICBpZiAoaW5kZXggPT09IC0xKSB7XHJcbiAgICAgICAgICBsaXN0LnB1c2goY29udHJvbGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9LFxyXG4gICAgdW5zZXQ6IGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcHJvcGVydHksIGNvbnRyb2xsZXIpIHtcclxuICAgICAgdmFyIGxpc3QgPSBvYmplY3RbcHJvcGVydHldO1xyXG4gICAgICBpZiAoIWxpc3QpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgYXJyYXlSZW1vdmUobGlzdCwgY29udHJvbGxlcik7XHJcbiAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGRlbGV0ZSBvYmplY3RbcHJvcGVydHldO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ0Zvcm1cclxuICAgKiBAcmVzdHJpY3QgRUFDXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBOZXN0YWJsZSBhbGlhcyBvZiB7QGxpbmsgbmcuZGlyZWN0aXZlOmZvcm0gYGZvcm1gfSBkaXJlY3RpdmUuIEhUTUxcclxuICAgKiBkb2VzIG5vdCBhbGxvdyBuZXN0aW5nIG9mIGZvcm0gZWxlbWVudHMuIEl0IGlzIHVzZWZ1bCB0byBuZXN0IGZvcm1zLCBmb3IgZXhhbXBsZSBpZiB0aGUgdmFsaWRpdHkgb2YgYVxyXG4gICAqIHN1Yi1ncm91cCBvZiBjb250cm9scyBuZWVkcyB0byBiZSBkZXRlcm1pbmVkLlxyXG4gICAqXHJcbiAgICogTm90ZTogdGhlIHB1cnBvc2Ugb2YgYG5nRm9ybWAgaXMgdG8gZ3JvdXAgY29udHJvbHMsXHJcbiAgICogYnV0IG5vdCB0byBiZSBhIHJlcGxhY2VtZW50IGZvciB0aGUgYDxmb3JtPmAgdGFnIHdpdGggYWxsIG9mIGl0cyBjYXBhYmlsaXRpZXNcclxuICAgKiAoZS5nLiBwb3N0aW5nIHRvIHRoZSBzZXJ2ZXIsIC4uLikuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nRm9ybXxuYW1lIE5hbWUgb2YgdGhlIGZvcm0uIElmIHNwZWNpZmllZCwgdGhlIGZvcm0gY29udHJvbGxlciB3aWxsIGJlIHB1Ymxpc2hlZCBpbnRvXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgIHJlbGF0ZWQgc2NvcGUsIHVuZGVyIHRoaXMgbmFtZS5cclxuICAgKlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAqIEBuYW1lIGZvcm1cclxuICAqIEByZXN0cmljdCBFXHJcbiAgKlxyXG4gICogQGRlc2NyaXB0aW9uXHJcbiAgKiBEaXJlY3RpdmUgdGhhdCBpbnN0YW50aWF0ZXNcclxuICAqIHtAbGluayBmb3JtLkZvcm1Db250cm9sbGVyIEZvcm1Db250cm9sbGVyfS5cclxuICAqXHJcbiAgKiBJZiB0aGUgYG5hbWVgIGF0dHJpYnV0ZSBpcyBzcGVjaWZpZWQsIHRoZSBmb3JtIGNvbnRyb2xsZXIgaXMgcHVibGlzaGVkIG9udG8gdGhlIGN1cnJlbnQgc2NvcGUgdW5kZXJcclxuICAqIHRoaXMgbmFtZS5cclxuICAqXHJcbiAgKiAjIEFsaWFzOiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRm9ybSBgbmdGb3JtYH1cclxuICAqXHJcbiAgKiBJbiBBbmd1bGFyLCBmb3JtcyBjYW4gYmUgbmVzdGVkLiBUaGlzIG1lYW5zIHRoYXQgdGhlIG91dGVyIGZvcm0gaXMgdmFsaWQgd2hlbiBhbGwgb2YgdGhlIGNoaWxkXHJcbiAgKiBmb3JtcyBhcmUgdmFsaWQgYXMgd2VsbC4gSG93ZXZlciwgYnJvd3NlcnMgZG8gbm90IGFsbG93IG5lc3Rpbmcgb2YgYDxmb3JtPmAgZWxlbWVudHMsIHNvXHJcbiAgKiBBbmd1bGFyIHByb3ZpZGVzIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nRm9ybSBgbmdGb3JtYH0gZGlyZWN0aXZlLCB3aGljaCBiZWhhdmVzIGlkZW50aWNhbGx5IHRvXHJcbiAgKiBgZm9ybWAgYnV0IGNhbiBiZSBuZXN0ZWQuIE5lc3RlZCBmb3JtcyBjYW4gYmUgdXNlZnVsLCBmb3IgZXhhbXBsZSwgaWYgdGhlIHZhbGlkaXR5IG9mIGEgc3ViLWdyb3VwXHJcbiAgKiBvZiBjb250cm9scyBuZWVkcyB0byBiZSBkZXRlcm1pbmVkLlxyXG4gICpcclxuICAqICMgQ1NTIGNsYXNzZXNcclxuICAqICAtIGBuZy12YWxpZGAgaXMgc2V0IGlmIHRoZSBmb3JtIGlzIHZhbGlkLlxyXG4gICogIC0gYG5nLWludmFsaWRgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBpbnZhbGlkLlxyXG4gICogIC0gYG5nLXBlbmRpbmdgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBwZW5kaW5nLlxyXG4gICogIC0gYG5nLXByaXN0aW5lYCBpcyBzZXQgaWYgdGhlIGZvcm0gaXMgcHJpc3RpbmUuXHJcbiAgKiAgLSBgbmctZGlydHlgIGlzIHNldCBpZiB0aGUgZm9ybSBpcyBkaXJ0eS5cclxuICAqICAtIGBuZy1zdWJtaXR0ZWRgIGlzIHNldCBpZiB0aGUgZm9ybSB3YXMgc3VibWl0dGVkLlxyXG4gICpcclxuICAqIEtlZXAgaW4gbWluZCB0aGF0IG5nQW5pbWF0ZSBjYW4gZGV0ZWN0IGVhY2ggb2YgdGhlc2UgY2xhc3NlcyB3aGVuIGFkZGVkIGFuZCByZW1vdmVkLlxyXG4gICpcclxuICAqXHJcbiAgKiAjIFN1Ym1pdHRpbmcgYSBmb3JtIGFuZCBwcmV2ZW50aW5nIHRoZSBkZWZhdWx0IGFjdGlvblxyXG4gICpcclxuICAqIFNpbmNlIHRoZSByb2xlIG9mIGZvcm1zIGluIGNsaWVudC1zaWRlIEFuZ3VsYXIgYXBwbGljYXRpb25zIGlzIGRpZmZlcmVudCB0aGFuIGluIGNsYXNzaWNhbFxyXG4gICogcm91bmR0cmlwIGFwcHMsIGl0IGlzIGRlc2lyYWJsZSBmb3IgdGhlIGJyb3dzZXIgbm90IHRvIHRyYW5zbGF0ZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGludG8gYSBmdWxsXHJcbiAgKiBwYWdlIHJlbG9hZCB0aGF0IHNlbmRzIHRoZSBkYXRhIHRvIHRoZSBzZXJ2ZXIuIEluc3RlYWQgc29tZSBqYXZhc2NyaXB0IGxvZ2ljIHNob3VsZCBiZSB0cmlnZ2VyZWRcclxuICAqIHRvIGhhbmRsZSB0aGUgZm9ybSBzdWJtaXNzaW9uIGluIGFuIGFwcGxpY2F0aW9uLXNwZWNpZmljIHdheS5cclxuICAqXHJcbiAgKiBGb3IgdGhpcyByZWFzb24sIEFuZ3VsYXIgcHJldmVudHMgdGhlIGRlZmF1bHQgYWN0aW9uIChmb3JtIHN1Ym1pc3Npb24gdG8gdGhlIHNlcnZlcikgdW5sZXNzIHRoZVxyXG4gICogYDxmb3JtPmAgZWxlbWVudCBoYXMgYW4gYGFjdGlvbmAgYXR0cmlidXRlIHNwZWNpZmllZC5cclxuICAqXHJcbiAgKiBZb3UgY2FuIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyB0d28gd2F5cyB0byBzcGVjaWZ5IHdoYXQgamF2YXNjcmlwdCBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuXHJcbiAgKiBhIGZvcm0gaXMgc3VibWl0dGVkOlxyXG4gICpcclxuICAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1N1Ym1pdCBuZ1N1Ym1pdH0gZGlyZWN0aXZlIG9uIHRoZSBmb3JtIGVsZW1lbnRcclxuICAqIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9IGRpcmVjdGl2ZSBvbiB0aGUgZmlyc3RcclxuICAgKiAgYnV0dG9uIG9yIGlucHV0IGZpZWxkIG9mIHR5cGUgc3VibWl0IChpbnB1dFt0eXBlPXN1Ym1pdF0pXHJcbiAgKlxyXG4gICogVG8gcHJldmVudCBkb3VibGUgZXhlY3V0aW9uIG9mIHRoZSBoYW5kbGVyLCB1c2Ugb25seSBvbmUgb2YgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdTdWJtaXQgbmdTdWJtaXR9XHJcbiAgKiBvciB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xpY2sgbmdDbGlja30gZGlyZWN0aXZlcy5cclxuICAqIFRoaXMgaXMgYmVjYXVzZSBvZiB0aGUgZm9sbG93aW5nIGZvcm0gc3VibWlzc2lvbiBydWxlcyBpbiB0aGUgSFRNTCBzcGVjaWZpY2F0aW9uOlxyXG4gICpcclxuICAqIC0gSWYgYSBmb3JtIGhhcyBvbmx5IG9uZSBpbnB1dCBmaWVsZCB0aGVuIGhpdHRpbmcgZW50ZXIgaW4gdGhpcyBmaWVsZCB0cmlnZ2VycyBmb3JtIHN1Ym1pdFxyXG4gICogKGBuZ1N1Ym1pdGApXHJcbiAgKiAtIGlmIGEgZm9ybSBoYXMgMisgaW5wdXQgZmllbGRzIGFuZCBubyBidXR0b25zIG9yIGlucHV0W3R5cGU9c3VibWl0XSB0aGVuIGhpdHRpbmcgZW50ZXJcclxuICAqIGRvZXNuJ3QgdHJpZ2dlciBzdWJtaXRcclxuICAqIC0gaWYgYSBmb3JtIGhhcyBvbmUgb3IgbW9yZSBpbnB1dCBmaWVsZHMgYW5kIG9uZSBvciBtb3JlIGJ1dHRvbnMgb3IgaW5wdXRbdHlwZT1zdWJtaXRdIHRoZW5cclxuICAqIGhpdHRpbmcgZW50ZXIgaW4gYW55IG9mIHRoZSBpbnB1dCBmaWVsZHMgd2lsbCB0cmlnZ2VyIHRoZSBjbGljayBoYW5kbGVyIG9uIHRoZSAqZmlyc3QqIGJ1dHRvbiBvclxyXG4gICogaW5wdXRbdHlwZT1zdWJtaXRdIChgbmdDbGlja2ApICphbmQqIGEgc3VibWl0IGhhbmRsZXIgb24gdGhlIGVuY2xvc2luZyBmb3JtIChgbmdTdWJtaXRgKVxyXG4gICpcclxuICAqIEFueSBwZW5kaW5nIGBuZ01vZGVsT3B0aW9uc2AgY2hhbmdlcyB3aWxsIHRha2UgcGxhY2UgaW1tZWRpYXRlbHkgd2hlbiBhbiBlbmNsb3NpbmcgZm9ybSBpc1xyXG4gICogc3VibWl0dGVkLiBOb3RlIHRoYXQgYG5nQ2xpY2tgIGV2ZW50cyB3aWxsIG9jY3VyIGJlZm9yZSB0aGUgbW9kZWwgaXMgdXBkYXRlZC4gVXNlIGBuZ1N1Ym1pdGBcclxuICAqIHRvIGhhdmUgYWNjZXNzIHRvIHRoZSB1cGRhdGVkIG1vZGVsLlxyXG4gICpcclxuICAqICMjIEFuaW1hdGlvbiBIb29rc1xyXG4gICpcclxuICAqIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSB0cmlnZ2VyZWQgd2hlbiBhbnkgb2YgdGhlIGFzc29jaWF0ZWQgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkLlxyXG4gICogVGhlc2UgY2xhc3NlcyBhcmU6IGAubmctcHJpc3RpbmVgLCBgLm5nLWRpcnR5YCwgYC5uZy1pbnZhbGlkYCBhbmQgYC5uZy12YWxpZGAgYXMgd2VsbCBhcyBhbnlcclxuICAqIG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCB3aXRoaW4gdGhlIGZvcm0uIEFuaW1hdGlvbnMgaW4gbmdGb3JtIGFyZSBzaW1pbGFyIHRvIGhvd1xyXG4gICogdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kIGFuaW1hdGlvbnMgY2FuIGJlIGhvb2tlZCBpbnRvIHVzaW5nIENTUyB0cmFuc2l0aW9ucywga2V5ZnJhbWVzIGFzIHdlbGxcclxuICAqIGFzIEpTIGFuaW1hdGlvbnMuXHJcbiAgKlxyXG4gICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhIGZvcm0gZWxlbWVudFxyXG4gICogdGhhdCBoYXMgYmVlbiByZW5kZXJlZCBhcyBpbnZhbGlkIGFmdGVyIGl0IGhhcyBiZWVuIHZhbGlkYXRlZDpcclxuICAqXHJcbiAgKiA8cHJlPlxyXG4gICogLy9iZSBzdXJlIHRvIGluY2x1ZGUgbmdBbmltYXRlIGFzIGEgbW9kdWxlIHRvIGhvb2sgaW50byBtb3JlXHJcbiAgKiAvL2FkdmFuY2VkIGFuaW1hdGlvbnNcclxuICAqIC5teS1mb3JtIHtcclxuICAqICAgdHJhbnNpdGlvbjowLjVzIGxpbmVhciBhbGw7XHJcbiAgKiAgIGJhY2tncm91bmQ6IHdoaXRlO1xyXG4gICogfVxyXG4gICogLm15LWZvcm0ubmctaW52YWxpZCB7XHJcbiAgKiAgIGJhY2tncm91bmQ6IHJlZDtcclxuICAqICAgY29sb3I6d2hpdGU7XHJcbiAgKiB9XHJcbiAgKiA8L3ByZT5cclxuICAqXHJcbiAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJuZy1mb3JtXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJmb3JtRXhhbXBsZVwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2Zvcm1FeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdGb3JtQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnVzZXJUeXBlID0gJ2d1ZXN0JztcclxuICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgIDxzdHlsZT5cclxuICAgICAgICAgLm15LWZvcm0ge1xyXG4gICAgICAgICAgIHRyYW5zaXRpb246YWxsIGxpbmVhciAwLjVzO1xyXG4gICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC5teS1mb3JtLm5nLWludmFsaWQge1xyXG4gICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcclxuICAgICAgICAgfVxyXG4gICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJGb3JtQ29udHJvbGxlclwiIGNsYXNzPVwibXktZm9ybVwiPlxyXG4gICAgICAgICAgdXNlclR5cGU6IDxpbnB1dCBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cInVzZXJUeXBlXCIgcmVxdWlyZWQ+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5SZXF1aXJlZCE8L3NwYW4+PGJyPlxyXG4gICAgICAgICAgPGNvZGU+dXNlclR5cGUgPSB7e3VzZXJUeXBlfX08L2NvZGU+PGJyPlxyXG4gICAgICAgICAgPGNvZGU+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cclxuICAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvY29kZT48YnI+XHJcbiAgICAgICAgICA8Y29kZT5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L2NvZGU+PGJyPlxyXG4gICAgICAgICAgPGNvZGU+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L2NvZGU+PGJyPlxyXG4gICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIHZhciB1c2VyVHlwZSA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlclR5cGUnKSk7XHJcbiAgICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gIFxyXG4gICAgICAgICAgIGV4cGVjdCh1c2VyVHlwZS5nZXRUZXh0KCkpLnRvQ29udGFpbignZ3Vlc3QnKTtcclxuICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIHZhciB1c2VyVHlwZSA9IGVsZW1lbnQoYnkuYmluZGluZygndXNlclR5cGUnKSk7XHJcbiAgICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICAgICAgIHZhciB1c2VySW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyVHlwZScpKTtcclxuICBcclxuICAgICAgICAgICB1c2VySW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICB1c2VySW5wdXQuc2VuZEtleXMoJycpO1xyXG4gIFxyXG4gICAgICAgICAgIGV4cGVjdCh1c2VyVHlwZS5nZXRUZXh0KCkpLnRvRXF1YWwoJ3VzZXJUeXBlID0nKTtcclxuICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAqXHJcbiAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgTmFtZSBvZiB0aGUgZm9ybS4gSWYgc3BlY2lmaWVkLCB0aGUgZm9ybSBjb250cm9sbGVyIHdpbGwgYmUgcHVibGlzaGVkIGludG9cclxuICAqICAgICAgICAgICAgICAgICAgICAgICByZWxhdGVkIHNjb3BlLCB1bmRlciB0aGlzIG5hbWUuXHJcbiAgKi9cclxuICB2YXIgZm9ybURpcmVjdGl2ZUZhY3RvcnkgPSBmdW5jdGlvbiBmb3JtRGlyZWN0aXZlRmFjdG9yeShpc05nRm9ybSkge1xyXG4gICAgcmV0dXJuIFsnJHRpbWVvdXQnLCAnJHBhcnNlJywgZnVuY3Rpb24gKCR0aW1lb3V0LCAkcGFyc2UpIHtcclxuICAgICAgdmFyIGZvcm1EaXJlY3RpdmUgPSB7XHJcbiAgICAgICAgbmFtZTogJ2Zvcm0nLFxyXG4gICAgICAgIHJlc3RyaWN0OiBpc05nRm9ybSA/ICdFQUMnIDogJ0UnLFxyXG4gICAgICAgIHJlcXVpcmU6IFsnZm9ybScsICdeXj9mb3JtJ10sIC8vZmlyc3QgaXMgdGhlIGZvcm0ncyBvd24gY3RybCwgc2Vjb25kIGlzIGFuIG9wdGlvbmFsIHBhcmVudCBmb3JtXHJcbiAgICAgICAgY29udHJvbGxlcjogRm9ybUNvbnRyb2xsZXIsXHJcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24gbmdGb3JtQ29tcGlsZShmb3JtRWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgICAgLy8gU2V0dXAgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29udHJvbFxyXG4gICAgICAgICAgZm9ybUVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKFZBTElEX0NMQVNTKTtcclxuXHJcbiAgICAgICAgICB2YXIgbmFtZUF0dHIgPSBhdHRyLm5hbWUgPyAnbmFtZScgOiBpc05nRm9ybSAmJiBhdHRyLm5nRm9ybSA/ICduZ0Zvcm0nIDogZmFsc2U7XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ0Zvcm1QcmVMaW5rKHNjb3BlLCBmb3JtRWxlbWVudCwgYXR0ciwgY3RybHMpIHtcclxuICAgICAgICAgICAgICB2YXIgY29udHJvbGxlciA9IGN0cmxzWzBdO1xyXG5cclxuICAgICAgICAgICAgICAvLyBpZiBgYWN0aW9uYCBhdHRyIGlzIG5vdCBwcmVzZW50IG9uIHRoZSBmb3JtLCBwcmV2ZW50IHRoZSBkZWZhdWx0IGFjdGlvbiAoc3VibWlzc2lvbilcclxuICAgICAgICAgICAgICBpZiAoISgnYWN0aW9uJyBpbiBhdHRyKSkge1xyXG4gICAgICAgICAgICAgICAgLy8gd2UgY2FuJ3QgdXNlIGpxIGV2ZW50cyBiZWNhdXNlIGlmIGEgZm9ybSBpcyBkZXN0cm95ZWQgZHVyaW5nIHN1Ym1pc3Npb24gdGhlIGRlZmF1bHRcclxuICAgICAgICAgICAgICAgIC8vIGFjdGlvbiBpcyBub3QgcHJldmVudGVkLiBzZWUgIzEyMzhcclxuICAgICAgICAgICAgICAgIC8vXHJcbiAgICAgICAgICAgICAgICAvLyBJRSA5IGlzIG5vdCBhZmZlY3RlZCBiZWNhdXNlIGl0IGRvZXNuJ3QgZmlyZSBhIHN1Ym1pdCBldmVudCBhbmQgdHJ5IHRvIGRvIGEgZnVsbFxyXG4gICAgICAgICAgICAgICAgLy8gcGFnZSByZWxvYWQgaWYgdGhlIGZvcm0gd2FzIGRlc3Ryb3llZCBieSBzdWJtaXNzaW9uIG9mIHRoZSBmb3JtIHZpYSBhIGNsaWNrIGhhbmRsZXJcclxuICAgICAgICAgICAgICAgIC8vIG9uIGEgYnV0dG9uIGluIHRoZSBmb3JtLiBMb29rcyBsaWtlIGFuIElFOSBzcGVjaWZpYyBidWcuXHJcbiAgICAgICAgICAgICAgICB2YXIgaGFuZGxlRm9ybVN1Ym1pc3Npb24gPSBmdW5jdGlvbiBoYW5kbGVGb3JtU3VibWlzc2lvbihldmVudCkge1xyXG4gICAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJGNvbW1pdFZpZXdWYWx1ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJHNldFN1Ym1pdHRlZCgpO1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICAgIGZvcm1FbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUZvcm1TdWJtaXNzaW9uKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB1bnJlZ2lzdGVyIHRoZSBwcmV2ZW50RGVmYXVsdCBsaXN0ZW5lciBzbyB0aGF0IHdlIGRvbid0IG5vdCBsZWFrIG1lbW9yeSBidXQgaW4gYVxyXG4gICAgICAgICAgICAgICAgLy8gd2F5IHRoYXQgd2lsbCBhY2hpZXZlIHRoZSBwcmV2ZW50aW9uIG9mIHRoZSBkZWZhdWx0IGFjdGlvbi5cclxuICAgICAgICAgICAgICAgIGZvcm1FbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm1FbGVtZW50WzBdLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIGhhbmRsZUZvcm1TdWJtaXNzaW9uKTtcclxuICAgICAgICAgICAgICAgICAgfSwgMCwgZmFsc2UpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICB2YXIgcGFyZW50Rm9ybUN0cmwgPSBjdHJsc1sxXSB8fCBjb250cm9sbGVyLiQkcGFyZW50Rm9ybTtcclxuICAgICAgICAgICAgICBwYXJlbnRGb3JtQ3RybC4kYWRkQ29udHJvbChjb250cm9sbGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgdmFyIHNldHRlciA9IG5hbWVBdHRyID8gZ2V0U2V0dGVyKGNvbnRyb2xsZXIuJG5hbWUpIDogbm9vcDtcclxuXHJcbiAgICAgICAgICAgICAgaWYgKG5hbWVBdHRyKSB7XHJcbiAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIGNvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgICAgICAgYXR0ci4kb2JzZXJ2ZShuYW1lQXR0ciwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgIGlmIChjb250cm9sbGVyLiRuYW1lID09PSBuZXdWYWx1ZSkgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICBzZXR0ZXIoc2NvcGUsIHVuZGVmaW5lZCk7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuJCRwYXJlbnRGb3JtLiQkcmVuYW1lQ29udHJvbChjb250cm9sbGVyLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgIHNldHRlciA9IGdldFNldHRlcihjb250cm9sbGVyLiRuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgc2V0dGVyKHNjb3BlLCBjb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICBmb3JtRWxlbWVudC5vbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChjb250cm9sbGVyKTtcclxuICAgICAgICAgICAgICAgIHNldHRlcihzY29wZSwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgICAgICAgIGV4dGVuZChjb250cm9sbGVyLCBudWxsRm9ybUN0cmwpOyAvL3N0b3AgcHJvcGFnYXRpbmcgY2hpbGQgZGVzdHJ1Y3Rpb24gaGFuZGxlcnMgdXB3YXJkc1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuXHJcbiAgICAgIHJldHVybiBmb3JtRGlyZWN0aXZlO1xyXG5cclxuICAgICAgZnVuY3Rpb24gZ2V0U2V0dGVyKGV4cHJlc3Npb24pIHtcclxuICAgICAgICBpZiAoZXhwcmVzc2lvbiA9PT0gJycpIHtcclxuICAgICAgICAgIC8vY3JlYXRlIGFuIGFzc2lnbmFibGUgZXhwcmVzc2lvbiwgc28gZm9ybXMgd2l0aCBhbiBlbXB0eSBuYW1lIGNhbiBiZSByZW5hbWVkIGxhdGVyXHJcbiAgICAgICAgICByZXR1cm4gJHBhcnNlKCd0aGlzW1wiXCJdJykuYXNzaWduO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gJHBhcnNlKGV4cHJlc3Npb24pLmFzc2lnbiB8fCBub29wO1xyXG4gICAgICB9XHJcbiAgICB9XTtcclxuICB9O1xyXG5cclxuICB2YXIgZm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KCk7XHJcbiAgdmFyIG5nRm9ybURpcmVjdGl2ZSA9IGZvcm1EaXJlY3RpdmVGYWN0b3J5KHRydWUpO1xyXG5cclxuICAvLyBoZWxwZXIgbWV0aG9kc1xyXG4gIGZ1bmN0aW9uIHNldHVwVmFsaWRpdHkoaW5zdGFuY2UpIHtcclxuICAgIGluc3RhbmNlLiQkY2xhc3NDYWNoZSA9IHt9O1xyXG4gICAgaW5zdGFuY2UuJCRjbGFzc0NhY2hlW0lOVkFMSURfQ0xBU1NdID0gIShpbnN0YW5jZS4kJGNsYXNzQ2FjaGVbVkFMSURfQ0xBU1NdID0gaW5zdGFuY2UuJCRlbGVtZW50Lmhhc0NsYXNzKFZBTElEX0NMQVNTKSk7XHJcbiAgfVxyXG4gIGZ1bmN0aW9uIGFkZFNldFZhbGlkaXR5TWV0aG9kKGNvbnRleHQpIHtcclxuICAgIHZhciBjbGF6eiA9IGNvbnRleHQuY2xhenosXHJcbiAgICAgICAgc2V0ID0gY29udGV4dC5zZXQsXHJcbiAgICAgICAgdW5zZXQgPSBjb250ZXh0LnVuc2V0O1xyXG5cclxuICAgIGNsYXp6LnByb3RvdHlwZS4kc2V0VmFsaWRpdHkgPSBmdW5jdGlvbiAodmFsaWRhdGlvbkVycm9yS2V5LCBzdGF0ZSwgY29udHJvbGxlcikge1xyXG4gICAgICBpZiAoaXNVbmRlZmluZWQoc3RhdGUpKSB7XHJcbiAgICAgICAgY3JlYXRlQW5kU2V0KHRoaXMsICckcGVuZGluZycsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdW5zZXRBbmRDbGVhbnVwKHRoaXMsICckcGVuZGluZycsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFpc0Jvb2xlYW4oc3RhdGUpKSB7XHJcbiAgICAgICAgdW5zZXQodGhpcy4kZXJyb3IsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgICAgdW5zZXQodGhpcy4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaWYgKHN0YXRlKSB7XHJcbiAgICAgICAgICB1bnNldCh0aGlzLiRlcnJvciwgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcclxuICAgICAgICAgIHNldCh0aGlzLiQkc3VjY2VzcywgdmFsaWRhdGlvbkVycm9yS2V5LCBjb250cm9sbGVyKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2V0KHRoaXMuJGVycm9yLCB2YWxpZGF0aW9uRXJyb3JLZXksIGNvbnRyb2xsZXIpO1xyXG4gICAgICAgICAgdW5zZXQodGhpcy4kJHN1Y2Nlc3MsIHZhbGlkYXRpb25FcnJvcktleSwgY29udHJvbGxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLiRwZW5kaW5nKSB7XHJcbiAgICAgICAgY2FjaGVkVG9nZ2xlQ2xhc3ModGhpcywgUEVORElOR19DTEFTUywgdHJ1ZSk7XHJcbiAgICAgICAgdGhpcy4kdmFsaWQgPSB0aGlzLiRpbnZhbGlkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRvZ2dsZVZhbGlkYXRpb25Dc3ModGhpcywgJycsIG51bGwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNhY2hlZFRvZ2dsZUNsYXNzKHRoaXMsIFBFTkRJTkdfQ0xBU1MsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLiR2YWxpZCA9IGlzT2JqZWN0RW1wdHkodGhpcy4kZXJyb3IpO1xyXG4gICAgICAgIHRoaXMuJGludmFsaWQgPSAhdGhpcy4kdmFsaWQ7XHJcbiAgICAgICAgdG9nZ2xlVmFsaWRhdGlvbkNzcyh0aGlzLCAnJywgdGhpcy4kdmFsaWQpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyByZS1yZWFkIHRoZSBzdGF0ZSBhcyB0aGUgc2V0L3Vuc2V0IG1ldGhvZHMgY291bGQgaGF2ZVxyXG4gICAgICAvLyBjb21iaW5lZCBzdGF0ZSBpbiB0aGlzLiRlcnJvclt2YWxpZGF0aW9uRXJyb3JdICh1c2VkIGZvciBmb3JtcyksXHJcbiAgICAgIC8vIHdoZXJlIHNldHRpbmcvdW5zZXR0aW5nIG9ubHkgaW5jcmVtZW50cy9kZWNyZW1lbnRzIHRoZSB2YWx1ZSxcclxuICAgICAgLy8gYW5kIGRvZXMgbm90IHJlcGxhY2UgaXQuXHJcbiAgICAgIHZhciBjb21iaW5lZFN0YXRlO1xyXG4gICAgICBpZiAodGhpcy4kcGVuZGluZyAmJiB0aGlzLiRwZW5kaW5nW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcclxuICAgICAgICBjb21iaW5lZFN0YXRlID0gdW5kZWZpbmVkO1xyXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV0pIHtcclxuICAgICAgICBjb21iaW5lZFN0YXRlID0gZmFsc2U7XHJcbiAgICAgIH0gZWxzZSBpZiAodGhpcy4kJHN1Y2Nlc3NbdmFsaWRhdGlvbkVycm9yS2V5XSkge1xyXG4gICAgICAgIGNvbWJpbmVkU3RhdGUgPSB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbWJpbmVkU3RhdGUgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0b2dnbGVWYWxpZGF0aW9uQ3NzKHRoaXMsIHZhbGlkYXRpb25FcnJvcktleSwgY29tYmluZWRTdGF0ZSk7XHJcbiAgICAgIHRoaXMuJCRwYXJlbnRGb3JtLiRzZXRWYWxpZGl0eSh2YWxpZGF0aW9uRXJyb3JLZXksIGNvbWJpbmVkU3RhdGUsIHRoaXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjcmVhdGVBbmRTZXQoY3RybCwgbmFtZSwgdmFsdWUsIGNvbnRyb2xsZXIpIHtcclxuICAgICAgaWYgKCFjdHJsW25hbWVdKSB7XHJcbiAgICAgICAgY3RybFtuYW1lXSA9IHt9O1xyXG4gICAgICB9XHJcbiAgICAgIHNldChjdHJsW25hbWVdLCB2YWx1ZSwgY29udHJvbGxlcik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gdW5zZXRBbmRDbGVhbnVwKGN0cmwsIG5hbWUsIHZhbHVlLCBjb250cm9sbGVyKSB7XHJcbiAgICAgIGlmIChjdHJsW25hbWVdKSB7XHJcbiAgICAgICAgdW5zZXQoY3RybFtuYW1lXSwgdmFsdWUsIGNvbnRyb2xsZXIpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChpc09iamVjdEVtcHR5KGN0cmxbbmFtZV0pKSB7XHJcbiAgICAgICAgY3RybFtuYW1lXSA9IHVuZGVmaW5lZDtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGNhY2hlZFRvZ2dsZUNsYXNzKGN0cmwsIGNsYXNzTmFtZSwgc3dpdGNoVmFsdWUpIHtcclxuICAgICAgaWYgKHN3aXRjaFZhbHVlICYmICFjdHJsLiQkY2xhc3NDYWNoZVtjbGFzc05hbWVdKSB7XHJcbiAgICAgICAgY3RybC4kJGFuaW1hdGUuYWRkQ2xhc3MoY3RybC4kJGVsZW1lbnQsIGNsYXNzTmFtZSk7XHJcbiAgICAgICAgY3RybC4kJGNsYXNzQ2FjaGVbY2xhc3NOYW1lXSA9IHRydWU7XHJcbiAgICAgIH0gZWxzZSBpZiAoIXN3aXRjaFZhbHVlICYmIGN0cmwuJCRjbGFzc0NhY2hlW2NsYXNzTmFtZV0pIHtcclxuICAgICAgICBjdHJsLiQkYW5pbWF0ZS5yZW1vdmVDbGFzcyhjdHJsLiQkZWxlbWVudCwgY2xhc3NOYW1lKTtcclxuICAgICAgICBjdHJsLiQkY2xhc3NDYWNoZVtjbGFzc05hbWVdID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b2dnbGVWYWxpZGF0aW9uQ3NzKGN0cmwsIHZhbGlkYXRpb25FcnJvcktleSwgaXNWYWxpZCkge1xyXG4gICAgICB2YWxpZGF0aW9uRXJyb3JLZXkgPSB2YWxpZGF0aW9uRXJyb3JLZXkgPyAnLScgKyBzbmFrZV9jYXNlKHZhbGlkYXRpb25FcnJvcktleSwgJy0nKSA6ICcnO1xyXG5cclxuICAgICAgY2FjaGVkVG9nZ2xlQ2xhc3MoY3RybCwgVkFMSURfQ0xBU1MgKyB2YWxpZGF0aW9uRXJyb3JLZXksIGlzVmFsaWQgPT09IHRydWUpO1xyXG4gICAgICBjYWNoZWRUb2dnbGVDbGFzcyhjdHJsLCBJTlZBTElEX0NMQVNTICsgdmFsaWRhdGlvbkVycm9yS2V5LCBpc1ZhbGlkID09PSBmYWxzZSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc09iamVjdEVtcHR5KG9iaikge1xyXG4gICAgaWYgKG9iaikge1xyXG4gICAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xyXG4gICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLyogZ2xvYmFsXHJcbiAgICBWQUxJRF9DTEFTUzogZmFsc2UsXHJcbiAgICBJTlZBTElEX0NMQVNTOiBmYWxzZSxcclxuICAgIFBSSVNUSU5FX0NMQVNTOiBmYWxzZSxcclxuICAgIERJUlRZX0NMQVNTOiBmYWxzZSxcclxuICAgIG5nTW9kZWxNaW5FcnI6IGZhbHNlXHJcbiAgKi9cclxuXHJcbiAgLy8gUmVnZXggY29kZSB3YXMgaW5pdGlhbGx5IG9idGFpbmVkIGZyb20gU08gcHJpb3IgdG8gbW9kaWZpY2F0aW9uOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zMTQzMDcwL2phdmFzY3JpcHQtcmVnZXgtaXNvLWRhdGV0aW1lI2Fuc3dlci0zMTQzMjMxXHJcbiAgdmFyIElTT19EQVRFX1JFR0VYUCA9IC9eXFxkezQsfS1bMDFdXFxkLVswLTNdXFxkVFswLTJdXFxkOlswLTVdXFxkOlswLTVdXFxkXFwuXFxkKyg/OlsrLV1bMC0yXVxcZDpbMC01XVxcZHxaKSQvO1xyXG4gIC8vIFNlZSB2YWxpZCBVUkxzIGluIFJGQzM5ODcgKGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzM5ODcpXHJcbiAgLy8gTm90ZTogV2UgYXJlIGJlaW5nIG1vcmUgbGVuaWVudCwgYmVjYXVzZSBicm93c2VycyBhcmUgdG9vLlxyXG4gIC8vICAgMS4gU2NoZW1lXHJcbiAgLy8gICAyLiBTbGFzaGVzXHJcbiAgLy8gICAzLiBVc2VybmFtZVxyXG4gIC8vICAgNC4gUGFzc3dvcmRcclxuICAvLyAgIDUuIEhvc3RuYW1lXHJcbiAgLy8gICA2LiBQb3J0XHJcbiAgLy8gICA3LiBQYXRoXHJcbiAgLy8gICA4LiBRdWVyeVxyXG4gIC8vICAgOS4gRnJhZ21lbnRcclxuICAvLyAgICAgICAgICAgICAgICAgMTExMTExMTExMTExMTExMSAyMjIgICAzMzMzMzMgICAgNDQ0NDQgICAgICAgIDU1NTU1NTU1NTU1NTU1NTU1NTU1NTU1ICAgICA2NjYgICAgIDc3Nzc3Nzc3ICAgICA4ODg4ODg4ICAgICA5OTlcclxuICB2YXIgVVJMX1JFR0VYUCA9IC9eW2Etel1bYS16XFxkListXSo6XFwvKig/OlteOkBdKyg/OjpbXkBdKyk/QCk/KD86W15cXHM6Lz8jXSt8XFxbW2EtZlxcZDpdK10pKD86OlxcZCspPyg/OlxcL1tePyNdKik/KD86XFw/W14jXSopPyg/OiMuKik/JC9pO1xyXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBtYXgtbGVuXHJcbiAgdmFyIEVNQUlMX1JFR0VYUCA9IC9eKD89LnsxLDI1NH0kKSg/PS57MSw2NH1AKVstISMkJSYnKisvMC05PT9BLVpeX2BhLXp7fH1+XSsoXFwuWy0hIyQlJicqKy8wLTk9P0EtWl5fYGEtent8fX5dKykqQFtBLVphLXowLTldKFtBLVphLXowLTktXXswLDYxfVtBLVphLXowLTldKT8oXFwuW0EtWmEtejAtOV0oW0EtWmEtejAtOS1dezAsNjF9W0EtWmEtejAtOV0pPykqJC87XHJcbiAgdmFyIE5VTUJFUl9SRUdFWFAgPSAvXlxccyooLXxcXCspPyhcXGQrfChcXGQqKFxcLlxcZCopKSkoW2VFXVsrLV0/XFxkKyk/XFxzKiQvO1xyXG4gIHZhciBEQVRFX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGR7Mn0pLShcXGR7Mn0pJC87XHJcbiAgdmFyIERBVEVUSU1FTE9DQUxfUkVHRVhQID0gL14oXFxkezQsfSktKFxcZFxcZCktKFxcZFxcZClUKFxcZFxcZCk6KFxcZFxcZCkoPzo6KFxcZFxcZCkoXFwuXFxkezEsM30pPyk/JC87XHJcbiAgdmFyIFdFRUtfUkVHRVhQID0gL14oXFxkezQsfSktVyhcXGRcXGQpJC87XHJcbiAgdmFyIE1PTlRIX1JFR0VYUCA9IC9eKFxcZHs0LH0pLShcXGRcXGQpJC87XHJcbiAgdmFyIFRJTUVfUkVHRVhQID0gL14oXFxkXFxkKTooXFxkXFxkKSg/OjooXFxkXFxkKShcXC5cXGR7MSwzfSk/KT8kLztcclxuXHJcbiAgdmFyIFBBUlRJQUxfVkFMSURBVElPTl9FVkVOVFMgPSAna2V5ZG93biB3aGVlbCBtb3VzZWRvd24nO1xyXG4gIHZhciBQQVJUSUFMX1ZBTElEQVRJT05fVFlQRVMgPSBjcmVhdGVNYXAoKTtcclxuICBmb3JFYWNoKCdkYXRlLGRhdGV0aW1lLWxvY2FsLG1vbnRoLHRpbWUsd2Vlaycuc3BsaXQoJywnKSwgZnVuY3Rpb24gKHR5cGUpIHtcclxuICAgIFBBUlRJQUxfVkFMSURBVElPTl9UWVBFU1t0eXBlXSA9IHRydWU7XHJcbiAgfSk7XHJcblxyXG4gIHZhciBpbnB1dFR5cGUgPSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgaW5wdXRcclxuICAgICAqIEBuYW1lIGlucHV0W3RleHRdXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTdGFuZGFyZCBIVE1MIHRleHQgaW5wdXQgd2l0aCBhbmd1bGFyIGRhdGEgYmluZGluZywgaW5oZXJpdGVkIGJ5IG1vc3Qgb2YgdGhlIGBpbnB1dGAgZWxlbWVudHMuXHJcbiAgICAgKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cclxuICAgICAqICAgIG1pbmxlbmd0aC5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cclxuICAgICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxyXG4gICAgICogICAgYW55IGxlbmd0aC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcclxuICAgICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cclxuICAgICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxyXG4gICAgICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICAgICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxyXG4gICAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cclxuICAgICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cclxuICAgICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXHJcbiAgICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xyXG4gICAgICogICAgYWNjb3VudC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cclxuICAgICAqICAgIFRoaXMgcGFyYW1ldGVyIGlzIGlnbm9yZWQgZm9yIGlucHV0W3R5cGU9cGFzc3dvcmRdIGNvbnRyb2xzLCB3aGljaCB3aWxsIG5ldmVyIHRyaW0gdGhlXHJcbiAgICAgKiAgICBpbnB1dC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgIDxleGFtcGxlIG5hbWU9XCJ0ZXh0LWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInRleHRJbnB1dEV4YW1wbGVcIj5cclxuICAgICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd0ZXh0SW5wdXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZXh0OiAnZ3Vlc3QnLFxyXG4gICAgICAgICAgICAgICAgICAgd29yZDogL15cXHMqXFx3KlxccyokL1xyXG4gICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgICA8bGFiZWw+U2luZ2xlIHdvcmQ6XHJcbiAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS50ZXh0XCJcclxuICAgICAgICAgICAgICAgICAgICAgIG5nLXBhdHRlcm49XCJleGFtcGxlLndvcmRcIiByZXF1aXJlZCBuZy10cmltPVwiZmFsc2VcIj5cclxuICAgICAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5wYXR0ZXJuXCI+XHJcbiAgICAgICAgICAgICAgICAgU2luZ2xlIHdvcmQgb25seSE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgIDxjb2RlPnRleHQgPSB7e2V4YW1wbGUudGV4dH19PC9jb2RlPjxici8+XHJcbiAgICAgICAgICAgICA8Y29kZT5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L2NvZGU+PGJyLz5cclxuICAgICAgICAgICAgIDxjb2RlPm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgICAgPGNvZGU+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC9jb2RlPjxici8+XHJcbiAgICAgICAgICAgICA8Y29kZT5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnRleHQnKSk7XHJcbiAgICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZXhhbXBsZS50ZXh0JykpO1xyXG4gICAgICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdndWVzdCcpO1xyXG4gICAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcclxuICAgICAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbXVsdGkgd29yZCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2hlbGxvIHdvcmxkJyk7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDwvZXhhbXBsZT5cclxuICAgICAqL1xyXG4gICAgJ3RleHQnOiB0ZXh0SW5wdXRUeXBlLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIGlucHV0XHJcbiAgICAgKiBAbmFtZSBpbnB1dFtkYXRlXVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogSW5wdXQgd2l0aCBkYXRlIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxyXG4gICAgICogdGhlIEhUTUw1IGRhdGUgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXHJcbiAgICAgKiBkYXRlIGZvcm1hdCAoeXl5eS1NTS1kZCksIGZvciBleGFtcGxlOiBgMjAwOS0wMS0wNmAuIFNpbmNlIG1hbnlcclxuICAgICAqIG1vZGVybiBicm93c2VycyBkbyBub3QgeWV0IHN1cHBvcnQgdGhpcyBpbnB1dCB0eXBlLCBpdCBpcyBpbXBvcnRhbnQgdG8gcHJvdmlkZSBjdWVzIHRvIHVzZXJzIG9uIHRoZVxyXG4gICAgICogZXhwZWN0ZWQgaW5wdXQgZm9ybWF0IHZpYSBhIHBsYWNlaG9sZGVyIG9yIGxhYmVsLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBhIERhdGUgb2JqZWN0LCBvdGhlcndpc2UgQW5ndWxhciB3aWxsIHRocm93IGFuIGVycm9yLlxyXG4gICAgICogSW52YWxpZCBgRGF0ZWAgb2JqZWN0cyAoZGF0ZXMgd2hvc2UgYGdldFRpbWUoKWAgaXMgYE5hTmApIHdpbGwgYmUgcmVuZGVyZWQgYXMgYW4gZW1wdHkgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIFRoZSB0aW1lem9uZSB0byBiZSB1c2VkIHRvIHJlYWQvd3JpdGUgdGhlIGBEYXRlYCBpbnN0YW5jZSBpbiB0aGUgbW9kZWwgY2FuIGJlIGRlZmluZWQgdXNpbmdcclxuICAgICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9LiBCeSBkZWZhdWx0LCB0aGlzIGlzIHRoZSB0aW1lem9uZSBvZiB0aGUgYnJvd3Nlci5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuIFRoaXMgbXVzdCBiZSBhXHJcbiAgICAgKiAgIHZhbGlkIElTTyBkYXRlIHN0cmluZyAoeXl5eS1NTS1kZCkuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpcyBhdHRyaWJ1dGVcclxuICAgICAqICAgKGUuZy4gYG1pbj1cInt7bWluRGF0ZSB8IGRhdGU6J3l5eXktTU0tZGQnfX1cImApLiBOb3RlIHRoYXQgYG1pbmAgd2lsbCBhbHNvIGFkZCBuYXRpdmUgSFRNTDVcclxuICAgICAqICAgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLiBUaGlzIG11c3QgYmVcclxuICAgICAqICAgYSB2YWxpZCBJU08gZGF0ZSBzdHJpbmcgKHl5eXktTU0tZGQpLiBZb3UgY2FuIGFsc28gdXNlIGludGVycG9sYXRpb24gaW5zaWRlIHRoaXMgYXR0cmlidXRlXHJcbiAgICAgKiAgIChlLmcuIGBtYXg9XCJ7e21heERhdGUgfCBkYXRlOid5eXl5LU1NLWRkJ319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGQgbmF0aXZlIEhUTUw1XHJcbiAgICAgKiAgIGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyBkYXRlIHN0cmluZ1xyXG4gICAgICogICB0aGUgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGUgc3RyaW5nXHJcbiAgICAgKiAgIHRoZSBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAgICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJkYXRlLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImRhdGVJbnB1dEV4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdkYXRlSW5wdXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdEYXRlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMjAxMywgOSwgMjIpXHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XHJcbiAgICAgICAgICA8bGFiZWwgZm9yPVwiZXhhbXBsZUlucHV0XCI+UGljayBhIGRhdGUgaW4gMjAxMzo8L2xhYmVsPlxyXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFwiIG1pbj1cIjIwMTMtMDEtMDFcIiBtYXg9XCIyMDEzLTEyLTMxXCIgcmVxdWlyZWQgLz5cclxuICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IuZGF0ZVwiPlxyXG4gICAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XHJcbiAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkXCJ9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgICA8L2Zvcm0+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRcIicpKTtcclxuICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICAvLyBjdXJyZW50bHkgcHJvdHJhY3Rvci93ZWJkcml2ZXIgZG9lcyBub3Qgc3VwcG9ydFxyXG4gICAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcclxuICAgICAgICAvLyBmb3IgdmFyaW91cyBicm93c2VycyAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxyXG4gICAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xyXG4gICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xyXG4gICAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtMTAtMjInKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2V0SW5wdXQoJycpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEtMDEnKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuICAgICdkYXRlJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnZGF0ZScsIERBVEVfUkVHRVhQLCBjcmVhdGVEYXRlUGFyc2VyKERBVEVfUkVHRVhQLCBbJ3l5eXknLCAnTU0nLCAnZGQnXSksICd5eXl5LU1NLWRkJyksXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgaW5wdXRcclxuICAgICAqIEBuYW1lIGlucHV0W2RhdGV0aW1lLWxvY2FsXVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogSW5wdXQgd2l0aCBkYXRldGltZSB2YWxpZGF0aW9uIGFuZCB0cmFuc2Zvcm1hdGlvbi4gSW4gYnJvd3NlcnMgdGhhdCBkbyBub3QgeWV0IHN1cHBvcnRcclxuICAgICAqIHRoZSBIVE1MNSBkYXRlIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcclxuICAgICAqIGxvY2FsIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcyksIGZvciBleGFtcGxlOiBgMjAxMC0xMi0yOFQxNDo1NzowMGAuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXHJcbiAgICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xyXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cclxuICAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIGRhdGV0aW1lIGZvcm1hdCAoeXl5eS1NTS1kZFRISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvblxyXG4gICAgICogICBpbnNpZGUgdGhpcyBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluRGF0ZXRpbWVMb2NhbCB8IGRhdGU6J3l5eXktTU0tZGRUSEg6bW06c3MnfX1cImApLlxyXG4gICAgICogICBOb3RlIHRoYXQgYG1pbmAgd2lsbCBhbHNvIGFkZCBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gZGF0ZXRpbWUgZm9ybWF0ICh5eXl5LU1NLWRkVEhIOm1tOnNzKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uXHJcbiAgICAgKiAgIGluc2lkZSB0aGlzIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhEYXRldGltZUxvY2FsIHwgZGF0ZToneXl5eS1NTS1kZFRISDptbTpzcyd9fVwiYCkuXHJcbiAgICAgKiAgIE5vdGUgdGhhdCBgbWF4YCB3aWxsIGFsc28gYWRkIG5hdGl2ZSBIVE1MNSBjb25zdHJhaW50IHZhbGlkYXRpb24uXHJcbiAgICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSB0byB0aGUgRGF0ZSAvIElTTyBkYXRldGltZSBzdHJpbmdcclxuICAgICAqICAgdGhlIGBuZ01pbmAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtaW5gIGF0dHJpYnV0ZS5cclxuICAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IHRvIHRoZSBEYXRlIC8gSVNPIGRhdGV0aW1lIHN0cmluZ1xyXG4gICAgICogICB0aGUgYG5nTWF4YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1heGAgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwiZGF0ZXRpbWVsb2NhbC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJkYXRlRXhhbXBsZVwiPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZGF0ZUV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgICAgIHZhbHVlOiBuZXcgRGF0ZSgyMDEwLCAxMSwgMjgsIDE0LCA1NylcclxuICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XHJcbiAgICAgICAgIDxsYWJlbCBmb3I9XCJleGFtcGxlSW5wdXRcIj5QaWNrIGEgZGF0ZSBiZXR3ZWVuIGluIDIwMTM6PC9sYWJlbD5cclxuICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRldGltZS1sb2NhbFwiIGlkPVwiZXhhbXBsZUlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcclxuICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTS1kZFRISDptbTpzc1wiIG1pbj1cIjIwMDEtMDEtMDFUMDA6MDA6MDBcIiBtYXg9XCIyMDEzLTEyLTMxVDAwOjAwOjAwXCIgcmVxdWlyZWQgLz5cclxuICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5kYXRldGltZWxvY2FsXCI+XHJcbiAgICAgICAgICAgICAgIE5vdCBhIHZhbGlkIGRhdGUhPC9zcGFuPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NLWRkVEhIOm1tOnNzXCJ9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgPC9mb3JtPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICB2YXIgdmFsdWUgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2V4YW1wbGUudmFsdWUgfCBkYXRlOiBcInl5eXktTU0tZGRUSEg6bW06c3NcIicpKTtcclxuICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuICAgICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcclxuICAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcclxuICAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxyXG4gICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXHJcbiAgICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcclxuICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XHJcbiAgICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xyXG4gICAgICAgfVxyXG4gICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEwLTEyLTI4VDE0OjU3OjAwJyk7XHJcbiAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcclxuICAgICAgIH0pO1xyXG4gICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgc2V0SW5wdXQoJycpO1xyXG4gICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XHJcbiAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgICB9KTtcclxuICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHNldElucHV0KCcyMDE1LTAxLTAxVDIzOjU5OjAwJyk7XHJcbiAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IGZhbHNlJyk7XHJcbiAgICAgICB9KTtcclxuICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAgICovXHJcbiAgICAnZGF0ZXRpbWUtbG9jYWwnOiBjcmVhdGVEYXRlSW5wdXRUeXBlKCdkYXRldGltZWxvY2FsJywgREFURVRJTUVMT0NBTF9SRUdFWFAsIGNyZWF0ZURhdGVQYXJzZXIoREFURVRJTUVMT0NBTF9SRUdFWFAsIFsneXl5eScsICdNTScsICdkZCcsICdISCcsICdtbScsICdzcycsICdzc3MnXSksICd5eXl5LU1NLWRkVEhIOm1tOnNzLnNzcycpLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIGlucHV0XHJcbiAgICAgKiBAbmFtZSBpbnB1dFt0aW1lXVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogSW5wdXQgd2l0aCB0aW1lIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxyXG4gICAgICogdGhlIEhUTUw1IHRpbWUgaW5wdXQsIGEgdGV4dCBlbGVtZW50IHdpbGwgYmUgdXNlZC4gSW4gdGhhdCBjYXNlLCB0aGUgdGV4dCBtdXN0IGJlIGVudGVyZWQgaW4gYSB2YWxpZCBJU08tODYwMVxyXG4gICAgICogbG9jYWwgdGltZSBmb3JtYXQgKEhIOm1tOnNzKSwgZm9yIGV4YW1wbGU6IGAxNDo1NzowMGAuIE1vZGVsIG11c3QgYmUgYSBEYXRlIG9iamVjdC4gVGhpcyBiaW5kaW5nIHdpbGwgYWx3YXlzIG91dHB1dCBhXHJcbiAgICAgKiBEYXRlIG9iamVjdCB0byB0aGUgbW9kZWwgb2YgSmFudWFyeSAxLCAxOTcwLCBvciBsb2NhbCBkYXRlIGBuZXcgRGF0ZSgxOTcwLCAwLCAxLCBISCwgbW0sIHNzKWAuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXHJcbiAgICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHRpbWV6b25lIHRvIGJlIHVzZWQgdG8gcmVhZC93cml0ZSB0aGUgYERhdGVgIGluc3RhbmNlIGluIHRoZSBtb2RlbCBjYW4gYmUgZGVmaW5lZCB1c2luZ1xyXG4gICAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ01vZGVsT3B0aW9ucyBuZ01vZGVsT3B0aW9uc30uIEJ5IGRlZmF1bHQsIHRoaXMgaXMgdGhlIHRpbWV6b25lIG9mIHRoZSBicm93c2VyLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGxlc3MgdGhhbiBgbWluYC5cclxuICAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIHRpbWUgZm9ybWF0IChISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xyXG4gICAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1pbj1cInt7bWluVGltZSB8IGRhdGU6J0hIOm1tOnNzJ319XCJgKS4gTm90ZSB0aGF0IGBtaW5gIHdpbGwgYWxzbyBhZGRcclxuICAgICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXIgdGhhbiBgbWF4YC5cclxuICAgICAqICAgVGhpcyBtdXN0IGJlIGEgdmFsaWQgSVNPIHRpbWUgZm9ybWF0IChISDptbTpzcykuIFlvdSBjYW4gYWxzbyB1c2UgaW50ZXJwb2xhdGlvbiBpbnNpZGUgdGhpc1xyXG4gICAgICogICBhdHRyaWJ1dGUgKGUuZy4gYG1heD1cInt7bWF4VGltZSB8IGRhdGU6J0hIOm1tOnNzJ319XCJgKS4gTm90ZSB0aGF0IGBtYXhgIHdpbGwgYWxzbyBhZGRcclxuICAgICAqICAgbmF0aXZlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbi5cclxuICAgICAqIEBwYXJhbSB7KGRhdGV8c3RyaW5nKT19IG5nTWluIFNldHMgdGhlIGBtaW5gIHZhbGlkYXRpb24gY29uc3RyYWludCB0byB0aGUgRGF0ZSAvIElTTyB0aW1lIHN0cmluZyB0aGVcclxuICAgICAqICAgYG5nTWluYCBleHByZXNzaW9uIGV2YWx1YXRlcyB0by4gTm90ZSB0aGF0IGl0IGRvZXMgbm90IHNldCB0aGUgYG1pbmAgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIHRpbWUgc3RyaW5nIHRoZVxyXG4gICAgICogICBgbmdNYXhgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWF4YCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICAgICAqICAgIHRoZSBlbGVtZW50IHdoZW4gdGhlIG5nUmVxdWlyZWQgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1ZS4gVXNlIGBuZ1JlcXVpcmVkYCBpbnN0ZWFkIG9mXHJcbiAgICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJ0aW1lLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInRpbWVFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3RpbWVFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuZXhhbXBsZSA9IHtcclxuICAgICAgICAgICAgICB2YWx1ZTogbmV3IERhdGUoMTk3MCwgMCwgMSwgMTQsIDU3LCAwKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XHJcbiAgICAgICAgICA8bGFiZWwgZm9yPVwiZXhhbXBsZUlucHV0XCI+UGljayBhIHRpbWUgYmV0d2VlbiA4YW0gYW5kIDVwbTo8L2xhYmVsPlxyXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJ0aW1lXCIgaWQ9XCJleGFtcGxlSW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiSEg6bW06c3NcIiBtaW49XCIwODowMDowMFwiIG1heD1cIjE3OjAwOjAwXCIgcmVxdWlyZWQgLz5cclxuICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IudGltZVwiPlxyXG4gICAgICAgICAgICAgICAgTm90IGEgdmFsaWQgZGF0ZSE8L3NwYW4+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwiSEg6bW06c3NcIn19PC90dD48YnIvPlxyXG4gICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgPC9mb3JtPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJISDptbTpzc1wiJykpO1xyXG4gICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuICAgICAgICAgIC8vIGN1cnJlbnRseSBwcm90cmFjdG9yL3dlYmRyaXZlciBkb2VzIG5vdCBzdXBwb3J0XHJcbiAgICAgICAgLy8gc2VuZGluZyBrZXlzIHRvIGFsbCBrbm93biBIVE1MNSBpbnB1dCBjb250cm9sc1xyXG4gICAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxyXG4gICAgICAgIGZ1bmN0aW9uIHNldElucHV0KHZhbCkge1xyXG4gICAgICAgICAgLy8gc2V0IHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudCBhbmQgZm9yY2UgdmFsaWRhdGlvbi5cclxuICAgICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcclxuICAgICAgICAgIFwiaXB0LnZhbHVlID0gJ1wiICsgdmFsICsgXCInO1wiICtcclxuICAgICAgICAgIFwiYW5ndWxhci5lbGVtZW50KGlwdCkuc2NvcGUoKS4kYXBwbHkoZnVuY3Rpb24ocykgeyBzLm15Rm9ybVtpcHQubmFtZV0uJHNldFZpZXdWYWx1ZSgnXCIgKyB2YWwgKyBcIicpOyB9KTtcIjtcclxuICAgICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcxNDo1NzowMCcpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gdHJ1ZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZXRJbnB1dCgnJyk7XHJcbiAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0VxdWFsKCd2YWx1ZSA9Jyk7XHJcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBzZXRJbnB1dCgnMjM6NTk6MDAnKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuICAgICd0aW1lJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgndGltZScsIFRJTUVfUkVHRVhQLCBjcmVhdGVEYXRlUGFyc2VyKFRJTUVfUkVHRVhQLCBbJ0hIJywgJ21tJywgJ3NzJywgJ3NzcyddKSwgJ0hIOm1tOnNzLnNzcycpLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIGlucHV0XHJcbiAgICAgKiBAbmFtZSBpbnB1dFt3ZWVrXVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogSW5wdXQgd2l0aCB3ZWVrLW9mLXRoZS15ZWFyIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uIHRvIERhdGUuIEluIGJyb3dzZXJzIHRoYXQgZG8gbm90IHlldCBzdXBwb3J0XHJcbiAgICAgKiB0aGUgSFRNTDUgd2VlayBpbnB1dCwgYSB0ZXh0IGVsZW1lbnQgd2lsbCBiZSB1c2VkLiBJbiB0aGF0IGNhc2UsIHRoZSB0ZXh0IG11c3QgYmUgZW50ZXJlZCBpbiBhIHZhbGlkIElTTy04NjAxXHJcbiAgICAgKiB3ZWVrIGZvcm1hdCAoeXl5eS1XIyMpLCBmb3IgZXhhbXBsZTogYDIwMTMtVzAyYC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgbW9kZWwgbXVzdCBhbHdheXMgYmUgYSBEYXRlIG9iamVjdCwgb3RoZXJ3aXNlIEFuZ3VsYXIgd2lsbCB0aHJvdyBhbiBlcnJvci5cclxuICAgICAqIEludmFsaWQgYERhdGVgIG9iamVjdHMgKGRhdGVzIHdob3NlIGBnZXRUaW1lKClgIGlzIGBOYU5gKSB3aWxsIGJlIHJlbmRlcmVkIGFzIGFuIGVtcHR5IHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXHJcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxyXG4gICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gd2VlayBmb3JtYXQgKHl5eXktVyMjKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXHJcbiAgICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWluPVwie3ttaW5XZWVrIHwgZGF0ZToneXl5eS1Xd3cnfX1cImApLiBOb3RlIHRoYXQgYG1pbmAgd2lsbCBhbHNvIGFkZFxyXG4gICAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gd2VlayBmb3JtYXQgKHl5eXktVyMjKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXHJcbiAgICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhXZWVrIHwgZGF0ZToneXl5eS1Xd3cnfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZFxyXG4gICAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIHdlZWsgc3RyaW5nXHJcbiAgICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcclxuICAgICAqICAgdGhlIGBuZ01heGAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhgIGF0dHJpYnV0ZS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbmFtZT1cIndlZWstaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwid2Vla0V4YW1wbGVcIj5cclxuICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgPHNjcmlwdD5cclxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCd3ZWVrRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAuY29udHJvbGxlcignRGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xyXG4gICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTMsIDAsIDMpXHJcbiAgICAgICAgICAgfTtcclxuICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkRhdGVDb250cm9sbGVyIGFzIGRhdGVDdHJsXCI+XHJcbiAgICAgICAgIDxsYWJlbD5QaWNrIGEgZGF0ZSBiZXR3ZWVuIGluIDIwMTM6XHJcbiAgICAgICAgICAgPGlucHV0IGlkPVwiZXhhbXBsZUlucHV0XCIgdHlwZT1cIndlZWtcIiBuYW1lPVwiaW5wdXRcIiBuZy1tb2RlbD1cImV4YW1wbGUudmFsdWVcIlxyXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIllZWVktVyMjXCIgbWluPVwiMjAxMi1XMzJcIlxyXG4gICAgICAgICAgICAgICAgICBtYXg9XCIyMDEzLVc1MlwiIHJlcXVpcmVkIC8+XHJcbiAgICAgICAgIDwvbGFiZWw+XHJcbiAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3Iud2Vla1wiPlxyXG4gICAgICAgICAgICAgICBOb3QgYSB2YWxpZCBkYXRlITwvc3Bhbj5cclxuICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1Xd3dcIn19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiR2YWxpZCA9IHt7bXlGb3JtLmlucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLmlucHV0LiRlcnJvciA9IHt7bXlGb3JtLmlucHV0LiRlcnJvcn19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgICA8L2Zvcm0+XHJcbiAgICAgPC9maWxlPlxyXG4gICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZSB8IGRhdGU6IFwieXl5eS1Xd3dcIicpKTtcclxuICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuICAgICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcclxuICAgICAgIC8vIHNlbmRpbmcga2V5cyB0byBhbGwga25vd24gSFRNTDUgaW5wdXQgY29udHJvbHNcclxuICAgICAgIC8vIGZvciB2YXJpb3VzIGJyb3dzZXJzIChodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9wcm90cmFjdG9yL2lzc3Vlcy81NjIpLlxyXG4gICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgIC8vIHNldCB0aGUgdmFsdWUgb2YgdGhlIGVsZW1lbnQgYW5kIGZvcmNlIHZhbGlkYXRpb24uXHJcbiAgICAgICAgIHZhciBzY3IgPSBcInZhciBpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhhbXBsZUlucHV0Jyk7IFwiICtcclxuICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgICBcImFuZ3VsYXIuZWxlbWVudChpcHQpLnNjb3BlKCkuJGFwcGx5KGZ1bmN0aW9uKHMpIHsgcy5teUZvcm1baXB0Lm5hbWVdLiRzZXRWaWV3VmFsdWUoJ1wiICsgdmFsICsgXCInKTsgfSk7XCI7XHJcbiAgICAgICAgIGJyb3dzZXIuZXhlY3V0ZVNjcmlwdChzY3IpO1xyXG4gICAgICAgfVxyXG4gICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcyMDEzLVcwMScpO1xyXG4gICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSB0cnVlJyk7XHJcbiAgICAgICB9KTtcclxuICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgIHNldElucHV0KCcnKTtcclxuICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICAgfSk7XHJcbiAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICBzZXRJbnB1dCgnMjAxNS1XMDEnKTtcclxuICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9Db250YWluKCcnKTtcclxuICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuICAgICd3ZWVrJzogY3JlYXRlRGF0ZUlucHV0VHlwZSgnd2VlaycsIFdFRUtfUkVHRVhQLCB3ZWVrUGFyc2VyLCAneXl5eS1Xd3cnKSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAgICogQG5hbWUgaW5wdXRbbW9udGhdXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBJbnB1dCB3aXRoIG1vbnRoIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBJbiBicm93c2VycyB0aGF0IGRvIG5vdCB5ZXQgc3VwcG9ydFxyXG4gICAgICogdGhlIEhUTUw1IG1vbnRoIGlucHV0LCBhIHRleHQgZWxlbWVudCB3aWxsIGJlIHVzZWQuIEluIHRoYXQgY2FzZSwgdGhlIHRleHQgbXVzdCBiZSBlbnRlcmVkIGluIGEgdmFsaWQgSVNPLTg2MDFcclxuICAgICAqIG1vbnRoIGZvcm1hdCAoeXl5eS1NTSksIGZvciBleGFtcGxlOiBgMjAwOS0wMWAuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIG1vZGVsIG11c3QgYWx3YXlzIGJlIGEgRGF0ZSBvYmplY3QsIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXHJcbiAgICAgKiBJbnZhbGlkIGBEYXRlYCBvYmplY3RzIChkYXRlcyB3aG9zZSBgZ2V0VGltZSgpYCBpcyBgTmFOYCkgd2lsbCBiZSByZW5kZXJlZCBhcyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICAgKiBJZiB0aGUgbW9kZWwgaXMgbm90IHNldCB0byB0aGUgZmlyc3Qgb2YgdGhlIG1vbnRoLCB0aGUgbmV4dCB2aWV3IHRvIG1vZGVsIHVwZGF0ZSB3aWxsIHNldCBpdFxyXG4gICAgICogdG8gdGhlIGZpcnN0IG9mIHRoZSBtb250aC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGNhbiBiZSBkZWZpbmVkIHVzaW5nXHJcbiAgICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfS4gQnkgZGVmYXVsdCwgdGhpcyBpcyB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtaW5gLlxyXG4gICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gbW9udGggZm9ybWF0ICh5eXl5LU1NKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXHJcbiAgICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWluPVwie3ttaW5Nb250aCB8IGRhdGU6J3l5eXktTU0nfX1cImApLiBOb3RlIHRoYXQgYG1pbmAgd2lsbCBhbHNvIGFkZFxyXG4gICAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAgICogICBUaGlzIG11c3QgYmUgYSB2YWxpZCBJU08gbW9udGggZm9ybWF0ICh5eXl5LU1NKS4gWW91IGNhbiBhbHNvIHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSB0aGlzXHJcbiAgICAgKiAgIGF0dHJpYnV0ZSAoZS5nLiBgbWF4PVwie3ttYXhNb250aCB8IGRhdGU6J3l5eXktTU0nfX1cImApLiBOb3RlIHRoYXQgYG1heGAgd2lsbCBhbHNvIGFkZFxyXG4gICAgICogICBuYXRpdmUgSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uLlxyXG4gICAgICogQHBhcmFtIHsoZGF0ZXxzdHJpbmcpPX0gbmdNaW4gU2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvIHRoZSBEYXRlIC8gSVNPIHdlZWsgc3RyaW5nXHJcbiAgICAgKiAgIHRoZSBgbmdNaW5gIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvLiBOb3RlIHRoYXQgaXQgZG9lcyBub3Qgc2V0IHRoZSBgbWluYCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0geyhkYXRlfHN0cmluZyk9fSBuZ01heCBTZXRzIHRoZSBgbWF4YCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG8gdGhlIERhdGUgLyBJU08gd2VlayBzdHJpbmdcclxuICAgICAqICAgdGhlIGBuZ01heGAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8uIE5vdGUgdGhhdCBpdCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhgIGF0dHJpYnV0ZS5cclxuICAgICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwibW9udGgtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwibW9udGhFeGFtcGxlXCI+XHJcbiAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ21vbnRoRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgLmNvbnRyb2xsZXIoJ0RhdGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgJHNjb3BlLmV4YW1wbGUgPSB7XHJcbiAgICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKDIwMTMsIDksIDEpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XSk7XHJcbiAgICAgICA8L3NjcmlwdD5cclxuICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRGF0ZUNvbnRyb2xsZXIgYXMgZGF0ZUN0cmxcIj5cclxuICAgICAgICAgPGxhYmVsIGZvcj1cImV4YW1wbGVJbnB1dFwiPlBpY2sgYSBtb250aCBpbiAyMDEzOjwvbGFiZWw+XHJcbiAgICAgICAgIDxpbnB1dCBpZD1cImV4YW1wbGVJbnB1dFwiIHR5cGU9XCJtb250aFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZXhhbXBsZS52YWx1ZVwiXHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwieXl5eS1NTVwiIG1pbj1cIjIwMTMtMDFcIiBtYXg9XCIyMDEzLTEyXCIgcmVxdWlyZWQgLz5cclxuICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWRcIj5cclxuICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLm1vbnRoXCI+XHJcbiAgICAgICAgICAgICAgTm90IGEgdmFsaWQgbW9udGghPC9zcGFuPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgPHR0PnZhbHVlID0ge3tleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NXCJ9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kZXJyb3IgPSB7e215Rm9ybS5pbnB1dC4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgPC9mb3JtPlxyXG4gICAgIDwvZmlsZT5cclxuICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgdmFyIHZhbHVlID0gZWxlbWVudChieS5iaW5kaW5nKCdleGFtcGxlLnZhbHVlIHwgZGF0ZTogXCJ5eXl5LU1NXCInKSk7XHJcbiAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICAgICAgLy8gY3VycmVudGx5IHByb3RyYWN0b3Ivd2ViZHJpdmVyIGRvZXMgbm90IHN1cHBvcnRcclxuICAgICAgICAvLyBzZW5kaW5nIGtleXMgdG8gYWxsIGtub3duIEhUTUw1IGlucHV0IGNvbnRyb2xzXHJcbiAgICAgICAgLy8gZm9yIHZhcmlvdXMgYnJvd3NlcnMgKGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzU2MikuXHJcbiAgICAgICAgZnVuY3Rpb24gc2V0SW5wdXQodmFsKSB7XHJcbiAgICAgICAgICAvLyBzZXQgdGhlIHZhbHVlIG9mIHRoZSBlbGVtZW50IGFuZCBmb3JjZSB2YWxpZGF0aW9uLlxyXG4gICAgICAgICAgdmFyIHNjciA9IFwidmFyIGlwdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleGFtcGxlSW5wdXQnKTsgXCIgK1xyXG4gICAgICAgICAgXCJpcHQudmFsdWUgPSAnXCIgKyB2YWwgKyBcIic7XCIgK1xyXG4gICAgICAgICAgXCJhbmd1bGFyLmVsZW1lbnQoaXB0KS5zY29wZSgpLiRhcHBseShmdW5jdGlvbihzKSB7IHMubXlGb3JtW2lwdC5uYW1lXS4kc2V0Vmlld1ZhbHVlKCdcIiArIHZhbCArIFwiJyk7IH0pO1wiO1xyXG4gICAgICAgICAgYnJvd3Nlci5leGVjdXRlU2NyaXB0KHNjcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3QodmFsdWUuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzIwMTMtMTAnKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignbXlGb3JtLmlucHV0LiR2YWxpZCA9IHRydWUnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBlbXB0eScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2V0SW5wdXQoJycpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdteUZvcm0uaW5wdXQuJHZhbGlkID0gZmFsc2UnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBvdmVyIG1heCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2V0SW5wdXQoJzIwMTUtMDEnKTtcclxuICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ215Rm9ybS5pbnB1dC4kdmFsaWQgPSBmYWxzZScpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuICAgICdtb250aCc6IGNyZWF0ZURhdGVJbnB1dFR5cGUoJ21vbnRoJywgTU9OVEhfUkVHRVhQLCBjcmVhdGVEYXRlUGFyc2VyKE1PTlRIX1JFR0VYUCwgWyd5eXl5JywgJ01NJ10pLCAneXl5eS1NTScpLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIGlucHV0XHJcbiAgICAgKiBAbmFtZSBpbnB1dFtudW1iZXJdXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUZXh0IGlucHV0IHdpdGggbnVtYmVyIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLiBTZXRzIHRoZSBgbnVtYmVyYCB2YWxpZGF0aW9uXHJcbiAgICAgKiBlcnJvciBpZiBub3QgYSB2YWxpZCBudW1iZXIuXHJcbiAgICAgKlxyXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAqIFRoZSBtb2RlbCBtdXN0IGFsd2F5cyBiZSBvZiB0eXBlIGBudW1iZXJgIG90aGVyd2lzZSBBbmd1bGFyIHdpbGwgdGhyb3cgYW4gZXJyb3IuXHJcbiAgICAgKiBCZSBhd2FyZSB0aGF0IGEgc3RyaW5nIGNvbnRhaW5pbmcgYSBudW1iZXIgaXMgbm90IGVub3VnaC4gU2VlIHRoZSB7QGxpbmsgbmdNb2RlbDpudW1mbXR9XHJcbiAgICAgKiBlcnJvciBkb2NzIGZvciBtb3JlIGluZm9ybWF0aW9uIGFuZCBhbiBleGFtcGxlIG9mIGhvdyB0byBjb252ZXJ0IHlvdXIgbW9kZWwgaWYgbmVjZXNzYXJ5LlxyXG4gICAgICogPC9kaXY+XHJcbiAgICAgKlxyXG4gICAgICogIyMgSXNzdWVzIHdpdGggSFRNTDUgY29uc3RyYWludCB2YWxpZGF0aW9uXHJcbiAgICAgKlxyXG4gICAgICogSW4gYnJvd3NlcnMgdGhhdCBmb2xsb3cgdGhlXHJcbiAgICAgKiBbSFRNTDUgc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCNudW1iZXItc3RhdGUtJTI4dHlwZT1udW1iZXIlMjkpLFxyXG4gICAgICogYGlucHV0W251bWJlcl1gIGRvZXMgbm90IHdvcmsgYXMgZXhwZWN0ZWQgd2l0aCB7QGxpbmsgbmdNb2RlbE9wdGlvbnMgYG5nTW9kZWxPcHRpb25zLmFsbG93SW52YWxpZGB9LlxyXG4gICAgICogSWYgYSBub24tbnVtYmVyIGlzIGVudGVyZWQgaW4gdGhlIGlucHV0LCB0aGUgYnJvd3NlciB3aWxsIHJlcG9ydCB0aGUgdmFsdWUgYXMgYW4gZW1wdHkgc3RyaW5nLFxyXG4gICAgICogd2hpY2ggbWVhbnMgdGhlIHZpZXcgLyBtb2RlbCB2YWx1ZXMgaW4gYG5nTW9kZWxgIGFuZCBzdWJzZXF1ZW50bHkgdGhlIHNjb3BlIHZhbHVlXHJcbiAgICAgKiB3aWxsIGFsc28gYmUgYW4gZW1wdHkgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgZW50ZXJlZCBpcyBsZXNzIHRoYW4gYG1pbmAuXHJcbiAgICAgKiAgICBDYW4gYmUgaW50ZXJwb2xhdGVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBtYXggU2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBtYXhgLlxyXG4gICAgICogICAgQ2FuIGJlIGludGVycG9sYXRlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdNaW4gTGlrZSBgbWluYCwgc2V0cyB0aGUgYG1pbmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBuZ01pbmAsXHJcbiAgICAgKiAgICBidXQgZG9lcyBub3QgdHJpZ2dlciBIVE1MNSBuYXRpdmUgdmFsaWRhdGlvbi4gVGFrZXMgYW4gZXhwcmVzc2lvbi5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdNYXggTGlrZSBgbWF4YCwgc2V0cyB0aGUgYG1heGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgaXMgZ3JlYXRlciB0aGFuIGBuZ01heGAsXHJcbiAgICAgKiAgICBidXQgZG9lcyBub3QgdHJpZ2dlciBIVE1MNSBuYXRpdmUgdmFsaWRhdGlvbi4gVGFrZXMgYW4gZXhwcmVzc2lvbi5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gc3RlcCBTZXRzIHRoZSBgc3RlcGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGVudGVyZWQgZG9lcyBub3QgZml0IHRoZSBgc3RlcGAgY29uc3RyYWludC5cclxuICAgICAqICAgIENhbiBiZSBpbnRlcnBvbGF0ZWQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nU3RlcCBMaWtlIGBzdGVwYCwgc2V0cyB0aGUgYHN0ZXBgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBlbnRlcmVkIGRvZXMgbm90IGZpdCB0aGUgYG5nU3RlcGAgY29uc3RyYWludCxcclxuICAgICAqICAgIGJ1dCBkb2VzIG5vdCB0cmlnZ2VyIEhUTUw1IG5hdGl2ZSB2YWxpZGF0aW9uLiBUYWtlcyBhbiBleHByZXNzaW9uLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxyXG4gICAgICogICAgbWlubGVuZ3RoLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxyXG4gICAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXHJcbiAgICAgKiAgICBhbnkgbGVuZ3RoLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xyXG4gICAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxyXG4gICAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XHJcbiAgICAgKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICAgICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxyXG4gICAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXHJcbiAgICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xyXG4gICAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxyXG4gICAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICAgICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXHJcbiAgICAgKiAgICBhY2NvdW50LlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgPGV4YW1wbGUgbmFtZT1cIm51bWJlci1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJudW1iZXJFeGFtcGxlXCI+XHJcbiAgICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnbnVtYmVyRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICRzY29wZS5leGFtcGxlID0ge1xyXG4gICAgICAgICAgICAgICAgICAgdmFsdWU6IDEyXHJcbiAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICAgIDxsYWJlbD5OdW1iZXI6XHJcbiAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJleGFtcGxlLnZhbHVlXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG1pbj1cIjBcIiBtYXg9XCI5OVwiIHJlcXVpcmVkPlxyXG4gICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IubnVtYmVyXCI+XHJcbiAgICAgICAgICAgICAgICAgTm90IHZhbGlkIG51bWJlciE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgIDx0dD52YWx1ZSA9IHt7ZXhhbXBsZS52YWx1ZX19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnZXhhbXBsZS52YWx1ZScpKTtcclxuICAgICAgICAgICAgdmFyIHZhbGlkID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0uaW5wdXQuJHZhbGlkJykpO1xyXG4gICAgICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdleGFtcGxlLnZhbHVlJykpO1xyXG4gICAgICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGV4cGVjdCh2YWx1ZS5nZXRUZXh0KCkpLnRvQ29udGFpbignMTInKTtcclxuICAgICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIG92ZXIgbWF4JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KHZhbHVlLmdldFRleHQoKSkudG9FcXVhbCgndmFsdWUgPScpO1xyXG4gICAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPC9leGFtcGxlPlxyXG4gICAgICovXHJcbiAgICAnbnVtYmVyJzogbnVtYmVySW5wdXRUeXBlLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIGlucHV0XHJcbiAgICAgKiBAbmFtZSBpbnB1dFt1cmxdXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUZXh0IGlucHV0IHdpdGggVVJMIHZhbGlkYXRpb24uIFNldHMgdGhlIGB1cmxgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBjb250ZW50IGlzIG5vdCBhXHJcbiAgICAgKiB2YWxpZCBVUkwuXHJcbiAgICAgKlxyXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAqICoqTm90ZToqKiBgaW5wdXRbdXJsXWAgdXNlcyBhIHJlZ2V4IHRvIHZhbGlkYXRlIHVybHMgdGhhdCBpcyBkZXJpdmVkIGZyb20gdGhlIHJlZ2V4XHJcbiAgICAgKiB1c2VkIGluIENocm9taXVtLiBJZiB5b3UgbmVlZCBzdHJpY3RlciB2YWxpZGF0aW9uLCB5b3UgY2FuIHVzZSBgbmctcGF0dGVybmAgb3IgbW9kaWZ5XHJcbiAgICAgKiB0aGUgYnVpbHQtaW4gdmFsaWRhdG9ycyAoc2VlIHRoZSB7QGxpbmsgZ3VpZGUvZm9ybXMgRm9ybXMgZ3VpZGV9KVxyXG4gICAgICogPC9kaXY+XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAgICogICAgYHJlcXVpcmVkYCB3aGVuIHlvdSB3YW50IHRvIGRhdGEtYmluZCB0byB0aGUgYHJlcXVpcmVkYCBhdHRyaWJ1dGUuXHJcbiAgICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxyXG4gICAgICogICAgbWlubGVuZ3RoLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01heGxlbmd0aCBTZXRzIGBtYXhsZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBsb25nZXIgdGhhblxyXG4gICAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mXHJcbiAgICAgKiAgICBhbnkgbGVuZ3RoLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBwYXR0ZXJuIFNpbWlsYXIgdG8gYG5nUGF0dGVybmAgZXhjZXB0IHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBpcyB0aGUgYWN0dWFsIHN0cmluZ1xyXG4gICAgICogICAgdGhhdCBjb250YWlucyB0aGUgcmVndWxhciBleHByZXNzaW9uIGJvZHkgdGhhdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIHJlZ3VsYXIgZXhwcmVzc2lvblxyXG4gICAgICogICAgYXMgaW4gdGhlIG5nUGF0dGVybiBkaXJlY3RpdmUuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XHJcbiAgICAgKiAgICBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICAgICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIFJlZ0V4cCBvYmplY3QsIHRoZW4gdGhpcyBpcyB1c2VkIGRpcmVjdGx5LlxyXG4gICAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXHJcbiAgICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xyXG4gICAgICogICAgYG5ldyBSZWdFeHAoJ15hYmMkJylgLjxiciAvPlxyXG4gICAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICAgICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXHJcbiAgICAgKiAgICBhY2NvdW50LlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgPGV4YW1wbGUgbmFtZT1cInVybC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJ1cmxFeGFtcGxlXCI+XHJcbiAgICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgndXJsRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICRzY29wZS51cmwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZXh0OiAnaHR0cDovL2dvb2dsZS5jb20nXHJcbiAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICAgIDxsYWJlbD5VUkw6XHJcbiAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidXJsXCIgbmFtZT1cImlucHV0XCIgbmctbW9kZWw9XCJ1cmwudGV4dFwiIHJlcXVpcmVkPlxyXG4gICAgICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0uaW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5pbnB1dC4kZXJyb3IudXJsXCI+XHJcbiAgICAgICAgICAgICAgICAgTm90IHZhbGlkIHVybCE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgIDx0dD50ZXh0ID0ge3t1cmwudGV4dH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS5pbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5pbnB1dC4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IudXJsID0ge3shIW15Rm9ybS4kZXJyb3IudXJsfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgIDwvZm9ybT5cclxuICAgICAgICAgIDwvZmlsZT5cclxuICAgICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3VybC50ZXh0JykpO1xyXG4gICAgICAgICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5pbnB1dC4kdmFsaWQnKSk7XHJcbiAgICAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VybC50ZXh0JykpO1xyXG4gICAgICAgICAgICAgIGl0KCdzaG91bGQgaW5pdGlhbGl6ZSB0byBtb2RlbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9Db250YWluKCdodHRwOi8vZ29vZ2xlLmNvbScpO1xyXG4gICAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgZW1wdHknLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCcnKTtcclxuICAgICAgICAgICAgICAgIGV4cGVjdCh0ZXh0LmdldFRleHQoKSkudG9FcXVhbCgndGV4dCA9Jyk7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbm90IHVybCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIGlucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgICAgaW5wdXQuc2VuZEtleXMoJ2JveCcpO1xyXG4gICAgICAgICAgICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuICAgICd1cmwnOiB1cmxJbnB1dFR5cGUsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgaW5wdXRcclxuICAgICAqIEBuYW1lIGlucHV0W2VtYWlsXVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogVGV4dCBpbnB1dCB3aXRoIGVtYWlsIHZhbGlkYXRpb24uIFNldHMgdGhlIGBlbWFpbGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgbm90IGEgdmFsaWQgZW1haWxcclxuICAgICAqIGFkZHJlc3MuXHJcbiAgICAgKlxyXG4gICAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXdhcm5pbmdcIj5cclxuICAgICAqICoqTm90ZToqKiBgaW5wdXRbZW1haWxdYCB1c2VzIGEgcmVnZXggdG8gdmFsaWRhdGUgZW1haWwgYWRkcmVzc2VzIHRoYXQgaXMgZGVyaXZlZCBmcm9tIHRoZSByZWdleFxyXG4gICAgICogdXNlZCBpbiBDaHJvbWl1bS4gSWYgeW91IG5lZWQgc3RyaWN0ZXIgdmFsaWRhdGlvbiAoZS5nLiByZXF1aXJpbmcgYSB0b3AtbGV2ZWwgZG9tYWluKSwgeW91IGNhblxyXG4gICAgICogdXNlIGBuZy1wYXR0ZXJuYCBvciBtb2RpZnkgdGhlIGJ1aWx0LWluIHZhbGlkYXRvcnMgKHNlZSB0aGUge0BsaW5rIGd1aWRlL2Zvcm1zIEZvcm1zIGd1aWRlfSlcclxuICAgICAqIDwvZGl2PlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBub3QgZW50ZXJlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIGByZXF1aXJlZGAgYXR0cmlidXRlIGFuZCBgcmVxdWlyZWRgIHZhbGlkYXRpb24gY29uc3RyYWludCB0b1xyXG4gICAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAgICogQHBhcmFtIHtudW1iZXI9fSBuZ01pbmxlbmd0aCBTZXRzIGBtaW5sZW5ndGhgIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSB2YWx1ZSBpcyBzaG9ydGVyIHRoYW5cclxuICAgICAqICAgIG1pbmxlbmd0aC5cclxuICAgICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cclxuICAgICAqICAgIG1heGxlbmd0aC4gU2V0dGluZyB0aGUgYXR0cmlidXRlIHRvIGEgbmVnYXRpdmUgb3Igbm9uLW51bWVyaWMgdmFsdWUsIGFsbG93cyB2aWV3IHZhbHVlcyBvZlxyXG4gICAgICogICAgYW55IGxlbmd0aC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gcGF0dGVybiBTaW1pbGFyIHRvIGBuZ1BhdHRlcm5gIGV4Y2VwdCB0aGF0IHRoZSBhdHRyaWJ1dGUgdmFsdWUgaXMgdGhlIGFjdHVhbCBzdHJpbmdcclxuICAgICAqICAgIHRoYXQgY29udGFpbnMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiBib2R5IHRoYXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSByZWd1bGFyIGV4cHJlc3Npb25cclxuICAgICAqICAgIGFzIGluIHRoZSBuZ1BhdHRlcm4gZGlyZWN0aXZlLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1BhdHRlcm4gU2V0cyBgcGF0dGVybmAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIG5nTW9kZWwge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSAkdmlld1ZhbHVlfVxyXG4gICAgICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICAgICAqICAgIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cFxyXG4gICAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cclxuICAgICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cclxuICAgICAqICAgICoqTm90ZToqKiBBdm9pZCB1c2luZyB0aGUgYGdgIGZsYWcgb24gdGhlIFJlZ0V4cCwgYXMgaXQgd2lsbCBjYXVzZSBlYWNoIHN1Y2Nlc3NpdmUgc2VhcmNoIHRvXHJcbiAgICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xyXG4gICAgICogICAgYWNjb3VudC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgICAqXHJcbiAgICAgKiBAZXhhbXBsZVxyXG4gICAgICAgIDxleGFtcGxlIG5hbWU9XCJlbWFpbC1pbnB1dC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJlbWFpbEV4YW1wbGVcIj5cclxuICAgICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdlbWFpbEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgICAkc2NvcGUuZW1haWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgICB0ZXh0OiAnbWVAZXhhbXBsZS5jb20nXHJcbiAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgICAgICA8bGFiZWw+RW1haWw6XHJcbiAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1vZGVsPVwiZW1haWwudGV4dFwiIHJlcXVpcmVkPlxyXG4gICAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICA8ZGl2IHJvbGU9XCJhbGVydFwiPlxyXG4gICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgUmVxdWlyZWQhPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmlucHV0LiRlcnJvci5lbWFpbFwiPlxyXG4gICAgICAgICAgICAgICAgICAgTm90IHZhbGlkIGVtYWlsITwvc3Bhbj5cclxuICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgIDx0dD50ZXh0ID0ge3tlbWFpbC50ZXh0fX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJHZhbGlkID0ge3tteUZvcm0uaW5wdXQuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICAgIDx0dD5teUZvcm0uaW5wdXQuJGVycm9yID0ge3tteUZvcm0uaW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICAgIDx0dD5teUZvcm0uJHZhbGlkID0ge3tteUZvcm0uJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICAgIDx0dD5teUZvcm0uJGVycm9yLnJlcXVpcmVkID0ge3shIW15Rm9ybS4kZXJyb3IucmVxdWlyZWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IuZW1haWwgPSB7eyEhbXlGb3JtLiRlcnJvci5lbWFpbH19PC90dD48YnIvPlxyXG4gICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgIDwvZmlsZT5cclxuICAgICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgICAgdmFyIHRleHQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2VtYWlsLnRleHQnKSk7XHJcbiAgICAgICAgICAgIHZhciB2YWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmlucHV0LiR2YWxpZCcpKTtcclxuICAgICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5tb2RlbCgnZW1haWwudGV4dCcpKTtcclxuICAgICAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBleHBlY3QodGV4dC5nZXRUZXh0KCkpLnRvQ29udGFpbignbWVAZXhhbXBsZS5jb20nKTtcclxuICAgICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgaW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnJyk7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KHRleHQuZ2V0VGV4dCgpKS50b0VxdWFsKCd0ZXh0ID0nKTtcclxuICAgICAgICAgICAgICBleHBlY3QodmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBub3QgZW1haWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBpbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCd4eHgnKTtcclxuICAgICAgICAgICAgICAgIGV4cGVjdCh2YWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPC9leGFtcGxlPlxyXG4gICAgICovXHJcbiAgICAnZW1haWwnOiBlbWFpbElucHV0VHlwZSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAgICogQG5hbWUgaW5wdXRbcmFkaW9dXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBIVE1MIHJhZGlvIGJ1dHRvbi5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBgbmdNb2RlbGAgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXHJcbiAgICAgKiAgICBOb3RlIHRoYXQgYHZhbHVlYCBvbmx5IHN1cHBvcnRzIGBzdHJpbmdgIHZhbHVlcywgaS5lLiB0aGUgc2NvcGUgbW9kZWwgbmVlZHMgdG8gYmUgYSBzdHJpbmcsXHJcbiAgICAgKiAgICB0b28uIFVzZSBgbmdWYWx1ZWAgaWYgeW91IG5lZWQgY29tcGxleCBtb2RlbHMgKGBudW1iZXJgLCBgb2JqZWN0YCwgLi4uKS5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdDaGFuZ2UgQW5ndWxhciBleHByZXNzaW9uIHRvIGJlIGV4ZWN1dGVkIHdoZW4gaW5wdXQgY2hhbmdlcyBkdWUgdG8gdXNlclxyXG4gICAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ1ZhbHVlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byB3aGljaCBgbmdNb2RlbGAgd2lsbCBiZSBiZSBzZXQgd2hlbiB0aGUgcmFkaW9cclxuICAgICAqICAgIGlzIHNlbGVjdGVkLiBTaG91bGQgYmUgdXNlZCBpbnN0ZWFkIG9mIHRoZSBgdmFsdWVgIGF0dHJpYnV0ZSBpZiB5b3UgbmVlZFxyXG4gICAgICogICAgYSBub24tc3RyaW5nIGBuZ01vZGVsYCAoYGJvb2xlYW5gLCBgYXJyYXlgLCAuLi4pLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgPGV4YW1wbGUgbmFtZT1cInJhZGlvLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInJhZGlvRXhhbXBsZVwiPlxyXG4gICAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ3JhZGlvRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICRzY29wZS5jb2xvciA9IHtcclxuICAgICAgICAgICAgICAgICAgIG5hbWU6ICdibHVlJ1xyXG4gICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgJHNjb3BlLnNwZWNpYWxWYWx1ZSA9IHtcclxuICAgICAgICAgICAgICAgICAgIFwiaWRcIjogXCIxMjM0NVwiLFxyXG4gICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiBcImdyZWVuXCJcclxuICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgdmFsdWU9XCJyZWRcIj5cclxuICAgICAgICAgICAgICAgUmVkXHJcbiAgICAgICAgICAgICA8L2xhYmVsPjxici8+XHJcbiAgICAgICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIiBuZy12YWx1ZT1cInNwZWNpYWxWYWx1ZVwiPlxyXG4gICAgICAgICAgICAgICBHcmVlblxyXG4gICAgICAgICAgICAgPC9sYWJlbD48YnIvPlxyXG4gICAgICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmctbW9kZWw9XCJjb2xvci5uYW1lXCIgdmFsdWU9XCJibHVlXCI+XHJcbiAgICAgICAgICAgICAgIEJsdWVcclxuICAgICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgICAgIDx0dD5jb2xvciA9IHt7Y29sb3IubmFtZSB8IGpzb259fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgICBOb3RlIHRoYXQgYG5nLXZhbHVlPVwic3BlY2lhbFZhbHVlXCJgIHNldHMgcmFkaW8gaXRlbSdzIHZhbHVlIHRvIGJlIHRoZSB2YWx1ZSBvZiBgJHNjb3BlLnNwZWNpYWxWYWx1ZWAuXHJcbiAgICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHN0YXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGlucHV0cyA9IGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdjb2xvci5uYW1lJykpO1xyXG4gICAgICAgICAgICAgIHZhciBjb2xvciA9IGVsZW1lbnQoYnkuYmluZGluZygnY29sb3IubmFtZScpKTtcclxuICAgICAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbignYmx1ZScpO1xyXG4gICAgICAgICAgICAgICAgaW5wdXRzLmdldCgwKS5jbGljaygpO1xyXG4gICAgICAgICAgICAgIGV4cGVjdChjb2xvci5nZXRUZXh0KCkpLnRvQ29udGFpbigncmVkJyk7XHJcbiAgICAgICAgICAgICAgICBpbnB1dHMuZ2V0KDEpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KGNvbG9yLmdldFRleHQoKSkudG9Db250YWluKCdncmVlbicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8L2V4YW1wbGU+XHJcbiAgICAgKi9cclxuICAgICdyYWRpbyc6IHJhZGlvSW5wdXRUeXBlLFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIGlucHV0XHJcbiAgICAgKiBAbmFtZSBpbnB1dFtyYW5nZV1cclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIE5hdGl2ZSByYW5nZSBpbnB1dCB3aXRoIHZhbGlkYXRpb24gYW5kIHRyYW5zZm9ybWF0aW9uLlxyXG4gICAgICpcclxuICAgICAqIFRoZSBtb2RlbCBmb3IgdGhlIHJhbmdlIGlucHV0IG11c3QgYWx3YXlzIGJlIGEgYE51bWJlcmAuXHJcbiAgICAgKlxyXG4gICAgICogSUU5IGFuZCBvdGhlciBicm93c2VycyB0aGF0IGRvIG5vdCBzdXBwb3J0IHRoZSBgcmFuZ2VgIHR5cGUgZmFsbCBiYWNrXHJcbiAgICAgKiB0byBhIHRleHQgaW5wdXQgd2l0aG91dCBhbnkgZGVmYXVsdCB2YWx1ZXMgZm9yIGBtaW5gLCBgbWF4YCBhbmQgYHN0ZXBgLiBNb2RlbCBiaW5kaW5nLFxyXG4gICAgICogdmFsaWRhdGlvbiBhbmQgbnVtYmVyIHBhcnNpbmcgYXJlIG5ldmVydGhlbGVzcyBzdXBwb3J0ZWQuXHJcbiAgICAgKlxyXG4gICAgICogQnJvd3NlcnMgdGhhdCBzdXBwb3J0IHJhbmdlIChsYXRlc3QgQ2hyb21lLCBTYWZhcmksIEZpcmVmb3gsIEVkZ2UpIHRyZWF0IGBpbnB1dFtyYW5nZV1gXHJcbiAgICAgKiBpbiBhIHdheSB0aGF0IG5ldmVyIGFsbG93cyB0aGUgaW5wdXQgdG8gaG9sZCBhbiBpbnZhbGlkIHZhbHVlLiBUaGF0IG1lYW5zOlxyXG4gICAgICogLSBhbnkgbm9uLW51bWVyaWNhbCB2YWx1ZSBpcyBzZXQgdG8gYChtYXggKyBtaW4pIC8gMmAuXHJcbiAgICAgKiAtIGFueSBudW1lcmljYWwgdmFsdWUgdGhhdCBpcyBsZXNzIHRoYW4gdGhlIGN1cnJlbnQgbWluIHZhbCwgb3IgZ3JlYXRlciB0aGFuIHRoZSBjdXJyZW50IG1heCB2YWxcclxuICAgICAqIGlzIHNldCB0byB0aGUgbWluIC8gbWF4IHZhbCByZXNwZWN0aXZlbHkuXHJcbiAgICAgKiAtIGFkZGl0aW9uYWxseSwgdGhlIGN1cnJlbnQgYHN0ZXBgIGlzIHJlc3BlY3RlZCwgc28gdGhlIG5lYXJlc3QgdmFsdWUgdGhhdCBzYXRpc2ZpZXMgYSBzdGVwXHJcbiAgICAgKiBpcyB1c2VkLlxyXG4gICAgICpcclxuICAgICAqIFNlZSB0aGUgW0hUTUwgU3BlYyBvbiBpbnB1dFt0eXBlPXJhbmdlXV0oaHR0cHM6Ly93d3cudzMub3JnL1RSL2h0bWw1L2Zvcm1zLmh0bWwjcmFuZ2Utc3RhdGUtKHR5cGU9cmFuZ2UpKVxyXG4gICAgICogZm9yIG1vcmUgaW5mby5cclxuICAgICAqXHJcbiAgICAgKiBUaGlzIGhhcyB0aGUgZm9sbG93aW5nIGNvbnNlcXVlbmNlcyBmb3IgQW5ndWxhcjpcclxuICAgICAqXHJcbiAgICAgKiBTaW5jZSB0aGUgZWxlbWVudCB2YWx1ZSBzaG91bGQgYWx3YXlzIHJlZmxlY3QgdGhlIGN1cnJlbnQgbW9kZWwgdmFsdWUsIGEgcmFuZ2UgaW5wdXRcclxuICAgICAqIHdpbGwgc2V0IHRoZSBib3VuZCBuZ01vZGVsIGV4cHJlc3Npb24gdG8gdGhlIHZhbHVlIHRoYXQgdGhlIGJyb3dzZXIgaGFzIHNldCBmb3IgdGhlXHJcbiAgICAgKiBpbnB1dCBlbGVtZW50LiBGb3IgZXhhbXBsZSwgaW4gdGhlIGZvbGxvd2luZyBpbnB1dCBgPGlucHV0IHR5cGU9XCJyYW5nZVwiIG5nLW1vZGVsPVwibW9kZWwudmFsdWVcIj5gLFxyXG4gICAgICogaWYgdGhlIGFwcGxpY2F0aW9uIHNldHMgYG1vZGVsLnZhbHVlID0gbnVsbGAsIHRoZSBicm93c2VyIHdpbGwgc2V0IHRoZSBpbnB1dCB0byBgJzUwJ2AuXHJcbiAgICAgKiBBbmd1bGFyIHdpbGwgdGhlbiBzZXQgdGhlIG1vZGVsIHRvIGA1MGAsIHRvIHByZXZlbnQgaW5wdXQgYW5kIG1vZGVsIHZhbHVlIGJlaW5nIG91dCBvZiBzeW5jLlxyXG4gICAgICpcclxuICAgICAqIFRoYXQgbWVhbnMgdGhlIG1vZGVsIGZvciByYW5nZSB3aWxsIGltbWVkaWF0ZWx5IGJlIHNldCB0byBgNTBgIGFmdGVyIGBuZ01vZGVsYCBoYXMgYmVlblxyXG4gICAgICogaW5pdGlhbGl6ZWQuIEl0IGFsc28gbWVhbnMgYSByYW5nZSBpbnB1dCBjYW4gbmV2ZXIgaGF2ZSB0aGUgcmVxdWlyZWQgZXJyb3IuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBkb2VzIG5vdCBvbmx5IGFmZmVjdCBjaGFuZ2VzIHRvIHRoZSBtb2RlbCB2YWx1ZSwgYnV0IGFsc28gdG8gdGhlIHZhbHVlcyBvZiB0aGUgYG1pbmAsXHJcbiAgICAgKiBgbWF4YCwgYW5kIGBzdGVwYCBhdHRyaWJ1dGVzLiBXaGVuIHRoZXNlIGNoYW5nZSBpbiBhIHdheSB0aGF0IHdpbGwgY2F1c2UgdGhlIGJyb3dzZXIgdG8gbW9kaWZ5XHJcbiAgICAgKiB0aGUgaW5wdXQgdmFsdWUsIEFuZ3VsYXIgd2lsbCBhbHNvIHVwZGF0ZSB0aGUgbW9kZWwgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogQXV0b21hdGljIHZhbHVlIGFkanVzdG1lbnQgYWxzbyBtZWFucyB0aGF0IGEgcmFuZ2UgaW5wdXQgZWxlbWVudCBjYW4gbmV2ZXIgaGF2ZSB0aGUgYHJlcXVpcmVkYCxcclxuICAgICAqIGBtaW5gLCBvciBgbWF4YCBlcnJvcnMuXHJcbiAgICAgKlxyXG4gICAgICogSG93ZXZlciwgYHN0ZXBgIGlzIGN1cnJlbnRseSBvbmx5IGZ1bGx5IGltcGxlbWVudGVkIGJ5IEZpcmVmb3guIE90aGVyIGJyb3dzZXJzIGhhdmUgcHJvYmxlbXNcclxuICAgICAqIHdoZW4gdGhlIHN0ZXAgdmFsdWUgY2hhbmdlcyBkeW5hbWljYWxseSAtIHRoZXkgZG8gbm90IGFkanVzdCB0aGUgZWxlbWVudCB2YWx1ZSBjb3JyZWN0bHksIGJ1dFxyXG4gICAgICogaW5zdGVhZCBtYXkgc2V0IHRoZSBgc3RlcE1pc21hdGNoYCBlcnJvci4gSWYgdGhhdCdzIHRoZSBjYXNlLCB0aGUgQW5ndWxhciB3aWxsIHNldCB0aGUgYHN0ZXBgXHJcbiAgICAgKiBlcnJvciBvbiB0aGUgaW5wdXQsIGFuZCBzZXQgdGhlIG1vZGVsIHRvIGB1bmRlZmluZWRgLlxyXG4gICAgICpcclxuICAgICAqIE5vdGUgdGhhdCBgaW5wdXRbcmFuZ2VdYCBpcyBub3QgY29tcGF0aWJsZSB3aXRoYG5nTWF4YCwgYG5nTWluYCwgYW5kIGBuZ1N0ZXBgLCBiZWNhdXNlIHRoZXkgZG9cclxuICAgICAqIG5vdCBzZXQgdGhlIGBtaW5gIGFuZCBgbWF4YCBhdHRyaWJ1dGVzLCB3aGljaCBtZWFucyB0aGF0IHRoZSBicm93c2VyIHdvbid0IGF1dG9tYXRpY2FsbHkgYWRqdXN0XHJcbiAgICAgKiB0aGUgaW5wdXQgdmFsdWUgYmFzZWQgb24gdGhlaXIgdmFsdWVzLCBhbmQgd2lsbCBhbHdheXMgYXNzdW1lIG1pbiA9IDAsIG1heCA9IDEwMCwgYW5kIHN0ZXAgPSAxLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAgbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG1pbiBTZXRzIHRoZSBgbWluYCB2YWxpZGF0aW9uIHRvIGVuc3VyZSB0aGF0IHRoZSB2YWx1ZSBlbnRlcmVkIGlzIGdyZWF0ZXJcclxuICAgICAqICAgICAgICAgICAgICAgICAgdGhhbiBgbWluYC4gQ2FuIGJlIGludGVycG9sYXRlZC5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbWF4IFNldHMgdGhlIGBtYXhgIHZhbGlkYXRpb24gdG8gZW5zdXJlIHRoYXQgdGhlIHZhbHVlIGVudGVyZWQgaXMgbGVzcyB0aGFuIGBtYXhgLlxyXG4gICAgICogICAgICAgICAgICAgICAgICBDYW4gYmUgaW50ZXJwb2xhdGVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBzdGVwIFNldHMgdGhlIGBzdGVwYCB2YWxpZGF0aW9uIHRvIGVuc3VyZSB0aGF0IHRoZSB2YWx1ZSBlbnRlcmVkIG1hdGNoZXMgdGhlIGBzdGVwYFxyXG4gICAgICogICAgICAgICAgICAgICAgICBDYW4gYmUgaW50ZXJwb2xhdGVkLlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiB0aGUgbmdNb2RlbCB2YWx1ZSBjaGFuZ2VzIGR1ZVxyXG4gICAgICogICAgICAgICAgICAgICAgICB0byB1c2VyIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ0NoZWNrZWQgSWYgdGhlIGV4cHJlc3Npb24gaXMgdHJ1dGh5LCB0aGVuIHRoZSBgY2hlY2tlZGAgYXR0cmlidXRlIHdpbGwgYmUgc2V0IG9uIHRoZVxyXG4gICAgICogICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC4gKipOb3RlKiogOiBgbmdDaGVja2VkYCBzaG91bGQgbm90IGJlIHVzZWQgYWxvbmdzaWRlIGBuZ01vZGVsYC5cclxuICAgICAqICAgICAgICAgICAgICAgICAgICAgIENoZWNrb3V0IHtAbGluayBuZy5kaXJlY3RpdmU6bmdDaGVja2VkIG5nQ2hlY2tlZH0gZm9yIHVzYWdlLlxyXG4gICAgICpcclxuICAgICAqIEBleGFtcGxlXHJcbiAgICAgICAgPGV4YW1wbGUgbmFtZT1cInJhbmdlLWlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cInJhbmdlRXhhbXBsZVwiPlxyXG4gICAgICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncmFuZ2VFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUudmFsdWUgPSA3NTtcclxuICAgICAgICAgICAgICAgICAgJHNjb3BlLm1pbiA9IDEwO1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubWF4ID0gOTA7XHJcbiAgICAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICAgICA8Zm9ybSBuYW1lPVwibXlGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgICAgICBNb2RlbCBhcyByYW5nZTogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG5hbWU9XCJyYW5nZVwiIG5nLW1vZGVsPVwidmFsdWVcIiBtaW49XCJ7e21pbn19XCIgIG1heD1cInt7bWF4fX1cIj5cclxuICAgICAgICAgICAgICA8aHI+XHJcbiAgICAgICAgICAgICAgTW9kZWwgYXMgbnVtYmVyOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwidmFsdWVcIj48YnI+XHJcbiAgICAgICAgICAgICAgTWluOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWluXCI+PGJyPlxyXG4gICAgICAgICAgICAgIE1heDogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1heFwiPjxicj5cclxuICAgICAgICAgICAgICB2YWx1ZSA9IDxjb2RlPnt7dmFsdWV9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgICAgIG15Rm9ybS5yYW5nZS4kdmFsaWQgPSA8Y29kZT57e215Rm9ybS5yYW5nZS4kdmFsaWR9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgICAgIG15Rm9ybS5yYW5nZS4kZXJyb3IgPSA8Y29kZT57e215Rm9ybS5yYW5nZS4kZXJyb3J9fTwvY29kZT5cclxuICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDwvZXhhbXBsZT5cclxuICAgICAgICogIyMgUmFuZ2UgSW5wdXQgd2l0aCBuZ01pbiAmIG5nTWF4IGF0dHJpYnV0ZXNcclxuICAgICAgICogQGV4YW1wbGVcclxuICAgICAgICA8ZXhhbXBsZSBuYW1lPVwicmFuZ2UtaW5wdXQtZGlyZWN0aXZlLW5nXCIgbW9kdWxlPVwicmFuZ2VFeGFtcGxlXCI+XHJcbiAgICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdyYW5nZUV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS52YWx1ZSA9IDc1O1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubWluID0gMTA7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS5tYXggPSA5MDtcclxuICAgICAgICAgICAgICAgIH1dKTtcclxuICAgICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICAgICBNb2RlbCBhcyByYW5nZTogPGlucHV0IHR5cGU9XCJyYW5nZVwiIG5hbWU9XCJyYW5nZVwiIG5nLW1vZGVsPVwidmFsdWVcIiBuZy1taW49XCJtaW5cIiBuZy1tYXg9XCJtYXhcIj5cclxuICAgICAgICAgICAgICA8aHI+XHJcbiAgICAgICAgICAgICAgTW9kZWwgYXMgbnVtYmVyOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwidmFsdWVcIj48YnI+XHJcbiAgICAgICAgICAgICAgTWluOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibWluXCI+PGJyPlxyXG4gICAgICAgICAgICAgIE1heDogPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1heFwiPjxicj5cclxuICAgICAgICAgICAgICB2YWx1ZSA9IDxjb2RlPnt7dmFsdWV9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgICAgIG15Rm9ybS5yYW5nZS4kdmFsaWQgPSA8Y29kZT57e215Rm9ybS5yYW5nZS4kdmFsaWR9fTwvY29kZT48YnIvPlxyXG4gICAgICAgICAgICAgIG15Rm9ybS5yYW5nZS4kZXJyb3IgPSA8Y29kZT57e215Rm9ybS5yYW5nZS4kZXJyb3J9fTwvY29kZT5cclxuICAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDwvZXhhbXBsZT5cclxuICAgICAgICovXHJcbiAgICAncmFuZ2UnOiByYW5nZUlucHV0VHlwZSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBpbnB1dFxyXG4gICAgICogQG5hbWUgaW5wdXRbY2hlY2tib3hdXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBIVE1MIGNoZWNrYm94LlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgICAqIEBwYXJhbSB7ZXhwcmVzc2lvbj19IG5nVHJ1ZVZhbHVlIFRoZSB2YWx1ZSB0byB3aGljaCB0aGUgZXhwcmVzc2lvbiBzaG91bGQgYmUgc2V0IHdoZW4gc2VsZWN0ZWQuXHJcbiAgICAgKiBAcGFyYW0ge2V4cHJlc3Npb249fSBuZ0ZhbHNlVmFsdWUgVGhlIHZhbHVlIHRvIHdoaWNoIHRoZSBleHByZXNzaW9uIHNob3VsZCBiZSBzZXQgd2hlbiBub3Qgc2VsZWN0ZWQuXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgICAqICAgIGludGVyYWN0aW9uIHdpdGggdGhlIGlucHV0IGVsZW1lbnQuXHJcbiAgICAgKlxyXG4gICAgICogQGV4YW1wbGVcclxuICAgICAgICA8ZXhhbXBsZSBuYW1lPVwiY2hlY2tib3gtaW5wdXQtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hlY2tib3hFeGFtcGxlXCI+XHJcbiAgICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hlY2tib3hFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAgJHNjb3BlLmNoZWNrYm94TW9kZWwgPSB7XHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlMSA6IHRydWUsXHJcbiAgICAgICAgICAgICAgICAgIHZhbHVlMiA6ICdZRVMnXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgICAgPGxhYmVsPlZhbHVlMTpcclxuICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tib3hNb2RlbC52YWx1ZTFcIj5cclxuICAgICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgICAgIDxsYWJlbD5WYWx1ZTI6XHJcbiAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrYm94TW9kZWwudmFsdWUyXCJcclxuICAgICAgICAgICAgICAgICAgICAgIG5nLXRydWUtdmFsdWU9XCInWUVTJ1wiIG5nLWZhbHNlLXZhbHVlPVwiJ05PJ1wiPlxyXG4gICAgICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICAgICAgICAgICAgIDx0dD52YWx1ZTEgPSB7e2NoZWNrYm94TW9kZWwudmFsdWUxfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgICA8dHQ+dmFsdWUyID0ge3tjaGVja2JveE1vZGVsLnZhbHVlMn19PC90dD48YnIvPlxyXG4gICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHN0YXRlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgdmFyIHZhbHVlMSA9IGVsZW1lbnQoYnkuYmluZGluZygnY2hlY2tib3hNb2RlbC52YWx1ZTEnKSk7XHJcbiAgICAgICAgICAgICAgdmFyIHZhbHVlMiA9IGVsZW1lbnQoYnkuYmluZGluZygnY2hlY2tib3hNb2RlbC52YWx1ZTInKSk7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KHZhbHVlMi5nZXRUZXh0KCkpLnRvQ29udGFpbignWUVTJyk7XHJcbiAgICAgICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2JveE1vZGVsLnZhbHVlMScpKS5jbGljaygpO1xyXG4gICAgICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrYm94TW9kZWwudmFsdWUyJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgICBleHBlY3QodmFsdWUxLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgICAgIGV4cGVjdCh2YWx1ZTIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ05PJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDwvZXhhbXBsZT5cclxuICAgICAqL1xyXG4gICAgJ2NoZWNrYm94JzogY2hlY2tib3hJbnB1dFR5cGUsXHJcblxyXG4gICAgJ2hpZGRlbic6IG5vb3AsXHJcbiAgICAnYnV0dG9uJzogbm9vcCxcclxuICAgICdzdWJtaXQnOiBub29wLFxyXG4gICAgJ3Jlc2V0Jzogbm9vcCxcclxuICAgICdmaWxlJzogbm9vcFxyXG4gIH07XHJcblxyXG4gIGZ1bmN0aW9uIHN0cmluZ0Jhc2VkSW5wdXRUeXBlKGN0cmwpIHtcclxuICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpID8gdmFsdWUgOiB2YWx1ZS50b1N0cmluZygpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiB0ZXh0SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcclxuICAgIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XHJcbiAgICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xyXG4gICAgdmFyIHR5cGUgPSBsb3dlcmNhc2UoZWxlbWVudFswXS50eXBlKTtcclxuXHJcbiAgICAvLyBJbiBjb21wb3NpdGlvbiBtb2RlLCB1c2VycyBhcmUgc3RpbGwgaW5wdXR0aW5nIGludGVybWVkaWF0ZSB0ZXh0IGJ1ZmZlcixcclxuICAgIC8vIGhvbGQgdGhlIGxpc3RlbmVyIHVudGlsIGNvbXBvc2l0aW9uIGlzIGRvbmUuXHJcbiAgICAvLyBNb3JlIGFib3V0IGNvbXBvc2l0aW9uIGV2ZW50czogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0NvbXBvc2l0aW9uRXZlbnRcclxuICAgIGlmICghJHNuaWZmZXIuYW5kcm9pZCkge1xyXG4gICAgICB2YXIgY29tcG9zaW5nID0gZmFsc2U7XHJcblxyXG4gICAgICBlbGVtZW50Lm9uKCdjb21wb3NpdGlvbnN0YXJ0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbXBvc2luZyA9IHRydWU7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZWxlbWVudC5vbignY29tcG9zaXRpb25lbmQnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29tcG9zaW5nID0gZmFsc2U7XHJcbiAgICAgICAgbGlzdGVuZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRpbWVvdXQ7XHJcblxyXG4gICAgdmFyIGxpc3RlbmVyID0gZnVuY3Rpb24gbGlzdGVuZXIoZXYpIHtcclxuICAgICAgaWYgKHRpbWVvdXQpIHtcclxuICAgICAgICAkYnJvd3Nlci5kZWZlci5jYW5jZWwodGltZW91dCk7XHJcbiAgICAgICAgdGltZW91dCA9IG51bGw7XHJcbiAgICAgIH1cclxuICAgICAgaWYgKGNvbXBvc2luZykgcmV0dXJuO1xyXG4gICAgICB2YXIgdmFsdWUgPSBlbGVtZW50LnZhbCgpLFxyXG4gICAgICAgICAgZXZlbnQgPSBldiAmJiBldi50eXBlO1xyXG5cclxuICAgICAgLy8gQnkgZGVmYXVsdCB3ZSB3aWxsIHRyaW0gdGhlIHZhbHVlXHJcbiAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgbmctdHJpbSBleGlzdHMgd2Ugd2lsbCBhdm9pZCB0cmltbWluZ1xyXG4gICAgICAvLyBJZiBpbnB1dCB0eXBlIGlzICdwYXNzd29yZCcsIHRoZSB2YWx1ZSBpcyBuZXZlciB0cmltbWVkXHJcbiAgICAgIGlmICh0eXBlICE9PSAncGFzc3dvcmQnICYmICghYXR0ci5uZ1RyaW0gfHwgYXR0ci5uZ1RyaW0gIT09ICdmYWxzZScpKSB7XHJcbiAgICAgICAgdmFsdWUgPSB0cmltKHZhbHVlKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gSWYgYSBjb250cm9sIGlzIHN1ZmZlcmluZyBmcm9tIGJhZCBpbnB1dCAoZHVlIHRvIG5hdGl2ZSB2YWxpZGF0b3JzKSwgYnJvd3NlcnMgZGlzY2FyZCBpdHNcclxuICAgICAgLy8gdmFsdWUsIHNvIGl0IG1heSBiZSBuZWNlc3NhcnkgdG8gcmV2YWxpZGF0ZSAoYnkgY2FsbGluZyAkc2V0Vmlld1ZhbHVlIGFnYWluKSBldmVuIGlmIHRoZVxyXG4gICAgICAvLyBjb250cm9sJ3MgdmFsdWUgaXMgdGhlIHNhbWUgZW1wdHkgdmFsdWUgdHdpY2UgaW4gYSByb3cuXHJcbiAgICAgIGlmIChjdHJsLiR2aWV3VmFsdWUgIT09IHZhbHVlIHx8IHZhbHVlID09PSAnJyAmJiBjdHJsLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykge1xyXG4gICAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZSh2YWx1ZSwgZXZlbnQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGlmIHRoZSBicm93c2VyIGRvZXMgc3VwcG9ydCBcImlucHV0XCIgZXZlbnQsIHdlIGFyZSBmaW5lIC0gZXhjZXB0IG9uIElFOSB3aGljaCBkb2Vzbid0IGZpcmUgdGhlXHJcbiAgICAvLyBpbnB1dCBldmVudCBvbiBiYWNrc3BhY2UsIGRlbGV0ZSBvciBjdXRcclxuICAgIGlmICgkc25pZmZlci5oYXNFdmVudCgnaW5wdXQnKSkge1xyXG4gICAgICBlbGVtZW50Lm9uKCdpbnB1dCcsIGxpc3RlbmVyKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHZhciBkZWZlckxpc3RlbmVyID0gZnVuY3Rpb24gZGVmZXJMaXN0ZW5lcihldiwgaW5wdXQsIG9yaWdWYWx1ZSkge1xyXG4gICAgICAgIGlmICghdGltZW91dCkge1xyXG4gICAgICAgICAgdGltZW91dCA9ICRicm93c2VyLmRlZmVyKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGltZW91dCA9IG51bGw7XHJcbiAgICAgICAgICAgIGlmICghaW5wdXQgfHwgaW5wdXQudmFsdWUgIT09IG9yaWdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgIGxpc3RlbmVyKGV2KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgZWxlbWVudC5vbigna2V5ZG93bicsIC8qKiBAdGhpcyAqL2Z1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHZhciBrZXkgPSBldmVudC5rZXlDb2RlO1xyXG5cclxuICAgICAgICAvLyBpZ25vcmVcclxuICAgICAgICAvLyAgICBjb21tYW5kICAgICAgICAgICAgbW9kaWZpZXJzICAgICAgICAgICAgICAgICAgIGFycm93c1xyXG4gICAgICAgIGlmIChrZXkgPT09IDkxIHx8IDE1IDwga2V5ICYmIGtleSA8IDE5IHx8IDM3IDw9IGtleSAmJiBrZXkgPD0gNDApIHJldHVybjtcclxuXHJcbiAgICAgICAgZGVmZXJMaXN0ZW5lcihldmVudCwgdGhpcywgdGhpcy52YWx1ZSk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgLy8gaWYgdXNlciBtb2RpZmllcyBpbnB1dCB2YWx1ZSB1c2luZyBjb250ZXh0IG1lbnUgaW4gSUUsIHdlIG5lZWQgXCJwYXN0ZVwiIGFuZCBcImN1dFwiIGV2ZW50cyB0byBjYXRjaCBpdFxyXG4gICAgICBpZiAoJHNuaWZmZXIuaGFzRXZlbnQoJ3Bhc3RlJykpIHtcclxuICAgICAgICBlbGVtZW50Lm9uKCdwYXN0ZSBjdXQnLCBkZWZlckxpc3RlbmVyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIGlmIHVzZXIgcGFzdGUgaW50byBpbnB1dCB1c2luZyBtb3VzZSBvbiBvbGRlciBicm93c2VyXHJcbiAgICAvLyBvciBmb3JtIGF1dG9jb21wbGV0ZSBvbiBuZXdlciBicm93c2VyLCB3ZSBuZWVkIFwiY2hhbmdlXCIgZXZlbnQgdG8gY2F0Y2ggaXRcclxuICAgIGVsZW1lbnQub24oJ2NoYW5nZScsIGxpc3RlbmVyKTtcclxuXHJcbiAgICAvLyBTb21lIG5hdGl2ZSBpbnB1dCB0eXBlcyAoZGF0ZS1mYW1pbHkpIGhhdmUgdGhlIGFiaWxpdHkgdG8gY2hhbmdlIHZhbGlkaXR5IHdpdGhvdXRcclxuICAgIC8vIGZpcmluZyBhbnkgaW5wdXQvY2hhbmdlIGV2ZW50cy5cclxuICAgIC8vIEZvciB0aGVzZSBldmVudCB0eXBlcywgd2hlbiBuYXRpdmUgdmFsaWRhdG9ycyBhcmUgcHJlc2VudCBhbmQgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIHR5cGUsXHJcbiAgICAvLyBjaGVjayBmb3IgdmFsaWRpdHkgY2hhbmdlcyBvbiB2YXJpb3VzIERPTSBldmVudHMuXHJcbiAgICBpZiAoUEFSVElBTF9WQUxJREFUSU9OX1RZUEVTW3R5cGVdICYmIGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzICYmIHR5cGUgPT09IGF0dHIudHlwZSkge1xyXG4gICAgICBlbGVtZW50Lm9uKFBBUlRJQUxfVkFMSURBVElPTl9FVkVOVFMsIC8qKiBAdGhpcyAqL2Z1bmN0aW9uIChldikge1xyXG4gICAgICAgIGlmICghdGltZW91dCkge1xyXG4gICAgICAgICAgdmFyIHZhbGlkaXR5ID0gdGhpc1tWQUxJRElUWV9TVEFURV9QUk9QRVJUWV07XHJcbiAgICAgICAgICB2YXIgb3JpZ0JhZElucHV0ID0gdmFsaWRpdHkuYmFkSW5wdXQ7XHJcbiAgICAgICAgICB2YXIgb3JpZ1R5cGVNaXNtYXRjaCA9IHZhbGlkaXR5LnR5cGVNaXNtYXRjaDtcclxuICAgICAgICAgIHRpbWVvdXQgPSAkYnJvd3Nlci5kZWZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRpbWVvdXQgPSBudWxsO1xyXG4gICAgICAgICAgICBpZiAodmFsaWRpdHkuYmFkSW5wdXQgIT09IG9yaWdCYWRJbnB1dCB8fCB2YWxpZGl0eS50eXBlTWlzbWF0Y2ggIT09IG9yaWdUeXBlTWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgICBsaXN0ZW5lcihldik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAvLyBXb3JrYXJvdW5kIGZvciBGaXJlZm94IHZhbGlkYXRpb24gIzEyMTAyLlxyXG4gICAgICB2YXIgdmFsdWUgPSBjdHJsLiRpc0VtcHR5KGN0cmwuJHZpZXdWYWx1ZSkgPyAnJyA6IGN0cmwuJHZpZXdWYWx1ZTtcclxuICAgICAgaWYgKGVsZW1lbnQudmFsKCkgIT09IHZhbHVlKSB7XHJcbiAgICAgICAgZWxlbWVudC52YWwodmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gd2Vla1BhcnNlcihpc29XZWVrLCBleGlzdGluZ0RhdGUpIHtcclxuICAgIGlmIChpc0RhdGUoaXNvV2VlaykpIHtcclxuICAgICAgcmV0dXJuIGlzb1dlZWs7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGlzU3RyaW5nKGlzb1dlZWspKSB7XHJcbiAgICAgIFdFRUtfUkVHRVhQLmxhc3RJbmRleCA9IDA7XHJcbiAgICAgIHZhciBwYXJ0cyA9IFdFRUtfUkVHRVhQLmV4ZWMoaXNvV2Vlayk7XHJcbiAgICAgIGlmIChwYXJ0cykge1xyXG4gICAgICAgIHZhciB5ZWFyID0gK3BhcnRzWzFdLFxyXG4gICAgICAgICAgICB3ZWVrID0gK3BhcnRzWzJdLFxyXG4gICAgICAgICAgICBob3VycyA9IDAsXHJcbiAgICAgICAgICAgIG1pbnV0ZXMgPSAwLFxyXG4gICAgICAgICAgICBzZWNvbmRzID0gMCxcclxuICAgICAgICAgICAgbWlsbGlzZWNvbmRzID0gMCxcclxuICAgICAgICAgICAgZmlyc3RUaHVycyA9IGdldEZpcnN0VGh1cnNkYXlPZlllYXIoeWVhciksXHJcbiAgICAgICAgICAgIGFkZERheXMgPSAod2VlayAtIDEpICogNztcclxuXHJcbiAgICAgICAgaWYgKGV4aXN0aW5nRGF0ZSkge1xyXG4gICAgICAgICAgaG91cnMgPSBleGlzdGluZ0RhdGUuZ2V0SG91cnMoKTtcclxuICAgICAgICAgIG1pbnV0ZXMgPSBleGlzdGluZ0RhdGUuZ2V0TWludXRlcygpO1xyXG4gICAgICAgICAgc2Vjb25kcyA9IGV4aXN0aW5nRGF0ZS5nZXRTZWNvbmRzKCk7XHJcbiAgICAgICAgICBtaWxsaXNlY29uZHMgPSBleGlzdGluZ0RhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgMCwgZmlyc3RUaHVycy5nZXREYXRlKCkgKyBhZGREYXlzLCBob3VycywgbWludXRlcywgc2Vjb25kcywgbWlsbGlzZWNvbmRzKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOYU47XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBjcmVhdGVEYXRlUGFyc2VyKHJlZ2V4cCwgbWFwcGluZykge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChpc28sIGRhdGUpIHtcclxuICAgICAgdmFyIHBhcnRzLCBtYXA7XHJcblxyXG4gICAgICBpZiAoaXNEYXRlKGlzbykpIHtcclxuICAgICAgICByZXR1cm4gaXNvO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNTdHJpbmcoaXNvKSkge1xyXG4gICAgICAgIC8vIFdoZW4gYSBkYXRlIGlzIEpTT04naWZpZWQgdG8gd3JhcHMgaXRzZWxmIGluc2lkZSBvZiBhbiBleHRyYVxyXG4gICAgICAgIC8vIHNldCBvZiBkb3VibGUgcXVvdGVzLiBUaGlzIG1ha2VzIHRoZSBkYXRlIHBhcnNpbmcgY29kZSB1bmFibGVcclxuICAgICAgICAvLyB0byBtYXRjaCB0aGUgZGF0ZSBzdHJpbmcgYW5kIHBhcnNlIGl0IGFzIGEgZGF0ZS5cclxuICAgICAgICBpZiAoaXNvLmNoYXJBdCgwKSA9PT0gJ1wiJyAmJiBpc28uY2hhckF0KGlzby5sZW5ndGggLSAxKSA9PT0gJ1wiJykge1xyXG4gICAgICAgICAgaXNvID0gaXNvLnN1YnN0cmluZygxLCBpc28ubGVuZ3RoIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChJU09fREFURV9SRUdFWFAudGVzdChpc28pKSB7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IERhdGUoaXNvKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVnZXhwLmxhc3RJbmRleCA9IDA7XHJcbiAgICAgICAgcGFydHMgPSByZWdleHAuZXhlYyhpc28pO1xyXG5cclxuICAgICAgICBpZiAocGFydHMpIHtcclxuICAgICAgICAgIHBhcnRzLnNoaWZ0KCk7XHJcbiAgICAgICAgICBpZiAoZGF0ZSkge1xyXG4gICAgICAgICAgICBtYXAgPSB7XHJcbiAgICAgICAgICAgICAgeXl5eTogZGF0ZS5nZXRGdWxsWWVhcigpLFxyXG4gICAgICAgICAgICAgIE1NOiBkYXRlLmdldE1vbnRoKCkgKyAxLFxyXG4gICAgICAgICAgICAgIGRkOiBkYXRlLmdldERhdGUoKSxcclxuICAgICAgICAgICAgICBISDogZGF0ZS5nZXRIb3VycygpLFxyXG4gICAgICAgICAgICAgIG1tOiBkYXRlLmdldE1pbnV0ZXMoKSxcclxuICAgICAgICAgICAgICBzczogZGF0ZS5nZXRTZWNvbmRzKCksXHJcbiAgICAgICAgICAgICAgc3NzOiBkYXRlLmdldE1pbGxpc2Vjb25kcygpIC8gMTAwMFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWFwID0geyB5eXl5OiAxOTcwLCBNTTogMSwgZGQ6IDEsIEhIOiAwLCBtbTogMCwgc3M6IDAsIHNzczogMCB9O1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZvckVhY2gocGFydHMsIGZ1bmN0aW9uIChwYXJ0LCBpbmRleCkge1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPCBtYXBwaW5nLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIG1hcFttYXBwaW5nW2luZGV4XV0gPSArcGFydDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gbmV3IERhdGUobWFwLnl5eXksIG1hcC5NTSAtIDEsIG1hcC5kZCwgbWFwLkhILCBtYXAubW0sIG1hcC5zcyB8fCAwLCBtYXAuc3NzICogMTAwMCB8fCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBOYU47XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY3JlYXRlRGF0ZUlucHV0VHlwZSh0eXBlLCByZWdleHAsIHBhcnNlRGF0ZSwgZm9ybWF0KSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gZHluYW1pY0RhdGVJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3NlciwgJGZpbHRlcikge1xyXG4gICAgICBiYWRJbnB1dENoZWNrZXIoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwpO1xyXG4gICAgICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xyXG4gICAgICB2YXIgdGltZXpvbmUgPSBjdHJsICYmIGN0cmwuJG9wdGlvbnMuZ2V0T3B0aW9uKCd0aW1lem9uZScpO1xyXG4gICAgICB2YXIgcHJldmlvdXNEYXRlO1xyXG5cclxuICAgICAgY3RybC4kJHBhcnNlck5hbWUgPSB0eXBlO1xyXG4gICAgICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKGN0cmwuJGlzRW1wdHkodmFsdWUpKSByZXR1cm4gbnVsbDtcclxuICAgICAgICBpZiAocmVnZXhwLnRlc3QodmFsdWUpKSB7XHJcbiAgICAgICAgICAvLyBOb3RlOiBXZSBjYW5ub3QgcmVhZCBjdHJsLiRtb2RlbFZhbHVlLCBhcyB0aGVyZSBtaWdodCBiZSBhIGRpZmZlcmVudFxyXG4gICAgICAgICAgLy8gcGFyc2VyL2Zvcm1hdHRlciBpbiB0aGUgcHJvY2Vzc2luZyBjaGFpbiBzbyB0aGF0IHRoZSBtb2RlbFxyXG4gICAgICAgICAgLy8gY29udGFpbnMgc29tZSBkaWZmZXJlbnQgZGF0YSBmb3JtYXQhXHJcbiAgICAgICAgICB2YXIgcGFyc2VkRGF0ZSA9IHBhcnNlRGF0ZSh2YWx1ZSwgcHJldmlvdXNEYXRlKTtcclxuICAgICAgICAgIGlmICh0aW1lem9uZSkge1xyXG4gICAgICAgICAgICBwYXJzZWREYXRlID0gY29udmVydFRpbWV6b25lVG9Mb2NhbChwYXJzZWREYXRlLCB0aW1lem9uZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gcGFyc2VkRGF0ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgfSk7XHJcblxyXG4gICAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgaWYgKHZhbHVlICYmICFpc0RhdGUodmFsdWUpKSB7XHJcbiAgICAgICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdkYXRlZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgZGF0ZScsIHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzVmFsaWREYXRlKHZhbHVlKSkge1xyXG4gICAgICAgICAgcHJldmlvdXNEYXRlID0gdmFsdWU7XHJcbiAgICAgICAgICBpZiAocHJldmlvdXNEYXRlICYmIHRpbWV6b25lKSB7XHJcbiAgICAgICAgICAgIHByZXZpb3VzRGF0ZSA9IGNvbnZlcnRUaW1lem9uZVRvTG9jYWwocHJldmlvdXNEYXRlLCB0aW1lem9uZSwgdHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gJGZpbHRlcignZGF0ZScpKHZhbHVlLCBmb3JtYXQsIHRpbWV6b25lKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcHJldmlvdXNEYXRlID0gbnVsbDtcclxuICAgICAgICAgIHJldHVybiAnJztcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKGlzRGVmaW5lZChhdHRyLm1pbikgfHwgYXR0ci5uZ01pbikge1xyXG4gICAgICAgIHZhciBtaW5WYWw7XHJcbiAgICAgICAgY3RybC4kdmFsaWRhdG9ycy5taW4gPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiAhaXNWYWxpZERhdGUodmFsdWUpIHx8IGlzVW5kZWZpbmVkKG1pblZhbCkgfHwgcGFyc2VEYXRlKHZhbHVlKSA+PSBtaW5WYWw7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBhdHRyLiRvYnNlcnZlKCdtaW4nLCBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICBtaW5WYWwgPSBwYXJzZU9ic2VydmVkRGF0ZVZhbHVlKHZhbCk7XHJcbiAgICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWF4KSB8fCBhdHRyLm5nTWF4KSB7XHJcbiAgICAgICAgdmFyIG1heFZhbDtcclxuICAgICAgICBjdHJsLiR2YWxpZGF0b3JzLm1heCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuICFpc1ZhbGlkRGF0ZSh2YWx1ZSkgfHwgaXNVbmRlZmluZWQobWF4VmFsKSB8fCBwYXJzZURhdGUodmFsdWUpIDw9IG1heFZhbDtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGF0dHIuJG9ic2VydmUoJ21heCcsIGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgIG1heFZhbCA9IHBhcnNlT2JzZXJ2ZWREYXRlVmFsdWUodmFsKTtcclxuICAgICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGlzVmFsaWREYXRlKHZhbHVlKSB7XHJcbiAgICAgICAgLy8gSW52YWxpZCBEYXRlOiBnZXRUaW1lKCkgcmV0dXJucyBOYU5cclxuICAgICAgICByZXR1cm4gdmFsdWUgJiYgISh2YWx1ZS5nZXRUaW1lICYmIHZhbHVlLmdldFRpbWUoKSAhPT0gdmFsdWUuZ2V0VGltZSgpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gcGFyc2VPYnNlcnZlZERhdGVWYWx1ZSh2YWwpIHtcclxuICAgICAgICByZXR1cm4gaXNEZWZpbmVkKHZhbCkgJiYgIWlzRGF0ZSh2YWwpID8gcGFyc2VEYXRlKHZhbCkgfHwgdW5kZWZpbmVkIDogdmFsO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKSB7XHJcbiAgICB2YXIgbm9kZSA9IGVsZW1lbnRbMF07XHJcbiAgICB2YXIgbmF0aXZlVmFsaWRhdGlvbiA9IGN0cmwuJCRoYXNOYXRpdmVWYWxpZGF0b3JzID0gaXNPYmplY3Qobm9kZS52YWxpZGl0eSk7XHJcbiAgICBpZiAobmF0aXZlVmFsaWRhdGlvbikge1xyXG4gICAgICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgdmFyIHZhbGlkaXR5ID0gZWxlbWVudC5wcm9wKFZBTElESVRZX1NUQVRFX1BST1BFUlRZKSB8fCB7fTtcclxuICAgICAgICByZXR1cm4gdmFsaWRpdHkuYmFkSW5wdXQgfHwgdmFsaWRpdHkudHlwZU1pc21hdGNoID8gdW5kZWZpbmVkIDogdmFsdWU7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gbnVtYmVyRm9ybWF0dGVyUGFyc2VyKGN0cmwpIHtcclxuICAgIGN0cmwuJCRwYXJzZXJOYW1lID0gJ251bWJlcic7XHJcbiAgICBjdHJsLiRwYXJzZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIGlmIChjdHJsLiRpc0VtcHR5KHZhbHVlKSkgcmV0dXJuIG51bGw7XHJcbiAgICAgIGlmIChOVU1CRVJfUkVHRVhQLnRlc3QodmFsdWUpKSByZXR1cm4gcGFyc2VGbG9hdCh2YWx1ZSk7XHJcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIGlmICghY3RybC4kaXNFbXB0eSh2YWx1ZSkpIHtcclxuICAgICAgICBpZiAoIWlzTnVtYmVyKHZhbHVlKSkge1xyXG4gICAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbnVtZm10JywgJ0V4cGVjdGVkIGB7MH1gIHRvIGJlIGEgbnVtYmVyJywgdmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHZhbHVlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBwYXJzZU51bWJlckF0dHJWYWwodmFsKSB7XHJcbiAgICBpZiAoaXNEZWZpbmVkKHZhbCkgJiYgIWlzTnVtYmVyKHZhbCkpIHtcclxuICAgICAgdmFsID0gcGFyc2VGbG9hdCh2YWwpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuICFpc051bWJlck5hTih2YWwpID8gdmFsIDogdW5kZWZpbmVkO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gaXNOdW1iZXJJbnRlZ2VyKG51bSkge1xyXG4gICAgLy8gU2VlIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ2MzY1MzYvaG93LXRvLWNoZWNrLWlmLWEtdmFyaWFibGUtaXMtYW4taW50ZWdlci1pbi1qYXZhc2NyaXB0IzE0Nzk0MDY2XHJcbiAgICAvLyAobWludXMgdGhlIGFzc3VtcHRpb24gdGhhdCBgbnVtYCBpcyBhIG51bWJlcilcclxuXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tYml0d2lzZVxyXG4gICAgcmV0dXJuIChudW0gfCAwKSA9PT0gbnVtO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY291bnREZWNpbWFscyhudW0pIHtcclxuICAgIHZhciBudW1TdHJpbmcgPSBudW0udG9TdHJpbmcoKTtcclxuICAgIHZhciBkZWNpbWFsU3ltYm9sSW5kZXggPSBudW1TdHJpbmcuaW5kZXhPZignLicpO1xyXG5cclxuICAgIGlmIChkZWNpbWFsU3ltYm9sSW5kZXggPT09IC0xKSB7XHJcbiAgICAgIGlmICgtMSA8IG51bSAmJiBudW0gPCAxKSB7XHJcbiAgICAgICAgLy8gSXQgbWF5IGJlIGluIHRoZSBleHBvbmVudGlhbCBub3RhdGlvbiBmb3JtYXQgKGAxZS1YYClcclxuICAgICAgICB2YXIgbWF0Y2ggPSAvZS0oXFxkKykkLy5leGVjKG51bVN0cmluZyk7XHJcblxyXG4gICAgICAgIGlmIChtYXRjaCkge1xyXG4gICAgICAgICAgcmV0dXJuIE51bWJlcihtYXRjaFsxXSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gMDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gbnVtU3RyaW5nLmxlbmd0aCAtIGRlY2ltYWxTeW1ib2xJbmRleCAtIDE7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBpc1ZhbGlkRm9yU3RlcCh2aWV3VmFsdWUsIHN0ZXBCYXNlLCBzdGVwKSB7XHJcbiAgICAvLyBBdCB0aGlzIHBvaW50IGBzdGVwQmFzZWAgYW5kIGBzdGVwYCBhcmUgZXhwZWN0ZWQgdG8gYmUgbm9uLU5hTiB2YWx1ZXNcclxuICAgIC8vIGFuZCBgdmlld1ZhbHVlYCBpcyBleHBlY3RlZCB0byBiZSBhIHZhbGlkIHN0cmluZ2lmaWVkIG51bWJlci5cclxuICAgIHZhciB2YWx1ZSA9IE51bWJlcih2aWV3VmFsdWUpO1xyXG5cclxuICAgIHZhciBpc05vbkludGVnZXJWYWx1ZSA9ICFpc051bWJlckludGVnZXIodmFsdWUpO1xyXG4gICAgdmFyIGlzTm9uSW50ZWdlclN0ZXBCYXNlID0gIWlzTnVtYmVySW50ZWdlcihzdGVwQmFzZSk7XHJcbiAgICB2YXIgaXNOb25JbnRlZ2VyU3RlcCA9ICFpc051bWJlckludGVnZXIoc3RlcCk7XHJcblxyXG4gICAgLy8gRHVlIHRvIGxpbWl0YXRpb25zIGluIEZsb2F0aW5nIFBvaW50IEFyaXRobWV0aWMgKGUuZy4gYDAuMyAtIDAuMiAhPT0gMC4xYCBvclxyXG4gICAgLy8gYDAuNSAlIDAuMSAhPT0gMGApLCB3ZSBuZWVkIHRvIGNvbnZlcnQgYWxsIG51bWJlcnMgdG8gaW50ZWdlcnMuXHJcbiAgICBpZiAoaXNOb25JbnRlZ2VyVmFsdWUgfHwgaXNOb25JbnRlZ2VyU3RlcEJhc2UgfHwgaXNOb25JbnRlZ2VyU3RlcCkge1xyXG4gICAgICB2YXIgdmFsdWVEZWNpbWFscyA9IGlzTm9uSW50ZWdlclZhbHVlID8gY291bnREZWNpbWFscyh2YWx1ZSkgOiAwO1xyXG4gICAgICB2YXIgc3RlcEJhc2VEZWNpbWFscyA9IGlzTm9uSW50ZWdlclN0ZXBCYXNlID8gY291bnREZWNpbWFscyhzdGVwQmFzZSkgOiAwO1xyXG4gICAgICB2YXIgc3RlcERlY2ltYWxzID0gaXNOb25JbnRlZ2VyU3RlcCA/IGNvdW50RGVjaW1hbHMoc3RlcCkgOiAwO1xyXG5cclxuICAgICAgdmFyIGRlY2ltYWxDb3VudCA9IE1hdGgubWF4KHZhbHVlRGVjaW1hbHMsIHN0ZXBCYXNlRGVjaW1hbHMsIHN0ZXBEZWNpbWFscyk7XHJcbiAgICAgIHZhciBtdWx0aXBsaWVyID0gTWF0aC5wb3coMTAsIGRlY2ltYWxDb3VudCk7XHJcblxyXG4gICAgICB2YWx1ZSA9IHZhbHVlICogbXVsdGlwbGllcjtcclxuICAgICAgc3RlcEJhc2UgPSBzdGVwQmFzZSAqIG11bHRpcGxpZXI7XHJcbiAgICAgIHN0ZXAgPSBzdGVwICogbXVsdGlwbGllcjtcclxuXHJcbiAgICAgIGlmIChpc05vbkludGVnZXJWYWx1ZSkgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlKTtcclxuICAgICAgaWYgKGlzTm9uSW50ZWdlclN0ZXBCYXNlKSBzdGVwQmFzZSA9IE1hdGgucm91bmQoc3RlcEJhc2UpO1xyXG4gICAgICBpZiAoaXNOb25JbnRlZ2VyU3RlcCkgc3RlcCA9IE1hdGgucm91bmQoc3RlcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuICh2YWx1ZSAtIHN0ZXBCYXNlKSAlIHN0ZXAgPT09IDA7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBudW1iZXJJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xyXG4gICAgYmFkSW5wdXRDaGVja2VyKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsKTtcclxuICAgIG51bWJlckZvcm1hdHRlclBhcnNlcihjdHJsKTtcclxuICAgIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XHJcblxyXG4gICAgdmFyIG1pblZhbDtcclxuICAgIHZhciBtYXhWYWw7XHJcblxyXG4gICAgaWYgKGlzRGVmaW5lZChhdHRyLm1pbikgfHwgYXR0ci5uZ01pbikge1xyXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHZhbHVlID49IG1pblZhbDtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIGF0dHIuJG9ic2VydmUoJ21pbicsIGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICBtaW5WYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcclxuICAgICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcclxuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaXNEZWZpbmVkKGF0dHIubWF4KSB8fCBhdHRyLm5nTWF4KSB7XHJcbiAgICAgIGN0cmwuJHZhbGlkYXRvcnMubWF4ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IGlzVW5kZWZpbmVkKG1heFZhbCkgfHwgdmFsdWUgPD0gbWF4VmFsO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgYXR0ci4kb2JzZXJ2ZSgnbWF4JywgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIG1heFZhbCA9IHBhcnNlTnVtYmVyQXR0clZhbCh2YWwpO1xyXG4gICAgICAgIC8vIFRPRE8obWF0c2tvKTogaW1wbGVtZW50IHZhbGlkYXRlTGF0ZXIgdG8gcmVkdWNlIG51bWJlciBvZiB2YWxpZGF0aW9uc1xyXG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChpc0RlZmluZWQoYXR0ci5zdGVwKSB8fCBhdHRyLm5nU3RlcCkge1xyXG4gICAgICB2YXIgc3RlcFZhbDtcclxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5zdGVwID0gZnVuY3Rpb24gKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgaXNVbmRlZmluZWQoc3RlcFZhbCkgfHwgaXNWYWxpZEZvclN0ZXAodmlld1ZhbHVlLCBtaW5WYWwgfHwgMCwgc3RlcFZhbCk7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBhdHRyLiRvYnNlcnZlKCdzdGVwJywgZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgIHN0ZXBWYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcclxuICAgICAgICAvLyBUT0RPKG1hdHNrbyk6IGltcGxlbWVudCB2YWxpZGF0ZUxhdGVyIHRvIHJlZHVjZSBudW1iZXIgb2YgdmFsaWRhdGlvbnNcclxuICAgICAgICBjdHJsLiR2YWxpZGF0ZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHJhbmdlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcclxuICAgIGJhZElucHV0Q2hlY2tlcihzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCk7XHJcbiAgICBudW1iZXJGb3JtYXR0ZXJQYXJzZXIoY3RybCk7XHJcbiAgICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xyXG5cclxuICAgIHZhciBzdXBwb3J0c1JhbmdlID0gY3RybC4kJGhhc05hdGl2ZVZhbGlkYXRvcnMgJiYgZWxlbWVudFswXS50eXBlID09PSAncmFuZ2UnLFxyXG4gICAgICAgIG1pblZhbCA9IHN1cHBvcnRzUmFuZ2UgPyAwIDogdW5kZWZpbmVkLFxyXG4gICAgICAgIG1heFZhbCA9IHN1cHBvcnRzUmFuZ2UgPyAxMDAgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgc3RlcFZhbCA9IHN1cHBvcnRzUmFuZ2UgPyAxIDogdW5kZWZpbmVkLFxyXG4gICAgICAgIHZhbGlkaXR5ID0gZWxlbWVudFswXS52YWxpZGl0eSxcclxuICAgICAgICBoYXNNaW5BdHRyID0gaXNEZWZpbmVkKGF0dHIubWluKSxcclxuICAgICAgICBoYXNNYXhBdHRyID0gaXNEZWZpbmVkKGF0dHIubWF4KSxcclxuICAgICAgICBoYXNTdGVwQXR0ciA9IGlzRGVmaW5lZChhdHRyLnN0ZXApO1xyXG5cclxuICAgIHZhciBvcmlnaW5hbFJlbmRlciA9IGN0cmwuJHJlbmRlcjtcclxuXHJcbiAgICBjdHJsLiRyZW5kZXIgPSBzdXBwb3J0c1JhbmdlICYmIGlzRGVmaW5lZCh2YWxpZGl0eS5yYW5nZVVuZGVyZmxvdykgJiYgaXNEZWZpbmVkKHZhbGlkaXR5LnJhbmdlT3ZlcmZsb3cpID9cclxuICAgIC8vQnJvd3NlcnMgdGhhdCBpbXBsZW1lbnQgcmFuZ2Ugd2lsbCBzZXQgdGhlc2UgdmFsdWVzIGF1dG9tYXRpY2FsbHksIGJ1dCByZWFkaW5nIHRoZSBhZGp1c3RlZCB2YWx1ZXMgYWZ0ZXJcclxuICAgIC8vJHJlbmRlciB3b3VsZCBjYXVzZSB0aGUgbWluIC8gbWF4IHZhbGlkYXRvcnMgdG8gYmUgYXBwbGllZCB3aXRoIHRoZSB3cm9uZyB2YWx1ZVxyXG4gICAgZnVuY3Rpb24gcmFuZ2VSZW5kZXIoKSB7XHJcbiAgICAgIG9yaWdpbmFsUmVuZGVyKCk7XHJcbiAgICAgIGN0cmwuJHNldFZpZXdWYWx1ZShlbGVtZW50LnZhbCgpKTtcclxuICAgIH0gOiBvcmlnaW5hbFJlbmRlcjtcclxuXHJcbiAgICBpZiAoaGFzTWluQXR0cikge1xyXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbiA9IHN1cHBvcnRzUmFuZ2UgP1xyXG4gICAgICAvLyBTaW5jZSBhbGwgYnJvd3NlcnMgc2V0IHRoZSBpbnB1dCB0byBhIHZhbGlkIHZhbHVlLCB3ZSBkb24ndCBuZWVkIHRvIGNoZWNrIHZhbGlkaXR5XHJcbiAgICAgIGZ1bmN0aW9uIG5vb3BNaW5WYWxpZGF0b3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gOlxyXG4gICAgICAvLyBub24tc3VwcG9ydCBicm93c2VycyB2YWxpZGF0ZSB0aGUgbWluIHZhbFxyXG4gICAgICBmdW5jdGlvbiBtaW5WYWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChtaW5WYWwpIHx8IHZpZXdWYWx1ZSA+PSBtaW5WYWw7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzZXRJbml0aWFsVmFsdWVBbmRPYnNlcnZlcignbWluJywgbWluQ2hhbmdlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaGFzTWF4QXR0cikge1xyXG4gICAgICBjdHJsLiR2YWxpZGF0b3JzLm1heCA9IHN1cHBvcnRzUmFuZ2UgP1xyXG4gICAgICAvLyBTaW5jZSBhbGwgYnJvd3NlcnMgc2V0IHRoZSBpbnB1dCB0byBhIHZhbGlkIHZhbHVlLCB3ZSBkb24ndCBuZWVkIHRvIGNoZWNrIHZhbGlkaXR5XHJcbiAgICAgIGZ1bmN0aW9uIG5vb3BNYXhWYWxpZGF0b3IoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH0gOlxyXG4gICAgICAvLyBub24tc3VwcG9ydCBicm93c2VycyB2YWxpZGF0ZSB0aGUgbWF4IHZhbFxyXG4gICAgICBmdW5jdGlvbiBtYXhWYWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChtYXhWYWwpIHx8IHZpZXdWYWx1ZSA8PSBtYXhWYWw7XHJcbiAgICAgIH07XHJcblxyXG4gICAgICBzZXRJbml0aWFsVmFsdWVBbmRPYnNlcnZlcignbWF4JywgbWF4Q2hhbmdlKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoaGFzU3RlcEF0dHIpIHtcclxuICAgICAgY3RybC4kdmFsaWRhdG9ycy5zdGVwID0gc3VwcG9ydHNSYW5nZSA/IGZ1bmN0aW9uIG5hdGl2ZVN0ZXBWYWxpZGF0b3IoKSB7XHJcbiAgICAgICAgLy8gQ3VycmVudGx5LCBvbmx5IEZGIGltcGxlbWVudHMgdGhlIHNwZWMgb24gc3RlcCBjaGFuZ2UgY29ycmVjdGx5IChpLmUuIGFkanVzdGluZyB0aGVcclxuICAgICAgICAvLyBpbnB1dCBlbGVtZW50IHZhbHVlIHRvIGEgdmFsaWQgdmFsdWUpLiBJdCdzIHBvc3NpYmxlIHRoYXQgb3RoZXIgYnJvd3NlcnMgc2V0IHRoZSBzdGVwTWlzbWF0Y2hcclxuICAgICAgICAvLyB2YWxpZGl0eSBlcnJvciBpbnN0ZWFkLCBzbyB3ZSBjYW4gYXQgbGVhc3QgcmVwb3J0IGFuIGVycm9yIGluIHRoYXQgY2FzZS5cclxuICAgICAgICByZXR1cm4gIXZhbGlkaXR5LnN0ZXBNaXNtYXRjaDtcclxuICAgICAgfSA6XHJcbiAgICAgIC8vIG5nU3RlcCBkb2Vzbid0IHNldCB0aGUgc2V0cCBhdHRyLCBzbyB0aGUgYnJvd3NlciBkb2Vzbid0IGFkanVzdCB0aGUgaW5wdXQgdmFsdWUgYXMgc2V0dGluZyBzdGVwIHdvdWxkXHJcbiAgICAgIGZ1bmN0aW9uIHN0ZXBWYWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmlld1ZhbHVlKSB8fCBpc1VuZGVmaW5lZChzdGVwVmFsKSB8fCBpc1ZhbGlkRm9yU3RlcCh2aWV3VmFsdWUsIG1pblZhbCB8fCAwLCBzdGVwVmFsKTtcclxuICAgICAgfTtcclxuXHJcbiAgICAgIHNldEluaXRpYWxWYWx1ZUFuZE9ic2VydmVyKCdzdGVwJywgc3RlcENoYW5nZSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gc2V0SW5pdGlhbFZhbHVlQW5kT2JzZXJ2ZXIoaHRtbEF0dHJOYW1lLCBjaGFuZ2VGbikge1xyXG4gICAgICAvLyBpbnRlcnBvbGF0ZWQgYXR0cmlidXRlcyBzZXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZSBvbmx5IGFmdGVyIGEgZGlnZXN0LCBidXQgd2UgbmVlZCB0aGVcclxuICAgICAgLy8gYXR0cmlidXRlIHZhbHVlIHdoZW4gdGhlIGlucHV0IGlzIGZpcnN0IHJlbmRlcmVkLCBzbyB0aGF0IHRoZSBicm93c2VyIGNhbiBhZGp1c3QgdGhlXHJcbiAgICAgIC8vIGlucHV0IHZhbHVlIGJhc2VkIG9uIHRoZSBtaW4vbWF4IHZhbHVlXHJcbiAgICAgIGVsZW1lbnQuYXR0cihodG1sQXR0ck5hbWUsIGF0dHJbaHRtbEF0dHJOYW1lXSk7XHJcbiAgICAgIGF0dHIuJG9ic2VydmUoaHRtbEF0dHJOYW1lLCBjaGFuZ2VGbik7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gbWluQ2hhbmdlKHZhbCkge1xyXG4gICAgICBtaW5WYWwgPSBwYXJzZU51bWJlckF0dHJWYWwodmFsKTtcclxuICAgICAgLy8gaWdub3JlIGNoYW5nZXMgYmVmb3JlIG1vZGVsIGlzIGluaXRpYWxpemVkXHJcbiAgICAgIGlmIChpc051bWJlck5hTihjdHJsLiRtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHN1cHBvcnRzUmFuZ2UpIHtcclxuICAgICAgICB2YXIgZWxWYWwgPSBlbGVtZW50LnZhbCgpO1xyXG4gICAgICAgIC8vIElFMTEgZG9lc24ndCBzZXQgdGhlIGVsIHZhbCBjb3JyZWN0bHkgaWYgdGhlIG1pblZhbCBpcyBncmVhdGVyIHRoYW4gdGhlIGVsZW1lbnQgdmFsdWVcclxuICAgICAgICBpZiAobWluVmFsID4gZWxWYWwpIHtcclxuICAgICAgICAgIGVsVmFsID0gbWluVmFsO1xyXG4gICAgICAgICAgZWxlbWVudC52YWwoZWxWYWwpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxWYWwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRPRE8obWF0c2tvKTogaW1wbGVtZW50IHZhbGlkYXRlTGF0ZXIgdG8gcmVkdWNlIG51bWJlciBvZiB2YWxpZGF0aW9uc1xyXG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBtYXhDaGFuZ2UodmFsKSB7XHJcbiAgICAgIG1heFZhbCA9IHBhcnNlTnVtYmVyQXR0clZhbCh2YWwpO1xyXG4gICAgICAvLyBpZ25vcmUgY2hhbmdlcyBiZWZvcmUgbW9kZWwgaXMgaW5pdGlhbGl6ZWRcclxuICAgICAgaWYgKGlzTnVtYmVyTmFOKGN0cmwuJG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc3VwcG9ydHNSYW5nZSkge1xyXG4gICAgICAgIHZhciBlbFZhbCA9IGVsZW1lbnQudmFsKCk7XHJcbiAgICAgICAgLy8gSUUxMSBkb2Vzbid0IHNldCB0aGUgZWwgdmFsIGNvcnJlY3RseSBpZiB0aGUgbWF4VmFsIGlzIGxlc3MgdGhhbiB0aGUgZWxlbWVudCB2YWx1ZVxyXG4gICAgICAgIGlmIChtYXhWYWwgPCBlbFZhbCkge1xyXG4gICAgICAgICAgZWxlbWVudC52YWwobWF4VmFsKTtcclxuICAgICAgICAgIC8vIElFMTEgYW5kIENocm9tZSBkb24ndCBzZXQgdGhlIHZhbHVlIHRvIHRoZSBtaW5WYWwgd2hlbiBtYXggPCBtaW5cclxuICAgICAgICAgIGVsVmFsID0gbWF4VmFsIDwgbWluVmFsID8gbWluVmFsIDogbWF4VmFsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxWYWwpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIFRPRE8obWF0c2tvKTogaW1wbGVtZW50IHZhbGlkYXRlTGF0ZXIgdG8gcmVkdWNlIG51bWJlciBvZiB2YWxpZGF0aW9uc1xyXG4gICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzdGVwQ2hhbmdlKHZhbCkge1xyXG4gICAgICBzdGVwVmFsID0gcGFyc2VOdW1iZXJBdHRyVmFsKHZhbCk7XHJcbiAgICAgIC8vIGlnbm9yZSBjaGFuZ2VzIGJlZm9yZSBtb2RlbCBpcyBpbml0aWFsaXplZFxyXG4gICAgICBpZiAoaXNOdW1iZXJOYU4oY3RybC4kbW9kZWxWYWx1ZSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNvbWUgYnJvd3NlcnMgZG9uJ3QgYWRqdXN0IHRoZSBpbnB1dCB2YWx1ZSBjb3JyZWN0bHksIGJ1dCBzZXQgdGhlIHN0ZXBNaXNtYXRjaCBlcnJvclxyXG4gICAgICBpZiAoc3VwcG9ydHNSYW5nZSAmJiBjdHJsLiR2aWV3VmFsdWUgIT09IGVsZW1lbnQudmFsKCkpIHtcclxuICAgICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC52YWwoKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gVE9ETyhtYXRza28pOiBpbXBsZW1lbnQgdmFsaWRhdGVMYXRlciB0byByZWR1Y2UgbnVtYmVyIG9mIHZhbGlkYXRpb25zXHJcbiAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gdXJsSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpIHtcclxuICAgIC8vIE5vdGU6IG5vIGJhZElucHV0Q2hlY2tlciBoZXJlIGJ5IHB1cnBvc2UgYXMgYHVybGAgaXMgb25seSBhIHZhbGlkYXRpb25cclxuICAgIC8vIGluIGJyb3dzZXJzLCBpLmUuIHdlIGNhbiBhbHdheXMgcmVhZCBvdXQgaW5wdXQudmFsdWUgZXZlbiBpZiBpdCBpcyBub3QgdmFsaWQhXHJcbiAgICBiYXNlSW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIpO1xyXG4gICAgc3RyaW5nQmFzZWRJbnB1dFR5cGUoY3RybCk7XHJcblxyXG4gICAgY3RybC4kJHBhcnNlck5hbWUgPSAndXJsJztcclxuICAgIGN0cmwuJHZhbGlkYXRvcnMudXJsID0gZnVuY3Rpb24gKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcclxuICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IFVSTF9SRUdFWFAudGVzdCh2YWx1ZSk7XHJcbiAgICB9O1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gZW1haWxJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcikge1xyXG4gICAgLy8gTm90ZTogbm8gYmFkSW5wdXRDaGVja2VyIGhlcmUgYnkgcHVycG9zZSBhcyBgdXJsYCBpcyBvbmx5IGEgdmFsaWRhdGlvblxyXG4gICAgLy8gaW4gYnJvd3NlcnMsIGkuZS4gd2UgY2FuIGFsd2F5cyByZWFkIG91dCBpbnB1dC52YWx1ZSBldmVuIGlmIGl0IGlzIG5vdCB2YWxpZCFcclxuICAgIGJhc2VJbnB1dFR5cGUoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICRzbmlmZmVyLCAkYnJvd3Nlcik7XHJcbiAgICBzdHJpbmdCYXNlZElucHV0VHlwZShjdHJsKTtcclxuXHJcbiAgICBjdHJsLiQkcGFyc2VyTmFtZSA9ICdlbWFpbCc7XHJcbiAgICBjdHJsLiR2YWxpZGF0b3JzLmVtYWlsID0gZnVuY3Rpb24gKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAgICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcclxuICAgICAgcmV0dXJuIGN0cmwuJGlzRW1wdHkodmFsdWUpIHx8IEVNQUlMX1JFR0VYUC50ZXN0KHZhbHVlKTtcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiByYWRpb0lucHV0VHlwZShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xyXG4gICAgdmFyIGRvVHJpbSA9ICFhdHRyLm5nVHJpbSB8fCB0cmltKGF0dHIubmdUcmltKSAhPT0gJ2ZhbHNlJztcclxuICAgIC8vIG1ha2UgdGhlIG5hbWUgdW5pcXVlLCBpZiBub3QgZGVmaW5lZFxyXG4gICAgaWYgKGlzVW5kZWZpbmVkKGF0dHIubmFtZSkpIHtcclxuICAgICAgZWxlbWVudC5hdHRyKCduYW1lJywgbmV4dFVpZCgpKTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiBsaXN0ZW5lcihldikge1xyXG4gICAgICB2YXIgdmFsdWU7XHJcbiAgICAgIGlmIChlbGVtZW50WzBdLmNoZWNrZWQpIHtcclxuICAgICAgICB2YWx1ZSA9IGF0dHIudmFsdWU7XHJcbiAgICAgICAgaWYgKGRvVHJpbSkge1xyXG4gICAgICAgICAgdmFsdWUgPSB0cmltKHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3RybC4kc2V0Vmlld1ZhbHVlKHZhbHVlLCBldiAmJiBldi50eXBlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBlbGVtZW50Lm9uKCdjbGljaycsIGxpc3RlbmVyKTtcclxuXHJcbiAgICBjdHJsLiRyZW5kZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHZhciB2YWx1ZSA9IGF0dHIudmFsdWU7XHJcbiAgICAgIGlmIChkb1RyaW0pIHtcclxuICAgICAgICB2YWx1ZSA9IHRyaW0odmFsdWUpO1xyXG4gICAgICB9XHJcbiAgICAgIGVsZW1lbnRbMF0uY2hlY2tlZCA9IHZhbHVlID09PSBjdHJsLiR2aWV3VmFsdWU7XHJcbiAgICB9O1xyXG5cclxuICAgIGF0dHIuJG9ic2VydmUoJ3ZhbHVlJywgY3RybC4kcmVuZGVyKTtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgY29udGV4dCwgbmFtZSwgZXhwcmVzc2lvbiwgZmFsbGJhY2spIHtcclxuICAgIHZhciBwYXJzZUZuO1xyXG4gICAgaWYgKGlzRGVmaW5lZChleHByZXNzaW9uKSkge1xyXG4gICAgICBwYXJzZUZuID0gJHBhcnNlKGV4cHJlc3Npb24pO1xyXG4gICAgICBpZiAoIXBhcnNlRm4uY29uc3RhbnQpIHtcclxuICAgICAgICB0aHJvdyBuZ01vZGVsTWluRXJyKCdjb25zdGV4cHInLCAnRXhwZWN0ZWQgY29uc3RhbnQgZXhwcmVzc2lvbiBmb3IgYHswfWAsIGJ1dCBzYXcgJyArICdgezF9YC4nLCBuYW1lLCBleHByZXNzaW9uKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcGFyc2VGbihjb250ZXh0KTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxsYmFjaztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNoZWNrYm94SW5wdXRUeXBlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJsLCAkc25pZmZlciwgJGJyb3dzZXIsICRmaWx0ZXIsICRwYXJzZSkge1xyXG4gICAgdmFyIHRydWVWYWx1ZSA9IHBhcnNlQ29uc3RhbnRFeHByKCRwYXJzZSwgc2NvcGUsICduZ1RydWVWYWx1ZScsIGF0dHIubmdUcnVlVmFsdWUsIHRydWUpO1xyXG4gICAgdmFyIGZhbHNlVmFsdWUgPSBwYXJzZUNvbnN0YW50RXhwcigkcGFyc2UsIHNjb3BlLCAnbmdGYWxzZVZhbHVlJywgYXR0ci5uZ0ZhbHNlVmFsdWUsIGZhbHNlKTtcclxuXHJcbiAgICB2YXIgbGlzdGVuZXIgPSBmdW5jdGlvbiBsaXN0ZW5lcihldikge1xyXG4gICAgICBjdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudFswXS5jaGVja2VkLCBldiAmJiBldi50eXBlKTtcclxuICAgIH07XHJcblxyXG4gICAgZWxlbWVudC5vbignY2xpY2snLCBsaXN0ZW5lcik7XHJcblxyXG4gICAgY3RybC4kcmVuZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICBlbGVtZW50WzBdLmNoZWNrZWQgPSBjdHJsLiR2aWV3VmFsdWU7XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIE92ZXJyaWRlIHRoZSBzdGFuZGFyZCBgJGlzRW1wdHlgIGJlY2F1c2UgdGhlICR2aWV3VmFsdWUgb2YgYW4gZW1wdHkgY2hlY2tib3ggaXMgYWx3YXlzIHNldCB0byBgZmFsc2VgXHJcbiAgICAvLyBUaGlzIGlzIGJlY2F1c2Ugb2YgdGhlIHBhcnNlciBiZWxvdywgd2hpY2ggY29tcGFyZXMgdGhlIGAkbW9kZWxWYWx1ZWAgd2l0aCBgdHJ1ZVZhbHVlYCB0byBjb252ZXJ0XHJcbiAgICAvLyBpdCB0byBhIGJvb2xlYW4uXHJcbiAgICBjdHJsLiRpc0VtcHR5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gZmFsc2U7XHJcbiAgICB9O1xyXG5cclxuICAgIGN0cmwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgcmV0dXJuIGVxdWFscyh2YWx1ZSwgdHJ1ZVZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGN0cmwuJHBhcnNlcnMucHVzaChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgcmV0dXJuIHZhbHVlID8gdHJ1ZVZhbHVlIDogZmFsc2VWYWx1ZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIHRleHRhcmVhXHJcbiAgICogQHJlc3RyaWN0IEVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEhUTUwgdGV4dGFyZWEgZWxlbWVudCBjb250cm9sIHdpdGggYW5ndWxhciBkYXRhLWJpbmRpbmcuIFRoZSBkYXRhLWJpbmRpbmcgYW5kIHZhbGlkYXRpb25cclxuICAgKiBwcm9wZXJ0aWVzIG9mIHRoaXMgZWxlbWVudCBhcmUgZXhhY3RseSB0aGUgc2FtZSBhcyB0aG9zZSBvZiB0aGVcclxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0IGVsZW1lbnR9LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nTW9kZWwgQXNzaWduYWJsZSBhbmd1bGFyIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmFtZSBQcm9wZXJ0eSBuYW1lIG9mIHRoZSBmb3JtIHVuZGVyIHdoaWNoIHRoZSBjb250cm9sIGlzIHB1Ymxpc2hlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IHJlcXVpcmVkIFNldHMgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbm90IGVudGVyZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1JlcXVpcmVkIEFkZHMgYHJlcXVpcmVkYCBhdHRyaWJ1dGUgYW5kIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICogICAgdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgYG5nUmVxdWlyZWRgIGluc3RlYWQgb2ZcclxuICAgKiAgICBgcmVxdWlyZWRgIHdoZW4geW91IHdhbnQgdG8gZGF0YS1iaW5kIHRvIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWlubGVuZ3RoIFNldHMgYG1pbmxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIHNob3J0ZXIgdGhhblxyXG4gICAqICAgIG1pbmxlbmd0aC5cclxuICAgKiBAcGFyYW0ge251bWJlcj19IG5nTWF4bGVuZ3RoIFNldHMgYG1heGxlbmd0aGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIGxvbmdlciB0aGFuXHJcbiAgICogICAgbWF4bGVuZ3RoLiBTZXR0aW5nIHRoZSBhdHRyaWJ1dGUgdG8gYSBuZWdhdGl2ZSBvciBub24tbnVtZXJpYyB2YWx1ZSwgYWxsb3dzIHZpZXcgdmFsdWVzIG9mIGFueVxyXG4gICAqICAgIGxlbmd0aC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUGF0dGVybiBTZXRzIGBwYXR0ZXJuYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgbmdNb2RlbCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlICR2aWV3VmFsdWV9XHJcbiAgICogICAgZG9lcyBub3QgbWF0Y2ggYSBSZWdFeHAgZm91bmQgYnkgZXZhbHVhdGluZyB0aGUgQW5ndWxhciBleHByZXNzaW9uIGdpdmVuIGluIHRoZSBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgUmVnRXhwIG9iamVjdCwgdGhlbiB0aGlzIGlzIHVzZWQgZGlyZWN0bHkuXHJcbiAgICogICAgSWYgdGhlIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgc3RyaW5nLCB0aGVuIGl0IHdpbGwgYmUgY29udmVydGVkIHRvIGEgUmVnRXhwXHJcbiAgICogICAgYWZ0ZXIgd3JhcHBpbmcgaXQgaW4gYF5gIGFuZCBgJGAgY2hhcmFjdGVycy4gRm9yIGluc3RhbmNlLCBgXCJhYmNcImAgd2lsbCBiZSBjb252ZXJ0ZWQgdG9cclxuICAgKiAgICBgbmV3IFJlZ0V4cCgnXmFiYyQnKWAuPGJyIC8+XHJcbiAgICogICAgKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICAgKiAgICBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xyXG4gICAqICAgIGFjY291bnQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0NoYW5nZSBBbmd1bGFyIGV4cHJlc3Npb24gdG8gYmUgZXhlY3V0ZWQgd2hlbiBpbnB1dCBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgaW5wdXQgZWxlbWVudC5cclxuICAgKiBAcGFyYW0ge2Jvb2xlYW49fSBbbmdUcmltPXRydWVdIElmIHNldCB0byBmYWxzZSBBbmd1bGFyIHdpbGwgbm90IGF1dG9tYXRpY2FsbHkgdHJpbSB0aGUgaW5wdXQuXHJcbiAgICpcclxuICAgKiBAa25vd25Jc3N1ZVxyXG4gICAqXHJcbiAgICogV2hlbiBzcGVjaWZ5aW5nIHRoZSBgcGxhY2Vob2xkZXJgIGF0dHJpYnV0ZSBvZiBgPHRleHRhcmVhPmAsIEludGVybmV0IEV4cGxvcmVyIHdpbGwgdGVtcG9yYXJpbHlcclxuICAgKiBpbnNlcnQgdGhlIHBsYWNlaG9sZGVyIHZhbHVlIGFzIHRoZSB0ZXh0YXJlYSdzIGNvbnRlbnQuIElmIHRoZSBwbGFjZWhvbGRlciB2YWx1ZSBjb250YWluc1xyXG4gICAqIGludGVycG9sYXRpb24gKGB7eyAuLi4gfX1gKSwgYW4gZXJyb3Igd2lsbCBiZSBsb2dnZWQgaW4gdGhlIGNvbnNvbGUgd2hlbiBBbmd1bGFyIHRyaWVzIHRvIHVwZGF0ZVxyXG4gICAqIHRoZSB2YWx1ZSBvZiB0aGUgYnktdGhlbi1yZW1vdmVkIHRleHQgbm9kZS4gVGhpcyBkb2Vzbid0IGFmZmVjdCB0aGUgZnVuY3Rpb25hbGl0eSBvZiB0aGVcclxuICAgKiB0ZXh0YXJlYSwgYnV0IGNhbiBiZSB1bmRlc2lyYWJsZS5cclxuICAgKlxyXG4gICAqIFlvdSBjYW4gd29yayBhcm91bmQgdGhpcyBJbnRlcm5ldCBFeHBsb3JlciBpc3N1ZSBieSB1c2luZyBgbmctYXR0ci1wbGFjZWhvbGRlcmAgaW5zdGVhZCBvZlxyXG4gICAqIGBwbGFjZWhvbGRlcmAgb24gdGV4dGFyZWFzLCB3aGVuZXZlciB5b3UgbmVlZCBpbnRlcnBvbGF0aW9uIGluIHRoZSBwbGFjZWhvbGRlciB2YWx1ZS4gWW91IGNhblxyXG4gICAqIGZpbmQgbW9yZSBkZXRhaWxzIG9uIGBuZ0F0dHJgIGluIHRoZVxyXG4gICAqIFtJbnRlcnBvbGF0aW9uXShndWlkZS9pbnRlcnBvbGF0aW9uIy1uZ2F0dHItZm9yLWJpbmRpbmctdG8tYXJiaXRyYXJ5LWF0dHJpYnV0ZXMpIHNlY3Rpb24gb2YgdGhlXHJcbiAgICogRGV2ZWxvcGVyIEd1aWRlLlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgaW5wdXRcclxuICAgKiBAcmVzdHJpY3QgRVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogSFRNTCBpbnB1dCBlbGVtZW50IGNvbnRyb2wuIFdoZW4gdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0sIGl0IHByb3ZpZGVzIGRhdGEtYmluZGluZyxcclxuICAgKiBpbnB1dCBzdGF0ZSBjb250cm9sLCBhbmQgdmFsaWRhdGlvbi5cclxuICAgKiBJbnB1dCBjb250cm9sIGZvbGxvd3MgSFRNTDUgaW5wdXQgdHlwZXMgYW5kIHBvbHlmaWxscyB0aGUgSFRNTDUgdmFsaWRhdGlvbiBiZWhhdmlvciBmb3Igb2xkZXIgYnJvd3NlcnMuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICoqTm90ZToqKiBOb3QgZXZlcnkgZmVhdHVyZSBvZmZlcmVkIGlzIGF2YWlsYWJsZSBmb3IgYWxsIGlucHV0IHR5cGVzLlxyXG4gICAqIFNwZWNpZmljYWxseSwgZGF0YSBiaW5kaW5nIGFuZCBldmVudCBoYW5kbGluZyB2aWEgYG5nLW1vZGVsYCBpcyB1bnN1cHBvcnRlZCBmb3IgYGlucHV0W2ZpbGVdYC5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgYW5ndWxhciBleHByZXNzaW9uIHRvIGRhdGEtYmluZCB0by5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IG5nUmVxdWlyZWQgU2V0cyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBpZiBzZXQgdG8gdHJ1ZVxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNaW5sZW5ndGggU2V0cyBgbWlubGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgc2hvcnRlciB0aGFuXHJcbiAgICogICAgbWlubGVuZ3RoLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyPX0gbmdNYXhsZW5ndGggU2V0cyBgbWF4bGVuZ3RoYCB2YWxpZGF0aW9uIGVycm9yIGtleSBpZiB0aGUgdmFsdWUgaXMgbG9uZ2VyIHRoYW5cclxuICAgKiAgICBtYXhsZW5ndGguIFNldHRpbmcgdGhlIGF0dHJpYnV0ZSB0byBhIG5lZ2F0aXZlIG9yIG5vbi1udW1lcmljIHZhbHVlLCBhbGxvd3MgdmlldyB2YWx1ZXMgb2YgYW55XHJcbiAgICogICAgbGVuZ3RoLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdQYXR0ZXJuIFNldHMgYHBhdHRlcm5gIHZhbGlkYXRpb24gZXJyb3Iga2V5IGlmIHRoZSBuZ01vZGVsIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgJHZpZXdWYWx1ZX1cclxuICAgKiAgICB2YWx1ZSBkb2VzIG5vdCBtYXRjaCBhIFJlZ0V4cCBmb3VuZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICAgKiAgICBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBzdHJpbmcsIHRoZW4gaXQgd2lsbCBiZSBjb252ZXJ0ZWQgdG8gYSBSZWdFeHBcclxuICAgKiAgICBhZnRlciB3cmFwcGluZyBpdCBpbiBgXmAgYW5kIGAkYCBjaGFyYWN0ZXJzLiBGb3IgaW5zdGFuY2UsIGBcImFiY1wiYCB3aWxsIGJlIGNvbnZlcnRlZCB0b1xyXG4gICAqICAgIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC48YnIgLz5cclxuICAgKiAgICAqKk5vdGU6KiogQXZvaWQgdXNpbmcgdGhlIGBnYCBmbGFnIG9uIHRoZSBSZWdFeHAsIGFzIGl0IHdpbGwgY2F1c2UgZWFjaCBzdWNjZXNzaXZlIHNlYXJjaCB0b1xyXG4gICAqICAgIHN0YXJ0IGF0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBzZWFyY2gncyBtYXRjaCwgdGh1cyBub3QgdGFraW5nIHRoZSB3aG9sZSBpbnB1dCB2YWx1ZSBpbnRvXHJcbiAgICogICAgYWNjb3VudC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIGlucHV0IGNoYW5nZXMgZHVlIHRvIHVzZXJcclxuICAgKiAgICBpbnRlcmFjdGlvbiB3aXRoIHRoZSBpbnB1dCBlbGVtZW50LlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbj19IFtuZ1RyaW09dHJ1ZV0gSWYgc2V0IHRvIGZhbHNlIEFuZ3VsYXIgd2lsbCBub3QgYXV0b21hdGljYWxseSB0cmltIHRoZSBpbnB1dC5cclxuICAgKiAgICBUaGlzIHBhcmFtZXRlciBpcyBpZ25vcmVkIGZvciBpbnB1dFt0eXBlPXBhc3N3b3JkXSBjb250cm9scywgd2hpY2ggd2lsbCBuZXZlciB0cmltIHRoZVxyXG4gICAqICAgIGlucHV0LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cImlucHV0LWRpcmVjdGl2ZVwiIG1vZHVsZT1cImlucHV0RXhhbXBsZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbnB1dEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7bmFtZTogJ2d1ZXN0JywgbGFzdDogJ3Zpc2l0b3InfTtcclxuICAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cclxuICAgICAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgICAgIFVzZXIgbmFtZTpcclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJ1c2VyTmFtZVwiIG5nLW1vZGVsPVwidXNlci5uYW1lXCIgcmVxdWlyZWQ+XHJcbiAgICAgICAgICAgICA8L2xhYmVsPlxyXG4gICAgICAgICAgICAgPGRpdiByb2xlPVwiYWxlcnRcIj5cclxuICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJlcnJvclwiIG5nLXNob3c9XCJteUZvcm0udXNlck5hbWUuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICAgICAgICAgICAgICBSZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgIDxsYWJlbD5cclxuICAgICAgICAgICAgICAgIExhc3QgbmFtZTpcclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5hbWU9XCJsYXN0TmFtZVwiIG5nLW1vZGVsPVwidXNlci5sYXN0XCJcclxuICAgICAgICAgICAgICAgIG5nLW1pbmxlbmd0aD1cIjNcIiBuZy1tYXhsZW5ndGg9XCIxMFwiPlxyXG4gICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgIDxkaXYgcm9sZT1cImFsZXJ0XCI+XHJcbiAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLmxhc3ROYW1lLiRlcnJvci5taW5sZW5ndGhcIj5cclxuICAgICAgICAgICAgICAgICBUb28gc2hvcnQhPC9zcGFuPlxyXG4gICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImVycm9yXCIgbmctc2hvdz1cIm15Rm9ybS5sYXN0TmFtZS4kZXJyb3IubWF4bGVuZ3RoXCI+XHJcbiAgICAgICAgICAgICAgICAgVG9vIGxvbmchPC9zcGFuPlxyXG4gICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgICAgIDxocj5cclxuICAgICAgICAgICA8dHQ+dXNlciA9IHt7dXNlcn19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0udXNlck5hbWUuJHZhbGlkID0ge3tteUZvcm0udXNlck5hbWUuJHZhbGlkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS51c2VyTmFtZS4kZXJyb3IgPSB7e215Rm9ybS51c2VyTmFtZS4kZXJyb3J9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLmxhc3ROYW1lLiR2YWxpZCA9IHt7bXlGb3JtLmxhc3ROYW1lLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAgICAgICAgIDx0dD5teUZvcm0ubGFzdE5hbWUuJGVycm9yID0ge3tteUZvcm0ubGFzdE5hbWUuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kdmFsaWQgPSB7e215Rm9ybS4kdmFsaWR9fTwvdHQ+PGJyLz5cclxuICAgICAgICAgICA8dHQ+bXlGb3JtLiRlcnJvci5yZXF1aXJlZCA9IHt7ISFteUZvcm0uJGVycm9yLnJlcXVpcmVkfX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IubWlubGVuZ3RoID0ge3shIW15Rm9ybS4kZXJyb3IubWlubGVuZ3RofX08L3R0Pjxici8+XHJcbiAgICAgICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IubWF4bGVuZ3RoID0ge3shIW15Rm9ybS4kZXJyb3IubWF4bGVuZ3RofX08L3R0Pjxici8+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgICB2YXIgdXNlciA9IGVsZW1lbnQoYnkuZXhhY3RCaW5kaW5nKCd1c2VyJykpO1xyXG4gICAgICAgICAgdmFyIHVzZXJOYW1lVmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS51c2VyTmFtZS4kdmFsaWQnKSk7XHJcbiAgICAgICAgICB2YXIgbGFzdE5hbWVWYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLmxhc3ROYW1lLiR2YWxpZCcpKTtcclxuICAgICAgICAgIHZhciBsYXN0TmFtZUVycm9yID0gZWxlbWVudChieS5iaW5kaW5nKCdteUZvcm0ubGFzdE5hbWUuJGVycm9yJykpO1xyXG4gICAgICAgICAgdmFyIGZvcm1WYWxpZCA9IGVsZW1lbnQoYnkuYmluZGluZygnbXlGb3JtLiR2YWxpZCcpKTtcclxuICAgICAgICAgIHZhciB1c2VyTmFtZUlucHV0ID0gZWxlbWVudChieS5tb2RlbCgndXNlci5uYW1lJykpO1xyXG4gICAgICAgICAgdmFyIHVzZXJMYXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd1c2VyLmxhc3QnKSk7XHJcbiAgXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcIm5hbWVcIjpcImd1ZXN0XCIsXCJsYXN0XCI6XCJ2aXNpdG9yXCJ9Jyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh1c2VyTmFtZVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICAgICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5IHdoZW4gcmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdXNlck5hbWVJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICB1c2VyTmFtZUlucHV0LnNlbmRLZXlzKCcnKTtcclxuICBcclxuICAgICAgICAgICAgZXhwZWN0KHVzZXIuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3tcImxhc3RcIjpcInZpc2l0b3JcIn0nKTtcclxuICAgICAgICAgICAgZXhwZWN0KHVzZXJOYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChmb3JtVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgdmFsaWQgaWYgZW1wdHkgd2hlbiBtaW4gbGVuZ3RoIGlzIHNldCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJycpO1xyXG4gIFxyXG4gICAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIixcImxhc3RcIjpcIlwifScpO1xyXG4gICAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgIGl0KCdzaG91bGQgYmUgaW52YWxpZCBpZiBsZXNzIHRoYW4gcmVxdWlyZWQgbWluIGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJ3h4Jyk7XHJcbiAgXHJcbiAgICAgICAgICAgIGV4cGVjdCh1c2VyLmdldFRleHQoKSkudG9Db250YWluKCd7XCJuYW1lXCI6XCJndWVzdFwifScpO1xyXG4gICAgICAgICAgICBleHBlY3QobGFzdE5hbWVWYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgICAgZXhwZWN0KGxhc3ROYW1lRXJyb3IuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ21pbmxlbmd0aCcpO1xyXG4gICAgICAgICAgICBleHBlY3QoZm9ybVZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJlIGludmFsaWQgaWYgbG9uZ2VyIHRoYW4gbWF4IGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB1c2VyTGFzdElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHVzZXJMYXN0SW5wdXQuc2VuZEtleXMoJ3NvbWUgcmlkaWN1bG91c2x5IGxvbmcgbmFtZScpO1xyXG4gIFxyXG4gICAgICAgICAgICBleHBlY3QodXNlci5nZXRUZXh0KCkpLnRvQ29udGFpbigne1wibmFtZVwiOlwiZ3Vlc3RcIn0nKTtcclxuICAgICAgICAgICAgZXhwZWN0KGxhc3ROYW1lVmFsaWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdChsYXN0TmFtZUVycm9yLmdldFRleHQoKSkudG9Db250YWluKCdtYXhsZW5ndGgnKTtcclxuICAgICAgICAgICAgZXhwZWN0KGZvcm1WYWxpZC5nZXRUZXh0KCkpLnRvQ29udGFpbignZmFsc2UnKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIDwvZmlsZT5cclxuICAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIHZhciBpbnB1dERpcmVjdGl2ZSA9IFsnJGJyb3dzZXInLCAnJHNuaWZmZXInLCAnJGZpbHRlcicsICckcGFyc2UnLCBmdW5jdGlvbiAoJGJyb3dzZXIsICRzbmlmZmVyLCAkZmlsdGVyLCAkcGFyc2UpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICAgIHJlcXVpcmU6IFsnP25nTW9kZWwnXSxcclxuICAgICAgbGluazoge1xyXG4gICAgICAgIHByZTogZnVuY3Rpb24gcHJlKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBjdHJscykge1xyXG4gICAgICAgICAgaWYgKGN0cmxzWzBdKSB7XHJcbiAgICAgICAgICAgIChpbnB1dFR5cGVbbG93ZXJjYXNlKGF0dHIudHlwZSldIHx8IGlucHV0VHlwZS50ZXh0KShzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHNbMF0sICRzbmlmZmVyLCAkYnJvd3NlciwgJGZpbHRlciwgJHBhcnNlKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV07XHJcblxyXG4gIHZhciBDT05TVEFOVF9WQUxVRV9SRUdFWFAgPSAvXih0cnVlfGZhbHNlfFxcZCspJC87XHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nVmFsdWVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEJpbmRzIHRoZSBnaXZlbiBleHByZXNzaW9uIHRvIHRoZSB2YWx1ZSBvZiB0aGUgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEl0IGlzIG1haW5seSB1c2VkIG9uIHtAbGluayBpbnB1dFtyYWRpb10gYGlucHV0W3JhZGlvXWB9IGFuZCBvcHRpb24gZWxlbWVudHMsXHJcbiAgICogc28gdGhhdCB3aGVuIHRoZSBlbGVtZW50IGlzIHNlbGVjdGVkLCB0aGUge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfSBvZiB0aGF0IGVsZW1lbnQgKG9yIGl0c1xyXG4gICAqIHtAbGluayBzZWxlY3QgYHNlbGVjdGB9IHBhcmVudCBlbGVtZW50KSBpcyBzZXQgdG8gdGhlIGJvdW5kIHZhbHVlLiBJdCBpcyBlc3BlY2lhbGx5IHVzZWZ1bFxyXG4gICAqIGZvciBkeW5hbWljYWxseSBnZW5lcmF0ZWQgbGlzdHMgdXNpbmcge0BsaW5rIG5nUmVwZWF0IGBuZ1JlcGVhdGB9LCBhcyBzaG93biBiZWxvdy5cclxuICAgKlxyXG4gICAqIEl0IGNhbiBhbHNvIGJlIHVzZWQgdG8gYWNoaWV2ZSBvbmUtd2F5IGJpbmRpbmcgb2YgYSBnaXZlbiBleHByZXNzaW9uIHRvIGFuIGlucHV0IGVsZW1lbnRcclxuICAgKiBzdWNoIGFzIGFuIGBpbnB1dFt0ZXh0XWAgb3IgYSBgdGV4dGFyZWFgLCB3aGVuIHRoYXQgZWxlbWVudCBkb2VzIG5vdCB1c2UgbmdNb2RlbC5cclxuICAgKlxyXG4gICAqIEBlbGVtZW50IGlucHV0XHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ1ZhbHVlIGFuZ3VsYXIgZXhwcmVzc2lvbiwgd2hvc2UgdmFsdWUgd2lsbCBiZSBib3VuZCB0byB0aGUgYHZhbHVlYCBhdHRyaWJ1dGVcclxuICAgKiBhbmQgYHZhbHVlYCBwcm9wZXJ0eSBvZiB0aGUgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgIDxleGFtcGxlIG5hbWU9XCJuZ1ZhbHVlLWRpcmVjdGl2ZVwiIG1vZHVsZT1cInZhbHVlRXhhbXBsZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCd2YWx1ZUV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydwaXp6YScsICd1bmljb3JucycsICdyb2JvdHMnXTtcclxuICAgICAgICAgICAgICAgICRzY29wZS5teSA9IHsgZmF2b3JpdGU6ICd1bmljb3JucycgfTtcclxuICAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICAgPGZvcm0gbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgIDxoMj5XaGljaCBpcyB5b3VyIGZhdm9yaXRlPzwvaDI+XHJcbiAgICAgICAgICAgICAgPGxhYmVsIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIiBmb3I9XCJ7e25hbWV9fVwiPlxyXG4gICAgICAgICAgICAgICAge3tuYW1lfX1cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwibXkuZmF2b3JpdGVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgIG5nLXZhbHVlPVwibmFtZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgaWQ9XCJ7e25hbWV9fVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgbmFtZT1cImZhdm9yaXRlXCI+XHJcbiAgICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICAgPGRpdj5Zb3UgY2hvc2Uge3tteS5mYXZvcml0ZX19PC9kaXY+XHJcbiAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgIHZhciBmYXZvcml0ZSA9IGVsZW1lbnQoYnkuYmluZGluZygnbXkuZmF2b3JpdGUnKSk7XHJcbiAgXHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGluaXRpYWxpemUgdG8gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZXhwZWN0KGZhdm9yaXRlLmdldFRleHQoKSkudG9Db250YWluKCd1bmljb3JucycpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpdCgnc2hvdWxkIGJpbmQgdGhlIHZhbHVlcyB0byB0aGUgaW5wdXRzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuYWxsKGJ5Lm1vZGVsKCdteS5mYXZvcml0ZScpKS5nZXQoMCkuY2xpY2soKTtcclxuICAgICAgICAgICAgZXhwZWN0KGZhdm9yaXRlLmdldFRleHQoKSkudG9Db250YWluKCdwaXp6YScpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG5nVmFsdWVEaXJlY3RpdmUgPSBmdW5jdGlvbiBuZ1ZhbHVlRGlyZWN0aXZlKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiAgaW5wdXRzIHVzZSB0aGUgdmFsdWUgYXR0cmlidXRlIGFzIHRoZWlyIGRlZmF1bHQgdmFsdWUgaWYgdGhlIHZhbHVlIHByb3BlcnR5IGlzIG5vdCBzZXQuXHJcbiAgICAgKiAgT25jZSB0aGUgdmFsdWUgcHJvcGVydHkgaGFzIGJlZW4gc2V0IChieSBhZGRpbmcgaW5wdXQpLCBpdCB3aWxsIG5vdCByZWFjdCB0byBjaGFuZ2VzIHRvXHJcbiAgICAgKiAgdGhlIHZhbHVlIGF0dHJpYnV0ZSBhbnltb3JlLiBTZXR0aW5nIGJvdGggYXR0cmlidXRlIGFuZCBwcm9wZXJ0eSBmaXhlcyB0aGlzIGJlaGF2aW9yLCBhbmRcclxuICAgICAqICBtYWtlcyBpdCBwb3NzaWJsZSB0byB1c2UgbmdWYWx1ZSBhcyBhIHNvcnQgb2Ygb25lLXdheSBiaW5kLlxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50VmFsdWUoZWxlbWVudCwgYXR0ciwgdmFsdWUpIHtcclxuICAgICAgLy8gU3VwcG9ydDogSUU5IG9ubHlcclxuICAgICAgLy8gSW4gSUU5IHZhbHVlcyBhcmUgY29udmVydGVkIHRvIHN0cmluZyAoZS5nLiBgaW5wdXQudmFsdWUgPSBudWxsYCByZXN1bHRzIGluIGBpbnB1dC52YWx1ZSA9PT0gJ251bGwnYCkuXHJcbiAgICAgIHZhciBwcm9wVmFsdWUgPSBpc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiBtc2llID09PSA5ID8gJycgOiBudWxsO1xyXG4gICAgICBlbGVtZW50LnByb3AoJ3ZhbHVlJywgcHJvcFZhbHVlKTtcclxuICAgICAgYXR0ci4kc2V0KCd2YWx1ZScsIHZhbHVlKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICBwcmlvcml0eTogMTAwLFxyXG4gICAgICBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKHRwbCwgdHBsQXR0cikge1xyXG4gICAgICAgIGlmIChDT05TVEFOVF9WQUxVRV9SRUdFWFAudGVzdCh0cGxBdHRyLm5nVmFsdWUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdWYWx1ZUNvbnN0YW50TGluayhzY29wZSwgZWxtLCBhdHRyKSB7XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHNjb3BlLiRldmFsKGF0dHIubmdWYWx1ZSk7XHJcbiAgICAgICAgICAgIHVwZGF0ZUVsZW1lbnRWYWx1ZShlbG0sIGF0dHIsIHZhbHVlKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1ZhbHVlTGluayhzY29wZSwgZWxtLCBhdHRyKSB7XHJcbiAgICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nVmFsdWUsIGZ1bmN0aW9uIHZhbHVlV2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgICB1cGRhdGVFbGVtZW50VmFsdWUoZWxtLCBhdHRyLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nQmluZFxyXG4gICAqIEByZXN0cmljdCBBQ1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhlIGBuZ0JpbmRgIGF0dHJpYnV0ZSB0ZWxscyBBbmd1bGFyIHRvIHJlcGxhY2UgdGhlIHRleHQgY29udGVudCBvZiB0aGUgc3BlY2lmaWVkIEhUTUwgZWxlbWVudFxyXG4gICAqIHdpdGggdGhlIHZhbHVlIG9mIGEgZ2l2ZW4gZXhwcmVzc2lvbiwgYW5kIHRvIHVwZGF0ZSB0aGUgdGV4dCBjb250ZW50IHdoZW4gdGhlIHZhbHVlIG9mIHRoYXRcclxuICAgKiBleHByZXNzaW9uIGNoYW5nZXMuXHJcbiAgICpcclxuICAgKiBUeXBpY2FsbHksIHlvdSBkb24ndCB1c2UgYG5nQmluZGAgZGlyZWN0bHksIGJ1dCBpbnN0ZWFkIHlvdSB1c2UgdGhlIGRvdWJsZSBjdXJseSBtYXJrdXAgbGlrZVxyXG4gICAqIGB7eyBleHByZXNzaW9uIH19YCB3aGljaCBpcyBzaW1pbGFyIGJ1dCBsZXNzIHZlcmJvc2UuXHJcbiAgICpcclxuICAgKiBJdCBpcyBwcmVmZXJhYmxlIHRvIHVzZSBgbmdCaW5kYCBpbnN0ZWFkIG9mIGB7eyBleHByZXNzaW9uIH19YCBpZiBhIHRlbXBsYXRlIGlzIG1vbWVudGFyaWx5XHJcbiAgICogZGlzcGxheWVkIGJ5IHRoZSBicm93c2VyIGluIGl0cyByYXcgc3RhdGUgYmVmb3JlIEFuZ3VsYXIgY29tcGlsZXMgaXQuIFNpbmNlIGBuZ0JpbmRgIGlzIGFuXHJcbiAgICogZWxlbWVudCBhdHRyaWJ1dGUsIGl0IG1ha2VzIHRoZSBiaW5kaW5ncyBpbnZpc2libGUgdG8gdGhlIHVzZXIgd2hpbGUgdGhlIHBhZ2UgaXMgbG9hZGluZy5cclxuICAgKlxyXG4gICAqIEFuIGFsdGVybmF0aXZlIHNvbHV0aW9uIHRvIHRoaXMgcHJvYmxlbSB3b3VsZCBiZSB1c2luZyB0aGVcclxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xvYWsgbmdDbG9ha30gZGlyZWN0aXZlLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQmluZCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogRW50ZXIgYSBuYW1lIGluIHRoZSBMaXZlIFByZXZpZXcgdGV4dCBib3g7IHRoZSBncmVldGluZyBiZWxvdyB0aGUgdGV4dCBib3ggY2hhbmdlcyBpbnN0YW50bHkuXHJcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEV4YW1wbGVcIiBuYW1lPVwibmctYmluZFwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnYmluZEV4YW1wbGUnLCBbXSlcclxuICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICRzY29wZS5uYW1lID0gJ1doaXJsZWQnO1xyXG4gICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8bGFiZWw+RW50ZXIgbmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCI+PC9sYWJlbD48YnI+XHJcbiAgICAgICAgICAgSGVsbG8gPHNwYW4gbmctYmluZD1cIm5hbWVcIj48L3NwYW4+IVxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1iaW5kJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgdmFyIG5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSk7XHJcbiAgXHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbmFtZScpKS5nZXRUZXh0KCkpLnRvQmUoJ1doaXJsZWQnKTtcclxuICAgICAgICAgICBuYW1lSW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICBuYW1lSW5wdXQuc2VuZEtleXMoJ3dvcmxkJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbmFtZScpKS5nZXRUZXh0KCkpLnRvQmUoJ3dvcmxkJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICB2YXIgbmdCaW5kRGlyZWN0aXZlID0gWyckY29tcGlsZScsIGZ1bmN0aW9uICgkY29tcGlsZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBQycsXHJcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZENvbXBpbGUodGVtcGxhdGVFbGVtZW50KSB7XHJcbiAgICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nQ2xhc3ModGVtcGxhdGVFbGVtZW50KTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gbmdCaW5kTGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LCBhdHRyLm5nQmluZCk7XHJcbiAgICAgICAgICBlbGVtZW50ID0gZWxlbWVudFswXTtcclxuICAgICAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nQmluZCwgZnVuY3Rpb24gbmdCaW5kV2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgICAgZWxlbWVudC50ZXh0Q29udGVudCA9IHN0cmluZ2lmeSh2YWx1ZSk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdCaW5kVGVtcGxhdGVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoZSBgbmdCaW5kVGVtcGxhdGVgIGRpcmVjdGl2ZSBzcGVjaWZpZXMgdGhhdCB0aGUgZWxlbWVudFxyXG4gICAqIHRleHQgY29udGVudCBzaG91bGQgYmUgcmVwbGFjZWQgd2l0aCB0aGUgaW50ZXJwb2xhdGlvbiBvZiB0aGUgdGVtcGxhdGVcclxuICAgKiBpbiB0aGUgYG5nQmluZFRlbXBsYXRlYCBhdHRyaWJ1dGUuXHJcbiAgICogVW5saWtlIGBuZ0JpbmRgLCB0aGUgYG5nQmluZFRlbXBsYXRlYCBjYW4gY29udGFpbiBtdWx0aXBsZSBge3tgIGB9fWBcclxuICAgKiBleHByZXNzaW9ucy4gVGhpcyBkaXJlY3RpdmUgaXMgbmVlZGVkIHNpbmNlIHNvbWUgSFRNTCBlbGVtZW50c1xyXG4gICAqIChzdWNoIGFzIFRJVExFIGFuZCBPUFRJT04pIGNhbm5vdCBjb250YWluIFNQQU4gZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdCaW5kVGVtcGxhdGUgdGVtcGxhdGUgb2YgZm9ybVxyXG4gICAqICAgPHR0Pnt7PC90dD4gPHR0PmV4cHJlc3Npb248L3R0PiA8dHQ+fX08L3R0PiB0byBldmFsLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBUcnkgaXQgaGVyZTogZW50ZXIgdGV4dCBpbiB0ZXh0IGJveCBhbmQgd2F0Y2ggdGhlIGdyZWV0aW5nIGNoYW5nZS5cclxuICAgICA8ZXhhbXBsZSBtb2R1bGU9XCJiaW5kRXhhbXBsZVwiIG5hbWU9XCJuZy1iaW5kLXRlbXBsYXRlXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdiaW5kRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgICAgICAgICAgICAgJHNjb3BlLnNhbHV0YXRpb24gPSAnSGVsbG8nO1xyXG4gICAgICAgICAgICAgICAkc2NvcGUubmFtZSA9ICdXb3JsZCc7XHJcbiAgICAgICAgICAgICB9XSk7XHJcbiAgICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgPGxhYmVsPlNhbHV0YXRpb246IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic2FsdXRhdGlvblwiPjwvbGFiZWw+PGJyPlxyXG4gICAgICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibmFtZVwiPjwvbGFiZWw+PGJyPlxyXG4gICAgICAgICAgPHByZSBuZy1iaW5kLXRlbXBsYXRlPVwie3tzYWx1dGF0aW9ufX0ge3tuYW1lfX0hXCI+PC9wcmU+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICB2YXIgc2FsdXRhdGlvbkVsZW0gPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ3NhbHV0YXRpb24nKSk7XHJcbiAgICAgICAgICAgdmFyIHNhbHV0YXRpb25JbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NhbHV0YXRpb24nKSk7XHJcbiAgICAgICAgICAgdmFyIG5hbWVJbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ25hbWUnKSk7XHJcbiAgXHJcbiAgICAgICAgICAgZXhwZWN0KHNhbHV0YXRpb25FbGVtLmdldFRleHQoKSkudG9CZSgnSGVsbG8gV29ybGQhJyk7XHJcbiAgXHJcbiAgICAgICAgICAgc2FsdXRhdGlvbklucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgc2FsdXRhdGlvbklucHV0LnNlbmRLZXlzKCdHcmVldGluZ3MnKTtcclxuICAgICAgICAgICBuYW1lSW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICBuYW1lSW5wdXQuc2VuZEtleXMoJ3VzZXInKTtcclxuICBcclxuICAgICAgICAgICBleHBlY3Qoc2FsdXRhdGlvbkVsZW0uZ2V0VGV4dCgpKS50b0JlKCdHcmVldGluZ3MgdXNlciEnKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIHZhciBuZ0JpbmRUZW1wbGF0ZURpcmVjdGl2ZSA9IFsnJGludGVycG9sYXRlJywgJyRjb21waWxlJywgZnVuY3Rpb24gKCRpbnRlcnBvbGF0ZSwgJGNvbXBpbGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nQmluZFRlbXBsYXRlQ29tcGlsZSh0ZW1wbGF0ZUVsZW1lbnQpIHtcclxuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0ZW1wbGF0ZUVsZW1lbnQpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRUZW1wbGF0ZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAgIHZhciBpbnRlcnBvbGF0ZUZuID0gJGludGVycG9sYXRlKGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyLm5nQmluZFRlbXBsYXRlKSk7XHJcbiAgICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdJbmZvKGVsZW1lbnQsIGludGVycG9sYXRlRm4uZXhwcmVzc2lvbnMpO1xyXG4gICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbMF07XHJcbiAgICAgICAgICBhdHRyLiRvYnNlcnZlKCduZ0JpbmRUZW1wbGF0ZScsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gaXNVbmRlZmluZWQodmFsdWUpID8gJycgOiB2YWx1ZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ0JpbmRIdG1sXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBFdmFsdWF0ZXMgdGhlIGV4cHJlc3Npb24gYW5kIGluc2VydHMgdGhlIHJlc3VsdGluZyBIVE1MIGludG8gdGhlIGVsZW1lbnQgaW4gYSBzZWN1cmUgd2F5LiBCeSBkZWZhdWx0LFxyXG4gICAqIHRoZSByZXN1bHRpbmcgSFRNTCBjb250ZW50IHdpbGwgYmUgc2FuaXRpemVkIHVzaW5nIHRoZSB7QGxpbmsgbmdTYW5pdGl6ZS4kc2FuaXRpemUgJHNhbml0aXplfSBzZXJ2aWNlLlxyXG4gICAqIFRvIHV0aWxpemUgdGhpcyBmdW5jdGlvbmFsaXR5LCBlbnN1cmUgdGhhdCBgJHNhbml0aXplYCBpcyBhdmFpbGFibGUsIGZvciBleGFtcGxlLCBieSBpbmNsdWRpbmcge0BsaW5rXHJcbiAgICogbmdTYW5pdGl6ZX0gaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMgKG5vdCBpbiBjb3JlIEFuZ3VsYXIpLiBJbiBvcmRlciB0byB1c2Uge0BsaW5rIG5nU2FuaXRpemV9XHJcbiAgICogaW4geW91ciBtb2R1bGUncyBkZXBlbmRlbmNpZXMsIHlvdSBuZWVkIHRvIGluY2x1ZGUgXCJhbmd1bGFyLXNhbml0aXplLmpzXCIgaW4geW91ciBhcHBsaWNhdGlvbi5cclxuICAgKlxyXG4gICAqIFlvdSBtYXkgYWxzbyBieXBhc3Mgc2FuaXRpemF0aW9uIGZvciB2YWx1ZXMgeW91IGtub3cgYXJlIHNhZmUuIFRvIGRvIHNvLCBiaW5kIHRvXHJcbiAgICogYW4gZXhwbGljaXRseSB0cnVzdGVkIHZhbHVlIHZpYSB7QGxpbmsgbmcuJHNjZSN0cnVzdEFzSHRtbCAkc2NlLnRydXN0QXNIdG1sfS4gIFNlZSB0aGUgZXhhbXBsZVxyXG4gICAqIHVuZGVyIHtAbGluayBuZy4kc2NlI3Nob3ctbWUtYW4tZXhhbXBsZS11c2luZy1zY2UtIFN0cmljdCBDb250ZXh0dWFsIEVzY2FwaW5nIChTQ0UpfS5cclxuICAgKlxyXG4gICAqIE5vdGU6IElmIGEgYCRzYW5pdGl6ZWAgc2VydmljZSBpcyB1bmF2YWlsYWJsZSBhbmQgdGhlIGJvdW5kIHZhbHVlIGlzbid0IGV4cGxpY2l0bHkgdHJ1c3RlZCwgeW91XHJcbiAgICogd2lsbCBoYXZlIGFuIGV4Y2VwdGlvbiAoaW5zdGVhZCBvZiBhbiBleHBsb2l0LilcclxuICAgKlxyXG4gICAqIEBlbGVtZW50IEFOWVxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdCaW5kSHRtbCB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgXHJcbiAgICAgPGV4YW1wbGUgbW9kdWxlPVwiYmluZEh0bWxFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItc2FuaXRpemUuanNcIiBuYW1lPVwibmctYmluZC1odG1sXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgPHAgbmctYmluZC1odG1sPVwibXlIVE1MXCI+PC9wPlxyXG4gICAgICAgICA8L2Rpdj5cclxuICAgICAgIDwvZmlsZT5cclxuICBcclxuICAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2JpbmRIdG1sRXhhbXBsZScsIFsnbmdTYW5pdGl6ZSddKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAkc2NvcGUubXlIVE1MID1cclxuICAgICAgICAgICAgICAgICdJIGFtIGFuIDxjb2RlPkhUTUw8L2NvZGU+c3RyaW5nIHdpdGggJyArXHJcbiAgICAgICAgICAgICAgICAnPGEgaHJlZj1cIiNcIj5saW5rcyE8L2E+IGFuZCBvdGhlciA8ZW0+c3R1ZmY8L2VtPic7XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gIFxyXG4gICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWJpbmQtaHRtbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ215SFRNTCcpKS5nZXRUZXh0KCkpLnRvQmUoXHJcbiAgICAgICAgICAgICAgICdJIGFtIGFuIEhUTUxzdHJpbmcgd2l0aCBsaW5rcyEgYW5kIG90aGVyIHN0dWZmJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICB2YXIgbmdCaW5kSHRtbERpcmVjdGl2ZSA9IFsnJHNjZScsICckcGFyc2UnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbiAoJHNjZSwgJHBhcnNlLCAkY29tcGlsZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgY29tcGlsZTogZnVuY3Rpb24gbmdCaW5kSHRtbENvbXBpbGUodEVsZW1lbnQsIHRBdHRycykge1xyXG4gICAgICAgIHZhciBuZ0JpbmRIdG1sR2V0dGVyID0gJHBhcnNlKHRBdHRycy5uZ0JpbmRIdG1sKTtcclxuICAgICAgICB2YXIgbmdCaW5kSHRtbFdhdGNoID0gJHBhcnNlKHRBdHRycy5uZ0JpbmRIdG1sLCBmdW5jdGlvbiBzY2VWYWx1ZU9mKHZhbCkge1xyXG4gICAgICAgICAgLy8gVW53cmFwIHRoZSB2YWx1ZSB0byBjb21wYXJlIHRoZSBhY3R1YWwgaW5uZXIgc2FmZSB2YWx1ZSwgbm90IHRoZSB3cmFwcGVyIG9iamVjdC5cclxuICAgICAgICAgIHJldHVybiAkc2NlLnZhbHVlT2YodmFsKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkY29tcGlsZS4kJGFkZEJpbmRpbmdDbGFzcyh0RWxlbWVudCk7XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0JpbmRIdG1sTGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgICAgJGNvbXBpbGUuJCRhZGRCaW5kaW5nSW5mbyhlbGVtZW50LCBhdHRyLm5nQmluZEh0bWwpO1xyXG5cclxuICAgICAgICAgIHNjb3BlLiR3YXRjaChuZ0JpbmRIdG1sV2F0Y2gsIGZ1bmN0aW9uIG5nQmluZEh0bWxXYXRjaEFjdGlvbigpIHtcclxuICAgICAgICAgICAgLy8gVGhlIHdhdGNoZWQgdmFsdWUgaXMgdGhlIHVud3JhcHBlZCB2YWx1ZS4gVG8gYXZvaWQgcmUtZXNjYXBpbmcsIHVzZSB0aGUgZGlyZWN0IGdldHRlci5cclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gbmdCaW5kSHRtbEdldHRlcihzY29wZSk7XHJcbiAgICAgICAgICAgIGVsZW1lbnQuaHRtbCgkc2NlLmdldFRydXN0ZWRIdG1sKHZhbHVlKSB8fCAnJyk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdDaGFuZ2VcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEV2YWx1YXRlIHRoZSBnaXZlbiBleHByZXNzaW9uIHdoZW4gdGhlIHVzZXIgY2hhbmdlcyB0aGUgaW5wdXQuXHJcbiAgICogVGhlIGV4cHJlc3Npb24gaXMgZXZhbHVhdGVkIGltbWVkaWF0ZWx5LCB1bmxpa2UgdGhlIEphdmFTY3JpcHQgb25jaGFuZ2UgZXZlbnRcclxuICAgKiB3aGljaCBvbmx5IHRyaWdnZXJzIGF0IHRoZSBlbmQgb2YgYSBjaGFuZ2UgKHVzdWFsbHksIHdoZW4gdGhlIHVzZXIgbGVhdmVzIHRoZVxyXG4gICAqIGZvcm0gZWxlbWVudCBvciBwcmVzc2VzIHRoZSByZXR1cm4ga2V5KS5cclxuICAgKlxyXG4gICAqIFRoZSBgbmdDaGFuZ2VgIGV4cHJlc3Npb24gaXMgb25seSBldmFsdWF0ZWQgd2hlbiBhIGNoYW5nZSBpbiB0aGUgaW5wdXQgdmFsdWUgY2F1c2VzXHJcbiAgICogYSBuZXcgdmFsdWUgdG8gYmUgY29tbWl0dGVkIHRvIHRoZSBtb2RlbC5cclxuICAgKlxyXG4gICAqIEl0IHdpbGwgbm90IGJlIGV2YWx1YXRlZDpcclxuICAgKiAqIGlmIHRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBgJHBhcnNlcnNgIHRyYW5zZm9ybWF0aW9uIHBpcGVsaW5lIGhhcyBub3QgY2hhbmdlZFxyXG4gICAqICogaWYgdGhlIGlucHV0IGhhcyBjb250aW51ZWQgdG8gYmUgaW52YWxpZCBzaW5jZSB0aGUgbW9kZWwgd2lsbCBzdGF5IGBudWxsYFxyXG4gICAqICogaWYgdGhlIG1vZGVsIGlzIGNoYW5nZWQgcHJvZ3JhbW1hdGljYWxseSBhbmQgbm90IGJ5IGEgY2hhbmdlIHRvIHRoZSBpbnB1dCB2YWx1ZVxyXG4gICAqXHJcbiAgICpcclxuICAgKiBOb3RlLCB0aGlzIGRpcmVjdGl2ZSByZXF1aXJlcyBgbmdNb2RlbGAgdG8gYmUgcHJlc2VudC5cclxuICAgKlxyXG4gICAqIEBlbGVtZW50IGlucHV0XHJcbiAgICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0NoYW5nZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uIGNoYW5nZVxyXG4gICAqIGluIGlucHV0IHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmdDaGFuZ2UtZGlyZWN0aXZlXCIgbW9kdWxlPVwiY2hhbmdlRXhhbXBsZVwiPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgKiAgICAgPHNjcmlwdD5cclxuICAgKiAgICAgICBhbmd1bGFyLm1vZHVsZSgnY2hhbmdlRXhhbXBsZScsIFtdKVxyXG4gICAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgKiAgICAgICAgICAgJHNjb3BlLmNvdW50ZXIgPSAwO1xyXG4gICAqICAgICAgICAgICAkc2NvcGUuY2hhbmdlID0gZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICAgICAgICAgJHNjb3BlLmNvdW50ZXIrKztcclxuICAgKiAgICAgICAgICAgfTtcclxuICAgKiAgICAgICAgIH1dKTtcclxuICAgKiAgICAgPC9zY3JpcHQ+XHJcbiAgICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgbmctY2hhbmdlPVwiY2hhbmdlKClcIiBpZD1cIm5nLWNoYW5nZS1leGFtcGxlMVwiIC8+XHJcbiAgICogICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY29uZmlybWVkXCIgaWQ9XCJuZy1jaGFuZ2UtZXhhbXBsZTJcIiAvPlxyXG4gICAqICAgICAgIDxsYWJlbCBmb3I9XCJuZy1jaGFuZ2UtZXhhbXBsZTJcIj5Db25maXJtZWQ8L2xhYmVsPjxiciAvPlxyXG4gICAqICAgICAgIDx0dD5kZWJ1ZyA9IHt7Y29uZmlybWVkfX08L3R0Pjxici8+XHJcbiAgICogICAgICAgPHR0PmNvdW50ZXIgPSB7e2NvdW50ZXJ9fTwvdHQ+PGJyLz5cclxuICAgKiAgICAgPC9kaXY+XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICogICAgIHZhciBjb3VudGVyID0gZWxlbWVudChieS5iaW5kaW5nKCdjb3VudGVyJykpO1xyXG4gICAqICAgICB2YXIgZGVidWcgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvbmZpcm1lZCcpKTtcclxuICAgKlxyXG4gICAqICAgICBpdCgnc2hvdWxkIGV2YWx1YXRlIHRoZSBleHByZXNzaW9uIGlmIGNoYW5naW5nIGZyb20gdmlldycsIGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcwJyk7XHJcbiAgICpcclxuICAgKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTEnKSkuY2xpY2soKTtcclxuICAgKlxyXG4gICAqICAgICAgIGV4cGVjdChjb3VudGVyLmdldFRleHQoKSkudG9Db250YWluKCcxJyk7XHJcbiAgICogICAgICAgZXhwZWN0KGRlYnVnLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICogICAgIH0pO1xyXG4gICAqXHJcbiAgICogICAgIGl0KCdzaG91bGQgbm90IGV2YWx1YXRlIHRoZSBleHByZXNzaW9uIGlmIGNoYW5naW5nIGZyb20gbW9kZWwnLCBmdW5jdGlvbigpIHtcclxuICAgKiAgICAgICBlbGVtZW50KGJ5LmlkKCduZy1jaGFuZ2UtZXhhbXBsZTInKSkuY2xpY2soKTtcclxuICBcclxuICAgKiAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvQ29udGFpbignMCcpO1xyXG4gICAqICAgICAgIGV4cGVjdChkZWJ1Zy5nZXRUZXh0KCkpLnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAqICAgICB9KTtcclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG5nQ2hhbmdlRGlyZWN0aXZlID0gdmFsdWVGbih7XHJcbiAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgcmVxdWlyZTogJ25nTW9kZWwnLFxyXG4gICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xyXG4gICAgICBjdHJsLiR2aWV3Q2hhbmdlTGlzdGVuZXJzLnB1c2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNjb3BlLiRldmFsKGF0dHIubmdDaGFuZ2UpO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLyogZXhwb3J0ZWRcclxuICAgIG5nQ2xhc3NEaXJlY3RpdmUsXHJcbiAgICBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSxcclxuICAgIG5nQ2xhc3NPZGREaXJlY3RpdmVcclxuICAqL1xyXG5cclxuICBmdW5jdGlvbiBjbGFzc0RpcmVjdGl2ZShuYW1lLCBzZWxlY3Rvcikge1xyXG4gICAgbmFtZSA9ICduZ0NsYXNzJyArIG5hbWU7XHJcbiAgICB2YXIgaW5kZXhXYXRjaEV4cHJlc3Npb247XHJcblxyXG4gICAgcmV0dXJuIFsnJHBhcnNlJywgZnVuY3Rpb24gKCRwYXJzZSkge1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHJlc3RyaWN0OiAnQUMnLFxyXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAgIHZhciBleHByZXNzaW9uID0gYXR0cltuYW1lXS50cmltKCk7XHJcbiAgICAgICAgICB2YXIgaXNPbmVUaW1lID0gZXhwcmVzc2lvbi5jaGFyQXQoMCkgPT09ICc6JyAmJiBleHByZXNzaW9uLmNoYXJBdCgxKSA9PT0gJzonO1xyXG5cclxuICAgICAgICAgIHZhciB3YXRjaEludGVyY2VwdG9yID0gaXNPbmVUaW1lID8gdG9GbGF0VmFsdWUgOiB0b0NsYXNzU3RyaW5nO1xyXG4gICAgICAgICAgdmFyIHdhdGNoRXhwcmVzc2lvbiA9ICRwYXJzZShleHByZXNzaW9uLCB3YXRjaEludGVyY2VwdG9yKTtcclxuICAgICAgICAgIHZhciB3YXRjaEFjdGlvbiA9IGlzT25lVGltZSA/IG5nQ2xhc3NPbmVUaW1lV2F0Y2hBY3Rpb24gOiBuZ0NsYXNzV2F0Y2hBY3Rpb247XHJcblxyXG4gICAgICAgICAgdmFyIGNsYXNzQ291bnRzID0gZWxlbWVudC5kYXRhKCckY2xhc3NDb3VudHMnKTtcclxuICAgICAgICAgIHZhciBvbGRNb2R1bG8gPSB0cnVlO1xyXG4gICAgICAgICAgdmFyIG9sZENsYXNzU3RyaW5nO1xyXG5cclxuICAgICAgICAgIGlmICghY2xhc3NDb3VudHMpIHtcclxuICAgICAgICAgICAgLy8gVXNlIGNyZWF0ZU1hcCgpIHRvIHByZXZlbnQgY2xhc3MgYXNzdW1wdGlvbnMgaW52b2x2aW5nIHByb3BlcnR5XHJcbiAgICAgICAgICAgIC8vIG5hbWVzIGluIE9iamVjdC5wcm90b3R5cGVcclxuICAgICAgICAgICAgY2xhc3NDb3VudHMgPSBjcmVhdGVNYXAoKTtcclxuICAgICAgICAgICAgZWxlbWVudC5kYXRhKCckY2xhc3NDb3VudHMnLCBjbGFzc0NvdW50cyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKG5hbWUgIT09ICduZ0NsYXNzJykge1xyXG4gICAgICAgICAgICBpZiAoIWluZGV4V2F0Y2hFeHByZXNzaW9uKSB7XHJcbiAgICAgICAgICAgICAgaW5kZXhXYXRjaEV4cHJlc3Npb24gPSAkcGFyc2UoJyRpbmRleCcsIGZ1bmN0aW9uIG1vZHVsb1R3bygkaW5kZXgpIHtcclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJGluZGV4ICYgMTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKGluZGV4V2F0Y2hFeHByZXNzaW9uLCBuZ0NsYXNzSW5kZXhXYXRjaEFjdGlvbik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKHdhdGNoRXhwcmVzc2lvbiwgd2F0Y2hBY3Rpb24sIGlzT25lVGltZSk7XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gYWRkQ2xhc3NlcyhjbGFzc1N0cmluZykge1xyXG4gICAgICAgICAgICBjbGFzc1N0cmluZyA9IGRpZ2VzdENsYXNzQ291bnRzKHNwbGl0KGNsYXNzU3RyaW5nKSwgMSk7XHJcbiAgICAgICAgICAgIGF0dHIuJGFkZENsYXNzKGNsYXNzU3RyaW5nKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiByZW1vdmVDbGFzc2VzKGNsYXNzU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGNsYXNzU3RyaW5nID0gZGlnZXN0Q2xhc3NDb3VudHMoc3BsaXQoY2xhc3NTdHJpbmcpLCAtMSk7XHJcbiAgICAgICAgICAgIGF0dHIuJHJlbW92ZUNsYXNzKGNsYXNzU3RyaW5nKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVDbGFzc2VzKG9sZENsYXNzU3RyaW5nLCBuZXdDbGFzc1N0cmluZykge1xyXG4gICAgICAgICAgICB2YXIgb2xkQ2xhc3NBcnJheSA9IHNwbGl0KG9sZENsYXNzU3RyaW5nKTtcclxuICAgICAgICAgICAgdmFyIG5ld0NsYXNzQXJyYXkgPSBzcGxpdChuZXdDbGFzc1N0cmluZyk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdG9SZW1vdmVBcnJheSA9IGFycmF5RGlmZmVyZW5jZShvbGRDbGFzc0FycmF5LCBuZXdDbGFzc0FycmF5KTtcclxuICAgICAgICAgICAgdmFyIHRvQWRkQXJyYXkgPSBhcnJheURpZmZlcmVuY2UobmV3Q2xhc3NBcnJheSwgb2xkQ2xhc3NBcnJheSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgdG9SZW1vdmVTdHJpbmcgPSBkaWdlc3RDbGFzc0NvdW50cyh0b1JlbW92ZUFycmF5LCAtMSk7XHJcbiAgICAgICAgICAgIHZhciB0b0FkZFN0cmluZyA9IGRpZ2VzdENsYXNzQ291bnRzKHRvQWRkQXJyYXksIDEpO1xyXG5cclxuICAgICAgICAgICAgYXR0ci4kYWRkQ2xhc3ModG9BZGRTdHJpbmcpO1xyXG4gICAgICAgICAgICBhdHRyLiRyZW1vdmVDbGFzcyh0b1JlbW92ZVN0cmluZyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gZGlnZXN0Q2xhc3NDb3VudHMoY2xhc3NBcnJheSwgY291bnQpIHtcclxuICAgICAgICAgICAgdmFyIGNsYXNzZXNUb1VwZGF0ZSA9IFtdO1xyXG5cclxuICAgICAgICAgICAgZm9yRWFjaChjbGFzc0FycmF5LCBmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XHJcbiAgICAgICAgICAgICAgaWYgKGNvdW50ID4gMCB8fCBjbGFzc0NvdW50c1tjbGFzc05hbWVdKSB7XHJcbiAgICAgICAgICAgICAgICBjbGFzc0NvdW50c1tjbGFzc05hbWVdID0gKGNsYXNzQ291bnRzW2NsYXNzTmFtZV0gfHwgMCkgKyBjb3VudDtcclxuICAgICAgICAgICAgICAgIGlmIChjbGFzc0NvdW50c1tjbGFzc05hbWVdID09PSArKGNvdW50ID4gMCkpIHtcclxuICAgICAgICAgICAgICAgICAgY2xhc3Nlc1RvVXBkYXRlLnB1c2goY2xhc3NOYW1lKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGNsYXNzZXNUb1VwZGF0ZS5qb2luKCcgJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gbmdDbGFzc0luZGV4V2F0Y2hBY3Rpb24obmV3TW9kdWxvKSB7XHJcbiAgICAgICAgICAgIC8vIFRoaXMgd2F0Y2gtYWN0aW9uIHNob3VsZCBydW4gYmVmb3JlIHRoZSBgbmdDbGFzc1tPbmVUaW1lXVdhdGNoQWN0aW9uKClgLCB0aHVzIGl0XHJcbiAgICAgICAgICAgIC8vIGFkZHMvcmVtb3ZlcyBgb2xkQ2xhc3NTdHJpbmdgLiBJZiB0aGUgYG5nQ2xhc3NgIGV4cHJlc3Npb24gaGFzIGNoYW5nZWQgYXMgd2VsbCwgdGhlXHJcbiAgICAgICAgICAgIC8vIGBuZ0NsYXNzW09uZVRpbWVdV2F0Y2hBY3Rpb24oKWAgd2lsbCB1cGRhdGUgdGhlIGNsYXNzZXMuXHJcbiAgICAgICAgICAgIGlmIChuZXdNb2R1bG8gPT09IHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgYWRkQ2xhc3NlcyhvbGRDbGFzc1N0cmluZyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3NlcyhvbGRDbGFzc1N0cmluZyk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIG9sZE1vZHVsbyA9IG5ld01vZHVsbztcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiBuZ0NsYXNzT25lVGltZVdhdGNoQWN0aW9uKG5ld0NsYXNzVmFsdWUpIHtcclxuICAgICAgICAgICAgdmFyIG5ld0NsYXNzU3RyaW5nID0gdG9DbGFzc1N0cmluZyhuZXdDbGFzc1ZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChuZXdDbGFzc1N0cmluZyAhPT0gb2xkQ2xhc3NTdHJpbmcpIHtcclxuICAgICAgICAgICAgICBuZ0NsYXNzV2F0Y2hBY3Rpb24obmV3Q2xhc3NTdHJpbmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gbmdDbGFzc1dhdGNoQWN0aW9uKG5ld0NsYXNzU3RyaW5nKSB7XHJcbiAgICAgICAgICAgIGlmIChvbGRNb2R1bG8gPT09IHNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAgICAgdXBkYXRlQ2xhc3NlcyhvbGRDbGFzc1N0cmluZywgbmV3Q2xhc3NTdHJpbmcpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBvbGRDbGFzc1N0cmluZyA9IG5ld0NsYXNzU3RyaW5nO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1dO1xyXG5cclxuICAgIC8vIEhlbHBlcnNcclxuICAgIGZ1bmN0aW9uIGFycmF5RGlmZmVyZW5jZSh0b2tlbnMxLCB0b2tlbnMyKSB7XHJcbiAgICAgIGlmICghdG9rZW5zMSB8fCAhdG9rZW5zMS5sZW5ndGgpIHJldHVybiBbXTtcclxuICAgICAgaWYgKCF0b2tlbnMyIHx8ICF0b2tlbnMyLmxlbmd0aCkgcmV0dXJuIHRva2VuczE7XHJcblxyXG4gICAgICB2YXIgdmFsdWVzID0gW107XHJcblxyXG4gICAgICBvdXRlcjogZm9yICh2YXIgaSA9IDA7IGkgPCB0b2tlbnMxLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHRva2VuID0gdG9rZW5zMVtpXTtcclxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRva2VuczIubGVuZ3RoOyBqKyspIHtcclxuICAgICAgICAgIGlmICh0b2tlbiA9PT0gdG9rZW5zMltqXSkgY29udGludWUgb3V0ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhbHVlcy5wdXNoKHRva2VuKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIHZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBzcGxpdChjbGFzc1N0cmluZykge1xyXG4gICAgICByZXR1cm4gY2xhc3NTdHJpbmcgJiYgY2xhc3NTdHJpbmcuc3BsaXQoJyAnKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiB0b0NsYXNzU3RyaW5nKGNsYXNzVmFsdWUpIHtcclxuICAgICAgdmFyIGNsYXNzU3RyaW5nID0gY2xhc3NWYWx1ZTtcclxuXHJcbiAgICAgIGlmIChpc0FycmF5KGNsYXNzVmFsdWUpKSB7XHJcbiAgICAgICAgY2xhc3NTdHJpbmcgPSBjbGFzc1ZhbHVlLm1hcCh0b0NsYXNzU3RyaW5nKS5qb2luKCcgJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoaXNPYmplY3QoY2xhc3NWYWx1ZSkpIHtcclxuICAgICAgICBjbGFzc1N0cmluZyA9IE9iamVjdC5rZXlzKGNsYXNzVmFsdWUpLmZpbHRlcihmdW5jdGlvbiAoa2V5KSB7XHJcbiAgICAgICAgICByZXR1cm4gY2xhc3NWYWx1ZVtrZXldO1xyXG4gICAgICAgIH0pLmpvaW4oJyAnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGNsYXNzU3RyaW5nO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHRvRmxhdFZhbHVlKGNsYXNzVmFsdWUpIHtcclxuICAgICAgdmFyIGZsYXRWYWx1ZSA9IGNsYXNzVmFsdWU7XHJcblxyXG4gICAgICBpZiAoaXNBcnJheShjbGFzc1ZhbHVlKSkge1xyXG4gICAgICAgIGZsYXRWYWx1ZSA9IGNsYXNzVmFsdWUubWFwKHRvRmxhdFZhbHVlKTtcclxuICAgICAgfSBlbHNlIGlmIChpc09iamVjdChjbGFzc1ZhbHVlKSkge1xyXG4gICAgICAgIHZhciBoYXNVbmRlZmluZWQgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgZmxhdFZhbHVlID0gT2JqZWN0LmtleXMoY2xhc3NWYWx1ZSkuZmlsdGVyKGZ1bmN0aW9uIChrZXkpIHtcclxuICAgICAgICAgIHZhciB2YWx1ZSA9IGNsYXNzVmFsdWVba2V5XTtcclxuXHJcbiAgICAgICAgICBpZiAoIWhhc1VuZGVmaW5lZCAmJiBpc1VuZGVmaW5lZCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgaGFzVW5kZWZpbmVkID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChoYXNVbmRlZmluZWQpIHtcclxuICAgICAgICAgIC8vIFByZXZlbnQgdGhlIGBvbmVUaW1lTGl0ZXJhbFdhdGNoSW50ZXJjZXB0b3JgIGZyb20gdW5yZWdpc3RlcmluZ1xyXG4gICAgICAgICAgLy8gdGhlIHdhdGNoZXIsIGJ5IGluY2x1ZGluZyBhdCBsZWFzdCBvbmUgYHVuZGVmaW5lZGAgdmFsdWUuXHJcbiAgICAgICAgICBmbGF0VmFsdWUucHVzaCh1bmRlZmluZWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGZsYXRWYWx1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ0NsYXNzXHJcbiAgICogQHJlc3RyaWN0IEFDXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYG5nQ2xhc3NgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIGR5bmFtaWNhbGx5IHNldCBDU1MgY2xhc3NlcyBvbiBhbiBIVE1MIGVsZW1lbnQgYnkgZGF0YWJpbmRpbmdcclxuICAgKiBhbiBleHByZXNzaW9uIHRoYXQgcmVwcmVzZW50cyBhbGwgY2xhc3NlcyB0byBiZSBhZGRlZC5cclxuICAgKlxyXG4gICAqIFRoZSBkaXJlY3RpdmUgb3BlcmF0ZXMgaW4gdGhyZWUgZGlmZmVyZW50IHdheXMsIGRlcGVuZGluZyBvbiB3aGljaCBvZiB0aHJlZSB0eXBlcyB0aGUgZXhwcmVzc2lvblxyXG4gICAqIGV2YWx1YXRlcyB0bzpcclxuICAgKlxyXG4gICAqIDEuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlIHN0cmluZyBzaG91bGQgYmUgb25lIG9yIG1vcmUgc3BhY2UtZGVsaW1pdGVkIGNsYXNzXHJcbiAgICogbmFtZXMuXHJcbiAgICpcclxuICAgKiAyLiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYW4gb2JqZWN0LCB0aGVuIGZvciBlYWNoIGtleS12YWx1ZSBwYWlyIG9mIHRoZVxyXG4gICAqIG9iamVjdCB3aXRoIGEgdHJ1dGh5IHZhbHVlIHRoZSBjb3JyZXNwb25kaW5nIGtleSBpcyB1c2VkIGFzIGEgY2xhc3MgbmFtZS5cclxuICAgKlxyXG4gICAqIDMuIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhbiBhcnJheSwgZWFjaCBlbGVtZW50IG9mIHRoZSBhcnJheSBzaG91bGQgZWl0aGVyIGJlIGEgc3RyaW5nIGFzIGluXHJcbiAgICogdHlwZSAxIG9yIGFuIG9iamVjdCBhcyBpbiB0eXBlIDIuIFRoaXMgbWVhbnMgdGhhdCB5b3UgY2FuIG1peCBzdHJpbmdzIGFuZCBvYmplY3RzIHRvZ2V0aGVyIGluIGFuIGFycmF5XHJcbiAgICogdG8gZ2l2ZSB5b3UgbW9yZSBjb250cm9sIG92ZXIgd2hhdCBDU1MgY2xhc3NlcyBhcHBlYXIuIFNlZSB0aGUgY29kZSBiZWxvdyBmb3IgYW4gZXhhbXBsZSBvZiB0aGlzLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBUaGUgZGlyZWN0aXZlIHdvbid0IGFkZCBkdXBsaWNhdGUgY2xhc3NlcyBpZiBhIHBhcnRpY3VsYXIgY2xhc3Mgd2FzIGFscmVhZHkgc2V0LlxyXG4gICAqXHJcbiAgICogV2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCB0aGUgcHJldmlvdXNseSBhZGRlZCBjbGFzc2VzIGFyZSByZW1vdmVkIGFuZCBvbmx5IHRoZW4gYXJlIHRoZVxyXG4gICAqIG5ldyBjbGFzc2VzIGFkZGVkLlxyXG4gICAqXHJcbiAgICogQGtub3duSXNzdWVcclxuICAgKiBZb3Ugc2hvdWxkIG5vdCB1c2Uge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24gaW50ZXJwb2xhdGlvbn0gaW4gdGhlIHZhbHVlIG9mIHRoZSBgY2xhc3NgXHJcbiAgICogYXR0cmlidXRlLCB3aGVuIHVzaW5nIHRoZSBgbmdDbGFzc2AgZGlyZWN0aXZlIG9uIHRoZSBzYW1lIGVsZW1lbnQuXHJcbiAgICogU2VlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uI2tub3duLWlzc3VlcyBoZXJlfSBmb3IgbW9yZSBpbmZvLlxyXG4gICAqXHJcbiAgICogQGFuaW1hdGlvbnNcclxuICAgKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAgICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjYWRkQ2xhc3MgYWRkQ2xhc3N9ICAgICAgIHwganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIGFwcGxpZWQgdG8gdGhlIGVsZW1lbnQgICB8XHJcbiAgICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgcmVtb3ZlQ2xhc3N9IHwganVzdCBiZWZvcmUgdGhlIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCB8XHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xhc3Mge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlIHJlc3VsdFxyXG4gICAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3NcclxuICAgKiAgIG5hbWVzLCBhbiBhcnJheSwgb3IgYSBtYXAgb2YgY2xhc3MgbmFtZXMgdG8gYm9vbGVhbiB2YWx1ZXMuIEluIHRoZSBjYXNlIG9mIGEgbWFwLCB0aGVcclxuICAgKiAgIG5hbWVzIG9mIHRoZSBwcm9wZXJ0aWVzIHdob3NlIHZhbHVlcyBhcmUgdHJ1dGh5IHdpbGwgYmUgYWRkZWQgYXMgY3NzIGNsYXNzZXMgdG8gdGhlXHJcbiAgICogICBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGUgRXhhbXBsZSB0aGF0IGRlbW9uc3RyYXRlcyBiYXNpYyBiaW5kaW5ncyB2aWEgbmdDbGFzcyBkaXJlY3RpdmUuXHJcbiAgICAgPGV4YW1wbGUgbmFtZT1cIm5nLWNsYXNzXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICA8cCBuZy1jbGFzcz1cIntzdHJpa2U6IGRlbGV0ZWQsIGJvbGQ6IGltcG9ydGFudCwgJ2hhcy1lcnJvcic6IGVycm9yfVwiPk1hcCBTeW50YXggRXhhbXBsZTwvcD5cclxuICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJkZWxldGVkXCI+XHJcbiAgICAgICAgICAgIGRlbGV0ZWQgKGFwcGx5IFwic3RyaWtlXCIgY2xhc3MpXHJcbiAgICAgICAgIDwvbGFiZWw+PGJyPlxyXG4gICAgICAgICA8bGFiZWw+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImltcG9ydGFudFwiPlxyXG4gICAgICAgICAgICBpbXBvcnRhbnQgKGFwcGx5IFwiYm9sZFwiIGNsYXNzKVxyXG4gICAgICAgICA8L2xhYmVsPjxicj5cclxuICAgICAgICAgPGxhYmVsPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJlcnJvclwiPlxyXG4gICAgICAgICAgICBlcnJvciAoYXBwbHkgXCJoYXMtZXJyb3JcIiBjbGFzcylcclxuICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgPGhyPlxyXG4gICAgICAgICA8cCBuZy1jbGFzcz1cInN0eWxlXCI+VXNpbmcgU3RyaW5nIFN5bnRheDwvcD5cclxuICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJzdHlsZVwiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlR5cGU6IGJvbGQgc3RyaWtlIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkIHN0cmlrZSByZWRcIj5cclxuICAgICAgICAgPGhyPlxyXG4gICAgICAgICA8cCBuZy1jbGFzcz1cIltzdHlsZTEsIHN0eWxlMiwgc3R5bGUzXVwiPlVzaW5nIEFycmF5IFN5bnRheDwvcD5cclxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUxXCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCI+PGJyPlxyXG4gICAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJzdHlsZTJcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkXCIgYXJpYS1sYWJlbD1cIlR5cGU6IGJvbGQsIHN0cmlrZSBvciByZWQgMlwiPjxicj5cclxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGUzXCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZTogYm9sZCwgc3RyaWtlIG9yIHJlZFwiIGFyaWEtbGFiZWw9XCJUeXBlOiBib2xkLCBzdHJpa2Ugb3IgcmVkIDNcIj48YnI+XHJcbiAgICAgICAgIDxocj5cclxuICAgICAgICAgPHAgbmctY2xhc3M9XCJbc3R5bGU0LCB7b3JhbmdlOiB3YXJuaW5nfV1cIj5Vc2luZyBBcnJheSBhbmQgTWFwIFN5bnRheDwvcD5cclxuICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwic3R5bGU0XCIgcGxhY2Vob2xkZXI9XCJUeXBlOiBib2xkLCBzdHJpa2VcIiBhcmlhLWxhYmVsPVwiVHlwZTogYm9sZCwgc3RyaWtlXCI+PGJyPlxyXG4gICAgICAgICA8bGFiZWw+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwid2FybmluZ1wiPiB3YXJuaW5nIChhcHBseSBcIm9yYW5nZVwiIGNsYXNzKTwvbGFiZWw+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgIC5zdHJpa2Uge1xyXG4gICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBsaW5lLXRocm91Z2g7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLmJvbGQge1xyXG4gICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLnJlZCB7XHJcbiAgICAgICAgICAgICBjb2xvcjogcmVkO1xyXG4gICAgICAgICB9XHJcbiAgICAgICAgIC5oYXMtZXJyb3Ige1xyXG4gICAgICAgICAgICAgY29sb3I6IHJlZDtcclxuICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHllbGxvdztcclxuICAgICAgICAgfVxyXG4gICAgICAgICAub3JhbmdlIHtcclxuICAgICAgICAgICAgIGNvbG9yOiBvcmFuZ2U7XHJcbiAgICAgICAgIH1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgdmFyIHBzID0gZWxlbWVudC5hbGwoYnkuY3NzKCdwJykpO1xyXG4gIFxyXG4gICAgICAgICBpdCgnc2hvdWxkIGxldCB5b3UgdG9nZ2xlIHRoZSBjbGFzcycsIGZ1bmN0aW9uKCkge1xyXG4gIFxyXG4gICAgICAgICAgIGV4cGVjdChwcy5maXJzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkubm90LnRvTWF0Y2goL2JvbGQvKTtcclxuICAgICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC50b01hdGNoKC9oYXMtZXJyb3IvKTtcclxuICBcclxuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdpbXBvcnRhbnQnKSkuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QocHMuZmlyc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL2JvbGQvKTtcclxuICBcclxuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdlcnJvcicpKS5jbGljaygpO1xyXG4gICAgICAgICAgIGV4cGVjdChwcy5maXJzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9NYXRjaCgvaGFzLWVycm9yLyk7XHJcbiAgICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgICBpdCgnc2hvdWxkIGxldCB5b3UgdG9nZ2xlIHN0cmluZyBleGFtcGxlJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KHBzLmdldCgxKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xyXG4gICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlJykpLmNsZWFyKCk7XHJcbiAgICAgICAgICAgZWxlbWVudChieS5tb2RlbCgnc3R5bGUnKSkuc2VuZEtleXMoJ3JlZCcpO1xyXG4gICAgICAgICAgIGV4cGVjdChwcy5nZXQoMSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCdyZWQnKTtcclxuICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgIGl0KCdhcnJheSBleGFtcGxlIHNob3VsZCBoYXZlIDMgY2xhc3NlcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChwcy5nZXQoMikuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS50b0JlKCcnKTtcclxuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTEnKSkuc2VuZEtleXMoJ2JvbGQnKTtcclxuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdzdHlsZTInKSkuc2VuZEtleXMoJ3N0cmlrZScpO1xyXG4gICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlMycpKS5zZW5kS2V5cygncmVkJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KHBzLmdldCgyKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJ2JvbGQgc3RyaWtlIHJlZCcpO1xyXG4gICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgaXQoJ2FycmF5IHdpdGggbWFwIGV4YW1wbGUgc2hvdWxkIGhhdmUgMiBjbGFzc2VzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KHBzLmxhc3QoKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvQmUoJycpO1xyXG4gICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3N0eWxlNCcpKS5zZW5kS2V5cygnYm9sZCcpO1xyXG4gICAgICAgICAgIGVsZW1lbnQoYnkubW9kZWwoJ3dhcm5pbmcnKSkuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QocHMubGFzdCgpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkudG9CZSgnYm9sZCBvcmFuZ2UnKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gIFxyXG4gICAgICMjIEFuaW1hdGlvbnNcclxuICBcclxuICAgICBUaGUgZXhhbXBsZSBiZWxvdyBkZW1vbnN0cmF0ZXMgaG93IHRvIHBlcmZvcm0gYW5pbWF0aW9ucyB1c2luZyBuZ0NsYXNzLlxyXG4gIFxyXG4gICAgIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1jbGFzc1wiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8aW5wdXQgaWQ9XCJzZXRidG5cIiB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJzZXRcIiBuZy1jbGljaz1cIm15VmFyPSdteS1jbGFzcydcIj5cclxuICAgICAgICA8aW5wdXQgaWQ9XCJjbGVhcmJ0blwiIHR5cGU9XCJidXR0b25cIiB2YWx1ZT1cImNsZWFyXCIgbmctY2xpY2s9XCJteVZhcj0nJ1wiPlxyXG4gICAgICAgIDxicj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cImJhc2UtY2xhc3NcIiBuZy1jbGFzcz1cIm15VmFyXCI+U2FtcGxlIFRleHQ8L3NwYW4+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgIC5iYXNlLWNsYXNzIHtcclxuICAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XHJcbiAgICAgICAgIH1cclxuICBcclxuICAgICAgICAgLmJhc2UtY2xhc3MubXktY2xhc3Mge1xyXG4gICAgICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgICAgICAgZm9udC1zaXplOjNlbTtcclxuICAgICAgICAgfVxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLWNsYXNzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuYmFzZS1jbGFzcycpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLm5vdC5cclxuICAgICAgICAgICAgIHRvTWF0Y2goL215LWNsYXNzLyk7XHJcbiAgXHJcbiAgICAgICAgICAgZWxlbWVudChieS5pZCgnc2V0YnRuJykpLmNsaWNrKCk7XHJcbiAgXHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuYmFzZS1jbGFzcycpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxyXG4gICAgICAgICAgICAgdG9NYXRjaCgvbXktY2xhc3MvKTtcclxuICBcclxuICAgICAgICAgICBlbGVtZW50KGJ5LmlkKCdjbGVhcmJ0bicpKS5jbGljaygpO1xyXG4gIFxyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLmJhc2UtY2xhc3MnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5ub3QuXHJcbiAgICAgICAgICAgICB0b01hdGNoKC9teS1jbGFzcy8pO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgXHJcbiAgXHJcbiAgICAgIyMgbmdDbGFzcyBhbmQgcHJlLWV4aXN0aW5nIENTUzMgVHJhbnNpdGlvbnMvQW5pbWF0aW9uc1xyXG4gICAgIFRoZSBuZ0NsYXNzIGRpcmVjdGl2ZSBzdGlsbCBzdXBwb3J0cyBDU1MzIFRyYW5zaXRpb25zL0FuaW1hdGlvbnMgZXZlbiBpZiB0aGV5IGRvIG5vdCBmb2xsb3cgdGhlIG5nQW5pbWF0ZSBDU1MgbmFtaW5nIHN0cnVjdHVyZS5cclxuICAgICBVcG9uIGFuaW1hdGlvbiBuZ0FuaW1hdGUgd2lsbCBhcHBseSBzdXBwbGVtZW50YXJ5IENTUyBjbGFzc2VzIHRvIHRyYWNrIHRoZSBzdGFydCBhbmQgZW5kIG9mIGFuIGFuaW1hdGlvbiwgYnV0IHRoaXMgd2lsbCBub3QgaGluZGVyXHJcbiAgICAgYW55IHByZS1leGlzdGluZyBDU1MgdHJhbnNpdGlvbnMgYWxyZWFkeSBvbiB0aGUgZWxlbWVudC4gVG8gZ2V0IGFuIGlkZWEgb2Ygd2hhdCBoYXBwZW5zIGR1cmluZyBhIGNsYXNzLWJhc2VkIGFuaW1hdGlvbiwgYmUgc3VyZVxyXG4gICAgIHRvIHZpZXcgdGhlIHN0ZXAgYnkgc3RlcCBkZXRhaWxzIG9mIHtAbGluayAkYW5pbWF0ZSNhZGRDbGFzcyAkYW5pbWF0ZS5hZGRDbGFzc30gYW5kXHJcbiAgICAge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzICRhbmltYXRlLnJlbW92ZUNsYXNzfS5cclxuICAgKi9cclxuICB2YXIgbmdDbGFzc0RpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCcnLCB0cnVlKTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nQ2xhc3NPZGRcclxuICAgKiBAcmVzdHJpY3QgQUNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoZSBgbmdDbGFzc09kZGAgYW5kIGBuZ0NsYXNzRXZlbmAgZGlyZWN0aXZlcyB3b3JrIGV4YWN0bHkgYXNcclxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ2xhc3MgbmdDbGFzc30sIGV4Y2VwdCB0aGV5IHdvcmsgaW5cclxuICAgKiBjb25qdW5jdGlvbiB3aXRoIGBuZ1JlcGVhdGAgYW5kIHRha2UgZWZmZWN0IG9ubHkgb24gb2RkIChldmVuKSByb3dzLlxyXG4gICAqXHJcbiAgICogVGhpcyBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgb25seSB3aXRoaW4gdGhlIHNjb3BlIG9mIGFuXHJcbiAgICoge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ1JlcGVhdCBuZ1JlcGVhdH0uXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ2xhc3NPZGQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlIHJlc3VsdFxyXG4gICAqICAgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3MgbmFtZXMgb3IgYW4gYXJyYXkuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJuZy1jbGFzcy1vZGRcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgICA8b2wgbmctaW5pdD1cIm5hbWVzPVsnSm9obicsICdNYXJ5JywgJ0NhdGUnLCAnU3V6J11cIj5cclxuICAgICAgICAgICAgPGxpIG5nLXJlcGVhdD1cIm5hbWUgaW4gbmFtZXNcIj5cclxuICAgICAgICAgICAgIDxzcGFuIG5nLWNsYXNzLW9kZD1cIidvZGQnXCIgbmctY2xhc3MtZXZlbj1cIidldmVuJ1wiPlxyXG4gICAgICAgICAgICAgICB7e25hbWV9fVxyXG4gICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgPC9vbD5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgICAgLm9kZCB7XHJcbiAgICAgICAgICAgY29sb3I6IHJlZDtcclxuICAgICAgICAgfVxyXG4gICAgICAgICAuZXZlbiB7XHJcbiAgICAgICAgICAgY29sb3I6IGJsdWU7XHJcbiAgICAgICAgIH1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGFzcy1vZGQgYW5kIG5nLWNsYXNzLWV2ZW4nLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygwKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cclxuICAgICAgICAgICAgIHRvTWF0Y2goL29kZC8pO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LnJlcGVhdGVyKCduYW1lIGluIG5hbWVzJykucm93KDEpLmNvbHVtbignbmFtZScpKS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLlxyXG4gICAgICAgICAgICAgdG9NYXRjaCgvZXZlbi8pO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG5nQ2xhc3NPZGREaXJlY3RpdmUgPSBjbGFzc0RpcmVjdGl2ZSgnT2RkJywgMCk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ0NsYXNzRXZlblxyXG4gICAqIEByZXN0cmljdCBBQ1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhlIGBuZ0NsYXNzT2RkYCBhbmQgYG5nQ2xhc3NFdmVuYCBkaXJlY3RpdmVzIHdvcmsgZXhhY3RseSBhc1xyXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDbGFzcyBuZ0NsYXNzfSwgZXhjZXB0IHRoZXkgd29yayBpblxyXG4gICAqIGNvbmp1bmN0aW9uIHdpdGggYG5nUmVwZWF0YCBhbmQgdGFrZSBlZmZlY3Qgb25seSBvbiBvZGQgKGV2ZW4pIHJvd3MuXHJcbiAgICpcclxuICAgKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgYXBwbGllZCBvbmx5IHdpdGhpbiB0aGUgc2NvcGUgb2YgYW5cclxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IG5nUmVwZWF0fS5cclxuICAgKlxyXG4gICAqIEBlbGVtZW50IEFOWVxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGFzc0V2ZW4ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbC4gVGhlXHJcbiAgICogICByZXN1bHQgb2YgdGhlIGV2YWx1YXRpb24gY2FuIGJlIGEgc3RyaW5nIHJlcHJlc2VudGluZyBzcGFjZSBkZWxpbWl0ZWQgY2xhc3MgbmFtZXMgb3IgYW4gYXJyYXkuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJuZy1jbGFzcy1ldmVuXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgPG9sIG5nLWluaXQ9XCJuYW1lcz1bJ0pvaG4nLCAnTWFyeScsICdDYXRlJywgJ1N1eiddXCI+XHJcbiAgICAgICAgICAgIDxsaSBuZy1yZXBlYXQ9XCJuYW1lIGluIG5hbWVzXCI+XHJcbiAgICAgICAgICAgICA8c3BhbiBuZy1jbGFzcy1vZGQ9XCInb2RkJ1wiIG5nLWNsYXNzLWV2ZW49XCInZXZlbidcIj5cclxuICAgICAgICAgICAgICAge3tuYW1lfX0gJm5ic3A7ICZuYnNwOyAmbmJzcDtcclxuICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgIDwvb2w+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgIC5vZGQge1xyXG4gICAgICAgICAgIGNvbG9yOiByZWQ7XHJcbiAgICAgICAgIH1cclxuICAgICAgICAgLmV2ZW4ge1xyXG4gICAgICAgICAgIGNvbG9yOiBibHVlO1xyXG4gICAgICAgICB9XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctY2xhc3Mtb2RkIGFuZCBuZy1jbGFzcy1ldmVuJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkucmVwZWF0ZXIoJ25hbWUgaW4gbmFtZXMnKS5yb3coMCkuY29sdW1uKCduYW1lJykpLmdldEF0dHJpYnV0ZSgnY2xhc3MnKSkuXHJcbiAgICAgICAgICAgICB0b01hdGNoKC9vZGQvKTtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5yZXBlYXRlcignbmFtZSBpbiBuYW1lcycpLnJvdygxKS5jb2x1bW4oJ25hbWUnKSkuZ2V0QXR0cmlidXRlKCdjbGFzcycpKS5cclxuICAgICAgICAgICAgIHRvTWF0Y2goL2V2ZW4vKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIHZhciBuZ0NsYXNzRXZlbkRpcmVjdGl2ZSA9IGNsYXNzRGlyZWN0aXZlKCdFdmVuJywgMSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ0Nsb2FrXHJcbiAgICogQHJlc3RyaWN0IEFDXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZSBpcyB1c2VkIHRvIHByZXZlbnQgdGhlIEFuZ3VsYXIgaHRtbCB0ZW1wbGF0ZSBmcm9tIGJlaW5nIGJyaWVmbHlcclxuICAgKiBkaXNwbGF5ZWQgYnkgdGhlIGJyb3dzZXIgaW4gaXRzIHJhdyAodW5jb21waWxlZCkgZm9ybSB3aGlsZSB5b3VyIGFwcGxpY2F0aW9uIGlzIGxvYWRpbmcuIFVzZSB0aGlzXHJcbiAgICogZGlyZWN0aXZlIHRvIGF2b2lkIHRoZSB1bmRlc2lyYWJsZSBmbGlja2VyIGVmZmVjdCBjYXVzZWQgYnkgdGhlIGh0bWwgdGVtcGxhdGUgZGlzcGxheS5cclxuICAgKlxyXG4gICAqIFRoZSBkaXJlY3RpdmUgY2FuIGJlIGFwcGxpZWQgdG8gdGhlIGA8Ym9keT5gIGVsZW1lbnQsIGJ1dCB0aGUgcHJlZmVycmVkIHVzYWdlIGlzIHRvIGFwcGx5XHJcbiAgICogbXVsdGlwbGUgYG5nQ2xvYWtgIGRpcmVjdGl2ZXMgdG8gc21hbGwgcG9ydGlvbnMgb2YgdGhlIHBhZ2UgdG8gcGVybWl0IHByb2dyZXNzaXZlIHJlbmRlcmluZ1xyXG4gICAqIG9mIHRoZSBicm93c2VyIHZpZXcuXHJcbiAgICpcclxuICAgKiBgbmdDbG9ha2Agd29ya3MgaW4gY29vcGVyYXRpb24gd2l0aCB0aGUgZm9sbG93aW5nIGNzcyBydWxlIGVtYmVkZGVkIHdpdGhpbiBgYW5ndWxhci5qc2AgYW5kXHJcbiAgICogYGFuZ3VsYXIubWluLmpzYC5cclxuICAgKiBGb3IgQ1NQIG1vZGUgcGxlYXNlIGFkZCBgYW5ndWxhci1jc3AuY3NzYCB0byB5b3VyIGh0bWwgZmlsZSAoc2VlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDc3AgbmdDc3B9KS5cclxuICAgKlxyXG4gICAqIGBgYGNzc1xyXG4gICAqIFtuZ1xcOmNsb2FrXSwgW25nLWNsb2FrXSwgW2RhdGEtbmctY2xvYWtdLCBbeC1uZy1jbG9ha10sIC5uZy1jbG9haywgLngtbmctY2xvYWsge1xyXG4gICAqICAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50O1xyXG4gICAqIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIFdoZW4gdGhpcyBjc3MgcnVsZSBpcyBsb2FkZWQgYnkgdGhlIGJyb3dzZXIsIGFsbCBodG1sIGVsZW1lbnRzIChpbmNsdWRpbmcgdGhlaXIgY2hpbGRyZW4pIHRoYXRcclxuICAgKiBhcmUgdGFnZ2VkIHdpdGggdGhlIGBuZ0Nsb2FrYCBkaXJlY3RpdmUgYXJlIGhpZGRlbi4gV2hlbiBBbmd1bGFyIGVuY291bnRlcnMgdGhpcyBkaXJlY3RpdmVcclxuICAgKiBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uIG9mIHRoZSB0ZW1wbGF0ZSBpdCBkZWxldGVzIHRoZSBgbmdDbG9ha2AgZWxlbWVudCBhdHRyaWJ1dGUsIG1ha2luZ1xyXG4gICAqIHRoZSBjb21waWxlZCBlbGVtZW50IHZpc2libGUuXHJcbiAgICpcclxuICAgKiBGb3IgdGhlIGJlc3QgcmVzdWx0LCB0aGUgYGFuZ3VsYXIuanNgIHNjcmlwdCBtdXN0IGJlIGxvYWRlZCBpbiB0aGUgaGVhZCBzZWN0aW9uIG9mIHRoZSBodG1sXHJcbiAgICogZG9jdW1lbnQ7IGFsdGVybmF0aXZlbHksIHRoZSBjc3MgcnVsZSBhYm92ZSBtdXN0IGJlIGluY2x1ZGVkIGluIHRoZSBleHRlcm5hbCBzdHlsZXNoZWV0IG9mIHRoZVxyXG4gICAqIGFwcGxpY2F0aW9uLlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgQU5ZXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJuZy1jbG9ha1wiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgIDxkaXYgaWQ9XCJ0ZW1wbGF0ZTFcIiBuZy1jbG9haz57eyAnaGVsbG8nIH19PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGlkPVwidGVtcGxhdGUyXCIgY2xhc3M9XCJuZy1jbG9ha1wiPnt7ICd3b3JsZCcgfX08L2Rpdj5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgaXQoJ3Nob3VsZCByZW1vdmUgdGhlIHRlbXBsYXRlIGRpcmVjdGl2ZSBhbmQgY3NzIGNsYXNzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KCQoJyN0ZW1wbGF0ZTEnKS5nZXRBdHRyaWJ1dGUoJ25nLWNsb2FrJykpLlxyXG4gICAgICAgICAgICAgdG9CZU51bGwoKTtcclxuICAgICAgICAgICBleHBlY3QoJCgnI3RlbXBsYXRlMicpLmdldEF0dHJpYnV0ZSgnbmctY2xvYWsnKSkuXHJcbiAgICAgICAgICAgICB0b0JlTnVsbCgpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKi9cclxuICB2YXIgbmdDbG9ha0RpcmVjdGl2ZSA9IG5nRGlyZWN0aXZlKHtcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoZWxlbWVudCwgYXR0cikge1xyXG4gICAgICBhdHRyLiRzZXQoJ25nQ2xvYWsnLCB1bmRlZmluZWQpO1xyXG4gICAgICBlbGVtZW50LnJlbW92ZUNsYXNzKCduZy1jbG9haycpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdDb250cm9sbGVyXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYG5nQ29udHJvbGxlcmAgZGlyZWN0aXZlIGF0dGFjaGVzIGEgY29udHJvbGxlciBjbGFzcyB0byB0aGUgdmlldy4gVGhpcyBpcyBhIGtleSBhc3BlY3Qgb2YgaG93IGFuZ3VsYXJcclxuICAgKiBzdXBwb3J0cyB0aGUgcHJpbmNpcGxlcyBiZWhpbmQgdGhlIE1vZGVsLVZpZXctQ29udHJvbGxlciBkZXNpZ24gcGF0dGVybi5cclxuICAgKlxyXG4gICAqIE1WQyBjb21wb25lbnRzIGluIGFuZ3VsYXI6XHJcbiAgICpcclxuICAgKiAqIE1vZGVsIOKAlCBNb2RlbHMgYXJlIHRoZSBwcm9wZXJ0aWVzIG9mIGEgc2NvcGU7IHNjb3BlcyBhcmUgYXR0YWNoZWQgdG8gdGhlIERPTSB3aGVyZSBzY29wZSBwcm9wZXJ0aWVzXHJcbiAgICogICBhcmUgYWNjZXNzZWQgdGhyb3VnaCBiaW5kaW5ncy5cclxuICAgKiAqIFZpZXcg4oCUIFRoZSB0ZW1wbGF0ZSAoSFRNTCB3aXRoIGRhdGEgYmluZGluZ3MpIHRoYXQgaXMgcmVuZGVyZWQgaW50byB0aGUgVmlldy5cclxuICAgKiAqIENvbnRyb2xsZXIg4oCUIFRoZSBgbmdDb250cm9sbGVyYCBkaXJlY3RpdmUgc3BlY2lmaWVzIGEgQ29udHJvbGxlciBjbGFzczsgdGhlIGNsYXNzIGNvbnRhaW5zIGJ1c2luZXNzXHJcbiAgICogICBsb2dpYyBiZWhpbmQgdGhlIGFwcGxpY2F0aW9uIHRvIGRlY29yYXRlIHRoZSBzY29wZSB3aXRoIGZ1bmN0aW9ucyBhbmQgdmFsdWVzXHJcbiAgICpcclxuICAgKiBOb3RlIHRoYXQgeW91IGNhbiBhbHNvIGF0dGFjaCBjb250cm9sbGVycyB0byB0aGUgRE9NIGJ5IGRlY2xhcmluZyBpdCBpbiBhIHJvdXRlIGRlZmluaXRpb25cclxuICAgKiB2aWEgdGhlIHtAbGluayBuZ1JvdXRlLiRyb3V0ZSAkcm91dGV9IHNlcnZpY2UuIEEgY29tbW9uIG1pc3Rha2UgaXMgdG8gZGVjbGFyZSB0aGUgY29udHJvbGxlclxyXG4gICAqIGFnYWluIHVzaW5nIGBuZy1jb250cm9sbGVyYCBpbiB0aGUgdGVtcGxhdGUgaXRzZWxmLiAgVGhpcyB3aWxsIGNhdXNlIHRoZSBjb250cm9sbGVyIHRvIGJlIGF0dGFjaGVkXHJcbiAgICogYW5kIGV4ZWN1dGVkIHR3aWNlLlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgQU5ZXHJcbiAgICogQHNjb3BlXHJcbiAgICogQHByaW9yaXR5IDUwMFxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDb250cm9sbGVyIE5hbWUgb2YgYSBjb25zdHJ1Y3RvciBmdW5jdGlvbiByZWdpc3RlcmVkIHdpdGggdGhlIGN1cnJlbnRcclxuICAgKiB7QGxpbmsgbmcuJGNvbnRyb2xsZXJQcm92aWRlciAkY29udHJvbGxlclByb3ZpZGVyfSBvciBhbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufVxyXG4gICAqIHRoYXQgb24gdGhlIGN1cnJlbnQgc2NvcGUgZXZhbHVhdGVzIHRvIGEgY29uc3RydWN0b3IgZnVuY3Rpb24uXHJcbiAgICpcclxuICAgKiBUaGUgY29udHJvbGxlciBpbnN0YW5jZSBjYW4gYmUgcHVibGlzaGVkIGludG8gYSBzY29wZSBwcm9wZXJ0eSBieSBzcGVjaWZ5aW5nXHJcbiAgICogYG5nLWNvbnRyb2xsZXI9XCJhcyBwcm9wZXJ0eU5hbWVcImAuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgY3VycmVudCBgJGNvbnRyb2xsZXJQcm92aWRlcmAgaXMgY29uZmlndXJlZCB0byB1c2UgZ2xvYmFscyAodmlhXHJcbiAgICoge0BsaW5rIG5nLiRjb250cm9sbGVyUHJvdmlkZXIjYWxsb3dHbG9iYWxzIGAkY29udHJvbGxlclByb3ZpZGVyLmFsbG93R2xvYmFscygpYCB9KSwgdGhpcyBtYXlcclxuICAgKiBhbHNvIGJlIHRoZSBuYW1lIG9mIGEgZ2xvYmFsbHkgYWNjZXNzaWJsZSBjb25zdHJ1Y3RvciBmdW5jdGlvbiAoZGVwcmVjYXRlZCwgbm90IHJlY29tbWVuZGVkKS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogSGVyZSBpcyBhIHNpbXBsZSBmb3JtIGZvciBlZGl0aW5nIHVzZXIgY29udGFjdCBpbmZvcm1hdGlvbi4gQWRkaW5nLCByZW1vdmluZywgY2xlYXJpbmcsIGFuZFxyXG4gICAqIGdyZWV0aW5nIGFyZSBtZXRob2RzIGRlY2xhcmVkIG9uIHRoZSBjb250cm9sbGVyIChzZWUgc291cmNlIHRhYikuIFRoZXNlIG1ldGhvZHMgY2FuXHJcbiAgICogZWFzaWx5IGJlIGNhbGxlZCBmcm9tIHRoZSBhbmd1bGFyIG1hcmt1cC4gQW55IGNoYW5nZXMgdG8gdGhlIGRhdGEgYXJlIGF1dG9tYXRpY2FsbHkgcmVmbGVjdGVkXHJcbiAgICogaW4gdGhlIFZpZXcgd2l0aG91dCB0aGUgbmVlZCBmb3IgYSBtYW51YWwgdXBkYXRlLlxyXG4gICAqXHJcbiAgICogVHdvIGRpZmZlcmVudCBkZWNsYXJhdGlvbiBzdHlsZXMgYXJlIGluY2x1ZGVkIGJlbG93OlxyXG4gICAqXHJcbiAgICogKiBvbmUgYmluZHMgbWV0aG9kcyBhbmQgcHJvcGVydGllcyBkaXJlY3RseSBvbnRvIHRoZSBjb250cm9sbGVyIHVzaW5nIGB0aGlzYDpcclxuICAgKiBgbmctY29udHJvbGxlcj1cIlNldHRpbmdzQ29udHJvbGxlcjEgYXMgc2V0dGluZ3NcImBcclxuICAgKiAqIG9uZSBpbmplY3RzIGAkc2NvcGVgIGludG8gdGhlIGNvbnRyb2xsZXI6XHJcbiAgICogYG5nLWNvbnRyb2xsZXI9XCJTZXR0aW5nc0NvbnRyb2xsZXIyXCJgXHJcbiAgICpcclxuICAgKiBUaGUgc2Vjb25kIG9wdGlvbiBpcyBtb3JlIGNvbW1vbiBpbiB0aGUgQW5ndWxhciBjb21tdW5pdHksIGFuZCBpcyBnZW5lcmFsbHkgdXNlZCBpbiBib2lsZXJwbGF0ZXNcclxuICAgKiBhbmQgaW4gdGhpcyBndWlkZS4gSG93ZXZlciwgdGhlcmUgYXJlIGFkdmFudGFnZXMgdG8gYmluZGluZyBwcm9wZXJ0aWVzIGRpcmVjdGx5IHRvIHRoZSBjb250cm9sbGVyXHJcbiAgICogYW5kIGF2b2lkaW5nIHNjb3BlLlxyXG4gICAqXHJcbiAgICogKiBVc2luZyBgY29udHJvbGxlciBhc2AgbWFrZXMgaXQgb2J2aW91cyB3aGljaCBjb250cm9sbGVyIHlvdSBhcmUgYWNjZXNzaW5nIGluIHRoZSB0ZW1wbGF0ZSB3aGVuXHJcbiAgICogbXVsdGlwbGUgY29udHJvbGxlcnMgYXBwbHkgdG8gYW4gZWxlbWVudC5cclxuICAgKiAqIElmIHlvdSBhcmUgd3JpdGluZyB5b3VyIGNvbnRyb2xsZXJzIGFzIGNsYXNzZXMgeW91IGhhdmUgZWFzaWVyIGFjY2VzcyB0byB0aGUgcHJvcGVydGllcyBhbmRcclxuICAgKiBtZXRob2RzLCB3aGljaCB3aWxsIGFwcGVhciBvbiB0aGUgc2NvcGUsIGZyb20gaW5zaWRlIHRoZSBjb250cm9sbGVyIGNvZGUuXHJcbiAgICogKiBTaW5jZSB0aGVyZSBpcyBhbHdheXMgYSBgLmAgaW4gdGhlIGJpbmRpbmdzLCB5b3UgZG9uJ3QgaGF2ZSB0byB3b3JyeSBhYm91dCBwcm90b3R5cGFsXHJcbiAgICogaW5oZXJpdGFuY2UgbWFza2luZyBwcmltaXRpdmVzLlxyXG4gICAqXHJcbiAgICogVGhpcyBleGFtcGxlIGRlbW9uc3RyYXRlcyB0aGUgYGNvbnRyb2xsZXIgYXNgIHN5bnRheC5cclxuICAgKlxyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJuZ0NvbnRyb2xsZXJBc1wiIG1vZHVsZT1cImNvbnRyb2xsZXJBc0V4YW1wbGVcIj5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICogICAgPGRpdiBpZD1cImN0cmwtYXMtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMSBhcyBzZXR0aW5nc1wiPlxyXG4gICAqICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwic2V0dGluZ3MubmFtZVwiLz48L2xhYmVsPlxyXG4gICAqICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNldHRpbmdzLmdyZWV0KClcIj5ncmVldDwvYnV0dG9uPjxici8+XHJcbiAgICogICAgICBDb250YWN0OlxyXG4gICAqICAgICAgPHVsPlxyXG4gICAqICAgICAgICA8bGkgbmctcmVwZWF0PVwiY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0c1wiPlxyXG4gICAqICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBhcmlhLWxhYmVsPVwiQ29udGFjdCBtZXRob2RcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XHJcbiAgICogICAgICAgICAgICAgPG9wdGlvbj5waG9uZTwvb3B0aW9uPlxyXG4gICAqICAgICAgICAgICAgIDxvcHRpb24+ZW1haWw8L29wdGlvbj5cclxuICAgKiAgICAgICAgICA8L3NlbGVjdD5cclxuICAgKiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cImNvbnRhY3QudmFsdWVcIiBhcmlhLWxhYmVsbGVkYnk9XCJzZWxlY3Rfe3skaW5kZXh9fVwiIC8+XHJcbiAgICogICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNldHRpbmdzLmNsZWFyQ29udGFjdChjb250YWN0KVwiPmNsZWFyPC9idXR0b24+XHJcbiAgICogICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInNldHRpbmdzLnJlbW92ZUNvbnRhY3QoY29udGFjdClcIiBhcmlhLWxhYmVsPVwiUmVtb3ZlXCI+WDwvYnV0dG9uPlxyXG4gICAqICAgICAgICA8L2xpPlxyXG4gICAqICAgICAgICA8bGk+PGJ1dHRvbiBuZy1jbGljaz1cInNldHRpbmdzLmFkZENvbnRhY3QoKVwiPmFkZDwvYnV0dG9uPjwvbGk+XHJcbiAgICogICAgIDwvdWw+XHJcbiAgICogICAgPC9kaXY+XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogICAgYW5ndWxhci5tb2R1bGUoJ2NvbnRyb2xsZXJBc0V4YW1wbGUnLCBbXSlcclxuICAgKiAgICAgIC5jb250cm9sbGVyKCdTZXR0aW5nc0NvbnRyb2xsZXIxJywgU2V0dGluZ3NDb250cm9sbGVyMSk7XHJcbiAgICpcclxuICAgKiAgICBmdW5jdGlvbiBTZXR0aW5nc0NvbnRyb2xsZXIxKCkge1xyXG4gICAqICAgICAgdGhpcy5uYW1lID0gJ0pvaG4gU21pdGgnO1xyXG4gICAqICAgICAgdGhpcy5jb250YWN0cyA9IFtcclxuICAgKiAgICAgICAge3R5cGU6ICdwaG9uZScsIHZhbHVlOiAnNDA4IDU1NSAxMjEyJ30sXHJcbiAgICogICAgICAgIHt0eXBlOiAnZW1haWwnLCB2YWx1ZTogJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnfVxyXG4gICAqICAgICAgXTtcclxuICAgKiAgICB9XHJcbiAgICpcclxuICAgKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgYWxlcnQodGhpcy5uYW1lKTtcclxuICAgKiAgICB9O1xyXG4gICAqXHJcbiAgICogICAgU2V0dGluZ3NDb250cm9sbGVyMS5wcm90b3R5cGUuYWRkQ29udGFjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgdGhpcy5jb250YWN0cy5wdXNoKHt0eXBlOiAnZW1haWwnLCB2YWx1ZTogJ3lvdXJuYW1lQGV4YW1wbGUub3JnJ30pO1xyXG4gICAqICAgIH07XHJcbiAgICpcclxuICAgKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5yZW1vdmVDb250YWN0ID0gZnVuY3Rpb24oY29udGFjdFRvUmVtb3ZlKSB7XHJcbiAgICogICAgIHZhciBpbmRleCA9IHRoaXMuY29udGFjdHMuaW5kZXhPZihjb250YWN0VG9SZW1vdmUpO1xyXG4gICAqICAgICAgdGhpcy5jb250YWN0cy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAqICAgIH07XHJcbiAgICpcclxuICAgKiAgICBTZXR0aW5nc0NvbnRyb2xsZXIxLnByb3RvdHlwZS5jbGVhckNvbnRhY3QgPSBmdW5jdGlvbihjb250YWN0KSB7XHJcbiAgICogICAgICBjb250YWN0LnR5cGUgPSAncGhvbmUnO1xyXG4gICAqICAgICAgY29udGFjdC52YWx1ZSA9ICcnO1xyXG4gICAqICAgIH07XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICogICAgIGl0KCdzaG91bGQgY2hlY2sgY29udHJvbGxlciBhcycsIGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgIHZhciBjb250YWluZXIgPSBlbGVtZW50KGJ5LmlkKCdjdHJsLWFzLWV4bXBsJykpO1xyXG4gICAqICAgICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5Lm1vZGVsKCdzZXR0aW5ncy5uYW1lJykpXHJcbiAgICogICAgICAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvQmUoJ0pvaG4gU21pdGgnKTtcclxuICAgKlxyXG4gICAqICAgICAgIHZhciBmaXJzdFJlcGVhdCA9XHJcbiAgICogICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIHNldHRpbmdzLmNvbnRhY3RzJykucm93KDApKTtcclxuICAgKiAgICAgICB2YXIgc2Vjb25kUmVwZWF0ID1cclxuICAgKiAgICAgICAgICAgY29udGFpbmVyLmVsZW1lbnQoYnkucmVwZWF0ZXIoJ2NvbnRhY3QgaW4gc2V0dGluZ3MuY29udGFjdHMnKS5yb3coMSkpO1xyXG4gICAqXHJcbiAgICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gICAqICAgICAgICAgICAudG9CZSgnNDA4IDU1NSAxMjEyJyk7XHJcbiAgICpcclxuICAgKiAgICAgICBleHBlY3Qoc2Vjb25kUmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gICAqICAgICAgICAgICAudG9CZSgnam9obi5zbWl0aEBleGFtcGxlLm9yZycpO1xyXG4gICAqXHJcbiAgICogICAgICAgZmlyc3RSZXBlYXQuZWxlbWVudChieS5idXR0b25UZXh0KCdjbGVhcicpKS5jbGljaygpO1xyXG4gICAqXHJcbiAgICogICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gICAqICAgICAgICAgICAudG9CZSgnJyk7XHJcbiAgICpcclxuICAgKiAgICAgICBjb250YWluZXIuZWxlbWVudChieS5idXR0b25UZXh0KCdhZGQnKSkuY2xpY2soKTtcclxuICAgKlxyXG4gICAqICAgICAgIGV4cGVjdChjb250YWluZXIuZWxlbWVudChieS5yZXBlYXRlcignY29udGFjdCBpbiBzZXR0aW5ncy5jb250YWN0cycpLnJvdygyKSlcclxuICAgKiAgICAgICAgICAgLmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSlcclxuICAgKiAgICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICAgKiAgICAgICAgICAgLnRvQmUoJ3lvdXJuYW1lQGV4YW1wbGUub3JnJyk7XHJcbiAgICogICAgIH0pO1xyXG4gICAqICAgPC9maWxlPlxyXG4gICAqIDwvZXhhbXBsZT5cclxuICAgKlxyXG4gICAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdGhlIFwiYXR0YWNoIHRvIGAkc2NvcGVgXCIgc3R5bGUgb2YgY29udHJvbGxlci5cclxuICAgKlxyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJuZ0NvbnRyb2xsZXJcIiBtb2R1bGU9XCJjb250cm9sbGVyRXhhbXBsZVwiPlxyXG4gICAqICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAqICAgPGRpdiBpZD1cImN0cmwtZXhtcGxcIiBuZy1jb250cm9sbGVyPVwiU2V0dGluZ3NDb250cm9sbGVyMlwiPlxyXG4gICAqICAgICA8bGFiZWw+TmFtZTogPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJuYW1lXCIvPjwvbGFiZWw+XHJcbiAgICogICAgIDxidXR0b24gbmctY2xpY2s9XCJncmVldCgpXCI+Z3JlZXQ8L2J1dHRvbj48YnIvPlxyXG4gICAqICAgICBDb250YWN0OlxyXG4gICAqICAgICA8dWw+XHJcbiAgICogICAgICAgPGxpIG5nLXJlcGVhdD1cImNvbnRhY3QgaW4gY29udGFjdHNcIj5cclxuICAgKiAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJjb250YWN0LnR5cGVcIiBpZD1cInNlbGVjdF97eyRpbmRleH19XCI+XHJcbiAgICogICAgICAgICAgICA8b3B0aW9uPnBob25lPC9vcHRpb24+XHJcbiAgICogICAgICAgICAgICA8b3B0aW9uPmVtYWlsPC9vcHRpb24+XHJcbiAgICogICAgICAgICA8L3NlbGVjdD5cclxuICAgKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwiY29udGFjdC52YWx1ZVwiIGFyaWEtbGFiZWxsZWRieT1cInNlbGVjdF97eyRpbmRleH19XCIgLz5cclxuICAgKiAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjbGVhckNvbnRhY3QoY29udGFjdClcIj5jbGVhcjwvYnV0dG9uPlxyXG4gICAqICAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cInJlbW92ZUNvbnRhY3QoY29udGFjdClcIj5YPC9idXR0b24+XHJcbiAgICogICAgICAgPC9saT5cclxuICAgKiAgICAgICA8bGk+WyA8YnV0dG9uIG5nLWNsaWNrPVwiYWRkQ29udGFjdCgpXCI+YWRkPC9idXR0b24+IF08L2xpPlxyXG4gICAqICAgIDwvdWw+XHJcbiAgICogICA8L2Rpdj5cclxuICAgKiAgPC9maWxlPlxyXG4gICAqICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogICBhbmd1bGFyLm1vZHVsZSgnY29udHJvbGxlckV4YW1wbGUnLCBbXSlcclxuICAgKiAgICAgLmNvbnRyb2xsZXIoJ1NldHRpbmdzQ29udHJvbGxlcjInLCBbJyRzY29wZScsIFNldHRpbmdzQ29udHJvbGxlcjJdKTtcclxuICAgKlxyXG4gICAqICAgZnVuY3Rpb24gU2V0dGluZ3NDb250cm9sbGVyMigkc2NvcGUpIHtcclxuICAgKiAgICAgJHNjb3BlLm5hbWUgPSAnSm9obiBTbWl0aCc7XHJcbiAgICogICAgICRzY29wZS5jb250YWN0cyA9IFtcclxuICAgKiAgICAgICB7dHlwZToncGhvbmUnLCB2YWx1ZTonNDA4IDU1NSAxMjEyJ30sXHJcbiAgICogICAgICAge3R5cGU6J2VtYWlsJywgdmFsdWU6J2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnfVxyXG4gICAqICAgICBdO1xyXG4gICAqXHJcbiAgICogICAgICRzY29wZS5ncmVldCA9IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgIGFsZXJ0KCRzY29wZS5uYW1lKTtcclxuICAgKiAgICAgfTtcclxuICAgKlxyXG4gICAqICAgICAkc2NvcGUuYWRkQ29udGFjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgICRzY29wZS5jb250YWN0cy5wdXNoKHt0eXBlOidlbWFpbCcsIHZhbHVlOid5b3VybmFtZUBleGFtcGxlLm9yZyd9KTtcclxuICAgKiAgICAgfTtcclxuICAgKlxyXG4gICAqICAgICAkc2NvcGUucmVtb3ZlQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3RUb1JlbW92ZSkge1xyXG4gICAqICAgICAgIHZhciBpbmRleCA9ICRzY29wZS5jb250YWN0cy5pbmRleE9mKGNvbnRhY3RUb1JlbW92ZSk7XHJcbiAgICogICAgICAgJHNjb3BlLmNvbnRhY3RzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICogICAgIH07XHJcbiAgICpcclxuICAgKiAgICAgJHNjb3BlLmNsZWFyQ29udGFjdCA9IGZ1bmN0aW9uKGNvbnRhY3QpIHtcclxuICAgKiAgICAgICBjb250YWN0LnR5cGUgPSAncGhvbmUnO1xyXG4gICAqICAgICAgIGNvbnRhY3QudmFsdWUgPSAnJztcclxuICAgKiAgICAgfTtcclxuICAgKiAgIH1cclxuICAgKiAgPC9maWxlPlxyXG4gICAqICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICogICAgaXQoJ3Nob3VsZCBjaGVjayBjb250cm9sbGVyJywgZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICB2YXIgY29udGFpbmVyID0gZWxlbWVudChieS5pZCgnY3RybC1leG1wbCcpKTtcclxuICAgKlxyXG4gICAqICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5Lm1vZGVsKCduYW1lJykpXHJcbiAgICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnSm9obiBTbWl0aCcpO1xyXG4gICAqXHJcbiAgICogICAgICB2YXIgZmlyc3RSZXBlYXQgPVxyXG4gICAqICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDApKTtcclxuICAgKiAgICAgIHZhciBzZWNvbmRSZXBlYXQgPVxyXG4gICAqICAgICAgICAgIGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDEpKTtcclxuICAgKlxyXG4gICAqICAgICAgZXhwZWN0KGZpcnN0UmVwZWF0LmVsZW1lbnQoYnkubW9kZWwoJ2NvbnRhY3QudmFsdWUnKSkuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKVxyXG4gICAqICAgICAgICAgIC50b0JlKCc0MDggNTU1IDEyMTInKTtcclxuICAgKiAgICAgIGV4cGVjdChzZWNvbmRSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXHJcbiAgICogICAgICAgICAgLnRvQmUoJ2pvaG4uc21pdGhAZXhhbXBsZS5vcmcnKTtcclxuICAgKlxyXG4gICAqICAgICAgZmlyc3RSZXBlYXQuZWxlbWVudChieS5idXR0b25UZXh0KCdjbGVhcicpKS5jbGljaygpO1xyXG4gICAqXHJcbiAgICogICAgICBleHBlY3QoZmlyc3RSZXBlYXQuZWxlbWVudChieS5tb2RlbCgnY29udGFjdC52YWx1ZScpKS5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpXHJcbiAgICogICAgICAgICAgLnRvQmUoJycpO1xyXG4gICAqXHJcbiAgICogICAgICBjb250YWluZXIuZWxlbWVudChieS5idXR0b25UZXh0KCdhZGQnKSkuY2xpY2soKTtcclxuICAgKlxyXG4gICAqICAgICAgZXhwZWN0KGNvbnRhaW5lci5lbGVtZW50KGJ5LnJlcGVhdGVyKCdjb250YWN0IGluIGNvbnRhY3RzJykucm93KDIpKVxyXG4gICAqICAgICAgICAgIC5lbGVtZW50KGJ5Lm1vZGVsKCdjb250YWN0LnZhbHVlJykpXHJcbiAgICogICAgICAgICAgLmdldEF0dHJpYnV0ZSgndmFsdWUnKSlcclxuICAgKiAgICAgICAgICAudG9CZSgneW91cm5hbWVAZXhhbXBsZS5vcmcnKTtcclxuICAgKiAgICB9KTtcclxuICAgKiAgPC9maWxlPlxyXG4gICAqPC9leGFtcGxlPlxyXG4gIFxyXG4gICAqL1xyXG4gIHZhciBuZ0NvbnRyb2xsZXJEaXJlY3RpdmUgPSBbZnVuY3Rpb24gKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgc2NvcGU6IHRydWUsXHJcbiAgICAgIGNvbnRyb2xsZXI6ICdAJyxcclxuICAgICAgcHJpb3JpdHk6IDUwMFxyXG4gICAgfTtcclxuICB9XTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nQ3NwXHJcbiAgICpcclxuICAgKiBAcmVzdHJpY3QgQVxyXG4gICAqIEBlbGVtZW50IEFOWVxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogQW5ndWxhciBoYXMgc29tZSBmZWF0dXJlcyB0aGF0IGNhbiBjb25mbGljdCB3aXRoIGNlcnRhaW4gcmVzdHJpY3Rpb25zIHRoYXQgYXJlIGFwcGxpZWQgd2hlbiB1c2luZ1xyXG4gICAqIFtDU1AgKENvbnRlbnQgU2VjdXJpdHkgUG9saWN5KV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4vU2VjdXJpdHkvQ1NQKSBydWxlcy5cclxuICAgKlxyXG4gICAqIElmIHlvdSBpbnRlbmQgdG8gaW1wbGVtZW50IENTUCB3aXRoIHRoZXNlIHJ1bGVzIHRoZW4geW91IG11c3QgdGVsbCBBbmd1bGFyIG5vdCB0byB1c2UgdGhlc2VcclxuICAgKiBmZWF0dXJlcy5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgbmVjZXNzYXJ5IHdoZW4gZGV2ZWxvcGluZyB0aGluZ3MgbGlrZSBHb29nbGUgQ2hyb21lIEV4dGVuc2lvbnMgb3IgVW5pdmVyc2FsIFdpbmRvd3MgQXBwcy5cclxuICAgKlxyXG4gICAqXHJcbiAgICogVGhlIGZvbGxvd2luZyBkZWZhdWx0IHJ1bGVzIGluIENTUCBhZmZlY3QgQW5ndWxhcjpcclxuICAgKlxyXG4gICAqICogVGhlIHVzZSBvZiBgZXZhbCgpYCwgYEZ1bmN0aW9uKHN0cmluZylgIGFuZCBzaW1pbGFyIGZ1bmN0aW9ucyB0byBkeW5hbWljYWxseSBjcmVhdGUgYW5kIGV4ZWN1dGVcclxuICAgKiBjb2RlIGZyb20gc3RyaW5ncyBpcyBmb3JiaWRkZW4uIEFuZ3VsYXIgbWFrZXMgdXNlIG9mIHRoaXMgaW4gdGhlIHtAbGluayAkcGFyc2V9IHNlcnZpY2UgdG9cclxuICAgKiBwcm92aWRlIGEgMzAlIGluY3JlYXNlIGluIHRoZSBzcGVlZCBvZiBldmFsdWF0aW5nIEFuZ3VsYXIgZXhwcmVzc2lvbnMuIChUaGlzIENTUCBydWxlIGNhbiBiZVxyXG4gICAqIGRpc2FibGVkIHdpdGggdGhlIENTUCBrZXl3b3JkIGB1bnNhZmUtZXZhbGAsIGJ1dCBpdCBpcyBnZW5lcmFsbHkgbm90IHJlY29tbWVuZGVkIGFzIGl0IHdvdWxkXHJcbiAgICogd2Vha2VuIHRoZSBwcm90ZWN0aW9ucyBvZmZlcmVkIGJ5IENTUC4pXHJcbiAgICpcclxuICAgKiAqIFRoZSB1c2Ugb2YgaW5saW5lIHJlc291cmNlcywgc3VjaCBhcyBpbmxpbmUgYDxzY3JpcHQ+YCBhbmQgYDxzdHlsZT5gIGVsZW1lbnRzLCBhcmUgZm9yYmlkZGVuLlxyXG4gICAqIFRoaXMgcHJldmVudHMgYXBwcyBmcm9tIGluamVjdGluZyBjdXN0b20gc3R5bGVzIGRpcmVjdGx5IGludG8gdGhlIGRvY3VtZW50LiBBbmd1bGFyIG1ha2VzIHVzZSBvZlxyXG4gICAqIHRoaXMgdG8gaW5jbHVkZSBzb21lIENTUyBydWxlcyAoZS5nLiB7QGxpbmsgbmdDbG9ha30gYW5kIHtAbGluayBuZ0hpZGV9KS4gVG8gbWFrZSB0aGVzZVxyXG4gICAqIGRpcmVjdGl2ZXMgd29yayB3aGVuIGEgQ1NQIHJ1bGUgaXMgYmxvY2tpbmcgaW5saW5lIHN0eWxlcywgeW91IG11c3QgbGluayB0byB0aGUgYGFuZ3VsYXItY3NwLmNzc2BcclxuICAgKiBpbiB5b3VyIEhUTUwgbWFudWFsbHkuIChUaGlzIENTUCBydWxlIGNhbiBiZSBkaXNhYmxlZCB3aXRoIHRoZSBDU1Aga2V5d29yZCBgdW5zYWZlLWlubGluZWAsIGJ1dFxyXG4gICAqIGl0IGlzIGdlbmVyYWxseSBub3QgcmVjb21tZW5kZWQgYXMgaXQgd291bGQgd2Vha2VuIHRoZSBwcm90ZWN0aW9ucyBvZmZlcmVkIGJ5IENTUC4pXHJcbiAgICpcclxuICAgKiBJZiB5b3UgZG8gbm90IHByb3ZpZGUgYG5nQ3NwYCB0aGVuIEFuZ3VsYXIgdHJpZXMgdG8gYXV0b2RldGVjdCBpZiBDU1AgaXMgYmxvY2tpbmcgZHluYW1pYyBjb2RlXHJcbiAgICogY3JlYXRpb24gZnJvbSBzdHJpbmdzIChlLmcuLCBgdW5zYWZlLWV2YWxgIG5vdCBzcGVjaWZpZWQgaW4gQ1NQIGhlYWRlcikgYW5kIGF1dG9tYXRpY2FsbHlcclxuICAgKiBkZWFjdGl2YXRlcyB0aGlzIGZlYXR1cmUgaW4gdGhlIHtAbGluayAkcGFyc2V9IHNlcnZpY2UuIFRoaXMgYXV0b2RldGVjdGlvbiwgaG93ZXZlciwgdHJpZ2dlcnMgYVxyXG4gICAqIENTUCBlcnJvciB0byBiZSBsb2dnZWQgaW4gdGhlIGNvbnNvbGU6XHJcbiAgICpcclxuICAgKiBgYGBcclxuICAgKiBSZWZ1c2VkIHRvIGV2YWx1YXRlIGEgc3RyaW5nIGFzIEphdmFTY3JpcHQgYmVjYXVzZSAndW5zYWZlLWV2YWwnIGlzIG5vdCBhbiBhbGxvd2VkIHNvdXJjZSBvZlxyXG4gICAqIHNjcmlwdCBpbiB0aGUgZm9sbG93aW5nIENvbnRlbnQgU2VjdXJpdHkgUG9saWN5IGRpcmVjdGl2ZTogXCJkZWZhdWx0LXNyYyAnc2VsZidcIi4gTm90ZSB0aGF0XHJcbiAgICogJ3NjcmlwdC1zcmMnIHdhcyBub3QgZXhwbGljaXRseSBzZXQsIHNvICdkZWZhdWx0LXNyYycgaXMgdXNlZCBhcyBhIGZhbGxiYWNrLlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogVGhpcyBlcnJvciBpcyBoYXJtbGVzcyBidXQgYW5ub3lpbmcuIFRvIHByZXZlbnQgdGhlIGVycm9yIGZyb20gc2hvd2luZyB1cCwgcHV0IHRoZSBgbmdDc3BgXHJcbiAgICogZGlyZWN0aXZlIG9uIGFuIGVsZW1lbnQgb2YgdGhlIEhUTUwgZG9jdW1lbnQgdGhhdCBhcHBlYXJzIGJlZm9yZSB0aGUgYDxzY3JpcHQ+YCB0YWcgdGhhdCBsb2Fkc1xyXG4gICAqIHRoZSBgYW5ndWxhci5qc2AgZmlsZS5cclxuICAgKlxyXG4gICAqICpOb3RlOiBUaGlzIGRpcmVjdGl2ZSBpcyBvbmx5IGF2YWlsYWJsZSBpbiB0aGUgYG5nLWNzcGAgYW5kIGBkYXRhLW5nLWNzcGAgYXR0cmlidXRlIGZvcm0uKlxyXG4gICAqXHJcbiAgICogWW91IGNhbiBzcGVjaWZ5IHdoaWNoIG9mIHRoZSBDU1AgcmVsYXRlZCBBbmd1bGFyIGZlYXR1cmVzIHNob3VsZCBiZSBkZWFjdGl2YXRlZCBieSBwcm92aWRpbmdcclxuICAgKiBhIHZhbHVlIGZvciB0aGUgYG5nLWNzcGAgYXR0cmlidXRlLiBUaGUgb3B0aW9ucyBhcmUgYXMgZm9sbG93czpcclxuICAgKlxyXG4gICAqICogbm8taW5saW5lLXN0eWxlOiB0aGlzIHN0b3BzIEFuZ3VsYXIgZnJvbSBpbmplY3RpbmcgQ1NTIHN0eWxlcyBpbnRvIHRoZSBET01cclxuICAgKlxyXG4gICAqICogbm8tdW5zYWZlLWV2YWw6IHRoaXMgc3RvcHMgQW5ndWxhciBmcm9tIG9wdGltaXppbmcgJHBhcnNlIHdpdGggdW5zYWZlIGV2YWwgb2Ygc3RyaW5nc1xyXG4gICAqXHJcbiAgICogWW91IGNhbiB1c2UgdGhlc2UgdmFsdWVzIGluIHRoZSBmb2xsb3dpbmcgY29tYmluYXRpb25zOlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAqIE5vIGRlY2xhcmF0aW9uIG1lYW5zIHRoYXQgQW5ndWxhciB3aWxsIGFzc3VtZSB0aGF0IHlvdSBjYW4gZG8gaW5saW5lIHN0eWxlcywgYnV0IGl0IHdpbGwgZG9cclxuICAgKiBhIHJ1bnRpbWUgY2hlY2sgZm9yIHVuc2FmZS1ldmFsLiBFLmcuIGA8Ym9keT5gLiBUaGlzIGlzIGJhY2t3YXJkbHkgY29tcGF0aWJsZSB3aXRoIHByZXZpb3VzXHJcbiAgICogdmVyc2lvbnMgb2YgQW5ndWxhci5cclxuICAgKlxyXG4gICAqICogQSBzaW1wbGUgYG5nLWNzcGAgKG9yIGBkYXRhLW5nLWNzcGApIGF0dHJpYnV0ZSB3aWxsIHRlbGwgQW5ndWxhciB0byBkZWFjdGl2YXRlIGJvdGggaW5saW5lXHJcbiAgICogc3R5bGVzIGFuZCB1bnNhZmUgZXZhbC4gRS5nLiBgPGJvZHkgbmctY3NwPmAuIFRoaXMgaXMgYmFja3dhcmRseSBjb21wYXRpYmxlIHdpdGggcHJldmlvdXNcclxuICAgKiB2ZXJzaW9ucyBvZiBBbmd1bGFyLlxyXG4gICAqXHJcbiAgICogKiBTcGVjaWZ5aW5nIG9ubHkgYG5vLXVuc2FmZS1ldmFsYCB0ZWxscyBBbmd1bGFyIHRoYXQgd2UgbXVzdCBub3QgdXNlIGV2YWwsIGJ1dCB0aGF0IHdlIGNhblxyXG4gICAqIGluamVjdCBpbmxpbmUgc3R5bGVzLiBFLmcuIGA8Ym9keSBuZy1jc3A9XCJuby11bnNhZmUtZXZhbFwiPmAuXHJcbiAgICpcclxuICAgKiAqIFNwZWNpZnlpbmcgb25seSBgbm8taW5saW5lLXN0eWxlYCB0ZWxscyBBbmd1bGFyIHRoYXQgd2UgbXVzdCBub3QgaW5qZWN0IHN0eWxlcywgYnV0IHRoYXQgd2UgY2FuXHJcbiAgICogcnVuIGV2YWwgLSBubyBhdXRvbWF0aWMgY2hlY2sgZm9yIHVuc2FmZSBldmFsIHdpbGwgb2NjdXIuIEUuZy4gYDxib2R5IG5nLWNzcD1cIm5vLWlubGluZS1zdHlsZVwiPmBcclxuICAgKlxyXG4gICAqICogU3BlY2lmeWluZyBib3RoIGBuby11bnNhZmUtZXZhbGAgYW5kIGBuby1pbmxpbmUtc3R5bGVgIHRlbGxzIEFuZ3VsYXIgdGhhdCB3ZSBtdXN0IG5vdCBpbmplY3RcclxuICAgKiBzdHlsZXMgbm9yIHVzZSBldmFsLCB3aGljaCBpcyB0aGUgc2FtZSBhcyBhbiBlbXB0eTogbmctY3NwLlxyXG4gICAqIEUuZy5gPGJvZHkgbmctY3NwPVwibm8taW5saW5lLXN0eWxlO25vLXVuc2FmZS1ldmFsXCI+YFxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBUaGlzIGV4YW1wbGUgc2hvd3MgaG93IHRvIGFwcGx5IHRoZSBgbmdDc3BgIGRpcmVjdGl2ZSB0byB0aGUgYGh0bWxgIHRhZy5cclxuICAgICBgYGBodG1sXHJcbiAgICAgICA8IWRvY3R5cGUgaHRtbD5cclxuICAgICAgIDxodG1sIG5nLWFwcCBuZy1jc3A+XHJcbiAgICAgICAuLi5cclxuICAgICAgIC4uLlxyXG4gICAgICAgPC9odG1sPlxyXG4gICAgIGBgYFxyXG4gICAgKiBAZXhhbXBsZVxyXG4gICAgICAgIDwhLS0gTm90ZTogdGhlIGAuY3NwYCBzdWZmaXggaW4gdGhlIGV4YW1wbGUgbmFtZSB0cmlnZ2VycyBDU1AgbW9kZSBpbiBvdXIgaHR0cCBzZXJ2ZXIhIC0tPlxyXG4gICAgICAgIDxleGFtcGxlIG5hbWU9XCJleGFtcGxlLmNzcFwiIG1vZHVsZT1cImNzcEV4YW1wbGVcIiBuZy1jc3A9XCJ0cnVlXCI+XHJcbiAgICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJNYWluQ29udHJvbGxlciBhcyBjdHJsXCI+XHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmluYygpXCIgaWQ9XCJpbmNcIj5JbmNyZW1lbnQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwiY291bnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICB7e2N0cmwuY291bnRlcn19XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgXHJcbiAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjdHJsLmV2aWwoKVwiIGlkPVwiZXZpbFwiPkV2aWw8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGlkPVwiZXZpbEVycm9yXCI+XHJcbiAgICAgICAgICAgICAgICAgIHt7Y3RybC5ldmlsRXJyb3J9fVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZmlsZT5cclxuICAgICAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdjc3BFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgICAgIC5jb250cm9sbGVyKCdNYWluQ29udHJvbGxlcicsIGZ1bmN0aW9uIE1haW5Db250cm9sbGVyKCkge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmNvdW50ZXIgPSAwO1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmluYyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRlcisrO1xyXG4gICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLmV2aWwgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgZXZhbCgnMSsyJyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tZXZhbFxyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXZpbEVycm9yID0gZS5tZXNzYWdlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgPC9maWxlPlxyXG4gICAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICAgICB2YXIgdXRpbCwgd2ViZHJpdmVyO1xyXG4gIFxyXG4gICAgICAgICAgICB2YXIgaW5jQnRuID0gZWxlbWVudChieS5pZCgnaW5jJykpO1xyXG4gICAgICAgICAgICB2YXIgY291bnRlciA9IGVsZW1lbnQoYnkuaWQoJ2NvdW50ZXInKSk7XHJcbiAgICAgICAgICAgIHZhciBldmlsQnRuID0gZWxlbWVudChieS5pZCgnZXZpbCcpKTtcclxuICAgICAgICAgICAgdmFyIGV2aWxFcnJvciA9IGVsZW1lbnQoYnkuaWQoJ2V2aWxFcnJvcicpKTtcclxuICBcclxuICAgICAgICAgICAgZnVuY3Rpb24gZ2V0QW5kQ2xlYXJTZXZlcmVFcnJvcnMoKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXIubWFuYWdlKCkubG9ncygpLmdldCgnYnJvd3NlcicpLnRoZW4oZnVuY3Rpb24oYnJvd3NlckxvZykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGJyb3dzZXJMb2cuZmlsdGVyKGZ1bmN0aW9uKGxvZ0VudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICAgIHJldHVybiBsb2dFbnRyeS5sZXZlbC52YWx1ZSA+IHdlYmRyaXZlci5sb2dnaW5nLkxldmVsLldBUk5JTkcudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBjbGVhckVycm9ycygpIHtcclxuICAgICAgICAgICAgICBnZXRBbmRDbGVhclNldmVyZUVycm9ycygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIGV4cGVjdE5vRXJyb3JzKCkge1xyXG4gICAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xyXG4gICAgICAgICAgICAgICAgZXhwZWN0KGZpbHRlcmVkTG9nLmxlbmd0aCkudG9FcXVhbCgwKTtcclxuICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJlZExvZy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2Jyb3dzZXIgY29uc29sZSBlcnJvcnM6ICcgKyB1dGlsLmluc3BlY3QoZmlsdGVyZWRMb2cpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAgICBmdW5jdGlvbiBleHBlY3RFcnJvcihyZWdleCkge1xyXG4gICAgICAgICAgICAgIGdldEFuZENsZWFyU2V2ZXJlRXJyb3JzKCkudGhlbihmdW5jdGlvbihmaWx0ZXJlZExvZykge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZvdW5kID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBmaWx0ZXJlZExvZy5mb3JFYWNoKGZ1bmN0aW9uKGxvZykge1xyXG4gICAgICAgICAgICAgICAgICBpZiAobG9nLm1lc3NhZ2UubWF0Y2gocmVnZXgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGlmICghZm91bmQpIHtcclxuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdleHBlY3RlZCBhbiBlcnJvciB0aGF0IG1hdGNoZXMgJyArIHJlZ2V4KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAgICBiZWZvcmVFYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgIHV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XHJcbiAgICAgICAgICAgICAgd2ViZHJpdmVyID0gcmVxdWlyZSgnc2VsZW5pdW0td2ViZHJpdmVyJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgICAgICAvLyBGb3Igbm93LCB3ZSBvbmx5IHRlc3Qgb24gQ2hyb21lLFxyXG4gICAgICAgICAgICAvLyBhcyBTYWZhcmkgZG9lcyBub3QgbG9hZCB0aGUgcGFnZSB3aXRoIFByb3RyYWN0b3IncyBpbmplY3RlZCBzY3JpcHRzLFxyXG4gICAgICAgICAgICAvLyBhbmQgRmlyZWZveCB3ZWJkcml2ZXIgYWx3YXlzIGRpc2FibGVzIGNvbnRlbnQgc2VjdXJpdHkgcG9saWN5ICgjNjM1OClcclxuICAgICAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgIT09ICdjaHJvbWUnKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgICAgIGl0KCdzaG91bGQgbm90IHJlcG9ydCBlcnJvcnMgd2hlbiB0aGUgcGFnZSBpcyBsb2FkZWQnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAvLyBjbGVhciBlcnJvcnMgc28gd2UgYXJlIG5vdCBkZXBlbmRlbnQgb24gcHJldmlvdXMgdGVzdHNcclxuICAgICAgICAgICAgICBjbGVhckVycm9ycygpO1xyXG4gICAgICAgICAgICAgIC8vIE5lZWQgdG8gcmVsb2FkIHRoZSBwYWdlIGFzIHRoZSBwYWdlIGlzIGFscmVhZHkgbG9hZGVkIHdoZW5cclxuICAgICAgICAgICAgICAvLyB3ZSBjb21lIGhlcmVcclxuICAgICAgICAgICAgICBicm93c2VyLmRyaXZlci5nZXRDdXJyZW50VXJsKCkudGhlbihmdW5jdGlvbih1cmwpIHtcclxuICAgICAgICAgICAgICAgIGJyb3dzZXIuZ2V0KHVybCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgZXhwZWN0Tm9FcnJvcnMoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgICAgIGl0KCdzaG91bGQgZXZhbHVhdGUgZXhwcmVzc2lvbnMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvRXF1YWwoJzAnKTtcclxuICAgICAgICAgICAgICBpbmNCdG4uY2xpY2soKTtcclxuICAgICAgICAgICAgICBleHBlY3QoY291bnRlci5nZXRUZXh0KCkpLnRvRXF1YWwoJzEnKTtcclxuICAgICAgICAgICAgICBleHBlY3ROb0Vycm9ycygpO1xyXG4gICAgICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgICAgaXQoJ3Nob3VsZCB0aHJvdyBhbmQgcmVwb3J0IGFuIGVycm9yIHdoZW4gdXNpbmcgXCJldmFsXCInLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICBldmlsQnRuLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICAgZXhwZWN0KGV2aWxFcnJvci5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5Lyk7XHJcbiAgICAgICAgICAgICAgZXhwZWN0RXJyb3IoL0NvbnRlbnQgU2VjdXJpdHkgUG9saWN5Lyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDwvZXhhbXBsZT5cclxuICAgICovXHJcblxyXG4gIC8vIGBuZ0NzcGAgaXMgbm90IGltcGxlbWVudGVkIGFzIGEgcHJvcGVyIGRpcmVjdGl2ZSBhbnkgbW9yZSwgYmVjYXVzZSB3ZSBuZWVkIGl0IGJlIHByb2Nlc3NlZCB3aGlsZVxyXG4gIC8vIHdlIGJvb3RzdHJhcCB0aGUgYXBwIChiZWZvcmUgYCRwYXJzZWAgaXMgaW5zdGFudGlhdGVkKS4gRm9yIHRoaXMgcmVhc29uLCB3ZSBqdXN0IGhhdmUgdGhlIGBjc3AoKWBcclxuICAvLyBmbiB0aGF0IGxvb2tzIGZvciB0aGUgYG5nLWNzcGAgYXR0cmlidXRlIGFueXdoZXJlIGluIHRoZSBjdXJyZW50IGRvYy5cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nQ2xpY2tcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoZSBuZ0NsaWNrIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIHdoZW5cclxuICAgKiBhbiBlbGVtZW50IGlzIGNsaWNrZWQuXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcHJpb3JpdHkgMFxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDbGljayB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAgICogY2xpY2suICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwibmctY2xpY2tcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGJ1dHRvbiBuZy1jbGljaz1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cclxuICAgICAgICAgIEluY3JlbWVudFxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDxzcGFuPlxyXG4gICAgICAgICAgY291bnQ6IHt7Y291bnR9fVxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgIDwvZmlsZT5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZy1jbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2NvdW50JykpLmdldFRleHQoKSkudG9NYXRjaCgnMCcpO1xyXG4gICAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCdidXR0b24nKSkuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdjb3VudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJzEnKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIC8qXHJcbiAgICogQSBjb2xsZWN0aW9uIG9mIGRpcmVjdGl2ZXMgdGhhdCBhbGxvd3MgY3JlYXRpb24gb2YgY3VzdG9tIGV2ZW50IGhhbmRsZXJzIHRoYXQgYXJlIGRlZmluZWQgYXNcclxuICAgKiBhbmd1bGFyIGV4cHJlc3Npb25zIGFuZCBhcmUgY29tcGlsZWQgYW5kIGV4ZWN1dGVkIHdpdGhpbiB0aGUgY3VycmVudCBzY29wZS5cclxuICAgKi9cclxuICB2YXIgbmdFdmVudERpcmVjdGl2ZXMgPSB7fTtcclxuXHJcbiAgLy8gRm9yIGV2ZW50cyB0aGF0IG1pZ2h0IGZpcmUgc3luY2hyb25vdXNseSBkdXJpbmcgRE9NIG1hbmlwdWxhdGlvblxyXG4gIC8vIHdlIG5lZWQgdG8gZXhlY3V0ZSB0aGVpciBldmVudCBoYW5kbGVycyBhc3luY2hyb25vdXNseSB1c2luZyAkZXZhbEFzeW5jLFxyXG4gIC8vIHNvIHRoYXQgdGhleSBhcmUgbm90IGV4ZWN1dGVkIGluIGFuIGluY29uc2lzdGVudCBzdGF0ZS5cclxuICB2YXIgZm9yY2VBc3luY0V2ZW50cyA9IHtcclxuICAgICdibHVyJzogdHJ1ZSxcclxuICAgICdmb2N1cyc6IHRydWVcclxuICB9O1xyXG4gIGZvckVhY2goJ2NsaWNrIGRibGNsaWNrIG1vdXNlZG93biBtb3VzZXVwIG1vdXNlb3ZlciBtb3VzZW91dCBtb3VzZW1vdmUgbW91c2VlbnRlciBtb3VzZWxlYXZlIGtleWRvd24ga2V5dXAga2V5cHJlc3Mgc3VibWl0IGZvY3VzIGJsdXIgY29weSBjdXQgcGFzdGUnLnNwbGl0KCcgJyksIGZ1bmN0aW9uIChldmVudE5hbWUpIHtcclxuICAgIHZhciBkaXJlY3RpdmVOYW1lID0gZGlyZWN0aXZlTm9ybWFsaXplKCduZy0nICsgZXZlbnROYW1lKTtcclxuICAgIG5nRXZlbnREaXJlY3RpdmVzW2RpcmVjdGl2ZU5hbWVdID0gWyckcGFyc2UnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkcGFyc2UsICRyb290U2NvcGUpIHtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoJGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICAgIC8vIE5PVEU6XHJcbiAgICAgICAgICAvLyBXZSBleHBvc2UgdGhlIHBvd2VyZnVsIGAkZXZlbnRgIG9iamVjdCBvbiB0aGUgc2NvcGUgdGhhdCBwcm92aWRlcyBhY2Nlc3MgdG8gdGhlIFdpbmRvdyxcclxuICAgICAgICAgIC8vIGV0Yy4gVGhpcyBpcyBPSywgYmVjYXVzZSBleHByZXNzaW9ucyBhcmUgbm90IHNhbmRib3hlZCBhbnkgbW9yZSAoYW5kIHRoZSBleHByZXNzaW9uXHJcbiAgICAgICAgICAvLyBzYW5kYm94IHdhcyBuZXZlciBtZWFudCB0byBiZSBhIHNlY3VyaXR5IGZlYXR1cmUgYW55d2F5KS5cclxuICAgICAgICAgIHZhciBmbiA9ICRwYXJzZShhdHRyW2RpcmVjdGl2ZU5hbWVdKTtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ0V2ZW50SGFuZGxlcihzY29wZSwgZWxlbWVudCkge1xyXG4gICAgICAgICAgICBlbGVtZW50Lm9uKGV2ZW50TmFtZSwgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soKSB7XHJcbiAgICAgICAgICAgICAgICBmbihzY29wZSwgeyAkZXZlbnQ6IGV2ZW50IH0pO1xyXG4gICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgaWYgKGZvcmNlQXN5bmNFdmVudHNbZXZlbnROYW1lXSAmJiAkcm9vdFNjb3BlLiQkcGhhc2UpIHtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsQXN5bmMoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoY2FsbGJhY2spO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1dO1xyXG4gIH0pO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdEYmxjbGlja1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhlIGBuZ0RibGNsaWNrYCBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBhIGRibGNsaWNrIGV2ZW50LlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgQU5ZXHJcbiAgICogQHByaW9yaXR5IDBcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nRGJsY2xpY2sge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gICAqIGEgZGJsY2xpY2suIChUaGUgRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YClcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbmFtZT1cIm5nLWRibGNsaWNrXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxidXR0b24gbmctZGJsY2xpY2s9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgICBJbmNyZW1lbnQgKG9uIGRvdWJsZSBjbGljaylcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICBjb3VudDoge3tjb3VudH19XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdNb3VzZWRvd25cclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoZSBuZ01vdXNlZG93biBkaXJlY3RpdmUgYWxsb3dzIHlvdSB0byBzcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBtb3VzZWRvd24gZXZlbnQuXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcHJpb3JpdHkgMFxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZWRvd24ge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gICAqIG1vdXNlZG93bi4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJuZy1tb3VzZWRvd25cIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGJ1dHRvbiBuZy1tb3VzZWRvd249XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIGRvd24pXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgY291bnQ6IHt7Y291bnR9fVxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nTW91c2V1cFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2V1cCBldmVudC5cclxuICAgKlxyXG4gICAqIEBlbGVtZW50IEFOWVxyXG4gICAqIEBwcmlvcml0eSAwXHJcbiAgICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNldXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gICAqIG1vdXNldXAuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwibmctbW91c2V1cFwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8YnV0dG9uIG5nLW1vdXNldXA9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgICBJbmNyZW1lbnQgKG9uIG1vdXNlIHVwKVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ01vdXNlb3ZlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VvdmVyIGV2ZW50LlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgQU5ZXHJcbiAgICogQHByaW9yaXR5IDBcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nTW91c2VvdmVyIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICAgKiBtb3VzZW92ZXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwibmctbW91c2VvdmVyXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxidXR0b24gbmctbW91c2VvdmVyPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGlzIG92ZXIpXHJcbiAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgY291bnQ6IHt7Y291bnR9fVxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nTW91c2VlbnRlclxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gbW91c2VlbnRlciBldmVudC5cclxuICAgKlxyXG4gICAqIEBlbGVtZW50IEFOWVxyXG4gICAqIEBwcmlvcml0eSAwXHJcbiAgICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlZW50ZXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gICAqIG1vdXNlZW50ZXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwibmctbW91c2VlbnRlclwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8YnV0dG9uIG5nLW1vdXNlZW50ZXI9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAgICBJbmNyZW1lbnQgKHdoZW4gbW91c2UgZW50ZXJzKVxyXG4gICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIGNvdW50OiB7e2NvdW50fX1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ01vdXNlbGVhdmVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbGVhdmUgZXZlbnQuXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcHJpb3JpdHkgMFxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdNb3VzZWxlYXZlIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWx1YXRlIHVwb25cclxuICAgKiBtb3VzZWxlYXZlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbmFtZT1cIm5nLW1vdXNlbGVhdmVcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGJ1dHRvbiBuZy1tb3VzZWxlYXZlPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPlxyXG4gICAgICAgICAgSW5jcmVtZW50ICh3aGVuIG1vdXNlIGxlYXZlcylcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICBjb3VudDoge3tjb3VudH19XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdNb3VzZW1vdmVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIG1vdXNlbW92ZSBldmVudC5cclxuICAgKlxyXG4gICAqIEBlbGVtZW50IEFOWVxyXG4gICAqIEBwcmlvcml0eSAwXHJcbiAgICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ01vdXNlbW92ZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAgICogbW91c2Vtb3ZlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbmFtZT1cIm5nLW1vdXNlbW92ZVwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8YnV0dG9uIG5nLW1vdXNlbW92ZT1cImNvdW50ID0gY291bnQgKyAxXCIgbmctaW5pdD1cImNvdW50PTBcIj5cclxuICAgICAgICAgIEluY3JlbWVudCAod2hlbiBtb3VzZSBtb3ZlcylcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICBjb3VudDoge3tjb3VudH19XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdLZXlkb3duXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBTcGVjaWZ5IGN1c3RvbSBiZWhhdmlvciBvbiBrZXlkb3duIGV2ZW50LlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgQU5ZXHJcbiAgICogQHByaW9yaXR5IDBcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5ZG93biB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAgICoga2V5ZG93bi4gKEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGAgYW5kIGNhbiBiZSBpbnRlcnJvZ2F0ZWQgZm9yIGtleUNvZGUsIGFsdEtleSwgZXRjLilcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbmFtZT1cIm5nLWtleWRvd25cIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGlucHV0IG5nLWtleWRvd249XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAga2V5IGRvd24gY291bnQ6IHt7Y291bnR9fVxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nS2V5dXBcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGtleXVwIGV2ZW50LlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgQU5ZXHJcbiAgICogQHByaW9yaXR5IDBcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5dXAge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gICAqIGtleXVwLiAoRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YCBhbmQgY2FuIGJlIGludGVycm9nYXRlZCBmb3Iga2V5Q29kZSwgYWx0S2V5LCBldGMuKVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwibmcta2V5dXBcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxwPlR5cGluZyBpbiB0aGUgaW5wdXQgYm94IGJlbG93IHVwZGF0ZXMgdGhlIGtleSBjb3VudDwvcD5cclxuICAgICAgICAgPGlucHV0IG5nLWtleXVwPVwiY291bnQgPSBjb3VudCArIDFcIiBuZy1pbml0PVwiY291bnQ9MFwiPiBrZXkgdXAgY291bnQ6IHt7Y291bnR9fVxyXG4gIFxyXG4gICAgICAgICA8cD5UeXBpbmcgaW4gdGhlIGlucHV0IGJveCBiZWxvdyB1cGRhdGVzIHRoZSBrZXljb2RlPC9wPlxyXG4gICAgICAgICA8aW5wdXQgbmcta2V5dXA9XCJldmVudD0kZXZlbnRcIj5cclxuICAgICAgICAgPHA+ZXZlbnQga2V5Q29kZToge3sgZXZlbnQua2V5Q29kZSB9fTwvcD5cclxuICAgICAgICAgPHA+ZXZlbnQgYWx0S2V5OiB7eyBldmVudC5hbHRLZXkgfX08L3A+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdLZXlwcmVzc1xyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24ga2V5cHJlc3MgZXZlbnQuXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nS2V5cHJlc3Mge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gICAqIGtleXByZXNzLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfVxyXG4gICAqIGFuZCBjYW4gYmUgaW50ZXJyb2dhdGVkIGZvciBrZXlDb2RlLCBhbHRLZXksIGV0Yy4pXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJuZy1rZXlwcmVzc1wiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8aW5wdXQgbmcta2V5cHJlc3M9XCJjb3VudCA9IGNvdW50ICsgMVwiIG5nLWluaXQ9XCJjb3VudD0wXCI+XHJcbiAgICAgICAga2V5IHByZXNzIGNvdW50OiB7e2NvdW50fX1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ1N1Ym1pdFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRW5hYmxlcyBiaW5kaW5nIGFuZ3VsYXIgZXhwcmVzc2lvbnMgdG8gb25zdWJtaXQgZXZlbnRzLlxyXG4gICAqXHJcbiAgICogQWRkaXRpb25hbGx5IGl0IHByZXZlbnRzIHRoZSBkZWZhdWx0IGFjdGlvbiAod2hpY2ggZm9yIGZvcm0gbWVhbnMgc2VuZGluZyB0aGUgcmVxdWVzdCB0byB0aGVcclxuICAgKiBzZXJ2ZXIgYW5kIHJlbG9hZGluZyB0aGUgY3VycmVudCBwYWdlKSwgYnV0IG9ubHkgaWYgdGhlIGZvcm0gZG9lcyBub3QgY29udGFpbiBgYWN0aW9uYCxcclxuICAgKiBgZGF0YS1hY3Rpb25gLCBvciBgeC1hY3Rpb25gIGF0dHJpYnV0ZXMuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICoqV2FybmluZzoqKiBCZSBjYXJlZnVsIG5vdCB0byBjYXVzZSBcImRvdWJsZS1zdWJtaXNzaW9uXCIgYnkgdXNpbmcgYm90aCB0aGUgYG5nQ2xpY2tgIGFuZFxyXG4gICAqIGBuZ1N1Ym1pdGAgaGFuZGxlcnMgdG9nZXRoZXIuIFNlZSB0aGVcclxuICAgKiB7QGxpbmsgZm9ybSNzdWJtaXR0aW5nLWEtZm9ybS1hbmQtcHJldmVudGluZy10aGUtZGVmYXVsdC1hY3Rpb24gYGZvcm1gIGRpcmVjdGl2ZSBkb2N1bWVudGF0aW9ufVxyXG4gICAqIGZvciBhIGRldGFpbGVkIGRpc2N1c3Npb24gb2Ygd2hlbiBgbmdTdWJtaXRgIG1heSBiZSB0cmlnZ2VyZWQuXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBmb3JtXHJcbiAgICogQHByaW9yaXR5IDBcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3VibWl0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuXHJcbiAgICogKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG1vZHVsZT1cInN1Ym1pdEV4YW1wbGVcIiBuYW1lPVwibmctc3VibWl0XCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnc3VibWl0RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAgICRzY29wZS5saXN0ID0gW107XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnRleHQgPSAnaGVsbG8nO1xyXG4gICAgICAgICAgICAgICRzY29wZS5zdWJtaXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGlmICgkc2NvcGUudGV4dCkge1xyXG4gICAgICAgICAgICAgICAgICAkc2NvcGUubGlzdC5wdXNoKHRoaXMudGV4dCk7XHJcbiAgICAgICAgICAgICAgICAgICRzY29wZS50ZXh0ID0gJyc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgIDwvc2NyaXB0PlxyXG4gICAgICAgIDxmb3JtIG5nLXN1Ym1pdD1cInN1Ym1pdCgpXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICBFbnRlciB0ZXh0IGFuZCBoaXQgZW50ZXI6XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInRleHRcIiBuYW1lPVwidGV4dFwiIC8+XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInN1Ym1pdFwiIGlkPVwic3VibWl0XCIgdmFsdWU9XCJTdWJtaXRcIiAvPlxyXG4gICAgICAgICAgPHByZT5saXN0PXt7bGlzdH19PC9wcmU+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLXN1Ym1pdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ2xpc3QnKSkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0PVtdJyk7XHJcbiAgICAgICAgICAgZWxlbWVudChieS5jc3MoJyNzdWJtaXQnKSkuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCdsaXN0JykpLmdldFRleHQoKSkudG9Db250YWluKCdoZWxsbycpO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5Lm1vZGVsKCd0ZXh0JykpLmdldEF0dHJpYnV0ZSgndmFsdWUnKSkudG9CZSgnJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgICBpdCgnc2hvdWxkIGlnbm9yZSBlbXB0eSBzdHJpbmdzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3Q9W10nKTtcclxuICAgICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3N1Ym1pdCcpKS5jbGljaygpO1xyXG4gICAgICAgICAgIGVsZW1lbnQoYnkuY3NzKCcjc3VibWl0JykpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnbGlzdCcpKS5nZXRUZXh0KCkpLnRvQ29udGFpbignaGVsbG8nKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nRm9jdXNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGZvY3VzIGV2ZW50LlxyXG4gICAqXHJcbiAgICogTm90ZTogQXMgdGhlIGBmb2N1c2AgZXZlbnQgaXMgZXhlY3V0ZWQgc3luY2hyb25vdXNseSB3aGVuIGNhbGxpbmcgYGlucHV0LmZvY3VzKClgXHJcbiAgICogQW5ndWxhckpTIGV4ZWN1dGVzIHRoZSBleHByZXNzaW9uIHVzaW5nIGBzY29wZS4kZXZhbEFzeW5jYCBpZiB0aGUgZXZlbnQgaXMgZmlyZWRcclxuICAgKiBkdXJpbmcgYW4gYCRhcHBseWAgdG8gZW5zdXJlIGEgY29uc2lzdGVudCBzdGF0ZS5cclxuICAgKlxyXG4gICAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcclxuICAgKiBAcHJpb3JpdHkgMFxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdGb2N1cyB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAgICogZm9jdXMuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ0JsdXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGJsdXIgZXZlbnQuXHJcbiAgICpcclxuICAgKiBBIFtibHVyIGV2ZW50XShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9FdmVudHMvYmx1cikgZmlyZXMgd2hlblxyXG4gICAqIGFuIGVsZW1lbnQgaGFzIGxvc3QgZm9jdXMuXHJcbiAgICpcclxuICAgKiBOb3RlOiBBcyB0aGUgYGJsdXJgIGV2ZW50IGlzIGV4ZWN1dGVkIHN5bmNocm9ub3VzbHkgYWxzbyBkdXJpbmcgRE9NIG1hbmlwdWxhdGlvbnNcclxuICAgKiAoZS5nLiByZW1vdmluZyBhIGZvY3Vzc2VkIGlucHV0KSxcclxuICAgKiBBbmd1bGFySlMgZXhlY3V0ZXMgdGhlIGV4cHJlc3Npb24gdXNpbmcgYHNjb3BlLiRldmFsQXN5bmNgIGlmIHRoZSBldmVudCBpcyBmaXJlZFxyXG4gICAqIGR1cmluZyBhbiBgJGFwcGx5YCB0byBlbnN1cmUgYSBjb25zaXN0ZW50IHN0YXRlLlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgd2luZG93LCBpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgYVxyXG4gICAqIEBwcmlvcml0eSAwXHJcbiAgICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0JsdXIge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gICAqIGJsdXIuICh7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiMtZXZlbnQtIEV2ZW50IG9iamVjdCBpcyBhdmFpbGFibGUgYXMgYCRldmVudGB9KVxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBTZWUge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0NsaWNrIG5nQ2xpY2t9XHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ0NvcHlcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGNvcHkgZXZlbnQuXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXHJcbiAgICogQHByaW9yaXR5IDBcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nQ29weSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBFeHByZXNzaW9ufSB0byBldmFsdWF0ZSB1cG9uXHJcbiAgICogY29weS4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJuZy1jb3B5XCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxpbnB1dCBuZy1jb3B5PVwiY29waWVkPXRydWVcIiBuZy1pbml0PVwiY29waWVkPWZhbHNlOyB2YWx1ZT0nY29weSBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XHJcbiAgICAgICAgY29waWVkOiB7e2NvcGllZH19XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdDdXRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFNwZWNpZnkgY3VzdG9tIGJlaGF2aW9yIG9uIGN1dCBldmVudC5cclxuICAgKlxyXG4gICAqIEBlbGVtZW50IHdpbmRvdywgaW5wdXQsIHNlbGVjdCwgdGV4dGFyZWEsIGFcclxuICAgKiBAcHJpb3JpdHkgMFxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdDdXQge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gICAqIGN1dC4gKHtAbGluayBndWlkZS9leHByZXNzaW9uIy1ldmVudC0gRXZlbnQgb2JqZWN0IGlzIGF2YWlsYWJsZSBhcyBgJGV2ZW50YH0pXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG5hbWU9XCJuZy1jdXRcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGlucHV0IG5nLWN1dD1cImN1dD10cnVlXCIgbmctaW5pdD1cImN1dD1mYWxzZTsgdmFsdWU9J2N1dCBtZSdcIiBuZy1tb2RlbD1cInZhbHVlXCI+XHJcbiAgICAgICAgY3V0OiB7e2N1dH19XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdQYXN0ZVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogU3BlY2lmeSBjdXN0b20gYmVoYXZpb3Igb24gcGFzdGUgZXZlbnQuXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCB3aW5kb3csIGlucHV0LCBzZWxlY3QsIHRleHRhcmVhLCBhXHJcbiAgICogQHByaW9yaXR5IDBcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nUGFzdGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gRXhwcmVzc2lvbn0gdG8gZXZhbHVhdGUgdXBvblxyXG4gICAqIHBhc3RlLiAoe0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jLWV2ZW50LSBFdmVudCBvYmplY3QgaXMgYXZhaWxhYmxlIGFzIGAkZXZlbnRgfSlcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICAgPGV4YW1wbGUgbmFtZT1cIm5nLXBhc3RlXCI+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxpbnB1dCBuZy1wYXN0ZT1cInBhc3RlPXRydWVcIiBuZy1pbml0PVwicGFzdGU9ZmFsc2VcIiBwbGFjZWhvbGRlcj0ncGFzdGUgaGVyZSc+XHJcbiAgICAgICAgcGFzdGVkOiB7e3Bhc3RlfX1cclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ0lmXHJcbiAgICogQHJlc3RyaWN0IEFcclxuICAgKiBAbXVsdGlFbGVtZW50XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYG5nSWZgIGRpcmVjdGl2ZSByZW1vdmVzIG9yIHJlY3JlYXRlcyBhIHBvcnRpb24gb2YgdGhlIERPTSB0cmVlIGJhc2VkIG9uIGFuXHJcbiAgICoge2V4cHJlc3Npb259LiBJZiB0aGUgZXhwcmVzc2lvbiBhc3NpZ25lZCB0byBgbmdJZmAgZXZhbHVhdGVzIHRvIGEgZmFsc2VcclxuICAgKiB2YWx1ZSB0aGVuIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NLCBvdGhlcndpc2UgYSBjbG9uZSBvZiB0aGVcclxuICAgKiBlbGVtZW50IGlzIHJlaW5zZXJ0ZWQgaW50byB0aGUgRE9NLlxyXG4gICAqXHJcbiAgICogYG5nSWZgIGRpZmZlcnMgZnJvbSBgbmdTaG93YCBhbmQgYG5nSGlkZWAgaW4gdGhhdCBgbmdJZmAgY29tcGxldGVseSByZW1vdmVzIGFuZCByZWNyZWF0ZXMgdGhlXHJcbiAgICogZWxlbWVudCBpbiB0aGUgRE9NIHJhdGhlciB0aGFuIGNoYW5naW5nIGl0cyB2aXNpYmlsaXR5IHZpYSB0aGUgYGRpc3BsYXlgIGNzcyBwcm9wZXJ0eS4gIEEgY29tbW9uXHJcbiAgICogY2FzZSB3aGVuIHRoaXMgZGlmZmVyZW5jZSBpcyBzaWduaWZpY2FudCBpcyB3aGVuIHVzaW5nIGNzcyBzZWxlY3RvcnMgdGhhdCByZWx5IG9uIGFuIGVsZW1lbnQnc1xyXG4gICAqIHBvc2l0aW9uIHdpdGhpbiB0aGUgRE9NLCBzdWNoIGFzIHRoZSBgOmZpcnN0LWNoaWxkYCBvciBgOmxhc3QtY2hpbGRgIHBzZXVkby1jbGFzc2VzLlxyXG4gICAqXHJcbiAgICogTm90ZSB0aGF0IHdoZW4gYW4gZWxlbWVudCBpcyByZW1vdmVkIHVzaW5nIGBuZ0lmYCBpdHMgc2NvcGUgaXMgZGVzdHJveWVkIGFuZCBhIG5ldyBzY29wZVxyXG4gICAqIGlzIGNyZWF0ZWQgd2hlbiB0aGUgZWxlbWVudCBpcyByZXN0b3JlZC4gIFRoZSBzY29wZSBjcmVhdGVkIHdpdGhpbiBgbmdJZmAgaW5oZXJpdHMgZnJvbVxyXG4gICAqIGl0cyBwYXJlbnQgc2NvcGUgdXNpbmdcclxuICAgKiBbcHJvdG90eXBhbCBpbmhlcml0YW5jZV0oaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy93aWtpL1VuZGVyc3RhbmRpbmctU2NvcGVzI2phdmFzY3JpcHQtcHJvdG90eXBhbC1pbmhlcml0YW5jZSkuXHJcbiAgICogQW4gaW1wb3J0YW50IGltcGxpY2F0aW9uIG9mIHRoaXMgaXMgaWYgYG5nTW9kZWxgIGlzIHVzZWQgd2l0aGluIGBuZ0lmYCB0byBiaW5kIHRvXHJcbiAgICogYSBqYXZhc2NyaXB0IHByaW1pdGl2ZSBkZWZpbmVkIGluIHRoZSBwYXJlbnQgc2NvcGUuIEluIHRoaXMgY2FzZSBhbnkgbW9kaWZpY2F0aW9ucyBtYWRlIHRvIHRoZVxyXG4gICAqIHZhcmlhYmxlIHdpdGhpbiB0aGUgY2hpbGQgc2NvcGUgd2lsbCBvdmVycmlkZSAoaGlkZSkgdGhlIHZhbHVlIGluIHRoZSBwYXJlbnQgc2NvcGUuXHJcbiAgICpcclxuICAgKiBBbHNvLCBgbmdJZmAgcmVjcmVhdGVzIGVsZW1lbnRzIHVzaW5nIHRoZWlyIGNvbXBpbGVkIHN0YXRlLiBBbiBleGFtcGxlIG9mIHRoaXMgYmVoYXZpb3JcclxuICAgKiBpcyBpZiBhbiBlbGVtZW50J3MgY2xhc3MgYXR0cmlidXRlIGlzIGRpcmVjdGx5IG1vZGlmaWVkIGFmdGVyIGl0J3MgY29tcGlsZWQsIHVzaW5nIHNvbWV0aGluZyBsaWtlXHJcbiAgICogalF1ZXJ5J3MgYC5hZGRDbGFzcygpYCBtZXRob2QsIGFuZCB0aGUgZWxlbWVudCBpcyBsYXRlciByZW1vdmVkLiBXaGVuIGBuZ0lmYCByZWNyZWF0ZXMgdGhlIGVsZW1lbnRcclxuICAgKiB0aGUgYWRkZWQgY2xhc3Mgd2lsbCBiZSBsb3N0IGJlY2F1c2UgdGhlIG9yaWdpbmFsIGNvbXBpbGVkIHN0YXRlIGlzIHVzZWQgdG8gcmVnZW5lcmF0ZSB0aGUgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEFkZGl0aW9uYWxseSwgeW91IGNhbiBwcm92aWRlIGFuaW1hdGlvbnMgdmlhIHRoZSBgbmdBbmltYXRlYCBtb2R1bGUgdG8gYW5pbWF0ZSB0aGUgYGVudGVyYFxyXG4gICAqIGFuZCBgbGVhdmVgIGVmZmVjdHMuXHJcbiAgICpcclxuICAgKiBAYW5pbWF0aW9uc1xyXG4gICAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAgICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjZW50ZXIgZW50ZXJ9ICB8IGp1c3QgYWZ0ZXIgdGhlIGBuZ0lmYCBjb250ZW50cyBjaGFuZ2UgYW5kIGEgbmV3IERPTSBlbGVtZW50IGlzIGNyZWF0ZWQgYW5kIGluamVjdGVkIGludG8gdGhlIGBuZ0lmYCBjb250YWluZXIgfFxyXG4gICAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSAgfCBqdXN0IGJlZm9yZSB0aGUgYG5nSWZgIGNvbnRlbnRzIGFyZSByZW1vdmVkIGZyb20gdGhlIERPTSB8XHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAc2NvcGVcclxuICAgKiBAcHJpb3JpdHkgNjAwXHJcbiAgICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0lmIElmIHRoZSB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvbiBleHByZXNzaW9ufSBpcyBmYWxzeSB0aGVuXHJcbiAgICogICAgIHRoZSBlbGVtZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgRE9NIHRyZWUuIElmIGl0IGlzIHRydXRoeSBhIGNvcHkgb2YgdGhlIGNvbXBpbGVkXHJcbiAgICogICAgIGVsZW1lbnQgaXMgYWRkZWQgdG8gdGhlIERPTSB0cmVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIG1vZHVsZT1cIm5nQW5pbWF0ZVwiIGRlcHM9XCJhbmd1bGFyLWFuaW1hdGUuanNcIiBhbmltYXRpb25zPVwidHJ1ZVwiIG5hbWU9XCJuZy1pZlwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxsYWJlbD5DbGljayBtZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIG5nLWluaXQ9XCJjaGVja2VkPXRydWVcIiAvPjwvbGFiZWw+PGJyLz5cclxuICAgICAgICBTaG93IHdoZW4gY2hlY2tlZDpcclxuICAgICAgICA8c3BhbiBuZy1pZj1cImNoZWNrZWRcIiBjbGFzcz1cImFuaW1hdGUtaWZcIj5cclxuICAgICAgICAgIFRoaXMgaXMgcmVtb3ZlZCB3aGVuIHRoZSBjaGVja2JveCBpcyB1bmNoZWNrZWQuXHJcbiAgICAgICAgPC9zcGFuPlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxyXG4gICAgICAgIC5hbmltYXRlLWlmIHtcclxuICAgICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XHJcbiAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgcGFkZGluZzoxMHB4O1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuYW5pbWF0ZS1pZi5uZy1lbnRlciwgLmFuaW1hdGUtaWYubmctbGVhdmUge1xyXG4gICAgICAgICAgdHJhbnNpdGlvbjphbGwgY3ViaWMtYmV6aWVyKDAuMjUwLCAwLjQ2MCwgMC40NTAsIDAuOTQwKSAwLjVzO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuYW5pbWF0ZS1pZi5uZy1lbnRlcixcclxuICAgICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUge1xyXG4gICAgICAgICAgb3BhY2l0eTowO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuYW5pbWF0ZS1pZi5uZy1sZWF2ZSxcclxuICAgICAgICAuYW5pbWF0ZS1pZi5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xyXG4gICAgICAgICAgb3BhY2l0eToxO1xyXG4gICAgICAgIH1cclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIHZhciBuZ0lmRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsICckY29tcGlsZScsIGZ1bmN0aW9uICgkYW5pbWF0ZSwgJGNvbXBpbGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICAgICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgICBwcmlvcml0eTogNjAwLFxyXG4gICAgICB0ZXJtaW5hbDogdHJ1ZSxcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgJCR0bGI6IHRydWUsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoJHNjb3BlLCAkZWxlbWVudCwgJGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XHJcbiAgICAgICAgdmFyIGJsb2NrLCBjaGlsZFNjb3BlLCBwcmV2aW91c0VsZW1lbnRzO1xyXG4gICAgICAgICRzY29wZS4kd2F0Y2goJGF0dHIubmdJZiwgZnVuY3Rpb24gbmdJZldhdGNoQWN0aW9uKHZhbHVlKSB7XHJcblxyXG4gICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIGlmICghY2hpbGRTY29wZSkge1xyXG4gICAgICAgICAgICAgICR0cmFuc2NsdWRlKGZ1bmN0aW9uIChjbG9uZSwgbmV3U2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIGNoaWxkU2NvcGUgPSBuZXdTY29wZTtcclxuICAgICAgICAgICAgICAgIGNsb25lW2Nsb25lLmxlbmd0aCsrXSA9ICRjb21waWxlLiQkY3JlYXRlQ29tbWVudCgnZW5kIG5nSWYnLCAkYXR0ci5uZ0lmKTtcclxuICAgICAgICAgICAgICAgIC8vIE5vdGU6IFdlIG9ubHkgbmVlZCB0aGUgZmlyc3QvbGFzdCBub2RlIG9mIHRoZSBjbG9uZWQgbm9kZXMuXHJcbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB3ZSBuZWVkIHRvIGtlZXAgdGhlIHJlZmVyZW5jZSB0byB0aGUganFsaXRlIHdyYXBwZXIgYXMgaXQgbWlnaHQgYmUgY2hhbmdlZCBsYXRlclxyXG4gICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLlxyXG4gICAgICAgICAgICAgICAgYmxvY2sgPSB7XHJcbiAgICAgICAgICAgICAgICAgIGNsb25lOiBjbG9uZVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCAkZWxlbWVudC5wYXJlbnQoKSwgJGVsZW1lbnQpO1xyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocHJldmlvdXNFbGVtZW50cykge1xyXG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudHMucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGNoaWxkU2NvcGUpIHtcclxuICAgICAgICAgICAgICBjaGlsZFNjb3BlLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgY2hpbGRTY29wZSA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50cyA9IGdldEJsb2NrTm9kZXMoYmxvY2suY2xvbmUpO1xyXG4gICAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKHByZXZpb3VzRWxlbWVudHMpLmRvbmUoZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UgIT09IGZhbHNlKSBwcmV2aW91c0VsZW1lbnRzID0gbnVsbDtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBibG9jayA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nSW5jbHVkZVxyXG4gICAqIEByZXN0cmljdCBFQ0FcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEZldGNoZXMsIGNvbXBpbGVzIGFuZCBpbmNsdWRlcyBhbiBleHRlcm5hbCBIVE1MIGZyYWdtZW50LlxyXG4gICAqXHJcbiAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIFVSTCBpcyByZXN0cmljdGVkIHRvIHRoZSBzYW1lIGRvbWFpbiBhbmQgcHJvdG9jb2wgYXMgdGhlXHJcbiAgICogYXBwbGljYXRpb24gZG9jdW1lbnQuIFRoaXMgaXMgZG9uZSBieSBjYWxsaW5nIHtAbGluayAkc2NlI2dldFRydXN0ZWRSZXNvdXJjZVVybFxyXG4gICAqICRzY2UuZ2V0VHJ1c3RlZFJlc291cmNlVXJsfSBvbiBpdC4gVG8gbG9hZCB0ZW1wbGF0ZXMgZnJvbSBvdGhlciBkb21haW5zIG9yIHByb3RvY29sc1xyXG4gICAqIHlvdSBtYXkgZWl0aGVyIHtAbGluayBuZy4kc2NlRGVsZWdhdGVQcm92aWRlciNyZXNvdXJjZVVybFdoaXRlbGlzdCB3aGl0ZWxpc3QgdGhlbX0gb3JcclxuICAgKiB7QGxpbmsgJHNjZSN0cnVzdEFzUmVzb3VyY2VVcmwgd3JhcCB0aGVtfSBhcyB0cnVzdGVkIHZhbHVlcy4gUmVmZXIgdG8gQW5ndWxhcidzIHtAbGlua1xyXG4gICAqIG5nLiRzY2UgU3RyaWN0IENvbnRleHR1YWwgRXNjYXBpbmd9LlxyXG4gICAqXHJcbiAgICogSW4gYWRkaXRpb24sIHRoZSBicm93c2VyJ3NcclxuICAgKiBbU2FtZSBPcmlnaW4gUG9saWN5XShodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Jyb3dzZXJzZWMvd2lraS9QYXJ0MiNTYW1lLW9yaWdpbl9wb2xpY3lfZm9yX1hNTEh0dHBSZXF1ZXN0KVxyXG4gICAqIGFuZCBbQ3Jvc3MtT3JpZ2luIFJlc291cmNlIFNoYXJpbmcgKENPUlMpXShodHRwOi8vd3d3LnczLm9yZy9UUi9jb3JzLylcclxuICAgKiBwb2xpY3kgbWF5IGZ1cnRoZXIgcmVzdHJpY3Qgd2hldGhlciB0aGUgdGVtcGxhdGUgaXMgc3VjY2Vzc2Z1bGx5IGxvYWRlZC5cclxuICAgKiBGb3IgZXhhbXBsZSwgYG5nSW5jbHVkZWAgd29uJ3Qgd29yayBmb3IgY3Jvc3MtZG9tYWluIHJlcXVlc3RzIG9uIGFsbCBicm93c2VycyBhbmQgZm9yIGBmaWxlOi8vYFxyXG4gICAqIGFjY2VzcyBvbiBzb21lIGJyb3dzZXJzLlxyXG4gICAqXHJcbiAgICogQGFuaW1hdGlvbnNcclxuICAgKiB8IEFuaW1hdGlvbiAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfFxyXG4gICAqIHwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18XHJcbiAgICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjZW50ZXIgZW50ZXJ9ICB8IHdoZW4gdGhlIGV4cHJlc3Npb24gY2hhbmdlcywgb24gdGhlIG5ldyBpbmNsdWRlIHxcclxuICAgKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNsZWF2ZSBsZWF2ZX0gIHwgd2hlbiB0aGUgZXhwcmVzc2lvbiBjaGFuZ2VzLCBvbiB0aGUgb2xkIGluY2x1ZGUgfFxyXG4gICAqXHJcbiAgICogVGhlIGVudGVyIGFuZCBsZWF2ZSBhbmltYXRpb24gb2NjdXIgY29uY3VycmVudGx5LlxyXG4gICAqXHJcbiAgICogQHNjb3BlXHJcbiAgICogQHByaW9yaXR5IDQwMFxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IG5nSW5jbHVkZXxzcmMgYW5ndWxhciBleHByZXNzaW9uIGV2YWx1YXRpbmcgdG8gVVJMLiBJZiB0aGUgc291cmNlIGlzIGEgc3RyaW5nIGNvbnN0YW50LFxyXG4gICAqICAgICAgICAgICAgICAgICBtYWtlIHN1cmUgeW91IHdyYXAgaXQgaW4gKipzaW5nbGUqKiBxdW90ZXMsIGUuZy4gYHNyYz1cIidteVBhcnRpYWxUZW1wbGF0ZS5odG1sJ1wiYC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG9ubG9hZCBFeHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gYSBuZXcgcGFydGlhbCBpcyBsb2FkZWQuXHJcbiAgICogICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICAgICAgICAgICAgICAgICAgKipOb3RlOioqIFdoZW4gdXNpbmcgb25sb2FkIG9uIFNWRyBlbGVtZW50cyBpbiBJRTExLCB0aGUgYnJvd3NlciB3aWxsIHRyeSB0byBjYWxsXHJcbiAgICogICAgICAgICAgICAgICAgICBhIGZ1bmN0aW9uIHdpdGggdGhlIG5hbWUgb24gdGhlIHdpbmRvdyBlbGVtZW50LCB3aGljaCB3aWxsIHVzdWFsbHkgdGhyb3cgYVxyXG4gICAqICAgICAgICAgICAgICAgICAgXCJmdW5jdGlvbiBpcyB1bmRlZmluZWRcIiBlcnJvci4gVG8gZml4IHRoaXMsIHlvdSBjYW4gaW5zdGVhZCB1c2UgYGRhdGEtb25sb2FkYCBvciBhXHJcbiAgICogICAgICAgICAgICAgICAgICBkaWZmZXJlbnQgZm9ybSB0aGF0IHtAbGluayBndWlkZS9kaXJlY3RpdmUjbm9ybWFsaXphdGlvbiBtYXRjaGVzfSBgb25sb2FkYC5cclxuICAgKiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IGF1dG9zY3JvbGwgV2hldGhlciBgbmdJbmNsdWRlYCBzaG91bGQgY2FsbCB7QGxpbmsgbmcuJGFuY2hvclNjcm9sbFxyXG4gICAqICAgICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbH0gdG8gc2Nyb2xsIHRoZSB2aWV3cG9ydCBhZnRlciB0aGUgY29udGVudCBpcyBsb2FkZWQuXHJcbiAgICpcclxuICAgKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBub3Qgc2V0LCBkaXNhYmxlIHNjcm9sbGluZy5cclxuICAgKiAgICAgICAgICAgICAgICAgIC0gSWYgdGhlIGF0dHJpYnV0ZSBpcyBzZXQgd2l0aG91dCB2YWx1ZSwgZW5hYmxlIHNjcm9sbGluZy5cclxuICAgKiAgICAgICAgICAgICAgICAgIC0gT3RoZXJ3aXNlIGVuYWJsZSBzY3JvbGxpbmcgb25seSBpZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gdHJ1dGh5IHZhbHVlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIG1vZHVsZT1cImluY2x1ZGVFeGFtcGxlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLWluY2x1ZGVcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJ0ZW1wbGF0ZVwiIG5nLW9wdGlvbnM9XCJ0Lm5hbWUgZm9yIHQgaW4gdGVtcGxhdGVzXCI+XHJcbiAgICAgICAgICA8b3B0aW9uIHZhbHVlPVwiXCI+KGJsYW5rKTwvb3B0aW9uPlxyXG4gICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgdXJsIG9mIHRoZSB0ZW1wbGF0ZTogPGNvZGU+e3t0ZW1wbGF0ZS51cmx9fTwvY29kZT5cclxuICAgICAgICAgPGhyLz5cclxuICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLWFuaW1hdGUtY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlLWFuaW1hdGVcIiBuZy1pbmNsdWRlPVwidGVtcGxhdGUudXJsXCI+PC9kaXY+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInNjcmlwdC5qc1wiPlxyXG4gICAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbmNsdWRlRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUudGVtcGxhdGVzID1cclxuICAgICAgICAgICAgICBbeyBuYW1lOiAndGVtcGxhdGUxLmh0bWwnLCB1cmw6ICd0ZW1wbGF0ZTEuaHRtbCd9LFxyXG4gICAgICAgICAgICAgICB7IG5hbWU6ICd0ZW1wbGF0ZTIuaHRtbCcsIHVybDogJ3RlbXBsYXRlMi5odG1sJ31dO1xyXG4gICAgICAgICAgICAkc2NvcGUudGVtcGxhdGUgPSAkc2NvcGUudGVtcGxhdGVzWzBdO1xyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwidGVtcGxhdGUxLmh0bWxcIj5cclxuICAgICAgICBDb250ZW50IG9mIHRlbXBsYXRlMS5odG1sXHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInRlbXBsYXRlMi5odG1sXCI+XHJcbiAgICAgICAgQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbFxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxyXG4gICAgICAgIC5zbGlkZS1hbmltYXRlLWNvbnRhaW5lciB7XHJcbiAgICAgICAgICBwb3NpdGlvbjpyZWxhdGl2ZTtcclxuICAgICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XHJcbiAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgaGVpZ2h0OjQwcHg7XHJcbiAgICAgICAgICBvdmVyZmxvdzpoaWRkZW47XHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgIC5zbGlkZS1hbmltYXRlIHtcclxuICAgICAgICAgIHBhZGRpbmc6MTBweDtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgLnNsaWRlLWFuaW1hdGUubmctZW50ZXIsIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlIHtcclxuICAgICAgICAgIHRyYW5zaXRpb246YWxsIGN1YmljLWJlemllcigwLjI1MCwgMC40NjAsIDAuNDUwLCAwLjk0MCkgMC41cztcclxuICBcclxuICAgICAgICAgIHBvc2l0aW9uOmFic29sdXRlO1xyXG4gICAgICAgICAgdG9wOjA7XHJcbiAgICAgICAgICBsZWZ0OjA7XHJcbiAgICAgICAgICByaWdodDowO1xyXG4gICAgICAgICAgYm90dG9tOjA7XHJcbiAgICAgICAgICBkaXNwbGF5OmJsb2NrO1xyXG4gICAgICAgICAgcGFkZGluZzoxMHB4O1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuc2xpZGUtYW5pbWF0ZS5uZy1lbnRlciB7XHJcbiAgICAgICAgICB0b3A6LTUwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWVudGVyLm5nLWVudGVyLWFjdGl2ZSB7XHJcbiAgICAgICAgICB0b3A6MDtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgLnNsaWRlLWFuaW1hdGUubmctbGVhdmUge1xyXG4gICAgICAgICAgdG9wOjA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5zbGlkZS1hbmltYXRlLm5nLWxlYXZlLm5nLWxlYXZlLWFjdGl2ZSB7XHJcbiAgICAgICAgICB0b3A6NTBweDtcclxuICAgICAgICB9XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIHZhciB0ZW1wbGF0ZVNlbGVjdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RlbXBsYXRlJykpO1xyXG4gICAgICAgIHZhciBpbmNsdWRlRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCdbbmctaW5jbHVkZV0nKSk7XHJcbiAgXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlMS5odG1sJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3QoaW5jbHVkZUVsZW0uZ2V0VGV4dCgpKS50b01hdGNoKC9Db250ZW50IG9mIHRlbXBsYXRlMS5odG1sLyk7XHJcbiAgICAgICAgfSk7XHJcbiAgXHJcbiAgICAgICAgaXQoJ3Nob3VsZCBsb2FkIHRlbXBsYXRlMi5odG1sJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PT0gJ2ZpcmVmb3gnKSB7XHJcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcclxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL3Byb3RyYWN0b3IvaXNzdWVzLzQ4MFxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB0ZW1wbGF0ZVNlbGVjdC5jbGljaygpO1xyXG4gICAgICAgICAgdGVtcGxhdGVTZWxlY3QuYWxsKGJ5LmNzcygnb3B0aW9uJykpLmdldCgyKS5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGluY2x1ZGVFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvQ29udGVudCBvZiB0ZW1wbGF0ZTIuaHRtbC8pO1xyXG4gICAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGJsYW5rJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBpZiAoYnJvd3Nlci5wYXJhbXMuYnJvd3NlciA9PT0gJ2ZpcmVmb3gnKSB7XHJcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggY2FuJ3QgaGFuZGxlIHVzaW5nIHNlbGVjdHNcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgdGVtcGxhdGVTZWxlY3QuY2xpY2soKTtcclxuICAgICAgICAgIHRlbXBsYXRlU2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMCkuY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChpbmNsdWRlRWxlbS5pc1ByZXNlbnQoKSkudG9CZShmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGV2ZW50XHJcbiAgICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZFxyXG4gICAqIEBldmVudFR5cGUgZW1pdCBvbiB0aGUgc2NvcGUgbmdJbmNsdWRlIHdhcyBkZWNsYXJlZCBpblxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIEVtaXR0ZWQgZXZlcnkgdGltZSB0aGUgbmdJbmNsdWRlIGNvbnRlbnQgaXMgcmVxdWVzdGVkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGV2ZW50XHJcbiAgICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudExvYWRlZFxyXG4gICAqIEBldmVudFR5cGUgZW1pdCBvbiB0aGUgY3VycmVudCBuZ0luY2x1ZGUgc2NvcGVcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBFbWl0dGVkIGV2ZXJ5IHRpbWUgdGhlIG5nSW5jbHVkZSBjb250ZW50IGlzIHJlbG9hZGVkLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGFuZ3VsYXJFdmVudCBTeW50aGV0aWMgZXZlbnQgb2JqZWN0LlxyXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgVVJMIG9mIGNvbnRlbnQgdG8gbG9hZC5cclxuICAgKi9cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGV2ZW50XHJcbiAgICogQG5hbWUgbmdJbmNsdWRlIyRpbmNsdWRlQ29udGVudEVycm9yXHJcbiAgICogQGV2ZW50VHlwZSBlbWl0IG9uIHRoZSBzY29wZSBuZ0luY2x1ZGUgd2FzIGRlY2xhcmVkIGluXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogRW1pdHRlZCB3aGVuIGEgdGVtcGxhdGUgSFRUUCByZXF1ZXN0IHlpZWxkcyBhbiBlcnJvbmVvdXMgcmVzcG9uc2UgKHN0YXR1cyA8IDIwMCB8fCBzdGF0dXMgPiAyOTkpXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge09iamVjdH0gYW5ndWxhckV2ZW50IFN5bnRoZXRpYyBldmVudCBvYmplY3QuXHJcbiAgICogQHBhcmFtIHtTdHJpbmd9IHNyYyBVUkwgb2YgY29udGVudCB0byBsb2FkLlxyXG4gICAqL1xyXG4gIHZhciBuZ0luY2x1ZGVEaXJlY3RpdmUgPSBbJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJGFuY2hvclNjcm9sbCcsICckYW5pbWF0ZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVSZXF1ZXN0LCAkYW5jaG9yU2Nyb2xsLCAkYW5pbWF0ZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFQ0EnLFxyXG4gICAgICBwcmlvcml0eTogNDAwLFxyXG4gICAgICB0ZXJtaW5hbDogdHJ1ZSxcclxuICAgICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgICBjb250cm9sbGVyOiBhbmd1bGFyLm5vb3AsXHJcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgIHZhciBzcmNFeHAgPSBhdHRyLm5nSW5jbHVkZSB8fCBhdHRyLnNyYyxcclxuICAgICAgICAgICAgb25sb2FkRXhwID0gYXR0ci5vbmxvYWQgfHwgJycsXHJcbiAgICAgICAgICAgIGF1dG9TY3JvbGxFeHAgPSBhdHRyLmF1dG9zY3JvbGw7XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcclxuICAgICAgICAgIHZhciBjaGFuZ2VDb3VudGVyID0gMCxcclxuICAgICAgICAgICAgICBjdXJyZW50U2NvcGUsXHJcbiAgICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50LFxyXG4gICAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50O1xyXG5cclxuICAgICAgICAgIHZhciBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50ID0gZnVuY3Rpb24gY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpIHtcclxuICAgICAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xyXG4gICAgICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcclxuICAgICAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICRhbmltYXRlLmxlYXZlKGN1cnJlbnRFbGVtZW50KS5kb25lKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSBmYWxzZSkgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcclxuICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKHNyY0V4cCwgZnVuY3Rpb24gbmdJbmNsdWRlV2F0Y2hBY3Rpb24oc3JjKSB7XHJcbiAgICAgICAgICAgIHZhciBhZnRlckFuaW1hdGlvbiA9IGZ1bmN0aW9uIGFmdGVyQW5pbWF0aW9uKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSBmYWxzZSAmJiBpc0RlZmluZWQoYXV0b1Njcm9sbEV4cCkgJiYgKCFhdXRvU2Nyb2xsRXhwIHx8IHNjb3BlLiRldmFsKGF1dG9TY3JvbGxFeHApKSkge1xyXG4gICAgICAgICAgICAgICAgJGFuY2hvclNjcm9sbCgpO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIHRoaXNDaGFuZ2VJZCA9ICsrY2hhbmdlQ291bnRlcjtcclxuXHJcbiAgICAgICAgICAgIGlmIChzcmMpIHtcclxuICAgICAgICAgICAgICAvL3NldCB0aGUgMm5kIHBhcmFtIHRvIHRydWUgdG8gaWdub3JlIHRoZSB0ZW1wbGF0ZSByZXF1ZXN0IGVycm9yIHNvIHRoYXQgdGhlIGlubmVyXHJcbiAgICAgICAgICAgICAgLy9jb250ZW50cyBhbmQgc2NvcGUgY2FuIGJlIGNsZWFuZWQgdXAuXHJcbiAgICAgICAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzcmMsIHRydWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpc0NoYW5nZUlkICE9PSBjaGFuZ2VDb3VudGVyKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2NvcGUgPSBzY29wZS4kbmV3KCk7XHJcbiAgICAgICAgICAgICAgICBjdHJsLnRlbXBsYXRlID0gcmVzcG9uc2U7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogVGhpcyB3aWxsIGFsc28gbGluayBhbGwgY2hpbGRyZW4gb2YgbmctaW5jbHVkZSB0aGF0IHdlcmUgY29udGFpbmVkIGluIHRoZSBvcmlnaW5hbFxyXG4gICAgICAgICAgICAgICAgLy8gaHRtbC4gSWYgdGhhdCBjb250ZW50IGNvbnRhaW5zIGNvbnRyb2xsZXJzLCAuLi4gdGhleSBjb3VsZCBwb2xsdXRlL2NoYW5nZSB0aGUgc2NvcGUuXHJcbiAgICAgICAgICAgICAgICAvLyBIb3dldmVyLCB1c2luZyBuZy1pbmNsdWRlIG9uIGFuIGVsZW1lbnQgd2l0aCBhZGRpdGlvbmFsIGNvbnRlbnQgZG9lcyBub3QgbWFrZSBzZW5zZS4uLlxyXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2UgY2FuJ3QgcmVtb3ZlIHRoZW0gaW4gdGhlIGNsb25lQXR0Y2hGbiBvZiAkdHJhbnNjbHVkZSBhcyB0aGF0XHJcbiAgICAgICAgICAgICAgICAvLyBmdW5jdGlvbiBpcyBjYWxsZWQgYmVmb3JlIGxpbmtpbmcgdGhlIGNvbnRlbnQsIHdoaWNoIHdvdWxkIGFwcGx5IGNoaWxkXHJcbiAgICAgICAgICAgICAgICAvLyBkaXJlY3RpdmVzIHRvIG5vbiBleGlzdGluZyBlbGVtZW50cy5cclxuICAgICAgICAgICAgICAgIHZhciBjbG9uZSA9ICR0cmFuc2NsdWRlKG5ld1Njb3BlLCBmdW5jdGlvbiAoY2xvbmUpIHtcclxuICAgICAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgbnVsbCwgJGVsZW1lbnQpLmRvbmUoYWZ0ZXJBbmltYXRpb24pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgY3VycmVudFNjb3BlID0gbmV3U2NvcGU7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGNsb25lO1xyXG5cclxuICAgICAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50TG9hZGVkJywgc3JjKTtcclxuICAgICAgICAgICAgICAgIHNjb3BlLiRldmFsKG9ubG9hZEV4cCk7XHJcbiAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjb3BlLiQkZGVzdHJveWVkKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCA9PT0gY2hhbmdlQ291bnRlcikge1xyXG4gICAgICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRFcnJvcicsIHNyYyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoJyRpbmNsdWRlQ29udGVudFJlcXVlc3RlZCcsIHNyYyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xyXG4gICAgICAgICAgICAgIGN0cmwudGVtcGxhdGUgPSBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG5cclxuICAvLyBUaGlzIGRpcmVjdGl2ZSBpcyBjYWxsZWQgZHVyaW5nIHRoZSAkdHJhbnNjbHVkZSBjYWxsIG9mIHRoZSBmaXJzdCBgbmdJbmNsdWRlYCBkaXJlY3RpdmUuXHJcbiAgLy8gSXQgd2lsbCByZXBsYWNlIGFuZCBjb21waWxlIHRoZSBjb250ZW50IG9mIHRoZSBlbGVtZW50IHdpdGggdGhlIGxvYWRlZCB0ZW1wbGF0ZS5cclxuICAvLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHNvIHRoYXQgdGhlIGVsZW1lbnQgY29udGVudCBpcyBhbHJlYWR5IGZpbGxlZCB3aGVuXHJcbiAgLy8gdGhlIGxpbmsgZnVuY3Rpb24gb2YgYW5vdGhlciBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudCBhcyBuZ0luY2x1ZGVcclxuICAvLyBpcyBjYWxsZWQuXHJcbiAgdmFyIG5nSW5jbHVkZUZpbGxDb250ZW50RGlyZWN0aXZlID0gWyckY29tcGlsZScsIGZ1bmN0aW9uICgkY29tcGlsZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFQ0EnLFxyXG4gICAgICBwcmlvcml0eTogLTQwMCxcclxuICAgICAgcmVxdWlyZTogJ25nSW5jbHVkZScsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCkge1xyXG4gICAgICAgIGlmICh0b1N0cmluZy5jYWxsKCRlbGVtZW50WzBdKS5tYXRjaCgvU1ZHLykpIHtcclxuICAgICAgICAgIC8vIFdlYktpdDogaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEzNTY5OCAtLS0gU1ZHIGVsZW1lbnRzIGRvIG5vdFxyXG4gICAgICAgICAgLy8gc3VwcG9ydCBpbm5lckhUTUwsIHNvIGRldGVjdCB0aGlzIGhlcmUgYW5kIHRyeSB0byBnZW5lcmF0ZSB0aGUgY29udGVudHNcclxuICAgICAgICAgIC8vIHNwZWNpYWxseS5cclxuICAgICAgICAgICRlbGVtZW50LmVtcHR5KCk7XHJcbiAgICAgICAgICAkY29tcGlsZShqcUxpdGVCdWlsZEZyYWdtZW50KGN0cmwudGVtcGxhdGUsIHdpbmRvdy5kb2N1bWVudCkuY2hpbGROb2Rlcykoc2NvcGUsIGZ1bmN0aW9uIG5hbWVzcGFjZUFkYXB0ZWRDbG9uZShjbG9uZSkge1xyXG4gICAgICAgICAgICAkZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xyXG4gICAgICAgICAgfSwgeyBmdXR1cmVQYXJlbnRFbGVtZW50OiAkZWxlbWVudCB9KTtcclxuICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgICRlbGVtZW50Lmh0bWwoY3RybC50ZW1wbGF0ZSk7XHJcbiAgICAgICAgJGNvbXBpbGUoJGVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdJbml0XHJcbiAgICogQHJlc3RyaWN0IEFDXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYG5nSW5pdGAgZGlyZWN0aXZlIGFsbG93cyB5b3UgdG8gZXZhbHVhdGUgYW4gZXhwcmVzc2lvbiBpbiB0aGVcclxuICAgKiBjdXJyZW50IHNjb3BlLlxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWRhbmdlclwiPlxyXG4gICAqIFRoaXMgZGlyZWN0aXZlIGNhbiBiZSBhYnVzZWQgdG8gYWRkIHVubmVjZXNzYXJ5IGFtb3VudHMgb2YgbG9naWMgaW50byB5b3VyIHRlbXBsYXRlcy5cclxuICAgKiBUaGVyZSBhcmUgb25seSBhIGZldyBhcHByb3ByaWF0ZSB1c2VzIG9mIGBuZ0luaXRgLCBzdWNoIGFzIGZvciBhbGlhc2luZyBzcGVjaWFsIHByb3BlcnRpZXMgb2ZcclxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nUmVwZWF0IGBuZ1JlcGVhdGB9LCBhcyBzZWVuIGluIHRoZSBkZW1vIGJlbG93OyBhbmQgZm9yIGluamVjdGluZyBkYXRhIHZpYVxyXG4gICAqIHNlcnZlciBzaWRlIHNjcmlwdGluZy4gQmVzaWRlcyB0aGVzZSBmZXcgY2FzZXMsIHlvdSBzaG91bGQgdXNlIHtAbGluayBndWlkZS9jb250cm9sbGVyIGNvbnRyb2xsZXJzfVxyXG4gICAqIHJhdGhlciB0aGFuIGBuZ0luaXRgIHRvIGluaXRpYWxpemUgdmFsdWVzIG9uIGEgc2NvcGUuXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICoqTm90ZSoqOiBJZiB5b3UgaGF2ZSBhc3NpZ25tZW50IGluIGBuZ0luaXRgIGFsb25nIHdpdGggYSB7QGxpbmsgbmcuJGZpbHRlciBgZmlsdGVyYH0sIG1ha2VcclxuICAgKiBzdXJlIHlvdSBoYXZlIHBhcmVudGhlc2VzIHRvIGVuc3VyZSBjb3JyZWN0IG9wZXJhdG9yIHByZWNlZGVuY2U6XHJcbiAgICogPHByZSBjbGFzcz1cInByZXR0eXByaW50XCI+XHJcbiAgICogYDxkaXYgbmctaW5pdD1cInRlc3QxID0gKCRpbmRleCB8IHRvU3RyaW5nKVwiPjwvZGl2PmBcclxuICAgKiA8L3ByZT5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIEBwcmlvcml0eSA0NTBcclxuICAgKlxyXG4gICAqIEBlbGVtZW50IEFOWVxyXG4gICAqIEBwYXJhbSB7ZXhwcmVzc2lvbn0gbmdJbml0IHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHRvIGV2YWwuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgIDxleGFtcGxlIG1vZHVsZT1cImluaXRFeGFtcGxlXCIgbmFtZT1cIm5nLWluaXRcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgPHNjcmlwdD5cclxuICAgICAgIGFuZ3VsYXIubW9kdWxlKCdpbml0RXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICRzY29wZS5saXN0ID0gW1snYScsICdiJ10sIFsnYycsICdkJ11dO1xyXG4gICAgICAgICB9XSk7XHJcbiAgICAgPC9zY3JpcHQ+XHJcbiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgIDxkaXYgbmctcmVwZWF0PVwiaW5uZXJMaXN0IGluIGxpc3RcIiBuZy1pbml0PVwib3V0ZXJJbmRleCA9ICRpbmRleFwiPlxyXG4gICAgICAgICA8ZGl2IG5nLXJlcGVhdD1cInZhbHVlIGluIGlubmVyTGlzdFwiIG5nLWluaXQ9XCJpbm5lckluZGV4ID0gJGluZGV4XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiZXhhbXBsZS1pbml0XCI+bGlzdFsge3tvdXRlckluZGV4fX0gXVsge3tpbm5lckluZGV4fX0gXSA9IHt7dmFsdWV9fTs8L3NwYW4+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9kaXY+XHJcbiAgICAgPC9kaXY+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgIGl0KCdzaG91bGQgYWxpYXMgaW5kZXggcG9zaXRpb25zJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gZWxlbWVudC5hbGwoYnkuY3NzKCcuZXhhbXBsZS1pbml0JykpO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMCkuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAwIF1bIDAgXSA9IGE7Jyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnRzLmdldCgxKS5nZXRUZXh0KCkpLnRvQmUoJ2xpc3RbIDAgXVsgMSBdID0gYjsnKTtcclxuICAgICAgICAgICBleHBlY3QoZWxlbWVudHMuZ2V0KDIpLmdldFRleHQoKSkudG9CZSgnbGlzdFsgMSBdWyAwIF0gPSBjOycpO1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50cy5nZXQoMykuZ2V0VGV4dCgpKS50b0JlKCdsaXN0WyAxIF1bIDEgXSA9IGQ7Jyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICB2YXIgbmdJbml0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xyXG4gICAgcHJpb3JpdHk6IDQ1MCxcclxuICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgcHJlOiBmdW5jdGlvbiBwcmUoc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XHJcbiAgICAgICAgICBzY29wZS4kZXZhbChhdHRycy5uZ0luaXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nTGlzdFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGV4dCBpbnB1dCB0aGF0IGNvbnZlcnRzIGJldHdlZW4gYSBkZWxpbWl0ZWQgc3RyaW5nIGFuZCBhbiBhcnJheSBvZiBzdHJpbmdzLiBUaGUgZGVmYXVsdFxyXG4gICAqIGRlbGltaXRlciBpcyBhIGNvbW1hIGZvbGxvd2VkIGJ5IGEgc3BhY2UgLSBlcXVpdmFsZW50IHRvIGBuZy1saXN0PVwiLCBcImAuIFlvdSBjYW4gc3BlY2lmeSBhIGN1c3RvbVxyXG4gICAqIGRlbGltaXRlciBhcyB0aGUgdmFsdWUgb2YgdGhlIGBuZ0xpc3RgIGF0dHJpYnV0ZSAtIGZvciBleGFtcGxlLCBgbmctbGlzdD1cIiB8IFwiYC5cclxuICAgKlxyXG4gICAqIFRoZSBiZWhhdmlvdXIgb2YgdGhlIGRpcmVjdGl2ZSBpcyBhZmZlY3RlZCBieSB0aGUgdXNlIG9mIHRoZSBgbmdUcmltYCBhdHRyaWJ1dGUuXHJcbiAgICogKiBJZiBgbmdUcmltYCBpcyBzZXQgdG8gYFwiZmFsc2VcImAgdGhlbiB3aGl0ZXNwYWNlIGFyb3VuZCBib3RoIHRoZSBzZXBhcmF0b3IgYW5kIGVhY2hcclxuICAgKiAgIGxpc3QgaXRlbSBpcyByZXNwZWN0ZWQuIFRoaXMgaW1wbGllcyB0aGF0IHRoZSB1c2VyIG9mIHRoZSBkaXJlY3RpdmUgaXMgcmVzcG9uc2libGUgZm9yXHJcbiAgICogICBkZWFsaW5nIHdpdGggd2hpdGVzcGFjZSBidXQgYWxzbyBhbGxvd3MgeW91IHRvIHVzZSB3aGl0ZXNwYWNlIGFzIGEgZGVsaW1pdGVyLCBzdWNoIGFzIGFcclxuICAgKiAgIHRhYiBvciBuZXdsaW5lIGNoYXJhY3Rlci5cclxuICAgKiAqIE90aGVyd2lzZSB3aGl0ZXNwYWNlIGFyb3VuZCB0aGUgZGVsaW1pdGVyIGlzIGlnbm9yZWQgd2hlbiBzcGxpdHRpbmcgKGFsdGhvdWdoIGl0IGlzIHJlc3BlY3RlZFxyXG4gICAqICAgd2hlbiBqb2luaW5nIHRoZSBsaXN0IGl0ZW1zIGJhY2sgdG9nZXRoZXIpIGFuZCB3aGl0ZXNwYWNlIGFyb3VuZCBlYWNoIGxpc3QgaXRlbSBpcyBzdHJpcHBlZFxyXG4gICAqICAgYmVmb3JlIGl0IGlzIGFkZGVkIHRvIHRoZSBtb2RlbC5cclxuICAgKlxyXG4gICAqICMjIyBFeGFtcGxlIHdpdGggVmFsaWRhdGlvblxyXG4gICAqXHJcbiAgICogPGV4YW1wbGUgbmFtZT1cIm5nTGlzdC1kaXJlY3RpdmVcIiBtb2R1bGU9XCJsaXN0RXhhbXBsZVwiPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gICAqICAgICAgYW5ndWxhci5tb2R1bGUoJ2xpc3RFeGFtcGxlJywgW10pXHJcbiAgICogICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICogICAgICAgICAgJHNjb3BlLm5hbWVzID0gWydtb3JwaGV1cycsICduZW8nLCAndHJpbml0eSddO1xyXG4gICAqICAgICAgICB9XSk7XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAqICAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgKiAgICAgIDxsYWJlbD5MaXN0OiA8aW5wdXQgbmFtZT1cIm5hbWVzSW5wdXRcIiBuZy1tb2RlbD1cIm5hbWVzXCIgbmctbGlzdCByZXF1aXJlZD48L2xhYmVsPlxyXG4gICAqICAgICAgPHNwYW4gcm9sZT1cImFsZXJ0XCI+XHJcbiAgICogICAgICAgIDxzcGFuIGNsYXNzPVwiZXJyb3JcIiBuZy1zaG93PVwibXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yLnJlcXVpcmVkXCI+XHJcbiAgICogICAgICAgIFJlcXVpcmVkITwvc3Bhbj5cclxuICAgKiAgICAgIDwvc3Bhbj5cclxuICAgKiAgICAgIDxicj5cclxuICAgKiAgICAgIDx0dD5uYW1lcyA9IHt7bmFtZXN9fTwvdHQ+PGJyLz5cclxuICAgKiAgICAgIDx0dD5teUZvcm0ubmFtZXNJbnB1dC4kdmFsaWQgPSB7e215Rm9ybS5uYW1lc0lucHV0LiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAqICAgICAgPHR0Pm15Rm9ybS5uYW1lc0lucHV0LiRlcnJvciA9IHt7bXlGb3JtLm5hbWVzSW5wdXQuJGVycm9yfX08L3R0Pjxici8+XHJcbiAgICogICAgICA8dHQ+bXlGb3JtLiR2YWxpZCA9IHt7bXlGb3JtLiR2YWxpZH19PC90dD48YnIvPlxyXG4gICAqICAgICAgPHR0Pm15Rm9ybS4kZXJyb3IucmVxdWlyZWQgPSB7eyEhbXlGb3JtLiRlcnJvci5yZXF1aXJlZH19PC90dD48YnIvPlxyXG4gICAqICAgICA8L2Zvcm0+XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICogICAgIHZhciBsaXN0SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCduYW1lcycpKTtcclxuICAgKiAgICAgdmFyIG5hbWVzID0gZWxlbWVudChieS5leGFjdEJpbmRpbmcoJ25hbWVzJykpO1xyXG4gICAqICAgICB2YXIgdmFsaWQgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ215Rm9ybS5uYW1lc0lucHV0LiR2YWxpZCcpKTtcclxuICAgKiAgICAgdmFyIGVycm9yID0gZWxlbWVudChieS5jc3MoJ3NwYW4uZXJyb3InKSk7XHJcbiAgICpcclxuICAgKiAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICAgZXhwZWN0KG5hbWVzLmdldFRleHQoKSkudG9Db250YWluKCdbXCJtb3JwaGV1c1wiLFwibmVvXCIsXCJ0cmluaXR5XCJdJyk7XHJcbiAgICogICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCd0cnVlJyk7XHJcbiAgICogICAgICAgZXhwZWN0KGVycm9yLmdldENzc1ZhbHVlKCdkaXNwbGF5JykpLnRvQmUoJ25vbmUnKTtcclxuICAgKiAgICAgfSk7XHJcbiAgICpcclxuICAgKiAgICAgaXQoJ3Nob3VsZCBiZSBpbnZhbGlkIGlmIGVtcHR5JywgZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICAgbGlzdElucHV0LmNsZWFyKCk7XHJcbiAgICogICAgICAgbGlzdElucHV0LnNlbmRLZXlzKCcnKTtcclxuICAgKlxyXG4gICAqICAgICAgIGV4cGVjdChuYW1lcy5nZXRUZXh0KCkpLnRvQ29udGFpbignJyk7XHJcbiAgICogICAgICAgZXhwZWN0KHZhbGlkLmdldFRleHQoKSkudG9Db250YWluKCdmYWxzZScpO1xyXG4gICAqICAgICAgIGV4cGVjdChlcnJvci5nZXRDc3NWYWx1ZSgnZGlzcGxheScpKS5ub3QudG9CZSgnbm9uZScpO1xyXG4gICAqICAgICB9KTtcclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiA8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKiAjIyMgRXhhbXBsZSAtIHNwbGl0dGluZyBvbiBuZXdsaW5lXHJcbiAgICogPGV4YW1wbGUgbmFtZT1cIm5nTGlzdC1kaXJlY3RpdmUtbmV3bGluZXNcIj5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICogICAgPHRleHRhcmVhIG5nLW1vZGVsPVwibGlzdFwiIG5nLWxpc3Q9XCImIzEwO1wiIG5nLXRyaW09XCJmYWxzZVwiPjwvdGV4dGFyZWE+XHJcbiAgICogICAgPHByZT57eyBsaXN0IHwganNvbiB9fTwvcHJlPlxyXG4gICAqICAgPC9maWxlPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAqICAgICBpdChcInNob3VsZCBzcGxpdCB0aGUgdGV4dCBieSBuZXdsaW5lc1wiLCBmdW5jdGlvbigpIHtcclxuICAgKiAgICAgICB2YXIgbGlzdElucHV0ID0gZWxlbWVudChieS5tb2RlbCgnbGlzdCcpKTtcclxuICAgKiAgICAgICB2YXIgb3V0cHV0ID0gZWxlbWVudChieS5iaW5kaW5nKCdsaXN0IHwganNvbicpKTtcclxuICAgKiAgICAgICBsaXN0SW5wdXQuc2VuZEtleXMoJ2FiY1xcbmRlZlxcbmdoaScpO1xyXG4gICAqICAgICAgIGV4cGVjdChvdXRwdXQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ1tcXG4gIFwiYWJjXCIsXFxuICBcImRlZlwiLFxcbiAgXCJnaGlcIlxcbl0nKTtcclxuICAgKiAgICAgfSk7XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgaW5wdXRcclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nTGlzdCBvcHRpb25hbCBkZWxpbWl0ZXIgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBzcGxpdCB0aGUgdmFsdWUuXHJcbiAgICovXHJcbiAgdmFyIG5nTGlzdERpcmVjdGl2ZSA9IGZ1bmN0aW9uIG5nTGlzdERpcmVjdGl2ZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgIHByaW9yaXR5OiAxMDAsXHJcbiAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybCkge1xyXG4gICAgICAgIHZhciBuZ0xpc3QgPSBhdHRyLm5nTGlzdCB8fCAnLCAnO1xyXG4gICAgICAgIHZhciB0cmltVmFsdWVzID0gYXR0ci5uZ1RyaW0gIT09ICdmYWxzZSc7XHJcbiAgICAgICAgdmFyIHNlcGFyYXRvciA9IHRyaW1WYWx1ZXMgPyB0cmltKG5nTGlzdCkgOiBuZ0xpc3Q7XHJcblxyXG4gICAgICAgIHZhciBwYXJzZSA9IGZ1bmN0aW9uIHBhcnNlKHZpZXdWYWx1ZSkge1xyXG4gICAgICAgICAgLy8gSWYgdGhlIHZpZXdWYWx1ZSBpcyBpbnZhbGlkIChzYXkgcmVxdWlyZWQgYnV0IGVtcHR5KSBpdCB3aWxsIGJlIGB1bmRlZmluZWRgXHJcbiAgICAgICAgICBpZiAoaXNVbmRlZmluZWQodmlld1ZhbHVlKSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgIHZhciBsaXN0ID0gW107XHJcblxyXG4gICAgICAgICAgaWYgKHZpZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICBmb3JFYWNoKHZpZXdWYWx1ZS5zcGxpdChzZXBhcmF0b3IpLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICBpZiAodmFsdWUpIGxpc3QucHVzaCh0cmltVmFsdWVzID8gdHJpbSh2YWx1ZSkgOiB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiBsaXN0O1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGN0cmwuJHBhcnNlcnMucHVzaChwYXJzZSk7XHJcbiAgICAgICAgY3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgaWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS5qb2luKG5nTGlzdCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIHN0YW5kYXJkICRpc0VtcHR5IGJlY2F1c2UgYW4gZW1wdHkgYXJyYXkgbWVhbnMgdGhlIGlucHV0IGlzIGVtcHR5LlxyXG4gICAgICAgIGN0cmwuJGlzRW1wdHkgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiAhdmFsdWUgfHwgIXZhbHVlLmxlbmd0aDtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIC8qIGdsb2JhbCBWQUxJRF9DTEFTUzogdHJ1ZSxcclxuICAgIElOVkFMSURfQ0xBU1M6IHRydWUsXHJcbiAgICBQUklTVElORV9DTEFTUzogdHJ1ZSxcclxuICAgIERJUlRZX0NMQVNTOiB0cnVlLFxyXG4gICAgVU5UT1VDSEVEX0NMQVNTOiB0cnVlLFxyXG4gICAgVE9VQ0hFRF9DTEFTUzogdHJ1ZSxcclxuICAgIFBFTkRJTkdfQ0xBU1M6IHRydWUsXHJcbiAgICBhZGRTZXRWYWxpZGl0eU1ldGhvZDogdHJ1ZSxcclxuICAgIHNldHVwVmFsaWRpdHk6IHRydWUsXHJcbiAgICBkZWZhdWx0TW9kZWxPcHRpb25zOiBmYWxzZVxyXG4gICovXHJcblxyXG4gIHZhciBWQUxJRF9DTEFTUyA9ICduZy12YWxpZCcsXHJcbiAgICAgIElOVkFMSURfQ0xBU1MgPSAnbmctaW52YWxpZCcsXHJcbiAgICAgIFBSSVNUSU5FX0NMQVNTID0gJ25nLXByaXN0aW5lJyxcclxuICAgICAgRElSVFlfQ0xBU1MgPSAnbmctZGlydHknLFxyXG4gICAgICBVTlRPVUNIRURfQ0xBU1MgPSAnbmctdW50b3VjaGVkJyxcclxuICAgICAgVE9VQ0hFRF9DTEFTUyA9ICduZy10b3VjaGVkJyxcclxuICAgICAgRU1QVFlfQ0xBU1MgPSAnbmctZW1wdHknLFxyXG4gICAgICBOT1RfRU1QVFlfQ0xBU1MgPSAnbmctbm90LWVtcHR5JztcclxuXHJcbiAgdmFyIG5nTW9kZWxNaW5FcnIgPSBtaW5FcnIoJ25nTW9kZWwnKTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHR5cGVcclxuICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyXHJcbiAgICpcclxuICAgKiBAcHJvcGVydHkgeyp9ICR2aWV3VmFsdWUgVGhlIGFjdHVhbCB2YWx1ZSBmcm9tIHRoZSBjb250cm9sJ3Mgdmlldy4gRm9yIGBpbnB1dGAgZWxlbWVudHMsIHRoaXMgaXMgYVxyXG4gICAqIFN0cmluZy4gU2VlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRWaWV3VmFsdWV9IGZvciBpbmZvcm1hdGlvbiBhYm91dCB3aGVuIHRoZSAkdmlld1ZhbHVlXHJcbiAgICogaXMgc2V0LlxyXG4gICAqXHJcbiAgICogQHByb3BlcnR5IHsqfSAkbW9kZWxWYWx1ZSBUaGUgdmFsdWUgaW4gdGhlIG1vZGVsIHRoYXQgdGhlIGNvbnRyb2wgaXMgYm91bmQgdG8uXHJcbiAgICpcclxuICAgKiBAcHJvcGVydHkge0FycmF5LjxGdW5jdGlvbj59ICRwYXJzZXJzIEFycmF5IG9mIGZ1bmN0aW9ucyB0byBleGVjdXRlLCBhcyBhIHBpcGVsaW5lLCB3aGVuZXZlclxyXG4gICAqICB0aGUgY29udHJvbCB1cGRhdGVzIHRoZSBuZ01vZGVsQ29udHJvbGxlciB3aXRoIGEgbmV3IHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWVcclxuICAgICAgYCR2aWV3VmFsdWVgfSBmcm9tIHRoZSBET00sIHVzdWFsbHkgdmlhIHVzZXIgaW5wdXQuXHJcbiAgICAgIFNlZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlIGAkc2V0Vmlld1ZhbHVlKClgfSBmb3IgYSBkZXRhaWxlZCBsaWZlY3ljbGUgZXhwbGFuYXRpb24uXHJcbiAgICAgIE5vdGUgdGhhdCB0aGUgYCRwYXJzZXJzYCBhcmUgbm90IGNhbGxlZCB3aGVuIHRoZSBib3VuZCBuZ01vZGVsIGV4cHJlc3Npb24gY2hhbmdlcyBwcm9ncmFtbWF0aWNhbGx5LlxyXG4gIFxyXG4gICAgVGhlIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluIGFycmF5IG9yZGVyLCBlYWNoIHBhc3NpbmdcclxuICAgICAgaXRzIHJldHVybiB2YWx1ZSB0aHJvdWdoIHRvIHRoZSBuZXh0LiBUaGUgbGFzdCByZXR1cm4gdmFsdWUgaXMgZm9yd2FyZGVkIHRvIHRoZVxyXG4gICAgICB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgJHZhbGlkYXRvcnNgfSBjb2xsZWN0aW9uLlxyXG4gIFxyXG4gICAgUGFyc2VycyBhcmUgdXNlZCB0byBzYW5pdGl6ZSAvIGNvbnZlcnQgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWVcclxuICAgICAgYCR2aWV3VmFsdWVgfS5cclxuICBcclxuICAgIFJldHVybmluZyBgdW5kZWZpbmVkYCBmcm9tIGEgcGFyc2VyIG1lYW5zIGEgcGFyc2UgZXJyb3Igb2NjdXJyZWQuIEluIHRoYXQgY2FzZSxcclxuICAgICAgbm8ge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYCR2YWxpZGF0b3JzYH0gd2lsbCBydW4gYW5kIHRoZSBgbmdNb2RlbGBcclxuICAgICAgd2lsbCBiZSBzZXQgdG8gYHVuZGVmaW5lZGAgdW5sZXNzIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH1cclxuICAgICAgaXMgc2V0IHRvIGB0cnVlYC4gVGhlIHBhcnNlIGVycm9yIGlzIHN0b3JlZCBpbiBgbmdNb2RlbC4kZXJyb3IucGFyc2VgLlxyXG4gIFxyXG4gICAgVGhpcyBzaW1wbGUgZXhhbXBsZSBzaG93cyBhIHBhcnNlciB0aGF0IHdvdWxkIGNvbnZlcnQgdGV4dCBpbnB1dCB2YWx1ZSB0byBsb3dlcmNhc2U6XHJcbiAgICogYGBganNcclxuICAgKiBmdW5jdGlvbiBwYXJzZSh2YWx1ZSkge1xyXG4gICAqICAgaWYgKHZhbHVlKSB7XHJcbiAgICogICAgIHJldHVybiB2YWx1ZS50b0xvd2VyQ2FzZSgpO1xyXG4gICAqICAgfVxyXG4gICAqIH1cclxuICAgKiBuZ01vZGVsQ29udHJvbGxlci4kcGFyc2Vycy5wdXNoKHBhcnNlKTtcclxuICAgKiBgYGBcclxuICBcclxuICAgKlxyXG4gICAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJGZvcm1hdHRlcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUsIGFzIGEgcGlwZWxpbmUsIHdoZW5ldmVyXHJcbiAgICAgIHRoZSBib3VuZCBuZ01vZGVsIGV4cHJlc3Npb24gY2hhbmdlcyBwcm9ncmFtbWF0aWNhbGx5LiBUaGUgYCRmb3JtYXR0ZXJzYCBhcmUgbm90IGNhbGxlZCB3aGVuIHRoZVxyXG4gICAgICB2YWx1ZSBvZiB0aGUgY29udHJvbCBpcyBjaGFuZ2VkIGJ5IHVzZXIgaW50ZXJhY3Rpb24uXHJcbiAgXHJcbiAgICBGb3JtYXR0ZXJzIGFyZSB1c2VkIHRvIGZvcm1hdCAvIGNvbnZlcnQgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRtb2RlbFZhbHVlXHJcbiAgICAgIGAkbW9kZWxWYWx1ZWB9IGZvciBkaXNwbGF5IGluIHRoZSBjb250cm9sLlxyXG4gIFxyXG4gICAgVGhlIGZ1bmN0aW9ucyBhcmUgY2FsbGVkIGluIHJldmVyc2UgYXJyYXkgb3JkZXIsIGVhY2ggcGFzc2luZyB0aGUgdmFsdWUgdGhyb3VnaCB0byB0aGVcclxuICAgICAgbmV4dC4gVGhlIGxhc3QgcmV0dXJuIHZhbHVlIGlzIHVzZWQgYXMgdGhlIGFjdHVhbCBET00gdmFsdWUuXHJcbiAgXHJcbiAgICBUaGlzIHNpbXBsZSBleGFtcGxlIHNob3dzIGEgZm9ybWF0dGVyIHRoYXQgd291bGQgY29udmVydCB0aGUgbW9kZWwgdmFsdWUgdG8gdXBwZXJjYXNlOlxyXG4gIFxyXG4gICAqIGBgYGpzXHJcbiAgICogZnVuY3Rpb24gZm9ybWF0KHZhbHVlKSB7XHJcbiAgICogICBpZiAodmFsdWUpIHtcclxuICAgKiAgICAgcmV0dXJuIHZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICogICB9XHJcbiAgICogfVxyXG4gICAqIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmb3JtYXQpO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQHByb3BlcnR5IHtPYmplY3QuPHN0cmluZywgZnVuY3Rpb24+fSAkdmFsaWRhdG9ycyBBIGNvbGxlY3Rpb24gb2YgdmFsaWRhdG9ycyB0aGF0IGFyZSBhcHBsaWVkXHJcbiAgICogICAgICB3aGVuZXZlciB0aGUgbW9kZWwgdmFsdWUgY2hhbmdlcy4gVGhlIGtleSB2YWx1ZSB3aXRoaW4gdGhlIG9iamVjdCByZWZlcnMgdG8gdGhlIG5hbWUgb2YgdGhlXHJcbiAgICogICAgICB2YWxpZGF0b3Igd2hpbGUgdGhlIGZ1bmN0aW9uIHJlZmVycyB0byB0aGUgdmFsaWRhdGlvbiBvcGVyYXRpb24uIFRoZSB2YWxpZGF0aW9uIG9wZXJhdGlvbiBpc1xyXG4gICAqICAgICAgcHJvdmlkZWQgd2l0aCB0aGUgbW9kZWwgdmFsdWUgYXMgYW4gYXJndW1lbnQgYW5kIG11c3QgcmV0dXJuIGEgdHJ1ZSBvciBmYWxzZSB2YWx1ZSBkZXBlbmRpbmdcclxuICAgKiAgICAgIG9uIHRoZSByZXNwb25zZSBvZiB0aGF0IHZhbGlkYXRpb24uXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqIG5nTW9kZWwuJHZhbGlkYXRvcnMudmFsaWRDaGFyYWN0ZXJzID0gZnVuY3Rpb24obW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICogICB2YXIgdmFsdWUgPSBtb2RlbFZhbHVlIHx8IHZpZXdWYWx1ZTtcclxuICAgKiAgIHJldHVybiAvWzAtOV0rLy50ZXN0KHZhbHVlKSAmJlxyXG4gICAqICAgICAgICAgIC9bYS16XSsvLnRlc3QodmFsdWUpICYmXHJcbiAgICogICAgICAgICAgL1tBLVpdKy8udGVzdCh2YWx1ZSkgJiZcclxuICAgKiAgICAgICAgICAvXFxXKy8udGVzdCh2YWx1ZSk7XHJcbiAgICogfTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBwcm9wZXJ0eSB7T2JqZWN0LjxzdHJpbmcsIGZ1bmN0aW9uPn0gJGFzeW5jVmFsaWRhdG9ycyBBIGNvbGxlY3Rpb24gb2YgdmFsaWRhdGlvbnMgdGhhdCBhcmUgZXhwZWN0ZWQgdG9cclxuICAgKiAgICAgIHBlcmZvcm0gYW4gYXN5bmNocm9ub3VzIHZhbGlkYXRpb24gKGUuZy4gYSBIVFRQIHJlcXVlc3QpLiBUaGUgdmFsaWRhdGlvbiBmdW5jdGlvbiB0aGF0IGlzIHByb3ZpZGVkXHJcbiAgICogICAgICBpcyBleHBlY3RlZCB0byByZXR1cm4gYSBwcm9taXNlIHdoZW4gaXQgaXMgcnVuIGR1cmluZyB0aGUgbW9kZWwgdmFsaWRhdGlvbiBwcm9jZXNzLiBPbmNlIHRoZSBwcm9taXNlXHJcbiAgICogICAgICBpcyBkZWxpdmVyZWQgdGhlbiB0aGUgdmFsaWRhdGlvbiBzdGF0dXMgd2lsbCBiZSBzZXQgdG8gdHJ1ZSB3aGVuIGZ1bGZpbGxlZCBhbmQgZmFsc2Ugd2hlbiByZWplY3RlZC5cclxuICAgKiAgICAgIFdoZW4gdGhlIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGFyZSB0cmlnZ2VyZWQsIGVhY2ggb2YgdGhlIHZhbGlkYXRvcnMgd2lsbCBydW4gaW4gcGFyYWxsZWwgYW5kIHRoZSBtb2RlbFxyXG4gICAqICAgICAgdmFsdWUgd2lsbCBvbmx5IGJlIHVwZGF0ZWQgb25jZSBhbGwgdmFsaWRhdG9ycyBoYXZlIGJlZW4gZnVsZmlsbGVkLiBBcyBsb25nIGFzIGFuIGFzeW5jaHJvbm91cyB2YWxpZGF0b3JcclxuICAgKiAgICAgIGlzIHVuZnVsZmlsbGVkLCBpdHMga2V5IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGNvbnRyb2xsZXJzIGAkcGVuZGluZ2AgcHJvcGVydHkuIEFsc28sIGFsbCBhc3luY2hyb25vdXMgdmFsaWRhdG9yc1xyXG4gICAqICAgICAgd2lsbCBvbmx5IHJ1biBvbmNlIGFsbCBzeW5jaHJvbm91cyB2YWxpZGF0b3JzIGhhdmUgcGFzc2VkLlxyXG4gICAqXHJcbiAgICogUGxlYXNlIG5vdGUgdGhhdCBpZiAkaHR0cCBpcyB1c2VkIHRoZW4gaXQgaXMgaW1wb3J0YW50IHRoYXQgdGhlIHNlcnZlciByZXR1cm5zIGEgc3VjY2VzcyBIVFRQIHJlc3BvbnNlIGNvZGVcclxuICAgKiBpbiBvcmRlciB0byBmdWxmaWxsIHRoZSB2YWxpZGF0aW9uIGFuZCBhIHN0YXR1cyBsZXZlbCBvZiBgNHh4YCBpbiBvcmRlciB0byByZWplY3QgdGhlIHZhbGlkYXRpb24uXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqIG5nTW9kZWwuJGFzeW5jVmFsaWRhdG9ycy51bmlxdWVVc2VybmFtZSA9IGZ1bmN0aW9uKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSkge1xyXG4gICAqICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XHJcbiAgICpcclxuICAgKiAgIC8vIExvb2t1cCB1c2VyIGJ5IHVzZXJuYW1lXHJcbiAgICogICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3VzZXJzLycgKyB2YWx1ZSkuXHJcbiAgICogICAgICB0aGVuKGZ1bmN0aW9uIHJlc29sdmVkKCkge1xyXG4gICAqICAgICAgICAvL3VzZXJuYW1lIGV4aXN0cywgdGhpcyBtZWFucyB2YWxpZGF0aW9uIGZhaWxzXHJcbiAgICogICAgICAgIHJldHVybiAkcS5yZWplY3QoJ2V4aXN0cycpO1xyXG4gICAqICAgICAgfSwgZnVuY3Rpb24gcmVqZWN0ZWQoKSB7XHJcbiAgICogICAgICAgIC8vdXNlcm5hbWUgZG9lcyBub3QgZXhpc3QsIHRoZXJlZm9yZSB0aGlzIHZhbGlkYXRpb24gcGFzc2VzXHJcbiAgICogICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAqICAgICAgfSk7XHJcbiAgICogfTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEBwcm9wZXJ0eSB7QXJyYXkuPEZ1bmN0aW9uPn0gJHZpZXdDaGFuZ2VMaXN0ZW5lcnMgQXJyYXkgb2YgZnVuY3Rpb25zIHRvIGV4ZWN1dGUgd2hlbmV2ZXIgdGhlXHJcbiAgICogICAgIHZpZXcgdmFsdWUgaGFzIGNoYW5nZWQuIEl0IGlzIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cywgYW5kIGl0cyByZXR1cm4gdmFsdWUgaXMgaWdub3JlZC5cclxuICAgKiAgICAgVGhpcyBjYW4gYmUgdXNlZCBpbiBwbGFjZSBvZiBhZGRpdGlvbmFsICR3YXRjaGVzIGFnYWluc3QgdGhlIG1vZGVsIHZhbHVlLlxyXG4gICAqXHJcbiAgICogQHByb3BlcnR5IHtPYmplY3R9ICRlcnJvciBBbiBvYmplY3QgaGFzaCB3aXRoIGFsbCBmYWlsaW5nIHZhbGlkYXRvciBpZHMgYXMga2V5cy5cclxuICAgKiBAcHJvcGVydHkge09iamVjdH0gJHBlbmRpbmcgQW4gb2JqZWN0IGhhc2ggd2l0aCBhbGwgcGVuZGluZyB2YWxpZGF0b3IgaWRzIGFzIGtleXMuXHJcbiAgICpcclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59ICR1bnRvdWNoZWQgVHJ1ZSBpZiBjb250cm9sIGhhcyBub3QgbG9zdCBmb2N1cyB5ZXQuXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSAkdG91Y2hlZCBUcnVlIGlmIGNvbnRyb2wgaGFzIGxvc3QgZm9jdXMuXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSAkcHJpc3RpbmUgVHJ1ZSBpZiB1c2VyIGhhcyBub3QgaW50ZXJhY3RlZCB3aXRoIHRoZSBjb250cm9sIHlldC5cclxuICAgKiBAcHJvcGVydHkge2Jvb2xlYW59ICRkaXJ0eSBUcnVlIGlmIHVzZXIgaGFzIGFscmVhZHkgaW50ZXJhY3RlZCB3aXRoIHRoZSBjb250cm9sLlxyXG4gICAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gJHZhbGlkIFRydWUgaWYgdGhlcmUgaXMgbm8gZXJyb3IuXHJcbiAgICogQHByb3BlcnR5IHtib29sZWFufSAkaW52YWxpZCBUcnVlIGlmIGF0IGxlYXN0IG9uZSBlcnJvciBvbiB0aGUgY29udHJvbC5cclxuICAgKiBAcHJvcGVydHkge3N0cmluZ30gJG5hbWUgVGhlIG5hbWUgYXR0cmlidXRlIG9mIHRoZSBjb250cm9sLlxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBgTmdNb2RlbENvbnRyb2xsZXJgIHByb3ZpZGVzIEFQSSBmb3IgdGhlIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gZGlyZWN0aXZlLlxyXG4gICAqIFRoZSBjb250cm9sbGVyIGNvbnRhaW5zIHNlcnZpY2VzIGZvciBkYXRhLWJpbmRpbmcsIHZhbGlkYXRpb24sIENTUyB1cGRhdGVzLCBhbmQgdmFsdWUgZm9ybWF0dGluZ1xyXG4gICAqIGFuZCBwYXJzaW5nLiBJdCBwdXJwb3NlZnVsbHkgZG9lcyBub3QgY29udGFpbiBhbnkgbG9naWMgd2hpY2ggZGVhbHMgd2l0aCBET00gcmVuZGVyaW5nIG9yXHJcbiAgICogbGlzdGVuaW5nIHRvIERPTSBldmVudHMuXHJcbiAgICogU3VjaCBET00gcmVsYXRlZCBsb2dpYyBzaG91bGQgYmUgcHJvdmlkZWQgYnkgb3RoZXIgZGlyZWN0aXZlcyB3aGljaCBtYWtlIHVzZSBvZlxyXG4gICAqIGBOZ01vZGVsQ29udHJvbGxlcmAgZm9yIGRhdGEtYmluZGluZyB0byBjb250cm9sIGVsZW1lbnRzLlxyXG4gICAqIEFuZ3VsYXIgcHJvdmlkZXMgdGhpcyBET00gbG9naWMgZm9yIG1vc3Qge0BsaW5rIGlucHV0IGBpbnB1dGB9IGVsZW1lbnRzLlxyXG4gICAqIEF0IHRoZSBlbmQgb2YgdGhpcyBwYWdlIHlvdSBjYW4gZmluZCBhIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyI2N1c3RvbS1jb250cm9sLWV4YW1wbGVcclxuICAgKiBjdXN0b20gY29udHJvbCBleGFtcGxlfSB0aGF0IHVzZXMgYG5nTW9kZWxDb250cm9sbGVyYCB0byBiaW5kIHRvIGBjb250ZW50ZWRpdGFibGVgIGVsZW1lbnRzLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiAjIyMgQ3VzdG9tIENvbnRyb2wgRXhhbXBsZVxyXG4gICAqIFRoaXMgZXhhbXBsZSBzaG93cyBob3cgdG8gdXNlIGBOZ01vZGVsQ29udHJvbGxlcmAgd2l0aCBhIGN1c3RvbSBjb250cm9sIHRvIGFjaGlldmVcclxuICAgKiBkYXRhLWJpbmRpbmcuIE5vdGljZSBob3cgZGlmZmVyZW50IGRpcmVjdGl2ZXMgKGBjb250ZW50ZWRpdGFibGVgLCBgbmctbW9kZWxgLCBhbmQgYHJlcXVpcmVkYClcclxuICAgKiBjb2xsYWJvcmF0ZSB0b2dldGhlciB0byBhY2hpZXZlIHRoZSBkZXNpcmVkIHJlc3VsdC5cclxuICAgKlxyXG4gICAqIGBjb250ZW50ZWRpdGFibGVgIGlzIGFuIEhUTUw1IGF0dHJpYnV0ZSwgd2hpY2ggdGVsbHMgdGhlIGJyb3dzZXIgdG8gbGV0IHRoZSBlbGVtZW50XHJcbiAgICogY29udGVudHMgYmUgZWRpdGVkIGluIHBsYWNlIGJ5IHRoZSB1c2VyLlxyXG4gICAqXHJcbiAgICogV2UgYXJlIHVzaW5nIHRoZSB7QGxpbmsgbmcuc2VydmljZTokc2NlICRzY2V9IHNlcnZpY2UgaGVyZSBhbmQgaW5jbHVkZSB0aGUge0BsaW5rIG5nU2FuaXRpemUgJHNhbml0aXplfVxyXG4gICAqIG1vZHVsZSB0byBhdXRvbWF0aWNhbGx5IHJlbW92ZSBcImJhZFwiIGNvbnRlbnQgbGlrZSBpbmxpbmUgZXZlbnQgbGlzdGVuZXIgKGUuZy4gYDxzcGFuIG9uY2xpY2s9XCIuLi5cIj5gKS5cclxuICAgKiBIb3dldmVyLCBhcyB3ZSBhcmUgdXNpbmcgYCRzY2VgIHRoZSBtb2RlbCBjYW4gc3RpbGwgZGVjaWRlIHRvIHByb3ZpZGUgdW5zYWZlIGNvbnRlbnQgaWYgaXQgbWFya3NcclxuICAgKiB0aGF0IGNvbnRlbnQgdXNpbmcgdGhlIGAkc2NlYCBzZXJ2aWNlLlxyXG4gICAqXHJcbiAgICogPGV4YW1wbGUgbmFtZT1cIk5nTW9kZWxDb250cm9sbGVyXCIgbW9kdWxlPVwiY3VzdG9tQ29udHJvbFwiIGRlcHM9XCJhbmd1bGFyLXNhbml0aXplLmpzXCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJzdHlsZS5jc3NcIj5cclxuICAgICAgICBbY29udGVudGVkaXRhYmxlXSB7XHJcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xyXG4gICAgICAgICAgbWluLWhlaWdodDogMjBweDtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgLm5nLWludmFsaWQge1xyXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ2N1c3RvbUNvbnRyb2wnLCBbJ25nU2FuaXRpemUnXSkuXHJcbiAgICAgICAgICBkaXJlY3RpdmUoJ2NvbnRlbnRlZGl0YWJsZScsIFsnJHNjZScsIGZ1bmN0aW9uKCRzY2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgICByZXN0cmljdDogJ0EnLCAvLyBvbmx5IGFjdGl2YXRlIG9uIGVsZW1lbnQgYXR0cmlidXRlXHJcbiAgICAgICAgICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJywgLy8gZ2V0IGEgaG9sZCBvZiBOZ01vZGVsQ29udHJvbGxlclxyXG4gICAgICAgICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgbmdNb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFuZ01vZGVsKSByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcclxuICBcclxuICAgICAgICAgICAgICAgIC8vIFNwZWNpZnkgaG93IFVJIHNob3VsZCBiZSB1cGRhdGVkXHJcbiAgICAgICAgICAgICAgICBuZ01vZGVsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgICAgZWxlbWVudC5odG1sKCRzY2UuZ2V0VHJ1c3RlZEh0bWwobmdNb2RlbC4kdmlld1ZhbHVlIHx8ICcnKSk7XHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gIFxyXG4gICAgICAgICAgICAgICAgLy8gTGlzdGVuIGZvciBjaGFuZ2UgZXZlbnRzIHRvIGVuYWJsZSBiaW5kaW5nXHJcbiAgICAgICAgICAgICAgICBlbGVtZW50Lm9uKCdibHVyIGtleXVwIGNoYW5nZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKHJlYWQpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZWFkKCk7IC8vIGluaXRpYWxpemVcclxuICBcclxuICAgICAgICAgICAgICAgIC8vIFdyaXRlIGRhdGEgdG8gdGhlIG1vZGVsXHJcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZWFkKCkge1xyXG4gICAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGVsZW1lbnQuaHRtbCgpO1xyXG4gICAgICAgICAgICAgICAgICAvLyBXaGVuIHdlIGNsZWFyIHRoZSBjb250ZW50IGVkaXRhYmxlIHRoZSBicm93c2VyIGxlYXZlcyBhIDxicj4gYmVoaW5kXHJcbiAgICAgICAgICAgICAgICAgIC8vIElmIHN0cmlwLWJyIGF0dHJpYnV0ZSBpcyBwcm92aWRlZCB0aGVuIHdlIHN0cmlwIHRoaXMgb3V0XHJcbiAgICAgICAgICAgICAgICAgIGlmIChhdHRycy5zdHJpcEJyICYmIGh0bWwgPT09ICc8YnI+Jykge1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWwgPSAnJztcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoaHRtbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gICAgICAgICA8ZGl2IGNvbnRlbnRlZGl0YWJsZVxyXG4gICAgICAgICAgICAgIG5hbWU9XCJteVdpZGdldFwiIG5nLW1vZGVsPVwidXNlckNvbnRlbnRcIlxyXG4gICAgICAgICAgICAgIHN0cmlwLWJyPVwidHJ1ZVwiXHJcbiAgICAgICAgICAgICAgcmVxdWlyZWQ+Q2hhbmdlIG1lITwvZGl2PlxyXG4gICAgICAgICAgPHNwYW4gbmctc2hvdz1cIm15Rm9ybS5teVdpZGdldC4kZXJyb3IucmVxdWlyZWRcIj5SZXF1aXJlZCE8L3NwYW4+XHJcbiAgICAgICAgIDxocj5cclxuICAgICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidXNlckNvbnRlbnRcIiBhcmlhLWxhYmVsPVwiRHluYW1pYyB0ZXh0YXJlYVwiPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgPC9mb3JtPlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgaXQoJ3Nob3VsZCBkYXRhLWJpbmQgYW5kIGJlY29tZSBpbnZhbGlkJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT09ICdzYWZhcmknIHx8IGJyb3dzZXIucGFyYW1zLmJyb3dzZXIgPT09ICdmaXJlZm94Jykge1xyXG4gICAgICAgICAgLy8gU2FmYXJpRHJpdmVyIGNhbid0IGhhbmRsZSBjb250ZW50ZWRpdGFibGVcclxuICAgICAgICAgIC8vIGFuZCBGaXJlZm94IGRyaXZlciBjYW4ndCBjbGVhciBjb250ZW50ZWRpdGFibGVzIHZlcnkgd2VsbFxyXG4gICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgY29udGVudEVkaXRhYmxlID0gZWxlbWVudChieS5jc3MoJ1tjb250ZW50ZWRpdGFibGVdJykpO1xyXG4gICAgICAgIHZhciBjb250ZW50ID0gJ0NoYW5nZSBtZSEnO1xyXG4gIFxyXG4gICAgICAgIGV4cGVjdChjb250ZW50RWRpdGFibGUuZ2V0VGV4dCgpKS50b0VxdWFsKGNvbnRlbnQpO1xyXG4gIFxyXG4gICAgICAgIGNvbnRlbnRFZGl0YWJsZS5jbGVhcigpO1xyXG4gICAgICAgIGNvbnRlbnRFZGl0YWJsZS5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5CQUNLX1NQQUNFKTtcclxuICAgICAgICBleHBlY3QoY29udGVudEVkaXRhYmxlLmdldFRleHQoKSkudG9FcXVhbCgnJyk7XHJcbiAgICAgICAgZXhwZWN0KGNvbnRlbnRFZGl0YWJsZS5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykpLnRvTWF0Y2goL25nLWludmFsaWQtcmVxdWlyZWQvKTtcclxuICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgKiA8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKlxyXG4gICAqL1xyXG4gIE5nTW9kZWxDb250cm9sbGVyLiRpbmplY3QgPSBbJyRzY29wZScsICckZXhjZXB0aW9uSGFuZGxlcicsICckYXR0cnMnLCAnJGVsZW1lbnQnLCAnJHBhcnNlJywgJyRhbmltYXRlJywgJyR0aW1lb3V0JywgJyRxJywgJyRpbnRlcnBvbGF0ZSddO1xyXG4gIGZ1bmN0aW9uIE5nTW9kZWxDb250cm9sbGVyKCRzY29wZSwgJGV4Y2VwdGlvbkhhbmRsZXIsICRhdHRyLCAkZWxlbWVudCwgJHBhcnNlLCAkYW5pbWF0ZSwgJHRpbWVvdXQsICRxLCAkaW50ZXJwb2xhdGUpIHtcclxuICAgIHRoaXMuJHZpZXdWYWx1ZSA9IE51bWJlci5OYU47XHJcbiAgICB0aGlzLiRtb2RlbFZhbHVlID0gTnVtYmVyLk5hTjtcclxuICAgIHRoaXMuJCRyYXdNb2RlbFZhbHVlID0gdW5kZWZpbmVkOyAvLyBzdG9yZXMgdGhlIHBhcnNlZCBtb2RlbFZhbHVlIC8gbW9kZWwgc2V0IGZyb20gc2NvcGUgcmVnYXJkbGVzcyBvZiB2YWxpZGl0eS5cclxuICAgIHRoaXMuJHZhbGlkYXRvcnMgPSB7fTtcclxuICAgIHRoaXMuJGFzeW5jVmFsaWRhdG9ycyA9IHt9O1xyXG4gICAgdGhpcy4kcGFyc2VycyA9IFtdO1xyXG4gICAgdGhpcy4kZm9ybWF0dGVycyA9IFtdO1xyXG4gICAgdGhpcy4kdmlld0NoYW5nZUxpc3RlbmVycyA9IFtdO1xyXG4gICAgdGhpcy4kdW50b3VjaGVkID0gdHJ1ZTtcclxuICAgIHRoaXMuJHRvdWNoZWQgPSBmYWxzZTtcclxuICAgIHRoaXMuJHByaXN0aW5lID0gdHJ1ZTtcclxuICAgIHRoaXMuJGRpcnR5ID0gZmFsc2U7XHJcbiAgICB0aGlzLiR2YWxpZCA9IHRydWU7XHJcbiAgICB0aGlzLiRpbnZhbGlkID0gZmFsc2U7XHJcbiAgICB0aGlzLiRlcnJvciA9IHt9OyAvLyBrZWVwIGludmFsaWQga2V5cyBoZXJlXHJcbiAgICB0aGlzLiQkc3VjY2VzcyA9IHt9OyAvLyBrZWVwIHZhbGlkIGtleXMgaGVyZVxyXG4gICAgdGhpcy4kcGVuZGluZyA9IHVuZGVmaW5lZDsgLy8ga2VlcCBwZW5kaW5nIGtleXMgaGVyZVxyXG4gICAgdGhpcy4kbmFtZSA9ICRpbnRlcnBvbGF0ZSgkYXR0ci5uYW1lIHx8ICcnLCBmYWxzZSkoJHNjb3BlKTtcclxuICAgIHRoaXMuJCRwYXJlbnRGb3JtID0gbnVsbEZvcm1DdHJsO1xyXG4gICAgdGhpcy4kb3B0aW9ucyA9IGRlZmF1bHRNb2RlbE9wdGlvbnM7XHJcblxyXG4gICAgdGhpcy4kJHBhcnNlZE5nTW9kZWwgPSAkcGFyc2UoJGF0dHIubmdNb2RlbCk7XHJcbiAgICB0aGlzLiQkcGFyc2VkTmdNb2RlbEFzc2lnbiA9IHRoaXMuJCRwYXJzZWROZ01vZGVsLmFzc2lnbjtcclxuICAgIHRoaXMuJCRuZ01vZGVsR2V0ID0gdGhpcy4kJHBhcnNlZE5nTW9kZWw7XHJcbiAgICB0aGlzLiQkbmdNb2RlbFNldCA9IHRoaXMuJCRwYXJzZWROZ01vZGVsQXNzaWduO1xyXG4gICAgdGhpcy4kJHBlbmRpbmdEZWJvdW5jZSA9IG51bGw7XHJcbiAgICB0aGlzLiQkcGFyc2VyVmFsaWQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgdGhpcy4kJGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQgPSAwO1xyXG5cclxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzE1ODMzXHJcbiAgICAvLyBQcmV2ZW50IGAkJHNjb3BlYCBmcm9tIGJlaW5nIGl0ZXJhdGVkIG92ZXIgYnkgYGNvcHlgIHdoZW4gTmdNb2RlbENvbnRyb2xsZXIgaXMgZGVlcCB3YXRjaGVkXHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJyQkc2NvcGUnLCB7IHZhbHVlOiAkc2NvcGUgfSk7XHJcbiAgICB0aGlzLiQkYXR0ciA9ICRhdHRyO1xyXG4gICAgdGhpcy4kJGVsZW1lbnQgPSAkZWxlbWVudDtcclxuICAgIHRoaXMuJCRhbmltYXRlID0gJGFuaW1hdGU7XHJcbiAgICB0aGlzLiQkdGltZW91dCA9ICR0aW1lb3V0O1xyXG4gICAgdGhpcy4kJHBhcnNlID0gJHBhcnNlO1xyXG4gICAgdGhpcy4kJHEgPSAkcTtcclxuICAgIHRoaXMuJCRleGNlcHRpb25IYW5kbGVyID0gJGV4Y2VwdGlvbkhhbmRsZXI7XHJcblxyXG4gICAgc2V0dXBWYWxpZGl0eSh0aGlzKTtcclxuICAgIHNldHVwTW9kZWxXYXRjaGVyKHRoaXMpO1xyXG4gIH1cclxuXHJcbiAgTmdNb2RlbENvbnRyb2xsZXIucHJvdG90eXBlID0ge1xyXG4gICAgJCRpbml0R2V0dGVyU2V0dGVyczogZnVuY3Rpb24gJCRpbml0R2V0dGVyU2V0dGVycygpIHtcclxuICAgICAgaWYgKHRoaXMuJG9wdGlvbnMuZ2V0T3B0aW9uKCdnZXR0ZXJTZXR0ZXInKSkge1xyXG4gICAgICAgIHZhciBpbnZva2VNb2RlbEdldHRlciA9IHRoaXMuJCRwYXJzZSh0aGlzLiQkYXR0ci5uZ01vZGVsICsgJygpJyksXHJcbiAgICAgICAgICAgIGludm9rZU1vZGVsU2V0dGVyID0gdGhpcy4kJHBhcnNlKHRoaXMuJCRhdHRyLm5nTW9kZWwgKyAnKCQkJHApJyk7XHJcblxyXG4gICAgICAgIHRoaXMuJCRuZ01vZGVsR2V0ID0gZnVuY3Rpb24gKCRzY29wZSkge1xyXG4gICAgICAgICAgdmFyIG1vZGVsVmFsdWUgPSB0aGlzLiQkcGFyc2VkTmdNb2RlbCgkc2NvcGUpO1xyXG4gICAgICAgICAgaWYgKGlzRnVuY3Rpb24obW9kZWxWYWx1ZSkpIHtcclxuICAgICAgICAgICAgbW9kZWxWYWx1ZSA9IGludm9rZU1vZGVsR2V0dGVyKCRzY29wZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gbW9kZWxWYWx1ZTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuJCRuZ01vZGVsU2V0ID0gZnVuY3Rpb24gKCRzY29wZSwgbmV3VmFsdWUpIHtcclxuICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKHRoaXMuJCRwYXJzZWROZ01vZGVsKCRzY29wZSkpKSB7XHJcbiAgICAgICAgICAgIGludm9rZU1vZGVsU2V0dGVyKCRzY29wZSwgeyAkJCRwOiBuZXdWYWx1ZSB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRoaXMuJCRwYXJzZWROZ01vZGVsQXNzaWduKCRzY29wZSwgbmV3VmFsdWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0gZWxzZSBpZiAoIXRoaXMuJCRwYXJzZWROZ01vZGVsLmFzc2lnbikge1xyXG4gICAgICAgIHRocm93IG5nTW9kZWxNaW5FcnIoJ25vbmFzc2lnbicsICdFeHByZXNzaW9uIFxcJ3swfVxcJyBpcyBub24tYXNzaWduYWJsZS4gRWxlbWVudDogezF9JywgdGhpcy4kJGF0dHIubmdNb2RlbCwgc3RhcnRpbmdUYWcodGhpcy4kJGVsZW1lbnQpKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJlbmRlclxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogQ2FsbGVkIHdoZW4gdGhlIHZpZXcgbmVlZHMgdG8gYmUgdXBkYXRlZC4gSXQgaXMgZXhwZWN0ZWQgdGhhdCB0aGUgdXNlciBvZiB0aGUgbmctbW9kZWxcclxuICAgICAqIGRpcmVjdGl2ZSB3aWxsIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cclxuICAgICAqXHJcbiAgICAgKiBUaGUgYCRyZW5kZXIoKWAgbWV0aG9kIGlzIGludm9rZWQgaW4gdGhlIGZvbGxvd2luZyBzaXR1YXRpb25zOlxyXG4gICAgICpcclxuICAgICAqICogYCRyb2xsYmFja1ZpZXdWYWx1ZSgpYCBpcyBjYWxsZWQuICBJZiB3ZSBhcmUgcm9sbGluZyBiYWNrIHRoZSB2aWV3IHZhbHVlIHRvIHRoZSBsYXN0XHJcbiAgICAgKiAgIGNvbW1pdHRlZCB2YWx1ZSB0aGVuIGAkcmVuZGVyKClgIGlzIGNhbGxlZCB0byB1cGRhdGUgdGhlIGlucHV0IGNvbnRyb2wuXHJcbiAgICAgKiAqIFRoZSB2YWx1ZSByZWZlcmVuY2VkIGJ5IGBuZy1tb2RlbGAgaXMgY2hhbmdlZCBwcm9ncmFtbWF0aWNhbGx5IGFuZCBib3RoIHRoZSBgJG1vZGVsVmFsdWVgIGFuZFxyXG4gICAgICogICB0aGUgYCR2aWV3VmFsdWVgIGFyZSBkaWZmZXJlbnQgZnJvbSBsYXN0IHRpbWUuXHJcbiAgICAgKlxyXG4gICAgICogU2luY2UgYG5nLW1vZGVsYCBkb2VzIG5vdCBkbyBhIGRlZXAgd2F0Y2gsIGAkcmVuZGVyKClgIGlzIG9ubHkgaW52b2tlZCBpZiB0aGUgdmFsdWVzIG9mXHJcbiAgICAgKiBgJG1vZGVsVmFsdWVgIGFuZCBgJHZpZXdWYWx1ZWAgYXJlIGFjdHVhbGx5IGRpZmZlcmVudCBmcm9tIHRoZWlyIHByZXZpb3VzIHZhbHVlcy4gSWYgYCRtb2RlbFZhbHVlYFxyXG4gICAgICogb3IgYCR2aWV3VmFsdWVgIGFyZSBvYmplY3RzIChyYXRoZXIgdGhhbiBhIHN0cmluZyBvciBudW1iZXIpIHRoZW4gYCRyZW5kZXIoKWAgd2lsbCBub3QgYmVcclxuICAgICAqIGludm9rZWQgaWYgeW91IG9ubHkgY2hhbmdlIGEgcHJvcGVydHkgb24gdGhlIG9iamVjdHMuXHJcbiAgICAgKi9cclxuICAgICRyZW5kZXI6IG5vb3AsXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5XHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBUaGlzIGlzIGNhbGxlZCB3aGVuIHdlIG5lZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSB2YWx1ZSBvZiBhbiBpbnB1dCBpcyBlbXB0eS5cclxuICAgICAqXHJcbiAgICAgKiBGb3IgaW5zdGFuY2UsIHRoZSByZXF1aXJlZCBkaXJlY3RpdmUgZG9lcyB0aGlzIHRvIHdvcmsgb3V0IGlmIHRoZSBpbnB1dCBoYXMgZGF0YSBvciBub3QuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIGRlZmF1bHQgYCRpc0VtcHR5YCBmdW5jdGlvbiBjaGVja3Mgd2hldGhlciB0aGUgdmFsdWUgaXMgYHVuZGVmaW5lZGAsIGAnJ2AsIGBudWxsYCBvciBgTmFOYC5cclxuICAgICAqXHJcbiAgICAgKiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgZm9yIGlucHV0IGRpcmVjdGl2ZXMgd2hvc2UgY29uY2VwdCBvZiBiZWluZyBlbXB0eSBpcyBkaWZmZXJlbnQgZnJvbSB0aGVcclxuICAgICAqIGRlZmF1bHQuIFRoZSBgY2hlY2tib3hJbnB1dFR5cGVgIGRpcmVjdGl2ZSBkb2VzIHRoaXMgYmVjYXVzZSBpbiBpdHMgY2FzZSBhIHZhbHVlIG9mIGBmYWxzZWBcclxuICAgICAqIGltcGxpZXMgZW1wdHkuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGlucHV0IHRvIGNoZWNrIGZvciBlbXB0aW5lc3MuXHJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBgdmFsdWVgIGlzIFwiZW1wdHlcIi5cclxuICAgICAqL1xyXG4gICAgJGlzRW1wdHk6IGZ1bmN0aW9uICRpc0VtcHR5KHZhbHVlKSB7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcclxuICAgICAgcmV0dXJuIGlzVW5kZWZpbmVkKHZhbHVlKSB8fCB2YWx1ZSA9PT0gJycgfHwgdmFsdWUgPT09IG51bGwgfHwgdmFsdWUgIT09IHZhbHVlO1xyXG4gICAgfSxcclxuXHJcbiAgICAkJHVwZGF0ZUVtcHR5Q2xhc3NlczogZnVuY3Rpb24gJCR1cGRhdGVFbXB0eUNsYXNzZXModmFsdWUpIHtcclxuICAgICAgaWYgKHRoaXMuJGlzRW1wdHkodmFsdWUpKSB7XHJcbiAgICAgICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIE5PVF9FTVBUWV9DTEFTUyk7XHJcbiAgICAgICAgdGhpcy4kJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIEVNUFRZX0NMQVNTKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLiQkYW5pbWF0ZS5yZW1vdmVDbGFzcyh0aGlzLiQkZWxlbWVudCwgRU1QVFlfQ0xBU1MpO1xyXG4gICAgICAgIHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBOT1RfRU1QVFlfQ0xBU1MpO1xyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0UHJpc3RpbmVcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lIHN0YXRlLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctZGlydHlgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzIHByaXN0aW5lXHJcbiAgICAgKiBzdGF0ZSAoYG5nLXByaXN0aW5lYCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBwcmlzdGluZSB3aGVuIHRoZSBjb250cm9sXHJcbiAgICAgKiBoYXMgbm90IGJlZW4gY2hhbmdlZCBmcm9tIHdoZW4gZmlyc3QgY29tcGlsZWQuXHJcbiAgICAgKi9cclxuICAgICRzZXRQcmlzdGluZTogZnVuY3Rpb24gJHNldFByaXN0aW5lKCkge1xyXG4gICAgICB0aGlzLiRkaXJ0eSA9IGZhbHNlO1xyXG4gICAgICB0aGlzLiRwcmlzdGluZSA9IHRydWU7XHJcbiAgICAgIHRoaXMuJCRhbmltYXRlLnJlbW92ZUNsYXNzKHRoaXMuJCRlbGVtZW50LCBESVJUWV9DTEFTUyk7XHJcbiAgICAgIHRoaXMuJCRhbmltYXRlLmFkZENsYXNzKHRoaXMuJCRlbGVtZW50LCBQUklTVElORV9DTEFTUyk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0RGlydHlcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFNldHMgdGhlIGNvbnRyb2wgdG8gaXRzIGRpcnR5IHN0YXRlLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctcHJpc3RpbmVgIGNsYXNzIGFuZCBzZXQgdGhlIGNvbnRyb2wgdG8gaXRzIGRpcnR5XHJcbiAgICAgKiBzdGF0ZSAoYG5nLWRpcnR5YCBjbGFzcykuIEEgbW9kZWwgaXMgY29uc2lkZXJlZCB0byBiZSBkaXJ0eSB3aGVuIHRoZSBjb250cm9sIGhhcyBiZWVuIGNoYW5nZWRcclxuICAgICAqIGZyb20gd2hlbiBmaXJzdCBjb21waWxlZC5cclxuICAgICAqL1xyXG4gICAgJHNldERpcnR5OiBmdW5jdGlvbiAkc2V0RGlydHkoKSB7XHJcbiAgICAgIHRoaXMuJGRpcnR5ID0gdHJ1ZTtcclxuICAgICAgdGhpcy4kcHJpc3RpbmUgPSBmYWxzZTtcclxuICAgICAgdGhpcy4kJGFuaW1hdGUucmVtb3ZlQ2xhc3ModGhpcy4kJGVsZW1lbnQsIFBSSVNUSU5FX0NMQVNTKTtcclxuICAgICAgdGhpcy4kJGFuaW1hdGUuYWRkQ2xhc3ModGhpcy4kJGVsZW1lbnQsIERJUlRZX0NMQVNTKTtcclxuICAgICAgdGhpcy4kJHBhcmVudEZvcm0uJHNldERpcnR5KCk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0VW50b3VjaGVkXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyB1bnRvdWNoZWQgc3RhdGUuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlIGBuZy10b3VjaGVkYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0c1xyXG4gICAgICogdW50b3VjaGVkIHN0YXRlIChgbmctdW50b3VjaGVkYCBjbGFzcykuIFVwb24gY29tcGlsYXRpb24sIGEgbW9kZWwgaXMgc2V0IGFzIHVudG91Y2hlZFxyXG4gICAgICogYnkgZGVmYXVsdCwgaG93ZXZlciB0aGlzIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIHJlc3RvcmUgdGhhdCBzdGF0ZSBpZiB0aGUgbW9kZWwgaGFzXHJcbiAgICAgKiBhbHJlYWR5IGJlZW4gdG91Y2hlZCBieSB0aGUgdXNlci5cclxuICAgICAqL1xyXG4gICAgJHNldFVudG91Y2hlZDogZnVuY3Rpb24gJHNldFVudG91Y2hlZCgpIHtcclxuICAgICAgdGhpcy4kdG91Y2hlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLiR1bnRvdWNoZWQgPSB0cnVlO1xyXG4gICAgICB0aGlzLiQkYW5pbWF0ZS5zZXRDbGFzcyh0aGlzLiQkZWxlbWVudCwgVU5UT1VDSEVEX0NMQVNTLCBUT1VDSEVEX0NMQVNTKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRzZXRUb3VjaGVkXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBTZXRzIHRoZSBjb250cm9sIHRvIGl0cyB0b3VjaGVkIHN0YXRlLlxyXG4gICAgICpcclxuICAgICAqIFRoaXMgbWV0aG9kIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZSBgbmctdW50b3VjaGVkYCBjbGFzcyBhbmQgc2V0IHRoZSBjb250cm9sIHRvIGl0c1xyXG4gICAgICogdG91Y2hlZCBzdGF0ZSAoYG5nLXRvdWNoZWRgIGNsYXNzKS4gQSBtb2RlbCBpcyBjb25zaWRlcmVkIHRvIGJlIHRvdWNoZWQgd2hlbiB0aGUgdXNlciBoYXNcclxuICAgICAqIGZpcnN0IGZvY3VzZWQgdGhlIGNvbnRyb2wgZWxlbWVudCBhbmQgdGhlbiBzaGlmdGVkIGZvY3VzIGF3YXkgZnJvbSB0aGUgY29udHJvbCAoYmx1ciBldmVudCkuXHJcbiAgICAgKi9cclxuICAgICRzZXRUb3VjaGVkOiBmdW5jdGlvbiAkc2V0VG91Y2hlZCgpIHtcclxuICAgICAgdGhpcy4kdG91Y2hlZCA9IHRydWU7XHJcbiAgICAgIHRoaXMuJHVudG91Y2hlZCA9IGZhbHNlO1xyXG4gICAgICB0aGlzLiQkYW5pbWF0ZS5zZXRDbGFzcyh0aGlzLiQkZWxlbWVudCwgVE9VQ0hFRF9DTEFTUywgVU5UT1VDSEVEX0NMQVNTKTtcclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZVxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICogQ2FuY2VsIGFuIHVwZGF0ZSBhbmQgcmVzZXQgdGhlIGlucHV0IGVsZW1lbnQncyB2YWx1ZSB0byBwcmV2ZW50IGFuIHVwZGF0ZSB0byB0aGUgYCRtb2RlbFZhbHVlYCxcclxuICAgICAqIHdoaWNoIG1heSBiZSBjYXVzZWQgYnkgYSBwZW5kaW5nIGRlYm91bmNlZCBldmVudCBvciBiZWNhdXNlIHRoZSBpbnB1dCBpcyB3YWl0aW5nIGZvciBzb21lXHJcbiAgICAgKiBmdXR1cmUgZXZlbnQuXHJcbiAgICAgKlxyXG4gICAgICogSWYgeW91IGhhdmUgYW4gaW5wdXQgdGhhdCB1c2VzIGBuZy1tb2RlbC1vcHRpb25zYCB0byBzZXQgdXAgZGVib3VuY2VkIHVwZGF0ZXMgb3IgdXBkYXRlcyB0aGF0XHJcbiAgICAgKiBkZXBlbmQgb24gc3BlY2lhbCBldmVudHMgc3VjaCBhcyBgYmx1cmAsIHRoZXJlIGNhbiBiZSBhIHBlcmlvZCB3aGVuIHRoZSBgJHZpZXdWYWx1ZWAgaXMgb3V0IG9mXHJcbiAgICAgKiBzeW5jIHdpdGggdGhlIG5nTW9kZWwncyBgJG1vZGVsVmFsdWVgLlxyXG4gICAgICpcclxuICAgICAqIEluIHRoaXMgY2FzZSwgeW91IGNhbiB1c2UgYCRyb2xsYmFja1ZpZXdWYWx1ZSgpYCB0byBtYW51YWxseSBjYW5jZWwgdGhlIGRlYm91bmNlZCAvIGZ1dHVyZSB1cGRhdGVcclxuICAgICAqIGFuZCByZXNldCB0aGUgaW5wdXQgdG8gdGhlIGxhc3QgY29tbWl0dGVkIHZpZXcgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0aGF0IHlvdSBydW4gaW50byBkaWZmaWN1bHRpZXMgaWYgeW91IHRyeSB0byB1cGRhdGUgdGhlIG5nTW9kZWwncyBgJG1vZGVsVmFsdWVgXHJcbiAgICAgKiBwcm9ncmFtbWF0aWNhbGx5IGJlZm9yZSB0aGVzZSBkZWJvdW5jZWQvZnV0dXJlIGV2ZW50cyBoYXZlIHJlc29sdmVkL29jY3VycmVkLCBiZWNhdXNlIEFuZ3VsYXInc1xyXG4gICAgICogZGlydHkgY2hlY2tpbmcgbWVjaGFuaXNtIGlzIG5vdCBhYmxlIHRvIHRlbGwgd2hldGhlciB0aGUgbW9kZWwgaGFzIGFjdHVhbGx5IGNoYW5nZWQgb3Igbm90LlxyXG4gICAgICpcclxuICAgICAqIFRoZSBgJHJvbGxiYWNrVmlld1ZhbHVlKClgIG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkIGJlZm9yZSBwcm9ncmFtbWF0aWNhbGx5IGNoYW5naW5nIHRoZSBtb2RlbCBvZiBhblxyXG4gICAgICogaW5wdXQgd2hpY2ggbWF5IGhhdmUgc3VjaCBldmVudHMgcGVuZGluZy4gVGhpcyBpcyBpbXBvcnRhbnQgaW4gb3JkZXIgdG8gbWFrZSBzdXJlIHRoYXQgdGhlXHJcbiAgICAgKiBpbnB1dCBmaWVsZCB3aWxsIGJlIHVwZGF0ZWQgd2l0aCB0aGUgbmV3IG1vZGVsIHZhbHVlIGFuZCBhbnkgcGVuZGluZyBvcGVyYXRpb25zIGFyZSBjYW5jZWxsZWQuXHJcbiAgICAgKlxyXG4gICAgICogPGV4YW1wbGUgbmFtZT1cIm5nLW1vZGVsLWNhbmNlbC11cGRhdGVcIiBtb2R1bGU9XCJjYW5jZWwtdXBkYXRlLWV4YW1wbGVcIj5cclxuICAgICAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gICAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdjYW5jZWwtdXBkYXRlLWV4YW1wbGUnLCBbXSlcclxuICAgICAqXHJcbiAgICAgKiAgICAgLmNvbnRyb2xsZXIoJ0NhbmNlbFVwZGF0ZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICogICAgICAgJHNjb3BlLm1vZGVsID0ge3ZhbHVlMTogJycsIHZhbHVlMjogJyd9O1xyXG4gICAgICpcclxuICAgICAqICAgICAgICRzY29wZS5zZXRFbXB0eSA9IGZ1bmN0aW9uKGUsIHZhbHVlLCByb2xsYmFjaykge1xyXG4gICAgICogICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAyNykge1xyXG4gICAgICogICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAqICAgICAgICAgICBpZiAocm9sbGJhY2spIHtcclxuICAgICAqICAgICAgICAgICAgICRzY29wZS5teUZvcm1bdmFsdWVdLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xyXG4gICAgICogICAgICAgICAgIH1cclxuICAgICAqICAgICAgICAgICAkc2NvcGUubW9kZWxbdmFsdWVdID0gJyc7XHJcbiAgICAgKiAgICAgICAgIH1cclxuICAgICAqICAgICAgIH07XHJcbiAgICAgKiAgICAgfV0pO1xyXG4gICAgICogICA8L2ZpbGU+XHJcbiAgICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiQ2FuY2VsVXBkYXRlQ29udHJvbGxlclwiPlxyXG4gICAgICogICAgICAgPHA+Qm90aCBvZiB0aGVzZSBpbnB1dHMgYXJlIG9ubHkgdXBkYXRlZCBpZiB0aGV5IGFyZSBibHVycmVkLiBIaXR0aW5nIGVzY2FwZSBzaG91bGRcclxuICAgICAqICAgICAgIGVtcHR5IHRoZW0uIEZvbGxvdyB0aGVzZSBzdGVwcyBhbmQgb2JzZXJ2ZSB0aGUgZGlmZmVyZW5jZTo8L3A+XHJcbiAgICAgKiAgICAgICA8b2w+XHJcbiAgICAgKiAgICAgICAgIDxsaT5UeXBlIHNvbWV0aGluZyBpbiB0aGUgaW5wdXQuIFlvdSB3aWxsIHNlZSB0aGF0IHRoZSBtb2RlbCBpcyBub3QgeWV0IHVwZGF0ZWQ8L2xpPlxyXG4gICAgICogICAgICAgICA8bGk+UHJlc3MgdGhlIEVzY2FwZSBrZXkuXHJcbiAgICAgKiAgICAgICAgICAgPG9sPlxyXG4gICAgICogICAgICAgICAgICAgPGxpPiBJbiB0aGUgZmlyc3QgZXhhbXBsZSwgbm90aGluZyBoYXBwZW5zLCBiZWNhdXNlIHRoZSBtb2RlbCBpcyBhbHJlYWR5ICcnLCBhbmQgbm9cclxuICAgICAqICAgICAgICAgICAgIHVwZGF0ZSBpcyBkZXRlY3RlZC4gSWYgeW91IGJsdXIgdGhlIGlucHV0LCB0aGUgbW9kZWwgd2lsbCBiZSBzZXQgdG8gdGhlIGN1cnJlbnQgdmlldy5cclxuICAgICAqICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgKiAgICAgICAgICAgICA8bGk+IEluIHRoZSBzZWNvbmQgZXhhbXBsZSwgdGhlIHBlbmRpbmcgdXBkYXRlIGlzIGNhbmNlbGxlZCwgYW5kIHRoZSBpbnB1dCBpcyBzZXQgYmFja1xyXG4gICAgICogICAgICAgICAgICAgdG8gdGhlIGxhc3QgY29tbWl0dGVkIHZpZXcgdmFsdWUgKCcnKS4gQmx1cnJpbmcgdGhlIGlucHV0IGRvZXMgbm90aGluZy5cclxuICAgICAqICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgKiAgICAgICAgICAgPC9vbD5cclxuICAgICAqICAgICAgICAgPC9saT5cclxuICAgICAqICAgICAgIDwvb2w+XHJcbiAgICAgKlxyXG4gICAgICogICAgICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiPlxyXG4gICAgICogICAgICAgICA8ZGl2PlxyXG4gICAgICogICAgICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvbjFcIj5XaXRob3V0ICRyb2xsYmFja1ZpZXdWYWx1ZSgpOjwvcD5cclxuICAgICAqICAgICAgICAgICA8aW5wdXQgbmFtZT1cInZhbHVlMVwiIGFyaWEtZGVzY3JpYmVkYnk9XCJpbnB1dERlc2NyaXB0aW9uMVwiIG5nLW1vZGVsPVwibW9kZWwudmFsdWUxXCJcclxuICAgICAqICAgICAgICAgICAgICAgICAgbmcta2V5ZG93bj1cInNldEVtcHR5KCRldmVudCwgJ3ZhbHVlMScpXCI+XHJcbiAgICAgKiAgICAgICAgICAgdmFsdWUxOiBcInt7IG1vZGVsLnZhbHVlMSB9fVwiXHJcbiAgICAgKiAgICAgICAgIDwvZGl2PlxyXG4gICAgICpcclxuICAgICAqICAgICAgICAgPGRpdj5cclxuICAgICAqICAgICAgICAgICA8cCBpZD1cImlucHV0RGVzY3JpcHRpb24yXCI+V2l0aCAkcm9sbGJhY2tWaWV3VmFsdWUoKTo8L3A+XHJcbiAgICAgKiAgICAgICAgICAgPGlucHV0IG5hbWU9XCJ2YWx1ZTJcIiBhcmlhLWRlc2NyaWJlZGJ5PVwiaW5wdXREZXNjcmlwdGlvbjJcIiBuZy1tb2RlbD1cIm1vZGVsLnZhbHVlMlwiXHJcbiAgICAgKiAgICAgICAgICAgICAgICAgIG5nLWtleWRvd249XCJzZXRFbXB0eSgkZXZlbnQsICd2YWx1ZTInLCB0cnVlKVwiPlxyXG4gICAgICogICAgICAgICAgIHZhbHVlMjogXCJ7eyBtb2RlbC52YWx1ZTIgfX1cIlxyXG4gICAgICogICAgICAgICA8L2Rpdj5cclxuICAgICAqICAgICAgIDwvZm9ybT5cclxuICAgICAqICAgICA8L2Rpdj5cclxuICAgICAqICAgPC9maWxlPlxyXG4gICAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgICAgIGRpdiB7XHJcbiAgICAgICAgICAgICAgZGlzcGxheTogdGFibGUtY2VsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBkaXY6bnRoLWNoaWxkKDEpIHtcclxuICAgICAgICAgICAgICBwYWRkaW5nLXJpZ2h0OiAzMHB4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDwvZmlsZT5cclxuICAgICAqIDwvZXhhbXBsZT5cclxuICAgICAqL1xyXG4gICAgJHJvbGxiYWNrVmlld1ZhbHVlOiBmdW5jdGlvbiAkcm9sbGJhY2tWaWV3VmFsdWUoKSB7XHJcbiAgICAgIHRoaXMuJCR0aW1lb3V0LmNhbmNlbCh0aGlzLiQkcGVuZGluZ0RlYm91bmNlKTtcclxuICAgICAgdGhpcy4kdmlld1ZhbHVlID0gdGhpcy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XHJcbiAgICAgIHRoaXMuJHJlbmRlcigpO1xyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBuZ2RvYyBtZXRob2RcclxuICAgICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRlXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBSdW5zIGVhY2ggb2YgdGhlIHJlZ2lzdGVyZWQgdmFsaWRhdG9ycyAoZmlyc3Qgc3luY2hyb25vdXMgdmFsaWRhdG9ycyBhbmQgdGhlblxyXG4gICAgICogYXN5bmNocm9ub3VzIHZhbGlkYXRvcnMpLlxyXG4gICAgICogSWYgdGhlIHZhbGlkaXR5IGNoYW5nZXMgdG8gaW52YWxpZCwgdGhlIG1vZGVsIHdpbGwgYmUgc2V0IHRvIGB1bmRlZmluZWRgLFxyXG4gICAgICogdW5sZXNzIHtAbGluayBuZ01vZGVsT3B0aW9ucyBgbmdNb2RlbE9wdGlvbnMuYWxsb3dJbnZhbGlkYH0gaXMgYHRydWVgLlxyXG4gICAgICogSWYgdGhlIHZhbGlkaXR5IGNoYW5nZXMgdG8gdmFsaWQsIGl0IHdpbGwgc2V0IHRoZSBtb2RlbCB0byB0aGUgbGFzdCBhdmFpbGFibGUgdmFsaWRcclxuICAgICAqIGAkbW9kZWxWYWx1ZWAsIGkuZS4gZWl0aGVyIHRoZSBsYXN0IHBhcnNlZCB2YWx1ZSBvciB0aGUgbGFzdCB2YWx1ZSBzZXQgZnJvbSB0aGUgc2NvcGUuXHJcbiAgICAgKi9cclxuICAgICR2YWxpZGF0ZTogZnVuY3Rpb24gJHZhbGlkYXRlKCkge1xyXG4gICAgICAvLyBpZ25vcmUgJHZhbGlkYXRlIGJlZm9yZSBtb2RlbCBpcyBpbml0aWFsaXplZFxyXG4gICAgICBpZiAoaXNOdW1iZXJOYU4odGhpcy4kbW9kZWxWYWx1ZSkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHZhciB2aWV3VmFsdWUgPSB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZTtcclxuICAgICAgLy8gTm90ZTogd2UgdXNlIHRoZSAkJHJhd01vZGVsVmFsdWUgYXMgJG1vZGVsVmFsdWUgbWlnaHQgaGF2ZSBiZWVuXHJcbiAgICAgIC8vIHNldCB0byB1bmRlZmluZWQgZHVyaW5nIGEgdmlldyAtPiBtb2RlbCB1cGRhdGUgdGhhdCBmb3VuZCB2YWxpZGF0aW9uXHJcbiAgICAgIC8vIGVycm9ycy4gV2UgY2FuJ3QgcGFyc2UgdGhlIHZpZXcgaGVyZSwgc2luY2UgdGhhdCBjb3VsZCBjaGFuZ2VcclxuICAgICAgLy8gdGhlIG1vZGVsIGFsdGhvdWdoIG5laXRoZXIgdmlld1ZhbHVlIG5vciB0aGUgbW9kZWwgb24gdGhlIHNjb3BlIGNoYW5nZWRcclxuICAgICAgdmFyIG1vZGVsVmFsdWUgPSB0aGlzLiQkcmF3TW9kZWxWYWx1ZTtcclxuXHJcbiAgICAgIHZhciBwcmV2VmFsaWQgPSB0aGlzLiR2YWxpZDtcclxuICAgICAgdmFyIHByZXZNb2RlbFZhbHVlID0gdGhpcy4kbW9kZWxWYWx1ZTtcclxuXHJcbiAgICAgIHZhciBhbGxvd0ludmFsaWQgPSB0aGlzLiRvcHRpb25zLmdldE9wdGlvbignYWxsb3dJbnZhbGlkJyk7XHJcblxyXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAgIHRoaXMuJCRydW5WYWxpZGF0b3JzKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgZnVuY3Rpb24gKGFsbFZhbGlkKSB7XHJcbiAgICAgICAgLy8gSWYgdGhlcmUgd2FzIG5vIGNoYW5nZSBpbiB2YWxpZGl0eSwgZG9uJ3QgdXBkYXRlIHRoZSBtb2RlbFxyXG4gICAgICAgIC8vIFRoaXMgcHJldmVudHMgY2hhbmdpbmcgYW4gaW52YWxpZCBtb2RlbFZhbHVlIHRvIHVuZGVmaW5lZFxyXG4gICAgICAgIGlmICghYWxsb3dJbnZhbGlkICYmIHByZXZWYWxpZCAhPT0gYWxsVmFsaWQpIHtcclxuICAgICAgICAgIC8vIE5vdGU6IERvbid0IGNoZWNrIHRoaXMuJHZhbGlkIGhlcmUsIGFzIHdlIGNvdWxkIGhhdmVcclxuICAgICAgICAgIC8vIGV4dGVybmFsIHZhbGlkYXRvcnMgKGUuZy4gY2FsY3VsYXRlZCBvbiB0aGUgc2VydmVyKSxcclxuICAgICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcclxuICAgICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGVpciB2YWxpZGl0eS5cclxuICAgICAgICAgIHRoYXQuJG1vZGVsVmFsdWUgPSBhbGxWYWxpZCA/IG1vZGVsVmFsdWUgOiB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgICAgaWYgKHRoYXQuJG1vZGVsVmFsdWUgIT09IHByZXZNb2RlbFZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRoYXQuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgICQkcnVuVmFsaWRhdG9yczogZnVuY3Rpb24gJCRydW5WYWxpZGF0b3JzKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSwgZG9uZUNhbGxiYWNrKSB7XHJcbiAgICAgIHRoaXMuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKys7XHJcbiAgICAgIHZhciBsb2NhbFZhbGlkYXRpb25SdW5JZCA9IHRoaXMuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkO1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICAvLyBjaGVjayBwYXJzZXIgZXJyb3JcclxuICAgICAgaWYgKCFwcm9jZXNzUGFyc2VFcnJvcnMoKSkge1xyXG4gICAgICAgIHZhbGlkYXRpb25Eb25lKGZhbHNlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgaWYgKCFwcm9jZXNzU3luY1ZhbGlkYXRvcnMoKSkge1xyXG4gICAgICAgIHZhbGlkYXRpb25Eb25lKGZhbHNlKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgcHJvY2Vzc0FzeW5jVmFsaWRhdG9ycygpO1xyXG5cclxuICAgICAgZnVuY3Rpb24gcHJvY2Vzc1BhcnNlRXJyb3JzKCkge1xyXG4gICAgICAgIHZhciBlcnJvcktleSA9IHRoYXQuJCRwYXJzZXJOYW1lIHx8ICdwYXJzZSc7XHJcbiAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHRoYXQuJCRwYXJzZXJWYWxpZCkpIHtcclxuICAgICAgICAgIHNldFZhbGlkaXR5KGVycm9yS2V5LCBudWxsKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKCF0aGF0LiQkcGFyc2VyVmFsaWQpIHtcclxuICAgICAgICAgICAgZm9yRWFjaCh0aGF0LiR2YWxpZGF0b3JzLCBmdW5jdGlvbiAodiwgbmFtZSkge1xyXG4gICAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgZm9yRWFjaCh0aGF0LiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uICh2LCBuYW1lKSB7XHJcbiAgICAgICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgbnVsbCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gU2V0IHRoZSBwYXJzZSBlcnJvciBsYXN0LCB0byBwcmV2ZW50IHVuc2V0dGluZyBpdCwgc2hvdWxkIGEgJHZhbGlkYXRvcnMga2V5ID09IHBhcnNlck5hbWVcclxuICAgICAgICAgIHNldFZhbGlkaXR5KGVycm9yS2V5LCB0aGF0LiQkcGFyc2VyVmFsaWQpO1xyXG4gICAgICAgICAgcmV0dXJuIHRoYXQuJCRwYXJzZXJWYWxpZDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIHByb2Nlc3NTeW5jVmFsaWRhdG9ycygpIHtcclxuICAgICAgICB2YXIgc3luY1ZhbGlkYXRvcnNWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgZm9yRWFjaCh0aGF0LiR2YWxpZGF0b3JzLCBmdW5jdGlvbiAodmFsaWRhdG9yLCBuYW1lKSB7XHJcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gQm9vbGVhbih2YWxpZGF0b3IobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSk7XHJcbiAgICAgICAgICBzeW5jVmFsaWRhdG9yc1ZhbGlkID0gc3luY1ZhbGlkYXRvcnNWYWxpZCAmJiByZXN1bHQ7XHJcbiAgICAgICAgICBzZXRWYWxpZGl0eShuYW1lLCByZXN1bHQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmICghc3luY1ZhbGlkYXRvcnNWYWxpZCkge1xyXG4gICAgICAgICAgZm9yRWFjaCh0aGF0LiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uICh2LCBuYW1lKSB7XHJcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIG51bGwpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiBwcm9jZXNzQXN5bmNWYWxpZGF0b3JzKCkge1xyXG4gICAgICAgIHZhciB2YWxpZGF0b3JQcm9taXNlcyA9IFtdO1xyXG4gICAgICAgIHZhciBhbGxWYWxpZCA9IHRydWU7XHJcbiAgICAgICAgZm9yRWFjaCh0aGF0LiRhc3luY1ZhbGlkYXRvcnMsIGZ1bmN0aW9uICh2YWxpZGF0b3IsIG5hbWUpIHtcclxuICAgICAgICAgIHZhciBwcm9taXNlID0gdmFsaWRhdG9yKG1vZGVsVmFsdWUsIHZpZXdWYWx1ZSk7XHJcbiAgICAgICAgICBpZiAoIWlzUHJvbWlzZUxpa2UocHJvbWlzZSkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmdNb2RlbE1pbkVycignbm9wcm9taXNlJywgJ0V4cGVjdGVkIGFzeW5jaHJvbm91cyB2YWxpZGF0b3IgdG8gcmV0dXJuIGEgcHJvbWlzZSBidXQgZ290IFxcJ3swfVxcJyBpbnN0ZWFkLicsIHByb21pc2UpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgdW5kZWZpbmVkKTtcclxuICAgICAgICAgIHZhbGlkYXRvclByb21pc2VzLnB1c2gocHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2V0VmFsaWRpdHkobmFtZSwgdHJ1ZSk7XHJcbiAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGFsbFZhbGlkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHNldFZhbGlkaXR5KG5hbWUsIGZhbHNlKTtcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoIXZhbGlkYXRvclByb21pc2VzLmxlbmd0aCkge1xyXG4gICAgICAgICAgdmFsaWRhdGlvbkRvbmUodHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRoYXQuJCRxLmFsbCh2YWxpZGF0b3JQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhbGlkYXRpb25Eb25lKGFsbFZhbGlkKTtcclxuICAgICAgICAgIH0sIG5vb3ApO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gc2V0VmFsaWRpdHkobmFtZSwgaXNWYWxpZCkge1xyXG4gICAgICAgIGlmIChsb2NhbFZhbGlkYXRpb25SdW5JZCA9PT0gdGhhdC4kJGN1cnJlbnRWYWxpZGF0aW9uUnVuSWQpIHtcclxuICAgICAgICAgIHRoYXQuJHNldFZhbGlkaXR5KG5hbWUsIGlzVmFsaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgZnVuY3Rpb24gdmFsaWRhdGlvbkRvbmUoYWxsVmFsaWQpIHtcclxuICAgICAgICBpZiAobG9jYWxWYWxpZGF0aW9uUnVuSWQgPT09IHRoYXQuJCRjdXJyZW50VmFsaWRhdGlvblJ1bklkKSB7XHJcblxyXG4gICAgICAgICAgZG9uZUNhbGxiYWNrKGFsbFZhbGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKiBAbmFtZSBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRjb21taXRWaWV3VmFsdWVcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIENvbW1pdCBhIHBlbmRpbmcgdXBkYXRlIHRvIHRoZSBgJG1vZGVsVmFsdWVgLlxyXG4gICAgICpcclxuICAgICAqIFVwZGF0ZXMgbWF5IGJlIHBlbmRpbmcgYnkgYSBkZWJvdW5jZWQgZXZlbnQgb3IgYmVjYXVzZSB0aGUgaW5wdXQgaXMgd2FpdGluZyBmb3IgYSBzb21lIGZ1dHVyZVxyXG4gICAgICogZXZlbnQgZGVmaW5lZCBpbiBgbmctbW9kZWwtb3B0aW9uc2AuIHRoaXMgbWV0aG9kIGlzIHJhcmVseSBuZWVkZWQgYXMgYE5nTW9kZWxDb250cm9sbGVyYFxyXG4gICAgICogdXN1YWxseSBoYW5kbGVzIGNhbGxpbmcgdGhpcyBpbiByZXNwb25zZSB0byBpbnB1dCBldmVudHMuXHJcbiAgICAgKi9cclxuICAgICRjb21taXRWaWV3VmFsdWU6IGZ1bmN0aW9uICRjb21taXRWaWV3VmFsdWUoKSB7XHJcbiAgICAgIHZhciB2aWV3VmFsdWUgPSB0aGlzLiR2aWV3VmFsdWU7XHJcblxyXG4gICAgICB0aGlzLiQkdGltZW91dC5jYW5jZWwodGhpcy4kJHBlbmRpbmdEZWJvdW5jZSk7XHJcblxyXG4gICAgICAvLyBJZiB0aGUgdmlldyB2YWx1ZSBoYXMgbm90IGNoYW5nZWQgdGhlbiB3ZSBzaG91bGQganVzdCBleGl0LCBleGNlcHQgaW4gdGhlIGNhc2Ugd2hlcmUgdGhlcmUgaXNcclxuICAgICAgLy8gYSBuYXRpdmUgdmFsaWRhdG9yIG9uIHRoZSBlbGVtZW50LiBJbiB0aGlzIGNhc2UgdGhlIHZhbGlkYXRpb24gc3RhdGUgbWF5IGhhdmUgY2hhbmdlZCBldmVuIHRob3VnaFxyXG4gICAgICAvLyB0aGUgdmlld1ZhbHVlIGhhcyBzdGF5ZWQgZW1wdHkuXHJcbiAgICAgIGlmICh0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9PT0gdmlld1ZhbHVlICYmICh2aWV3VmFsdWUgIT09ICcnIHx8ICF0aGlzLiQkaGFzTmF0aXZlVmFsaWRhdG9ycykpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuICAgICAgdGhpcy4kJHVwZGF0ZUVtcHR5Q2xhc3Nlcyh2aWV3VmFsdWUpO1xyXG4gICAgICB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSA9IHZpZXdWYWx1ZTtcclxuXHJcbiAgICAgIC8vIGNoYW5nZSB0byBkaXJ0eVxyXG4gICAgICBpZiAodGhpcy4kcHJpc3RpbmUpIHtcclxuICAgICAgICB0aGlzLiRzZXREaXJ0eSgpO1xyXG4gICAgICB9XHJcbiAgICAgIHRoaXMuJCRwYXJzZUFuZFZhbGlkYXRlKCk7XHJcbiAgICB9LFxyXG5cclxuICAgICQkcGFyc2VBbmRWYWxpZGF0ZTogZnVuY3Rpb24gJCRwYXJzZUFuZFZhbGlkYXRlKCkge1xyXG4gICAgICB2YXIgdmlld1ZhbHVlID0gdGhpcy4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWU7XHJcbiAgICAgIHZhciBtb2RlbFZhbHVlID0gdmlld1ZhbHVlO1xyXG4gICAgICB2YXIgdGhhdCA9IHRoaXM7XHJcblxyXG4gICAgICB0aGlzLiQkcGFyc2VyVmFsaWQgPSBpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSA/IHVuZGVmaW5lZCA6IHRydWU7XHJcblxyXG4gICAgICBpZiAodGhpcy4kJHBhcnNlclZhbGlkKSB7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLiRwYXJzZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICBtb2RlbFZhbHVlID0gdGhpcy4kcGFyc2Vyc1tpXShtb2RlbFZhbHVlKTtcclxuICAgICAgICAgIGlmIChpc1VuZGVmaW5lZChtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgICAgICB0aGlzLiQkcGFyc2VyVmFsaWQgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIGlmIChpc051bWJlck5hTih0aGlzLiRtb2RlbFZhbHVlKSkge1xyXG4gICAgICAgIC8vIHRoaXMuJG1vZGVsVmFsdWUgaGFzIG5vdCBiZWVuIHRvdWNoZWQgeWV0Li4uXHJcbiAgICAgICAgdGhpcy4kbW9kZWxWYWx1ZSA9IHRoaXMuJCRuZ01vZGVsR2V0KHRoaXMuJCRzY29wZSk7XHJcbiAgICAgIH1cclxuICAgICAgdmFyIHByZXZNb2RlbFZhbHVlID0gdGhpcy4kbW9kZWxWYWx1ZTtcclxuICAgICAgdmFyIGFsbG93SW52YWxpZCA9IHRoaXMuJG9wdGlvbnMuZ2V0T3B0aW9uKCdhbGxvd0ludmFsaWQnKTtcclxuICAgICAgdGhpcy4kJHJhd01vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xyXG5cclxuICAgICAgaWYgKGFsbG93SW52YWxpZCkge1xyXG4gICAgICAgIHRoaXMuJG1vZGVsVmFsdWUgPSBtb2RlbFZhbHVlO1xyXG4gICAgICAgIHdyaXRlVG9Nb2RlbElmTmVlZGVkKCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBhc3MgdGhlICQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSBoZXJlLCBiZWNhdXNlIHRoZSBjYWNoZWQgdmlld1ZhbHVlIG1pZ2h0IGJlIG91dCBvZiBkYXRlLlxyXG4gICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgZS5nLiAkc2V0Vmlld1ZhbHVlIGlzIGNhbGxlZCBmcm9tIGluc2lkZSBhIHBhcnNlclxyXG4gICAgICB0aGlzLiQkcnVuVmFsaWRhdG9ycyhtb2RlbFZhbHVlLCB0aGlzLiQkbGFzdENvbW1pdHRlZFZpZXdWYWx1ZSwgZnVuY3Rpb24gKGFsbFZhbGlkKSB7XHJcbiAgICAgICAgaWYgKCFhbGxvd0ludmFsaWQpIHtcclxuICAgICAgICAgIC8vIE5vdGU6IERvbid0IGNoZWNrIHRoaXMuJHZhbGlkIGhlcmUsIGFzIHdlIGNvdWxkIGhhdmVcclxuICAgICAgICAgIC8vIGV4dGVybmFsIHZhbGlkYXRvcnMgKGUuZy4gY2FsY3VsYXRlZCBvbiB0aGUgc2VydmVyKSxcclxuICAgICAgICAgIC8vIHRoYXQganVzdCBjYWxsICRzZXRWYWxpZGl0eSBhbmQgbmVlZCB0aGUgbW9kZWwgdmFsdWVcclxuICAgICAgICAgIC8vIHRvIGNhbGN1bGF0ZSB0aGVpciB2YWxpZGl0eS5cclxuICAgICAgICAgIHRoYXQuJG1vZGVsVmFsdWUgPSBhbGxWYWxpZCA/IG1vZGVsVmFsdWUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgICB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcblxyXG4gICAgICBmdW5jdGlvbiB3cml0ZVRvTW9kZWxJZk5lZWRlZCgpIHtcclxuICAgICAgICBpZiAodGhhdC4kbW9kZWxWYWx1ZSAhPT0gcHJldk1vZGVsVmFsdWUpIHtcclxuICAgICAgICAgIHRoYXQuJCR3cml0ZU1vZGVsVG9TY29wZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAkJHdyaXRlTW9kZWxUb1Njb3BlOiBmdW5jdGlvbiAkJHdyaXRlTW9kZWxUb1Njb3BlKCkge1xyXG4gICAgICB0aGlzLiQkbmdNb2RlbFNldCh0aGlzLiQkc2NvcGUsIHRoaXMuJG1vZGVsVmFsdWUpO1xyXG4gICAgICBmb3JFYWNoKHRoaXMuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMsIGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBsaXN0ZW5lcigpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1pbnZhbGlkLXRoaXNcclxuICAgICAgICAgIHRoaXMuJCRleGNlcHRpb25IYW5kbGVyKGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSwgdGhpcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkc2V0Vmlld1ZhbHVlXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKiBVcGRhdGUgdGhlIHZpZXcgdmFsdWUuXHJcbiAgICAgKlxyXG4gICAgICogVGhpcyBtZXRob2Qgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGEgY29udHJvbCB3YW50cyB0byBjaGFuZ2UgdGhlIHZpZXcgdmFsdWU7IHR5cGljYWxseSxcclxuICAgICAqIHRoaXMgaXMgZG9uZSBmcm9tIHdpdGhpbiBhIERPTSBldmVudCBoYW5kbGVyLiBGb3IgZXhhbXBsZSwgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6aW5wdXQgaW5wdXR9XHJcbiAgICAgKiBkaXJlY3RpdmUgY2FsbHMgaXQgd2hlbiB0aGUgdmFsdWUgb2YgdGhlIGlucHV0IGNoYW5nZXMgYW5kIHtAbGluayBuZy5kaXJlY3RpdmU6c2VsZWN0IHNlbGVjdH1cclxuICAgICAqIGNhbGxzIGl0IHdoZW4gYW4gb3B0aW9uIGlzIHNlbGVjdGVkLlxyXG4gICAgICpcclxuICAgICAqIFdoZW4gYCRzZXRWaWV3VmFsdWVgIGlzIGNhbGxlZCwgdGhlIG5ldyBgdmFsdWVgIHdpbGwgYmUgc3RhZ2VkIGZvciBjb21taXR0aW5nIHRocm91Z2ggdGhlIGAkcGFyc2Vyc2BcclxuICAgICAqIGFuZCBgJHZhbGlkYXRvcnNgIHBpcGVsaW5lcy4gSWYgdGhlcmUgYXJlIG5vIHNwZWNpYWwge0BsaW5rIG5nTW9kZWxPcHRpb25zfSBzcGVjaWZpZWQgdGhlbiB0aGUgc3RhZ2VkXHJcbiAgICAgKiB2YWx1ZSBpcyBzZW50IGRpcmVjdGx5IGZvciBwcm9jZXNzaW5nIHRocm91Z2ggdGhlIGAkcGFyc2Vyc2AgcGlwZWxpbmUuIEFmdGVyIHRoaXMsIHRoZSBgJHZhbGlkYXRvcnNgIGFuZFxyXG4gICAgICogYCRhc3luY1ZhbGlkYXRvcnNgIGFyZSBjYWxsZWQgYW5kIHRoZSB2YWx1ZSBpcyBhcHBsaWVkIHRvIGAkbW9kZWxWYWx1ZWAuXHJcbiAgICAgKiBGaW5hbGx5LCB0aGUgdmFsdWUgaXMgc2V0IHRvIHRoZSAqKmV4cHJlc3Npb24qKiBzcGVjaWZpZWQgaW4gdGhlIGBuZy1tb2RlbGAgYXR0cmlidXRlIGFuZFxyXG4gICAgICogYWxsIHRoZSByZWdpc3RlcmVkIGNoYW5nZSBsaXN0ZW5lcnMsIGluIHRoZSBgJHZpZXdDaGFuZ2VMaXN0ZW5lcnNgIGxpc3QgYXJlIGNhbGxlZC5cclxuICAgICAqXHJcbiAgICAgKiBJbiBjYXNlIHRoZSB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIG5nTW9kZWxPcHRpb25zfSBkaXJlY3RpdmUgaXMgdXNlZCB3aXRoIGB1cGRhdGVPbmBcclxuICAgICAqIGFuZCB0aGUgYGRlZmF1bHRgIHRyaWdnZXIgaXMgbm90IGxpc3RlZCwgYWxsIHRob3NlIGFjdGlvbnMgd2lsbCByZW1haW4gcGVuZGluZyB1bnRpbCBvbmUgb2YgdGhlXHJcbiAgICAgKiBgdXBkYXRlT25gIGV2ZW50cyBpcyB0cmlnZ2VyZWQgb24gdGhlIERPTSBlbGVtZW50LlxyXG4gICAgICogQWxsIHRoZXNlIGFjdGlvbnMgd2lsbCBiZSBkZWJvdW5jZWQgaWYgdGhlIHtAbGluayBuZy5kaXJlY3RpdmU6bmdNb2RlbE9wdGlvbnMgbmdNb2RlbE9wdGlvbnN9XHJcbiAgICAgKiBkaXJlY3RpdmUgaXMgdXNlZCB3aXRoIGEgY3VzdG9tIGRlYm91bmNlIGZvciB0aGlzIHBhcnRpY3VsYXIgZXZlbnQuXHJcbiAgICAgKiBOb3RlIHRoYXQgYSBgJGRpZ2VzdGAgaXMgb25seSB0cmlnZ2VyZWQgb25jZSB0aGUgYHVwZGF0ZU9uYCBldmVudHMgYXJlIGZpcmVkLCBvciBpZiBgZGVib3VuY2VgXHJcbiAgICAgKiBpcyBzcGVjaWZpZWQsIG9uY2UgdGhlIHRpbWVyIHJ1bnMgb3V0LlxyXG4gICAgICpcclxuICAgICAqIFdoZW4gdXNlZCB3aXRoIHN0YW5kYXJkIGlucHV0cywgdGhlIHZpZXcgdmFsdWUgd2lsbCBhbHdheXMgYmUgYSBzdHJpbmcgKHdoaWNoIGlzIGluIHNvbWUgY2FzZXNcclxuICAgICAqIHBhcnNlZCBpbnRvIGFub3RoZXIgdHlwZSwgc3VjaCBhcyBhIGBEYXRlYCBvYmplY3QgZm9yIGBpbnB1dFtkYXRlXWAuKVxyXG4gICAgICogSG93ZXZlciwgY3VzdG9tIGNvbnRyb2xzIG1pZ2h0IGFsc28gcGFzcyBvYmplY3RzIHRvIHRoaXMgbWV0aG9kLiBJbiB0aGlzIGNhc2UsIHdlIHNob3VsZCBtYWtlXHJcbiAgICAgKiBhIGNvcHkgb2YgdGhlIG9iamVjdCBiZWZvcmUgcGFzc2luZyBpdCB0byBgJHNldFZpZXdWYWx1ZWAuIFRoaXMgaXMgYmVjYXVzZSBgbmdNb2RlbGAgZG9lcyBub3RcclxuICAgICAqIHBlcmZvcm0gYSBkZWVwIHdhdGNoIG9mIG9iamVjdHMsIGl0IG9ubHkgbG9va3MgZm9yIGEgY2hhbmdlIG9mIGlkZW50aXR5LiBJZiB5b3Ugb25seSBjaGFuZ2VcclxuICAgICAqIHRoZSBwcm9wZXJ0eSBvZiB0aGUgb2JqZWN0IHRoZW4gbmdNb2RlbCB3aWxsIG5vdCByZWFsaXplIHRoYXQgdGhlIG9iamVjdCBoYXMgY2hhbmdlZCBhbmRcclxuICAgICAqIHdpbGwgbm90IGludm9rZSB0aGUgYCRwYXJzZXJzYCBhbmQgYCR2YWxpZGF0b3JzYCBwaXBlbGluZXMuIEZvciB0aGlzIHJlYXNvbiwgeW91IHNob3VsZFxyXG4gICAgICogbm90IGNoYW5nZSBwcm9wZXJ0aWVzIG9mIHRoZSBjb3B5IG9uY2UgaXQgaGFzIGJlZW4gcGFzc2VkIHRvIGAkc2V0Vmlld1ZhbHVlYC5cclxuICAgICAqIE90aGVyd2lzZSB5b3UgbWF5IGNhdXNlIHRoZSBtb2RlbCB2YWx1ZSBvbiB0aGUgc2NvcGUgdG8gY2hhbmdlIGluY29ycmVjdGx5LlxyXG4gICAgICpcclxuICAgICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAgICAgKiBJbiBhbnkgY2FzZSwgdGhlIHZhbHVlIHBhc3NlZCB0byB0aGUgbWV0aG9kIHNob3VsZCBhbHdheXMgcmVmbGVjdCB0aGUgY3VycmVudCB2YWx1ZVxyXG4gICAgICogb2YgdGhlIGNvbnRyb2wuIEZvciBleGFtcGxlLCBpZiB5b3UgYXJlIGNhbGxpbmcgYCRzZXRWaWV3VmFsdWVgIGZvciBhbiBpbnB1dCBlbGVtZW50LFxyXG4gICAgICogeW91IHNob3VsZCBwYXNzIHRoZSBpbnB1dCBET00gdmFsdWUuIE90aGVyd2lzZSwgdGhlIGNvbnRyb2wgYW5kIHRoZSBzY29wZSBtb2RlbCBiZWNvbWVcclxuICAgICAqIG91dCBvZiBzeW5jLiBJdCdzIGFsc28gaW1wb3J0YW50IHRvIG5vdGUgdGhhdCBgJHNldFZpZXdWYWx1ZWAgZG9lcyBub3QgY2FsbCBgJHJlbmRlcmAgb3IgY2hhbmdlXHJcbiAgICAgKiB0aGUgY29udHJvbCdzIERPTSB2YWx1ZSBpbiBhbnkgd2F5LiBJZiB3ZSB3YW50IHRvIGNoYW5nZSB0aGUgY29udHJvbCdzIERPTSB2YWx1ZVxyXG4gICAgICogcHJvZ3JhbW1hdGljYWxseSwgd2Ugc2hvdWxkIHVwZGF0ZSB0aGUgYG5nTW9kZWxgIHNjb3BlIGV4cHJlc3Npb24uIEl0cyBuZXcgdmFsdWUgd2lsbCBiZVxyXG4gICAgICogcGlja2VkIHVwIGJ5IHRoZSBtb2RlbCBjb250cm9sbGVyLCB3aGljaCB3aWxsIHJ1biBpdCB0aHJvdWdoIHRoZSBgJGZvcm1hdHRlcnNgLCBgJHJlbmRlcmAgaXRcclxuICAgICAqIHRvIHVwZGF0ZSB0aGUgRE9NLCBhbmQgZmluYWxseSBjYWxsIGAkdmFsaWRhdGVgIG9uIGl0LlxyXG4gICAgICogPC9kaXY+XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSB2YWx1ZSBmcm9tIHRoZSB2aWV3LlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHRyaWdnZXIgRXZlbnQgdGhhdCB0cmlnZ2VyZWQgdGhlIHVwZGF0ZS5cclxuICAgICAqL1xyXG4gICAgJHNldFZpZXdWYWx1ZTogZnVuY3Rpb24gJHNldFZpZXdWYWx1ZSh2YWx1ZSwgdHJpZ2dlcikge1xyXG4gICAgICB0aGlzLiR2aWV3VmFsdWUgPSB2YWx1ZTtcclxuICAgICAgaWYgKHRoaXMuJG9wdGlvbnMuZ2V0T3B0aW9uKCd1cGRhdGVPbkRlZmF1bHQnKSkge1xyXG4gICAgICAgIHRoaXMuJCRkZWJvdW5jZVZpZXdWYWx1ZUNvbW1pdCh0cmlnZ2VyKTtcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICAkJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0OiBmdW5jdGlvbiAkJGRlYm91bmNlVmlld1ZhbHVlQ29tbWl0KHRyaWdnZXIpIHtcclxuICAgICAgdmFyIGRlYm91bmNlRGVsYXkgPSB0aGlzLiRvcHRpb25zLmdldE9wdGlvbignZGVib3VuY2UnKTtcclxuXHJcbiAgICAgIGlmIChpc051bWJlcihkZWJvdW5jZURlbGF5W3RyaWdnZXJdKSkge1xyXG4gICAgICAgIGRlYm91bmNlRGVsYXkgPSBkZWJvdW5jZURlbGF5W3RyaWdnZXJdO1xyXG4gICAgICB9IGVsc2UgaWYgKGlzTnVtYmVyKGRlYm91bmNlRGVsYXlbJ2RlZmF1bHQnXSkpIHtcclxuICAgICAgICBkZWJvdW5jZURlbGF5ID0gZGVib3VuY2VEZWxheVsnZGVmYXVsdCddO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0aGlzLiQkdGltZW91dC5jYW5jZWwodGhpcy4kJHBlbmRpbmdEZWJvdW5jZSk7XHJcbiAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgaWYgKGRlYm91bmNlRGVsYXkgPiAwKSB7XHJcbiAgICAgICAgLy8gdGhpcyBmYWlscyBpZiBkZWJvdW5jZURlbGF5IGlzIGFuIG9iamVjdFxyXG4gICAgICAgIHRoaXMuJCRwZW5kaW5nRGVib3VuY2UgPSB0aGlzLiQkdGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICB0aGF0LiRjb21taXRWaWV3VmFsdWUoKTtcclxuICAgICAgICB9LCBkZWJvdW5jZURlbGF5KTtcclxuICAgICAgfSBlbHNlIGlmICh0aGlzLiQkc2NvcGUuJHJvb3QuJCRwaGFzZSkge1xyXG4gICAgICAgIHRoaXMuJGNvbW1pdFZpZXdWYWx1ZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHRoaXMuJCRzY29wZS4kYXBwbHkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgdGhhdC4kY29tbWl0Vmlld1ZhbHVlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBAbmdkb2MgbWV0aG9kXHJcbiAgICAgKlxyXG4gICAgICogQG5hbWUgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkb3ZlcnJpZGVNb2RlbE9wdGlvbnNcclxuICAgICAqXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqXHJcbiAgICAgKiBPdmVycmlkZSB0aGUgY3VycmVudCBtb2RlbCBvcHRpb25zIHNldHRpbmdzIHByb2dyYW1tYXRpY2FsbHkuXHJcbiAgICAgKlxyXG4gICAgICogVGhlIHByZXZpb3VzIGBNb2RlbE9wdGlvbnNgIHZhbHVlIHdpbGwgbm90IGJlIG1vZGlmaWVkLiBJbnN0ZWFkLCBhXHJcbiAgICAgKiBuZXcgYE1vZGVsT3B0aW9uc2Agb2JqZWN0IHdpbGwgaW5oZXJpdCBmcm9tIHRoZSBwcmV2aW91cyBvbmUgb3ZlcnJpZGluZ1xyXG4gICAgICogb3IgaW5oZXJpdGluZyBzZXR0aW5ncyB0aGF0IGFyZSBkZWZpbmVkIGluIHRoZSBnaXZlbiBwYXJhbWV0ZXIuXHJcbiAgICAgKlxyXG4gICAgICogU2VlIHtAbGluayBuZ01vZGVsT3B0aW9uc30gZm9yIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgb3B0aW9ucyBjYW4gYmUgc3BlY2lmaWVkXHJcbiAgICAgKiBhbmQgaG93IG1vZGVsIG9wdGlvbiBpbmhlcml0YW5jZSB3b3Jrcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBhIGhhc2ggb2Ygc2V0dGluZ3MgdG8gb3ZlcnJpZGUgdGhlIHByZXZpb3VzIG9wdGlvbnNcclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgICRvdmVycmlkZU1vZGVsT3B0aW9uczogZnVuY3Rpb24gJG92ZXJyaWRlTW9kZWxPcHRpb25zKG9wdGlvbnMpIHtcclxuICAgICAgdGhpcy4kb3B0aW9ucyA9IHRoaXMuJG9wdGlvbnMuY3JlYXRlQ2hpbGQob3B0aW9ucyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgZnVuY3Rpb24gc2V0dXBNb2RlbFdhdGNoZXIoY3RybCkge1xyXG4gICAgLy8gbW9kZWwgLT4gdmFsdWVcclxuICAgIC8vIE5vdGU6IHdlIGNhbm5vdCB1c2UgYSBub3JtYWwgc2NvcGUuJHdhdGNoIGFzIHdlIHdhbnQgdG8gZGV0ZWN0IHRoZSBmb2xsb3dpbmc6XHJcbiAgICAvLyAxLiBzY29wZSB2YWx1ZSBpcyAnYSdcclxuICAgIC8vIDIuIHVzZXIgZW50ZXJzICdiJ1xyXG4gICAgLy8gMy4gbmctY2hhbmdlIGtpY2tzIGluIGFuZCByZXZlcnRzIHNjb3BlIHZhbHVlIHRvICdhJ1xyXG4gICAgLy8gICAgLT4gc2NvcGUgdmFsdWUgZGlkIG5vdCBjaGFuZ2Ugc2luY2UgdGhlIGxhc3QgZGlnZXN0IGFzXHJcbiAgICAvLyAgICAgICBuZy1jaGFuZ2UgZXhlY3V0ZXMgaW4gYXBwbHkgcGhhc2VcclxuICAgIC8vIDQuIHZpZXcgc2hvdWxkIGJlIGNoYW5nZWQgYmFjayB0byAnYSdcclxuICAgIGN0cmwuJCRzY29wZS4kd2F0Y2goZnVuY3Rpb24gbmdNb2RlbFdhdGNoKHNjb3BlKSB7XHJcbiAgICAgIHZhciBtb2RlbFZhbHVlID0gY3RybC4kJG5nTW9kZWxHZXQoc2NvcGUpO1xyXG5cclxuICAgICAgLy8gaWYgc2NvcGUgbW9kZWwgdmFsdWUgYW5kIG5nTW9kZWwgdmFsdWUgYXJlIG91dCBvZiBzeW5jXHJcbiAgICAgIC8vIFRPRE8ocGVyZik6IHdoeSBub3QgbW92ZSB0aGlzIHRvIHRoZSBhY3Rpb24gZm4/XHJcbiAgICAgIGlmIChtb2RlbFZhbHVlICE9PSBjdHJsLiRtb2RlbFZhbHVlICYmIChcclxuICAgICAgLy8gY2hlY2tzIGZvciBOYU4gaXMgbmVlZGVkIHRvIGFsbG93IHNldHRpbmcgdGhlIG1vZGVsIHRvIE5hTiB3aGVuIHRoZXJlJ3MgYW4gYXN5bmNWYWxpZGF0b3JcclxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXNlbGYtY29tcGFyZVxyXG4gICAgICBjdHJsLiRtb2RlbFZhbHVlID09PSBjdHJsLiRtb2RlbFZhbHVlIHx8IG1vZGVsVmFsdWUgPT09IG1vZGVsVmFsdWUpKSB7XHJcbiAgICAgICAgY3RybC4kbW9kZWxWYWx1ZSA9IGN0cmwuJCRyYXdNb2RlbFZhbHVlID0gbW9kZWxWYWx1ZTtcclxuICAgICAgICBjdHJsLiQkcGFyc2VyVmFsaWQgPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgICAgIHZhciBmb3JtYXR0ZXJzID0gY3RybC4kZm9ybWF0dGVycyxcclxuICAgICAgICAgICAgaWR4ID0gZm9ybWF0dGVycy5sZW5ndGg7XHJcblxyXG4gICAgICAgIHZhciB2aWV3VmFsdWUgPSBtb2RlbFZhbHVlO1xyXG4gICAgICAgIHdoaWxlIChpZHgtLSkge1xyXG4gICAgICAgICAgdmlld1ZhbHVlID0gZm9ybWF0dGVyc1tpZHhdKHZpZXdWYWx1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjdHJsLiR2aWV3VmFsdWUgIT09IHZpZXdWYWx1ZSkge1xyXG4gICAgICAgICAgY3RybC4kJHVwZGF0ZUVtcHR5Q2xhc3Nlcyh2aWV3VmFsdWUpO1xyXG4gICAgICAgICAgY3RybC4kdmlld1ZhbHVlID0gY3RybC4kJGxhc3RDb21taXR0ZWRWaWV3VmFsdWUgPSB2aWV3VmFsdWU7XHJcbiAgICAgICAgICBjdHJsLiRyZW5kZXIoKTtcclxuXHJcbiAgICAgICAgICAvLyBJdCBpcyBwb3NzaWJsZSB0aGF0IG1vZGVsIGFuZCB2aWV3IHZhbHVlIGhhdmUgYmVlbiB1cGRhdGVkIGR1cmluZyByZW5kZXJcclxuICAgICAgICAgIGN0cmwuJCRydW5WYWxpZGF0b3JzKGN0cmwuJG1vZGVsVmFsdWUsIGN0cmwuJHZpZXdWYWx1ZSwgbm9vcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbW9kZWxWYWx1ZTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAqIEBuYW1lIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHNldFZhbGlkaXR5XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBDaGFuZ2UgdGhlIHZhbGlkaXR5IHN0YXRlLCBhbmQgbm90aWZ5IHRoZSBmb3JtLlxyXG4gICAqXHJcbiAgICogVGhpcyBtZXRob2QgY2FuIGJlIGNhbGxlZCB3aXRoaW4gJHBhcnNlcnMvJGZvcm1hdHRlcnMgb3IgYSBjdXN0b20gdmFsaWRhdGlvbiBpbXBsZW1lbnRhdGlvbi5cclxuICAgKiBIb3dldmVyLCBpbiBtb3N0IGNhc2VzIGl0IHNob3VsZCBiZSBzdWZmaWNpZW50IHRvIHVzZSB0aGUgYG5nTW9kZWwuJHZhbGlkYXRvcnNgIGFuZFxyXG4gICAqIGBuZ01vZGVsLiRhc3luY1ZhbGlkYXRvcnNgIGNvbGxlY3Rpb25zIHdoaWNoIHdpbGwgY2FsbCBgJHNldFZhbGlkaXR5YCBhdXRvbWF0aWNhbGx5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd9IHZhbGlkYXRpb25FcnJvcktleSBOYW1lIG9mIHRoZSB2YWxpZGF0b3IuIFRoZSBgdmFsaWRhdGlvbkVycm9yS2V5YCB3aWxsIGJlIGFzc2lnbmVkXHJcbiAgICogICAgICAgIHRvIGVpdGhlciBgJGVycm9yW3ZhbGlkYXRpb25FcnJvcktleV1gIG9yIGAkcGVuZGluZ1t2YWxpZGF0aW9uRXJyb3JLZXldYFxyXG4gICAqICAgICAgICAoZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYCksIHNvIHRoYXQgaXQgaXMgYXZhaWxhYmxlIGZvciBkYXRhLWJpbmRpbmcuXHJcbiAgICogICAgICAgIFRoZSBgdmFsaWRhdGlvbkVycm9yS2V5YCBzaG91bGQgYmUgaW4gY2FtZWxDYXNlIGFuZCB3aWxsIGdldCBjb252ZXJ0ZWQgaW50byBkYXNoLWNhc2VcclxuICAgKiAgICAgICAgZm9yIGNsYXNzIG5hbWUuIEV4YW1wbGU6IGBteUVycm9yYCB3aWxsIHJlc3VsdCBpbiBgbmctdmFsaWQtbXktZXJyb3JgIGFuZCBgbmctaW52YWxpZC1teS1lcnJvcmBcclxuICAgKiAgICAgICAgY2xhc3NlcyBhbmQgY2FuIGJlIGJvdW5kIHRvIGFzIGB7eyBzb21lRm9ybS5zb21lQ29udHJvbC4kZXJyb3IubXlFcnJvciB9fWAuXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBpc1ZhbGlkIFdoZXRoZXIgdGhlIGN1cnJlbnQgc3RhdGUgaXMgdmFsaWQgKHRydWUpLCBpbnZhbGlkIChmYWxzZSksIHBlbmRpbmcgKHVuZGVmaW5lZCksXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIG9yIHNraXBwZWQgKG51bGwpLiBQZW5kaW5nIGlzIHVzZWQgZm9yIHVuZnVsZmlsbGVkIGAkYXN5bmNWYWxpZGF0b3JzYC5cclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgU2tpcHBlZCBpcyB1c2VkIGJ5IEFuZ3VsYXIgd2hlbiB2YWxpZGF0b3JzIGRvIG5vdCBydW4gYmVjYXVzZSBvZiBwYXJzZSBlcnJvcnMgYW5kXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW4gYCRhc3luY1ZhbGlkYXRvcnNgIGRvIG5vdCBydW4gYmVjYXVzZSBhbnkgb2YgdGhlIGAkdmFsaWRhdG9yc2AgZmFpbGVkLlxyXG4gICAqL1xyXG4gIGFkZFNldFZhbGlkaXR5TWV0aG9kKHtcclxuICAgIGNsYXp6OiBOZ01vZGVsQ29udHJvbGxlcixcclxuICAgIHNldDogZnVuY3Rpb24gc2V0KG9iamVjdCwgcHJvcGVydHkpIHtcclxuICAgICAgb2JqZWN0W3Byb3BlcnR5XSA9IHRydWU7XHJcbiAgICB9LFxyXG4gICAgdW5zZXQ6IGZ1bmN0aW9uIHVuc2V0KG9iamVjdCwgcHJvcGVydHkpIHtcclxuICAgICAgZGVsZXRlIG9iamVjdFtwcm9wZXJ0eV07XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ01vZGVsXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBpbnB1dFxyXG4gICAqIEBwcmlvcml0eSAxXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYG5nTW9kZWxgIGRpcmVjdGl2ZSBiaW5kcyBhbiBgaW5wdXRgLGBzZWxlY3RgLCBgdGV4dGFyZWFgIChvciBjdXN0b20gZm9ybSBjb250cm9sKSB0byBhXHJcbiAgICogcHJvcGVydHkgb24gdGhlIHNjb3BlIHVzaW5nIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIE5nTW9kZWxDb250cm9sbGVyfSxcclxuICAgKiB3aGljaCBpcyBjcmVhdGVkIGFuZCBleHBvc2VkIGJ5IHRoaXMgZGlyZWN0aXZlLlxyXG4gICAqXHJcbiAgICogYG5nTW9kZWxgIGlzIHJlc3BvbnNpYmxlIGZvcjpcclxuICAgKlxyXG4gICAqIC0gQmluZGluZyB0aGUgdmlldyBpbnRvIHRoZSBtb2RlbCwgd2hpY2ggb3RoZXIgZGlyZWN0aXZlcyBzdWNoIGFzIGBpbnB1dGAsIGB0ZXh0YXJlYWAgb3IgYHNlbGVjdGBcclxuICAgKiAgIHJlcXVpcmUuXHJcbiAgICogLSBQcm92aWRpbmcgdmFsaWRhdGlvbiBiZWhhdmlvciAoaS5lLiByZXF1aXJlZCwgbnVtYmVyLCBlbWFpbCwgdXJsKS5cclxuICAgKiAtIEtlZXBpbmcgdGhlIHN0YXRlIG9mIHRoZSBjb250cm9sICh2YWxpZC9pbnZhbGlkLCBkaXJ0eS9wcmlzdGluZSwgdG91Y2hlZC91bnRvdWNoZWQsIHZhbGlkYXRpb24gZXJyb3JzKS5cclxuICAgKiAtIFNldHRpbmcgcmVsYXRlZCBjc3MgY2xhc3NlcyBvbiB0aGUgZWxlbWVudCAoYG5nLXZhbGlkYCwgYG5nLWludmFsaWRgLCBgbmctZGlydHlgLCBgbmctcHJpc3RpbmVgLCBgbmctdG91Y2hlZGAsXHJcbiAgICogICBgbmctdW50b3VjaGVkYCwgYG5nLWVtcHR5YCwgYG5nLW5vdC1lbXB0eWApIGluY2x1ZGluZyBhbmltYXRpb25zLlxyXG4gICAqIC0gUmVnaXN0ZXJpbmcgdGhlIGNvbnRyb2wgd2l0aCBpdHMgcGFyZW50IHtAbGluayBuZy5kaXJlY3RpdmU6Zm9ybSBmb3JtfS5cclxuICAgKlxyXG4gICAqIE5vdGU6IGBuZ01vZGVsYCB3aWxsIHRyeSB0byBiaW5kIHRvIHRoZSBwcm9wZXJ0eSBnaXZlbiBieSBldmFsdWF0aW5nIHRoZSBleHByZXNzaW9uIG9uIHRoZVxyXG4gICAqIGN1cnJlbnQgc2NvcGUuIElmIHRoZSBwcm9wZXJ0eSBkb2Vzbid0IGFscmVhZHkgZXhpc3Qgb24gdGhpcyBzY29wZSwgaXQgd2lsbCBiZSBjcmVhdGVkXHJcbiAgICogaW1wbGljaXRseSBhbmQgYWRkZWQgdG8gdGhlIHNjb3BlLlxyXG4gICAqXHJcbiAgICogRm9yIGJlc3QgcHJhY3RpY2VzIG9uIHVzaW5nIGBuZ01vZGVsYCwgc2VlOlxyXG4gICAqXHJcbiAgICogIC0gW1VuZGVyc3RhbmRpbmcgU2NvcGVzXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL3dpa2kvVW5kZXJzdGFuZGluZy1TY29wZXMpXHJcbiAgICpcclxuICAgKiBGb3IgYmFzaWMgZXhhbXBsZXMsIGhvdyB0byB1c2UgYG5nTW9kZWxgLCBzZWU6XHJcbiAgICpcclxuICAgKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOmlucHV0IGlucHV0fVxyXG4gICAqICAgIC0ge0BsaW5rIGlucHV0W3RleHRdIHRleHR9XHJcbiAgICogICAgLSB7QGxpbmsgaW5wdXRbY2hlY2tib3hdIGNoZWNrYm94fVxyXG4gICAqICAgIC0ge0BsaW5rIGlucHV0W3JhZGlvXSByYWRpb31cclxuICAgKiAgICAtIHtAbGluayBpbnB1dFtudW1iZXJdIG51bWJlcn1cclxuICAgKiAgICAtIHtAbGluayBpbnB1dFtlbWFpbF0gZW1haWx9XHJcbiAgICogICAgLSB7QGxpbmsgaW5wdXRbdXJsXSB1cmx9XHJcbiAgICogICAgLSB7QGxpbmsgaW5wdXRbZGF0ZV0gZGF0ZX1cclxuICAgKiAgICAtIHtAbGluayBpbnB1dFtkYXRldGltZS1sb2NhbF0gZGF0ZXRpbWUtbG9jYWx9XHJcbiAgICogICAgLSB7QGxpbmsgaW5wdXRbdGltZV0gdGltZX1cclxuICAgKiAgICAtIHtAbGluayBpbnB1dFttb250aF0gbW9udGh9XHJcbiAgICogICAgLSB7QGxpbmsgaW5wdXRbd2Vla10gd2Vla31cclxuICAgKiAgLSB7QGxpbmsgbmcuZGlyZWN0aXZlOnNlbGVjdCBzZWxlY3R9XHJcbiAgICogIC0ge0BsaW5rIG5nLmRpcmVjdGl2ZTp0ZXh0YXJlYSB0ZXh0YXJlYX1cclxuICAgKlxyXG4gICAqICMgQ29tcGxleCBNb2RlbHMgKG9iamVjdHMgb3IgY29sbGVjdGlvbnMpXHJcbiAgICpcclxuICAgKiBCeSBkZWZhdWx0LCBgbmdNb2RlbGAgd2F0Y2hlcyB0aGUgbW9kZWwgYnkgcmVmZXJlbmNlLCBub3QgdmFsdWUuIFRoaXMgaXMgaW1wb3J0YW50IHRvIGtub3cgd2hlblxyXG4gICAqIGJpbmRpbmcgaW5wdXRzIHRvIG1vZGVscyB0aGF0IGFyZSBvYmplY3RzIChlLmcuIGBEYXRlYCkgb3IgY29sbGVjdGlvbnMgKGUuZy4gYXJyYXlzKS4gSWYgb25seSBwcm9wZXJ0aWVzIG9mIHRoZVxyXG4gICAqIG9iamVjdCBvciBjb2xsZWN0aW9uIGNoYW5nZSwgYG5nTW9kZWxgIHdpbGwgbm90IGJlIG5vdGlmaWVkIGFuZCBzbyB0aGUgaW5wdXQgd2lsbCBub3QgYmUgIHJlLXJlbmRlcmVkLlxyXG4gICAqXHJcbiAgICogVGhlIG1vZGVsIG11c3QgYmUgYXNzaWduZWQgYW4gZW50aXJlbHkgbmV3IG9iamVjdCBvciBjb2xsZWN0aW9uIGJlZm9yZSBhIHJlLXJlbmRlcmluZyB3aWxsIG9jY3VyLlxyXG4gICAqXHJcbiAgICogU29tZSBkaXJlY3RpdmVzIGhhdmUgb3B0aW9ucyB0aGF0IHdpbGwgY2F1c2UgdGhlbSB0byB1c2UgYSBjdXN0b20gYCR3YXRjaENvbGxlY3Rpb25gIG9uIHRoZSBtb2RlbCBleHByZXNzaW9uXHJcbiAgICogLSBmb3IgZXhhbXBsZSwgYG5nT3B0aW9uc2Agd2lsbCBkbyBzbyB3aGVuIGEgYHRyYWNrIGJ5YCBjbGF1c2UgaXMgaW5jbHVkZWQgaW4gdGhlIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbiBvclxyXG4gICAqIGlmIHRoZSBzZWxlY3QgaXMgZ2l2ZW4gdGhlIGBtdWx0aXBsZWAgYXR0cmlidXRlLlxyXG4gICAqXHJcbiAgICogVGhlIGAkd2F0Y2hDb2xsZWN0aW9uKClgIG1ldGhvZCBvbmx5IGRvZXMgYSBzaGFsbG93IGNvbXBhcmlzb24sIG1lYW5pbmcgdGhhdCBjaGFuZ2luZyBwcm9wZXJ0aWVzIGRlZXBlciB0aGFuIHRoZVxyXG4gICAqIGZpcnN0IGxldmVsIG9mIHRoZSBvYmplY3QgKG9yIG9ubHkgY2hhbmdpbmcgdGhlIHByb3BlcnRpZXMgb2YgYW4gaXRlbSBpbiB0aGUgY29sbGVjdGlvbiBpZiBpdCdzIGFuIGFycmF5KSB3aWxsIHN0aWxsXHJcbiAgICogbm90IHRyaWdnZXIgYSByZS1yZW5kZXJpbmcgb2YgdGhlIG1vZGVsLlxyXG4gICAqXHJcbiAgICogIyBDU1MgY2xhc3Nlc1xyXG4gICAqIFRoZSBmb2xsb3dpbmcgQ1NTIGNsYXNzZXMgYXJlIGFkZGVkIGFuZCByZW1vdmVkIG9uIHRoZSBhc3NvY2lhdGVkIGlucHV0L3NlbGVjdC90ZXh0YXJlYSBlbGVtZW50XHJcbiAgICogZGVwZW5kaW5nIG9uIHRoZSB2YWxpZGl0eSBvZiB0aGUgbW9kZWwuXHJcbiAgICpcclxuICAgKiAgLSBgbmctdmFsaWRgOiB0aGUgbW9kZWwgaXMgdmFsaWRcclxuICAgKiAgLSBgbmctaW52YWxpZGA6IHRoZSBtb2RlbCBpcyBpbnZhbGlkXHJcbiAgICogIC0gYG5nLXZhbGlkLVtrZXldYDogZm9yIGVhY2ggdmFsaWQga2V5IGFkZGVkIGJ5IGAkc2V0VmFsaWRpdHlgXHJcbiAgICogIC0gYG5nLWludmFsaWQtW2tleV1gOiBmb3IgZWFjaCBpbnZhbGlkIGtleSBhZGRlZCBieSBgJHNldFZhbGlkaXR5YFxyXG4gICAqICAtIGBuZy1wcmlzdGluZWA6IHRoZSBjb250cm9sIGhhc24ndCBiZWVuIGludGVyYWN0ZWQgd2l0aCB5ZXRcclxuICAgKiAgLSBgbmctZGlydHlgOiB0aGUgY29udHJvbCBoYXMgYmVlbiBpbnRlcmFjdGVkIHdpdGhcclxuICAgKiAgLSBgbmctdG91Y2hlZGA6IHRoZSBjb250cm9sIGhhcyBiZWVuIGJsdXJyZWRcclxuICAgKiAgLSBgbmctdW50b3VjaGVkYDogdGhlIGNvbnRyb2wgaGFzbid0IGJlZW4gYmx1cnJlZFxyXG4gICAqICAtIGBuZy1wZW5kaW5nYDogYW55IGAkYXN5bmNWYWxpZGF0b3JzYCBhcmUgdW5mdWxmaWxsZWRcclxuICAgKiAgLSBgbmctZW1wdHlgOiB0aGUgdmlldyBkb2VzIG5vdCBjb250YWluIGEgdmFsdWUgb3IgdGhlIHZhbHVlIGlzIGRlZW1lZCBcImVtcHR5XCIsIGFzIGRlZmluZWRcclxuICAgKiAgICAgYnkgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5fSBtZXRob2RcclxuICAgKiAgLSBgbmctbm90LWVtcHR5YDogdGhlIHZpZXcgY29udGFpbnMgYSBub24tZW1wdHkgdmFsdWVcclxuICAgKlxyXG4gICAqIEtlZXAgaW4gbWluZCB0aGF0IG5nQW5pbWF0ZSBjYW4gZGV0ZWN0IGVhY2ggb2YgdGhlc2UgY2xhc3NlcyB3aGVuIGFkZGVkIGFuZCByZW1vdmVkLlxyXG4gICAqXHJcbiAgICogIyMgQW5pbWF0aW9uIEhvb2tzXHJcbiAgICpcclxuICAgKiBBbmltYXRpb25zIHdpdGhpbiBtb2RlbHMgYXJlIHRyaWdnZXJlZCB3aGVuIGFueSBvZiB0aGUgYXNzb2NpYXRlZCBDU1MgY2xhc3NlcyBhcmUgYWRkZWQgYW5kIHJlbW92ZWRcclxuICAgKiBvbiB0aGUgaW5wdXQgZWxlbWVudCB3aGljaCBpcyBhdHRhY2hlZCB0byB0aGUgbW9kZWwuIFRoZXNlIGNsYXNzZXMgaW5jbHVkZTogYC5uZy1wcmlzdGluZWAsIGAubmctZGlydHlgLFxyXG4gICAqIGAubmctaW52YWxpZGAgYW5kIGAubmctdmFsaWRgIGFzIHdlbGwgYXMgYW55IG90aGVyIHZhbGlkYXRpb25zIHRoYXQgYXJlIHBlcmZvcm1lZCBvbiB0aGUgbW9kZWwgaXRzZWxmLlxyXG4gICAqIFRoZSBhbmltYXRpb25zIHRoYXQgYXJlIHRyaWdnZXJlZCB3aXRoaW4gbmdNb2RlbCBhcmUgc2ltaWxhciB0byBob3cgdGhleSB3b3JrIGluIG5nQ2xhc3MgYW5kXHJcbiAgICogYW5pbWF0aW9ucyBjYW4gYmUgaG9va2VkIGludG8gdXNpbmcgQ1NTIHRyYW5zaXRpb25zLCBrZXlmcmFtZXMgYXMgd2VsbCBhcyBKUyBhbmltYXRpb25zLlxyXG4gICAqXHJcbiAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGEgc2ltcGxlIHdheSB0byB1dGlsaXplIENTUyB0cmFuc2l0aW9ucyB0byBzdHlsZSBhbiBpbnB1dCBlbGVtZW50XHJcbiAgICogdGhhdCBoYXMgYmVlbiByZW5kZXJlZCBhcyBpbnZhbGlkIGFmdGVyIGl0IGhhcyBiZWVuIHZhbGlkYXRlZDpcclxuICAgKlxyXG4gICAqIDxwcmU+XHJcbiAgICogLy9iZSBzdXJlIHRvIGluY2x1ZGUgbmdBbmltYXRlIGFzIGEgbW9kdWxlIHRvIGhvb2sgaW50byBtb3JlXHJcbiAgICogLy9hZHZhbmNlZCBhbmltYXRpb25zXHJcbiAgICogLm15LWlucHV0IHtcclxuICAgKiAgIHRyYW5zaXRpb246MC41cyBsaW5lYXIgYWxsO1xyXG4gICAqICAgYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICogfVxyXG4gICAqIC5teS1pbnB1dC5uZy1pbnZhbGlkIHtcclxuICAgKiAgIGJhY2tncm91bmQ6IHJlZDtcclxuICAgKiAgIGNvbG9yOndoaXRlO1xyXG4gICAqIH1cclxuICAgKiA8L3ByZT5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogPGV4YW1wbGUgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgZml4QmFzZT1cInRydWVcIiBtb2R1bGU9XCJpbnB1dEV4YW1wbGVcIiBuYW1lPVwibmctbW9kZWxcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgIDxzY3JpcHQ+XHJcbiAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgnaW5wdXRFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLnZhbCA9ICcxJztcclxuICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICA8L3NjcmlwdD5cclxuICAgICAgICAgPHN0eWxlPlxyXG4gICAgICAgICAgIC5teS1pbnB1dCB7XHJcbiAgICAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBsaW5lYXIgMC41cztcclxuICAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgICAubXktaW5wdXQubmctaW52YWxpZCB7XHJcbiAgICAgICAgICAgICBjb2xvcjp3aGl0ZTtcclxuICAgICAgICAgICAgIGJhY2tncm91bmQ6IHJlZDtcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIDwvc3R5bGU+XHJcbiAgICAgICAgIDxwIGlkPVwiaW5wdXREZXNjcmlwdGlvblwiPlxyXG4gICAgICAgICAgVXBkYXRlIGlucHV0IHRvIHNlZSB0cmFuc2l0aW9ucyB3aGVuIHZhbGlkL2ludmFsaWQuXHJcbiAgICAgICAgICBJbnRlZ2VyIGlzIGEgdmFsaWQgdmFsdWUuXHJcbiAgICAgICAgIDwvcD5cclxuICAgICAgICAgPGZvcm0gbmFtZT1cInRlc3RGb3JtXCIgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICAgICAgICAgPGlucHV0IG5nLW1vZGVsPVwidmFsXCIgbmctcGF0dGVybj1cIi9eXFxkKyQvXCIgbmFtZT1cImFuaW1cIiBjbGFzcz1cIm15LWlucHV0XCJcclxuICAgICAgICAgICAgICAgICAgYXJpYS1kZXNjcmliZWRieT1cImlucHV0RGVzY3JpcHRpb25cIiAvPlxyXG4gICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICogPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICogIyMgQmluZGluZyB0byBhIGdldHRlci9zZXR0ZXJcclxuICAgKlxyXG4gICAqIFNvbWV0aW1lcyBpdCdzIGhlbHBmdWwgdG8gYmluZCBgbmdNb2RlbGAgdG8gYSBnZXR0ZXIvc2V0dGVyIGZ1bmN0aW9uLiAgQSBnZXR0ZXIvc2V0dGVyIGlzIGFcclxuICAgKiBmdW5jdGlvbiB0aGF0IHJldHVybnMgYSByZXByZXNlbnRhdGlvbiBvZiB0aGUgbW9kZWwgd2hlbiBjYWxsZWQgd2l0aCB6ZXJvIGFyZ3VtZW50cywgYW5kIHNldHNcclxuICAgKiB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgYSBtb2RlbCB3aGVuIGNhbGxlZCB3aXRoIGFuIGFyZ3VtZW50LiBJdCdzIHNvbWV0aW1lcyB1c2VmdWwgdG8gdXNlIHRoaXNcclxuICAgKiBmb3IgbW9kZWxzIHRoYXQgaGF2ZSBhbiBpbnRlcm5hbCByZXByZXNlbnRhdGlvbiB0aGF0J3MgZGlmZmVyZW50IGZyb20gd2hhdCB0aGUgbW9kZWwgZXhwb3Nlc1xyXG4gICAqIHRvIHRoZSB2aWV3LlxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LXN1Y2Nlc3NcIj5cclxuICAgKiAqKkJlc3QgUHJhY3RpY2U6KiogSXQncyBiZXN0IHRvIGtlZXAgZ2V0dGVycyBmYXN0IGJlY2F1c2UgQW5ndWxhciBpcyBsaWtlbHkgdG8gY2FsbCB0aGVtIG1vcmVcclxuICAgKiBmcmVxdWVudGx5IHRoYW4gb3RoZXIgcGFydHMgb2YgeW91ciBjb2RlLlxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogWW91IHVzZSB0aGlzIGJlaGF2aW9yIGJ5IGFkZGluZyBgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cImAgdG8gYW4gZWxlbWVudCB0aGF0XHJcbiAgICogaGFzIGBuZy1tb2RlbGAgYXR0YWNoZWQgdG8gaXQuIFlvdSBjYW4gYWxzbyBhZGQgYG5nLW1vZGVsLW9wdGlvbnM9XCJ7IGdldHRlclNldHRlcjogdHJ1ZSB9XCJgIHRvXHJcbiAgICogYSBgPGZvcm0+YCwgd2hpY2ggd2lsbCBlbmFibGUgdGhpcyBiZWhhdmlvciBmb3IgYWxsIGA8aW5wdXQ+YHMgd2l0aGluIGl0LiBTZWVcclxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nTW9kZWxPcHRpb25zIGBuZ01vZGVsT3B0aW9uc2B9IGZvciBtb3JlLlxyXG4gICAqXHJcbiAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYG5nTW9kZWxgIHdpdGggYSBnZXR0ZXIvc2V0dGVyOlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbC1nZXR0ZXItc2V0dGVyXCIgbW9kdWxlPVwiZ2V0dGVyU2V0dGVyRXhhbXBsZVwiPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cclxuICAgICAgICAgICAgIDxsYWJlbD5OYW1lOlxyXG4gICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cIiAvPlxyXG4gICAgICAgICAgICAgPC9sYWJlbD5cclxuICAgICAgICAgICA8L2Zvcm0+XHJcbiAgICAgICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lKClcIj48L3NwYW4+PC9wcmU+XHJcbiAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gICAgICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICB2YXIgX25hbWUgPSAnQnJpYW4nO1xyXG4gICAgICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XHJcbiAgICAgICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uKG5ld05hbWUpIHtcclxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCBuZXdOYW1lIGNhbiBiZSB1bmRlZmluZWQgZm9yIHR3byByZWFzb25zOlxyXG4gICAgICAgICAgICAgICAgLy8gMS4gQmVjYXVzZSBpdCBpcyBjYWxsZWQgYXMgYSBnZXR0ZXIgYW5kIHRodXMgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzXHJcbiAgICAgICAgICAgICAgICAvLyAyLiBCZWNhdXNlIHRoZSBwcm9wZXJ0eSBzaG91bGQgYWN0dWFsbHkgYmUgc2V0IHRvIHVuZGVmaW5lZC4gVGhpcyBoYXBwZW5zIGUuZy4gaWYgdGhlXHJcbiAgICAgICAgICAgICAgICAvLyAgICBpbnB1dCBpcyBpbnZhbGlkXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJndW1lbnRzLmxlbmd0aCA/IChfbmFtZSA9IG5ld05hbWUpIDogX25hbWU7XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgfV0pO1xyXG4gICAgICAgPC9maWxlPlxyXG4gICAqIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICB2YXIgbmdNb2RlbERpcmVjdGl2ZSA9IFsnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkcm9vdFNjb3BlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9mb3JtJywgJ14/bmdNb2RlbE9wdGlvbnMnXSxcclxuICAgICAgY29udHJvbGxlcjogTmdNb2RlbENvbnRyb2xsZXIsXHJcbiAgICAgIC8vIFByZWxpbmsgbmVlZHMgdG8gcnVuIGJlZm9yZSBhbnkgaW5wdXQgZGlyZWN0aXZlXHJcbiAgICAgIC8vIHNvIHRoYXQgd2UgY2FuIHNldCB0aGUgTmdNb2RlbE9wdGlvbnMgaW4gTmdNb2RlbENvbnRyb2xsZXJcclxuICAgICAgLy8gYmVmb3JlIGFueW9uZSBlbHNlIHVzZXMgaXQuXHJcbiAgICAgIHByaW9yaXR5OiAxLFxyXG4gICAgICBjb21waWxlOiBmdW5jdGlvbiBuZ01vZGVsQ29tcGlsZShlbGVtZW50KSB7XHJcbiAgICAgICAgLy8gU2V0dXAgaW5pdGlhbCBzdGF0ZSBvZiB0aGUgY29udHJvbFxyXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoUFJJU1RJTkVfQ0xBU1MpLmFkZENsYXNzKFVOVE9VQ0hFRF9DTEFTUykuYWRkQ2xhc3MoVkFMSURfQ0xBU1MpO1xyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ01vZGVsUHJlTGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgY3RybHMpIHtcclxuICAgICAgICAgICAgdmFyIG1vZGVsQ3RybCA9IGN0cmxzWzBdLFxyXG4gICAgICAgICAgICAgICAgZm9ybUN0cmwgPSBjdHJsc1sxXSB8fCBtb2RlbEN0cmwuJCRwYXJlbnRGb3JtLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uc0N0cmwgPSBjdHJsc1syXTtcclxuXHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zQ3RybCkge1xyXG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kb3B0aW9ucyA9IG9wdGlvbnNDdHJsLiRvcHRpb25zO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBtb2RlbEN0cmwuJCRpbml0R2V0dGVyU2V0dGVycygpO1xyXG5cclxuICAgICAgICAgICAgLy8gbm90aWZ5IG90aGVycywgZXNwZWNpYWxseSBwYXJlbnQgZm9ybXNcclxuICAgICAgICAgICAgZm9ybUN0cmwuJGFkZENvbnRyb2wobW9kZWxDdHJsKTtcclxuXHJcbiAgICAgICAgICAgIGF0dHIuJG9ic2VydmUoJ25hbWUnLCBmdW5jdGlvbiAobmV3VmFsdWUpIHtcclxuICAgICAgICAgICAgICBpZiAobW9kZWxDdHJsLiRuYW1lICE9PSBuZXdWYWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgbW9kZWxDdHJsLiQkcGFyZW50Rm9ybS4kJHJlbmFtZUNvbnRyb2wobW9kZWxDdHJsLCBuZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiQkcGFyZW50Rm9ybS4kcmVtb3ZlQ29udHJvbChtb2RlbEN0cmwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBwb3N0OiBmdW5jdGlvbiBuZ01vZGVsUG9zdExpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XHJcbiAgICAgICAgICAgIHZhciBtb2RlbEN0cmwgPSBjdHJsc1swXTtcclxuICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kb3B0aW9ucy5nZXRPcHRpb24oJ3VwZGF0ZU9uJykpIHtcclxuICAgICAgICAgICAgICBlbGVtZW50Lm9uKG1vZGVsQ3RybC4kb3B0aW9ucy5nZXRPcHRpb24oJ3VwZGF0ZU9uJyksIGZ1bmN0aW9uIChldikge1xyXG4gICAgICAgICAgICAgICAgbW9kZWxDdHJsLiQkZGVib3VuY2VWaWV3VmFsdWVDb21taXQoZXYgJiYgZXYudHlwZSk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZ1bmN0aW9uIHNldFRvdWNoZWQoKSB7XHJcbiAgICAgICAgICAgICAgbW9kZWxDdHJsLiRzZXRUb3VjaGVkKCk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGVsZW1lbnQub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgaWYgKG1vZGVsQ3RybC4kdG91Y2hlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICBpZiAoJHJvb3RTY29wZS4kJHBoYXNlKSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kZXZhbEFzeW5jKHNldFRvdWNoZWQpO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoc2V0VG91Y2hlZCk7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG5cclxuICAvKiBleHBvcnRlZCBkZWZhdWx0TW9kZWxPcHRpb25zICovXHJcbiAgdmFyIGRlZmF1bHRNb2RlbE9wdGlvbnM7XHJcbiAgdmFyIERFRkFVTFRfUkVHRVhQID0gLyhcXHMrfF4pZGVmYXVsdChcXHMrfCQpLztcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHR5cGVcclxuICAgKiBAbmFtZSBNb2RlbE9wdGlvbnNcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBBIGNvbnRhaW5lciBmb3IgdGhlIG9wdGlvbnMgc2V0IGJ5IHRoZSB7QGxpbmsgbmdNb2RlbE9wdGlvbnN9IGRpcmVjdGl2ZVxyXG4gICAqL1xyXG4gIGZ1bmN0aW9uIE1vZGVsT3B0aW9ucyhvcHRpb25zKSB7XHJcbiAgICB0aGlzLiQkb3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgfVxyXG5cclxuICBNb2RlbE9wdGlvbnMucHJvdG90eXBlID0ge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgTW9kZWxPcHRpb25zI2dldE9wdGlvblxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgdGhlIG5hbWUgb2YgdGhlIG9wdGlvbiB0byByZXRyaWV2ZVxyXG4gICAgICogQHJldHVybnMgeyp9IHRoZSB2YWx1ZSBvZiB0aGUgb3B0aW9uXHJcbiAgICAgKiBAZGVzY3JpcHRpb25cclxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIG9mIHRoZSBnaXZlbiBvcHRpb25cclxuICAgICAqL1xyXG4gICAgZ2V0T3B0aW9uOiBmdW5jdGlvbiBnZXRPcHRpb24obmFtZSkge1xyXG4gICAgICByZXR1cm4gdGhpcy4kJG9wdGlvbnNbbmFtZV07XHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgTW9kZWxPcHRpb25zI2NyZWF0ZUNoaWxkXHJcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3B0aW9ucyBhIGhhc2ggb2Ygb3B0aW9ucyBmb3IgdGhlIG5ldyBjaGlsZCB0aGF0IHdpbGwgb3ZlcnJpZGUgdGhlIHBhcmVudCdzIG9wdGlvbnNcclxuICAgICAqIEByZXR1cm4ge01vZGVsT3B0aW9uc30gYSBuZXcgYE1vZGVsT3B0aW9uc2Agb2JqZWN0IGluaXRpYWxpemVkIHdpdGggdGhlIGdpdmVuIG9wdGlvbnMuXHJcbiAgICAgKi9cclxuICAgIGNyZWF0ZUNoaWxkOiBmdW5jdGlvbiBjcmVhdGVDaGlsZChvcHRpb25zKSB7XHJcbiAgICAgIHZhciBpbmhlcml0QWxsID0gZmFsc2U7XHJcblxyXG4gICAgICAvLyBtYWtlIGEgc2hhbGxvdyBjb3B5XHJcbiAgICAgIG9wdGlvbnMgPSBleHRlbmQoe30sIG9wdGlvbnMpO1xyXG5cclxuICAgICAgLy8gSW5oZXJpdCBvcHRpb25zIGZyb20gdGhlIHBhcmVudCBpZiBzcGVjaWZpZWQgYnkgdGhlIHZhbHVlIGBcIiRpbmhlcml0XCJgXHJcbiAgICAgIGZvckVhY2gob3B0aW9ucywgLyogQHRoaXMgKi9mdW5jdGlvbiAob3B0aW9uLCBrZXkpIHtcclxuICAgICAgICBpZiAob3B0aW9uID09PSAnJGluaGVyaXQnKSB7XHJcbiAgICAgICAgICBpZiAoa2V5ID09PSAnKicpIHtcclxuICAgICAgICAgICAgaW5oZXJpdEFsbCA9IHRydWU7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBvcHRpb25zW2tleV0gPSB0aGlzLiQkb3B0aW9uc1trZXldO1xyXG4gICAgICAgICAgICAvLyBgdXBkYXRlT25gIGlzIHNwZWNpYWwgc28gd2UgbXVzdCBhbHNvIGluaGVyaXQgdGhlIGB1cGRhdGVPbkRlZmF1bHRgIG9wdGlvblxyXG4gICAgICAgICAgICBpZiAoa2V5ID09PSAndXBkYXRlT24nKSB7XHJcbiAgICAgICAgICAgICAgb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0aGlzLiQkb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3VwZGF0ZU9uJykge1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgYHVwZGF0ZU9uYCBwcm9wZXJ0eSBjb250YWlucyB0aGUgYGRlZmF1bHRgIGV2ZW50IHRoZW4gd2UgaGF2ZSB0byByZW1vdmVcclxuICAgICAgICAgICAgLy8gaXQgZnJvbSB0aGUgZXZlbnQgbGlzdCBhbmQgc2V0IHRoZSBgdXBkYXRlT25EZWZhdWx0YCBmbGFnLlxyXG4gICAgICAgICAgICBvcHRpb25zLnVwZGF0ZU9uRGVmYXVsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICBvcHRpb25zW2tleV0gPSB0cmltKG9wdGlvbi5yZXBsYWNlKERFRkFVTFRfUkVHRVhQLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgb3B0aW9ucy51cGRhdGVPbkRlZmF1bHQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgIHJldHVybiAnICc7XHJcbiAgICAgICAgICAgIH0pKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sIHRoaXMpO1xyXG5cclxuICAgICAgaWYgKGluaGVyaXRBbGwpIHtcclxuICAgICAgICAvLyBXZSBoYXZlIGEgcHJvcGVydHkgb2YgdGhlIGZvcm06IGBcIipcIjogXCIkaW5oZXJpdFwiYFxyXG4gICAgICAgIGRlbGV0ZSBvcHRpb25zWycqJ107XHJcbiAgICAgICAgZGVmYXVsdHMob3B0aW9ucywgdGhpcy4kJG9wdGlvbnMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGaW5hbGx5IGFkZCBpbiBhbnkgbWlzc2luZyBkZWZhdWx0c1xyXG4gICAgICBkZWZhdWx0cyhvcHRpb25zLCBkZWZhdWx0TW9kZWxPcHRpb25zLiQkb3B0aW9ucyk7XHJcblxyXG4gICAgICByZXR1cm4gbmV3IE1vZGVsT3B0aW9ucyhvcHRpb25zKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBkZWZhdWx0TW9kZWxPcHRpb25zID0gbmV3IE1vZGVsT3B0aW9ucyh7XHJcbiAgICB1cGRhdGVPbjogJycsXHJcbiAgICB1cGRhdGVPbkRlZmF1bHQ6IHRydWUsXHJcbiAgICBkZWJvdW5jZTogMCxcclxuICAgIGdldHRlclNldHRlcjogZmFsc2UsXHJcbiAgICBhbGxvd0ludmFsaWQ6IGZhbHNlLFxyXG4gICAgdGltZXpvbmU6IG51bGxcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nTW9kZWxPcHRpb25zXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGlzIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIG1vZGlmeSB0aGUgYmVoYXZpb3VyIG9mIHtAbGluayBuZ01vZGVsfSBkaXJlY3RpdmVzIHdpdGhpbiB5b3VyXHJcbiAgICogYXBwbGljYXRpb24uIFlvdSBjYW4gc3BlY2lmeSBhbiBgbmdNb2RlbE9wdGlvbnNgIGRpcmVjdGl2ZSBvbiBhbnkgZWxlbWVudC4gQWxsIHtAbGluayBuZ01vZGVsfVxyXG4gICAqIGRpcmVjdGl2ZXMgd2lsbCB1c2UgdGhlIG9wdGlvbnMgb2YgdGhlaXIgbmVhcmVzdCBgbmdNb2RlbE9wdGlvbnNgIGFuY2VzdG9yLlxyXG4gICAqXHJcbiAgICogVGhlIGBuZ01vZGVsT3B0aW9uc2Agc2V0dGluZ3MgYXJlIGZvdW5kIGJ5IGV2YWx1YXRpbmcgdGhlIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgZGlyZWN0aXZlIGFzXHJcbiAgICogYW4gQW5ndWxhciBleHByZXNzaW9uLiBUaGlzIGV4cHJlc3Npb24gc2hvdWxkIGV2YWx1YXRlIHRvIGFuIG9iamVjdCwgd2hvc2UgcHJvcGVydGllcyBjb250YWluXHJcbiAgICogdGhlIHNldHRpbmdzLiBGb3IgZXhhbXBsZTogYDxkaXYgXCJuZy1tb2RlbC1vcHRpb25zXCI9XCJ7IGRlYm91bmNlOiAxMDAgfVwiYC5cclxuICAgKlxyXG4gICAqICMjIEluaGVyaXRpbmcgT3B0aW9uc1xyXG4gICAqXHJcbiAgICogWW91IGNhbiBzcGVjaWZ5IHRoYXQgYW4gYG5nTW9kZWxPcHRpb25zYCBzZXR0aW5nIHNob3VsZCBiZSBpbmhlcml0ZWQgZnJvbSBhIHBhcmVudCBgbmdNb2RlbE9wdGlvbnNgXHJcbiAgICogZGlyZWN0aXZlIGJ5IGdpdmluZyBpdCB0aGUgdmFsdWUgb2YgYFwiJGluaGVyaXRcImAuXHJcbiAgICogVGhlbiBpdCB3aWxsIGluaGVyaXQgdGhhdCBzZXR0aW5nIGZyb20gdGhlIGZpcnN0IGBuZ01vZGVsT3B0aW9uc2AgZGlyZWN0aXZlIGZvdW5kIGJ5IHRyYXZlcnNpbmcgdXAgdGhlXHJcbiAgICogRE9NIHRyZWUuIElmIHRoZXJlIGlzIG5vIGFuY2VzdG9yIGVsZW1lbnQgY29udGFpbmluZyBhbiBgbmdNb2RlbE9wdGlvbnNgIGRpcmVjdGl2ZSB0aGVuIGRlZmF1bHQgc2V0dGluZ3NcclxuICAgKiB3aWxsIGJlIHVzZWQuXHJcbiAgICpcclxuICAgKiBGb3IgZXhhbXBsZSBnaXZlbiB0aGUgZm9sbG93aW5nIGZyYWdtZW50IG9mIEhUTUxcclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBgaHRtbFxyXG4gICAqIDxkaXYgbmctbW9kZWwtb3B0aW9ucz1cInsgYWxsb3dJbnZhbGlkOiB0cnVlLCBkZWJvdW5jZTogMjAwIH1cIj5cclxuICAgKiAgIDxmb3JtIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicsIGFsbG93SW52YWxpZDogJyRpbmhlcml0JyB9XCI+XHJcbiAgICogICAgIDxpbnB1dCBuZy1tb2RlbC1vcHRpb25zPVwieyB1cGRhdGVPbjogJ2RlZmF1bHQnLCBhbGxvd0ludmFsaWQ6ICckaW5oZXJpdCcgfVwiIC8+XHJcbiAgICogICA8L2Zvcm0+XHJcbiAgICogPC9kaXY+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiB0aGUgYGlucHV0YCBlbGVtZW50IHdpbGwgaGF2ZSB0aGUgZm9sbG93aW5nIHNldHRpbmdzXHJcbiAgICpcclxuICAgKiBgYGBqc1xyXG4gICAqIHsgYWxsb3dJbnZhbGlkOiB0cnVlLCB1cGRhdGVPbjogJ2RlZmF1bHQnLCBkZWJvdW5jZTogMCB9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBOb3RpY2UgdGhhdCB0aGUgYGRlYm91bmNlYCBzZXR0aW5nIHdhcyBub3QgaW5oZXJpdGVkIGFuZCB1c2VkIHRoZSBkZWZhdWx0IHZhbHVlIGluc3RlYWQuXHJcbiAgICpcclxuICAgKiBZb3UgY2FuIHNwZWNpZnkgdGhhdCBhbGwgdW5kZWZpbmVkIHNldHRpbmdzIGFyZSBhdXRvbWF0aWNhbGx5IGluaGVyaXRlZCBmcm9tIGFuIGFuY2VzdG9yIGJ5XHJcbiAgICogaW5jbHVkaW5nIGEgcHJvcGVydHkgd2l0aCBrZXkgb2YgYFwiKlwiYCBhbmQgdmFsdWUgb2YgYFwiJGluaGVyaXRcImAuXHJcbiAgICpcclxuICAgKiBGb3IgZXhhbXBsZSBnaXZlbiB0aGUgZm9sbG93aW5nIGZyYWdtZW50IG9mIEhUTUxcclxuICAgKlxyXG4gICAqXHJcbiAgICogYGBgaHRtbFxyXG4gICAqIDxkaXYgbmctbW9kZWwtb3B0aW9ucz1cInsgYWxsb3dJbnZhbGlkOiB0cnVlLCBkZWJvdW5jZTogMjAwIH1cIj5cclxuICAgKiAgIDxmb3JtIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicsIFwiKlwiOiAnJGluaGVyaXQnIH1cIj5cclxuICAgKiAgICAgPGlucHV0IG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnZGVmYXVsdCcsIFwiKlwiOiAnJGluaGVyaXQnIH1cIiAvPlxyXG4gICAqICAgPC9mb3JtPlxyXG4gICAqIDwvZGl2PlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogdGhlIGBpbnB1dGAgZWxlbWVudCB3aWxsIGhhdmUgdGhlIGZvbGxvd2luZyBzZXR0aW5nc1xyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiB7IGFsbG93SW52YWxpZDogdHJ1ZSwgdXBkYXRlT246ICdkZWZhdWx0JywgZGVib3VuY2U6IDIwMCB9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBOb3RpY2UgdGhhdCB0aGUgYGRlYm91bmNlYCBzZXR0aW5nIG5vdyBpbmhlcml0cyB0aGUgdmFsdWUgZnJvbSB0aGUgb3V0ZXIgYDxkaXY+YCBlbGVtZW50LlxyXG4gICAqXHJcbiAgICogSWYgeW91IGFyZSBjcmVhdGluZyBhIHJldXNhYmxlIGNvbXBvbmVudCB0aGVuIHlvdSBzaG91bGQgYmUgY2FyZWZ1bCB3aGVuIHVzaW5nIGBcIipcIjogXCIkaW5oZXJpdFwiYFxyXG4gICAqIHNpbmNlIHlvdSBtYXkgaW5hZHZlcnRlbnRseSBpbmhlcml0IGEgc2V0dGluZyBpbiB0aGUgZnV0dXJlIHRoYXQgY2hhbmdlcyB0aGUgYmVoYXZpb3Igb2YgeW91ciBjb21wb25lbnQuXHJcbiAgICpcclxuICAgKlxyXG4gICAqICMjIFRyaWdnZXJpbmcgYW5kIGRlYm91bmNpbmcgbW9kZWwgdXBkYXRlc1xyXG4gICAqXHJcbiAgICogVGhlIGB1cGRhdGVPbmAgYW5kIGBkZWJvdW5jZWAgcHJvcGVydGllcyBhbGxvdyB5b3UgdG8gc3BlY2lmeSBhIGN1c3RvbSBsaXN0IG9mIGV2ZW50cyB0aGF0IHdpbGxcclxuICAgKiB0cmlnZ2VyIGEgbW9kZWwgdXBkYXRlIGFuZC9vciBhIGRlYm91bmNpbmcgZGVsYXkgc28gdGhhdCB0aGUgYWN0dWFsIHVwZGF0ZSBvbmx5IHRha2VzIHBsYWNlIHdoZW5cclxuICAgKiBhIHRpbWVyIGV4cGlyZXM7IHRoaXMgdGltZXIgd2lsbCBiZSByZXNldCBhZnRlciBhbm90aGVyIGNoYW5nZSB0YWtlcyBwbGFjZS5cclxuICAgKlxyXG4gICAqIEdpdmVuIHRoZSBuYXR1cmUgb2YgYG5nTW9kZWxPcHRpb25zYCwgdGhlIHZhbHVlIGRpc3BsYXllZCBpbnNpZGUgaW5wdXQgZmllbGRzIGluIHRoZSB2aWV3IG1pZ2h0XHJcbiAgICogYmUgZGlmZmVyZW50IGZyb20gdGhlIHZhbHVlIGluIHRoZSBhY3R1YWwgbW9kZWwuIFRoaXMgbWVhbnMgdGhhdCBpZiB5b3UgdXBkYXRlIHRoZSBtb2RlbCB5b3VcclxuICAgKiBzaG91bGQgYWxzbyBpbnZva2Uge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHJvbGxiYWNrVmlld1ZhbHVlfSBvbiB0aGUgcmVsZXZhbnQgaW5wdXQgZmllbGQgaW5cclxuICAgKiBvcmRlciB0byBtYWtlIHN1cmUgaXQgaXMgc3luY2hyb25pemVkIHdpdGggdGhlIG1vZGVsIGFuZCB0aGF0IGFueSBkZWJvdW5jZWQgYWN0aW9uIGlzIGNhbmNlbGVkLlxyXG4gICAqXHJcbiAgICogVGhlIGVhc2llc3Qgd2F5IHRvIHJlZmVyZW5jZSB0aGUgY29udHJvbCdzIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRyb2xsYmFja1ZpZXdWYWx1ZX1cclxuICAgKiBtZXRob2QgaXMgYnkgbWFraW5nIHN1cmUgdGhlIGlucHV0IGlzIHBsYWNlZCBpbnNpZGUgYSBmb3JtIHRoYXQgaGFzIGEgYG5hbWVgIGF0dHJpYnV0ZS4gVGhpcyBpc1xyXG4gICAqIGltcG9ydGFudCBiZWNhdXNlIGBmb3JtYCBjb250cm9sbGVycyBhcmUgcHVibGlzaGVkIHRvIHRoZSByZWxhdGVkIHNjb3BlIHVuZGVyIHRoZSBuYW1lIGluIHRoZWlyXHJcbiAgICogYG5hbWVgIGF0dHJpYnV0ZS5cclxuICAgKlxyXG4gICAqIEFueSBwZW5kaW5nIGNoYW5nZXMgd2lsbCB0YWtlIHBsYWNlIGltbWVkaWF0ZWx5IHdoZW4gYW4gZW5jbG9zaW5nIGZvcm0gaXMgc3VibWl0dGVkIHZpYSB0aGVcclxuICAgKiBgc3VibWl0YCBldmVudC4gTm90ZSB0aGF0IGBuZ0NsaWNrYCBldmVudHMgd2lsbCBvY2N1ciBiZWZvcmUgdGhlIG1vZGVsIGlzIHVwZGF0ZWQuIFVzZSBgbmdTdWJtaXRgXHJcbiAgICogdG8gaGF2ZSBhY2Nlc3MgdG8gdGhlIHVwZGF0ZWQgbW9kZWwuXHJcbiAgICpcclxuICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIG92ZXJyaWRlIGltbWVkaWF0ZSB1cGRhdGVzLiBDaGFuZ2VzIG9uIHRoZSBpbnB1dHMgd2l0aGluIHRoZVxyXG4gICAqIGZvcm0gd2lsbCB1cGRhdGUgdGhlIG1vZGVsIG9ubHkgd2hlbiB0aGUgY29udHJvbCBsb3NlcyBmb2N1cyAoYmx1ciBldmVudCkuIElmIGBlc2NhcGVgIGtleSBpc1xyXG4gICAqIHByZXNzZWQgd2hpbGUgdGhlIGlucHV0IGZpZWxkIGlzIGZvY3VzZWQsIHRoZSB2YWx1ZSBpcyByZXNldCB0byB0aGUgdmFsdWUgaW4gdGhlIGN1cnJlbnQgbW9kZWwuXHJcbiAgICpcclxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWJsdXJcIiBtb2R1bGU9XCJvcHRpb25zRXhhbXBsZVwiPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgKiAgICAgICA8Zm9ybSBuYW1lPVwidXNlckZvcm1cIj5cclxuICAgKiAgICAgICAgIDxsYWJlbD5cclxuICAgKiAgICAgICAgICAgTmFtZTpcclxuICAgKiAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcclxuICAgKiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsPVwidXNlci5uYW1lXCJcclxuICAgKiAgICAgICAgICAgICAgICAgIG5nLW1vZGVsLW9wdGlvbnM9XCJ7IHVwZGF0ZU9uOiAnYmx1cicgfVwiXHJcbiAgICogICAgICAgICAgICAgICAgICBuZy1rZXl1cD1cImNhbmNlbCgkZXZlbnQpXCIgLz5cclxuICAgKiAgICAgICAgIDwvbGFiZWw+PGJyIC8+XHJcbiAgICogICAgICAgICA8bGFiZWw+XHJcbiAgICogICAgICAgICAgIE90aGVyIGRhdGE6XHJcbiAgICogICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwidXNlci5kYXRhXCIgLz5cclxuICAgKiAgICAgICAgIDwvbGFiZWw+PGJyIC8+XHJcbiAgICogICAgICAgPC9mb3JtPlxyXG4gICAqICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZVwiPjwvc3Bhbj48L3ByZT5cclxuICAgKiAgICAgPC9kaXY+XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxyXG4gICAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICogICAgICAgICAkc2NvcGUudXNlciA9IHsgbmFtZTogJ3NheScsIGRhdGE6ICcnIH07XHJcbiAgICpcclxuICAgKiAgICAgICAgICRzY29wZS5jYW5jZWwgPSBmdW5jdGlvbihlKSB7XHJcbiAgICogICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3KSB7XHJcbiAgICogICAgICAgICAgICAgJHNjb3BlLnVzZXJGb3JtLnVzZXJOYW1lLiRyb2xsYmFja1ZpZXdWYWx1ZSgpO1xyXG4gICAqICAgICAgICAgICB9XHJcbiAgICogICAgICAgICB9O1xyXG4gICAqICAgICAgIH1dKTtcclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgKiAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCd1c2VyLm5hbWUnKSk7XHJcbiAgICogICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkubW9kZWwoJ3VzZXIubmFtZScpKTtcclxuICAgKiAgICAgdmFyIG90aGVyID0gZWxlbWVudChieS5tb2RlbCgndXNlci5kYXRhJykpO1xyXG4gICAqXHJcbiAgICogICAgIGl0KCdzaG91bGQgYWxsb3cgY3VzdG9tIGV2ZW50cycsIGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgIGlucHV0LnNlbmRLZXlzKCcgaGVsbG8nKTtcclxuICAgKiAgICAgICBpbnB1dC5jbGljaygpO1xyXG4gICAqICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvRXF1YWwoJ3NheScpO1xyXG4gICAqICAgICAgIG90aGVyLmNsaWNrKCk7XHJcbiAgICogICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnc2F5IGhlbGxvJyk7XHJcbiAgICogICAgIH0pO1xyXG4gICAqXHJcbiAgICogICAgIGl0KCdzaG91bGQgJHJvbGxiYWNrVmlld1ZhbHVlIHdoZW4gbW9kZWwgY2hhbmdlcycsIGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgIGlucHV0LnNlbmRLZXlzKCcgaGVsbG8nKTtcclxuICAgKiAgICAgICBleHBlY3QoaW5wdXQuZ2V0QXR0cmlidXRlKCd2YWx1ZScpKS50b0VxdWFsKCdzYXkgaGVsbG8nKTtcclxuICAgKiAgICAgICBpbnB1dC5zZW5kS2V5cyhwcm90cmFjdG9yLktleS5FU0NBUEUpO1xyXG4gICAqICAgICAgIGV4cGVjdChpbnB1dC5nZXRBdHRyaWJ1dGUoJ3ZhbHVlJykpLnRvRXF1YWwoJ3NheScpO1xyXG4gICAqICAgICAgIG90aGVyLmNsaWNrKCk7XHJcbiAgICogICAgICAgZXhwZWN0KG1vZGVsLmdldFRleHQoKSkudG9FcXVhbCgnc2F5Jyk7XHJcbiAgICogICAgIH0pO1xyXG4gICAqICAgPC9maWxlPlxyXG4gICAqIDwvZXhhbXBsZT5cclxuICAgKlxyXG4gICAqIFRoZSBuZXh0IGV4YW1wbGUgc2hvd3MgaG93IHRvIGRlYm91bmNlIG1vZGVsIGNoYW5nZXMuIE1vZGVsIHdpbGwgYmUgdXBkYXRlZCBvbmx5IDEgc2VjIGFmdGVyIGxhc3QgY2hhbmdlLlxyXG4gICAqIElmIHRoZSBgQ2xlYXJgIGJ1dHRvbiBpcyBwcmVzc2VkLCBhbnkgZGVib3VuY2VkIGFjdGlvbiBpcyBjYW5jZWxlZCBhbmQgdGhlIHZhbHVlIGJlY29tZXMgZW1wdHkuXHJcbiAgICpcclxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWRlYm91bmNlXCIgbW9kdWxlPVwib3B0aW9uc0V4YW1wbGVcIj5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICogICAgICAgPGZvcm0gbmFtZT1cInVzZXJGb3JtXCI+XHJcbiAgICogICAgICAgICBOYW1lOlxyXG4gICAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInVzZXJOYW1lXCJcclxuICAgKiAgICAgICAgICAgICAgICBuZy1tb2RlbD1cInVzZXIubmFtZVwiXHJcbiAgICogICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZGVib3VuY2U6IDEwMDAgfVwiIC8+XHJcbiAgICogICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwidXNlckZvcm0udXNlck5hbWUuJHJvbGxiYWNrVmlld1ZhbHVlKCk7IHVzZXIubmFtZT0nJ1wiPkNsZWFyPC9idXR0b24+PGJyIC8+XHJcbiAgICogICAgICAgPC9mb3JtPlxyXG4gICAqICAgICAgIDxwcmU+dXNlci5uYW1lID0gPHNwYW4gbmctYmluZD1cInVzZXIubmFtZVwiPjwvc3Bhbj48L3ByZT5cclxuICAgKiAgICAgPC9kaXY+XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdvcHRpb25zRXhhbXBsZScsIFtdKVxyXG4gICAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICogICAgICAgICAkc2NvcGUudXNlciA9IHsgbmFtZTogJ3NheScgfTtcclxuICAgKiAgICAgICB9XSk7XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICogIyMgTW9kZWwgdXBkYXRlcyBhbmQgdmFsaWRhdGlvblxyXG4gICAqXHJcbiAgICogVGhlIGRlZmF1bHQgYmVoYXZpb3VyIGluIGBuZ01vZGVsYCBpcyB0aGF0IHRoZSBtb2RlbCB2YWx1ZSBpcyBzZXQgdG8gYHVuZGVmaW5lZGAgd2hlbiB0aGVcclxuICAgKiB2YWxpZGF0aW9uIGRldGVybWluZXMgdGhhdCB0aGUgdmFsdWUgaXMgaW52YWxpZC4gQnkgc2V0dGluZyB0aGUgYGFsbG93SW52YWxpZGAgcHJvcGVydHkgdG8gdHJ1ZSxcclxuICAgKiB0aGUgbW9kZWwgd2lsbCBzdGlsbCBiZSB1cGRhdGVkIGV2ZW4gaWYgdGhlIHZhbHVlIGlzIGludmFsaWQuXHJcbiAgICpcclxuICAgKlxyXG4gICAqICMjIENvbm5lY3RpbmcgdG8gdGhlIHNjb3BlXHJcbiAgICpcclxuICAgKiBCeSBzZXR0aW5nIHRoZSBgZ2V0dGVyU2V0dGVyYCBwcm9wZXJ0eSB0byB0cnVlIHlvdSBhcmUgdGVsbGluZyBuZ01vZGVsIHRoYXQgdGhlIGBuZ01vZGVsYCBleHByZXNzaW9uXHJcbiAgICogb24gdGhlIHNjb3BlIHJlZmVycyB0byBhIFwiZ2V0dGVyL3NldHRlclwiIGZ1bmN0aW9uIHJhdGhlciB0aGFuIHRoZSB2YWx1ZSBpdHNlbGYuXHJcbiAgICpcclxuICAgKiBUaGUgZm9sbG93aW5nIGV4YW1wbGUgc2hvd3MgaG93IHRvIGJpbmQgdG8gZ2V0dGVyL3NldHRlcnM6XHJcbiAgICpcclxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmdNb2RlbE9wdGlvbnMtZGlyZWN0aXZlLWdldHRlci1zZXR0ZXJcIiBtb2R1bGU9XCJnZXR0ZXJTZXR0ZXJFeGFtcGxlXCI+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAqICAgICAgIDxmb3JtIG5hbWU9XCJ1c2VyRm9ybVwiPlxyXG4gICAqICAgICAgICAgPGxhYmVsPlxyXG4gICAqICAgICAgICAgICBOYW1lOlxyXG4gICAqICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuYW1lPVwidXNlck5hbWVcIlxyXG4gICAqICAgICAgICAgICAgICAgICAgbmctbW9kZWw9XCJ1c2VyLm5hbWVcIlxyXG4gICAqICAgICAgICAgICAgICAgICAgbmctbW9kZWwtb3B0aW9ucz1cInsgZ2V0dGVyU2V0dGVyOiB0cnVlIH1cIiAvPlxyXG4gICAqICAgICAgICAgPC9sYWJlbD5cclxuICAgKiAgICAgICA8L2Zvcm0+XHJcbiAgICogICAgICAgPHByZT51c2VyLm5hbWUgPSA8c3BhbiBuZy1iaW5kPVwidXNlci5uYW1lKClcIj48L3NwYW4+PC9wcmU+XHJcbiAgICogICAgIDwvZGl2PlxyXG4gICAqICAgPC9maWxlPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gICAqICAgICBhbmd1bGFyLm1vZHVsZSgnZ2V0dGVyU2V0dGVyRXhhbXBsZScsIFtdKVxyXG4gICAqICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICogICAgICAgICB2YXIgX25hbWUgPSAnQnJpYW4nO1xyXG4gICAqICAgICAgICAgJHNjb3BlLnVzZXIgPSB7XHJcbiAgICogICAgICAgICAgIG5hbWU6IGZ1bmN0aW9uKG5ld05hbWUpIHtcclxuICAgKiAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5pc0RlZmluZWQobmV3TmFtZSkgPyAoX25hbWUgPSBuZXdOYW1lKSA6IF9uYW1lO1xyXG4gICAqICAgICAgICAgICB9XHJcbiAgICogICAgICAgICB9O1xyXG4gICAqICAgICAgIH1dKTtcclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiA8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKlxyXG4gICAqICMjIFNwZWNpZnlpbmcgdGltZXpvbmVzXHJcbiAgICpcclxuICAgKiBZb3UgY2FuIHNwZWNpZnkgdGhlIHRpbWV6b25lIHRoYXQgZGF0ZS90aW1lIGlucHV0IGRpcmVjdGl2ZXMgZXhwZWN0IGJ5IHByb3ZpZGluZyBpdHMgbmFtZSBpbiB0aGVcclxuICAgKiBgdGltZXpvbmVgIHByb3BlcnR5LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IG5nTW9kZWxPcHRpb25zIG9wdGlvbnMgdG8gYXBwbHkgdG8ge0BsaW5rIG5nTW9kZWx9IGRpcmVjdGl2ZXMgb24gdGhpcyBlbGVtZW50IGFuZFxyXG4gICAqICAgYW5kIGl0cyBkZXNjZW5kZW50cy4gVmFsaWQga2V5cyBhcmU6XHJcbiAgICogICAtIGB1cGRhdGVPbmA6IHN0cmluZyBzcGVjaWZ5aW5nIHdoaWNoIGV2ZW50IHNob3VsZCB0aGUgaW5wdXQgYmUgYm91bmQgdG8uIFlvdSBjYW4gc2V0IHNldmVyYWxcclxuICAgKiAgICAgZXZlbnRzIHVzaW5nIGFuIHNwYWNlIGRlbGltaXRlZCBsaXN0LiBUaGVyZSBpcyBhIHNwZWNpYWwgZXZlbnQgY2FsbGVkIGBkZWZhdWx0YCB0aGF0XHJcbiAgICogICAgIG1hdGNoZXMgdGhlIGRlZmF1bHQgZXZlbnRzIGJlbG9uZ2luZyB0byB0aGUgY29udHJvbC5cclxuICAgKiAgIC0gYGRlYm91bmNlYDogaW50ZWdlciB2YWx1ZSB3aGljaCBjb250YWlucyB0aGUgZGVib3VuY2UgbW9kZWwgdXBkYXRlIHZhbHVlIGluIG1pbGxpc2Vjb25kcy4gQVxyXG4gICAqICAgICB2YWx1ZSBvZiAwIHRyaWdnZXJzIGFuIGltbWVkaWF0ZSB1cGRhdGUuIElmIGFuIG9iamVjdCBpcyBzdXBwbGllZCBpbnN0ZWFkLCB5b3UgY2FuIHNwZWNpZnkgYVxyXG4gICAqICAgICBjdXN0b20gdmFsdWUgZm9yIGVhY2ggZXZlbnQuIEZvciBleGFtcGxlOlxyXG4gICAqICAgICBgYGBcclxuICAgKiAgICAgbmctbW9kZWwtb3B0aW9ucz1cIntcclxuICAgKiAgICAgICB1cGRhdGVPbjogJ2RlZmF1bHQgYmx1cicsXHJcbiAgICogICAgICAgZGVib3VuY2U6IHsgJ2RlZmF1bHQnOiA1MDAsICdibHVyJzogMCB9XHJcbiAgICogICAgIH1cIlxyXG4gICAqICAgICBgYGBcclxuICAgKiAgIC0gYGFsbG93SW52YWxpZGA6IGJvb2xlYW4gdmFsdWUgd2hpY2ggaW5kaWNhdGVzIHRoYXQgdGhlIG1vZGVsIGNhbiBiZSBzZXQgd2l0aCB2YWx1ZXMgdGhhdCBkaWRcclxuICAgKiAgICAgbm90IHZhbGlkYXRlIGNvcnJlY3RseSBpbnN0ZWFkIG9mIHRoZSBkZWZhdWx0IGJlaGF2aW9yIG9mIHNldHRpbmcgdGhlIG1vZGVsIHRvIHVuZGVmaW5lZC5cclxuICAgKiAgIC0gYGdldHRlclNldHRlcmA6IGJvb2xlYW4gdmFsdWUgd2hpY2ggZGV0ZXJtaW5lcyB3aGV0aGVyIG9yIG5vdCB0byB0cmVhdCBmdW5jdGlvbnMgYm91bmQgdG9cclxuICAgKiAgICAgYG5nTW9kZWxgIGFzIGdldHRlcnMvc2V0dGVycy5cclxuICAgKiAgIC0gYHRpbWV6b25lYDogRGVmaW5lcyB0aGUgdGltZXpvbmUgdG8gYmUgdXNlZCB0byByZWFkL3dyaXRlIHRoZSBgRGF0ZWAgaW5zdGFuY2UgaW4gdGhlIG1vZGVsIGZvclxyXG4gICAqICAgICBgPGlucHV0IHR5cGU9XCJkYXRlXCIgLz5gLCBgPGlucHV0IHR5cGU9XCJ0aW1lXCIgLz5gLCAuLi4gLiBJdCB1bmRlcnN0YW5kcyBVVEMvR01UIGFuZCB0aGVcclxuICAgKiAgICAgY29udGluZW50YWwgVVMgdGltZSB6b25lIGFiYnJldmlhdGlvbnMsIGJ1dCBmb3IgZ2VuZXJhbCB1c2UsIHVzZSBhIHRpbWUgem9uZSBvZmZzZXQsIGZvclxyXG4gICAqICAgICBleGFtcGxlLCBgJyswNDMwJ2AgKDQgaG91cnMsIDMwIG1pbnV0ZXMgZWFzdCBvZiB0aGUgR3JlZW53aWNoIG1lcmlkaWFuKVxyXG4gICAqICAgICBJZiBub3Qgc3BlY2lmaWVkLCB0aGUgdGltZXpvbmUgb2YgdGhlIGJyb3dzZXIgd2lsbCBiZSB1c2VkLlxyXG4gICAqXHJcbiAgICovXHJcbiAgdmFyIG5nTW9kZWxPcHRpb25zRGlyZWN0aXZlID0gZnVuY3Rpb24gbmdNb2RlbE9wdGlvbnNEaXJlY3RpdmUoKSB7XHJcbiAgICBOZ01vZGVsT3B0aW9uc0NvbnRyb2xsZXIuJGluamVjdCA9IFsnJGF0dHJzJywgJyRzY29wZSddO1xyXG4gICAgZnVuY3Rpb24gTmdNb2RlbE9wdGlvbnNDb250cm9sbGVyKCRhdHRycywgJHNjb3BlKSB7XHJcbiAgICAgIHRoaXMuJCRhdHRycyA9ICRhdHRycztcclxuICAgICAgdGhpcy4kJHNjb3BlID0gJHNjb3BlO1xyXG4gICAgfVxyXG4gICAgTmdNb2RlbE9wdGlvbnNDb250cm9sbGVyLnByb3RvdHlwZSA9IHtcclxuICAgICAgJG9uSW5pdDogZnVuY3Rpb24gJG9uSW5pdCgpIHtcclxuICAgICAgICB2YXIgcGFyZW50T3B0aW9ucyA9IHRoaXMucGFyZW50Q3RybCA/IHRoaXMucGFyZW50Q3RybC4kb3B0aW9ucyA6IGRlZmF1bHRNb2RlbE9wdGlvbnM7XHJcbiAgICAgICAgdmFyIG1vZGVsT3B0aW9uc0RlZmluaXRpb24gPSB0aGlzLiQkc2NvcGUuJGV2YWwodGhpcy4kJGF0dHJzLm5nTW9kZWxPcHRpb25zKTtcclxuXHJcbiAgICAgICAgdGhpcy4kb3B0aW9ucyA9IHBhcmVudE9wdGlvbnMuY3JlYXRlQ2hpbGQobW9kZWxPcHRpb25zRGVmaW5pdGlvbik7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgLy8gbmdNb2RlbE9wdGlvbnMgbmVlZHMgdG8gcnVuIGJlZm9yZSBuZ01vZGVsIGFuZCBpbnB1dCBkaXJlY3RpdmVzXHJcbiAgICAgIHByaW9yaXR5OiAxMCxcclxuICAgICAgcmVxdWlyZTogeyBwYXJlbnRDdHJsOiAnP15ebmdNb2RlbE9wdGlvbnMnIH0sXHJcbiAgICAgIGJpbmRUb0NvbnRyb2xsZXI6IHRydWUsXHJcbiAgICAgIGNvbnRyb2xsZXI6IE5nTW9kZWxPcHRpb25zQ29udHJvbGxlclxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICAvLyBzaGFsbG93IGNvcHkgb3ZlciB2YWx1ZXMgZnJvbSBgc3JjYCB0aGF0IGFyZSBub3QgYWxyZWFkeSBzcGVjaWZpZWQgb24gYGRzdGBcclxuICBmdW5jdGlvbiBkZWZhdWx0cyhkc3QsIHNyYykge1xyXG4gICAgZm9yRWFjaChzcmMsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XHJcbiAgICAgIGlmICghaXNEZWZpbmVkKGRzdFtrZXldKSkge1xyXG4gICAgICAgIGRzdFtrZXldID0gdmFsdWU7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nTm9uQmluZGFibGVcclxuICAgKiBAcmVzdHJpY3QgQUNcclxuICAgKiBAcHJpb3JpdHkgMTAwMFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICogVGhlIGBuZ05vbkJpbmRhYmxlYCBkaXJlY3RpdmUgdGVsbHMgQW5ndWxhciBub3QgdG8gY29tcGlsZSBvciBiaW5kIHRoZSBjb250ZW50cyBvZiB0aGUgY3VycmVudFxyXG4gICAqIERPTSBlbGVtZW50LiBUaGlzIGlzIHVzZWZ1bCBpZiB0aGUgZWxlbWVudCBjb250YWlucyB3aGF0IGFwcGVhcnMgdG8gYmUgQW5ndWxhciBkaXJlY3RpdmVzIGFuZFxyXG4gICAqIGJpbmRpbmdzIGJ1dCB3aGljaCBzaG91bGQgYmUgaWdub3JlZCBieSBBbmd1bGFyLiBUaGlzIGNvdWxkIGJlIHRoZSBjYXNlIGlmIHlvdSBoYXZlIGEgc2l0ZSB0aGF0XHJcbiAgICogZGlzcGxheXMgc25pcHBldHMgb2YgY29kZSwgZm9yIGluc3RhbmNlLlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgQU5ZXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIEluIHRoaXMgZXhhbXBsZSB0aGVyZSBhcmUgdHdvIGxvY2F0aW9ucyB3aGVyZSBhIHNpbXBsZSBpbnRlcnBvbGF0aW9uIGJpbmRpbmcgKGB7e319YCkgaXMgcHJlc2VudCxcclxuICAgKiBidXQgdGhlIG9uZSB3cmFwcGVkIGluIGBuZ05vbkJpbmRhYmxlYCBpcyBsZWZ0IGFsb25lLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbmFtZT1cIm5nLW5vbi1iaW5kYWJsZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgICA8ZGl2Pk5vcm1hbDoge3sxICsgMn19PC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IG5nLW5vbi1iaW5kYWJsZT5JZ25vcmVkOiB7ezEgKyAyfX08L2Rpdj5cclxuICAgICAgICA8L2ZpbGU+XHJcbiAgICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLW5vbi1iaW5kYWJsZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJzEgKyAyJykpLmdldFRleHQoKSkudG9Db250YWluKCczJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KGVsZW1lbnQuYWxsKGJ5LmNzcygnZGl2JykpLmxhc3QoKS5nZXRUZXh0KCkpLnRvTWF0Y2goLzEgXFwrIDIvKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG5nTm9uQmluZGFibGVEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZSh7IHRlcm1pbmFsOiB0cnVlLCBwcmlvcml0eTogMTAwMCB9KTtcclxuXHJcbiAgLyogZXhwb3J0ZWQgbmdPcHRpb25zRGlyZWN0aXZlICovXHJcblxyXG4gIC8qIGdsb2JhbCBqcUxpdGVSZW1vdmUgKi9cclxuXHJcbiAgdmFyIG5nT3B0aW9uc01pbkVyciA9IG1pbkVycignbmdPcHRpb25zJyk7XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ09wdGlvbnNcclxuICAgKiBAcmVzdHJpY3QgQVxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBUaGUgYG5nT3B0aW9uc2AgYXR0cmlidXRlIGNhbiBiZSB1c2VkIHRvIGR5bmFtaWNhbGx5IGdlbmVyYXRlIGEgbGlzdCBvZiBgPG9wdGlvbj5gXHJcbiAgICogZWxlbWVudHMgZm9yIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQgdXNpbmcgdGhlIGFycmF5IG9yIG9iamVjdCBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZVxyXG4gICAqIGBuZ09wdGlvbnNgIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvbi5cclxuICAgKlxyXG4gICAqIEluIG1hbnkgY2FzZXMsIHtAbGluayBuZy5kaXJlY3RpdmU6bmdSZXBlYXQgbmdSZXBlYXR9IGNhbiBiZSB1c2VkIG9uIGA8b3B0aW9uPmAgZWxlbWVudHMgaW5zdGVhZCBvZlxyXG4gICAqIGBuZ09wdGlvbnNgIHRvIGFjaGlldmUgYSBzaW1pbGFyIHJlc3VsdC4gSG93ZXZlciwgYG5nT3B0aW9uc2AgcHJvdmlkZXMgc29tZSBiZW5lZml0czpcclxuICAgKiAtIG1vcmUgZmxleGliaWxpdHkgaW4gaG93IHRoZSBgPHNlbGVjdD5gJ3MgbW9kZWwgaXMgYXNzaWduZWQgdmlhIHRoZSBgc2VsZWN0YCAqKmBhc2AqKiBwYXJ0IG9mIHRoZVxyXG4gICAqIGNvbXByZWhlbnNpb24gZXhwcmVzc2lvblxyXG4gICAqIC0gcmVkdWNlZCBtZW1vcnkgY29uc3VtcHRpb24gYnkgbm90IGNyZWF0aW5nIGEgbmV3IHNjb3BlIGZvciBlYWNoIHJlcGVhdGVkIGluc3RhbmNlXHJcbiAgICogLSBpbmNyZWFzZWQgcmVuZGVyIHNwZWVkIGJ5IGNyZWF0aW5nIHRoZSBvcHRpb25zIGluIGEgZG9jdW1lbnRGcmFnbWVudCBpbnN0ZWFkIG9mIGluZGl2aWR1YWxseVxyXG4gICAqXHJcbiAgICogV2hlbiBhbiBpdGVtIGluIHRoZSBgPHNlbGVjdD5gIG1lbnUgaXMgc2VsZWN0ZWQsIHRoZSBhcnJheSBlbGVtZW50IG9yIG9iamVjdCBwcm9wZXJ0eVxyXG4gICAqIHJlcHJlc2VudGVkIGJ5IHRoZSBzZWxlY3RlZCBvcHRpb24gd2lsbCBiZSBib3VuZCB0byB0aGUgbW9kZWwgaWRlbnRpZmllZCBieSB0aGUgYG5nTW9kZWxgXHJcbiAgICogZGlyZWN0aXZlLlxyXG4gICAqXHJcbiAgICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhblxyXG4gICAqIGJlIG5lc3RlZCBpbnRvIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQuIFRoaXMgZWxlbWVudCB3aWxsIHRoZW4gcmVwcmVzZW50IHRoZSBgbnVsbGAgb3IgXCJub3Qgc2VsZWN0ZWRcIlxyXG4gICAqIG9wdGlvbi4gU2VlIGV4YW1wbGUgYmVsb3cgZm9yIGRlbW9uc3RyYXRpb24uXHJcbiAgICpcclxuICAgKiAjIyBDb21wbGV4IE1vZGVscyAob2JqZWN0cyBvciBjb2xsZWN0aW9ucylcclxuICAgKlxyXG4gICAqIEJ5IGRlZmF1bHQsIGBuZ01vZGVsYCB3YXRjaGVzIHRoZSBtb2RlbCBieSByZWZlcmVuY2UsIG5vdCB2YWx1ZS4gVGhpcyBpcyBpbXBvcnRhbnQgdG8ga25vdyB3aGVuXHJcbiAgICogYmluZGluZyB0aGUgc2VsZWN0IHRvIGEgbW9kZWwgdGhhdCBpcyBhbiBvYmplY3Qgb3IgYSBjb2xsZWN0aW9uLlxyXG4gICAqXHJcbiAgICogT25lIGlzc3VlIG9jY3VycyBpZiB5b3Ugd2FudCB0byBwcmVzZWxlY3QgYW4gb3B0aW9uLiBGb3IgZXhhbXBsZSwgaWYgeW91IHNldFxyXG4gICAqIHRoZSBtb2RlbCB0byBhbiBvYmplY3QgdGhhdCBpcyBlcXVhbCB0byBhbiBvYmplY3QgaW4geW91ciBjb2xsZWN0aW9uLCBgbmdPcHRpb25zYCB3b24ndCBiZSBhYmxlIHRvIHNldCB0aGUgc2VsZWN0aW9uLFxyXG4gICAqIGJlY2F1c2UgdGhlIG9iamVjdHMgYXJlIG5vdCBpZGVudGljYWwuIFNvIGJ5IGRlZmF1bHQsIHlvdSBzaG91bGQgYWx3YXlzIHJlZmVyZW5jZSB0aGUgaXRlbSBpbiB5b3VyIGNvbGxlY3Rpb25cclxuICAgKiBmb3IgcHJlc2VsZWN0aW9ucywgZS5nLjogYCRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5jb2xsZWN0aW9uWzNdYC5cclxuICAgKlxyXG4gICAqIEFub3RoZXIgc29sdXRpb24gaXMgdG8gdXNlIGEgYHRyYWNrIGJ5YCBjbGF1c2UsIGJlY2F1c2UgdGhlbiBgbmdPcHRpb25zYCB3aWxsIHRyYWNrIHRoZSBpZGVudGl0eVxyXG4gICAqIG9mIHRoZSBpdGVtIG5vdCBieSByZWZlcmVuY2UsIGJ1dCBieSB0aGUgcmVzdWx0IG9mIHRoZSBgdHJhY2sgYnlgIGV4cHJlc3Npb24uIEZvciBleGFtcGxlLCBpZiB5b3VyXHJcbiAgICogY29sbGVjdGlvbiBpdGVtcyBoYXZlIGFuIGlkIHByb3BlcnR5LCB5b3Ugd291bGQgYHRyYWNrIGJ5IGl0ZW0uaWRgLlxyXG4gICAqXHJcbiAgICogQSBkaWZmZXJlbnQgaXNzdWUgd2l0aCBvYmplY3RzIG9yIGNvbGxlY3Rpb25zIGlzIHRoYXQgbmdNb2RlbCB3b24ndCBkZXRlY3QgaWYgYW4gb2JqZWN0IHByb3BlcnR5IG9yXHJcbiAgICogYSBjb2xsZWN0aW9uIGl0ZW0gY2hhbmdlcy4gRm9yIHRoYXQgcmVhc29uLCBgbmdPcHRpb25zYCBhZGRpdGlvbmFsbHkgd2F0Y2hlcyB0aGUgbW9kZWwgdXNpbmdcclxuICAgKiBgJHdhdGNoQ29sbGVjdGlvbmAsIHdoZW4gdGhlIGV4cHJlc3Npb24gY29udGFpbnMgYSBgdHJhY2sgYnlgIGNsYXVzZSBvciB0aGUgdGhlIHNlbGVjdCBoYXMgdGhlIGBtdWx0aXBsZWAgYXR0cmlidXRlLlxyXG4gICAqIFRoaXMgYWxsb3dzIG5nT3B0aW9ucyB0byB0cmlnZ2VyIGEgcmUtcmVuZGVyaW5nIG9mIHRoZSBvcHRpb25zIGV2ZW4gaWYgdGhlIGFjdHVhbCBvYmplY3QvY29sbGVjdGlvblxyXG4gICAqIGhhcyBub3QgY2hhbmdlZCBpZGVudGl0eSwgYnV0IG9ubHkgYSBwcm9wZXJ0eSBvbiB0aGUgb2JqZWN0IG9yIGFuIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb24gY2hhbmdlcy5cclxuICAgKlxyXG4gICAqIE5vdGUgdGhhdCBgJHdhdGNoQ29sbGVjdGlvbmAgZG9lcyBhIHNoYWxsb3cgY29tcGFyaXNvbiBvZiB0aGUgcHJvcGVydGllcyBvZiB0aGUgb2JqZWN0IChvciB0aGUgaXRlbXMgaW4gdGhlIGNvbGxlY3Rpb25cclxuICAgKiBpZiB0aGUgbW9kZWwgaXMgYW4gYXJyYXkpLiBUaGlzIG1lYW5zIHRoYXQgY2hhbmdpbmcgYSBwcm9wZXJ0eSBkZWVwZXIgdGhhbiB0aGUgZmlyc3QgbGV2ZWwgaW5zaWRlIHRoZVxyXG4gICAqIG9iamVjdC9jb2xsZWN0aW9uIHdpbGwgbm90IHRyaWdnZXIgYSByZS1yZW5kZXJpbmcuXHJcbiAgICpcclxuICAgKiAjIyBgc2VsZWN0YCAqKmBhc2AqKlxyXG4gICAqXHJcbiAgICogVXNpbmcgYHNlbGVjdGAgKipgYXNgKiogd2lsbCBiaW5kIHRoZSByZXN1bHQgb2YgdGhlIGBzZWxlY3RgIGV4cHJlc3Npb24gdG8gdGhlIG1vZGVsLCBidXRcclxuICAgKiB0aGUgdmFsdWUgb2YgdGhlIGA8c2VsZWN0PmAgYW5kIGA8b3B0aW9uPmAgaHRtbCBlbGVtZW50cyB3aWxsIGJlIGVpdGhlciB0aGUgaW5kZXggKGZvciBhcnJheSBkYXRhIHNvdXJjZXMpXHJcbiAgICogb3IgcHJvcGVydHkgbmFtZSAoZm9yIG9iamVjdCBkYXRhIHNvdXJjZXMpIG9mIHRoZSB2YWx1ZSB3aXRoaW4gdGhlIGNvbGxlY3Rpb24uIElmIGEgKipgdHJhY2sgYnlgKiogZXhwcmVzc2lvblxyXG4gICAqIGlzIHVzZWQsIHRoZSByZXN1bHQgb2YgdGhhdCBleHByZXNzaW9uIHdpbGwgYmUgc2V0IGFzIHRoZSB2YWx1ZSBvZiB0aGUgYG9wdGlvbmAgYW5kIGBzZWxlY3RgIGVsZW1lbnRzLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiAjIyMgYHNlbGVjdGAgKipgYXNgKiogYW5kICoqYHRyYWNrIGJ5YCoqXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqIEJlIGNhcmVmdWwgd2hlbiB1c2luZyBgc2VsZWN0YCAqKmBhc2AqKiBhbmQgKipgdHJhY2sgYnlgKiogaW4gdGhlIHNhbWUgZXhwcmVzc2lvbi5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIEdpdmVuIHRoaXMgYXJyYXkgb2YgaXRlbXMgb24gdGhlICRzY29wZTpcclxuICAgKlxyXG4gICAqIGBgYGpzXHJcbiAgICogJHNjb3BlLml0ZW1zID0gW3tcclxuICAgKiAgIGlkOiAxLFxyXG4gICAqICAgbGFiZWw6ICdhTGFiZWwnLFxyXG4gICAqICAgc3ViSXRlbTogeyBuYW1lOiAnYVN1Ykl0ZW0nIH1cclxuICAgKiB9LCB7XHJcbiAgICogICBpZDogMixcclxuICAgKiAgIGxhYmVsOiAnYkxhYmVsJyxcclxuICAgKiAgIHN1Ykl0ZW06IHsgbmFtZTogJ2JTdWJJdGVtJyB9XHJcbiAgICogfV07XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBUaGlzIHdpbGwgd29yazpcclxuICAgKlxyXG4gICAqIGBgYGh0bWxcclxuICAgKiA8c2VsZWN0IG5nLW9wdGlvbnM9XCJpdGVtIGFzIGl0ZW0ubGFiZWwgZm9yIGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj48L3NlbGVjdD5cclxuICAgKiBgYGBcclxuICAgKiBgYGBqc1xyXG4gICAqICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5pdGVtc1swXTtcclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIGJ1dCB0aGlzIHdpbGwgbm90IHdvcms6XHJcbiAgICpcclxuICAgKiBgYGBodG1sXHJcbiAgICogPHNlbGVjdCBuZy1vcHRpb25zPVwiaXRlbS5zdWJJdGVtIGFzIGl0ZW0ubGFiZWwgZm9yIGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgaXRlbS5pZFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIj48L3NlbGVjdD5cclxuICAgKiBgYGBcclxuICAgKiBgYGBqc1xyXG4gICAqICRzY29wZS5zZWxlY3RlZCA9ICRzY29wZS5pdGVtc1swXS5zdWJJdGVtO1xyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogSW4gYm90aCBleGFtcGxlcywgdGhlICoqYHRyYWNrIGJ5YCoqIGV4cHJlc3Npb24gaXMgYXBwbGllZCBzdWNjZXNzZnVsbHkgdG8gZWFjaCBgaXRlbWAgaW4gdGhlXHJcbiAgICogYGl0ZW1zYCBhcnJheS4gQmVjYXVzZSB0aGUgc2VsZWN0ZWQgb3B0aW9uIGhhcyBiZWVuIHNldCBwcm9ncmFtbWF0aWNhbGx5IGluIHRoZSBjb250cm9sbGVyLCB0aGVcclxuICAgKiAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uIGlzIGFsc28gYXBwbGllZCB0byB0aGUgYG5nTW9kZWxgIHZhbHVlLiBJbiB0aGUgZmlyc3QgZXhhbXBsZSwgdGhlXHJcbiAgICogYG5nTW9kZWxgIHZhbHVlIGlzIGBpdGVtc1swXWAgYW5kIHRoZSAqKmB0cmFjayBieWAqKiBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBgaXRlbXNbMF0uaWRgIHdpdGhcclxuICAgKiBubyBpc3N1ZS4gSW4gdGhlIHNlY29uZCBleGFtcGxlLCB0aGUgYG5nTW9kZWxgIHZhbHVlIGlzIGBpdGVtc1swXS5zdWJJdGVtYCBhbmQgdGhlICoqYHRyYWNrIGJ5YCoqXHJcbiAgICogZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYGl0ZW1zWzBdLnN1Ykl0ZW0uaWRgICh3aGljaCBpcyB1bmRlZmluZWQpLiBBcyBhIHJlc3VsdCwgdGhlIG1vZGVsIHZhbHVlXHJcbiAgICogaXMgbm90IG1hdGNoZWQgYWdhaW5zdCBhbnkgYDxvcHRpb24+YCBhbmQgdGhlIGA8c2VsZWN0PmAgYXBwZWFycyBhcyBoYXZpbmcgbm8gc2VsZWN0ZWQgdmFsdWUuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuZ01vZGVsIEFzc2lnbmFibGUgQW5ndWxhckpTIGV4cHJlc3Npb24gdG8gZGF0YS1iaW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7Y29tcHJlaGVuc2lvbl9leHByZXNzaW9ufSBuZ09wdGlvbnMgaW4gb25lIG9mIHRoZSBmb2xsb3dpbmcgZm9ybXM6XHJcbiAgICpcclxuICAgKiAgICogZm9yIGFycmF5IGRhdGEgc291cmNlczpcclxuICAgKiAgICAgKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcclxuICAgKiAgICAgKiBgc2VsZWN0YCAqKmBhc2AqKiBgbGFiZWxgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWBcclxuICAgKiAgICAgKiBgbGFiZWxgICoqYGdyb3VwIGJ5YCoqIGBncm91cGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YFxyXG4gICAqICAgICAqIGBsYWJlbGAgKipgZGlzYWJsZSB3aGVuYCoqIGBkaXNhYmxlYCAqKmBmb3JgKiogYHZhbHVlYCAqKmBpbmAqKiBgYXJyYXlgXHJcbiAgICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvcmAqKiBgdmFsdWVgICoqYGluYCoqIGBhcnJheWAgKipgdHJhY2sgYnlgKiogYHRyYWNrZXhwcmBcclxuICAgKiAgICAgKiBgbGFiZWxgICoqYGRpc2FibGUgd2hlbmAqKiBgZGlzYWJsZWAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCAqKmB0cmFjayBieWAqKiBgdHJhY2tleHByYFxyXG4gICAqICAgICAqIGBsYWJlbGAgKipgZm9yYCoqIGB2YWx1ZWAgKipgaW5gKiogYGFycmF5YCB8IG9yZGVyQnk6YG9yZGVyZXhwcmAgKipgdHJhY2sgYnlgKiogYHRyYWNrZXhwcmBcclxuICAgKiAgICAgICAgKGZvciBpbmNsdWRpbmcgYSBmaWx0ZXIgd2l0aCBgdHJhY2sgYnlgKVxyXG4gICAqICAgKiBmb3Igb2JqZWN0IGRhdGEgc291cmNlczpcclxuICAgKiAgICAgKiBgbGFiZWxgICoqYGZvciAoYCoqYGtleWAgKipgLGAqKiBgdmFsdWVgKipgKSBpbmAqKiBgb2JqZWN0YFxyXG4gICAqICAgICAqIGBzZWxlY3RgICoqYGFzYCoqIGBsYWJlbGAgKipgZm9yIChgKipga2V5YCAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXHJcbiAgICogICAgICogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgICoqYGZvciAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXHJcbiAgICogICAgICogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgICoqYGZvciAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXHJcbiAgICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBncm91cCBieWAqKiBgZ3JvdXBgXHJcbiAgICogICAgICAgICAqKmBmb3JgIGAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXHJcbiAgICogICAgICogYHNlbGVjdGAgKipgYXNgKiogYGxhYmVsYCAqKmBkaXNhYmxlIHdoZW5gKiogYGRpc2FibGVgXHJcbiAgICogICAgICAgICAqKmBmb3JgIGAoYCoqYGtleWAqKmAsYCoqIGB2YWx1ZWAqKmApIGluYCoqIGBvYmplY3RgXHJcbiAgICpcclxuICAgKiBXaGVyZTpcclxuICAgKlxyXG4gICAqICAgKiBgYXJyYXlgIC8gYG9iamVjdGA6IGFuIGV4cHJlc3Npb24gd2hpY2ggZXZhbHVhdGVzIHRvIGFuIGFycmF5IC8gb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cclxuICAgKiAgICogYHZhbHVlYDogbG9jYWwgdmFyaWFibGUgd2hpY2ggd2lsbCByZWZlciB0byBlYWNoIGl0ZW0gaW4gdGhlIGBhcnJheWAgb3IgZWFjaCBwcm9wZXJ0eSB2YWx1ZVxyXG4gICAqICAgICAgb2YgYG9iamVjdGAgZHVyaW5nIGl0ZXJhdGlvbi5cclxuICAgKiAgICogYGtleWA6IGxvY2FsIHZhcmlhYmxlIHdoaWNoIHdpbGwgcmVmZXIgdG8gYSBwcm9wZXJ0eSBuYW1lIGluIGBvYmplY3RgIGR1cmluZyBpdGVyYXRpb24uXHJcbiAgICogICAqIGBsYWJlbGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdGhlIGxhYmVsIGZvciBgPG9wdGlvbj5gIGVsZW1lbnQuIFRoZVxyXG4gICAqICAgICBgZXhwcmVzc2lvbmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGUgYHZhbHVlYCB2YXJpYWJsZSAoZS5nLiBgdmFsdWUucHJvcGVydHlOYW1lYCkuXHJcbiAgICogICAqIGBzZWxlY3RgOiBUaGUgcmVzdWx0IG9mIHRoaXMgZXhwcmVzc2lvbiB3aWxsIGJlIGJvdW5kIHRvIHRoZSBtb2RlbCBvZiB0aGUgcGFyZW50IGA8c2VsZWN0PmBcclxuICAgKiAgICAgIGVsZW1lbnQuIElmIG5vdCBzcGVjaWZpZWQsIGBzZWxlY3RgIGV4cHJlc3Npb24gd2lsbCBkZWZhdWx0IHRvIGB2YWx1ZWAuXHJcbiAgICogICAqIGBncm91cGA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdXNlZCB0byBncm91cCBvcHRpb25zIHVzaW5nIHRoZSBgPG9wdGdyb3VwPmBcclxuICAgKiAgICAgIERPTSBlbGVtZW50LlxyXG4gICAqICAgKiBgZGlzYWJsZWA6IFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmUgdXNlZCB0byBkaXNhYmxlIHRoZSByZW5kZXJlZCBgPG9wdGlvbj5gXHJcbiAgICogICAgICBlbGVtZW50LiBSZXR1cm4gYHRydWVgIHRvIGRpc2FibGUuXHJcbiAgICogICAqIGB0cmFja2V4cHJgOiBVc2VkIHdoZW4gd29ya2luZyB3aXRoIGFuIGFycmF5IG9mIG9iamVjdHMuIFRoZSByZXN1bHQgb2YgdGhpcyBleHByZXNzaW9uIHdpbGwgYmVcclxuICAgKiAgICAgIHVzZWQgdG8gaWRlbnRpZnkgdGhlIG9iamVjdHMgaW4gdGhlIGFycmF5LiBUaGUgYHRyYWNrZXhwcmAgd2lsbCBtb3N0IGxpa2VseSByZWZlciB0byB0aGVcclxuICAgKiAgICAgYHZhbHVlYCB2YXJpYWJsZSAoZS5nLiBgdmFsdWUucHJvcGVydHlOYW1lYCkuIFdpdGggdGhpcyB0aGUgc2VsZWN0aW9uIGlzIHByZXNlcnZlZFxyXG4gICAqICAgICAgZXZlbiB3aGVuIHRoZSBvcHRpb25zIGFyZSByZWNyZWF0ZWQgKGUuZy4gcmVsb2FkZWQgZnJvbSB0aGUgc2VydmVyKS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5hbWUgUHJvcGVydHkgbmFtZSBvZiB0aGUgZm9ybSB1bmRlciB3aGljaCB0aGUgY29udHJvbCBpcyBwdWJsaXNoZWQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBUaGUgY29udHJvbCBpcyBjb25zaWRlcmVkIHZhbGlkIG9ubHkgaWYgdmFsdWUgaXMgZW50ZXJlZC5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nUmVxdWlyZWQgQWRkcyBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBhbmQgYHJlcXVpcmVkYCB2YWxpZGF0aW9uIGNvbnN0cmFpbnQgdG9cclxuICAgKiAgICB0aGUgZWxlbWVudCB3aGVuIHRoZSBuZ1JlcXVpcmVkIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIHRydWUuIFVzZSBgbmdSZXF1aXJlZGAgaW5zdGVhZCBvZlxyXG4gICAqICAgIGByZXF1aXJlZGAgd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdBdHRyU2l6ZSBzZXRzIHRoZSBzaXplIG9mIHRoZSBzZWxlY3QgZWxlbWVudCBkeW5hbWljYWxseS4gVXNlcyB0aGVcclxuICAgKiB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiMtbmdhdHRyLWZvci1iaW5kaW5nLXRvLWFyYml0cmFyeS1hdHRyaWJ1dGVzIG5nQXR0cn0gZGlyZWN0aXZlLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICAgPGV4YW1wbGUgbW9kdWxlPVwic2VsZWN0RXhhbXBsZVwiIG5hbWU9XCJzZWxlY3RcIj5cclxuICAgICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgICAgPHNjcmlwdD5cclxuICAgICAgICAgIGFuZ3VsYXIubW9kdWxlKCdzZWxlY3RFeGFtcGxlJywgW10pXHJcbiAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlLmNvbG9ycyA9IFtcclxuICAgICAgICAgICAgICAgIHtuYW1lOidibGFjaycsIHNoYWRlOidkYXJrJ30sXHJcbiAgICAgICAgICAgICAgICB7bmFtZTond2hpdGUnLCBzaGFkZTonbGlnaHQnLCBub3RBbk9wdGlvbjogdHJ1ZX0sXHJcbiAgICAgICAgICAgICAgICB7bmFtZToncmVkJywgc2hhZGU6J2RhcmsnfSxcclxuICAgICAgICAgICAgICAgIHtuYW1lOidibHVlJywgc2hhZGU6J2RhcmsnLCBub3RBbk9wdGlvbjogdHJ1ZX0sXHJcbiAgICAgICAgICAgICAgICB7bmFtZToneWVsbG93Jywgc2hhZGU6J2xpZ2h0Jywgbm90QW5PcHRpb246IGZhbHNlfVxyXG4gICAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgICAgJHNjb3BlLm15Q29sb3IgPSAkc2NvcGUuY29sb3JzWzJdOyAvLyByZWRcclxuICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgICA8dWw+XHJcbiAgICAgICAgICAgICAgPGxpIG5nLXJlcGVhdD1cImNvbG9yIGluIGNvbG9yc1wiPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsPk5hbWU6IDxpbnB1dCBuZy1tb2RlbD1cImNvbG9yLm5hbWVcIj48L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgPGxhYmVsPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNvbG9yLm5vdEFuT3B0aW9uXCI+IERpc2FibGVkPzwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiY29sb3JzLnNwbGljZSgkaW5kZXgsIDEpXCIgYXJpYS1sYWJlbD1cIlJlbW92ZVwiPlg8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgIDxsaT5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gbmctY2xpY2s9XCJjb2xvcnMucHVzaCh7fSlcIj5hZGQ8L2J1dHRvbj5cclxuICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICA8aHIvPlxyXG4gICAgICAgICAgICA8bGFiZWw+Q29sb3IgKG51bGwgbm90IGFsbG93ZWQpOlxyXG4gICAgICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJteUNvbG9yXCIgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZm9yIGNvbG9yIGluIGNvbG9yc1wiPjwvc2VsZWN0PlxyXG4gICAgICAgICAgICA8L2xhYmVsPjxici8+XHJcbiAgICAgICAgICAgIDxsYWJlbD5Db2xvciAobnVsbCBhbGxvd2VkKTpcclxuICAgICAgICAgICAgPHNwYW4gIGNsYXNzPVwibnVsbGFibGVcIj5cclxuICAgICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiIG5nLW9wdGlvbnM9XCJjb2xvci5uYW1lIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cclxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJcIj4tLSBjaG9vc2UgY29sb3IgLS08L29wdGlvbj5cclxuICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgPC9zcGFuPjwvbGFiZWw+PGJyLz5cclxuICBcclxuICAgICAgICAgICAgPGxhYmVsPkNvbG9yIGdyb3VwZWQgYnkgc2hhZGU6XHJcbiAgICAgICAgICAgICAgPHNlbGVjdCBuZy1tb2RlbD1cIm15Q29sb3JcIiBuZy1vcHRpb25zPVwiY29sb3IubmFtZSBncm91cCBieSBjb2xvci5zaGFkZSBmb3IgY29sb3IgaW4gY29sb3JzXCI+XHJcbiAgICAgICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICAgIDwvbGFiZWw+PGJyLz5cclxuICBcclxuICAgICAgICAgICAgPGxhYmVsPkNvbG9yIGdyb3VwZWQgYnkgc2hhZGUsIHdpdGggc29tZSBkaXNhYmxlZDpcclxuICAgICAgICAgICAgICA8c2VsZWN0IG5nLW1vZGVsPVwibXlDb2xvclwiXHJcbiAgICAgICAgICAgICAgICAgICAgbmctb3B0aW9ucz1cImNvbG9yLm5hbWUgZ3JvdXAgYnkgY29sb3Iuc2hhZGUgZGlzYWJsZSB3aGVuIGNvbG9yLm5vdEFuT3B0aW9uIGZvciBjb2xvciBpbiBjb2xvcnNcIj5cclxuICAgICAgICAgICAgICA8L3NlbGVjdD5cclxuICAgICAgICAgICAgPC9sYWJlbD48YnIvPlxyXG4gIFxyXG4gIFxyXG4gIFxyXG4gICAgICAgICAgICBTZWxlY3QgPGJ1dHRvbiBuZy1jbGljaz1cIm15Q29sb3IgPSB7IG5hbWU6J25vdCBpbiBsaXN0Jywgc2hhZGU6ICdvdGhlcicgfVwiPmJvZ3VzPC9idXR0b24+LlxyXG4gICAgICAgICAgICA8YnIvPlxyXG4gICAgICAgICAgICA8aHIvPlxyXG4gICAgICAgICAgICBDdXJyZW50bHkgc2VsZWN0ZWQ6IHt7IHtzZWxlY3RlZF9jb2xvcjpteUNvbG9yfSB9fVxyXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiYm9yZGVyOnNvbGlkIDFweCBibGFjazsgaGVpZ2h0OjIwcHhcIlxyXG4gICAgICAgICAgICAgICAgIG5nLXN0eWxlPVwieydiYWNrZ3JvdW5kLWNvbG9yJzpteUNvbG9yLm5hbWV9XCI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nLW9wdGlvbnMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmJpbmRpbmcoJ3tzZWxlY3RlZF9jb2xvcjpteUNvbG9yfScpKS5nZXRUZXh0KCkpLnRvTWF0Y2goJ3JlZCcpO1xyXG4gICAgICAgICAgICAgZWxlbWVudC5hbGwoYnkubW9kZWwoJ215Q29sb3InKSkuZmlyc3QoKS5jbGljaygpO1xyXG4gICAgICAgICAgICAgZWxlbWVudC5hbGwoYnkuY3NzKCdzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdibGFjaycpO1xyXG4gICAgICAgICAgICAgZWxlbWVudChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICBlbGVtZW50LmFsbChieS5jc3MoJy5udWxsYWJsZSBzZWxlY3RbbmctbW9kZWw9XCJteUNvbG9yXCJdIG9wdGlvbicpKS5maXJzdCgpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd7c2VsZWN0ZWRfY29sb3I6bXlDb2xvcn0nKSkuZ2V0VGV4dCgpKS50b01hdGNoKCdudWxsJyk7XHJcbiAgICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcblxyXG4gIC8qIGVzbGludC1kaXNhYmxlIG1heC1sZW4gKi9cclxuICAvLyAgICAgICAgICAgICAgICAgICAgIC8vMDAwMDExMTExMTExMTEwMDAwMDAwMDAwMDIyMjIyMjIyMjIwMDAwMDAwMDAwMDAwMDAwMDAwMDAzMzMzMzMzMzMzMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDQ0NDQ0NDQ0NDQ0MDAwMDAwMDAwMDAwMDU1NTU1NTU1NTU1NTUwMDAwMDAwMDA2NjY2NjY2NjY2NjY2MDAwMDAwMDc3Nzc3Nzc3Nzc3NzcwMDAwMDAwMDAwMDAwMDA4ODg4ODg4ODg4MDAwMDAwMDAwMDAwMDAwMDAwMDk5OTk5OTk5OTlcclxuICB2YXIgTkdfT1BUSU9OU19SRUdFWFAgPSAvXlxccyooW1xcc1xcU10rPykoPzpcXHMrYXNcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZ3JvdXBcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT8oPzpcXHMrZGlzYWJsZVxccyt3aGVuXFxzKyhbXFxzXFxTXSs/KSk/XFxzK2ZvclxccysoPzooWyRcXHddWyRcXHddKil8KD86XFwoXFxzKihbJFxcd11bJFxcd10qKVxccyosXFxzKihbJFxcd11bJFxcd10qKVxccypcXCkpKVxccytpblxccysoW1xcc1xcU10rPykoPzpcXHMrdHJhY2tcXHMrYnlcXHMrKFtcXHNcXFNdKz8pKT8kLztcclxuICAvLyAxOiB2YWx1ZSBleHByZXNzaW9uICh2YWx1ZUZuKVxyXG4gIC8vIDI6IGxhYmVsIGV4cHJlc3Npb24gKGRpc3BsYXlGbilcclxuICAvLyAzOiBncm91cCBieSBleHByZXNzaW9uIChncm91cEJ5Rm4pXHJcbiAgLy8gNDogZGlzYWJsZSB3aGVuIGV4cHJlc3Npb24gKGRpc2FibGVXaGVuRm4pXHJcbiAgLy8gNTogYXJyYXkgaXRlbSB2YXJpYWJsZSBuYW1lXHJcbiAgLy8gNjogb2JqZWN0IGl0ZW0ga2V5IHZhcmlhYmxlIG5hbWVcclxuICAvLyA3OiBvYmplY3QgaXRlbSB2YWx1ZSB2YXJpYWJsZSBuYW1lXHJcbiAgLy8gODogY29sbGVjdGlvbiBleHByZXNzaW9uXHJcbiAgLy8gOTogdHJhY2sgYnkgZXhwcmVzc2lvblxyXG4gIC8qIGVzbGludC1lbmFibGUgKi9cclxuXHJcbiAgdmFyIG5nT3B0aW9uc0RpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCAnJGRvY3VtZW50JywgJyRwYXJzZScsIGZ1bmN0aW9uICgkY29tcGlsZSwgJGRvY3VtZW50LCAkcGFyc2UpIHtcclxuXHJcbiAgICBmdW5jdGlvbiBwYXJzZU9wdGlvbnNFeHByZXNzaW9uKG9wdGlvbnNFeHAsIHNlbGVjdEVsZW1lbnQsIHNjb3BlKSB7XHJcblxyXG4gICAgICB2YXIgbWF0Y2ggPSBvcHRpb25zRXhwLm1hdGNoKE5HX09QVElPTlNfUkVHRVhQKTtcclxuICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgIHRocm93IG5nT3B0aW9uc01pbkVycignaWV4cCcsICdFeHBlY3RlZCBleHByZXNzaW9uIGluIGZvcm0gb2YgJyArICdcXCdfc2VsZWN0XyAoYXMgX2xhYmVsXyk/IGZvciAoX2tleV8sKT9fdmFsdWVfIGluIF9jb2xsZWN0aW9uX1xcJycgKyAnIGJ1dCBnb3QgXFwnezB9XFwnLiBFbGVtZW50OiB7MX0nLCBvcHRpb25zRXhwLCBzdGFydGluZ1RhZyhzZWxlY3RFbGVtZW50KSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEV4dHJhY3QgdGhlIHBhcnRzIGZyb20gdGhlIG5nT3B0aW9ucyBleHByZXNzaW9uXHJcblxyXG4gICAgICAvLyBUaGUgdmFyaWFibGUgbmFtZSBmb3IgdGhlIHZhbHVlIG9mIHRoZSBpdGVtIGluIHRoZSBjb2xsZWN0aW9uXHJcbiAgICAgIHZhciB2YWx1ZU5hbWUgPSBtYXRjaFs1XSB8fCBtYXRjaFs3XTtcclxuICAgICAgLy8gVGhlIHZhcmlhYmxlIG5hbWUgZm9yIHRoZSBrZXkgb2YgdGhlIGl0ZW0gaW4gdGhlIGNvbGxlY3Rpb25cclxuICAgICAgdmFyIGtleU5hbWUgPSBtYXRjaFs2XTtcclxuXHJcbiAgICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBnZW5lcmF0ZXMgdGhlIHZpZXdWYWx1ZSBmb3IgYW4gb3B0aW9uIGlmIHRoZXJlIGlzIGEgbGFiZWwgZXhwcmVzc2lvblxyXG4gICAgICB2YXIgc2VsZWN0QXMgPSAvIGFzIC8udGVzdChtYXRjaFswXSkgJiYgbWF0Y2hbMV07XHJcbiAgICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBpcyB1c2VkIHRvIHRyYWNrIHRoZSBpZCBvZiBlYWNoIG9iamVjdCBpbiB0aGUgb3B0aW9ucyBjb2xsZWN0aW9uXHJcbiAgICAgIHZhciB0cmFja0J5ID0gbWF0Y2hbOV07XHJcbiAgICAgIC8vIEFuIGV4cHJlc3Npb24gdGhhdCBnZW5lcmF0ZXMgdGhlIHZpZXdWYWx1ZSBmb3IgYW4gb3B0aW9uIGlmIHRoZXJlIGlzIG5vIGxhYmVsIGV4cHJlc3Npb25cclxuICAgICAgdmFyIHZhbHVlRm4gPSAkcGFyc2UobWF0Y2hbMl0gPyBtYXRjaFsxXSA6IHZhbHVlTmFtZSk7XHJcbiAgICAgIHZhciBzZWxlY3RBc0ZuID0gc2VsZWN0QXMgJiYgJHBhcnNlKHNlbGVjdEFzKTtcclxuICAgICAgdmFyIHZpZXdWYWx1ZUZuID0gc2VsZWN0QXNGbiB8fCB2YWx1ZUZuO1xyXG4gICAgICB2YXIgdHJhY2tCeUZuID0gdHJhY2tCeSAmJiAkcGFyc2UodHJhY2tCeSk7XHJcblxyXG4gICAgICAvLyBHZXQgdGhlIHZhbHVlIGJ5IHdoaWNoIHdlIGFyZSBnb2luZyB0byB0cmFjayB0aGUgb3B0aW9uXHJcbiAgICAgIC8vIGlmIHdlIGhhdmUgYSB0cmFja0ZuIHRoZW4gdXNlIHRoYXQgKHBhc3Npbmcgc2NvcGUgYW5kIGxvY2FscylcclxuICAgICAgLy8gb3RoZXJ3aXNlIGp1c3QgaGFzaCB0aGUgZ2l2ZW4gdmlld1ZhbHVlXHJcbiAgICAgIHZhciBnZXRUcmFja0J5VmFsdWVGbiA9IHRyYWNrQnkgPyBmdW5jdGlvbiAodmFsdWUsIGxvY2Fscykge1xyXG4gICAgICAgIHJldHVybiB0cmFja0J5Rm4oc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgIH0gOiBmdW5jdGlvbiBnZXRIYXNoT2ZWYWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgIHJldHVybiBoYXNoS2V5KHZhbHVlKTtcclxuICAgICAgfTtcclxuICAgICAgdmFyIGdldFRyYWNrQnlWYWx1ZSA9IGZ1bmN0aW9uIGdldFRyYWNrQnlWYWx1ZSh2YWx1ZSwga2V5KSB7XHJcbiAgICAgICAgcmV0dXJuIGdldFRyYWNrQnlWYWx1ZUZuKHZhbHVlLCBnZXRMb2NhbHModmFsdWUsIGtleSkpO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgdmFyIGRpc3BsYXlGbiA9ICRwYXJzZShtYXRjaFsyXSB8fCBtYXRjaFsxXSk7XHJcbiAgICAgIHZhciBncm91cEJ5Rm4gPSAkcGFyc2UobWF0Y2hbM10gfHwgJycpO1xyXG4gICAgICB2YXIgZGlzYWJsZVdoZW5GbiA9ICRwYXJzZShtYXRjaFs0XSB8fCAnJyk7XHJcbiAgICAgIHZhciB2YWx1ZXNGbiA9ICRwYXJzZShtYXRjaFs4XSk7XHJcblxyXG4gICAgICB2YXIgbG9jYWxzID0ge307XHJcbiAgICAgIHZhciBnZXRMb2NhbHMgPSBrZXlOYW1lID8gZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcclxuICAgICAgICBsb2NhbHNba2V5TmFtZV0gPSBrZXk7XHJcbiAgICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gbG9jYWxzO1xyXG4gICAgICB9IDogZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgbG9jYWxzW3ZhbHVlTmFtZV0gPSB2YWx1ZTtcclxuICAgICAgICByZXR1cm4gbG9jYWxzO1xyXG4gICAgICB9O1xyXG5cclxuICAgICAgZnVuY3Rpb24gT3B0aW9uKHNlbGVjdFZhbHVlLCB2aWV3VmFsdWUsIGxhYmVsLCBncm91cCwgZGlzYWJsZWQpIHtcclxuICAgICAgICB0aGlzLnNlbGVjdFZhbHVlID0gc2VsZWN0VmFsdWU7XHJcbiAgICAgICAgdGhpcy52aWV3VmFsdWUgPSB2aWV3VmFsdWU7XHJcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xyXG4gICAgICAgIHRoaXMuZ3JvdXAgPSBncm91cDtcclxuICAgICAgICB0aGlzLmRpc2FibGVkID0gZGlzYWJsZWQ7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGdldE9wdGlvblZhbHVlc0tleXMob3B0aW9uVmFsdWVzKSB7XHJcbiAgICAgICAgdmFyIG9wdGlvblZhbHVlc0tleXM7XHJcblxyXG4gICAgICAgIGlmICgha2V5TmFtZSAmJiBpc0FycmF5TGlrZShvcHRpb25WYWx1ZXMpKSB7XHJcbiAgICAgICAgICBvcHRpb25WYWx1ZXNLZXlzID0gb3B0aW9uVmFsdWVzO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBpZiBvYmplY3QsIGV4dHJhY3Qga2V5cywgaW4gZW51bWVyYXRpb24gb3JkZXIsIHVuc29ydGVkXHJcbiAgICAgICAgICBvcHRpb25WYWx1ZXNLZXlzID0gW107XHJcbiAgICAgICAgICBmb3IgKHZhciBpdGVtS2V5IGluIG9wdGlvblZhbHVlcykge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uVmFsdWVzLmhhc093blByb3BlcnR5KGl0ZW1LZXkpICYmIGl0ZW1LZXkuY2hhckF0KDApICE9PSAnJCcpIHtcclxuICAgICAgICAgICAgICBvcHRpb25WYWx1ZXNLZXlzLnB1c2goaXRlbUtleSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG9wdGlvblZhbHVlc0tleXM7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdHJhY2tCeTogdHJhY2tCeSxcclxuICAgICAgICBnZXRUcmFja0J5VmFsdWU6IGdldFRyYWNrQnlWYWx1ZSxcclxuICAgICAgICBnZXRXYXRjaGFibGVzOiAkcGFyc2UodmFsdWVzRm4sIGZ1bmN0aW9uIChvcHRpb25WYWx1ZXMpIHtcclxuICAgICAgICAgIC8vIENyZWF0ZSBhIGNvbGxlY3Rpb24gb2YgdGhpbmdzIHRoYXQgd2Ugd291bGQgbGlrZSB0byB3YXRjaCAod2F0Y2hlZEFycmF5KVxyXG4gICAgICAgICAgLy8gc28gdGhhdCB0aGV5IGNhbiBhbGwgYmUgd2F0Y2hlZCB1c2luZyBhIHNpbmdsZSAkd2F0Y2hDb2xsZWN0aW9uXHJcbiAgICAgICAgICAvLyB0aGF0IG9ubHkgcnVucyB0aGUgaGFuZGxlciBvbmNlIGlmIGFueXRoaW5nIGNoYW5nZXNcclxuICAgICAgICAgIHZhciB3YXRjaGVkQXJyYXkgPSBbXTtcclxuICAgICAgICAgIG9wdGlvblZhbHVlcyA9IG9wdGlvblZhbHVlcyB8fCBbXTtcclxuXHJcbiAgICAgICAgICB2YXIgb3B0aW9uVmFsdWVzS2V5cyA9IGdldE9wdGlvblZhbHVlc0tleXMob3B0aW9uVmFsdWVzKTtcclxuICAgICAgICAgIHZhciBvcHRpb25WYWx1ZXNMZW5ndGggPSBvcHRpb25WYWx1ZXNLZXlzLmxlbmd0aDtcclxuICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBvcHRpb25WYWx1ZXNMZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IG9wdGlvblZhbHVlcyA9PT0gb3B0aW9uVmFsdWVzS2V5cyA/IGluZGV4IDogb3B0aW9uVmFsdWVzS2V5c1tpbmRleF07XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9wdGlvblZhbHVlc1trZXldO1xyXG5cclxuICAgICAgICAgICAgdmFyIGxvY2FscyA9IGdldExvY2Fscyh2YWx1ZSwga2V5KTtcclxuICAgICAgICAgICAgdmFyIHNlbGVjdFZhbHVlID0gZ2V0VHJhY2tCeVZhbHVlRm4odmFsdWUsIGxvY2Fscyk7XHJcbiAgICAgICAgICAgIHdhdGNoZWRBcnJheS5wdXNoKHNlbGVjdFZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIC8vIE9ubHkgbmVlZCB0byB3YXRjaCB0aGUgZGlzcGxheUZuIGlmIHRoZXJlIGlzIGEgc3BlY2lmaWMgbGFiZWwgZXhwcmVzc2lvblxyXG4gICAgICAgICAgICBpZiAobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pIHtcclxuICAgICAgICAgICAgICB2YXIgbGFiZWwgPSBkaXNwbGF5Rm4oc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICAgICAgd2F0Y2hlZEFycmF5LnB1c2gobGFiZWwpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBPbmx5IG5lZWQgdG8gd2F0Y2ggdGhlIGRpc2FibGVXaGVuRm4gaWYgdGhlcmUgaXMgYSBzcGVjaWZpYyBkaXNhYmxlIGV4cHJlc3Npb25cclxuICAgICAgICAgICAgaWYgKG1hdGNoWzRdKSB7XHJcbiAgICAgICAgICAgICAgdmFyIGRpc2FibGVXaGVuID0gZGlzYWJsZVdoZW5GbihzY29wZSwgbG9jYWxzKTtcclxuICAgICAgICAgICAgICB3YXRjaGVkQXJyYXkucHVzaChkaXNhYmxlV2hlbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIHJldHVybiB3YXRjaGVkQXJyYXk7XHJcbiAgICAgICAgfSksXHJcblxyXG4gICAgICAgIGdldE9wdGlvbnM6IGZ1bmN0aW9uIGdldE9wdGlvbnMoKSB7XHJcblxyXG4gICAgICAgICAgdmFyIG9wdGlvbkl0ZW1zID0gW107XHJcbiAgICAgICAgICB2YXIgc2VsZWN0VmFsdWVNYXAgPSB7fTtcclxuXHJcbiAgICAgICAgICAvLyBUaGUgb3B0aW9uIHZhbHVlcyB3ZXJlIGFscmVhZHkgY29tcHV0ZWQgaW4gdGhlIGBnZXRXYXRjaGFibGVzYCBmbixcclxuICAgICAgICAgIC8vIHdoaWNoIG11c3QgaGF2ZSBiZWVuIGNhbGxlZCB0byB0cmlnZ2VyIGBnZXRPcHRpb25zYFxyXG4gICAgICAgICAgdmFyIG9wdGlvblZhbHVlcyA9IHZhbHVlc0ZuKHNjb3BlKSB8fCBbXTtcclxuICAgICAgICAgIHZhciBvcHRpb25WYWx1ZXNLZXlzID0gZ2V0T3B0aW9uVmFsdWVzS2V5cyhvcHRpb25WYWx1ZXMpO1xyXG4gICAgICAgICAgdmFyIG9wdGlvblZhbHVlc0xlbmd0aCA9IG9wdGlvblZhbHVlc0tleXMubGVuZ3RoO1xyXG5cclxuICAgICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBvcHRpb25WYWx1ZXNMZW5ndGg7IGluZGV4KyspIHtcclxuICAgICAgICAgICAgdmFyIGtleSA9IG9wdGlvblZhbHVlcyA9PT0gb3B0aW9uVmFsdWVzS2V5cyA/IGluZGV4IDogb3B0aW9uVmFsdWVzS2V5c1tpbmRleF07XHJcbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IG9wdGlvblZhbHVlc1trZXldO1xyXG4gICAgICAgICAgICB2YXIgbG9jYWxzID0gZ2V0TG9jYWxzKHZhbHVlLCBrZXkpO1xyXG4gICAgICAgICAgICB2YXIgdmlld1ZhbHVlID0gdmlld1ZhbHVlRm4oc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICAgIHZhciBzZWxlY3RWYWx1ZSA9IGdldFRyYWNrQnlWYWx1ZUZuKHZpZXdWYWx1ZSwgbG9jYWxzKTtcclxuICAgICAgICAgICAgdmFyIGxhYmVsID0gZGlzcGxheUZuKHNjb3BlLCBsb2NhbHMpO1xyXG4gICAgICAgICAgICB2YXIgZ3JvdXAgPSBncm91cEJ5Rm4oc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICAgIHZhciBkaXNhYmxlZCA9IGRpc2FibGVXaGVuRm4oc2NvcGUsIGxvY2Fscyk7XHJcbiAgICAgICAgICAgIHZhciBvcHRpb25JdGVtID0gbmV3IE9wdGlvbihzZWxlY3RWYWx1ZSwgdmlld1ZhbHVlLCBsYWJlbCwgZ3JvdXAsIGRpc2FibGVkKTtcclxuXHJcbiAgICAgICAgICAgIG9wdGlvbkl0ZW1zLnB1c2gob3B0aW9uSXRlbSk7XHJcbiAgICAgICAgICAgIHNlbGVjdFZhbHVlTWFwW3NlbGVjdFZhbHVlXSA9IG9wdGlvbkl0ZW07XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaXRlbXM6IG9wdGlvbkl0ZW1zLFxyXG4gICAgICAgICAgICBzZWxlY3RWYWx1ZU1hcDogc2VsZWN0VmFsdWVNYXAsXHJcbiAgICAgICAgICAgIGdldE9wdGlvbkZyb21WaWV3VmFsdWU6IGZ1bmN0aW9uIGdldE9wdGlvbkZyb21WaWV3VmFsdWUodmFsdWUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4gc2VsZWN0VmFsdWVNYXBbZ2V0VHJhY2tCeVZhbHVlKHZhbHVlKV07XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGdldFZpZXdWYWx1ZUZyb21PcHRpb246IGZ1bmN0aW9uIGdldFZpZXdWYWx1ZUZyb21PcHRpb24ob3B0aW9uKSB7XHJcbiAgICAgICAgICAgICAgLy8gSWYgdGhlIHZpZXdWYWx1ZSBjb3VsZCBiZSBhbiBvYmplY3QgdGhhdCBtYXkgYmUgbXV0YXRlZCBieSB0aGUgYXBwbGljYXRpb24sXHJcbiAgICAgICAgICAgICAgLy8gd2UgbmVlZCB0byBtYWtlIGEgY29weSBhbmQgbm90IHJldHVybiB0aGUgcmVmZXJlbmNlIHRvIHRoZSB2YWx1ZSBvbiB0aGUgb3B0aW9uLlxyXG4gICAgICAgICAgICAgIHJldHVybiB0cmFja0J5ID8gY29weShvcHRpb24udmlld1ZhbHVlKSA6IG9wdGlvbi52aWV3VmFsdWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFN1cHBvcnQ6IElFIDkgb25seVxyXG4gICAgLy8gV2UgY2FuJ3QganVzdCBqcUxpdGUoJzxvcHRpb24+Jykgc2luY2UganFMaXRlIGlzIG5vdCBzbWFydCBlbm91Z2hcclxuICAgIC8vIHRvIGNyZWF0ZSBpdCBpbiA8c2VsZWN0PiBhbmQgSUUgYmFyZnMgb3RoZXJ3aXNlLlxyXG4gICAgdmFyIG9wdGlvblRlbXBsYXRlID0gd2luZG93LmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ29wdGlvbicpLFxyXG4gICAgICAgIG9wdEdyb3VwVGVtcGxhdGUgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0Z3JvdXAnKTtcclxuXHJcbiAgICBmdW5jdGlvbiBuZ09wdGlvbnNQb3N0TGluayhzY29wZSwgc2VsZWN0RWxlbWVudCwgYXR0ciwgY3RybHMpIHtcclxuXHJcbiAgICAgIHZhciBzZWxlY3RDdHJsID0gY3RybHNbMF07XHJcbiAgICAgIHZhciBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xyXG4gICAgICB2YXIgbXVsdGlwbGUgPSBhdHRyLm11bHRpcGxlO1xyXG5cclxuICAgICAgLy8gVGhlIGVtcHR5T3B0aW9uIGFsbG93cyB0aGUgYXBwbGljYXRpb24gZGV2ZWxvcGVyIHRvIHByb3ZpZGUgdGhlaXIgb3duIGN1c3RvbSBcImVtcHR5XCJcclxuICAgICAgLy8gb3B0aW9uIHdoZW4gdGhlIHZpZXdWYWx1ZSBkb2VzIG5vdCBtYXRjaCBhbnkgb2YgdGhlIG9wdGlvbiB2YWx1ZXMuXHJcbiAgICAgIGZvciAodmFyIGkgPSAwLCBjaGlsZHJlbiA9IHNlbGVjdEVsZW1lbnQuY2hpbGRyZW4oKSwgaWkgPSBjaGlsZHJlbi5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgaWYgKGNoaWxkcmVuW2ldLnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgc2VsZWN0Q3RybC5oYXNFbXB0eU9wdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICBzZWxlY3RDdHJsLmVtcHR5T3B0aW9uID0gY2hpbGRyZW4uZXEoaSk7XHJcbiAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFRoZSBlbXB0eSBvcHRpb24gd2lsbCBiZSBjb21waWxlZCBhbmQgcmVuZGVyZWQgYmVmb3JlIHdlIGZpcnN0IGdlbmVyYXRlIHRoZSBvcHRpb25zXHJcbiAgICAgIHNlbGVjdEVsZW1lbnQuZW1wdHkoKTtcclxuXHJcbiAgICAgIHZhciBwcm92aWRlZEVtcHR5T3B0aW9uID0gISFzZWxlY3RDdHJsLmVtcHR5T3B0aW9uO1xyXG5cclxuICAgICAgdmFyIHVua25vd25PcHRpb24gPSBqcUxpdGUob3B0aW9uVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKSk7XHJcbiAgICAgIHVua25vd25PcHRpb24udmFsKCc/Jyk7XHJcblxyXG4gICAgICB2YXIgb3B0aW9ucztcclxuICAgICAgdmFyIG5nT3B0aW9ucyA9IHBhcnNlT3B0aW9uc0V4cHJlc3Npb24oYXR0ci5uZ09wdGlvbnMsIHNlbGVjdEVsZW1lbnQsIHNjb3BlKTtcclxuICAgICAgLy8gVGhpcyBzdG9yZXMgdGhlIG5ld2x5IGNyZWF0ZWQgb3B0aW9ucyBiZWZvcmUgdGhleSBhcmUgYXBwZW5kZWQgdG8gdGhlIHNlbGVjdC5cclxuICAgICAgLy8gU2luY2UgdGhlIGNvbnRlbnRzIGFyZSByZW1vdmVkIGZyb20gdGhlIGZyYWdtZW50IHdoZW4gaXQgaXMgYXBwZW5kZWQsXHJcbiAgICAgIC8vIHdlIG9ubHkgbmVlZCB0byBjcmVhdGUgaXQgb25jZS5cclxuICAgICAgdmFyIGxpc3RGcmFnbWVudCA9ICRkb2N1bWVudFswXS5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcblxyXG4gICAgICAvLyBPdmVyd3JpdGUgdGhlIGltcGxlbWVudGF0aW9uLiBuZ09wdGlvbnMgZG9lc24ndCB1c2UgaGFzaGVzXHJcbiAgICAgIHNlbGVjdEN0cmwuZ2VuZXJhdGVVbmtub3duT3B0aW9uVmFsdWUgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgcmV0dXJuICc/JztcclxuICAgICAgfTtcclxuXHJcbiAgICAgIC8vIFVwZGF0ZSB0aGUgY29udHJvbGxlciBtZXRob2RzIGZvciBtdWx0aXBsZSBzZWxlY3RhYmxlIG9wdGlvbnNcclxuICAgICAgaWYgKCFtdWx0aXBsZSkge1xyXG5cclxuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUgPSBmdW5jdGlvbiB3cml0ZU5nT3B0aW9uc1ZhbHVlKHZhbHVlKSB7XHJcbiAgICAgICAgICAvLyBUaGUgb3B0aW9ucyBtaWdodCBub3QgYmUgZGVmaW5lZCB5ZXQgd2hlbiBuZ01vZGVsIHRyaWVzIHRvIHJlbmRlclxyXG4gICAgICAgICAgaWYgKCFvcHRpb25zKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gc2VsZWN0RWxlbWVudFswXS5vcHRpb25zW3NlbGVjdEVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleF07XHJcbiAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5nZXRPcHRpb25Gcm9tVmlld1ZhbHVlKHZhbHVlKTtcclxuXHJcbiAgICAgICAgICAvLyBNYWtlIHN1cmUgdG8gcmVtb3ZlIHRoZSBzZWxlY3RlZCBhdHRyaWJ1dGUgZnJvbSB0aGUgcHJldmlvdXNseSBzZWxlY3RlZCBvcHRpb25cclxuICAgICAgICAgIC8vIE90aGVyd2lzZSwgc2NyZWVuIHJlYWRlcnMgbWlnaHQgZ2V0IGNvbmZ1c2VkXHJcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24pIHNlbGVjdGVkT3B0aW9uLnJlbW92ZUF0dHJpYnV0ZSgnc2VsZWN0ZWQnKTtcclxuXHJcbiAgICAgICAgICBpZiAob3B0aW9uKSB7XHJcbiAgICAgICAgICAgIC8vIERvbid0IHVwZGF0ZSB0aGUgb3B0aW9uIHdoZW4gaXQgaXMgYWxyZWFkeSBzZWxlY3RlZC5cclxuICAgICAgICAgICAgLy8gRm9yIGV4YW1wbGUsIHRoZSBicm93c2VyIHdpbGwgc2VsZWN0IHRoZSBmaXJzdCBvcHRpb24gYnkgZGVmYXVsdC4gSW4gdGhhdCBjYXNlLFxyXG4gICAgICAgICAgICAvLyBtb3N0IHByb3BlcnRpZXMgYXJlIHNldCBhdXRvbWF0aWNhbGx5IC0gZXhjZXB0IHRoZSBgc2VsZWN0ZWRgIGF0dHJpYnV0ZSwgd2hpY2ggd2VcclxuICAgICAgICAgICAgLy8gc2V0IGFsd2F5c1xyXG5cclxuICAgICAgICAgICAgaWYgKHNlbGVjdEVsZW1lbnRbMF0udmFsdWUgIT09IG9wdGlvbi5zZWxlY3RWYWx1ZSkge1xyXG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgICBzZWxlY3RFbGVtZW50WzBdLnZhbHVlID0gb3B0aW9uLnNlbGVjdFZhbHVlO1xyXG4gICAgICAgICAgICAgIG9wdGlvbi5lbGVtZW50LnNlbGVjdGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgb3B0aW9uLmVsZW1lbnQuc2V0QXR0cmlidXRlKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgc2VsZWN0Q3RybC5zZWxlY3RVbmtub3duT3JFbXB0eU9wdGlvbih2YWx1ZSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2VsZWN0Q3RybC5yZWFkVmFsdWUgPSBmdW5jdGlvbiByZWFkTmdPcHRpb25zVmFsdWUoKSB7XHJcblxyXG4gICAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gb3B0aW9ucy5zZWxlY3RWYWx1ZU1hcFtzZWxlY3RFbGVtZW50LnZhbCgpXTtcclxuXHJcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRPcHRpb24gJiYgIXNlbGVjdGVkT3B0aW9uLmRpc2FibGVkKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdEN0cmwudW5zZWxlY3RFbXB0eU9wdGlvbigpO1xyXG4gICAgICAgICAgICBzZWxlY3RDdHJsLnJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbnMuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihzZWxlY3RlZE9wdGlvbik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBJZiB3ZSBhcmUgdXNpbmcgYHRyYWNrIGJ5YCB0aGVuIHdlIG11c3Qgd2F0Y2ggdGhlIHRyYWNrZWQgdmFsdWUgb24gdGhlIG1vZGVsXHJcbiAgICAgICAgLy8gc2luY2UgbmdNb2RlbCBvbmx5IHdhdGNoZXMgZm9yIG9iamVjdCBpZGVudGl0eSBjaGFuZ2VcclxuICAgICAgICAvLyBGSVhNRTogV2hlbiBhIHVzZXIgc2VsZWN0cyBhbiBvcHRpb24sIHRoaXMgd2F0Y2ggd2lsbCBmaXJlIG5lZWRsZXNzbHlcclxuICAgICAgICBpZiAobmdPcHRpb25zLnRyYWNrQnkpIHtcclxuICAgICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpO1xyXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7XHJcblxyXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTmdPcHRpb25zTXVsdGlwbGUodmFsdWVzKSB7XHJcbiAgICAgICAgICAvLyBUaGUgb3B0aW9ucyBtaWdodCBub3QgYmUgZGVmaW5lZCB5ZXQgd2hlbiBuZ01vZGVsIHRyaWVzIHRvIHJlbmRlclxyXG4gICAgICAgICAgaWYgKCFvcHRpb25zKSByZXR1cm47XHJcblxyXG4gICAgICAgICAgLy8gT25seSBzZXQgYDxvcHRpb24+LnNlbGVjdGVkYCBpZiBuZWNlc3NhcnksIGluIG9yZGVyIHRvIHByZXZlbnQgc29tZSBicm93c2VycyBmcm9tXHJcbiAgICAgICAgICAvLyBzY3JvbGxpbmcgdG8gYDxvcHRpb24+YCBlbGVtZW50cyB0aGF0IGFyZSBvdXRzaWRlIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQncyB2aWV3cG9ydC5cclxuICAgICAgICAgIHZhciBzZWxlY3RlZE9wdGlvbnMgPSB2YWx1ZXMgJiYgdmFsdWVzLm1hcChnZXRBbmRVcGRhdGVTZWxlY3RlZE9wdGlvbikgfHwgW107XHJcblxyXG4gICAgICAgICAgb3B0aW9ucy5pdGVtcy5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb24pIHtcclxuICAgICAgICAgICAgaWYgKG9wdGlvbi5lbGVtZW50LnNlbGVjdGVkICYmICFpbmNsdWRlcyhzZWxlY3RlZE9wdGlvbnMsIG9wdGlvbikpIHtcclxuICAgICAgICAgICAgICBvcHRpb24uZWxlbWVudC5zZWxlY3RlZCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBzZWxlY3RDdHJsLnJlYWRWYWx1ZSA9IGZ1bmN0aW9uIHJlYWROZ09wdGlvbnNNdWx0aXBsZSgpIHtcclxuICAgICAgICAgIHZhciBzZWxlY3RlZFZhbHVlcyA9IHNlbGVjdEVsZW1lbnQudmFsKCkgfHwgW10sXHJcbiAgICAgICAgICAgICAgc2VsZWN0aW9ucyA9IFtdO1xyXG5cclxuICAgICAgICAgIGZvckVhY2goc2VsZWN0ZWRWYWx1ZXMsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICB2YXIgb3B0aW9uID0gb3B0aW9ucy5zZWxlY3RWYWx1ZU1hcFt2YWx1ZV07XHJcbiAgICAgICAgICAgIGlmIChvcHRpb24gJiYgIW9wdGlvbi5kaXNhYmxlZCkgc2VsZWN0aW9ucy5wdXNoKG9wdGlvbnMuZ2V0Vmlld1ZhbHVlRnJvbU9wdGlvbihvcHRpb24pKTtcclxuICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgIHJldHVybiBzZWxlY3Rpb25zO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIElmIHdlIGFyZSB1c2luZyBgdHJhY2sgYnlgIHRoZW4gd2UgbXVzdCB3YXRjaCB0aGVzZSB0cmFja2VkIHZhbHVlcyBvbiB0aGUgbW9kZWxcclxuICAgICAgICAvLyBzaW5jZSBuZ01vZGVsIG9ubHkgd2F0Y2hlcyBmb3Igb2JqZWN0IGlkZW50aXR5IGNoYW5nZVxyXG4gICAgICAgIGlmIChuZ09wdGlvbnMudHJhY2tCeSkge1xyXG5cclxuICAgICAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24oZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoaXNBcnJheShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSkge1xyXG4gICAgICAgICAgICAgIHJldHVybiBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlLm1hcChmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBuZ09wdGlvbnMuZ2V0VHJhY2tCeVZhbHVlKHZhbHVlKTtcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChwcm92aWRlZEVtcHR5T3B0aW9uKSB7XHJcblxyXG4gICAgICAgIC8vIGNvbXBpbGUgdGhlIGVsZW1lbnQgc2luY2UgdGhlcmUgbWlnaHQgYmUgYmluZGluZ3MgaW4gaXRcclxuICAgICAgICAkY29tcGlsZShzZWxlY3RDdHJsLmVtcHR5T3B0aW9uKShzY29wZSk7XHJcblxyXG4gICAgICAgIHNlbGVjdEVsZW1lbnQucHJlcGVuZChzZWxlY3RDdHJsLmVtcHR5T3B0aW9uKTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdEN0cmwuZW1wdHlPcHRpb25bMF0ubm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSB7XHJcbiAgICAgICAgICAvLyBUaGlzIG1lYW5zIHRoZSBlbXB0eSBvcHRpb24gaGFzIGN1cnJlbnRseSBubyBhY3R1YWwgRE9NIG5vZGUsIHByb2JhYmx5IGJlY2F1c2VcclxuICAgICAgICAgIC8vIGl0IGhhcyBiZWVuIG1vZGlmaWVkIGJ5IGEgdHJhbnNjbHVzaW9uIGRpcmVjdGl2ZS5cclxuICAgICAgICAgIHNlbGVjdEN0cmwuaGFzRW1wdHlPcHRpb24gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgICAvLyBSZWRlZmluZSB0aGUgcmVnaXN0ZXJPcHRpb24gZnVuY3Rpb24sIHdoaWNoIHdpbGwgY2F0Y2hcclxuICAgICAgICAgIC8vIG9wdGlvbnMgdGhhdCBhcmUgYWRkZWQgYnkgbmdJZiBldGMuIChyZW5kZXJpbmcgb2YgdGhlIG5vZGUgaXMgYXN5bmMgYmVjYXVzZSBvZlxyXG4gICAgICAgICAgLy8gbGF6eSB0cmFuc2NsdXNpb24pXHJcbiAgICAgICAgICBzZWxlY3RDdHJsLnJlZ2lzdGVyT3B0aW9uID0gZnVuY3Rpb24gKG9wdGlvblNjb3BlLCBvcHRpb25FbCkge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uRWwudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5oYXNFbXB0eU9wdGlvbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgc2VsZWN0Q3RybC5lbXB0eU9wdGlvbiA9IG9wdGlvbkVsO1xyXG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwuZW1wdHlPcHRpb24ucmVtb3ZlQ2xhc3MoJ25nLXNjb3BlJyk7XHJcbiAgICAgICAgICAgICAgLy8gVGhpcyBlbnN1cmVzIHRoZSBuZXcgZW1wdHkgb3B0aW9uIGlzIHNlbGVjdGVkIGlmIHByZXZpb3VzbHkgbm8gb3B0aW9uIHdhcyBzZWxlY3RlZFxyXG4gICAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuXHJcbiAgICAgICAgICAgICAgb3B0aW9uRWwub24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIG5lZWRzUmVyZW5kZXIgPSBzZWxlY3RDdHJsLiRpc0VtcHR5T3B0aW9uU2VsZWN0ZWQoKTtcclxuXHJcbiAgICAgICAgICAgICAgICBzZWxlY3RDdHJsLmhhc0VtcHR5T3B0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBzZWxlY3RDdHJsLmVtcHR5T3B0aW9uID0gdW5kZWZpbmVkO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChuZWVkc1JlcmVuZGVyKSBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIHJlbW92ZSB0aGUgY2xhc3MsIHdoaWNoIGlzIGFkZGVkIGF1dG9tYXRpY2FsbHkgYmVjYXVzZSB3ZSByZWNvbXBpbGUgdGhlIGVsZW1lbnQgYW5kIGl0XHJcbiAgICAgICAgICAvLyBiZWNvbWVzIHRoZSBjb21waWxhdGlvbiByb290XHJcbiAgICAgICAgICBzZWxlY3RDdHJsLmVtcHR5T3B0aW9uLnJlbW92ZUNsYXNzKCduZy1zY29wZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gV2Ugd2lsbCByZS1yZW5kZXIgdGhlIG9wdGlvbiBlbGVtZW50cyBpZiB0aGUgb3B0aW9uIHZhbHVlcyBvciBsYWJlbHMgY2hhbmdlXHJcbiAgICAgIHNjb3BlLiR3YXRjaENvbGxlY3Rpb24obmdPcHRpb25zLmdldFdhdGNoYWJsZXMsIHVwZGF0ZU9wdGlvbnMpO1xyXG5cclxuICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIC8vXHJcblxyXG4gICAgICBmdW5jdGlvbiBhZGRPcHRpb25FbGVtZW50KG9wdGlvbiwgcGFyZW50KSB7XHJcbiAgICAgICAgdmFyIG9wdGlvbkVsZW1lbnQgPSBvcHRpb25UZW1wbGF0ZS5jbG9uZU5vZGUoZmFsc2UpO1xyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZChvcHRpb25FbGVtZW50KTtcclxuICAgICAgICB1cGRhdGVPcHRpb25FbGVtZW50KG9wdGlvbiwgb3B0aW9uRWxlbWVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGZ1bmN0aW9uIGdldEFuZFVwZGF0ZVNlbGVjdGVkT3B0aW9uKHZpZXdWYWx1ZSkge1xyXG4gICAgICAgIHZhciBvcHRpb24gPSBvcHRpb25zLmdldE9wdGlvbkZyb21WaWV3VmFsdWUodmlld1ZhbHVlKTtcclxuICAgICAgICB2YXIgZWxlbWVudCA9IG9wdGlvbiAmJiBvcHRpb24uZWxlbWVudDtcclxuXHJcbiAgICAgICAgaWYgKGVsZW1lbnQgJiYgIWVsZW1lbnQuc2VsZWN0ZWQpIGVsZW1lbnQuc2VsZWN0ZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICByZXR1cm4gb3B0aW9uO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25FbGVtZW50KG9wdGlvbiwgZWxlbWVudCkge1xyXG4gICAgICAgIG9wdGlvbi5lbGVtZW50ID0gZWxlbWVudDtcclxuICAgICAgICBlbGVtZW50LmRpc2FibGVkID0gb3B0aW9uLmRpc2FibGVkO1xyXG4gICAgICAgIC8vIFN1cHBvcnQ6IElFIDExIG9ubHksIEVkZ2UgMTItMTMgb25seVxyXG4gICAgICAgIC8vIE5PVEU6IFRoZSBsYWJlbCBtdXN0IGJlIHNldCBiZWZvcmUgdGhlIHZhbHVlLCBvdGhlcndpc2UgSUUgMTEgJiBFZGdlIGNyZWF0ZSB1bnJlc3BvbnNpdmVcclxuICAgICAgICAvLyBzZWxlY3RzIGluIGNlcnRhaW4gY2lyY3Vtc3RhbmNlcyB3aGVuIG11bHRpcGxlIHNlbGVjdHMgYXJlIG5leHQgdG8gZWFjaCBvdGhlciBhbmQgZGlzcGxheVxyXG4gICAgICAgIC8vIHRoZSBvcHRpb24gbGlzdCBpbiBsaXN0Ym94IHN0eWxlLCBpLmUuIHRoZSBzZWxlY3QgaXMgW211bHRpcGxlXSwgb3Igc3BlY2lmaWVzIGEgW3NpemVdLlxyXG4gICAgICAgIC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy8xMTMxNCBmb3IgbW9yZSBpbmZvLlxyXG4gICAgICAgIC8vIFRoaXMgaXMgdW5mb3J0dW5hdGVseSB1bnRlc3RhYmxlIHdpdGggdW5pdCAvIGUyZSB0ZXN0c1xyXG4gICAgICAgIGlmIChvcHRpb24ubGFiZWwgIT09IGVsZW1lbnQubGFiZWwpIHtcclxuICAgICAgICAgIGVsZW1lbnQubGFiZWwgPSBvcHRpb24ubGFiZWw7XHJcbiAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gb3B0aW9uLmxhYmVsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LnZhbHVlID0gb3B0aW9uLnNlbGVjdFZhbHVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBmdW5jdGlvbiB1cGRhdGVPcHRpb25zKCkge1xyXG4gICAgICAgIHZhciBwcmV2aW91c1ZhbHVlID0gb3B0aW9ucyAmJiBzZWxlY3RDdHJsLnJlYWRWYWx1ZSgpO1xyXG5cclxuICAgICAgICAvLyBXZSBtdXN0IHJlbW92ZSBhbGwgY3VycmVudCBvcHRpb25zLCBidXQgY2Fubm90IHNpbXBseSBzZXQgaW5uZXJIVE1MID0gbnVsbFxyXG4gICAgICAgIC8vIHNpbmNlIHRoZSBwcm92aWRlZEVtcHR5T3B0aW9uIG1pZ2h0IGhhdmUgYW4gbmdJZiBvbiBpdCB0aGF0IGluc2VydHMgY29tbWVudHMgd2hpY2ggd2VcclxuICAgICAgICAvLyBtdXN0IHByZXNlcnZlLlxyXG4gICAgICAgIC8vIEluc3RlYWQsIGl0ZXJhdGUgb3ZlciB0aGUgY3VycmVudCBvcHRpb24gZWxlbWVudHMgYW5kIHJlbW92ZSB0aGVtIG9yIHRoZWlyIG9wdGdyb3VwXHJcbiAgICAgICAgLy8gcGFyZW50c1xyXG4gICAgICAgIGlmIChvcHRpb25zKSB7XHJcblxyXG4gICAgICAgICAgZm9yICh2YXIgaSA9IG9wdGlvbnMuaXRlbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgICAgdmFyIG9wdGlvbiA9IG9wdGlvbnMuaXRlbXNbaV07XHJcbiAgICAgICAgICAgIGlmIChpc0RlZmluZWQob3B0aW9uLmdyb3VwKSkge1xyXG4gICAgICAgICAgICAgIGpxTGl0ZVJlbW92ZShvcHRpb24uZWxlbWVudC5wYXJlbnROb2RlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICBqcUxpdGVSZW1vdmUob3B0aW9uLmVsZW1lbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBvcHRpb25zID0gbmdPcHRpb25zLmdldE9wdGlvbnMoKTtcclxuXHJcbiAgICAgICAgdmFyIGdyb3VwRWxlbWVudE1hcCA9IHt9O1xyXG5cclxuICAgICAgICBvcHRpb25zLml0ZW1zLmZvckVhY2goZnVuY3Rpb24gYWRkT3B0aW9uKG9wdGlvbikge1xyXG4gICAgICAgICAgdmFyIGdyb3VwRWxlbWVudDtcclxuXHJcbiAgICAgICAgICBpZiAoaXNEZWZpbmVkKG9wdGlvbi5ncm91cCkpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIFRoaXMgb3B0aW9uIGlzIHRvIGxpdmUgaW4gYSBncm91cFxyXG4gICAgICAgICAgICAvLyBTZWUgaWYgd2UgaGF2ZSBhbHJlYWR5IGNyZWF0ZWQgdGhpcyBncm91cFxyXG4gICAgICAgICAgICBncm91cEVsZW1lbnQgPSBncm91cEVsZW1lbnRNYXBbb3B0aW9uLmdyb3VwXTtcclxuXHJcbiAgICAgICAgICAgIGlmICghZ3JvdXBFbGVtZW50KSB7XHJcblxyXG4gICAgICAgICAgICAgIGdyb3VwRWxlbWVudCA9IG9wdEdyb3VwVGVtcGxhdGUuY2xvbmVOb2RlKGZhbHNlKTtcclxuICAgICAgICAgICAgICBsaXN0RnJhZ21lbnQuYXBwZW5kQ2hpbGQoZ3JvdXBFbGVtZW50KTtcclxuXHJcbiAgICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSBsYWJlbCBvbiB0aGUgZ3JvdXAgZWxlbWVudFxyXG4gICAgICAgICAgICAgIC8vIFwibnVsbFwiIGlzIHNwZWNpYWwgY2FzZWQgYmVjYXVzZSBvZiBTYWZhcmlcclxuICAgICAgICAgICAgICBncm91cEVsZW1lbnQubGFiZWwgPSBvcHRpb24uZ3JvdXAgPT09IG51bGwgPyAnbnVsbCcgOiBvcHRpb24uZ3JvdXA7XHJcblxyXG4gICAgICAgICAgICAgIC8vIFN0b3JlIGl0IGZvciB1c2UgbGF0ZXJcclxuICAgICAgICAgICAgICBncm91cEVsZW1lbnRNYXBbb3B0aW9uLmdyb3VwXSA9IGdyb3VwRWxlbWVudDtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgYWRkT3B0aW9uRWxlbWVudChvcHRpb24sIGdyb3VwRWxlbWVudCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgLy8gVGhpcyBvcHRpb24gaXMgbm90IGluIGEgZ3JvdXBcclxuICAgICAgICAgICAgYWRkT3B0aW9uRWxlbWVudChvcHRpb24sIGxpc3RGcmFnbWVudCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHNlbGVjdEVsZW1lbnRbMF0uYXBwZW5kQ2hpbGQobGlzdEZyYWdtZW50KTtcclxuXHJcbiAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xyXG5cclxuICAgICAgICAvLyBDaGVjayB0byBzZWUgaWYgdGhlIHZhbHVlIGhhcyBjaGFuZ2VkIGR1ZSB0byB0aGUgdXBkYXRlIHRvIHRoZSBvcHRpb25zXHJcbiAgICAgICAgaWYgKCFuZ01vZGVsQ3RybC4kaXNFbXB0eShwcmV2aW91c1ZhbHVlKSkge1xyXG4gICAgICAgICAgdmFyIG5leHRWYWx1ZSA9IHNlbGVjdEN0cmwucmVhZFZhbHVlKCk7XHJcbiAgICAgICAgICB2YXIgaXNOb3RQcmltaXRpdmUgPSBuZ09wdGlvbnMudHJhY2tCeSB8fCBtdWx0aXBsZTtcclxuICAgICAgICAgIGlmIChpc05vdFByaW1pdGl2ZSA/ICFlcXVhbHMocHJldmlvdXNWYWx1ZSwgbmV4dFZhbHVlKSA6IHByZXZpb3VzVmFsdWUgIT09IG5leHRWYWx1ZSkge1xyXG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKG5leHRWYWx1ZSk7XHJcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICB0ZXJtaW5hbDogdHJ1ZSxcclxuICAgICAgcmVxdWlyZTogWydzZWxlY3QnLCAnbmdNb2RlbCddLFxyXG4gICAgICBsaW5rOiB7XHJcbiAgICAgICAgcHJlOiBmdW5jdGlvbiBuZ09wdGlvbnNQcmVMaW5rKHNjb3BlLCBzZWxlY3RFbGVtZW50LCBhdHRyLCBjdHJscykge1xyXG4gICAgICAgICAgLy8gRGVhY3RpdmF0ZSB0aGUgU2VsZWN0Q29udHJvbGxlci5yZWdpc3RlciBtZXRob2QgdG8gcHJldmVudFxyXG4gICAgICAgICAgLy8gb3B0aW9uIGRpcmVjdGl2ZXMgZnJvbSBhY2NpZGVudGFsbHkgcmVnaXN0ZXJpbmcgdGhlbXNlbHZlc1xyXG4gICAgICAgICAgLy8gKGFuZCB1bndhbnRlZCAkZGVzdHJveSBoYW5kbGVycyBldGMuKVxyXG4gICAgICAgICAgY3RybHNbMF0ucmVnaXN0ZXJPcHRpb24gPSBub29wO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcG9zdDogbmdPcHRpb25zUG9zdExpbmtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nUGx1cmFsaXplXHJcbiAgICogQHJlc3RyaWN0IEVBXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBgbmdQbHVyYWxpemVgIGlzIGEgZGlyZWN0aXZlIHRoYXQgZGlzcGxheXMgbWVzc2FnZXMgYWNjb3JkaW5nIHRvIGVuLVVTIGxvY2FsaXphdGlvbiBydWxlcy5cclxuICAgKiBUaGVzZSBydWxlcyBhcmUgYnVuZGxlZCB3aXRoIGFuZ3VsYXIuanMsIGJ1dCBjYW4gYmUgb3ZlcnJpZGRlblxyXG4gICAqIChzZWUge0BsaW5rIGd1aWRlL2kxOG4gQW5ndWxhciBpMThufSBkZXYgZ3VpZGUpLiBZb3UgY29uZmlndXJlIG5nUGx1cmFsaXplIGRpcmVjdGl2ZVxyXG4gICAqIGJ5IHNwZWNpZnlpbmcgdGhlIG1hcHBpbmdzIGJldHdlZW5cclxuICAgKiBbcGx1cmFsIGNhdGVnb3JpZXNdKGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcy9jbGRyLXRtcC90cnVuay9kaWZmL3N1cHBsZW1lbnRhbC9sYW5ndWFnZV9wbHVyYWxfcnVsZXMuaHRtbClcclxuICAgKiBhbmQgdGhlIHN0cmluZ3MgdG8gYmUgZGlzcGxheWVkLlxyXG4gICAqXHJcbiAgICogIyBQbHVyYWwgY2F0ZWdvcmllcyBhbmQgZXhwbGljaXQgbnVtYmVyIHJ1bGVzXHJcbiAgICogVGhlcmUgYXJlIHR3b1xyXG4gICAqIFtwbHVyYWwgY2F0ZWdvcmllc10oaHR0cDovL3VuaWNvZGUub3JnL3JlcG9zL2NsZHItdG1wL3RydW5rL2RpZmYvc3VwcGxlbWVudGFsL2xhbmd1YWdlX3BsdXJhbF9ydWxlcy5odG1sKVxyXG4gICAqIGluIEFuZ3VsYXIncyBkZWZhdWx0IGVuLVVTIGxvY2FsZTogXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxyXG4gICAqXHJcbiAgICogV2hpbGUgYSBwbHVyYWwgY2F0ZWdvcnkgbWF5IG1hdGNoIG1hbnkgbnVtYmVycyAoZm9yIGV4YW1wbGUsIGluIGVuLVVTIGxvY2FsZSwgXCJvdGhlclwiIGNhbiBtYXRjaFxyXG4gICAqIGFueSBudW1iZXIgdGhhdCBpcyBub3QgMSksIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGNhbiBvbmx5IG1hdGNoIG9uZSBudW1iZXIuIEZvciBleGFtcGxlLCB0aGVcclxuICAgKiBleHBsaWNpdCBudW1iZXIgcnVsZSBmb3IgXCIzXCIgbWF0Y2hlcyB0aGUgbnVtYmVyIDMuIFRoZXJlIGFyZSBleGFtcGxlcyBvZiBwbHVyYWwgY2F0ZWdvcmllc1xyXG4gICAqIGFuZCBleHBsaWNpdCBudW1iZXIgcnVsZXMgdGhyb3VnaG91dCB0aGUgcmVzdCBvZiB0aGlzIGRvY3VtZW50YXRpb24uXHJcbiAgICpcclxuICAgKiAjIENvbmZpZ3VyaW5nIG5nUGx1cmFsaXplXHJcbiAgICogWW91IGNvbmZpZ3VyZSBuZ1BsdXJhbGl6ZSBieSBwcm92aWRpbmcgMiBhdHRyaWJ1dGVzOiBgY291bnRgIGFuZCBgd2hlbmAuXHJcbiAgICogWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYXR0cmlidXRlLCBgb2Zmc2V0YC5cclxuICAgKlxyXG4gICAqIFRoZSB2YWx1ZSBvZiB0aGUgYGNvdW50YCBhdHRyaWJ1dGUgY2FuIGJlIGVpdGhlciBhIHN0cmluZyBvciBhbiB7QGxpbmsgZ3VpZGUvZXhwcmVzc2lvblxyXG4gICAqIEFuZ3VsYXIgZXhwcmVzc2lvbn07IHRoZXNlIGFyZSBldmFsdWF0ZWQgb24gdGhlIGN1cnJlbnQgc2NvcGUgZm9yIGl0cyBib3VuZCB2YWx1ZS5cclxuICAgKlxyXG4gICAqIFRoZSBgd2hlbmAgYXR0cmlidXRlIHNwZWNpZmllcyB0aGUgbWFwcGluZ3MgYmV0d2VlbiBwbHVyYWwgY2F0ZWdvcmllcyBhbmQgdGhlIGFjdHVhbFxyXG4gICAqIHN0cmluZyB0byBiZSBkaXNwbGF5ZWQuIFRoZSB2YWx1ZSBvZiB0aGUgYXR0cmlidXRlIHNob3VsZCBiZSBhIEpTT04gb2JqZWN0LlxyXG4gICAqXHJcbiAgICogVGhlIGZvbGxvd2luZyBleGFtcGxlIHNob3dzIGhvdyB0byBjb25maWd1cmUgbmdQbHVyYWxpemU6XHJcbiAgICpcclxuICAgKiBgYGBodG1sXHJcbiAgICogPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcclxuICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJzEgcGVyc29uIGlzIHZpZXdpbmcuJyxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XHJcbiAgICogPC9uZy1wbHVyYWxpemU+XHJcbiAgICpgYGBcclxuICAgKlxyXG4gICAqIEluIHRoZSBleGFtcGxlLCBgXCIwOiBOb2JvZHkgaXMgdmlld2luZy5cImAgaXMgYW4gZXhwbGljaXQgbnVtYmVyIHJ1bGUuIElmIHlvdSBkaWQgbm90XHJcbiAgICogc3BlY2lmeSB0aGlzIHJ1bGUsIDAgd291bGQgYmUgbWF0Y2hlZCB0byB0aGUgXCJvdGhlclwiIGNhdGVnb3J5IGFuZCBcIjAgcGVvcGxlIGFyZSB2aWV3aW5nXCJcclxuICAgKiB3b3VsZCBiZSBzaG93biBpbnN0ZWFkIG9mIFwiTm9ib2R5IGlzIHZpZXdpbmdcIi4gWW91IGNhbiBzcGVjaWZ5IGFuIGV4cGxpY2l0IG51bWJlciBydWxlIGZvclxyXG4gICAqIG90aGVyIG51bWJlcnMsIGZvciBleGFtcGxlIDEyLCBzbyB0aGF0IGluc3RlYWQgb2Ygc2hvd2luZyBcIjEyIHBlb3BsZSBhcmUgdmlld2luZ1wiLCB5b3UgY2FuXHJcbiAgICogc2hvdyBcImEgZG96ZW4gcGVvcGxlIGFyZSB2aWV3aW5nXCIuXHJcbiAgICpcclxuICAgKiBZb3UgY2FuIHVzZSBhIHNldCBvZiBjbG9zZWQgYnJhY2VzIChge31gKSBhcyBhIHBsYWNlaG9sZGVyIGZvciB0aGUgbnVtYmVyIHRoYXQgeW91IHdhbnQgc3Vic3RpdHV0ZWRcclxuICAgKiBpbnRvIHBsdXJhbGl6ZWQgc3RyaW5ncy4gSW4gdGhlIHByZXZpb3VzIGV4YW1wbGUsIEFuZ3VsYXIgd2lsbCByZXBsYWNlIGB7fWAgd2l0aFxyXG4gICAqIDxzcGFuIG5nLW5vbi1iaW5kYWJsZT5ge3twZXJzb25Db3VudH19YDwvc3Bhbj4uIFRoZSBjbG9zZWQgYnJhY2VzIGB7fWAgaXMgYSBwbGFjZWhvbGRlclxyXG4gICAqIGZvciA8c3BhbiBuZy1ub24tYmluZGFibGU+e3tudW1iZXJFeHByZXNzaW9ufX08L3NwYW4+LlxyXG4gICAqXHJcbiAgICogSWYgbm8gcnVsZSBpcyBkZWZpbmVkIGZvciBhIGNhdGVnb3J5LCB0aGVuIGFuIGVtcHR5IHN0cmluZyBpcyBkaXNwbGF5ZWQgYW5kIGEgd2FybmluZyBpcyBnZW5lcmF0ZWQuXHJcbiAgICogTm90ZSB0aGF0IHNvbWUgbG9jYWxlcyBkZWZpbmUgbW9yZSBjYXRlZ29yaWVzIHRoYW4gYG9uZWAgYW5kIGBvdGhlcmAuIEZvciBleGFtcGxlLCBmci1mciBkZWZpbmVzIGBmZXdgIGFuZCBgbWFueWAuXHJcbiAgICpcclxuICAgKiAjIENvbmZpZ3VyaW5nIG5nUGx1cmFsaXplIHdpdGggb2Zmc2V0XHJcbiAgICogVGhlIGBvZmZzZXRgIGF0dHJpYnV0ZSBhbGxvd3MgZnVydGhlciBjdXN0b21pemF0aW9uIG9mIHBsdXJhbGl6ZWQgdGV4dCwgd2hpY2ggY2FuIHJlc3VsdCBpblxyXG4gICAqIGEgYmV0dGVyIHVzZXIgZXhwZXJpZW5jZS4gRm9yIGV4YW1wbGUsIGluc3RlYWQgb2YgdGhlIG1lc3NhZ2UgXCI0IHBlb3BsZSBhcmUgdmlld2luZyB0aGlzIGRvY3VtZW50XCIsXHJcbiAgICogeW91IG1pZ2h0IGRpc3BsYXkgXCJKb2huLCBLYXRlIGFuZCAyIG90aGVycyBhcmUgdmlld2luZyB0aGlzIGRvY3VtZW50XCIuXHJcbiAgICogVGhlIG9mZnNldCBhdHRyaWJ1dGUgYWxsb3dzIHlvdSB0byBvZmZzZXQgYSBudW1iZXIgYnkgYW55IGRlc2lyZWQgdmFsdWUuXHJcbiAgICogTGV0J3MgdGFrZSBhIGxvb2sgYXQgYW4gZXhhbXBsZTpcclxuICAgKlxyXG4gICAqIGBgYGh0bWxcclxuICAgKiA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIiBvZmZzZXQ9MlxyXG4gICAqICAgICAgICAgICAgICAgd2hlbj1cInsnMCc6ICdOb2JvZHkgaXMgdmlld2luZy4nLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICcxJzogJ3t7cGVyc29uMX19IGlzIHZpZXdpbmcuJyxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAnMic6ICd7e3BlcnNvbjF9fSBhbmQge3twZXJzb24yfX0gYXJlIHZpZXdpbmcuJyxcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAnb25lJzogJ3t7cGVyc29uMX19LCB7e3BlcnNvbjJ9fSBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nLFxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICdvdGhlcic6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIHt9IG90aGVyIHBlb3BsZSBhcmUgdmlld2luZy4nfVwiPlxyXG4gICAqIDwvbmctcGx1cmFsaXplPlxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogTm90aWNlIHRoYXQgd2UgYXJlIHN0aWxsIHVzaW5nIHR3byBwbHVyYWwgY2F0ZWdvcmllcyhvbmUsIG90aGVyKSwgYnV0IHdlIGFkZGVkXHJcbiAgICogdGhyZWUgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIDAsIDEgYW5kIDIuXHJcbiAgICogV2hlbiBvbmUgcGVyc29uLCBwZXJoYXBzIEpvaG4sIHZpZXdzIHRoZSBkb2N1bWVudCwgXCJKb2huIGlzIHZpZXdpbmdcIiB3aWxsIGJlIHNob3duLlxyXG4gICAqIFdoZW4gdGhyZWUgcGVvcGxlIHZpZXcgdGhlIGRvY3VtZW50LCBubyBleHBsaWNpdCBudW1iZXIgcnVsZSBpcyBmb3VuZCwgc29cclxuICAgKiBhbiBvZmZzZXQgb2YgMiBpcyB0YWtlbiBvZmYgMywgYW5kIEFuZ3VsYXIgdXNlcyAxIHRvIGRlY2lkZSB0aGUgcGx1cmFsIGNhdGVnb3J5LlxyXG4gICAqIEluIHRoaXMgY2FzZSwgcGx1cmFsIGNhdGVnb3J5ICdvbmUnIGlzIG1hdGNoZWQgYW5kIFwiSm9obiwgTWFyeSBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZ1wiXHJcbiAgICogaXMgc2hvd24uXHJcbiAgICpcclxuICAgKiBOb3RlIHRoYXQgd2hlbiB5b3Ugc3BlY2lmeSBvZmZzZXRzLCB5b3UgbXVzdCBwcm92aWRlIGV4cGxpY2l0IG51bWJlciBydWxlcyBmb3JcclxuICAgKiBudW1iZXJzIGZyb20gMCB1cCB0byBhbmQgaW5jbHVkaW5nIHRoZSBvZmZzZXQuIElmIHlvdSB1c2UgYW4gb2Zmc2V0IG9mIDMsIGZvciBleGFtcGxlLFxyXG4gICAqIHlvdSBtdXN0IHByb3ZpZGUgZXhwbGljaXQgbnVtYmVyIHJ1bGVzIGZvciAwLCAxLCAyIGFuZCAzLiBZb3UgbXVzdCBhbHNvIHByb3ZpZGUgcGx1cmFsIHN0cmluZ3MgZm9yXHJcbiAgICogcGx1cmFsIGNhdGVnb3JpZXMgXCJvbmVcIiBhbmQgXCJvdGhlclwiLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtzdHJpbmd8ZXhwcmVzc2lvbn0gY291bnQgVGhlIHZhcmlhYmxlIHRvIGJlIGJvdW5kIHRvLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB3aGVuIFRoZSBtYXBwaW5nIGJldHdlZW4gcGx1cmFsIGNhdGVnb3J5IHRvIGl0cyBjb3JyZXNwb25kaW5nIHN0cmluZ3MuXHJcbiAgICogQHBhcmFtIHtudW1iZXI9fSBvZmZzZXQgT2Zmc2V0IHRvIGRlZHVjdCBmcm9tIHRoZSB0b3RhbCBudW1iZXIuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAgICA8ZXhhbXBsZSBtb2R1bGU9XCJwbHVyYWxpemVFeGFtcGxlXCIgbmFtZT1cIm5nLXBsdXJhbGl6ZVwiPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgICA8c2NyaXB0PlxyXG4gICAgICAgICAgICBhbmd1bGFyLm1vZHVsZSgncGx1cmFsaXplRXhhbXBsZScsIFtdKVxyXG4gICAgICAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICAgICAgICAgICAgICAkc2NvcGUucGVyc29uMSA9ICdJZ29yJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5wZXJzb24yID0gJ01pc2tvJztcclxuICAgICAgICAgICAgICAgICRzY29wZS5wZXJzb25Db3VudCA9IDE7XHJcbiAgICAgICAgICAgICAgfV0pO1xyXG4gICAgICAgICAgPC9zY3JpcHQ+XHJcbiAgICAgICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAgICAgICAgICA8bGFiZWw+UGVyc29uIDE6PGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJwZXJzb24xXCIgdmFsdWU9XCJJZ29yXCIgLz48L2xhYmVsPjxici8+XHJcbiAgICAgICAgICAgIDxsYWJlbD5QZXJzb24gMjo8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInBlcnNvbjJcIiB2YWx1ZT1cIk1pc2tvXCIgLz48L2xhYmVsPjxici8+XHJcbiAgICAgICAgICAgIDxsYWJlbD5OdW1iZXIgb2YgUGVvcGxlOjxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwicGVyc29uQ291bnRcIiB2YWx1ZT1cIjFcIiAvPjwvbGFiZWw+PGJyLz5cclxuICBcclxuICAgICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIHNpbXBsZSBwbHVyYWxpemF0aW9uIHJ1bGVzIGZvciBlbiBsb2NhbGUgLS0tPlxyXG4gICAgICAgICAgICBXaXRob3V0IE9mZnNldDpcclxuICAgICAgICAgICAgPG5nLXBsdXJhbGl6ZSBjb3VudD1cInBlcnNvbkNvdW50XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICB3aGVuPVwieycwJzogJ05vYm9keSBpcyB2aWV3aW5nLicsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICdvbmUnOiAnMSBwZXJzb24gaXMgdmlld2luZy4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnb3RoZXInOiAne30gcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XHJcbiAgICAgICAgICAgIDwvbmctcGx1cmFsaXplPjxicj5cclxuICBcclxuICAgICAgICAgICAgPCEtLS0gRXhhbXBsZSB3aXRoIG9mZnNldCAtLS0+XHJcbiAgICAgICAgICAgIFdpdGggT2Zmc2V0KDIpOlxyXG4gICAgICAgICAgICA8bmctcGx1cmFsaXplIGNvdW50PVwicGVyc29uQ291bnRcIiBvZmZzZXQ9MlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHdoZW49XCJ7JzAnOiAnTm9ib2R5IGlzIHZpZXdpbmcuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzEnOiAne3twZXJzb24xfX0gaXMgdmlld2luZy4nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAnMic6ICd7e3BlcnNvbjF9fSBhbmQge3twZXJzb24yfX0gYXJlIHZpZXdpbmcuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ29uZSc6ICd7e3BlcnNvbjF9fSwge3twZXJzb24yfX0gYW5kIG9uZSBvdGhlciBwZXJzb24gYXJlIHZpZXdpbmcuJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ290aGVyJzogJ3t7cGVyc29uMX19LCB7e3BlcnNvbjJ9fSBhbmQge30gb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLid9XCI+XHJcbiAgICAgICAgICAgIDwvbmctcGx1cmFsaXplPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgIGl0KCdzaG91bGQgc2hvdyBjb3JyZWN0IHBsdXJhbGl6ZWQgc3RyaW5nJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHZhciB3aXRob3V0T2Zmc2V0ID0gZWxlbWVudC5hbGwoYnkuY3NzKCduZy1wbHVyYWxpemUnKSkuZ2V0KDApO1xyXG4gICAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcclxuICAgICAgICAgICAgdmFyIGNvdW50SW5wdXQgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb25Db3VudCcpKTtcclxuICBcclxuICAgICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCcxIHBlcnNvbiBpcyB2aWV3aW5nLicpO1xyXG4gICAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgaXMgdmlld2luZy4nKTtcclxuICBcclxuICAgICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCcwJyk7XHJcbiAgXHJcbiAgICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnTm9ib2R5IGlzIHZpZXdpbmcuJyk7XHJcbiAgXHJcbiAgICAgICAgICAgIGNvdW50SW5wdXQuY2xlYXIoKTtcclxuICAgICAgICAgICAgY291bnRJbnB1dC5zZW5kS2V5cygnMicpO1xyXG4gIFxyXG4gICAgICAgICAgICBleHBlY3Qod2l0aG91dE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJzIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xyXG4gICAgICAgICAgICBleHBlY3Qod2l0aE9mZnNldC5nZXRUZXh0KCkpLnRvRXF1YWwoJ0lnb3IgYW5kIE1pc2tvIGFyZSB2aWV3aW5nLicpO1xyXG4gIFxyXG4gICAgICAgICAgICBjb3VudElucHV0LmNsZWFyKCk7XHJcbiAgICAgICAgICAgIGNvdW50SW5wdXQuc2VuZEtleXMoJzMnKTtcclxuICBcclxuICAgICAgICAgICAgZXhwZWN0KHdpdGhvdXRPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCczIHBlb3BsZSBhcmUgdmlld2luZy4nKTtcclxuICAgICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdJZ29yLCBNaXNrbyBhbmQgb25lIG90aGVyIHBlcnNvbiBhcmUgdmlld2luZy4nKTtcclxuICBcclxuICAgICAgICAgICAgY291bnRJbnB1dC5jbGVhcigpO1xyXG4gICAgICAgICAgICBjb3VudElucHV0LnNlbmRLZXlzKCc0Jyk7XHJcbiAgXHJcbiAgICAgICAgICAgIGV4cGVjdCh3aXRob3V0T2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnNCBwZW9wbGUgYXJlIHZpZXdpbmcuJyk7XHJcbiAgICAgICAgICAgIGV4cGVjdCh3aXRoT2Zmc2V0LmdldFRleHQoKSkudG9FcXVhbCgnSWdvciwgTWlza28gYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBpdCgnc2hvdWxkIHNob3cgZGF0YS1ib3VuZCBuYW1lcycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICB2YXIgd2l0aE9mZnNldCA9IGVsZW1lbnQuYWxsKGJ5LmNzcygnbmctcGx1cmFsaXplJykpLmdldCgxKTtcclxuICAgICAgICAgICAgdmFyIHBlcnNvbkNvdW50ID0gZWxlbWVudChieS5tb2RlbCgncGVyc29uQ291bnQnKSk7XHJcbiAgICAgICAgICAgIHZhciBwZXJzb24xID0gZWxlbWVudChieS5tb2RlbCgncGVyc29uMScpKTtcclxuICAgICAgICAgICAgdmFyIHBlcnNvbjIgPSBlbGVtZW50KGJ5Lm1vZGVsKCdwZXJzb24yJykpO1xyXG4gICAgICAgICAgICBwZXJzb25Db3VudC5jbGVhcigpO1xyXG4gICAgICAgICAgICBwZXJzb25Db3VudC5zZW5kS2V5cygnNCcpO1xyXG4gICAgICAgICAgICBwZXJzb24xLmNsZWFyKCk7XHJcbiAgICAgICAgICAgIHBlcnNvbjEuc2VuZEtleXMoJ0RpJyk7XHJcbiAgICAgICAgICAgIHBlcnNvbjIuY2xlYXIoKTtcclxuICAgICAgICAgICAgcGVyc29uMi5zZW5kS2V5cygnVm9qdGEnKTtcclxuICAgICAgICAgICAgZXhwZWN0KHdpdGhPZmZzZXQuZ2V0VGV4dCgpKS50b0VxdWFsKCdEaSwgVm9qdGEgYW5kIDIgb3RoZXIgcGVvcGxlIGFyZSB2aWV3aW5nLicpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG5nUGx1cmFsaXplRGlyZWN0aXZlID0gWyckbG9jYWxlJywgJyRpbnRlcnBvbGF0ZScsICckbG9nJywgZnVuY3Rpb24gKCRsb2NhbGUsICRpbnRlcnBvbGF0ZSwgJGxvZykge1xyXG4gICAgdmFyIEJSQUNFID0gL3t9L2csXHJcbiAgICAgICAgSVNfV0hFTiA9IC9ed2hlbihNaW51cyk/KC4rKSQvO1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICB2YXIgbnVtYmVyRXhwID0gYXR0ci5jb3VudCxcclxuICAgICAgICAgICAgd2hlbkV4cCA9IGF0dHIuJGF0dHIud2hlbiAmJiBlbGVtZW50LmF0dHIoYXR0ci4kYXR0ci53aGVuKSxcclxuICAgICAgICAgICAgLy8gd2UgaGF2ZSB7e319IGluIGF0dHJzXHJcbiAgICAgICAgb2Zmc2V0ID0gYXR0ci5vZmZzZXQgfHwgMCxcclxuICAgICAgICAgICAgd2hlbnMgPSBzY29wZS4kZXZhbCh3aGVuRXhwKSB8fCB7fSxcclxuICAgICAgICAgICAgd2hlbnNFeHBGbnMgPSB7fSxcclxuICAgICAgICAgICAgc3RhcnRTeW1ib2wgPSAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSxcclxuICAgICAgICAgICAgZW5kU3ltYm9sID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpLFxyXG4gICAgICAgICAgICBicmFjZVJlcGxhY2VtZW50ID0gc3RhcnRTeW1ib2wgKyBudW1iZXJFeHAgKyAnLScgKyBvZmZzZXQgKyBlbmRTeW1ib2wsXHJcbiAgICAgICAgICAgIHdhdGNoUmVtb3ZlciA9IGFuZ3VsYXIubm9vcCxcclxuICAgICAgICAgICAgbGFzdENvdW50O1xyXG5cclxuICAgICAgICBmb3JFYWNoKGF0dHIsIGZ1bmN0aW9uIChleHByZXNzaW9uLCBhdHRyaWJ1dGVOYW1lKSB7XHJcbiAgICAgICAgICB2YXIgdG1wTWF0Y2ggPSBJU19XSEVOLmV4ZWMoYXR0cmlidXRlTmFtZSk7XHJcbiAgICAgICAgICBpZiAodG1wTWF0Y2gpIHtcclxuICAgICAgICAgICAgdmFyIHdoZW5LZXkgPSAodG1wTWF0Y2hbMV0gPyAnLScgOiAnJykgKyBsb3dlcmNhc2UodG1wTWF0Y2hbMl0pO1xyXG4gICAgICAgICAgICB3aGVuc1t3aGVuS2V5XSA9IGVsZW1lbnQuYXR0cihhdHRyLiRhdHRyW2F0dHJpYnV0ZU5hbWVdKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICBmb3JFYWNoKHdoZW5zLCBmdW5jdGlvbiAoZXhwcmVzc2lvbiwga2V5KSB7XHJcbiAgICAgICAgICB3aGVuc0V4cEZuc1trZXldID0gJGludGVycG9sYXRlKGV4cHJlc3Npb24ucmVwbGFjZShCUkFDRSwgYnJhY2VSZXBsYWNlbWVudCkpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzY29wZS4kd2F0Y2gobnVtYmVyRXhwLCBmdW5jdGlvbiBuZ1BsdXJhbGl6ZVdhdGNoQWN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgdmFyIGNvdW50ID0gcGFyc2VGbG9hdChuZXdWYWwpO1xyXG4gICAgICAgICAgdmFyIGNvdW50SXNOYU4gPSBpc051bWJlck5hTihjb3VudCk7XHJcblxyXG4gICAgICAgICAgaWYgKCFjb3VudElzTmFOICYmICEoY291bnQgaW4gd2hlbnMpKSB7XHJcbiAgICAgICAgICAgIC8vIElmIGFuIGV4cGxpY2l0IG51bWJlciBydWxlIHN1Y2ggYXMgMSwgMiwgMy4uLiBpcyBkZWZpbmVkLCBqdXN0IHVzZSBpdC5cclxuICAgICAgICAgICAgLy8gT3RoZXJ3aXNlLCBjaGVjayBpdCBhZ2FpbnN0IHBsdXJhbGl6YXRpb24gcnVsZXMgaW4gJGxvY2FsZSBzZXJ2aWNlLlxyXG4gICAgICAgICAgICBjb3VudCA9ICRsb2NhbGUucGx1cmFsQ2F0KGNvdW50IC0gb2Zmc2V0KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBJZiBib3RoIGBjb3VudGAgYW5kIGBsYXN0Q291bnRgIGFyZSBOYU4sIHdlIGRvbid0IG5lZWQgdG8gcmUtcmVnaXN0ZXIgYSB3YXRjaC5cclxuICAgICAgICAgIC8vIEluIEpTIGBOYU4gIT09IE5hTmAsIHNvIHdlIGhhdmUgdG8gZXhwbGljaXRseSBjaGVjay5cclxuICAgICAgICAgIGlmIChjb3VudCAhPT0gbGFzdENvdW50ICYmICEoY291bnRJc05hTiAmJiBpc051bWJlck5hTihsYXN0Q291bnQpKSkge1xyXG4gICAgICAgICAgICB3YXRjaFJlbW92ZXIoKTtcclxuICAgICAgICAgICAgdmFyIHdoZW5FeHBGbiA9IHdoZW5zRXhwRm5zW2NvdW50XTtcclxuICAgICAgICAgICAgaWYgKGlzVW5kZWZpbmVkKHdoZW5FeHBGbikpIHtcclxuICAgICAgICAgICAgICBpZiAobmV3VmFsICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICRsb2cuZGVidWcoJ25nUGx1cmFsaXplOiBubyBydWxlIGRlZmluZWQgZm9yIFxcJycgKyBjb3VudCArICdcXCcgaW4gJyArIHdoZW5FeHApO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB3YXRjaFJlbW92ZXIgPSBub29wO1xyXG4gICAgICAgICAgICAgIHVwZGF0ZUVsZW1lbnRUZXh0KCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgd2F0Y2hSZW1vdmVyID0gc2NvcGUuJHdhdGNoKHdoZW5FeHBGbiwgdXBkYXRlRWxlbWVudFRleHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxhc3RDb3VudCA9IGNvdW50O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBmdW5jdGlvbiB1cGRhdGVFbGVtZW50VGV4dChuZXdUZXh0KSB7XHJcbiAgICAgICAgICBlbGVtZW50LnRleHQobmV3VGV4dCB8fCAnJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG5cclxuICAvKiBleHBvcnRlZCBuZ1JlcGVhdERpcmVjdGl2ZSAqL1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdSZXBlYXRcclxuICAgKiBAbXVsdGlFbGVtZW50XHJcbiAgICogQHJlc3RyaWN0IEFcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoZSBgbmdSZXBlYXRgIGRpcmVjdGl2ZSBpbnN0YW50aWF0ZXMgYSB0ZW1wbGF0ZSBvbmNlIHBlciBpdGVtIGZyb20gYSBjb2xsZWN0aW9uLiBFYWNoIHRlbXBsYXRlXHJcbiAgICogaW5zdGFuY2UgZ2V0cyBpdHMgb3duIHNjb3BlLCB3aGVyZSB0aGUgZ2l2ZW4gbG9vcCB2YXJpYWJsZSBpcyBzZXQgdG8gdGhlIGN1cnJlbnQgY29sbGVjdGlvbiBpdGVtLFxyXG4gICAqIGFuZCBgJGluZGV4YCBpcyBzZXQgdG8gdGhlIGl0ZW0gaW5kZXggb3Iga2V5LlxyXG4gICAqXHJcbiAgICogU3BlY2lhbCBwcm9wZXJ0aWVzIGFyZSBleHBvc2VkIG9uIHRoZSBsb2NhbCBzY29wZSBvZiBlYWNoIHRlbXBsYXRlIGluc3RhbmNlLCBpbmNsdWRpbmc6XHJcbiAgICpcclxuICAgKiB8IFZhcmlhYmxlICB8IFR5cGUgICAgICAgICAgICB8IERldGFpbHMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICogfC0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gICAqIHwgYCRpbmRleGAgIHwge0B0eXBlIG51bWJlcn0gIHwgaXRlcmF0b3Igb2Zmc2V0IG9mIHRoZSByZXBlYXRlZCBlbGVtZW50ICgwLi5sZW5ndGgtMSkgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgKiB8IGAkZmlyc3RgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIHJlcGVhdGVkIGVsZW1lbnQgaXMgZmlyc3QgaW4gdGhlIGl0ZXJhdG9yLiAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICogfCBgJG1pZGRsZWAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSByZXBlYXRlZCBlbGVtZW50IGlzIGJldHdlZW4gdGhlIGZpcnN0IGFuZCBsYXN0IGluIHRoZSBpdGVyYXRvci4gfFxyXG4gICAqIHwgYCRsYXN0YCAgIHwge0B0eXBlIGJvb2xlYW59IHwgdHJ1ZSBpZiB0aGUgcmVwZWF0ZWQgZWxlbWVudCBpcyBsYXN0IGluIHRoZSBpdGVyYXRvci4gICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgKiB8IGAkZXZlbmAgICB8IHtAdHlwZSBib29sZWFufSB8IHRydWUgaWYgdGhlIGl0ZXJhdG9yIHBvc2l0aW9uIGAkaW5kZXhgIGlzIGV2ZW4gKG90aGVyd2lzZSBmYWxzZSkuICAgICAgICAgICB8XHJcbiAgICogfCBgJG9kZGAgICAgfCB7QHR5cGUgYm9vbGVhbn0gfCB0cnVlIGlmIHRoZSBpdGVyYXRvciBwb3NpdGlvbiBgJGluZGV4YCBpcyBvZGQgKG90aGVyd2lzZSBmYWxzZSkuICAgICAgICAgICAgfFxyXG4gICAqXHJcbiAgICogPGRpdiBjbGFzcz1cImFsZXJ0IGFsZXJ0LWluZm9cIj5cclxuICAgKiAgIENyZWF0aW5nIGFsaWFzZXMgZm9yIHRoZXNlIHByb3BlcnRpZXMgaXMgcG9zc2libGUgd2l0aCB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nSW5pdCBgbmdJbml0YH0uXHJcbiAgICogICBUaGlzIG1heSBiZSB1c2VmdWwgd2hlbiwgZm9yIGluc3RhbmNlLCBuZXN0aW5nIG5nUmVwZWF0cy5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqXHJcbiAgICogIyBJdGVyYXRpbmcgb3ZlciBvYmplY3QgcHJvcGVydGllc1xyXG4gICAqXHJcbiAgICogSXQgaXMgcG9zc2libGUgdG8gZ2V0IGBuZ1JlcGVhdGAgdG8gaXRlcmF0ZSBvdmVyIHRoZSBwcm9wZXJ0aWVzIG9mIGFuIG9iamVjdCB1c2luZyB0aGUgZm9sbG93aW5nXHJcbiAgICogc3ludGF4OlxyXG4gICAqXHJcbiAgICogYGBganNcclxuICAgKiA8ZGl2IG5nLXJlcGVhdD1cIihrZXksIHZhbHVlKSBpbiBteU9ialwiPiAuLi4gPC9kaXY+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBIb3dldmVyLCB0aGVyZSBhcmUgYSBmZXcgbGltaXRhdGlvbnMgY29tcGFyZWQgdG8gYXJyYXkgaXRlcmF0aW9uOlxyXG4gICAqXHJcbiAgICogLSBUaGUgSmF2YVNjcmlwdCBzcGVjaWZpY2F0aW9uIGRvZXMgbm90IGRlZmluZSB0aGUgb3JkZXIgb2Yga2V5c1xyXG4gICAqICAgcmV0dXJuZWQgZm9yIGFuIG9iamVjdCwgc28gQW5ndWxhciByZWxpZXMgb24gdGhlIG9yZGVyIHJldHVybmVkIGJ5IHRoZSBicm93c2VyXHJcbiAgICogICB3aGVuIHJ1bm5pbmcgYGZvciBrZXkgaW4gbXlPYmpgLiBCcm93c2VycyBnZW5lcmFsbHkgZm9sbG93IHRoZSBzdHJhdGVneSBvZiBwcm92aWRpbmdcclxuICAgKiAgIGtleXMgaW4gdGhlIG9yZGVyIGluIHdoaWNoIHRoZXkgd2VyZSBkZWZpbmVkLCBhbHRob3VnaCB0aGVyZSBhcmUgZXhjZXB0aW9ucyB3aGVuIGtleXMgYXJlIGRlbGV0ZWRcclxuICAgKiAgIGFuZCByZWluc3RhdGVkLiBTZWUgdGhlXHJcbiAgICogICBbTUROIHBhZ2Ugb24gYGRlbGV0ZWAgZm9yIG1vcmUgaW5mb10oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvT3BlcmF0b3JzL2RlbGV0ZSNDcm9zcy1icm93c2VyX25vdGVzKS5cclxuICAgKlxyXG4gICAqIC0gYG5nUmVwZWF0YCB3aWxsIHNpbGVudGx5ICppZ25vcmUqIG9iamVjdCBrZXlzIHN0YXJ0aW5nIHdpdGggYCRgLCBiZWNhdXNlXHJcbiAgICogICBpdCdzIGEgcHJlZml4IHVzZWQgYnkgQW5ndWxhciBmb3IgcHVibGljIChgJGApIGFuZCBwcml2YXRlIChgJCRgKSBwcm9wZXJ0aWVzLlxyXG4gICAqXHJcbiAgICogLSBUaGUgYnVpbHQtaW4gZmlsdGVycyB7QGxpbmsgbmcub3JkZXJCeSBvcmRlckJ5fSBhbmQge0BsaW5rIG5nLmZpbHRlciBmaWx0ZXJ9IGRvIG5vdCB3b3JrIHdpdGhcclxuICAgKiAgIG9iamVjdHMsIGFuZCB3aWxsIHRocm93IGFuIGVycm9yIGlmIHVzZWQgd2l0aCBvbmUuXHJcbiAgICpcclxuICAgKiBJZiB5b3UgYXJlIGhpdHRpbmcgYW55IG9mIHRoZXNlIGxpbWl0YXRpb25zLCB0aGUgcmVjb21tZW5kZWQgd29ya2Fyb3VuZCBpcyB0byBjb252ZXJ0IHlvdXIgb2JqZWN0IGludG8gYW4gYXJyYXlcclxuICAgKiB0aGF0IGlzIHNvcnRlZCBpbnRvIHRoZSBvcmRlciB0aGF0IHlvdSBwcmVmZXIgYmVmb3JlIHByb3ZpZGluZyBpdCB0byBgbmdSZXBlYXRgLiBZb3UgY291bGRcclxuICAgKiBkbyB0aGlzIHdpdGggYSBmaWx0ZXIgc3VjaCBhcyBbdG9BcnJheUZpbHRlcl0oaHR0cDovL25nbW9kdWxlcy5vcmcvbW9kdWxlcy9hbmd1bGFyLXRvQXJyYXlGaWx0ZXIpXHJcbiAgICogb3IgaW1wbGVtZW50IGEgYCR3YXRjaGAgb24gdGhlIG9iamVjdCB5b3Vyc2VsZi5cclxuICAgKlxyXG4gICAqXHJcbiAgICogIyBUcmFja2luZyBhbmQgRHVwbGljYXRlc1xyXG4gICAqXHJcbiAgICogYG5nUmVwZWF0YCB1c2VzIHtAbGluayAkcm9vdFNjb3BlLlNjb3BlIyR3YXRjaENvbGxlY3Rpb24gJHdhdGNoQ29sbGVjdGlvbn0gdG8gZGV0ZWN0IGNoYW5nZXMgaW5cclxuICAgKiB0aGUgY29sbGVjdGlvbi4gV2hlbiBhIGNoYW5nZSBoYXBwZW5zLCBgbmdSZXBlYXRgIHRoZW4gbWFrZXMgdGhlIGNvcnJlc3BvbmRpbmcgY2hhbmdlcyB0byB0aGUgRE9NOlxyXG4gICAqXHJcbiAgICogKiBXaGVuIGFuIGl0ZW0gaXMgYWRkZWQsIGEgbmV3IGluc3RhbmNlIG9mIHRoZSB0ZW1wbGF0ZSBpcyBhZGRlZCB0byB0aGUgRE9NLlxyXG4gICAqICogV2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQsIGl0cyB0ZW1wbGF0ZSBpbnN0YW5jZSBpcyByZW1vdmVkIGZyb20gdGhlIERPTS5cclxuICAgKiAqIFdoZW4gaXRlbXMgYXJlIHJlb3JkZXJlZCwgdGhlaXIgcmVzcGVjdGl2ZSB0ZW1wbGF0ZXMgYXJlIHJlb3JkZXJlZCBpbiB0aGUgRE9NLlxyXG4gICAqXHJcbiAgICogVG8gbWluaW1pemUgY3JlYXRpb24gb2YgRE9NIGVsZW1lbnRzLCBgbmdSZXBlYXRgIHVzZXMgYSBmdW5jdGlvblxyXG4gICAqIHRvIFwia2VlcCB0cmFja1wiIG9mIGFsbCBpdGVtcyBpbiB0aGUgY29sbGVjdGlvbiBhbmQgdGhlaXIgY29ycmVzcG9uZGluZyBET00gZWxlbWVudHMuXHJcbiAgICogRm9yIGV4YW1wbGUsIGlmIGFuIGl0ZW0gaXMgYWRkZWQgdG8gdGhlIGNvbGxlY3Rpb24sIGBuZ1JlcGVhdGAgd2lsbCBrbm93IHRoYXQgYWxsIG90aGVyIGl0ZW1zXHJcbiAgICogYWxyZWFkeSBoYXZlIERPTSBlbGVtZW50cywgYW5kIHdpbGwgbm90IHJlLXJlbmRlciB0aGVtLlxyXG4gICAqXHJcbiAgICogVGhlIGRlZmF1bHQgdHJhY2tpbmcgZnVuY3Rpb24gKHdoaWNoIHRyYWNrcyBpdGVtcyBieSB0aGVpciBpZGVudGl0eSkgZG9lcyBub3QgYWxsb3dcclxuICAgKiBkdXBsaWNhdGUgaXRlbXMgaW4gYXJyYXlzLiBUaGlzIGlzIGJlY2F1c2Ugd2hlbiB0aGVyZSBhcmUgZHVwbGljYXRlcywgaXQgaXMgbm90IHBvc3NpYmxlXHJcbiAgICogdG8gbWFpbnRhaW4gYSBvbmUtdG8tb25lIG1hcHBpbmcgYmV0d2VlbiBjb2xsZWN0aW9uIGl0ZW1zIGFuZCBET00gZWxlbWVudHMuXHJcbiAgICpcclxuICAgKiBJZiB5b3UgZG8gbmVlZCB0byByZXBlYXQgZHVwbGljYXRlIGl0ZW1zLCB5b3UgY2FuIHN1YnN0aXR1dGUgdGhlIGRlZmF1bHQgdHJhY2tpbmcgYmVoYXZpb3JcclxuICAgKiB3aXRoIHlvdXIgb3duIHVzaW5nIHRoZSBgdHJhY2sgYnlgIGV4cHJlc3Npb24uXHJcbiAgICpcclxuICAgKiBGb3IgZXhhbXBsZSwgeW91IG1heSB0cmFjayBpdGVtcyBieSB0aGUgaW5kZXggb2YgZWFjaCBpdGVtIGluIHRoZSBjb2xsZWN0aW9uLCB1c2luZyB0aGVcclxuICAgKiBzcGVjaWFsIHNjb3BlIHByb3BlcnR5IGAkaW5kZXhgOlxyXG4gICAqIGBgYGh0bWxcclxuICAgKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm4gaW4gWzQyLCA0MiwgNDMsIDQzXSB0cmFjayBieSAkaW5kZXhcIj5cclxuICAgKiAgICAgIHt7bn19XHJcbiAgICogICAgPC9kaXY+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBZb3UgbWF5IGFsc28gdXNlIGFyYml0cmFyeSBleHByZXNzaW9ucyBpbiBgdHJhY2sgYnlgLCBpbmNsdWRpbmcgcmVmZXJlbmNlcyB0byBjdXN0b20gZnVuY3Rpb25zXHJcbiAgICogb24gdGhlIHNjb3BlOlxyXG4gICAqIGBgYGh0bWxcclxuICAgKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm4gaW4gWzQyLCA0MiwgNDMsIDQzXSB0cmFjayBieSBteVRyYWNraW5nRnVuY3Rpb24obilcIj5cclxuICAgKiAgICAgIHt7bn19XHJcbiAgICogICAgPC9kaXY+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtc3VjY2Vzc1wiPlxyXG4gICAqIElmIHlvdSBhcmUgd29ya2luZyB3aXRoIG9iamVjdHMgdGhhdCBoYXZlIGEgdW5pcXVlIGlkZW50aWZpZXIgcHJvcGVydHksIHlvdSBzaG91bGQgdHJhY2tcclxuICAgKiBieSB0aGlzIGlkZW50aWZpZXIgaW5zdGVhZCBvZiB0aGUgb2JqZWN0IGluc3RhbmNlLiBTaG91bGQgeW91IHJlbG9hZCB5b3VyIGRhdGEgbGF0ZXIsIGBuZ1JlcGVhdGBcclxuICAgKiB3aWxsIG5vdCBoYXZlIHRvIHJlYnVpbGQgdGhlIERPTSBlbGVtZW50cyBmb3IgaXRlbXMgaXQgaGFzIGFscmVhZHkgcmVuZGVyZWQsIGV2ZW4gaWYgdGhlXHJcbiAgICogSmF2YVNjcmlwdCBvYmplY3RzIGluIHRoZSBjb2xsZWN0aW9uIGhhdmUgYmVlbiBzdWJzdGl0dXRlZCBmb3IgbmV3IG9uZXMuIEZvciBsYXJnZSBjb2xsZWN0aW9ucyxcclxuICAgKiB0aGlzIHNpZ25pZmljYW50bHkgaW1wcm92ZXMgcmVuZGVyaW5nIHBlcmZvcm1hbmNlLiBJZiB5b3UgZG9uJ3QgaGF2ZSBhIHVuaXF1ZSBpZGVudGlmaWVyLFxyXG4gICAqIGB0cmFjayBieSAkaW5kZXhgIGNhbiBhbHNvIHByb3ZpZGUgYSBwZXJmb3JtYW5jZSBib29zdC5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIGBgYGh0bWxcclxuICAgKiAgICA8ZGl2IG5nLXJlcGVhdD1cIm1vZGVsIGluIGNvbGxlY3Rpb24gdHJhY2sgYnkgbW9kZWwuaWRcIj5cclxuICAgKiAgICAgIHt7bW9kZWwubmFtZX19XHJcbiAgICogICAgPC9kaXY+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiA8YnIgLz5cclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqIEF2b2lkIHVzaW5nIGB0cmFjayBieSAkaW5kZXhgIHdoZW4gdGhlIHJlcGVhdGVkIHRlbXBsYXRlIGNvbnRhaW5zXHJcbiAgICoge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24jb25lLXRpbWUtYmluZGluZyBvbmUtdGltZSBiaW5kaW5nc30uIEluIHN1Y2ggY2FzZXMsIHRoZSBgbnRoYCBET01cclxuICAgKiBlbGVtZW50IHdpbGwgYWx3YXlzIGJlIG1hdGNoZWQgd2l0aCB0aGUgYG50aGAgaXRlbSBvZiB0aGUgYXJyYXksIHNvIHRoZSBiaW5kaW5ncyBvbiB0aGF0IGVsZW1lbnRcclxuICAgKiB3aWxsIG5vdCBiZSB1cGRhdGVkIGV2ZW4gd2hlbiB0aGUgY29ycmVzcG9uZGluZyBpdGVtIGNoYW5nZXMsIGVzc2VudGlhbGx5IGNhdXNpbmcgdGhlIHZpZXcgdG8gZ2V0XHJcbiAgICogb3V0LW9mLXN5bmMgd2l0aCB0aGUgdW5kZXJseWluZyBkYXRhLlxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogV2hlbiBubyBgdHJhY2sgYnlgIGV4cHJlc3Npb24gaXMgcHJvdmlkZWQsIGl0IGlzIGVxdWl2YWxlbnQgdG8gdHJhY2tpbmcgYnkgdGhlIGJ1aWx0LWluXHJcbiAgICogYCRpZGAgZnVuY3Rpb24sIHdoaWNoIHRyYWNrcyBpdGVtcyBieSB0aGVpciBpZGVudGl0eTpcclxuICAgKiBgYGBodG1sXHJcbiAgICogICAgPGRpdiBuZy1yZXBlYXQ9XCJvYmogaW4gY29sbGVjdGlvbiB0cmFjayBieSAkaWQob2JqKVwiPlxyXG4gICAqICAgICAge3tvYmoucHJvcH19XHJcbiAgICogICAgPC9kaXY+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiA8YnIgLz5cclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICoqTm90ZToqKiBgdHJhY2sgYnlgIG11c3QgYWx3YXlzIGJlIHRoZSBsYXN0IGV4cHJlc3Npb246XHJcbiAgICogPC9kaXY+XHJcbiAgICogYGBgXHJcbiAgICogICAgPGRpdiBuZy1yZXBlYXQ9XCJtb2RlbCBpbiBjb2xsZWN0aW9uIHwgb3JkZXJCeTogJ2lkJyBhcyBmaWx0ZXJlZF9yZXN1bHQgdHJhY2sgYnkgbW9kZWwuaWRcIj5cclxuICAgKiAgICAgIHt7bW9kZWwubmFtZX19XHJcbiAgICogICAgPC9kaXY+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKlxyXG4gICAqICMgU3BlY2lhbCByZXBlYXQgc3RhcnQgYW5kIGVuZCBwb2ludHNcclxuICAgKiBUbyByZXBlYXQgYSBzZXJpZXMgb2YgZWxlbWVudHMgaW5zdGVhZCBvZiBqdXN0IG9uZSBwYXJlbnQgZWxlbWVudCwgbmdSZXBlYXQgKGFzIHdlbGwgYXMgb3RoZXIgbmcgZGlyZWN0aXZlcykgc3VwcG9ydHMgZXh0ZW5kaW5nXHJcbiAgICogdGhlIHJhbmdlIG9mIHRoZSByZXBlYXRlciBieSBkZWZpbmluZyBleHBsaWNpdCBzdGFydCBhbmQgZW5kIHBvaW50cyBieSB1c2luZyAqKm5nLXJlcGVhdC1zdGFydCoqIGFuZCAqKm5nLXJlcGVhdC1lbmQqKiByZXNwZWN0aXZlbHkuXHJcbiAgICogVGhlICoqbmctcmVwZWF0LXN0YXJ0KiogZGlyZWN0aXZlIHdvcmtzIHRoZSBzYW1lIGFzICoqbmctcmVwZWF0KiosIGJ1dCB3aWxsIHJlcGVhdCBhbGwgdGhlIEhUTUwgY29kZSAoaW5jbHVkaW5nIHRoZSB0YWcgaXQncyBkZWZpbmVkIG9uKVxyXG4gICAqIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhlIGVuZGluZyBIVE1MIHRhZyB3aGVyZSAqKm5nLXJlcGVhdC1lbmQqKiBpcyBwbGFjZWQuXHJcbiAgICpcclxuICAgKiBUaGUgZXhhbXBsZSBiZWxvdyBtYWtlcyB1c2Ugb2YgdGhpcyBmZWF0dXJlOlxyXG4gICAqIGBgYGh0bWxcclxuICAgKiAgIDxoZWFkZXIgbmctcmVwZWF0LXN0YXJ0PVwiaXRlbSBpbiBpdGVtc1wiPlxyXG4gICAqICAgICBIZWFkZXIge3sgaXRlbSB9fVxyXG4gICAqICAgPC9oZWFkZXI+XHJcbiAgICogICA8ZGl2IGNsYXNzPVwiYm9keVwiPlxyXG4gICAqICAgICBCb2R5IHt7IGl0ZW0gfX1cclxuICAgKiAgIDwvZGl2PlxyXG4gICAqICAgPGZvb3RlciBuZy1yZXBlYXQtZW5kPlxyXG4gICAqICAgICBGb290ZXIge3sgaXRlbSB9fVxyXG4gICAqICAgPC9mb290ZXI+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBBbmQgd2l0aCBhbiBpbnB1dCBvZiB7QHR5cGUgWydBJywnQiddfSBmb3IgdGhlIGl0ZW1zIHZhcmlhYmxlIGluIHRoZSBleGFtcGxlIGFib3ZlLCB0aGUgb3V0cHV0IHdpbGwgZXZhbHVhdGUgdG86XHJcbiAgICogYGBgaHRtbFxyXG4gICAqICAgPGhlYWRlcj5cclxuICAgKiAgICAgSGVhZGVyIEFcclxuICAgKiAgIDwvaGVhZGVyPlxyXG4gICAqICAgPGRpdiBjbGFzcz1cImJvZHlcIj5cclxuICAgKiAgICAgQm9keSBBXHJcbiAgICogICA8L2Rpdj5cclxuICAgKiAgIDxmb290ZXI+XHJcbiAgICogICAgIEZvb3RlciBBXHJcbiAgICogICA8L2Zvb3Rlcj5cclxuICAgKiAgIDxoZWFkZXI+XHJcbiAgICogICAgIEhlYWRlciBCXHJcbiAgICogICA8L2hlYWRlcj5cclxuICAgKiAgIDxkaXYgY2xhc3M9XCJib2R5XCI+XHJcbiAgICogICAgIEJvZHkgQlxyXG4gICAqICAgPC9kaXY+XHJcbiAgICogICA8Zm9vdGVyPlxyXG4gICAqICAgICBGb290ZXIgQlxyXG4gICAqICAgPC9mb290ZXI+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBUaGUgY3VzdG9tIHN0YXJ0IGFuZCBlbmQgcG9pbnRzIGZvciBuZ1JlcGVhdCBhbHNvIHN1cHBvcnQgYWxsIG90aGVyIEhUTUwgZGlyZWN0aXZlIHN5bnRheCBmbGF2b3JzIHByb3ZpZGVkIGluIEFuZ3VsYXJKUyAoc3VjaFxyXG4gICAqIGFzICoqZGF0YS1uZy1yZXBlYXQtc3RhcnQqKiwgKip4LW5nLXJlcGVhdC1zdGFydCoqIGFuZCAqKm5nOnJlcGVhdC1zdGFydCoqKS5cclxuICAgKlxyXG4gICAqIEBhbmltYXRpb25zXHJcbiAgICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICB8IE9jY3VycyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gICAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2VudGVyIGVudGVyfSB8IHdoZW4gYSBuZXcgaXRlbSBpcyBhZGRlZCB0byB0aGUgbGlzdCBvciB3aGVuIGFuIGl0ZW0gaXMgcmV2ZWFsZWQgYWZ0ZXIgYSBmaWx0ZXIgfFxyXG4gICAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSB8IHdoZW4gYW4gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIGxpc3Qgb3Igd2hlbiBhbiBpdGVtIGlzIGZpbHRlcmVkIG91dCB8XHJcbiAgICogfCB7QGxpbmsgbmcuJGFuaW1hdGUjbW92ZSBtb3ZlIH0gfCB3aGVuIGFuIGFkamFjZW50IGl0ZW0gaXMgZmlsdGVyZWQgb3V0IGNhdXNpbmcgYSByZW9yZGVyIG9yIHdoZW4gdGhlIGl0ZW0gY29udGVudHMgYXJlIHJlb3JkZXJlZCB8XHJcbiAgICpcclxuICAgKiBTZWUgdGhlIGV4YW1wbGUgYmVsb3cgZm9yIGRlZmluaW5nIENTUyBhbmltYXRpb25zIHdpdGggbmdSZXBlYXQuXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAc2NvcGVcclxuICAgKiBAcHJpb3JpdHkgMTAwMFxyXG4gICAqIEBwYXJhbSB7cmVwZWF0X2V4cHJlc3Npb259IG5nUmVwZWF0IFRoZSBleHByZXNzaW9uIGluZGljYXRpbmcgaG93IHRvIGVudW1lcmF0ZSBhIGNvbGxlY3Rpb24uIFRoZXNlXHJcbiAgICogICBmb3JtYXRzIGFyZSBjdXJyZW50bHkgc3VwcG9ydGVkOlxyXG4gICAqXHJcbiAgICogICAqIGB2YXJpYWJsZSBpbiBleHByZXNzaW9uYCDigJMgd2hlcmUgdmFyaWFibGUgaXMgdGhlIHVzZXIgZGVmaW5lZCBsb29wIHZhcmlhYmxlIGFuZCBgZXhwcmVzc2lvbmBcclxuICAgKiAgICAgaXMgYSBzY29wZSBleHByZXNzaW9uIGdpdmluZyB0aGUgY29sbGVjdGlvbiB0byBlbnVtZXJhdGUuXHJcbiAgICpcclxuICAgKiAgICAgRm9yIGV4YW1wbGU6IGBhbGJ1bSBpbiBhcnRpc3QuYWxidW1zYC5cclxuICAgKlxyXG4gICAqICAgKiBgKGtleSwgdmFsdWUpIGluIGV4cHJlc3Npb25gIOKAkyB3aGVyZSBga2V5YCBhbmQgYHZhbHVlYCBjYW4gYmUgYW55IHVzZXIgZGVmaW5lZCBpZGVudGlmaWVycyxcclxuICAgKiAgICAgYW5kIGBleHByZXNzaW9uYCBpcyB0aGUgc2NvcGUgZXhwcmVzc2lvbiBnaXZpbmcgdGhlIGNvbGxlY3Rpb24gdG8gZW51bWVyYXRlLlxyXG4gICAqXHJcbiAgICogICAgIEZvciBleGFtcGxlOiBgKG5hbWUsIGFnZSkgaW4geydhZGFtJzoxMCwgJ2FtYWxpZSc6MTJ9YC5cclxuICAgKlxyXG4gICAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiB0cmFjayBieSB0cmFja2luZ19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgdHJhY2tpbmcgZXhwcmVzc2lvblxyXG4gICAqICAgICB3aGljaCBjYW4gYmUgdXNlZCB0byBhc3NvY2lhdGUgdGhlIG9iamVjdHMgaW4gdGhlIGNvbGxlY3Rpb24gd2l0aCB0aGUgRE9NIGVsZW1lbnRzLiBJZiBubyB0cmFja2luZyBleHByZXNzaW9uXHJcbiAgICogICAgIGlzIHNwZWNpZmllZCwgbmctcmVwZWF0IGFzc29jaWF0ZXMgZWxlbWVudHMgYnkgaWRlbnRpdHkuIEl0IGlzIGFuIGVycm9yIHRvIGhhdmVcclxuICAgKiAgICAgbW9yZSB0aGFuIG9uZSB0cmFja2luZyBleHByZXNzaW9uIHZhbHVlIHJlc29sdmUgdG8gdGhlIHNhbWUga2V5LiAoVGhpcyB3b3VsZCBtZWFuIHRoYXQgdHdvIGRpc3RpbmN0IG9iamVjdHMgYXJlXHJcbiAgICogICAgIG1hcHBlZCB0byB0aGUgc2FtZSBET00gZWxlbWVudCwgd2hpY2ggaXMgbm90IHBvc3NpYmxlLilcclxuICAgKlxyXG4gICAqICAgICA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtd2FybmluZ1wiPlxyXG4gICAqICAgICAgIDxzdHJvbmc+Tm90ZTo8L3N0cm9uZz4gdGhlIGB0cmFjayBieWAgZXhwcmVzc2lvbiBtdXN0IGNvbWUgbGFzdCAtIGFmdGVyIGFueSBmaWx0ZXJzLCBhbmQgdGhlIGFsaWFzIGV4cHJlc3Npb24uXHJcbiAgICogICAgIDwvZGl2PlxyXG4gICAqXHJcbiAgICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtc2AgaXMgZXF1aXZhbGVudCB0byBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSAkaWQoaXRlbSlgLiBUaGlzIGltcGxpZXMgdGhhdCB0aGUgRE9NIGVsZW1lbnRzXHJcbiAgICogICAgIHdpbGwgYmUgYXNzb2NpYXRlZCBieSBpdGVtIGlkZW50aXR5IGluIHRoZSBhcnJheS5cclxuICAgKlxyXG4gICAqICAgICBGb3IgZXhhbXBsZTogYGl0ZW0gaW4gaXRlbXMgdHJhY2sgYnkgJGlkKGl0ZW0pYC4gQSBidWlsdCBpbiBgJGlkKClgIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGFzc2lnbiBhIHVuaXF1ZVxyXG4gICAqICAgICBgJCRoYXNoS2V5YCBwcm9wZXJ0eSB0byBlYWNoIGl0ZW0gaW4gdGhlIGFycmF5LiBUaGlzIHByb3BlcnR5IGlzIHRoZW4gdXNlZCBhcyBhIGtleSB0byBhc3NvY2lhdGVkIERPTSBlbGVtZW50c1xyXG4gICAqICAgICB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGl0ZW0gaW4gdGhlIGFycmF5IGJ5IGlkZW50aXR5LiBNb3ZpbmcgdGhlIHNhbWUgb2JqZWN0IGluIGFycmF5IHdvdWxkIG1vdmUgdGhlIERPTVxyXG4gICAqICAgICBlbGVtZW50IGluIHRoZSBzYW1lIHdheSBpbiB0aGUgRE9NLlxyXG4gICAqXHJcbiAgICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB0cmFjayBieSBpdGVtLmlkYCBpcyBhIHR5cGljYWwgcGF0dGVybiB3aGVuIHRoZSBpdGVtcyBjb21lIGZyb20gdGhlIGRhdGFiYXNlLiBJbiB0aGlzXHJcbiAgICogICAgIGNhc2UgdGhlIG9iamVjdCBpZGVudGl0eSBkb2VzIG5vdCBtYXR0ZXIuIFR3byBvYmplY3RzIGFyZSBjb25zaWRlcmVkIGVxdWl2YWxlbnQgYXMgbG9uZyBhcyB0aGVpciBgaWRgXHJcbiAgICogICAgIHByb3BlcnR5IGlzIHNhbWUuXHJcbiAgICpcclxuICAgKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyOnNlYXJjaFRleHQgdHJhY2sgYnkgaXRlbS5pZGAgaXMgYSBwYXR0ZXJuIHRoYXQgbWlnaHQgYmUgdXNlZCB0byBhcHBseSBhIGZpbHRlclxyXG4gICAqICAgICB0byBpdGVtcyBpbiBjb25qdW5jdGlvbiB3aXRoIGEgdHJhY2tpbmcgZXhwcmVzc2lvbi5cclxuICAgKlxyXG4gICAqICAgKiBgdmFyaWFibGUgaW4gZXhwcmVzc2lvbiBhcyBhbGlhc19leHByZXNzaW9uYCDigJMgWW91IGNhbiBhbHNvIHByb3ZpZGUgYW4gb3B0aW9uYWwgYWxpYXMgZXhwcmVzc2lvbiB3aGljaCB3aWxsIHRoZW4gc3RvcmUgdGhlXHJcbiAgICogICAgIGludGVybWVkaWF0ZSByZXN1bHRzIG9mIHRoZSByZXBlYXRlciBhZnRlciB0aGUgZmlsdGVycyBoYXZlIGJlZW4gYXBwbGllZC4gVHlwaWNhbGx5IHRoaXMgaXMgdXNlZCB0byByZW5kZXIgYSBzcGVjaWFsIG1lc3NhZ2VcclxuICAgKiAgICAgd2hlbiBhIGZpbHRlciBpcyBhY3RpdmUgb24gdGhlIHJlcGVhdGVyLCBidXQgdGhlIGZpbHRlcmVkIHJlc3VsdCBzZXQgaXMgZW1wdHkuXHJcbiAgICpcclxuICAgKiAgICAgRm9yIGV4YW1wbGU6IGBpdGVtIGluIGl0ZW1zIHwgZmlsdGVyOnggYXMgcmVzdWx0c2Agd2lsbCBzdG9yZSB0aGUgZnJhZ21lbnQgb2YgdGhlIHJlcGVhdGVkIGl0ZW1zIGFzIGByZXN1bHRzYCwgYnV0IG9ubHkgYWZ0ZXJcclxuICAgKiAgICAgdGhlIGl0ZW1zIGhhdmUgYmVlbiBwcm9jZXNzZWQgdGhyb3VnaCB0aGUgZmlsdGVyLlxyXG4gICAqXHJcbiAgICogICAgIFBsZWFzZSBub3RlIHRoYXQgYGFzIFt2YXJpYWJsZSBuYW1lXSBpcyBub3QgYW4gb3BlcmF0b3IgYnV0IHJhdGhlciBhIHBhcnQgb2YgbmdSZXBlYXQgbWljcm8tc3ludGF4IHNvIGl0IGNhbiBiZSB1c2VkIG9ubHkgYXQgdGhlIGVuZFxyXG4gICAqICAgICAoYW5kIG5vdCBhcyBvcGVyYXRvciwgaW5zaWRlIGFuIGV4cHJlc3Npb24pLlxyXG4gICAqXHJcbiAgICogICAgIEZvciBleGFtcGxlOiBgaXRlbSBpbiBpdGVtcyB8IGZpbHRlciA6IHggfCBvcmRlckJ5IDogb3JkZXIgfCBsaW1pdFRvIDogbGltaXQgYXMgcmVzdWx0c2AgLlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBUaGlzIGV4YW1wbGUgdXNlcyBgbmdSZXBlYXRgIHRvIGRpc3BsYXkgYSBsaXN0IG9mIHBlb3BsZS4gQSBmaWx0ZXIgaXMgdXNlZCB0byByZXN0cmljdCB0aGUgZGlzcGxheWVkXHJcbiAgICogcmVzdWx0cyBieSBuYW1lIG9yIGJ5IGFnZS4gTmV3IChlbnRlcmluZykgYW5kIHJlbW92ZWQgKGxlYXZpbmcpIGl0ZW1zIGFyZSBhbmltYXRlZC5cclxuICAgIDxleGFtcGxlIG1vZHVsZT1cIm5nUmVwZWF0XCIgbmFtZT1cIm5nUmVwZWF0XCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLXJlcGVhdFwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cInJlcGVhdENvbnRyb2xsZXJcIj5cclxuICAgICAgICAgIEkgaGF2ZSB7e2ZyaWVuZHMubGVuZ3RofX0gZnJpZW5kcy4gVGhleSBhcmU6XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cInNlYXJjaFwiIG5nLW1vZGVsPVwicVwiIHBsYWNlaG9sZGVyPVwiZmlsdGVyIGZyaWVuZHMuLi5cIiBhcmlhLWxhYmVsPVwiZmlsdGVyIGZyaWVuZHNcIiAvPlxyXG4gICAgICAgICAgPHVsIGNsYXNzPVwiZXhhbXBsZS1hbmltYXRlLWNvbnRhaW5lclwiPlxyXG4gICAgICAgICAgICA8bGkgY2xhc3M9XCJhbmltYXRlLXJlcGVhdFwiIG5nLXJlcGVhdD1cImZyaWVuZCBpbiBmcmllbmRzIHwgZmlsdGVyOnEgYXMgcmVzdWx0c1wiPlxyXG4gICAgICAgICAgICAgIFt7eyRpbmRleCArIDF9fV0ge3tmcmllbmQubmFtZX19IHdobyBpcyB7e2ZyaWVuZC5hZ2V9fSB5ZWFycyBvbGQuXHJcbiAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIDxsaSBjbGFzcz1cImFuaW1hdGUtcmVwZWF0XCIgbmctaWY9XCJyZXN1bHRzLmxlbmd0aCA9PT0gMFwiPlxyXG4gICAgICAgICAgICAgIDxzdHJvbmc+Tm8gcmVzdWx0cyBmb3VuZC4uLjwvc3Ryb25nPlxyXG4gICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgPC91bD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XHJcbiAgICAgICAgYW5ndWxhci5tb2R1bGUoJ25nUmVwZWF0JywgWyduZ0FuaW1hdGUnXSkuY29udHJvbGxlcigncmVwZWF0Q29udHJvbGxlcicsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgJHNjb3BlLmZyaWVuZHMgPSBbXHJcbiAgICAgICAgICAgIHtuYW1lOidKb2huJywgYWdlOjI1LCBnZW5kZXI6J2JveSd9LFxyXG4gICAgICAgICAgICB7bmFtZTonSmVzc2llJywgYWdlOjMwLCBnZW5kZXI6J2dpcmwnfSxcclxuICAgICAgICAgICAge25hbWU6J0pvaGFubmEnLCBhZ2U6MjgsIGdlbmRlcjonZ2lybCd9LFxyXG4gICAgICAgICAgICB7bmFtZTonSm95JywgYWdlOjE1LCBnZW5kZXI6J2dpcmwnfSxcclxuICAgICAgICAgICAge25hbWU6J01hcnknLCBhZ2U6MjgsIGdlbmRlcjonZ2lybCd9LFxyXG4gICAgICAgICAgICB7bmFtZTonUGV0ZXInLCBhZ2U6OTUsIGdlbmRlcjonYm95J30sXHJcbiAgICAgICAgICAgIHtuYW1lOidTZWJhc3RpYW4nLCBhZ2U6NTAsIGdlbmRlcjonYm95J30sXHJcbiAgICAgICAgICAgIHtuYW1lOidFcmlrYScsIGFnZToyNywgZ2VuZGVyOidnaXJsJ30sXHJcbiAgICAgICAgICAgIHtuYW1lOidQYXRyaWNrJywgYWdlOjQwLCBnZW5kZXI6J2JveSd9LFxyXG4gICAgICAgICAgICB7bmFtZTonU2FtYW50aGEnLCBhZ2U6NjAsIGdlbmRlcjonZ2lybCd9XHJcbiAgICAgICAgICBdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxyXG4gICAgICAgIC5leGFtcGxlLWFuaW1hdGUtY29udGFpbmVyIHtcclxuICAgICAgICAgIGJhY2tncm91bmQ6d2hpdGU7XHJcbiAgICAgICAgICBib3JkZXI6MXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgbGlzdC1zdHlsZTpub25lO1xyXG4gICAgICAgICAgbWFyZ2luOjA7XHJcbiAgICAgICAgICBwYWRkaW5nOjAgMTBweDtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgLmFuaW1hdGUtcmVwZWF0IHtcclxuICAgICAgICAgIGxpbmUtaGVpZ2h0OjMwcHg7XHJcbiAgICAgICAgICBsaXN0LXN0eWxlOm5vbmU7XHJcbiAgICAgICAgICBib3gtc2l6aW5nOmJvcmRlci1ib3g7XHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLFxyXG4gICAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlcixcclxuICAgICAgICAuYW5pbWF0ZS1yZXBlYXQubmctbGVhdmUge1xyXG4gICAgICAgICAgdHJhbnNpdGlvbjphbGwgbGluZWFyIDAuNXM7XHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1sZWF2ZS5uZy1sZWF2ZS1hY3RpdmUsXHJcbiAgICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLW1vdmUsXHJcbiAgICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWVudGVyIHtcclxuICAgICAgICAgIG9wYWNpdHk6MDtcclxuICAgICAgICAgIG1heC1oZWlnaHQ6MDtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgLmFuaW1hdGUtcmVwZWF0Lm5nLWxlYXZlLFxyXG4gICAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1tb3ZlLm5nLW1vdmUtYWN0aXZlLFxyXG4gICAgICAgIC5hbmltYXRlLXJlcGVhdC5uZy1lbnRlci5uZy1lbnRlci1hY3RpdmUge1xyXG4gICAgICAgICAgb3BhY2l0eToxO1xyXG4gICAgICAgICAgbWF4LWhlaWdodDozMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgdmFyIGZyaWVuZHMgPSBlbGVtZW50LmFsbChieS5yZXBlYXRlcignZnJpZW5kIGluIGZyaWVuZHMnKSk7XHJcbiAgXHJcbiAgICAgICAgaXQoJ3Nob3VsZCByZW5kZXIgaW5pdGlhbCBkYXRhIHNldCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZXhwZWN0KGZyaWVuZHMuY291bnQoKSkudG9CZSgxMCk7XHJcbiAgICAgICAgICBleHBlY3QoZnJpZW5kcy5nZXQoMCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMV0gSm9obiB3aG8gaXMgMjUgeWVhcnMgb2xkLicpO1xyXG4gICAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDEpLmdldFRleHQoKSkudG9FcXVhbCgnWzJdIEplc3NpZSB3aG8gaXMgMzAgeWVhcnMgb2xkLicpO1xyXG4gICAgICAgICAgZXhwZWN0KGZyaWVuZHMubGFzdCgpLmdldFRleHQoKSkudG9FcXVhbCgnWzEwXSBTYW1hbnRoYSB3aG8gaXMgNjAgeWVhcnMgb2xkLicpO1xyXG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygnZnJpZW5kcy5sZW5ndGgnKSkuZ2V0VGV4dCgpKVxyXG4gICAgICAgICAgICAgIC50b01hdGNoKFwiSSBoYXZlIDEwIGZyaWVuZHMuIFRoZXkgYXJlOlwiKTtcclxuICAgICAgICB9KTtcclxuICBcclxuICAgICAgICAgaXQoJ3Nob3VsZCB1cGRhdGUgcmVwZWF0ZXIgd2hlbiBmaWx0ZXIgcHJlZGljYXRlIGNoYW5nZXMnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoZnJpZW5kcy5jb3VudCgpKS50b0JlKDEwKTtcclxuICBcclxuICAgICAgICAgICBlbGVtZW50KGJ5Lm1vZGVsKCdxJykpLnNlbmRLZXlzKCdtYScpO1xyXG4gIFxyXG4gICAgICAgICAgIGV4cGVjdChmcmllbmRzLmNvdW50KCkpLnRvQmUoMik7XHJcbiAgICAgICAgICAgZXhwZWN0KGZyaWVuZHMuZ2V0KDApLmdldFRleHQoKSkudG9FcXVhbCgnWzFdIE1hcnkgd2hvIGlzIDI4IHllYXJzIG9sZC4nKTtcclxuICAgICAgICAgICBleHBlY3QoZnJpZW5kcy5sYXN0KCkuZ2V0VGV4dCgpKS50b0VxdWFsKCdbMl0gU2FtYW50aGEgd2hvIGlzIDYwIHllYXJzIG9sZC4nKTtcclxuICAgICAgICAgfSk7XHJcbiAgICAgICAgPC9maWxlPlxyXG4gICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG5nUmVwZWF0RGlyZWN0aXZlID0gWyckcGFyc2UnLCAnJGFuaW1hdGUnLCAnJGNvbXBpbGUnLCBmdW5jdGlvbiAoJHBhcnNlLCAkYW5pbWF0ZSwgJGNvbXBpbGUpIHtcclxuICAgIHZhciBOR19SRU1PVkVEID0gJyQkTkdfUkVNT1ZFRCc7XHJcbiAgICB2YXIgbmdSZXBlYXRNaW5FcnIgPSBtaW5FcnIoJ25nUmVwZWF0Jyk7XHJcblxyXG4gICAgdmFyIHVwZGF0ZVNjb3BlID0gZnVuY3Rpb24gdXBkYXRlU2NvcGUoc2NvcGUsIGluZGV4LCB2YWx1ZUlkZW50aWZpZXIsIHZhbHVlLCBrZXlJZGVudGlmaWVyLCBrZXksIGFycmF5TGVuZ3RoKSB7XHJcbiAgICAgIC8vIFRPRE8ocGVyZik6IGdlbmVyYXRlIHNldHRlcnMgdG8gc2hhdmUgb2ZmIH40MG1zIG9yIDEtMS41JVxyXG4gICAgICBzY29wZVt2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XHJcbiAgICAgIGlmIChrZXlJZGVudGlmaWVyKSBzY29wZVtrZXlJZGVudGlmaWVyXSA9IGtleTtcclxuICAgICAgc2NvcGUuJGluZGV4ID0gaW5kZXg7XHJcbiAgICAgIHNjb3BlLiRmaXJzdCA9IGluZGV4ID09PSAwO1xyXG4gICAgICBzY29wZS4kbGFzdCA9IGluZGV4ID09PSBhcnJheUxlbmd0aCAtIDE7XHJcbiAgICAgIHNjb3BlLiRtaWRkbGUgPSAhKHNjb3BlLiRmaXJzdCB8fCBzY29wZS4kbGFzdCk7XHJcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXHJcbiAgICAgIHNjb3BlLiRvZGQgPSAhKHNjb3BlLiRldmVuID0gKGluZGV4ICYgMSkgPT09IDApO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZ2V0QmxvY2tTdGFydCA9IGZ1bmN0aW9uIGdldEJsb2NrU3RhcnQoYmxvY2spIHtcclxuICAgICAgcmV0dXJuIGJsb2NrLmNsb25lWzBdO1xyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgZ2V0QmxvY2tFbmQgPSBmdW5jdGlvbiBnZXRCbG9ja0VuZChibG9jaykge1xyXG4gICAgICByZXR1cm4gYmxvY2suY2xvbmVbYmxvY2suY2xvbmUubGVuZ3RoIC0gMV07XHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICAgICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgICBwcmlvcml0eTogMTAwMCxcclxuICAgICAgdGVybWluYWw6IHRydWUsXHJcbiAgICAgICQkdGxiOiB0cnVlLFxyXG4gICAgICBjb21waWxlOiBmdW5jdGlvbiBuZ1JlcGVhdENvbXBpbGUoJGVsZW1lbnQsICRhdHRyKSB7XHJcbiAgICAgICAgdmFyIGV4cHJlc3Npb24gPSAkYXR0ci5uZ1JlcGVhdDtcclxuICAgICAgICB2YXIgbmdSZXBlYXRFbmRDb21tZW50ID0gJGNvbXBpbGUuJCRjcmVhdGVDb21tZW50KCdlbmQgbmdSZXBlYXQnLCBleHByZXNzaW9uKTtcclxuXHJcbiAgICAgICAgdmFyIG1hdGNoID0gZXhwcmVzc2lvbi5tYXRjaCgvXlxccyooW1xcc1xcU10rPylcXHMraW5cXHMrKFtcXHNcXFNdKz8pKD86XFxzK2FzXFxzKyhbXFxzXFxTXSs/KSk/KD86XFxzK3RyYWNrXFxzK2J5XFxzKyhbXFxzXFxTXSs/KSk/XFxzKiQvKTtcclxuXHJcbiAgICAgICAgaWYgKCFtYXRjaCkge1xyXG4gICAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2lleHAnLCAnRXhwZWN0ZWQgZXhwcmVzc2lvbiBpbiBmb3JtIG9mIFxcJ19pdGVtXyBpbiBfY29sbGVjdGlvbl9bIHRyYWNrIGJ5IF9pZF9dXFwnIGJ1dCBnb3QgXFwnezB9XFwnLicsIGV4cHJlc3Npb24pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIGxocyA9IG1hdGNoWzFdO1xyXG4gICAgICAgIHZhciByaHMgPSBtYXRjaFsyXTtcclxuICAgICAgICB2YXIgYWxpYXNBcyA9IG1hdGNoWzNdO1xyXG4gICAgICAgIHZhciB0cmFja0J5RXhwID0gbWF0Y2hbNF07XHJcblxyXG4gICAgICAgIG1hdGNoID0gbGhzLm1hdGNoKC9eKD86KFxccypbJFxcd10rKXxcXChcXHMqKFskXFx3XSspXFxzKixcXHMqKFskXFx3XSspXFxzKlxcKSkkLyk7XHJcblxyXG4gICAgICAgIGlmICghbWF0Y2gpIHtcclxuICAgICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdpaWRleHAnLCAnXFwnX2l0ZW1fXFwnIGluIFxcJ19pdGVtXyBpbiBfY29sbGVjdGlvbl9cXCcgc2hvdWxkIGJlIGFuIGlkZW50aWZpZXIgb3IgXFwnKF9rZXlfLCBfdmFsdWVfKVxcJyBleHByZXNzaW9uLCBidXQgZ290IFxcJ3swfVxcJy4nLCBsaHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdmFsdWVJZGVudGlmaWVyID0gbWF0Y2hbM10gfHwgbWF0Y2hbMV07XHJcbiAgICAgICAgdmFyIGtleUlkZW50aWZpZXIgPSBtYXRjaFsyXTtcclxuXHJcbiAgICAgICAgaWYgKGFsaWFzQXMgJiYgKCEvXlskYS16QS1aX11bJGEtekEtWjAtOV9dKiQvLnRlc3QoYWxpYXNBcykgfHwgL14obnVsbHx1bmRlZmluZWR8dGhpc3xcXCRpbmRleHxcXCRmaXJzdHxcXCRtaWRkbGV8XFwkbGFzdHxcXCRldmVufFxcJG9kZHxcXCRwYXJlbnR8XFwkcm9vdHxcXCRpZCkkLy50ZXN0KGFsaWFzQXMpKSkge1xyXG4gICAgICAgICAgdGhyb3cgbmdSZXBlYXRNaW5FcnIoJ2JhZGlkZW50JywgJ2FsaWFzIFxcJ3swfVxcJyBpcyBpbnZhbGlkIC0tLSBtdXN0IGJlIGEgdmFsaWQgSlMgaWRlbnRpZmllciB3aGljaCBpcyBub3QgYSByZXNlcnZlZCBuYW1lLicsIGFsaWFzQXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdmFyIHRyYWNrQnlFeHBHZXR0ZXIsIHRyYWNrQnlJZEV4cEZuLCB0cmFja0J5SWRBcnJheUZuLCB0cmFja0J5SWRPYmpGbjtcclxuICAgICAgICB2YXIgaGFzaEZuTG9jYWxzID0geyAkaWQ6IGhhc2hLZXkgfTtcclxuXHJcbiAgICAgICAgaWYgKHRyYWNrQnlFeHApIHtcclxuICAgICAgICAgIHRyYWNrQnlFeHBHZXR0ZXIgPSAkcGFyc2UodHJhY2tCeUV4cCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRyYWNrQnlJZEFycmF5Rm4gPSBmdW5jdGlvbiB0cmFja0J5SWRBcnJheUZuKGtleSwgdmFsdWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGhhc2hLZXkodmFsdWUpO1xyXG4gICAgICAgICAgfTtcclxuICAgICAgICAgIHRyYWNrQnlJZE9iakZuID0gZnVuY3Rpb24gdHJhY2tCeUlkT2JqRm4oa2V5KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBrZXk7XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIG5nUmVwZWF0TGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0ciwgY3RybCwgJHRyYW5zY2x1ZGUpIHtcclxuXHJcbiAgICAgICAgICBpZiAodHJhY2tCeUV4cEdldHRlcikge1xyXG4gICAgICAgICAgICB0cmFja0J5SWRFeHBGbiA9IGZ1bmN0aW9uIHRyYWNrQnlJZEV4cEZuKGtleSwgdmFsdWUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgICAgLy8gYXNzaWduIGtleSwgdmFsdWUsIGFuZCAkaW5kZXggdG8gdGhlIGxvY2FscyBzbyB0aGF0IHRoZXkgY2FuIGJlIHVzZWQgaW4gaGFzaCBmdW5jdGlvbnNcclxuICAgICAgICAgICAgICBpZiAoa2V5SWRlbnRpZmllcikgaGFzaEZuTG9jYWxzW2tleUlkZW50aWZpZXJdID0ga2V5O1xyXG4gICAgICAgICAgICAgIGhhc2hGbkxvY2Fsc1t2YWx1ZUlkZW50aWZpZXJdID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgaGFzaEZuTG9jYWxzLiRpbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgIHJldHVybiB0cmFja0J5RXhwR2V0dGVyKCRzY29wZSwgaGFzaEZuTG9jYWxzKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBTdG9yZSBhIGxpc3Qgb2YgZWxlbWVudHMgZnJvbSBwcmV2aW91cyBydW4uIFRoaXMgaXMgYSBoYXNoIHdoZXJlIGtleSBpcyB0aGUgaXRlbSBmcm9tIHRoZVxyXG4gICAgICAgICAgLy8gaXRlcmF0b3IsIGFuZCB0aGUgdmFsdWUgaXMgb2JqZWN0cyB3aXRoIGZvbGxvd2luZyBwcm9wZXJ0aWVzLlxyXG4gICAgICAgICAgLy8gICAtIHNjb3BlOiBib3VuZCBzY29wZVxyXG4gICAgICAgICAgLy8gICAtIGNsb25lOiBwcmV2aW91cyBlbGVtZW50LlxyXG4gICAgICAgICAgLy8gICAtIGluZGV4OiBwb3NpdGlvblxyXG4gICAgICAgICAgLy9cclxuICAgICAgICAgIC8vIFdlIGFyZSB1c2luZyBuby1wcm90byBvYmplY3Qgc28gdGhhdCB3ZSBkb24ndCBuZWVkIHRvIGd1YXJkIGFnYWluc3QgaW5oZXJpdGVkIHByb3BzIHZpYVxyXG4gICAgICAgICAgLy8gaGFzT3duUHJvcGVydHkuXHJcbiAgICAgICAgICB2YXIgbGFzdEJsb2NrTWFwID0gY3JlYXRlTWFwKCk7XHJcblxyXG4gICAgICAgICAgLy93YXRjaCBwcm9wc1xyXG4gICAgICAgICAgJHNjb3BlLiR3YXRjaENvbGxlY3Rpb24ocmhzLCBmdW5jdGlvbiBuZ1JlcGVhdEFjdGlvbihjb2xsZWN0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBpbmRleCxcclxuICAgICAgICAgICAgICAgIGxlbmd0aCxcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9ICRlbGVtZW50WzBdLFxyXG4gICAgICAgICAgICAgICAgLy8gbm9kZSB0aGF0IGNsb25lZCBub2RlcyBzaG91bGQgYmUgaW5zZXJ0ZWQgYWZ0ZXJcclxuICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZWQgdG8gdGhlIGNvbW1lbnQgbm9kZSBhbmNob3JcclxuICAgICAgICAgICAgbmV4dE5vZGUsXHJcblxyXG4gICAgICAgICAgICAvLyBTYW1lIGFzIGxhc3RCbG9ja01hcCBidXQgaXQgaGFzIHRoZSBjdXJyZW50IHN0YXRlLiBJdCB3aWxsIGJlY29tZSB0aGVcclxuICAgICAgICAgICAgLy8gbGFzdEJsb2NrTWFwIG9uIHRoZSBuZXh0IGl0ZXJhdGlvbi5cclxuICAgICAgICAgICAgbmV4dEJsb2NrTWFwID0gY3JlYXRlTWFwKCksXHJcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uTGVuZ3RoLFxyXG4gICAgICAgICAgICAgICAga2V5LFxyXG4gICAgICAgICAgICAgICAgdmFsdWUsXHJcbiAgICAgICAgICAgICAgICAvLyBrZXkvdmFsdWUgb2YgaXRlcmF0aW9uXHJcbiAgICAgICAgICAgIHRyYWNrQnlJZCxcclxuICAgICAgICAgICAgICAgIHRyYWNrQnlJZEZuLFxyXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMsXHJcbiAgICAgICAgICAgICAgICBibG9jayxcclxuICAgICAgICAgICAgICAgIC8vIGxhc3Qgb2JqZWN0IGluZm9ybWF0aW9uIHtzY29wZSwgZWxlbWVudCwgaWR9XHJcbiAgICAgICAgICAgIG5leHRCbG9ja09yZGVyLFxyXG4gICAgICAgICAgICAgICAgZWxlbWVudHNUb1JlbW92ZTtcclxuXHJcbiAgICAgICAgICAgIGlmIChhbGlhc0FzKSB7XHJcbiAgICAgICAgICAgICAgJHNjb3BlW2FsaWFzQXNdID0gY29sbGVjdGlvbjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pKSB7XHJcbiAgICAgICAgICAgICAgY29sbGVjdGlvbktleXMgPSBjb2xsZWN0aW9uO1xyXG4gICAgICAgICAgICAgIHRyYWNrQnlJZEZuID0gdHJhY2tCeUlkRXhwRm4gfHwgdHJhY2tCeUlkQXJyYXlGbjtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB0cmFja0J5SWRGbiA9IHRyYWNrQnlJZEV4cEZuIHx8IHRyYWNrQnlJZE9iakZuO1xyXG4gICAgICAgICAgICAgIC8vIGlmIG9iamVjdCwgZXh0cmFjdCBrZXlzLCBpbiBlbnVtZXJhdGlvbiBvcmRlciwgdW5zb3J0ZWRcclxuICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cyA9IFtdO1xyXG4gICAgICAgICAgICAgIGZvciAodmFyIGl0ZW1LZXkgaW4gY29sbGVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwoY29sbGVjdGlvbiwgaXRlbUtleSkgJiYgaXRlbUtleS5jaGFyQXQoMCkgIT09ICckJykge1xyXG4gICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uS2V5cy5wdXNoKGl0ZW1LZXkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgY29sbGVjdGlvbkxlbmd0aCA9IGNvbGxlY3Rpb25LZXlzLmxlbmd0aDtcclxuICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXIgPSBuZXcgQXJyYXkoY29sbGVjdGlvbkxlbmd0aCk7XHJcblxyXG4gICAgICAgICAgICAvLyBsb2NhdGUgZXhpc3RpbmcgaXRlbXNcclxuICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY29sbGVjdGlvbkxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgIGtleSA9IGNvbGxlY3Rpb24gPT09IGNvbGxlY3Rpb25LZXlzID8gaW5kZXggOiBjb2xsZWN0aW9uS2V5c1tpbmRleF07XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSBjb2xsZWN0aW9uW2tleV07XHJcbiAgICAgICAgICAgICAgdHJhY2tCeUlkID0gdHJhY2tCeUlkRm4oa2V5LCB2YWx1ZSwgaW5kZXgpO1xyXG4gICAgICAgICAgICAgIGlmIChsYXN0QmxvY2tNYXBbdHJhY2tCeUlkXSkge1xyXG4gICAgICAgICAgICAgICAgLy8gZm91bmQgcHJldmlvdXNseSBzZWVuIGJsb2NrXHJcbiAgICAgICAgICAgICAgICBibG9jayA9IGxhc3RCbG9ja01hcFt0cmFja0J5SWRdO1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlIGxhc3RCbG9ja01hcFt0cmFja0J5SWRdO1xyXG4gICAgICAgICAgICAgICAgbmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0gPSBibG9jaztcclxuICAgICAgICAgICAgICAgIG5leHRCbG9ja09yZGVyW2luZGV4XSA9IGJsb2NrO1xyXG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAobmV4dEJsb2NrTWFwW3RyYWNrQnlJZF0pIHtcclxuICAgICAgICAgICAgICAgIC8vIGlmIGNvbGxpc2lvbiBkZXRlY3RlZC4gcmVzdG9yZSBsYXN0QmxvY2tNYXAgYW5kIHRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAgICAgICBmb3JFYWNoKG5leHRCbG9ja09yZGVyLCBmdW5jdGlvbiAoYmxvY2spIHtcclxuICAgICAgICAgICAgICAgICAgaWYgKGJsb2NrICYmIGJsb2NrLnNjb3BlKSBsYXN0QmxvY2tNYXBbYmxvY2suaWRdID0gYmxvY2s7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRocm93IG5nUmVwZWF0TWluRXJyKCdkdXBlcycsICdEdXBsaWNhdGVzIGluIGEgcmVwZWF0ZXIgYXJlIG5vdCBhbGxvd2VkLiBVc2UgXFwndHJhY2sgYnlcXCcgZXhwcmVzc2lvbiB0byBzcGVjaWZ5IHVuaXF1ZSBrZXlzLiBSZXBlYXRlcjogezB9LCBEdXBsaWNhdGUga2V5OiB7MX0sIER1cGxpY2F0ZSB2YWx1ZTogezJ9JywgZXhwcmVzc2lvbiwgdHJhY2tCeUlkLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIG5ldyBuZXZlciBiZWZvcmUgc2VlbiBibG9ja1xyXG4gICAgICAgICAgICAgICAgbmV4dEJsb2NrT3JkZXJbaW5kZXhdID0geyBpZDogdHJhY2tCeUlkLCBzY29wZTogdW5kZWZpbmVkLCBjbG9uZTogdW5kZWZpbmVkIH07XHJcbiAgICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbdHJhY2tCeUlkXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyByZW1vdmUgbGVmdG92ZXIgaXRlbXNcclxuICAgICAgICAgICAgZm9yICh2YXIgYmxvY2tLZXkgaW4gbGFzdEJsb2NrTWFwKSB7XHJcbiAgICAgICAgICAgICAgYmxvY2sgPSBsYXN0QmxvY2tNYXBbYmxvY2tLZXldO1xyXG4gICAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmUgPSBnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKTtcclxuICAgICAgICAgICAgICAkYW5pbWF0ZS5sZWF2ZShlbGVtZW50c1RvUmVtb3ZlKTtcclxuICAgICAgICAgICAgICBpZiAoZWxlbWVudHNUb1JlbW92ZVswXS5wYXJlbnROb2RlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZWxlbWVudCB3YXMgbm90IHJlbW92ZWQgeWV0IGJlY2F1c2Ugb2YgcGVuZGluZyBhbmltYXRpb24sIG1hcmsgaXQgYXMgZGVsZXRlZFxyXG4gICAgICAgICAgICAgICAgLy8gc28gdGhhdCB3ZSBjYW4gaWdub3JlIGl0IGxhdGVyXHJcbiAgICAgICAgICAgICAgICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gZWxlbWVudHNUb1JlbW92ZS5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCsrKSB7XHJcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnRzVG9SZW1vdmVbaW5kZXhdW05HX1JFTU9WRURdID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgYmxvY2suc2NvcGUuJGRlc3Ryb3koKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLy8gd2UgYXJlIG5vdCB1c2luZyBmb3JFYWNoIGZvciBwZXJmIHJlYXNvbnMgKHRyeWluZyB0byBhdm9pZCAjY2FsbClcclxuICAgICAgICAgICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY29sbGVjdGlvbkxlbmd0aDsgaW5kZXgrKykge1xyXG4gICAgICAgICAgICAgIGtleSA9IGNvbGxlY3Rpb24gPT09IGNvbGxlY3Rpb25LZXlzID8gaW5kZXggOiBjb2xsZWN0aW9uS2V5c1tpbmRleF07XHJcbiAgICAgICAgICAgICAgdmFsdWUgPSBjb2xsZWN0aW9uW2tleV07XHJcbiAgICAgICAgICAgICAgYmxvY2sgPSBuZXh0QmxvY2tPcmRlcltpbmRleF07XHJcblxyXG4gICAgICAgICAgICAgIGlmIChibG9jay5zY29wZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gaWYgd2UgaGF2ZSBhbHJlYWR5IHNlZW4gdGhpcyBvYmplY3QsIHRoZW4gd2UgbmVlZCB0byByZXVzZSB0aGVcclxuICAgICAgICAgICAgICAgIC8vIGFzc29jaWF0ZWQgc2NvcGUvZWxlbWVudFxyXG5cclxuICAgICAgICAgICAgICAgIG5leHROb2RlID0gcHJldmlvdXNOb2RlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNraXAgbm9kZXMgdGhhdCBhcmUgYWxyZWFkeSBwZW5kaW5nIHJlbW92YWwgdmlhIGxlYXZlIGFuaW1hdGlvblxyXG4gICAgICAgICAgICAgICAgZG8ge1xyXG4gICAgICAgICAgICAgICAgICBuZXh0Tm9kZSA9IG5leHROb2RlLm5leHRTaWJsaW5nO1xyXG4gICAgICAgICAgICAgICAgfSB3aGlsZSAobmV4dE5vZGUgJiYgbmV4dE5vZGVbTkdfUkVNT1ZFRF0pO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChnZXRCbG9ja1N0YXJ0KGJsb2NrKSAhPT0gbmV4dE5vZGUpIHtcclxuICAgICAgICAgICAgICAgICAgLy8gZXhpc3RpbmcgaXRlbSB3aGljaCBnb3QgbW92ZWRcclxuICAgICAgICAgICAgICAgICAgJGFuaW1hdGUubW92ZShnZXRCbG9ja05vZGVzKGJsb2NrLmNsb25lKSwgbnVsbCwgcHJldmlvdXNOb2RlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHByZXZpb3VzTm9kZSA9IGdldEJsb2NrRW5kKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gbmV3IGl0ZW0gd2hpY2ggd2UgZG9uJ3Qga25vdyBhYm91dFxyXG4gICAgICAgICAgICAgICAgJHRyYW5zY2x1ZGUoZnVuY3Rpb24gbmdSZXBlYXRUcmFuc2NsdWRlKGNsb25lLCBzY29wZSkge1xyXG4gICAgICAgICAgICAgICAgICBibG9jay5zY29wZSA9IHNjb3BlO1xyXG4gICAgICAgICAgICAgICAgICAvLyBodHRwOi8vanNwZXJmLmNvbS9jbG9uZS12cy1jcmVhdGVjb21tZW50XHJcbiAgICAgICAgICAgICAgICAgIHZhciBlbmROb2RlID0gbmdSZXBlYXRFbmRDb21tZW50LmNsb25lTm9kZShmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgIGNsb25lW2Nsb25lLmxlbmd0aCsrXSA9IGVuZE5vZGU7XHJcblxyXG4gICAgICAgICAgICAgICAgICAkYW5pbWF0ZS5lbnRlcihjbG9uZSwgbnVsbCwgcHJldmlvdXNOb2RlKTtcclxuICAgICAgICAgICAgICAgICAgcHJldmlvdXNOb2RlID0gZW5kTm9kZTtcclxuICAgICAgICAgICAgICAgICAgLy8gTm90ZTogV2Ugb25seSBuZWVkIHRoZSBmaXJzdC9sYXN0IG5vZGUgb2YgdGhlIGNsb25lZCBub2Rlcy5cclxuICAgICAgICAgICAgICAgICAgLy8gSG93ZXZlciwgd2UgbmVlZCB0byBrZWVwIHRoZSByZWZlcmVuY2UgdG8gdGhlIGpxbGl0ZSB3cmFwcGVyIGFzIGl0IG1pZ2h0IGJlIGNoYW5nZWQgbGF0ZXJcclxuICAgICAgICAgICAgICAgICAgLy8gYnkgYSBkaXJlY3RpdmUgd2l0aCB0ZW1wbGF0ZVVybCB3aGVuIGl0cyB0ZW1wbGF0ZSBhcnJpdmVzLlxyXG4gICAgICAgICAgICAgICAgICBibG9jay5jbG9uZSA9IGNsb25lO1xyXG4gICAgICAgICAgICAgICAgICBuZXh0QmxvY2tNYXBbYmxvY2suaWRdID0gYmxvY2s7XHJcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZVNjb3BlKGJsb2NrLnNjb3BlLCBpbmRleCwgdmFsdWVJZGVudGlmaWVyLCB2YWx1ZSwga2V5SWRlbnRpZmllciwga2V5LCBjb2xsZWN0aW9uTGVuZ3RoKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsYXN0QmxvY2tNYXAgPSBuZXh0QmxvY2tNYXA7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG5cclxuICB2YXIgTkdfSElERV9DTEFTUyA9ICduZy1oaWRlJztcclxuICB2YXIgTkdfSElERV9JTl9QUk9HUkVTU19DTEFTUyA9ICduZy1oaWRlLWFuaW1hdGUnO1xyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ1Nob3dcclxuICAgKiBAbXVsdGlFbGVtZW50XHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYG5nU2hvd2AgZGlyZWN0aXZlIHNob3dzIG9yIGhpZGVzIHRoZSBnaXZlbiBIVE1MIGVsZW1lbnQgYmFzZWQgb24gdGhlIGV4cHJlc3Npb24gcHJvdmlkZWQgdG9cclxuICAgKiB0aGUgYG5nU2hvd2AgYXR0cmlidXRlLlxyXG4gICAqXHJcbiAgICogVGhlIGVsZW1lbnQgaXMgc2hvd24gb3IgaGlkZGVuIGJ5IHJlbW92aW5nIG9yIGFkZGluZyB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3Mgb250byB0aGUgZWxlbWVudC5cclxuICAgKiBUaGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MgaXMgcHJlZGVmaW5lZCBpbiBBbmd1bGFySlMgYW5kIHNldHMgdGhlIGRpc3BsYXkgc3R5bGUgdG8gbm9uZSAodXNpbmcgYW5cclxuICAgKiBgIWltcG9ydGFudGAgZmxhZykuIEZvciBDU1AgbW9kZSBwbGVhc2UgYWRkIGBhbmd1bGFyLWNzcC5jc3NgIHRvIHlvdXIgSFRNTCBmaWxlIChzZWVcclxuICAgKiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nQ3NwIG5nQ3NwfSkuXHJcbiAgICpcclxuICAgKiBgYGBodG1sXHJcbiAgICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIHRydXRoeSAoZWxlbWVudCBpcyB2aXNpYmxlKSAtLT5cclxuICAgKiA8ZGl2IG5nLXNob3c9XCJteVZhbHVlXCI+PC9kaXY+XHJcbiAgICpcclxuICAgKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgZmFsc3kgKGVsZW1lbnQgaXMgaGlkZGVuKSAtLT5cclxuICAgKiA8ZGl2IG5nLXNob3c9XCJteVZhbHVlXCIgY2xhc3M9XCJuZy1oaWRlXCI+PC9kaXY+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBXaGVuIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIGZhbHN5IHZhbHVlIHRoZW4gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIGFkZGVkXHJcbiAgICogdG8gdGhlIGNsYXNzIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gdHJ1dGh5LCB0aGUgYC5uZy1oaWRlYFxyXG4gICAqIENTUyBjbGFzcyBpcyByZW1vdmVkIGZyb20gdGhlIGVsZW1lbnQgY2F1c2luZyB0aGUgZWxlbWVudCBub3QgdG8gYXBwZWFyIGhpZGRlbi5cclxuICAgKlxyXG4gICAqICMjIFdoeSBpcyBgIWltcG9ydGFudGAgdXNlZD9cclxuICAgKlxyXG4gICAqIFlvdSBtYXkgYmUgd29uZGVyaW5nIHdoeSBgIWltcG9ydGFudGAgaXMgdXNlZCBmb3IgdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzLiBUaGlzIGlzIGJlY2F1c2UgdGhlXHJcbiAgICogYC5uZy1oaWRlYCBzZWxlY3RvciBjYW4gYmUgZWFzaWx5IG92ZXJyaWRkZW4gYnkgaGVhdmllciBzZWxlY3RvcnMuIEZvciBleGFtcGxlLCBzb21ldGhpbmcgYXNcclxuICAgKiBzaW1wbGUgYXMgY2hhbmdpbmcgdGhlIGRpc3BsYXkgc3R5bGUgb24gYSBIVE1MIGxpc3QgaXRlbSB3b3VsZCBtYWtlIGhpZGRlbiBlbGVtZW50cyBhcHBlYXJcclxuICAgKiB2aXNpYmxlLiBUaGlzIGFsc28gYmVjb21lcyBhIGJpZ2dlciBpc3N1ZSB3aGVuIGRlYWxpbmcgd2l0aCBDU1MgZnJhbWV3b3Jrcy5cclxuICAgKlxyXG4gICAqIEJ5IHVzaW5nIGAhaW1wb3J0YW50YCwgdGhlIHNob3cgYW5kIGhpZGUgYmVoYXZpb3Igd2lsbCB3b3JrIGFzIGV4cGVjdGVkIGRlc3BpdGUgYW55IGNsYXNoIGJldHdlZW5cclxuICAgKiBDU1Mgc2VsZWN0b3Igc3BlY2lmaWNpdHkgKHdoZW4gYCFpbXBvcnRhbnRgIGlzbid0IHVzZWQgd2l0aCBhbnkgY29uZmxpY3Rpbmcgc3R5bGVzKS4gSWYgYVxyXG4gICAqIGRldmVsb3BlciBjaG9vc2VzIHRvIG92ZXJyaWRlIHRoZSBzdHlsaW5nIHRvIGNoYW5nZSBob3cgdG8gaGlkZSBhbiBlbGVtZW50IHRoZW4gaXQgaXMganVzdCBhXHJcbiAgICogbWF0dGVyIG9mIHVzaW5nIGAhaW1wb3J0YW50YCBpbiB0aGVpciBvd24gQ1NTIGNvZGUuXHJcbiAgICpcclxuICAgKiAjIyMgT3ZlcnJpZGluZyBgLm5nLWhpZGVgXHJcbiAgICpcclxuICAgKiBCeSBkZWZhdWx0LCB0aGUgYC5uZy1oaWRlYCBjbGFzcyB3aWxsIHN0eWxlIHRoZSBlbGVtZW50IHdpdGggYGRpc3BsYXk6IG5vbmUgIWltcG9ydGFudGAuIElmIHlvdVxyXG4gICAqIHdpc2ggdG8gY2hhbmdlIHRoZSBoaWRlIGJlaGF2aW9yIHdpdGggYG5nU2hvd2AvYG5nSGlkZWAsIHlvdSBjYW4gc2ltcGx5IG92ZXJ3cml0ZSB0aGUgc3R5bGVzIGZvclxyXG4gICAqIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcy4gTm90ZSB0aGF0IHRoZSBzZWxlY3RvciB0aGF0IG5lZWRzIHRvIGJlIHVzZWQgaXMgYWN0dWFsbHlcclxuICAgKiBgLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpYCB0byBjb3BlIHdpdGggZXh0cmEgYW5pbWF0aW9uIGNsYXNzZXMgdGhhdCBjYW4gYmUgYWRkZWQuXHJcbiAgICpcclxuICAgKiBgYGBjc3NcclxuICAgKiAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSkge1xyXG4gICAqICAgLyYjNDI7IFRoZXNlIGFyZSBqdXN0IGFsdGVybmF0aXZlIHdheXMgb2YgaGlkaW5nIGFuIGVsZW1lbnQgJiM0MjsvXHJcbiAgICogICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XHJcbiAgICogICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICogICB0b3A6IC05OTk5cHg7XHJcbiAgICogICBsZWZ0OiAtOTk5OXB4O1xyXG4gICAqIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEJ5IGRlZmF1bHQgeW91IGRvbid0IG5lZWQgdG8gb3ZlcnJpZGUgYW55dGhpbmcgaW4gQ1NTIGFuZCB0aGUgYW5pbWF0aW9ucyB3aWxsIHdvcmsgYXJvdW5kIHRoZVxyXG4gICAqIGRpc3BsYXkgc3R5bGUuXHJcbiAgICpcclxuICAgKiAjIyBBIG5vdGUgYWJvdXQgYW5pbWF0aW9ucyB3aXRoIGBuZ1Nob3dgXHJcbiAgICpcclxuICAgKiBBbmltYXRpb25zIGluIGBuZ1Nob3dgL2BuZ0hpZGVgIHdvcmsgd2l0aCB0aGUgc2hvdyBhbmQgaGlkZSBldmVudHMgdGhhdCBhcmUgdHJpZ2dlcmVkIHdoZW4gdGhlXHJcbiAgICogZGlyZWN0aXZlIGV4cHJlc3Npb24gaXMgdHJ1ZSBhbmQgZmFsc2UuIFRoaXMgc3lzdGVtIHdvcmtzIGxpa2UgdGhlIGFuaW1hdGlvbiBzeXN0ZW0gcHJlc2VudCB3aXRoXHJcbiAgICogYG5nQ2xhc3NgIGV4Y2VwdCB0aGF0IHlvdSBtdXN0IGFsc28gaW5jbHVkZSB0aGUgYCFpbXBvcnRhbnRgIGZsYWcgdG8gb3ZlcnJpZGUgdGhlIGRpc3BsYXlcclxuICAgKiBwcm9wZXJ0eSBzbyB0aGF0IHRoZSBlbGVtZW50cyBhcmUgbm90IGFjdHVhbGx5IGhpZGRlbiBkdXJpbmcgdGhlIGFuaW1hdGlvbi5cclxuICAgKlxyXG4gICAqIGBgYGNzc1xyXG4gICAqIC8mIzQyOyBBIHdvcmtpbmcgZXhhbXBsZSBjYW4gYmUgZm91bmQgYXQgdGhlIGJvdHRvbSBvZiB0aGlzIHBhZ2UuICYjNDI7L1xyXG4gICAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLCAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7XHJcbiAgICogICB0cmFuc2l0aW9uOiBhbGwgMC41cyBsaW5lYXI7XHJcbiAgICogfVxyXG4gICAqXHJcbiAgICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQgeyAuLi4gfVxyXG4gICAqIC5teS1lbGVtZW50Lm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7IC4uLiB9XHJcbiAgICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUgeyAuLi4gfVxyXG4gICAqIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7IC4uLiB9XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKiBLZWVwIGluIG1pbmQgdGhhdCwgYXMgb2YgQW5ndWxhckpTIHZlcnNpb24gMS4zLCB0aGVyZSBpcyBubyBuZWVkIHRvIGNoYW5nZSB0aGUgZGlzcGxheSBwcm9wZXJ0eVxyXG4gICAqIHRvIGJsb2NrIGR1cmluZyBhbmltYXRpb24gc3RhdGVzIC0gbmdBbmltYXRlIHdpbGwgYXV0b21hdGljYWxseSBoYW5kbGUgdGhlIHN0eWxlIHRvZ2dsaW5nIGZvciB5b3UuXHJcbiAgICpcclxuICAgKiBAYW5pbWF0aW9uc1xyXG4gICAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgT2NjdXJzICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcclxuICAgKiB8IHtAbGluayAkYW5pbWF0ZSNhZGRDbGFzcyBhZGRDbGFzc30gYC5uZy1oaWRlYCAgICAgICB8IEFmdGVyIHRoZSBgbmdTaG93YCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIG5vbiB0cnV0aHkgdmFsdWUgYW5kIGp1c3QgYmVmb3JlIHRoZSBjb250ZW50cyBhcmUgc2V0IHRvIGhpZGRlbi4gfFxyXG4gICAqIHwge0BsaW5rICRhbmltYXRlI3JlbW92ZUNsYXNzIHJlbW92ZUNsYXNzfSBgLm5nLWhpZGVgIHwgQWZ0ZXIgdGhlIGBuZ1Nob3dgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGUuICAgICAgICB8XHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU2hvdyBJZiB0aGUge0BsaW5rIGd1aWRlL2V4cHJlc3Npb24gZXhwcmVzc2lvbn0gaXMgdHJ1dGh5L2ZhbHN5IHRoZW4gdGhlXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudCBpcyBzaG93bi9oaWRkZW4gcmVzcGVjdGl2ZWx5LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBBIHNpbXBsZSBleGFtcGxlLCBhbmltYXRpbmcgdGhlIGVsZW1lbnQncyBvcGFjaXR5OlxyXG4gICAqXHJcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctc2hvdy1zaW1wbGVcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICBTaG93OiA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgbmctbW9kZWw9XCJjaGVja2VkXCIgYXJpYS1sYWJlbD1cIlRvZ2dsZSBuZ1Nob3dcIj48YnIgLz5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2hlY2stZWxlbWVudCBhbmltYXRlLXNob3ctaGlkZVwiIG5nLXNob3c9XCJjaGVja2VkXCI+XHJcbiAgICAgICAgICBJIHNob3cgdXAgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgICAgLmFuaW1hdGUtc2hvdy1oaWRlLm5nLWhpZGUge1xyXG4gICAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgLmFuaW1hdGUtc2hvdy1oaWRlLm5nLWhpZGUtYWRkLFxyXG4gICAgICAgIC5hbmltYXRlLXNob3ctaGlkZS5uZy1oaWRlLXJlbW92ZSB7XHJcbiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgbGluZWFyIDAuNXM7XHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgIC5jaGVjay1lbGVtZW50IHtcclxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nU2hvdycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIGNoZWNrYm94ID0gZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKTtcclxuICAgICAgICAgIHZhciBjaGVja0VsZW0gPSBlbGVtZW50KGJ5LmNzcygnLmNoZWNrLWVsZW1lbnQnKSk7XHJcbiAgXHJcbiAgICAgICAgICBleHBlY3QoY2hlY2tFbGVtLmlzRGlzcGxheWVkKCkpLnRvQmUoZmFsc2UpO1xyXG4gICAgICAgICAgY2hlY2tib3guY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChjaGVja0VsZW0uaXNEaXNwbGF5ZWQoKSkudG9CZSh0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICogPGhyIC8+XHJcbiAgICogQGV4YW1wbGVcclxuICAgKiBBIG1vcmUgY29tcGxleCBleGFtcGxlLCBmZWF0dXJpbmcgZGlmZmVyZW50IHNob3cvaGlkZSBhbmltYXRpb25zOlxyXG4gICAqXHJcbiAgICA8ZXhhbXBsZSBtb2R1bGU9XCJuZ0FuaW1hdGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctc2hvdy1jb21wbGV4XCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgU2hvdzogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJUb2dnbGUgbmdTaG93XCI+PGJyIC8+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgZnVua3ktc2hvdy1oaWRlXCIgbmctc2hvdz1cImNoZWNrZWRcIj5cclxuICAgICAgICAgIEkgc2hvdyB1cCB3aGVuIHlvdXIgY2hlY2tib3ggaXMgY2hlY2tlZC5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiYW5pbWF0aW9ucy5jc3NcIj5cclxuICAgICAgICBib2R5IHtcclxuICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICAgICAgICBwZXJzcGVjdGl2ZTogMTAwMHB4O1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuZnVua3ktc2hvdy1oaWRlLm5nLWhpZGUtYWRkIHtcclxuICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlWigwKTtcclxuICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0O1xyXG4gICAgICAgICAgdHJhbnNpdGlvbjogYWxsIDAuNXMgZWFzZS1pbi1vdXQ7XHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgIC5mdW5reS1zaG93LWhpZGUubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHtcclxuICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlWigtMTM1ZGVnKTtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgLmZ1bmt5LXNob3ctaGlkZS5uZy1oaWRlLXJlbW92ZSB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZVkoOTBkZWcpO1xyXG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdDtcclxuICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2U7XHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgIC5mdW5reS1zaG93LWhpZGUubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHtcclxuICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlWSgwKTtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgLmNoZWNrLWVsZW1lbnQge1xyXG4gICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XHJcbiAgICAgICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICB9XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmdTaG93JywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICB2YXIgY2hlY2tib3ggPSBlbGVtZW50KGJ5Lm1vZGVsKCdjaGVja2VkJykpO1xyXG4gICAgICAgICAgdmFyIGNoZWNrRWxlbSA9IGVsZW1lbnQoYnkuY3NzKCcuY2hlY2stZWxlbWVudCcpKTtcclxuICBcclxuICAgICAgICAgIGV4cGVjdChjaGVja0VsZW0uaXNEaXNwbGF5ZWQoKSkudG9CZShmYWxzZSk7XHJcbiAgICAgICAgICBjaGVja2JveC5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGNoZWNrRWxlbS5pc0Rpc3BsYXllZCgpKS50b0JlKHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG5nU2hvd0RpcmVjdGl2ZSA9IFsnJGFuaW1hdGUnLCBmdW5jdGlvbiAoJGFuaW1hdGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nU2hvdywgZnVuY3Rpb24gbmdTaG93V2F0Y2hBY3Rpb24odmFsdWUpIHtcclxuICAgICAgICAgIC8vIHdlJ3JlIGFkZGluZyBhIHRlbXBvcmFyeSwgYW5pbWF0aW9uLXNwZWNpZmljIGNsYXNzIGZvciBuZy1oaWRlIHNpbmNlIHRoaXMgd2F5XHJcbiAgICAgICAgICAvLyB3ZSBjYW4gY29udHJvbCB3aGVuIHRoZSBlbGVtZW50IGlzIGFjdHVhbGx5IGRpc3BsYXllZCBvbiBzY3JlZW4gd2l0aG91dCBoYXZpbmdcclxuICAgICAgICAgIC8vIHRvIGhhdmUgYSBnbG9iYWwvZ3JlZWR5IENTUyBzZWxlY3RvciB0aGF0IGJyZWFrcyB3aGVuIG90aGVyIGFuaW1hdGlvbnMgYXJlIHJ1bi5cclxuICAgICAgICAgIC8vIFJlYWQ6IGh0dHBzOi8vZ2l0aHViLmNvbS9hbmd1bGFyL2FuZ3VsYXIuanMvaXNzdWVzLzkxMDMjaXNzdWVjb21tZW50LTU4MzM1ODQ1XHJcbiAgICAgICAgICAkYW5pbWF0ZVt2YWx1ZSA/ICdyZW1vdmVDbGFzcycgOiAnYWRkQ2xhc3MnXShlbGVtZW50LCBOR19ISURFX0NMQVNTLCB7XHJcbiAgICAgICAgICAgIHRlbXBDbGFzc2VzOiBOR19ISURFX0lOX1BST0dSRVNTX0NMQVNTXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9XTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nSGlkZVxyXG4gICAqIEBtdWx0aUVsZW1lbnRcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoZSBgbmdIaWRlYCBkaXJlY3RpdmUgc2hvd3Mgb3IgaGlkZXMgdGhlIGdpdmVuIEhUTUwgZWxlbWVudCBiYXNlZCBvbiB0aGUgZXhwcmVzc2lvbiBwcm92aWRlZCB0b1xyXG4gICAqIHRoZSBgbmdIaWRlYCBhdHRyaWJ1dGUuXHJcbiAgICpcclxuICAgKiBUaGUgZWxlbWVudCBpcyBzaG93biBvciBoaWRkZW4gYnkgcmVtb3Zpbmcgb3IgYWRkaW5nIHRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBvbnRvIHRoZSBlbGVtZW50LlxyXG4gICAqIFRoZSBgLm5nLWhpZGVgIENTUyBjbGFzcyBpcyBwcmVkZWZpbmVkIGluIEFuZ3VsYXJKUyBhbmQgc2V0cyB0aGUgZGlzcGxheSBzdHlsZSB0byBub25lICh1c2luZyBhblxyXG4gICAqIGAhaW1wb3J0YW50YCBmbGFnKS4gRm9yIENTUCBtb2RlIHBsZWFzZSBhZGQgYGFuZ3VsYXItY3NwLmNzc2AgdG8geW91ciBIVE1MIGZpbGUgKHNlZVxyXG4gICAqIHtAbGluayBuZy5kaXJlY3RpdmU6bmdDc3AgbmdDc3B9KS5cclxuICAgKlxyXG4gICAqIGBgYGh0bWxcclxuICAgKiA8IS0tIHdoZW4gJHNjb3BlLm15VmFsdWUgaXMgdHJ1dGh5IChlbGVtZW50IGlzIGhpZGRlbikgLS0+XHJcbiAgICogPGRpdiBuZy1oaWRlPVwibXlWYWx1ZVwiIGNsYXNzPVwibmctaGlkZVwiPjwvZGl2PlxyXG4gICAqXHJcbiAgICogPCEtLSB3aGVuICRzY29wZS5teVZhbHVlIGlzIGZhbHN5IChlbGVtZW50IGlzIHZpc2libGUpIC0tPlxyXG4gICAqIDxkaXYgbmctaGlkZT1cIm15VmFsdWVcIj48L2Rpdj5cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIFdoZW4gdGhlIGBuZ0hpZGVgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIHRoZW4gdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzIGlzIGFkZGVkXHJcbiAgICogdG8gdGhlIGNsYXNzIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBjYXVzaW5nIGl0IHRvIGJlY29tZSBoaWRkZW4uIFdoZW4gZmFsc3ksIHRoZSBgLm5nLWhpZGVgXHJcbiAgICogQ1NTIGNsYXNzIGlzIHJlbW92ZWQgZnJvbSB0aGUgZWxlbWVudCBjYXVzaW5nIHRoZSBlbGVtZW50IG5vdCB0byBhcHBlYXIgaGlkZGVuLlxyXG4gICAqXHJcbiAgICogIyMgV2h5IGlzIGAhaW1wb3J0YW50YCB1c2VkP1xyXG4gICAqXHJcbiAgICogWW91IG1heSBiZSB3b25kZXJpbmcgd2h5IGAhaW1wb3J0YW50YCBpcyB1c2VkIGZvciB0aGUgYC5uZy1oaWRlYCBDU1MgY2xhc3MuIFRoaXMgaXMgYmVjYXVzZSB0aGVcclxuICAgKiBgLm5nLWhpZGVgIHNlbGVjdG9yIGNhbiBiZSBlYXNpbHkgb3ZlcnJpZGRlbiBieSBoZWF2aWVyIHNlbGVjdG9ycy4gRm9yIGV4YW1wbGUsIHNvbWV0aGluZyBhc1xyXG4gICAqIHNpbXBsZSBhcyBjaGFuZ2luZyB0aGUgZGlzcGxheSBzdHlsZSBvbiBhIEhUTUwgbGlzdCBpdGVtIHdvdWxkIG1ha2UgaGlkZGVuIGVsZW1lbnRzIGFwcGVhclxyXG4gICAqIHZpc2libGUuIFRoaXMgYWxzbyBiZWNvbWVzIGEgYmlnZ2VyIGlzc3VlIHdoZW4gZGVhbGluZyB3aXRoIENTUyBmcmFtZXdvcmtzLlxyXG4gICAqXHJcbiAgICogQnkgdXNpbmcgYCFpbXBvcnRhbnRgLCB0aGUgc2hvdyBhbmQgaGlkZSBiZWhhdmlvciB3aWxsIHdvcmsgYXMgZXhwZWN0ZWQgZGVzcGl0ZSBhbnkgY2xhc2ggYmV0d2VlblxyXG4gICAqIENTUyBzZWxlY3RvciBzcGVjaWZpY2l0eSAod2hlbiBgIWltcG9ydGFudGAgaXNuJ3QgdXNlZCB3aXRoIGFueSBjb25mbGljdGluZyBzdHlsZXMpLiBJZiBhXHJcbiAgICogZGV2ZWxvcGVyIGNob29zZXMgdG8gb3ZlcnJpZGUgdGhlIHN0eWxpbmcgdG8gY2hhbmdlIGhvdyB0byBoaWRlIGFuIGVsZW1lbnQgdGhlbiBpdCBpcyBqdXN0IGFcclxuICAgKiBtYXR0ZXIgb2YgdXNpbmcgYCFpbXBvcnRhbnRgIGluIHRoZWlyIG93biBDU1MgY29kZS5cclxuICAgKlxyXG4gICAqICMjIyBPdmVycmlkaW5nIGAubmctaGlkZWBcclxuICAgKlxyXG4gICAqIEJ5IGRlZmF1bHQsIHRoZSBgLm5nLWhpZGVgIGNsYXNzIHdpbGwgc3R5bGUgdGhlIGVsZW1lbnQgd2l0aCBgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50YC4gSWYgeW91XHJcbiAgICogd2lzaCB0byBjaGFuZ2UgdGhlIGhpZGUgYmVoYXZpb3Igd2l0aCBgbmdTaG93YC9gbmdIaWRlYCwgeW91IGNhbiBzaW1wbHkgb3ZlcndyaXRlIHRoZSBzdHlsZXMgZm9yXHJcbiAgICogdGhlIGAubmctaGlkZWAgQ1NTIGNsYXNzLiBOb3RlIHRoYXQgdGhlIHNlbGVjdG9yIHRoYXQgbmVlZHMgdG8gYmUgdXNlZCBpcyBhY3R1YWxseVxyXG4gICAqIGAubmctaGlkZTpub3QoLm5nLWhpZGUtYW5pbWF0ZSlgIHRvIGNvcGUgd2l0aCBleHRyYSBhbmltYXRpb24gY2xhc3NlcyB0aGF0IGNhbiBiZSBhZGRlZC5cclxuICAgKlxyXG4gICAqIGBgYGNzc1xyXG4gICAqIC5uZy1oaWRlOm5vdCgubmctaGlkZS1hbmltYXRlKSB7XHJcbiAgICogICAvJiM0MjsgVGhlc2UgYXJlIGp1c3QgYWx0ZXJuYXRpdmUgd2F5cyBvZiBoaWRpbmcgYW4gZWxlbWVudCAmIzQyOy9cclxuICAgKiAgIGRpc3BsYXk6IGJsb2NrIWltcG9ydGFudDtcclxuICAgKiAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgKiAgIHRvcDogLTk5OTlweDtcclxuICAgKiAgIGxlZnQ6IC05OTk5cHg7XHJcbiAgICogfVxyXG4gICAqIGBgYFxyXG4gICAqXHJcbiAgICogQnkgZGVmYXVsdCB5b3UgZG9uJ3QgbmVlZCB0byBvdmVycmlkZSBpbiBDU1MgYW55dGhpbmcgYW5kIHRoZSBhbmltYXRpb25zIHdpbGwgd29yayBhcm91bmQgdGhlXHJcbiAgICogZGlzcGxheSBzdHlsZS5cclxuICAgKlxyXG4gICAqICMjIEEgbm90ZSBhYm91dCBhbmltYXRpb25zIHdpdGggYG5nSGlkZWBcclxuICAgKlxyXG4gICAqIEFuaW1hdGlvbnMgaW4gYG5nU2hvd2AvYG5nSGlkZWAgd29yayB3aXRoIHRoZSBzaG93IGFuZCBoaWRlIGV2ZW50cyB0aGF0IGFyZSB0cmlnZ2VyZWQgd2hlbiB0aGVcclxuICAgKiBkaXJlY3RpdmUgZXhwcmVzc2lvbiBpcyB0cnVlIGFuZCBmYWxzZS4gVGhpcyBzeXN0ZW0gd29ya3MgbGlrZSB0aGUgYW5pbWF0aW9uIHN5c3RlbSBwcmVzZW50IHdpdGhcclxuICAgKiBgbmdDbGFzc2AgZXhjZXB0IHRoYXQgeW91IG11c3QgYWxzbyBpbmNsdWRlIHRoZSBgIWltcG9ydGFudGAgZmxhZyB0byBvdmVycmlkZSB0aGUgZGlzcGxheVxyXG4gICAqIHByb3BlcnR5IHNvIHRoYXQgdGhlIGVsZW1lbnRzIGFyZSBub3QgYWN0dWFsbHkgaGlkZGVuIGR1cmluZyB0aGUgYW5pbWF0aW9uLlxyXG4gICAqXHJcbiAgICogYGBgY3NzXHJcbiAgICogLyYjNDI7IEEgd29ya2luZyBleGFtcGxlIGNhbiBiZSBmb3VuZCBhdCB0aGUgYm90dG9tIG9mIHRoaXMgcGFnZS4gJiM0MjsvXHJcbiAgICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQsIC5teS1lbGVtZW50Lm5nLWhpZGUtcmVtb3ZlIHtcclxuICAgKiAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGxpbmVhcjtcclxuICAgKiB9XHJcbiAgICpcclxuICAgKiAubXktZWxlbWVudC5uZy1oaWRlLWFkZCB7IC4uLiB9XHJcbiAgICogLm15LWVsZW1lbnQubmctaGlkZS1hZGQubmctaGlkZS1hZGQtYWN0aXZlIHsgLi4uIH1cclxuICAgKiAubXktZWxlbWVudC5uZy1oaWRlLXJlbW92ZSB7IC4uLiB9XHJcbiAgICogLm15LWVsZW1lbnQubmctaGlkZS1yZW1vdmUubmctaGlkZS1yZW1vdmUtYWN0aXZlIHsgLi4uIH1cclxuICAgKiBgYGBcclxuICAgKlxyXG4gICAqIEtlZXAgaW4gbWluZCB0aGF0LCBhcyBvZiBBbmd1bGFySlMgdmVyc2lvbiAxLjMsIHRoZXJlIGlzIG5vIG5lZWQgdG8gY2hhbmdlIHRoZSBkaXNwbGF5IHByb3BlcnR5XHJcbiAgICogdG8gYmxvY2sgZHVyaW5nIGFuaW1hdGlvbiBzdGF0ZXMgLSBuZ0FuaW1hdGUgd2lsbCBhdXRvbWF0aWNhbGx5IGhhbmRsZSB0aGUgc3R5bGUgdG9nZ2xpbmcgZm9yIHlvdS5cclxuICAgKlxyXG4gICAqIEBhbmltYXRpb25zXHJcbiAgICogfCBBbmltYXRpb24gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHxcclxuICAgKiB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tfFxyXG4gICAqIHwge0BsaW5rICRhbmltYXRlI2FkZENsYXNzIGFkZENsYXNzfSBgLm5nLWhpZGVgICAgICAgIHwgQWZ0ZXIgdGhlIGBuZ0hpZGVgIGV4cHJlc3Npb24gZXZhbHVhdGVzIHRvIGEgdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSB0aGUgY29udGVudHMgYXJlIHNldCB0byBoaWRkZW4uICB8XHJcbiAgICogfCB7QGxpbmsgJGFuaW1hdGUjcmVtb3ZlQ2xhc3MgcmVtb3ZlQ2xhc3N9IGAubmctaGlkZWAgfCBBZnRlciB0aGUgYG5nSGlkZWAgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBub24gdHJ1dGh5IHZhbHVlIGFuZCBqdXN0IGJlZm9yZSBjb250ZW50cyBhcmUgc2V0IHRvIHZpc2libGUuIHxcclxuICAgKlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgQU5ZXHJcbiAgICogQHBhcmFtIHtleHByZXNzaW9ufSBuZ0hpZGUgSWYgdGhlIHtAbGluayBndWlkZS9leHByZXNzaW9uIGV4cHJlc3Npb259IGlzIHRydXRoeS9mYWxzeSB0aGVuIHRoZVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQgaXMgaGlkZGVuL3Nob3duIHJlc3BlY3RpdmVseS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogQSBzaW1wbGUgZXhhbXBsZSwgYW5pbWF0aW5nIHRoZSBlbGVtZW50J3Mgb3BhY2l0eTpcclxuICAgKlxyXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLWhpZGUtc2ltcGxlXCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgSGlkZTogPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwiY2hlY2tlZFwiIGFyaWEtbGFiZWw9XCJUb2dnbGUgbmdIaWRlXCI+PGJyIC8+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNoZWNrLWVsZW1lbnQgYW5pbWF0ZS1zaG93LWhpZGVcIiBuZy1oaWRlPVwiY2hlY2tlZFwiPlxyXG4gICAgICAgICAgSSBoaWRlIHdoZW4geW91ciBjaGVja2JveCBpcyBjaGVja2VkLlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxyXG4gICAgICAgIC5hbmltYXRlLXNob3ctaGlkZS5uZy1oaWRlIHtcclxuICAgICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgIC5hbmltYXRlLXNob3ctaGlkZS5uZy1oaWRlLWFkZCxcclxuICAgICAgICAuYW5pbWF0ZS1zaG93LWhpZGUubmctaGlkZS1yZW1vdmUge1xyXG4gICAgICAgICAgdHJhbnNpdGlvbjogYWxsIGxpbmVhciAwLjVzO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuY2hlY2stZWxlbWVudCB7XHJcbiAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBjaGVjayBuZ0hpZGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHZhciBjaGVja2JveCA9IGVsZW1lbnQoYnkubW9kZWwoJ2NoZWNrZWQnKSk7XHJcbiAgICAgICAgICB2YXIgY2hlY2tFbGVtID0gZWxlbWVudChieS5jc3MoJy5jaGVjay1lbGVtZW50JykpO1xyXG4gIFxyXG4gICAgICAgICAgZXhwZWN0KGNoZWNrRWxlbS5pc0Rpc3BsYXllZCgpKS50b0JlKHRydWUpO1xyXG4gICAgICAgICAgY2hlY2tib3guY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChjaGVja0VsZW0uaXNEaXNwbGF5ZWQoKSkudG9CZShmYWxzZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICAgKlxyXG4gICAqIDxociAvPlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogQSBtb3JlIGNvbXBsZXggZXhhbXBsZSwgZmVhdHVyaW5nIGRpZmZlcmVudCBzaG93L2hpZGUgYW5pbWF0aW9uczpcclxuICAgKlxyXG4gICAgPGV4YW1wbGUgbW9kdWxlPVwibmdBbmltYXRlXCIgZGVwcz1cImFuZ3VsYXItYW5pbWF0ZS5qc1wiIGFuaW1hdGlvbnM9XCJ0cnVlXCIgbmFtZT1cIm5nLWhpZGUtY29tcGxleFwiPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAgICAgIEhpZGU6IDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuZy1tb2RlbD1cImNoZWNrZWRcIiBhcmlhLWxhYmVsPVwiVG9nZ2xlIG5nSGlkZVwiPjxiciAvPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjaGVjay1lbGVtZW50IGZ1bmt5LXNob3ctaGlkZVwiIG5nLWhpZGU9XCJjaGVja2VkXCI+XHJcbiAgICAgICAgICBJIGhpZGUgd2hlbiB5b3VyIGNoZWNrYm94IGlzIGNoZWNrZWQuXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cImFuaW1hdGlvbnMuY3NzXCI+XHJcbiAgICAgICAgYm9keSB7XHJcbiAgICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgICAgcGVyc3BlY3RpdmU6IDEwMDBweDtcclxuICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgLmZ1bmt5LXNob3ctaGlkZS5uZy1oaWRlLWFkZCB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZVooMCk7XHJcbiAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodDtcclxuICAgICAgICAgIHRyYW5zaXRpb246IGFsbCAwLjVzIGVhc2UtaW4tb3V0O1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuZnVua3ktc2hvdy1oaWRlLm5nLWhpZGUtYWRkLm5nLWhpZGUtYWRkLWFjdGl2ZSB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZVooLTEzNWRlZyk7XHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgIC5mdW5reS1zaG93LWhpZGUubmctaGlkZS1yZW1vdmUge1xyXG4gICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGVZKDkwZGVnKTtcclxuICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQ7XHJcbiAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC41cyBlYXNlO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuZnVua3ktc2hvdy1oaWRlLm5nLWhpZGUtcmVtb3ZlLm5nLWhpZGUtcmVtb3ZlLWFjdGl2ZSB7XHJcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZVkoMCk7XHJcbiAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgIC5jaGVjay1lbGVtZW50IHtcclxuICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgb3BhY2l0eTogMTtcclxuICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICBpdCgnc2hvdWxkIGNoZWNrIG5nSGlkZScsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgdmFyIGNoZWNrYm94ID0gZWxlbWVudChieS5tb2RlbCgnY2hlY2tlZCcpKTtcclxuICAgICAgICAgIHZhciBjaGVja0VsZW0gPSBlbGVtZW50KGJ5LmNzcygnLmNoZWNrLWVsZW1lbnQnKSk7XHJcbiAgXHJcbiAgICAgICAgICBleHBlY3QoY2hlY2tFbGVtLmlzRGlzcGxheWVkKCkpLnRvQmUodHJ1ZSk7XHJcbiAgICAgICAgICBjaGVja2JveC5jbGljaygpO1xyXG4gICAgICAgICAgZXhwZWN0KGNoZWNrRWxlbS5pc0Rpc3BsYXllZCgpKS50b0JlKGZhbHNlKTtcclxuICAgICAgICB9KTtcclxuICAgICAgPC9maWxlPlxyXG4gICAgPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIHZhciBuZ0hpZGVEaXJlY3RpdmUgPSBbJyRhbmltYXRlJywgZnVuY3Rpb24gKCRhbmltYXRlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICBtdWx0aUVsZW1lbnQ6IHRydWUsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICBzY29wZS4kd2F0Y2goYXR0ci5uZ0hpZGUsIGZ1bmN0aW9uIG5nSGlkZVdhdGNoQWN0aW9uKHZhbHVlKSB7XHJcbiAgICAgICAgICAvLyBUaGUgY29tbWVudCBpbnNpZGUgb2YgdGhlIG5nU2hvd0RpcmVjdGl2ZSBleHBsYWlucyB3aHkgd2UgYWRkIGFuZFxyXG4gICAgICAgICAgLy8gcmVtb3ZlIGEgdGVtcG9yYXJ5IGNsYXNzIGZvciB0aGUgc2hvdy9oaWRlIGFuaW1hdGlvblxyXG4gICAgICAgICAgJGFuaW1hdGVbdmFsdWUgPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10oZWxlbWVudCwgTkdfSElERV9DTEFTUywge1xyXG4gICAgICAgICAgICB0ZW1wQ2xhc3NlczogTkdfSElERV9JTl9QUk9HUkVTU19DTEFTU1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ1N0eWxlXHJcbiAgICogQHJlc3RyaWN0IEFDXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYG5nU3R5bGVgIGRpcmVjdGl2ZSBhbGxvd3MgeW91IHRvIHNldCBDU1Mgc3R5bGUgb24gYW4gSFRNTCBlbGVtZW50IGNvbmRpdGlvbmFsbHkuXHJcbiAgICpcclxuICAgKiBAa25vd25Jc3N1ZVxyXG4gICAqIFlvdSBzaG91bGQgbm90IHVzZSB7QGxpbmsgZ3VpZGUvaW50ZXJwb2xhdGlvbiBpbnRlcnBvbGF0aW9ufSBpbiB0aGUgdmFsdWUgb2YgdGhlIGBzdHlsZWBcclxuICAgKiBhdHRyaWJ1dGUsIHdoZW4gdXNpbmcgdGhlIGBuZ1N0eWxlYCBkaXJlY3RpdmUgb24gdGhlIHNhbWUgZWxlbWVudC5cclxuICAgKiBTZWUge0BsaW5rIGd1aWRlL2ludGVycG9sYXRpb24ja25vd24taXNzdWVzIGhlcmV9IGZvciBtb3JlIGluZm8uXHJcbiAgICpcclxuICAgKiBAZWxlbWVudCBBTllcclxuICAgKiBAcGFyYW0ge2V4cHJlc3Npb259IG5nU3R5bGVcclxuICAgKlxyXG4gICAqIHtAbGluayBndWlkZS9leHByZXNzaW9uIEV4cHJlc3Npb259IHdoaWNoIGV2YWxzIHRvIGFuXHJcbiAgICogb2JqZWN0IHdob3NlIGtleXMgYXJlIENTUyBzdHlsZSBuYW1lcyBhbmQgdmFsdWVzIGFyZSBjb3JyZXNwb25kaW5nIHZhbHVlcyBmb3IgdGhvc2UgQ1NTXHJcbiAgICoga2V5cy5cclxuICAgKlxyXG4gICAqIFNpbmNlIHNvbWUgQ1NTIHN0eWxlIG5hbWVzIGFyZSBub3QgdmFsaWQga2V5cyBmb3IgYW4gb2JqZWN0LCB0aGV5IG11c3QgYmUgcXVvdGVkLlxyXG4gICAqIFNlZSB0aGUgJ2JhY2tncm91bmQtY29sb3InIHN0eWxlIGluIHRoZSBleGFtcGxlIGJlbG93LlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgICA8ZXhhbXBsZSBuYW1lPVwibmctc3R5bGVcIj5cclxuICAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgICA8aW5wdXQgdHlwZT1cImJ1dHRvblwiIHZhbHVlPVwic2V0IGNvbG9yXCIgbmctY2xpY2s9XCJteVN0eWxlPXtjb2xvcjoncmVkJ31cIj5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJzZXQgYmFja2dyb3VuZFwiIG5nLWNsaWNrPVwibXlTdHlsZT17J2JhY2tncm91bmQtY29sb3InOidibHVlJ31cIj5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiYnV0dG9uXCIgdmFsdWU9XCJjbGVhclwiIG5nLWNsaWNrPVwibXlTdHlsZT17fVwiPlxyXG4gICAgICAgICAgPGJyLz5cclxuICAgICAgICAgIDxzcGFuIG5nLXN0eWxlPVwibXlTdHlsZVwiPlNhbXBsZSBUZXh0PC9zcGFuPlxyXG4gICAgICAgICAgPHByZT5teVN0eWxlPXt7bXlTdHlsZX19PC9wcmU+XHJcbiAgICAgICA8L2ZpbGU+XHJcbiAgICAgICA8ZmlsZSBuYW1lPVwic3R5bGUuY3NzXCI+XHJcbiAgICAgICAgIHNwYW4ge1xyXG4gICAgICAgICAgIGNvbG9yOiBibGFjaztcclxuICAgICAgICAgfVxyXG4gICAgICAgPC9maWxlPlxyXG4gICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICB2YXIgY29sb3JTcGFuID0gZWxlbWVudChieS5jc3MoJ3NwYW4nKSk7XHJcbiAgXHJcbiAgICAgICAgIGl0KCdzaG91bGQgY2hlY2sgbmctc3R5bGUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QoY29sb3JTcGFuLmdldENzc1ZhbHVlKCdjb2xvcicpKS50b0JlKCdyZ2JhKDAsIDAsIDAsIDEpJyk7XHJcbiAgICAgICAgICAgZWxlbWVudChieS5jc3MoJ2lucHV0W3ZhbHVlPVxcJ3NldCBjb2xvclxcJ10nKSkuY2xpY2soKTtcclxuICAgICAgICAgICBleHBlY3QoY29sb3JTcGFuLmdldENzc1ZhbHVlKCdjb2xvcicpKS50b0JlKCdyZ2JhKDI1NSwgMCwgMCwgMSknKTtcclxuICAgICAgICAgICBlbGVtZW50KGJ5LmNzcygnaW5wdXRbdmFsdWU9Y2xlYXJdJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICAgZXhwZWN0KGNvbG9yU3Bhbi5nZXRDc3NWYWx1ZSgnY29sb3InKSkudG9CZSgncmdiYSgwLCAwLCAwLCAxKScpO1xyXG4gICAgICAgICB9KTtcclxuICAgICAgIDwvZmlsZT5cclxuICAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG5nU3R5bGVEaXJlY3RpdmUgPSBuZ0RpcmVjdGl2ZShmdW5jdGlvbiAoc2NvcGUsIGVsZW1lbnQsIGF0dHIpIHtcclxuICAgIHNjb3BlLiR3YXRjaChhdHRyLm5nU3R5bGUsIGZ1bmN0aW9uIG5nU3R5bGVXYXRjaEFjdGlvbihuZXdTdHlsZXMsIG9sZFN0eWxlcykge1xyXG4gICAgICBpZiAob2xkU3R5bGVzICYmIG5ld1N0eWxlcyAhPT0gb2xkU3R5bGVzKSB7XHJcbiAgICAgICAgZm9yRWFjaChvbGRTdHlsZXMsIGZ1bmN0aW9uICh2YWwsIHN0eWxlKSB7XHJcbiAgICAgICAgICBlbGVtZW50LmNzcyhzdHlsZSwgJycpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChuZXdTdHlsZXMpIGVsZW1lbnQuY3NzKG5ld1N0eWxlcyk7XHJcbiAgICB9LCB0cnVlKTtcclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nU3dpdGNoXHJcbiAgICogQHJlc3RyaWN0IEVBXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBUaGUgYG5nU3dpdGNoYCBkaXJlY3RpdmUgaXMgdXNlZCB0byBjb25kaXRpb25hbGx5IHN3YXAgRE9NIHN0cnVjdHVyZSBvbiB5b3VyIHRlbXBsYXRlIGJhc2VkIG9uIGEgc2NvcGUgZXhwcmVzc2lvbi5cclxuICAgKiBFbGVtZW50cyB3aXRoaW4gYG5nU3dpdGNoYCBidXQgd2l0aG91dCBgbmdTd2l0Y2hXaGVuYCBvciBgbmdTd2l0Y2hEZWZhdWx0YCBkaXJlY3RpdmVzIHdpbGwgYmUgcHJlc2VydmVkIGF0IHRoZSBsb2NhdGlvblxyXG4gICAqIGFzIHNwZWNpZmllZCBpbiB0aGUgdGVtcGxhdGUuXHJcbiAgICpcclxuICAgKiBUaGUgZGlyZWN0aXZlIGl0c2VsZiB3b3JrcyBzaW1pbGFyIHRvIG5nSW5jbHVkZSwgaG93ZXZlciwgaW5zdGVhZCBvZiBkb3dubG9hZGluZyB0ZW1wbGF0ZSBjb2RlIChvciBsb2FkaW5nIGl0XHJcbiAgICogZnJvbSB0aGUgdGVtcGxhdGUgY2FjaGUpLCBgbmdTd2l0Y2hgIHNpbXBseSBjaG9vc2VzIG9uZSBvZiB0aGUgbmVzdGVkIGVsZW1lbnRzIGFuZCBtYWtlcyBpdCB2aXNpYmxlIGJhc2VkIG9uIHdoaWNoIGVsZW1lbnRcclxuICAgKiBtYXRjaGVzIHRoZSB2YWx1ZSBvYnRhaW5lZCBmcm9tIHRoZSBldmFsdWF0ZWQgZXhwcmVzc2lvbi4gSW4gb3RoZXIgd29yZHMsIHlvdSBkZWZpbmUgYSBjb250YWluZXIgZWxlbWVudFxyXG4gICAqICh3aGVyZSB5b3UgcGxhY2UgdGhlIGRpcmVjdGl2ZSksIHBsYWNlIGFuIGV4cHJlc3Npb24gb24gdGhlICoqYG9uPVwiLi4uXCJgIGF0dHJpYnV0ZSoqXHJcbiAgICogKG9yIHRoZSAqKmBuZy1zd2l0Y2g9XCIuLi5cImAgYXR0cmlidXRlKiopLCBkZWZpbmUgYW55IGlubmVyIGVsZW1lbnRzIGluc2lkZSBvZiB0aGUgZGlyZWN0aXZlIGFuZCBwbGFjZVxyXG4gICAqIGEgd2hlbiBhdHRyaWJ1dGUgcGVyIGVsZW1lbnQuIFRoZSB3aGVuIGF0dHJpYnV0ZSBpcyB1c2VkIHRvIGluZm9ybSBuZ1N3aXRjaCB3aGljaCBlbGVtZW50IHRvIGRpc3BsYXkgd2hlbiB0aGUgb25cclxuICAgKiBleHByZXNzaW9uIGlzIGV2YWx1YXRlZC4gSWYgYSBtYXRjaGluZyBleHByZXNzaW9uIGlzIG5vdCBmb3VuZCB2aWEgYSB3aGVuIGF0dHJpYnV0ZSB0aGVuIGFuIGVsZW1lbnQgd2l0aCB0aGUgZGVmYXVsdFxyXG4gICAqIGF0dHJpYnV0ZSBpcyBkaXNwbGF5ZWQuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gICAqIEJlIGF3YXJlIHRoYXQgdGhlIGF0dHJpYnV0ZSB2YWx1ZXMgdG8gbWF0Y2ggYWdhaW5zdCBjYW5ub3QgYmUgZXhwcmVzc2lvbnMuIFRoZXkgYXJlIGludGVycHJldGVkXHJcbiAgICogYXMgbGl0ZXJhbCBzdHJpbmcgdmFsdWVzIHRvIG1hdGNoIGFnYWluc3QuXHJcbiAgICogRm9yIGV4YW1wbGUsICoqYG5nLXN3aXRjaC13aGVuPVwic29tZVZhbFwiYCoqIHdpbGwgbWF0Y2ggYWdhaW5zdCB0aGUgc3RyaW5nIGBcInNvbWVWYWxcImAgbm90IGFnYWluc3QgdGhlXHJcbiAgICogdmFsdWUgb2YgdGhlIGV4cHJlc3Npb24gYCRzY29wZS5zb21lVmFsYC5cclxuICAgKiA8L2Rpdj5cclxuICBcclxuICAgKiBAYW5pbWF0aW9uc1xyXG4gICAqIHwgQW5pbWF0aW9uICAgICAgICAgICAgICAgICAgICAgICAgfCBPY2N1cnMgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8XHJcbiAgICogfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS18LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLXxcclxuICAgKiB8IHtAbGluayBuZy4kYW5pbWF0ZSNlbnRlciBlbnRlcn0gIHwgYWZ0ZXIgdGhlIG5nU3dpdGNoIGNvbnRlbnRzIGNoYW5nZSBhbmQgdGhlIG1hdGNoZWQgY2hpbGQgZWxlbWVudCBpcyBwbGFjZWQgaW5zaWRlIHRoZSBjb250YWluZXIgfFxyXG4gICAqIHwge0BsaW5rIG5nLiRhbmltYXRlI2xlYXZlIGxlYXZlfSAgfCBhZnRlciB0aGUgbmdTd2l0Y2ggY29udGVudHMgY2hhbmdlIGFuZCBqdXN0IGJlZm9yZSB0aGUgZm9ybWVyIGNvbnRlbnRzIGFyZSByZW1vdmVkIGZyb20gdGhlIERPTSB8XHJcbiAgICpcclxuICAgKiBAdXNhZ2VcclxuICAgKlxyXG4gICAqIGBgYFxyXG4gICAqIDxBTlkgbmctc3dpdGNoPVwiZXhwcmVzc2lvblwiPlxyXG4gICAqICAgPEFOWSBuZy1zd2l0Y2gtd2hlbj1cIm1hdGNoVmFsdWUxXCI+Li4uPC9BTlk+XHJcbiAgICogICA8QU5ZIG5nLXN3aXRjaC13aGVuPVwibWF0Y2hWYWx1ZTJcIj4uLi48L0FOWT5cclxuICAgKiAgIDxBTlkgbmctc3dpdGNoLWRlZmF1bHQ+Li4uPC9BTlk+XHJcbiAgICogPC9BTlk+XHJcbiAgICogYGBgXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBzY29wZVxyXG4gICAqIEBwcmlvcml0eSAxMjAwXHJcbiAgICogQHBhcmFtIHsqfSBuZ1N3aXRjaHxvbiBleHByZXNzaW9uIHRvIG1hdGNoIGFnYWluc3QgPGNvZGU+bmctc3dpdGNoLXdoZW48L2NvZGU+LlxyXG4gICAqIE9uIGNoaWxkIGVsZW1lbnRzIGFkZDpcclxuICAgKlxyXG4gICAqICogYG5nU3dpdGNoV2hlbmA6IHRoZSBjYXNlIHN0YXRlbWVudCB0byBtYXRjaCBhZ2FpbnN0LiBJZiBtYXRjaCB0aGVuIHRoaXNcclxuICAgKiAgIGNhc2Ugd2lsbCBiZSBkaXNwbGF5ZWQuIElmIHRoZSBzYW1lIG1hdGNoIGFwcGVhcnMgbXVsdGlwbGUgdGltZXMsIGFsbCB0aGVcclxuICAgKiAgIGVsZW1lbnRzIHdpbGwgYmUgZGlzcGxheWVkLiBJdCBpcyBwb3NzaWJsZSB0byBhc3NvY2lhdGUgbXVsdGlwbGUgdmFsdWVzIHRvXHJcbiAgICogICB0aGUgc2FtZSBgbmdTd2l0Y2hXaGVuYCBieSBkZWZpbmluZyB0aGUgb3B0aW9uYWwgYXR0cmlidXRlXHJcbiAgICogICBgbmdTd2l0Y2hXaGVuU2VwYXJhdG9yYC4gVGhlIHNlcGFyYXRvciB3aWxsIGJlIHVzZWQgdG8gc3BsaXQgdGhlIHZhbHVlIG9mXHJcbiAgICogICB0aGUgYG5nU3dpdGNoV2hlbmAgYXR0cmlidXRlIGludG8gbXVsdGlwbGUgdG9rZW5zLCBhbmQgdGhlIGVsZW1lbnQgd2lsbCBzaG93XHJcbiAgICogICBpZiBhbnkgb2YgdGhlIGBuZ1N3aXRjaGAgZXZhbHVhdGVzIHRvIGFueSBvZiB0aGVzZSB0b2tlbnMuXHJcbiAgICogKiBgbmdTd2l0Y2hEZWZhdWx0YDogdGhlIGRlZmF1bHQgY2FzZSB3aGVuIG5vIG90aGVyIGNhc2UgbWF0Y2guIElmIHRoZXJlXHJcbiAgICogICBhcmUgbXVsdGlwbGUgZGVmYXVsdCBjYXNlcywgYWxsIG9mIHRoZW0gd2lsbCBiZSBkaXNwbGF5ZWQgd2hlbiBubyBvdGhlclxyXG4gICAqICAgY2FzZSBtYXRjaC5cclxuICAgKlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgIDxleGFtcGxlIG1vZHVsZT1cInN3aXRjaEV4YW1wbGVcIiBkZXBzPVwiYW5ndWxhci1hbmltYXRlLmpzXCIgYW5pbWF0aW9ucz1cInRydWVcIiBuYW1lPVwibmctc3dpdGNoXCI+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgICAgICAgIDxzZWxlY3QgbmctbW9kZWw9XCJzZWxlY3Rpb25cIiBuZy1vcHRpb25zPVwiaXRlbSBmb3IgaXRlbSBpbiBpdGVtc1wiPlxyXG4gICAgICAgICAgPC9zZWxlY3Q+XHJcbiAgICAgICAgICA8Y29kZT5zZWxlY3Rpb249e3tzZWxlY3Rpb259fTwvY29kZT5cclxuICAgICAgICAgIDxoci8+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYW5pbWF0ZS1zd2l0Y2gtY29udGFpbmVyXCJcclxuICAgICAgICAgICAgbmctc3dpdGNoIG9uPVwic2VsZWN0aW9uXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImFuaW1hdGUtc3dpdGNoXCIgbmctc3dpdGNoLXdoZW49XCJzZXR0aW5nc3xvcHRpb25zXCIgbmctc3dpdGNoLXdoZW4tc2VwYXJhdG9yPVwifFwiPlNldHRpbmdzIERpdjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC13aGVuPVwiaG9tZVwiPkhvbWUgU3BhbjwvZGl2PlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhbmltYXRlLXN3aXRjaFwiIG5nLXN3aXRjaC1kZWZhdWx0PmRlZmF1bHQ8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cclxuICAgICAgICBhbmd1bGFyLm1vZHVsZSgnc3dpdGNoRXhhbXBsZScsIFsnbmdBbmltYXRlJ10pXHJcbiAgICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAgICAgICAgICAkc2NvcGUuaXRlbXMgPSBbJ3NldHRpbmdzJywgJ2hvbWUnLCAnb3B0aW9ucycsICdvdGhlciddO1xyXG4gICAgICAgICAgICAkc2NvcGUuc2VsZWN0aW9uID0gJHNjb3BlLml0ZW1zWzBdO1xyXG4gICAgICAgICAgfV0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICAgIDxmaWxlIG5hbWU9XCJhbmltYXRpb25zLmNzc1wiPlxyXG4gICAgICAgIC5hbmltYXRlLXN3aXRjaC1jb250YWluZXIge1xyXG4gICAgICAgICAgcG9zaXRpb246cmVsYXRpdmU7XHJcbiAgICAgICAgICBiYWNrZ3JvdW5kOndoaXRlO1xyXG4gICAgICAgICAgYm9yZGVyOjFweCBzb2xpZCBibGFjaztcclxuICAgICAgICAgIGhlaWdodDo0MHB4O1xyXG4gICAgICAgICAgb3ZlcmZsb3c6aGlkZGVuO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuYW5pbWF0ZS1zd2l0Y2gge1xyXG4gICAgICAgICAgcGFkZGluZzoxMHB4O1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctYW5pbWF0ZSB7XHJcbiAgICAgICAgICB0cmFuc2l0aW9uOmFsbCBjdWJpYy1iZXppZXIoMC4yNTAsIDAuNDYwLCAwLjQ1MCwgMC45NDApIDAuNXM7XHJcbiAgXHJcbiAgICAgICAgICBwb3NpdGlvbjphYnNvbHV0ZTtcclxuICAgICAgICAgIHRvcDowO1xyXG4gICAgICAgICAgbGVmdDowO1xyXG4gICAgICAgICAgcmlnaHQ6MDtcclxuICAgICAgICAgIGJvdHRvbTowO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctbGVhdmUubmctbGVhdmUtYWN0aXZlLFxyXG4gICAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1lbnRlciB7XHJcbiAgICAgICAgICB0b3A6LTUwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5hbmltYXRlLXN3aXRjaC5uZy1sZWF2ZSxcclxuICAgICAgICAuYW5pbWF0ZS1zd2l0Y2gubmctZW50ZXIubmctZW50ZXItYWN0aXZlIHtcclxuICAgICAgICAgIHRvcDowO1xyXG4gICAgICAgIH1cclxuICAgICAgPC9maWxlPlxyXG4gICAgICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgdmFyIHN3aXRjaEVsZW0gPSBlbGVtZW50KGJ5LmNzcygnW25nLXN3aXRjaF0nKSk7XHJcbiAgICAgICAgdmFyIHNlbGVjdCA9IGVsZW1lbnQoYnkubW9kZWwoJ3NlbGVjdGlvbicpKTtcclxuICBcclxuICAgICAgICBpdCgnc2hvdWxkIHN0YXJ0IGluIHNldHRpbmdzJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL1NldHRpbmdzIERpdi8pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIGhvbWUnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIHNlbGVjdC5hbGwoYnkuY3NzKCdvcHRpb24nKSkuZ2V0KDEpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3Qoc3dpdGNoRWxlbS5nZXRUZXh0KCkpLnRvTWF0Y2goL0hvbWUgU3Bhbi8pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGl0KCdzaG91bGQgY2hhbmdlIHRvIHNldHRpbmdzIHZpYSBcIm9wdGlvbnNcIicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMikuY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvU2V0dGluZ3MgRGl2Lyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaXQoJ3Nob3VsZCBzZWxlY3QgZGVmYXVsdCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgc2VsZWN0LmFsbChieS5jc3MoJ29wdGlvbicpKS5nZXQoMykuY2xpY2soKTtcclxuICAgICAgICAgIGV4cGVjdChzd2l0Y2hFbGVtLmdldFRleHQoKSkudG9NYXRjaCgvZGVmYXVsdC8pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICA8L2ZpbGU+XHJcbiAgICA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG5nU3dpdGNoRGlyZWN0aXZlID0gWyckYW5pbWF0ZScsICckY29tcGlsZScsIGZ1bmN0aW9uICgkYW5pbWF0ZSwgJGNvbXBpbGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlcXVpcmU6ICduZ1N3aXRjaCcsXHJcblxyXG4gICAgICAvLyBhc2tzIGZvciAkc2NvcGUgdG8gZm9vbCB0aGUgQkMgY29udHJvbGxlciBtb2R1bGVcclxuICAgICAgY29udHJvbGxlcjogWyckc2NvcGUnLCBmdW5jdGlvbiBOZ1N3aXRjaENvbnRyb2xsZXIoKSB7XHJcbiAgICAgICAgdGhpcy5jYXNlcyA9IHt9O1xyXG4gICAgICB9XSxcclxuICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0ciwgbmdTd2l0Y2hDb250cm9sbGVyKSB7XHJcbiAgICAgICAgdmFyIHdhdGNoRXhwciA9IGF0dHIubmdTd2l0Y2ggfHwgYXR0ci5vbixcclxuICAgICAgICAgICAgc2VsZWN0ZWRUcmFuc2NsdWRlcyA9IFtdLFxyXG4gICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzID0gW10sXHJcbiAgICAgICAgICAgIHByZXZpb3VzTGVhdmVBbmltYXRpb25zID0gW10sXHJcbiAgICAgICAgICAgIHNlbGVjdGVkU2NvcGVzID0gW107XHJcblxyXG4gICAgICAgIHZhciBzcGxpY2VGYWN0b3J5ID0gZnVuY3Rpb24gc3BsaWNlRmFjdG9yeShhcnJheSwgaW5kZXgpIHtcclxuICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAocmVzcG9uc2UpIHtcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlICE9PSBmYWxzZSkgYXJyYXkuc3BsaWNlKGluZGV4LCAxKTtcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgc2NvcGUuJHdhdGNoKHdhdGNoRXhwciwgZnVuY3Rpb24gbmdTd2l0Y2hXYXRjaEFjdGlvbih2YWx1ZSkge1xyXG4gICAgICAgICAgdmFyIGksIGlpO1xyXG5cclxuICAgICAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIGxhc3QsIGluIGNhc2UgdGhlIGFycmF5IGlzIG1vZGlmaWVkIGR1cmluZyB0aGUgbG9vcFxyXG4gICAgICAgICAgd2hpbGUgKHByZXZpb3VzTGVhdmVBbmltYXRpb25zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAkYW5pbWF0ZS5jYW5jZWwocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMucG9wKCkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gc2VsZWN0ZWRTY29wZXMubGVuZ3RoOyBpIDwgaWk7ICsraSkge1xyXG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWQgPSBnZXRCbG9ja05vZGVzKHNlbGVjdGVkRWxlbWVudHNbaV0uY2xvbmUpO1xyXG4gICAgICAgICAgICBzZWxlY3RlZFNjb3Blc1tpXS4kZGVzdHJveSgpO1xyXG4gICAgICAgICAgICB2YXIgcnVubmVyID0gcHJldmlvdXNMZWF2ZUFuaW1hdGlvbnNbaV0gPSAkYW5pbWF0ZS5sZWF2ZShzZWxlY3RlZCk7XHJcbiAgICAgICAgICAgIHJ1bm5lci5kb25lKHNwbGljZUZhY3RvcnkocHJldmlvdXNMZWF2ZUFuaW1hdGlvbnMsIGkpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICBzZWxlY3RlZFNjb3Blcy5sZW5ndGggPSAwO1xyXG5cclxuICAgICAgICAgIGlmIChzZWxlY3RlZFRyYW5zY2x1ZGVzID0gbmdTd2l0Y2hDb250cm9sbGVyLmNhc2VzWychJyArIHZhbHVlXSB8fCBuZ1N3aXRjaENvbnRyb2xsZXIuY2FzZXNbJz8nXSkge1xyXG4gICAgICAgICAgICBmb3JFYWNoKHNlbGVjdGVkVHJhbnNjbHVkZXMsIGZ1bmN0aW9uIChzZWxlY3RlZFRyYW5zY2x1ZGUpIHtcclxuICAgICAgICAgICAgICBzZWxlY3RlZFRyYW5zY2x1ZGUudHJhbnNjbHVkZShmdW5jdGlvbiAoY2FzZUVsZW1lbnQsIHNlbGVjdGVkU2NvcGUpIHtcclxuICAgICAgICAgICAgICAgIHNlbGVjdGVkU2NvcGVzLnB1c2goc2VsZWN0ZWRTY29wZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgYW5jaG9yID0gc2VsZWN0ZWRUcmFuc2NsdWRlLmVsZW1lbnQ7XHJcbiAgICAgICAgICAgICAgICBjYXNlRWxlbWVudFtjYXNlRWxlbWVudC5sZW5ndGgrK10gPSAkY29tcGlsZS4kJGNyZWF0ZUNvbW1lbnQoJ2VuZCBuZ1N3aXRjaFdoZW4nKTtcclxuICAgICAgICAgICAgICAgIHZhciBibG9jayA9IHsgY2xvbmU6IGNhc2VFbGVtZW50IH07XHJcblxyXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5wdXNoKGJsb2NrKTtcclxuICAgICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNhc2VFbGVtZW50LCBhbmNob3IucGFyZW50KCksIGFuY2hvcik7XHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG5cclxuICB2YXIgbmdTd2l0Y2hXaGVuRGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xyXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgcHJpb3JpdHk6IDEyMDAsXHJcbiAgICByZXF1aXJlOiAnXm5nU3dpdGNoJyxcclxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJsLCAkdHJhbnNjbHVkZSkge1xyXG5cclxuICAgICAgdmFyIGNhc2VzID0gYXR0cnMubmdTd2l0Y2hXaGVuLnNwbGl0KGF0dHJzLm5nU3dpdGNoV2hlblNlcGFyYXRvcikuc29ydCgpLmZpbHRlcihcclxuICAgICAgLy8gRmlsdGVyIGR1cGxpY2F0ZSBjYXNlc1xyXG4gICAgICBmdW5jdGlvbiAoZWxlbWVudCwgaW5kZXgsIGFycmF5KSB7XHJcbiAgICAgICAgcmV0dXJuIGFycmF5W2luZGV4IC0gMV0gIT09IGVsZW1lbnQ7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgZm9yRWFjaChjYXNlcywgZnVuY3Rpb24gKHdoZW5DYXNlKSB7XHJcbiAgICAgICAgY3RybC5jYXNlc1snIScgKyB3aGVuQ2FzZV0gPSBjdHJsLmNhc2VzWychJyArIHdoZW5DYXNlXSB8fCBbXTtcclxuICAgICAgICBjdHJsLmNhc2VzWychJyArIHdoZW5DYXNlXS5wdXNoKHsgdHJhbnNjbHVkZTogJHRyYW5zY2x1ZGUsIGVsZW1lbnQ6IGVsZW1lbnQgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gIH0pO1xyXG5cclxuICB2YXIgbmdTd2l0Y2hEZWZhdWx0RGlyZWN0aXZlID0gbmdEaXJlY3RpdmUoe1xyXG4gICAgdHJhbnNjbHVkZTogJ2VsZW1lbnQnLFxyXG4gICAgcHJpb3JpdHk6IDEyMDAsXHJcbiAgICByZXF1aXJlOiAnXm5nU3dpdGNoJyxcclxuICAgIG11bHRpRWxlbWVudDogdHJ1ZSxcclxuICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmwsICR0cmFuc2NsdWRlKSB7XHJcbiAgICAgIGN0cmwuY2FzZXNbJz8nXSA9IGN0cmwuY2FzZXNbJz8nXSB8fCBbXTtcclxuICAgICAgY3RybC5jYXNlc1snPyddLnB1c2goeyB0cmFuc2NsdWRlOiAkdHJhbnNjbHVkZSwgZWxlbWVudDogZWxlbWVudCB9KTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIG5nVHJhbnNjbHVkZVxyXG4gICAqIEByZXN0cmljdCBFQUNcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIERpcmVjdGl2ZSB0aGF0IG1hcmtzIHRoZSBpbnNlcnRpb24gcG9pbnQgZm9yIHRoZSB0cmFuc2NsdWRlZCBET00gb2YgdGhlIG5lYXJlc3QgcGFyZW50IGRpcmVjdGl2ZSB0aGF0IHVzZXMgdHJhbnNjbHVzaW9uLlxyXG4gICAqXHJcbiAgICogWW91IGNhbiBzcGVjaWZ5IHRoYXQgeW91IHdhbnQgdG8gaW5zZXJ0IGEgbmFtZWQgdHJhbnNjbHVzaW9uIHNsb3QsIGluc3RlYWQgb2YgdGhlIGRlZmF1bHQgc2xvdCwgYnkgcHJvdmlkaW5nIHRoZSBzbG90IG5hbWVcclxuICAgKiBhcyB0aGUgdmFsdWUgb2YgdGhlIGBuZy10cmFuc2NsdWRlYCBvciBgbmctdHJhbnNjbHVkZS1zbG90YCBhdHRyaWJ1dGUuXHJcbiAgICpcclxuICAgKiBJZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBub3QgZW1wdHkgKGkuZS4gY29udGFpbnMgb25lIG9yIG1vcmUgRE9NIG5vZGVzLCBpbmNsdWRpbmcgd2hpdGVzcGFjZSB0ZXh0IG5vZGVzKSwgYW55IGV4aXN0aW5nXHJcbiAgICogY29udGVudCBvZiB0aGlzIGVsZW1lbnQgd2lsbCBiZSByZW1vdmVkIGJlZm9yZSB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBpbnNlcnRlZC5cclxuICAgKiBJZiB0aGUgdHJhbnNjbHVkZWQgY29udGVudCBpcyBlbXB0eSAob3Igb25seSB3aGl0ZXNwYWNlKSwgdGhlIGV4aXN0aW5nIGNvbnRlbnQgaXMgbGVmdCBpbnRhY3QuIFRoaXMgbGV0cyB5b3UgcHJvdmlkZSBmYWxsYmFja1xyXG4gICAqIGNvbnRlbnQgaW4gdGhlIGNhc2UgdGhhdCBubyB0cmFuc2NsdWRlZCBjb250ZW50IGlzIHByb3ZpZGVkLlxyXG4gICAqXHJcbiAgICogQGVsZW1lbnQgQU5ZXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdUcmFuc2NsdWRlfG5nVHJhbnNjbHVkZVNsb3QgdGhlIG5hbWUgb2YgdGhlIHNsb3QgdG8gaW5zZXJ0IGF0IHRoaXMgcG9pbnQuIElmIHRoaXMgaXMgbm90IHByb3ZpZGVkLCBpcyBlbXB0eVxyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvciBpdHMgdmFsdWUgaXMgdGhlIHNhbWUgYXMgdGhlIG5hbWUgb2YgdGhlIGF0dHJpYnV0ZSB0aGVuIHRoZSBkZWZhdWx0IHNsb3QgaXMgdXNlZC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogIyMjIEJhc2ljIHRyYW5zY2x1c2lvblxyXG4gICAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgYmFzaWMgdHJhbnNjbHVzaW9uIG9mIGNvbnRlbnQgaW50byBhIGNvbXBvbmVudCBkaXJlY3RpdmUuXHJcbiAgICogPGV4YW1wbGUgbmFtZT1cInNpbXBsZVRyYW5zY2x1ZGVFeGFtcGxlXCIgbW9kdWxlPVwidHJhbnNjbHVkZUV4YW1wbGVcIj5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICogICAgIDxzY3JpcHQ+XHJcbiAgICogICAgICAgYW5ndWxhci5tb2R1bGUoJ3RyYW5zY2x1ZGVFeGFtcGxlJywgW10pXHJcbiAgICogICAgICAgIC5kaXJlY3RpdmUoJ3BhbmUnLCBmdW5jdGlvbigpe1xyXG4gICAqICAgICAgICAgICByZXR1cm4ge1xyXG4gICAqICAgICAgICAgICAgIHJlc3RyaWN0OiAnRScsXHJcbiAgICogICAgICAgICAgICAgdHJhbnNjbHVkZTogdHJ1ZSxcclxuICAgKiAgICAgICAgICAgICBzY29wZTogeyB0aXRsZTonQCcgfSxcclxuICAgKiAgICAgICAgICAgICB0ZW1wbGF0ZTogJzxkaXYgc3R5bGU9XCJib3JkZXI6IDFweCBzb2xpZCBibGFjaztcIj4nICtcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IGdyYXlcIj57e3RpdGxlfX08L2Rpdj4nICtcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAnPG5nLXRyYW5zY2x1ZGU+PC9uZy10cmFuc2NsdWRlPicgK1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+J1xyXG4gICAqICAgICAgICAgICB9O1xyXG4gICAqICAgICAgIH0pXHJcbiAgICogICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgKiAgICAgICAgICRzY29wZS50aXRsZSA9ICdMb3JlbSBJcHN1bSc7XHJcbiAgICogICAgICAgICAkc2NvcGUudGV4dCA9ICdOZXF1ZSBwb3JybyBxdWlzcXVhbSBlc3QgcXVpIGRvbG9yZW0gaXBzdW0gcXVpYSBkb2xvci4uLic7XHJcbiAgICogICAgICAgfV0pO1xyXG4gICAqICAgICA8L3NjcmlwdD5cclxuICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgKiAgICAgICA8aW5wdXQgbmctbW9kZWw9XCJ0aXRsZVwiIGFyaWEtbGFiZWw9XCJ0aXRsZVwiPiA8YnIvPlxyXG4gICAqICAgICAgIDx0ZXh0YXJlYSBuZy1tb2RlbD1cInRleHRcIiBhcmlhLWxhYmVsPVwidGV4dFwiPjwvdGV4dGFyZWE+IDxici8+XHJcbiAgICogICAgICAgPHBhbmUgdGl0bGU9XCJ7e3RpdGxlfX1cIj48c3Bhbj57e3RleHR9fTwvc3Bhbj48L3BhbmU+XHJcbiAgICogICAgIDwvZGl2PlxyXG4gICAqICAgPC9maWxlPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAqICAgICAgaXQoJ3Nob3VsZCBoYXZlIHRyYW5zY2x1ZGVkJywgZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICAgIHZhciB0aXRsZUVsZW1lbnQgPSBlbGVtZW50KGJ5Lm1vZGVsKCd0aXRsZScpKTtcclxuICAgKiAgICAgICAgdGl0bGVFbGVtZW50LmNsZWFyKCk7XHJcbiAgICogICAgICAgIHRpdGxlRWxlbWVudC5zZW5kS2V5cygnVElUTEUnKTtcclxuICAgKiAgICAgICAgdmFyIHRleHRFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGV4dCcpKTtcclxuICAgKiAgICAgICAgdGV4dEVsZW1lbnQuY2xlYXIoKTtcclxuICAgKiAgICAgICAgdGV4dEVsZW1lbnQuc2VuZEtleXMoJ1RFWFQnKTtcclxuICAgKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGl0bGUnKSkuZ2V0VGV4dCgpKS50b0VxdWFsKCdUSVRMRScpO1xyXG4gICAqICAgICAgICBleHBlY3QoZWxlbWVudChieS5iaW5kaW5nKCd0ZXh0JykpLmdldFRleHQoKSkudG9FcXVhbCgnVEVYVCcpO1xyXG4gICAqICAgICAgfSk7XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiAjIyMgVHJhbnNjbHVkZSBmYWxsYmFjayBjb250ZW50XHJcbiAgICogVGhpcyBleGFtcGxlIHNob3dzIGhvdyB0byB1c2UgYE5nVHJhbnNjbHVkZWAgd2l0aCBmYWxsYmFjayBjb250ZW50LCB0aGF0XHJcbiAgICogaXMgZGlzcGxheWVkIGlmIG5vIHRyYW5zY2x1ZGVkIGNvbnRlbnQgaXMgcHJvdmlkZWQuXHJcbiAgICpcclxuICAgKiA8ZXhhbXBsZSBtb2R1bGU9XCJ0cmFuc2NsdWRlRmFsbGJhY2tDb250ZW50RXhhbXBsZVwiIG5hbWU9XCJuZy10cmFuc2NsdWRlXCI+XHJcbiAgICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgKiA8c2NyaXB0PlxyXG4gICAqIGFuZ3VsYXIubW9kdWxlKCd0cmFuc2NsdWRlRmFsbGJhY2tDb250ZW50RXhhbXBsZScsIFtdKVxyXG4gICAqIC5kaXJlY3RpdmUoJ215QnV0dG9uJywgZnVuY3Rpb24oKXtcclxuICAgKiAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAqICAgICAgICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgKiAgICAgICAgICAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXHJcbiAgICogICAgICAgICAgICAgICBzY29wZTogdHJ1ZSxcclxuICAgKiAgICAgICAgICAgICAgIHRlbXBsYXRlOiAnPGJ1dHRvbiBzdHlsZT1cImN1cnNvcjogcG9pbnRlcjtcIj4nICtcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICc8bmctdHJhbnNjbHVkZT4nICtcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxiIHN0eWxlPVwiY29sb3I6IHJlZDtcIj5CdXR0b24xPC9iPicgK1xyXG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgJzwvbmctdHJhbnNjbHVkZT4nICtcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAnPC9idXR0b24+J1xyXG4gICAqICAgICAgICAgICAgIH07XHJcbiAgICogICAgICAgICB9KTtcclxuICAgKiA8L3NjcmlwdD5cclxuICAgKiA8IS0tIGZhbGxiYWNrIGJ1dHRvbiBjb250ZW50IC0tPlxyXG4gICAqIDxteS1idXR0b24gaWQ9XCJmYWxsYmFja1wiPjwvbXktYnV0dG9uPlxyXG4gICAqIDwhLS0gbW9kaWZpZWQgYnV0dG9uIGNvbnRlbnQgLS0+XHJcbiAgICogPG15LWJ1dHRvbiBpZD1cIm1vZGlmaWVkXCI+XHJcbiAgICogICA8aSBzdHlsZT1cImNvbG9yOiBncmVlbjtcIj5CdXR0b24yPC9pPlxyXG4gICAqIDwvbXktYnV0dG9uPlxyXG4gICAqIDwvZmlsZT5cclxuICAgKiA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICogaXQoJ3Nob3VsZCBoYXZlIGRpZmZlcmVudCB0cmFuc2NsdWRlIGVsZW1lbnQgY29udGVudCcsIGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmlkKCdmYWxsYmFjaycpKS5nZXRUZXh0KCkpLnRvQmUoJ0J1dHRvbjEnKTtcclxuICAgKiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5pZCgnbW9kaWZpZWQnKSkuZ2V0VGV4dCgpKS50b0JlKCdCdXR0b24yJyk7XHJcbiAgICogICAgICAgIH0pO1xyXG4gICAqIDwvZmlsZT5cclxuICAgKiA8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqICMjIyBNdWx0aS1zbG90IHRyYW5zY2x1c2lvblxyXG4gICAqIFRoaXMgZXhhbXBsZSBkZW1vbnN0cmF0ZXMgdXNpbmcgbXVsdGktc2xvdCB0cmFuc2NsdXNpb24gaW4gYSBjb21wb25lbnQgZGlyZWN0aXZlLlxyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJtdWx0aVNsb3RUcmFuc2NsdWRlRXhhbXBsZVwiIG1vZHVsZT1cIm11bHRpU2xvdFRyYW5zY2x1ZGVFeGFtcGxlXCI+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAqICAgIDxzdHlsZT5cclxuICAgKiAgICAgIC50aXRsZSwgLmZvb3RlciB7XHJcbiAgICogICAgICAgIGJhY2tncm91bmQtY29sb3I6IGdyYXlcclxuICAgKiAgICAgIH1cclxuICAgKiAgICA8L3N0eWxlPlxyXG4gICAqICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICogICAgICA8aW5wdXQgbmctbW9kZWw9XCJ0aXRsZVwiIGFyaWEtbGFiZWw9XCJ0aXRsZVwiPiA8YnIvPlxyXG4gICAqICAgICAgPHRleHRhcmVhIG5nLW1vZGVsPVwidGV4dFwiIGFyaWEtbGFiZWw9XCJ0ZXh0XCI+PC90ZXh0YXJlYT4gPGJyLz5cclxuICAgKiAgICAgIDxwYW5lPlxyXG4gICAqICAgICAgICA8cGFuZS10aXRsZT48YSBuZy1ocmVmPVwie3tsaW5rfX1cIj57e3RpdGxlfX08L2E+PC9wYW5lLXRpdGxlPlxyXG4gICAqICAgICAgICA8cGFuZS1ib2R5PjxwPnt7dGV4dH19PC9wPjwvcGFuZS1ib2R5PlxyXG4gICAqICAgICAgPC9wYW5lPlxyXG4gICAqICAgIDwvZGl2PlxyXG4gICAqICAgPC9maWxlPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cImFwcC5qc1wiPlxyXG4gICAqICAgIGFuZ3VsYXIubW9kdWxlKCdtdWx0aVNsb3RUcmFuc2NsdWRlRXhhbXBsZScsIFtdKVxyXG4gICAqICAgICAuZGlyZWN0aXZlKCdwYW5lJywgZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICAgIHJldHVybiB7XHJcbiAgICogICAgICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgKiAgICAgICAgICB0cmFuc2NsdWRlOiB7XHJcbiAgICogICAgICAgICAgICAndGl0bGUnOiAnP3BhbmVUaXRsZScsXHJcbiAgICogICAgICAgICAgICAnYm9keSc6ICdwYW5lQm9keScsXHJcbiAgICogICAgICAgICAgICAnZm9vdGVyJzogJz9wYW5lRm9vdGVyJ1xyXG4gICAqICAgICAgICAgIH0sXHJcbiAgICogICAgICAgICAgdGVtcGxhdGU6ICc8ZGl2IHN0eWxlPVwiYm9yZGVyOiAxcHggc29saWQgYmxhY2s7XCI+JyArXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJ0aXRsZVwiIG5nLXRyYW5zY2x1ZGU9XCJ0aXRsZVwiPkZhbGxiYWNrIFRpdGxlPC9kaXY+JyArXHJcbiAgICogICAgICAgICAgICAgICAgICAgICAgJzxkaXYgbmctdHJhbnNjbHVkZT1cImJvZHlcIj48L2Rpdj4nICtcclxuICAgKiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImZvb3RlclwiIG5nLXRyYW5zY2x1ZGU9XCJmb290ZXJcIj5GYWxsYmFjayBGb290ZXI8L2Rpdj4nICtcclxuICAgKiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PidcclxuICAgKiAgICAgICAgfTtcclxuICAgKiAgICB9KVxyXG4gICAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICogICAgICAkc2NvcGUudGl0bGUgPSAnTG9yZW0gSXBzdW0nO1xyXG4gICAqICAgICAgJHNjb3BlLmxpbmsgPSAnaHR0cHM6Ly9nb29nbGUuY29tJztcclxuICAgKiAgICAgICRzY29wZS50ZXh0ID0gJ05lcXVlIHBvcnJvIHF1aXNxdWFtIGVzdCBxdWkgZG9sb3JlbSBpcHN1bSBxdWlhIGRvbG9yLi4uJztcclxuICAgKiAgICB9XSk7XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICogICAgICBpdCgnc2hvdWxkIGhhdmUgdHJhbnNjbHVkZWQgdGhlIHRpdGxlIGFuZCB0aGUgYm9keScsIGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgICB2YXIgdGl0bGVFbGVtZW50ID0gZWxlbWVudChieS5tb2RlbCgndGl0bGUnKSk7XHJcbiAgICogICAgICAgIHRpdGxlRWxlbWVudC5jbGVhcigpO1xyXG4gICAqICAgICAgICB0aXRsZUVsZW1lbnQuc2VuZEtleXMoJ1RJVExFJyk7XHJcbiAgICogICAgICAgIHZhciB0ZXh0RWxlbWVudCA9IGVsZW1lbnQoYnkubW9kZWwoJ3RleHQnKSk7XHJcbiAgICogICAgICAgIHRleHRFbGVtZW50LmNsZWFyKCk7XHJcbiAgICogICAgICAgIHRleHRFbGVtZW50LnNlbmRLZXlzKCdURVhUJyk7XHJcbiAgICogICAgICAgIGV4cGVjdChlbGVtZW50KGJ5LmNzcygnLnRpdGxlJykpLmdldFRleHQoKSkudG9FcXVhbCgnVElUTEUnKTtcclxuICAgKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuYmluZGluZygndGV4dCcpKS5nZXRUZXh0KCkpLnRvRXF1YWwoJ1RFWFQnKTtcclxuICAgKiAgICAgICAgZXhwZWN0KGVsZW1lbnQoYnkuY3NzKCcuZm9vdGVyJykpLmdldFRleHQoKSkudG9FcXVhbCgnRmFsbGJhY2sgRm9vdGVyJyk7XHJcbiAgICogICAgICB9KTtcclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG5nVHJhbnNjbHVkZU1pbkVyciA9IG1pbkVycignbmdUcmFuc2NsdWRlJyk7XHJcbiAgdmFyIG5nVHJhbnNjbHVkZURpcmVjdGl2ZSA9IFsnJGNvbXBpbGUnLCBmdW5jdGlvbiAoJGNvbXBpbGUpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnRUFDJyxcclxuICAgICAgdGVybWluYWw6IHRydWUsXHJcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIG5nVHJhbnNjbHVkZUNvbXBpbGUodEVsZW1lbnQpIHtcclxuXHJcbiAgICAgICAgLy8gUmVtb3ZlIGFuZCBjYWNoZSBhbnkgb3JpZ2luYWwgY29udGVudCB0byBhY3QgYXMgYSBmYWxsYmFja1xyXG4gICAgICAgIHZhciBmYWxsYmFja0xpbmtGbiA9ICRjb21waWxlKHRFbGVtZW50LmNvbnRlbnRzKCkpO1xyXG4gICAgICAgIHRFbGVtZW50LmVtcHR5KCk7XHJcblxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBuZ1RyYW5zY2x1ZGVQb3N0TGluaygkc2NvcGUsICRlbGVtZW50LCAkYXR0cnMsIGNvbnRyb2xsZXIsICR0cmFuc2NsdWRlKSB7XHJcblxyXG4gICAgICAgICAgaWYgKCEkdHJhbnNjbHVkZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZ1RyYW5zY2x1ZGVNaW5FcnIoJ29ycGhhbicsICdJbGxlZ2FsIHVzZSBvZiBuZ1RyYW5zY2x1ZGUgZGlyZWN0aXZlIGluIHRoZSB0ZW1wbGF0ZSEgJyArICdObyBwYXJlbnQgZGlyZWN0aXZlIHRoYXQgcmVxdWlyZXMgYSB0cmFuc2NsdXNpb24gZm91bmQuICcgKyAnRWxlbWVudDogezB9Jywgc3RhcnRpbmdUYWcoJGVsZW1lbnQpKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyBJZiB0aGUgYXR0cmlidXRlIGlzIG9mIHRoZSBmb3JtOiBgbmctdHJhbnNjbHVkZT1cIm5nLXRyYW5zY2x1ZGVcImAgdGhlbiB0cmVhdCBpdCBsaWtlIHRoZSBkZWZhdWx0XHJcbiAgICAgICAgICBpZiAoJGF0dHJzLm5nVHJhbnNjbHVkZSA9PT0gJGF0dHJzLiRhdHRyLm5nVHJhbnNjbHVkZSkge1xyXG4gICAgICAgICAgICAkYXR0cnMubmdUcmFuc2NsdWRlID0gJyc7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICB2YXIgc2xvdE5hbWUgPSAkYXR0cnMubmdUcmFuc2NsdWRlIHx8ICRhdHRycy5uZ1RyYW5zY2x1ZGVTbG90O1xyXG5cclxuICAgICAgICAgIC8vIElmIHRoZSBzbG90IGlzIHJlcXVpcmVkIGFuZCBubyB0cmFuc2NsdXNpb24gY29udGVudCBpcyBwcm92aWRlZCB0aGVuIHRoaXMgY2FsbCB3aWxsIHRocm93IGFuIGVycm9yXHJcbiAgICAgICAgICAkdHJhbnNjbHVkZShuZ1RyYW5zY2x1ZGVDbG9uZUF0dGFjaEZuLCBudWxsLCBzbG90TmFtZSk7XHJcblxyXG4gICAgICAgICAgLy8gSWYgdGhlIHNsb3QgaXMgb3B0aW9uYWwgYW5kIG5vIHRyYW5zY2x1c2lvbiBjb250ZW50IGlzIHByb3ZpZGVkIHRoZW4gdXNlIHRoZSBmYWxsYmFjayBjb250ZW50XHJcbiAgICAgICAgICBpZiAoc2xvdE5hbWUgJiYgISR0cmFuc2NsdWRlLmlzU2xvdEZpbGxlZChzbG90TmFtZSkpIHtcclxuICAgICAgICAgICAgdXNlRmFsbGJhY2tDb250ZW50KCk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gbmdUcmFuc2NsdWRlQ2xvbmVBdHRhY2hGbihjbG9uZSwgdHJhbnNjbHVkZWRTY29wZSkge1xyXG4gICAgICAgICAgICBpZiAoY2xvbmUubGVuZ3RoICYmIG5vdFdoaXRlc3BhY2UoY2xvbmUpKSB7XHJcbiAgICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICB1c2VGYWxsYmFja0NvbnRlbnQoKTtcclxuICAgICAgICAgICAgICAvLyBUaGVyZSBpcyBub3RoaW5nIGxpbmtlZCBhZ2FpbnN0IHRoZSB0cmFuc2NsdWRlZCBzY29wZSBzaW5jZSBubyBjb250ZW50IHdhcyBhdmFpbGFibGUsXHJcbiAgICAgICAgICAgICAgLy8gc28gaXQgc2hvdWxkIGJlIHNhZmUgdG8gY2xlYW4gdXAgdGhlIGdlbmVyYXRlZCBzY29wZS5cclxuICAgICAgICAgICAgICB0cmFuc2NsdWRlZFNjb3BlLiRkZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBmdW5jdGlvbiB1c2VGYWxsYmFja0NvbnRlbnQoKSB7XHJcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgaXMgdGhlIGZhbGxiYWNrIGNvbnRlbnQgcmF0aGVyIHRoYW4gdGhlIHRyYW5zY2x1ZGVkIGNvbnRlbnQsXHJcbiAgICAgICAgICAgIC8vIHdlIGxpbmsgYWdhaW5zdCB0aGUgc2NvcGUgb2YgdGhpcyBkaXJlY3RpdmUgcmF0aGVyIHRoYW4gdGhlIHRyYW5zY2x1ZGVkIHNjb3BlXHJcbiAgICAgICAgICAgIGZhbGxiYWNrTGlua0ZuKCRzY29wZSwgZnVuY3Rpb24gKGNsb25lKSB7XHJcbiAgICAgICAgICAgICAgJGVsZW1lbnQuYXBwZW5kKGNsb25lKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgZnVuY3Rpb24gbm90V2hpdGVzcGFjZShub2Rlcykge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBub2Rlcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgdmFyIG5vZGUgPSBub2Rlc1tpXTtcclxuICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSAhPT0gTk9ERV9UWVBFX1RFWFQgfHwgbm9kZS5ub2RlVmFsdWUudHJpbSgpKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgc2NyaXB0XHJcbiAgICogQHJlc3RyaWN0IEVcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIExvYWQgdGhlIGNvbnRlbnQgb2YgYSBgPHNjcmlwdD5gIGVsZW1lbnQgaW50byB7QGxpbmsgbmcuJHRlbXBsYXRlQ2FjaGUgYCR0ZW1wbGF0ZUNhY2hlYH0sIHNvIHRoYXQgdGhlXHJcbiAgICogdGVtcGxhdGUgY2FuIGJlIHVzZWQgYnkge0BsaW5rIG5nLmRpcmVjdGl2ZTpuZ0luY2x1ZGUgYG5nSW5jbHVkZWB9LFxyXG4gICAqIHtAbGluayBuZ1JvdXRlLmRpcmVjdGl2ZTpuZ1ZpZXcgYG5nVmlld2B9LCBvciB7QGxpbmsgZ3VpZGUvZGlyZWN0aXZlIGRpcmVjdGl2ZXN9LiBUaGUgdHlwZSBvZiB0aGVcclxuICAgKiBgPHNjcmlwdD5gIGVsZW1lbnQgbXVzdCBiZSBzcGVjaWZpZWQgYXMgYHRleHQvbmctdGVtcGxhdGVgLCBhbmQgYSBjYWNoZSBuYW1lIGZvciB0aGUgdGVtcGxhdGUgbXVzdCBiZVxyXG4gICAqIGFzc2lnbmVkIHRocm91Z2ggdGhlIGVsZW1lbnQncyBgaWRgLCB3aGljaCBjYW4gdGhlbiBiZSB1c2VkIGFzIGEgZGlyZWN0aXZlJ3MgYHRlbXBsYXRlVXJsYC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlIE11c3QgYmUgc2V0IHRvIGAndGV4dC9uZy10ZW1wbGF0ZSdgLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpZCBDYWNoZSBuYW1lIG9mIHRoZSB0ZW1wbGF0ZS5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICA8ZXhhbXBsZSAgbmFtZT1cInNjcmlwdC10YWdcIj5cclxuICAgICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgICAgICA8c2NyaXB0IHR5cGU9XCJ0ZXh0L25nLXRlbXBsYXRlXCIgaWQ9XCIvdHBsLmh0bWxcIj5cclxuICAgICAgICAgIENvbnRlbnQgb2YgdGhlIHRlbXBsYXRlLlxyXG4gICAgICAgIDwvc2NyaXB0PlxyXG4gIFxyXG4gICAgICAgIDxhIG5nLWNsaWNrPVwiY3VycmVudFRwbD0nL3RwbC5odG1sJ1wiIGlkPVwidHBsLWxpbmtcIj5Mb2FkIGlubGluZWQgdGVtcGxhdGU8L2E+XHJcbiAgICAgICAgPGRpdiBpZD1cInRwbC1jb250ZW50XCIgbmctaW5jbHVkZSBzcmM9XCJjdXJyZW50VHBsXCI+PC9kaXY+XHJcbiAgICAgIDwvZmlsZT5cclxuICAgICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgIGl0KCdzaG91bGQgbG9hZCB0ZW1wbGF0ZSBkZWZpbmVkIGluc2lkZSBzY3JpcHQgdGFnJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICBlbGVtZW50KGJ5LmNzcygnI3RwbC1saW5rJykpLmNsaWNrKCk7XHJcbiAgICAgICAgICBleHBlY3QoZWxlbWVudChieS5jc3MoJyN0cGwtY29udGVudCcpKS5nZXRUZXh0KCkpLnRvTWF0Y2goL0NvbnRlbnQgb2YgdGhlIHRlbXBsYXRlLyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIDwvZmlsZT5cclxuICAgIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICB2YXIgc2NyaXB0RGlyZWN0aXZlID0gWyckdGVtcGxhdGVDYWNoZScsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdFJyxcclxuICAgICAgdGVybWluYWw6IHRydWUsXHJcbiAgICAgIGNvbXBpbGU6IGZ1bmN0aW9uIGNvbXBpbGUoZWxlbWVudCwgYXR0cikge1xyXG4gICAgICAgIGlmIChhdHRyLnR5cGUgPT09ICd0ZXh0L25nLXRlbXBsYXRlJykge1xyXG4gICAgICAgICAgdmFyIHRlbXBsYXRlVXJsID0gYXR0ci5pZCxcclxuICAgICAgICAgICAgICB0ZXh0ID0gZWxlbWVudFswXS50ZXh0O1xyXG5cclxuICAgICAgICAgICR0ZW1wbGF0ZUNhY2hlLnB1dCh0ZW1wbGF0ZVVybCwgdGV4dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH1dO1xyXG5cclxuICAvKiBleHBvcnRlZCBzZWxlY3REaXJlY3RpdmUsIG9wdGlvbkRpcmVjdGl2ZSAqL1xyXG5cclxuICB2YXIgbm9vcE5nTW9kZWxDb250cm9sbGVyID0geyAkc2V0Vmlld1ZhbHVlOiBub29wLCAkcmVuZGVyOiBub29wIH07XHJcblxyXG4gIGZ1bmN0aW9uIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKG9wdGlvbkVsLCB2YWx1ZSkge1xyXG4gICAgb3B0aW9uRWwucHJvcCgnc2VsZWN0ZWQnLCB2YWx1ZSk7XHJcbiAgICAvKipcclxuICAgICAqIFdoZW4gdW5zZWxlY3RpbmcgYW4gb3B0aW9uLCBzZXR0aW5nIHRoZSBwcm9wZXJ0eSB0byBudWxsIC8gZmFsc2Ugc2hvdWxkIGJlIGVub3VnaFxyXG4gICAgICogSG93ZXZlciwgc2NyZWVucmVhZGVycyBtaWdodCByZWFjdCB0byB0aGUgc2VsZWN0ZWQgYXR0cmlidXRlIGluc3RlYWQsIHNlZVxyXG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9pc3N1ZXMvMTQ0MTlcclxuICAgICAqIE5vdGU6IFwic2VsZWN0ZWRcIiBpcyBhIGJvb2xlYW4gYXR0ciBhbmQgd2lsbCBiZSByZW1vdmVkIHdoZW4gdGhlIFwidmFsdWVcIiBhcmcgaW4gYXR0cigpIGlzIGZhbHNlXHJcbiAgICAgKiBvciBudWxsXHJcbiAgICAgKi9cclxuICAgIG9wdGlvbkVsLmF0dHIoJ3NlbGVjdGVkJywgdmFsdWUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIHR5cGVcclxuICAgKiBAbmFtZSAgc2VsZWN0LlNlbGVjdENvbnRyb2xsZXJcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqIFRoZSBjb250cm9sbGVyIGZvciB0aGUge0BsaW5rIG5nLnNlbGVjdCBzZWxlY3R9IGRpcmVjdGl2ZS4gVGhlIGNvbnRyb2xsZXIgZXhwb3Nlc1xyXG4gICAqIGEgZmV3IHV0aWxpdHkgbWV0aG9kcyB0aGF0IGNhbiBiZSB1c2VkIHRvIGF1Z21lbnQgdGhlIGJlaGF2aW9yIG9mIGEgcmVndWxhciBvciBhblxyXG4gICAqIHtAbGluayBuZy5uZ09wdGlvbnMgbmdPcHRpb25zfSBzZWxlY3QgZWxlbWVudC5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogIyMjIFNldCBhIGN1c3RvbSBlcnJvciB3aGVuIHRoZSB1bmtub3duIG9wdGlvbiBpcyBzZWxlY3RlZFxyXG4gICAqXHJcbiAgICogVGhpcyBleGFtcGxlIHNldHMgYSBjdXN0b20gZXJyb3IgXCJ1bmtub3duVmFsdWVcIiBvbiB0aGUgbmdNb2RlbENvbnRyb2xsZXJcclxuICAgKiB3aGVuIHRoZSBzZWxlY3QgZWxlbWVudCdzIHVua25vd24gb3B0aW9uIGlzIHNlbGVjdGVkLCBpLmUuIHdoZW4gdGhlIG1vZGVsIGlzIHNldCB0byBhIHZhbHVlXHJcbiAgICogdGhhdCBpcyBub3QgbWF0Y2hlZCBieSBhbnkgb3B0aW9uLlxyXG4gICAqXHJcbiAgICogPGV4YW1wbGUgbmFtZT1cInNlbGVjdC11bmtub3duLXZhbHVlLWVycm9yXCIgbW9kdWxlPVwic3RhdGljU2VsZWN0XCI+XHJcbiAgICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAqICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gICAqICAgICA8bGFiZWwgZm9yPVwidGVzdFNlbGVjdFwiPiBTaW5nbGUgc2VsZWN0OiA8L2xhYmVsPjxicj5cclxuICAgKiAgICAgPHNlbGVjdCBuYW1lPVwidGVzdFNlbGVjdFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIiB1bmtub3duLXZhbHVlLWVycm9yPlxyXG4gICAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMVwiPk9wdGlvbiAxPC9vcHRpb24+XHJcbiAgICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cclxuICAgKiAgICAgPC9zZWxlY3Q+PGJyPlxyXG4gICAqICAgICA8c3BhbiBuZy1pZj1cIm15Rm9ybS50ZXN0U2VsZWN0LiRlcnJvci51bmtub3duVmFsdWVcIj5FcnJvcjogVGhlIGN1cnJlbnQgbW9kZWwgZG9lc24ndCBtYXRjaCBhbnkgb3B0aW9uPC9zcGFuPlxyXG4gICAqXHJcbiAgICogICAgIDxidXR0b24gbmctY2xpY2s9XCJmb3JjZVVua25vd25PcHRpb24oKVwiPkZvcmNlIHVua25vd24gb3B0aW9uPC9idXR0b24+PGJyPlxyXG4gICAqICAgPC9mb3JtPlxyXG4gICAqIDwvZGl2PlxyXG4gICAqIDwvZmlsZT5cclxuICAgKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogIGFuZ3VsYXIubW9kdWxlKCdzdGF0aWNTZWxlY3QnLCBbXSlcclxuICAgKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAqICAgICAgJHNjb3BlLnNlbGVjdGVkID0gbnVsbDtcclxuICAgKlxyXG4gICAqICAgICAgJHNjb3BlLmZvcmNlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSAnbm9uc2Vuc2UnO1xyXG4gICAqICAgICAgfTtcclxuICAgKiAgIH1dKVxyXG4gICAqICAgLmRpcmVjdGl2ZSgndW5rbm93blZhbHVlRXJyb3InLCBmdW5jdGlvbigpIHtcclxuICAgKiAgICAgcmV0dXJuIHtcclxuICAgKiAgICAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnc2VsZWN0J10sXHJcbiAgICogICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xyXG4gICAqICAgICAgICAgdmFyIG5nTW9kZWxDdHJsID0gY3RybHNbMF07XHJcbiAgICogICAgICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzFdO1xyXG4gICAqXHJcbiAgICogICAgICAgICBuZ01vZGVsQ3RybC4kdmFsaWRhdG9ycy51bmtub3duVmFsdWUgPSBmdW5jdGlvbihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgKiAgICAgICAgICAgaWYgKHNlbGVjdEN0cmwuJGlzVW5rbm93bk9wdGlvblNlbGVjdGVkKCkpIHtcclxuICAgKiAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICogICAgICAgICAgIH1cclxuICAgKlxyXG4gICAqICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgKiAgICAgICAgIH07XHJcbiAgICogICAgICAgfVxyXG4gICAqXHJcbiAgICogICAgIH07XHJcbiAgICogICB9KTtcclxuICAgKiA8L2ZpbGU+XHJcbiAgICo8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogIyMjIFNldCB0aGUgXCJyZXF1aXJlZFwiIGVycm9yIHdoZW4gdGhlIHVua25vd24gb3B0aW9uIGlzIHNlbGVjdGVkLlxyXG4gICAqXHJcbiAgICogQnkgZGVmYXVsdCwgdGhlIFwicmVxdWlyZWRcIiBlcnJvciBvbiB0aGUgbmdNb2RlbENvbnRyb2xsZXIgaXMgb25seSBzZXQgb24gYSByZXF1aXJlZCBzZWxlY3RcclxuICAgKiB3aGVuIHRoZSBlbXB0eSBvcHRpb24gaXMgc2VsZWN0ZWQuIFRoaXMgZXhhbXBsZSBhZGRzIGEgY3VzdG9tIGRpcmVjdGl2ZSB0aGF0IGFsc28gc2V0cyB0aGVcclxuICAgKiBlcnJvciB3aGVuIHRoZSB1bmtub3duIG9wdGlvbiBpcyBzZWxlY3RlZC5cclxuICAgKlxyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3QtdW5rbm93bi12YWx1ZS1yZXF1aXJlZFwiIG1vZHVsZT1cInN0YXRpY1NlbGVjdFwiPlxyXG4gICAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICogPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cclxuICAgKiAgICAgPGxhYmVsIGZvcj1cInRlc3RTZWxlY3RcIj4gU2VsZWN0OiA8L2xhYmVsPjxicj5cclxuICAgKiAgICAgPHNlbGVjdCBuYW1lPVwidGVzdFNlbGVjdFwiIG5nLW1vZGVsPVwic2VsZWN0ZWRcIiB1bmtub3duLXZhbHVlLXJlcXVpcmVkPlxyXG4gICAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMVwiPk9wdGlvbiAxPC9vcHRpb24+XHJcbiAgICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cclxuICAgKiAgICAgPC9zZWxlY3Q+PGJyPlxyXG4gICAqICAgICA8c3BhbiBuZy1pZj1cIm15Rm9ybS50ZXN0U2VsZWN0LiRlcnJvci5yZXF1aXJlZFwiPkVycm9yOiBQbGVhc2Ugc2VsZWN0IGEgdmFsdWU8L3NwYW4+PGJyPlxyXG4gICAqXHJcbiAgICogICAgIDxidXR0b24gbmctY2xpY2s9XCJmb3JjZVVua25vd25PcHRpb24oKVwiPkZvcmNlIHVua25vd24gb3B0aW9uPC9idXR0b24+PGJyPlxyXG4gICAqICAgPC9mb3JtPlxyXG4gICAqIDwvZGl2PlxyXG4gICAqIDwvZmlsZT5cclxuICAgKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogIGFuZ3VsYXIubW9kdWxlKCdzdGF0aWNTZWxlY3QnLCBbXSlcclxuICAgKiAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAqICAgICAgJHNjb3BlLnNlbGVjdGVkID0gbnVsbDtcclxuICAgKlxyXG4gICAqICAgICAgJHNjb3BlLmZvcmNlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAqICAgICAgICAkc2NvcGUuc2VsZWN0ZWQgPSAnbm9uc2Vuc2UnO1xyXG4gICAqICAgICAgfTtcclxuICAgKiAgIH1dKVxyXG4gICAqICAgLmRpcmVjdGl2ZSgndW5rbm93blZhbHVlUmVxdWlyZWQnLCBmdW5jdGlvbigpIHtcclxuICAgKiAgICAgcmV0dXJuIHtcclxuICAgKiAgICAgICBwcmlvcml0eTogMSwgLy8gVGhpcyBkaXJlY3RpdmUgbXVzdCBydW4gYWZ0ZXIgdGhlIHJlcXVpcmVkIGRpcmVjdGl2ZSBoYXMgYWRkZWQgaXRzIHZhbGlkYXRvclxyXG4gICAqICAgICAgIHJlcXVpcmU6IFsnbmdNb2RlbCcsICdzZWxlY3QnXSxcclxuICAgKiAgICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XHJcbiAgICogICAgICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1swXTtcclxuICAgKiAgICAgICAgIHZhciBzZWxlY3RDdHJsID0gY3RybHNbMV07XHJcbiAgICpcclxuICAgKiAgICAgICAgIHZhciBvcmlnaW5hbFJlcXVpcmVkVmFsaWRhdG9yID0gbmdNb2RlbEN0cmwuJHZhbGlkYXRvcnMucmVxdWlyZWQ7XHJcbiAgICpcclxuICAgKiAgICAgICAgIG5nTW9kZWxDdHJsLiR2YWxpZGF0b3JzLnJlcXVpcmVkID0gZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICAgICAgIGlmIChhdHRycy5yZXF1aXJlZCAmJiBzZWxlY3RDdHJsLiRpc1Vua25vd25PcHRpb25TZWxlY3RlZCgpKSB7XHJcbiAgICogICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAqICAgICAgICAgICB9XHJcbiAgICpcclxuICAgKiAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsUmVxdWlyZWRWYWxpZGF0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxuICAgKiAgICAgICAgIH07XHJcbiAgICogICAgICAgfVxyXG4gICAqICAgICB9O1xyXG4gICAqICAgfSk7XHJcbiAgICogPC9maWxlPlxyXG4gICAqPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICpcclxuICAgKi9cclxuICB2YXIgU2VsZWN0Q29udHJvbGxlciA9IFsnJGVsZW1lbnQnLCAnJHNjb3BlJywgLyoqIEB0aGlzICovZnVuY3Rpb24gKCRlbGVtZW50LCAkc2NvcGUpIHtcclxuXHJcbiAgICB2YXIgc2VsZiA9IHRoaXMsXHJcbiAgICAgICAgb3B0aW9uc01hcCA9IG5ldyBOZ01hcCgpO1xyXG5cclxuICAgIHNlbGYuc2VsZWN0VmFsdWVNYXAgPSB7fTsgLy8gS2V5cyBhcmUgdGhlIGhhc2hlZCB2YWx1ZXMsIHZhbHVlcyB0aGUgb3JpZ2luYWwgdmFsdWVzXHJcblxyXG4gICAgLy8gSWYgdGhlIG5nTW9kZWwgZG9lc24ndCBnZXQgcHJvdmlkZWQgdGhlbiBwcm92aWRlIGEgZHVtbXkgbm9vcCB2ZXJzaW9uIHRvIHByZXZlbnQgZXJyb3JzXHJcbiAgICBzZWxmLm5nTW9kZWxDdHJsID0gbm9vcE5nTW9kZWxDb250cm9sbGVyO1xyXG4gICAgc2VsZi5tdWx0aXBsZSA9IGZhbHNlO1xyXG5cclxuICAgIC8vIFRoZSBcInVua25vd25cIiBvcHRpb24gaXMgb25lIHRoYXQgaXMgcHJlcGVuZGVkIHRvIHRoZSBsaXN0IGlmIHRoZSB2aWV3VmFsdWVcclxuICAgIC8vIGRvZXMgbm90IG1hdGNoIGFueSBvZiB0aGUgb3B0aW9ucy4gV2hlbiBpdCBpcyByZW5kZXJlZCB0aGUgdmFsdWUgb2YgdGhlIHVua25vd25cclxuICAgIC8vIG9wdGlvbiBpcyAnPyBYWFggPycgd2hlcmUgWFhYIGlzIHRoZSBoYXNoS2V5IG9mIHRoZSB2YWx1ZSB0aGF0IGlzIG5vdCBrbm93bi5cclxuICAgIC8vXHJcbiAgICAvLyBTdXBwb3J0OiBJRSA5IG9ubHlcclxuICAgIC8vIFdlIGNhbid0IGp1c3QganFMaXRlKCc8b3B0aW9uPicpIHNpbmNlIGpxTGl0ZSBpcyBub3Qgc21hcnQgZW5vdWdoXHJcbiAgICAvLyB0byBjcmVhdGUgaXQgaW4gPHNlbGVjdD4gYW5kIElFIGJhcmZzIG90aGVyd2lzZS5cclxuICAgIHNlbGYudW5rbm93bk9wdGlvbiA9IGpxTGl0ZSh3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJykpO1xyXG5cclxuICAgIC8vIFRoZSBlbXB0eSBvcHRpb24gaXMgYW4gb3B0aW9uIHdpdGggdGhlIHZhbHVlICcnIHRoYXQgdGhlIGFwcGxpY2F0aW9uIGRldmVsb3BlciBjYW5cclxuICAgIC8vIHByb3ZpZGUgaW5zaWRlIHRoZSBzZWxlY3QuIEl0IGlzIGFsd2F5cyBzZWxlY3RhYmxlIGFuZCBpbmRpY2F0ZXMgdGhhdCBhIFwibnVsbFwiIHNlbGVjdGlvbiBoYXNcclxuICAgIC8vIGJlZW4gbWFkZSBieSB0aGUgdXNlci5cclxuICAgIC8vIElmIHRoZSBzZWxlY3QgaGFzIGFuIGVtcHR5IG9wdGlvbiwgYW5kIHRoZSBtb2RlbCBvZiB0aGUgc2VsZWN0IGlzIHNldCB0byBcInVuZGVmaW5lZFwiIG9yIFwibnVsbFwiLFxyXG4gICAgLy8gdGhlIGVtcHR5IG9wdGlvbiBpcyBzZWxlY3RlZC5cclxuICAgIC8vIElmIHRoZSBtb2RlbCBpcyBzZXQgdG8gYSBkaWZmZXJlbnQgdW5tYXRjaGVkIHZhbHVlLCB0aGUgdW5rbm93biBvcHRpb24gaXMgcmVuZGVyZWQgYW5kXHJcbiAgICAvLyBzZWxlY3RlZCwgaS5lIGJvdGggYXJlIHByZXNlbnQsIGJlY2F1c2UgYSBcIm51bGxcIiBzZWxlY3Rpb24gYW5kIGFuIHVua25vd24gdmFsdWUgYXJlIGRpZmZlcmVudC5cclxuICAgIHNlbGYuaGFzRW1wdHlPcHRpb24gPSBmYWxzZTtcclxuICAgIHNlbGYuZW1wdHlPcHRpb24gPSB1bmRlZmluZWQ7XHJcblxyXG4gICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uID0gZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICB2YXIgdW5rbm93blZhbCA9IHNlbGYuZ2VuZXJhdGVVbmtub3duT3B0aW9uVmFsdWUodmFsKTtcclxuICAgICAgc2VsZi51bmtub3duT3B0aW9uLnZhbCh1bmtub3duVmFsKTtcclxuICAgICAgJGVsZW1lbnQucHJlcGVuZChzZWxmLnVua25vd25PcHRpb24pO1xyXG4gICAgICBzZXRPcHRpb25TZWxlY3RlZFN0YXR1cyhzZWxmLnVua25vd25PcHRpb24sIHRydWUpO1xyXG4gICAgICAkZWxlbWVudC52YWwodW5rbm93blZhbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYudXBkYXRlVW5rbm93bk9wdGlvbiA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgdmFyIHVua25vd25WYWwgPSBzZWxmLmdlbmVyYXRlVW5rbm93bk9wdGlvblZhbHVlKHZhbCk7XHJcbiAgICAgIHNlbGYudW5rbm93bk9wdGlvbi52YWwodW5rbm93blZhbCk7XHJcbiAgICAgIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKHNlbGYudW5rbm93bk9wdGlvbiwgdHJ1ZSk7XHJcbiAgICAgICRlbGVtZW50LnZhbCh1bmtub3duVmFsKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5nZW5lcmF0ZVVua25vd25PcHRpb25WYWx1ZSA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgcmV0dXJuICc/ICcgKyBoYXNoS2V5KHZhbCkgKyAnID8nO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmIChzZWxmLnVua25vd25PcHRpb24ucGFyZW50KCkpIHNlbGYudW5rbm93bk9wdGlvbi5yZW1vdmUoKTtcclxuICAgIH07XHJcblxyXG4gICAgc2VsZi5zZWxlY3RFbXB0eU9wdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHNlbGYuZW1wdHlPcHRpb24pIHtcclxuICAgICAgICAkZWxlbWVudC52YWwoJycpO1xyXG4gICAgICAgIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKHNlbGYuZW1wdHlPcHRpb24sIHRydWUpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIHNlbGYudW5zZWxlY3RFbXB0eU9wdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgaWYgKHNlbGYuaGFzRW1wdHlPcHRpb24pIHtcclxuICAgICAgICBzZXRPcHRpb25TZWxlY3RlZFN0YXR1cyhzZWxmLmVtcHR5T3B0aW9uLCBmYWxzZSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIGRpc2FibGUgdW5rbm93biBvcHRpb24gc28gdGhhdCB3ZSBkb24ndCBkbyB3b3JrIHdoZW4gdGhlIHdob2xlIHNlbGVjdCBpcyBiZWluZyBkZXN0cm95ZWRcclxuICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uID0gbm9vcDtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFJlYWQgdGhlIHZhbHVlIG9mIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcclxuICAgIC8vIHVwb24gd2hldGhlciB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHZhbHVlcyBhbmQgd2hldGhlciBuZ09wdGlvbnMgaXMgYXQgd29yay5cclxuICAgIHNlbGYucmVhZFZhbHVlID0gZnVuY3Rpb24gcmVhZFNpbmdsZVZhbHVlKCkge1xyXG4gICAgICB2YXIgdmFsID0gJGVsZW1lbnQudmFsKCk7XHJcbiAgICAgIC8vIG5nVmFsdWUgYWRkZWQgb3B0aW9uIHZhbHVlcyBhcmUgc3RvcmVkIGluIHRoZSBzZWxlY3RWYWx1ZU1hcCwgbm9ybWFsIGludGVycG9sYXRpb25zIGFyZSBub3RcclxuICAgICAgdmFyIHJlYWxWYWwgPSB2YWwgaW4gc2VsZi5zZWxlY3RWYWx1ZU1hcCA/IHNlbGYuc2VsZWN0VmFsdWVNYXBbdmFsXSA6IHZhbDtcclxuXHJcbiAgICAgIGlmIChzZWxmLmhhc09wdGlvbihyZWFsVmFsKSkge1xyXG4gICAgICAgIHJldHVybiByZWFsVmFsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gbnVsbDtcclxuICAgIH07XHJcblxyXG4gICAgLy8gV3JpdGUgdGhlIHZhbHVlIHRvIHRoZSBzZWxlY3QgY29udHJvbCwgdGhlIGltcGxlbWVudGF0aW9uIG9mIHRoaXMgY2hhbmdlcyBkZXBlbmRpbmdcclxuICAgIC8vIHVwb24gd2hldGhlciB0aGUgc2VsZWN0IGNhbiBoYXZlIG11bHRpcGxlIHZhbHVlcyBhbmQgd2hldGhlciBuZ09wdGlvbnMgaXMgYXQgd29yay5cclxuICAgIHNlbGYud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlU2luZ2xlVmFsdWUodmFsdWUpIHtcclxuICAgICAgLy8gTWFrZSBzdXJlIHRvIHJlbW92ZSB0aGUgc2VsZWN0ZWQgYXR0cmlidXRlIGZyb20gdGhlIHByZXZpb3VzbHkgc2VsZWN0ZWQgb3B0aW9uXHJcbiAgICAgIC8vIE90aGVyd2lzZSwgc2NyZWVuIHJlYWRlcnMgbWlnaHQgZ2V0IGNvbmZ1c2VkXHJcbiAgICAgIHZhciBjdXJyZW50bHlTZWxlY3RlZE9wdGlvbiA9ICRlbGVtZW50WzBdLm9wdGlvbnNbJGVsZW1lbnRbMF0uc2VsZWN0ZWRJbmRleF07XHJcbiAgICAgIGlmIChjdXJyZW50bHlTZWxlY3RlZE9wdGlvbikgc2V0T3B0aW9uU2VsZWN0ZWRTdGF0dXMoanFMaXRlKGN1cnJlbnRseVNlbGVjdGVkT3B0aW9uKSwgZmFsc2UpO1xyXG5cclxuICAgICAgaWYgKHNlbGYuaGFzT3B0aW9uKHZhbHVlKSkge1xyXG4gICAgICAgIHNlbGYucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xyXG5cclxuICAgICAgICB2YXIgaGFzaGVkVmFsID0gaGFzaEtleSh2YWx1ZSk7XHJcbiAgICAgICAgJGVsZW1lbnQudmFsKGhhc2hlZFZhbCBpbiBzZWxmLnNlbGVjdFZhbHVlTWFwID8gaGFzaGVkVmFsIDogdmFsdWUpO1xyXG5cclxuICAgICAgICAvLyBTZXQgc2VsZWN0ZWQgYXR0cmlidXRlIGFuZCBwcm9wZXJ0eSBvbiBzZWxlY3RlZCBvcHRpb24gZm9yIHNjcmVlbiByZWFkZXJzXHJcbiAgICAgICAgdmFyIHNlbGVjdGVkT3B0aW9uID0gJGVsZW1lbnRbMF0ub3B0aW9uc1skZWxlbWVudFswXS5zZWxlY3RlZEluZGV4XTtcclxuICAgICAgICBzZXRPcHRpb25TZWxlY3RlZFN0YXR1cyhqcUxpdGUoc2VsZWN0ZWRPcHRpb24pLCB0cnVlKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzZWxmLnNlbGVjdFVua25vd25PckVtcHR5T3B0aW9uKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBUZWxsIHRoZSBzZWxlY3QgY29udHJvbCB0aGF0IGFuIG9wdGlvbiwgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUsIGhhcyBiZWVuIGFkZGVkXHJcbiAgICBzZWxmLmFkZE9wdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSwgZWxlbWVudCkge1xyXG4gICAgICAvLyBTa2lwIGNvbW1lbnQgbm9kZXMsIGFzIHRoZXkgb25seSBwb2xsdXRlIHRoZSBgb3B0aW9uc01hcGBcclxuICAgICAgaWYgKGVsZW1lbnRbMF0ubm9kZVR5cGUgPT09IE5PREVfVFlQRV9DT01NRU5UKSByZXR1cm47XHJcblxyXG4gICAgICBhc3NlcnROb3RIYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgJ1wib3B0aW9uIHZhbHVlXCInKTtcclxuICAgICAgaWYgKHZhbHVlID09PSAnJykge1xyXG4gICAgICAgIHNlbGYuaGFzRW1wdHlPcHRpb24gPSB0cnVlO1xyXG4gICAgICAgIHNlbGYuZW1wdHlPcHRpb24gPSBlbGVtZW50O1xyXG4gICAgICB9XHJcbiAgICAgIHZhciBjb3VudCA9IG9wdGlvbnNNYXAuZ2V0KHZhbHVlKSB8fCAwO1xyXG4gICAgICBvcHRpb25zTWFwLnNldCh2YWx1ZSwgY291bnQgKyAxKTtcclxuICAgICAgLy8gT25seSByZW5kZXIgYXQgdGhlIGVuZCBvZiBhIGRpZ2VzdC4gVGhpcyBpbXByb3ZlcyByZW5kZXIgcGVyZm9ybWFuY2Ugd2hlbiBtYW55IG9wdGlvbnNcclxuICAgICAgLy8gYXJlIGFkZGVkIGR1cmluZyBhIGRpZ2VzdCBhbmQgZW5zdXJlcyBhbGwgcmVsZXZhbnQgb3B0aW9ucyBhcmUgY29ycmVjdGx5IG1hcmtlZCBhcyBzZWxlY3RlZFxyXG4gICAgICBzY2hlZHVsZVJlbmRlcigpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvLyBUZWxsIHRoZSBzZWxlY3QgY29udHJvbCB0aGF0IGFuIG9wdGlvbiwgd2l0aCB0aGUgZ2l2ZW4gdmFsdWUsIGhhcyBiZWVuIHJlbW92ZWRcclxuICAgIHNlbGYucmVtb3ZlT3B0aW9uID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIHZhciBjb3VudCA9IG9wdGlvbnNNYXAuZ2V0KHZhbHVlKTtcclxuICAgICAgaWYgKGNvdW50KSB7XHJcbiAgICAgICAgaWYgKGNvdW50ID09PSAxKSB7XHJcbiAgICAgICAgICBvcHRpb25zTWFwLmRlbGV0ZSh2YWx1ZSk7XHJcbiAgICAgICAgICBpZiAodmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHNlbGYuaGFzRW1wdHlPcHRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgc2VsZi5lbXB0eU9wdGlvbiA9IHVuZGVmaW5lZDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgb3B0aW9uc01hcC5zZXQodmFsdWUsIGNvdW50IC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIENoZWNrIHdoZXRoZXIgdGhlIHNlbGVjdCBjb250cm9sIGhhcyBhbiBvcHRpb24gbWF0Y2hpbmcgdGhlIGdpdmVuIHZhbHVlXHJcbiAgICBzZWxmLmhhc09wdGlvbiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICByZXR1cm4gISFvcHRpb25zTWFwLmdldCh2YWx1ZSk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgc2VsZWN0LlNlbGVjdENvbnRyb2xsZXIjJGhhc0VtcHR5T3B0aW9uXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNlbGVjdCBlbGVtZW50IGN1cnJlbnRseSBoYXMgYW4gZW1wdHkgb3B0aW9uXHJcbiAgICAgKiBlbGVtZW50LCBpLmUuIGFuIG9wdGlvbiB0aGF0IHNpZ25pZmllcyB0aGF0IHRoZSBzZWxlY3QgaXMgZW1wdHkgLyB0aGUgc2VsZWN0aW9uIGlzIG51bGwuXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBzZWxmLiRoYXNFbXB0eU9wdGlvbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgcmV0dXJuIHNlbGYuaGFzRW1wdHlPcHRpb247XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgc2VsZWN0LlNlbGVjdENvbnRyb2xsZXIjJGlzVW5rbm93bk9wdGlvblNlbGVjdGVkXHJcbiAgICAgKlxyXG4gICAgICogQGRlc2NyaXB0aW9uXHJcbiAgICAgKlxyXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHNlbGVjdCBlbGVtZW50J3MgdW5rbm93biBvcHRpb24gaXMgc2VsZWN0ZWQuIFRoZSB1bmtub3duIG9wdGlvbiBpcyBhZGRlZFxyXG4gICAgICogYW5kIGF1dG9tYXRpY2FsbHkgc2VsZWN0ZWQgd2hlbmV2ZXIgdGhlIHNlbGVjdCBtb2RlbCBkb2Vzbid0IG1hdGNoIGFueSBvcHRpb24uXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBzZWxmLiRpc1Vua25vd25PcHRpb25TZWxlY3RlZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgLy8gUHJlc2VuY2Ugb2YgdGhlIHVua25vd24gb3B0aW9uIG1lYW5zIGl0IGlzIHNlbGVjdGVkXHJcbiAgICAgIHJldHVybiAkZWxlbWVudFswXS5vcHRpb25zWzBdID09PSBzZWxmLnVua25vd25PcHRpb25bMF07XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQG5nZG9jIG1ldGhvZFxyXG4gICAgICogQG5hbWUgc2VsZWN0LlNlbGVjdENvbnRyb2xsZXIjJGlzRW1wdHlPcHRpb25TZWxlY3RlZFxyXG4gICAgICpcclxuICAgICAqIEBkZXNjcmlwdGlvblxyXG4gICAgICpcclxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIHRoZSBzZWxlY3QgZWxlbWVudCBoYXMgYW4gZW1wdHkgb3B0aW9uIGFuZCB0aGlzIGVtcHR5IG9wdGlvbiBpcyBjdXJyZW50bHlcclxuICAgICAqIHNlbGVjdGVkLiBSZXR1cm5zIGBmYWxzZWAgaWYgdGhlIHNlbGVjdCBlbGVtZW50IGhhcyBubyBlbXB0eSBvcHRpb24gb3IgaXQgaXMgbm90IHNlbGVjdGVkLlxyXG4gICAgICpcclxuICAgICAqL1xyXG4gICAgc2VsZi4kaXNFbXB0eU9wdGlvblNlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICByZXR1cm4gc2VsZi5oYXNFbXB0eU9wdGlvbiAmJiAkZWxlbWVudFswXS5vcHRpb25zWyRlbGVtZW50WzBdLnNlbGVjdGVkSW5kZXhdID09PSBzZWxmLmVtcHR5T3B0aW9uWzBdO1xyXG4gICAgfTtcclxuXHJcbiAgICBzZWxmLnNlbGVjdFVua25vd25PckVtcHR5T3B0aW9uID0gZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsICYmIHNlbGYuZW1wdHlPcHRpb24pIHtcclxuICAgICAgICBzZWxmLnJlbW92ZVVua25vd25PcHRpb24oKTtcclxuICAgICAgICBzZWxmLnNlbGVjdEVtcHR5T3B0aW9uKCk7XHJcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi51bmtub3duT3B0aW9uLnBhcmVudCgpLmxlbmd0aCkge1xyXG4gICAgICAgIHNlbGYudXBkYXRlVW5rbm93bk9wdGlvbih2YWx1ZSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2VsZi5yZW5kZXJVbmtub3duT3B0aW9uKHZhbHVlKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB2YXIgcmVuZGVyU2NoZWR1bGVkID0gZmFsc2U7XHJcbiAgICBmdW5jdGlvbiBzY2hlZHVsZVJlbmRlcigpIHtcclxuICAgICAgaWYgKHJlbmRlclNjaGVkdWxlZCkgcmV0dXJuO1xyXG4gICAgICByZW5kZXJTY2hlZHVsZWQgPSB0cnVlO1xyXG4gICAgICAkc2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZW5kZXJTY2hlZHVsZWQgPSBmYWxzZTtcclxuICAgICAgICBzZWxmLm5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHVwZGF0ZVNjaGVkdWxlZCA9IGZhbHNlO1xyXG4gICAgZnVuY3Rpb24gc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUocmVuZGVyQWZ0ZXIpIHtcclxuICAgICAgaWYgKHVwZGF0ZVNjaGVkdWxlZCkgcmV0dXJuO1xyXG5cclxuICAgICAgdXBkYXRlU2NoZWR1bGVkID0gdHJ1ZTtcclxuXHJcbiAgICAgICRzY29wZS4kJHBvc3REaWdlc3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkc2NvcGUuJCRkZXN0cm95ZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgdXBkYXRlU2NoZWR1bGVkID0gZmFsc2U7XHJcbiAgICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGYucmVhZFZhbHVlKCkpO1xyXG4gICAgICAgIGlmIChyZW5kZXJBZnRlcikgc2VsZi5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHNlbGYucmVnaXN0ZXJPcHRpb24gPSBmdW5jdGlvbiAob3B0aW9uU2NvcGUsIG9wdGlvbkVsZW1lbnQsIG9wdGlvbkF0dHJzLCBpbnRlcnBvbGF0ZVZhbHVlRm4sIGludGVycG9sYXRlVGV4dEZuKSB7XHJcblxyXG4gICAgICBpZiAob3B0aW9uQXR0cnMuJGF0dHIubmdWYWx1ZSkge1xyXG4gICAgICAgIC8vIFRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgc2V0IGJ5IG5nVmFsdWVcclxuICAgICAgICB2YXIgb2xkVmFsLFxyXG4gICAgICAgICAgICBoYXNoZWRWYWwgPSBOYU47XHJcbiAgICAgICAgb3B0aW9uQXR0cnMuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24gdmFsdWVBdHRyaWJ1dGVPYnNlcnZlQWN0aW9uKG5ld1ZhbCkge1xyXG5cclxuICAgICAgICAgIHZhciByZW1vdmFsO1xyXG4gICAgICAgICAgdmFyIHByZXZpb3VzbHlTZWxlY3RlZCA9IG9wdGlvbkVsZW1lbnQucHJvcCgnc2VsZWN0ZWQnKTtcclxuXHJcbiAgICAgICAgICBpZiAoaXNEZWZpbmVkKGhhc2hlZFZhbCkpIHtcclxuICAgICAgICAgICAgc2VsZi5yZW1vdmVPcHRpb24ob2xkVmFsKTtcclxuICAgICAgICAgICAgZGVsZXRlIHNlbGYuc2VsZWN0VmFsdWVNYXBbaGFzaGVkVmFsXTtcclxuICAgICAgICAgICAgcmVtb3ZhbCA9IHRydWU7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaGFzaGVkVmFsID0gaGFzaEtleShuZXdWYWwpO1xyXG4gICAgICAgICAgb2xkVmFsID0gbmV3VmFsO1xyXG4gICAgICAgICAgc2VsZi5zZWxlY3RWYWx1ZU1hcFtoYXNoZWRWYWxdID0gbmV3VmFsO1xyXG4gICAgICAgICAgc2VsZi5hZGRPcHRpb24obmV3VmFsLCBvcHRpb25FbGVtZW50KTtcclxuICAgICAgICAgIC8vIFNldCB0aGUgYXR0cmlidXRlIGRpcmVjdGx5IGluc3RlYWQgb2YgdXNpbmcgb3B0aW9uQXR0cnMuJHNldCAtIHRoaXMgc3RvcHMgdGhlIG9ic2VydmVyXHJcbiAgICAgICAgICAvLyBmcm9tIGZpcmluZyBhIHNlY29uZCB0aW1lLiBPdGhlciAkb2JzZXJ2ZXJzIG9uIHZhbHVlIHdpbGwgYWxzbyBnZXQgdGhlIHJlc3VsdCBvZiB0aGVcclxuICAgICAgICAgIC8vIG5nVmFsdWUgZXhwcmVzc2lvbiwgbm90IHRoZSBoYXNoZWQgdmFsdWVcclxuICAgICAgICAgIG9wdGlvbkVsZW1lbnQuYXR0cigndmFsdWUnLCBoYXNoZWRWYWwpO1xyXG5cclxuICAgICAgICAgIGlmIChyZW1vdmFsICYmIHByZXZpb3VzbHlTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICBzY2hlZHVsZVZpZXdWYWx1ZVVwZGF0ZSgpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKGludGVycG9sYXRlVmFsdWVGbikge1xyXG4gICAgICAgIC8vIFRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgaW50ZXJwb2xhdGVkXHJcbiAgICAgICAgb3B0aW9uQXR0cnMuJG9ic2VydmUoJ3ZhbHVlJywgZnVuY3Rpb24gdmFsdWVBdHRyaWJ1dGVPYnNlcnZlQWN0aW9uKG5ld1ZhbCkge1xyXG4gICAgICAgICAgLy8gVGhpcyBtZXRob2QgaXMgb3ZlcndyaXR0ZW4gaW4gbmdPcHRpb25zIGFuZCBoYXMgc2lkZS1lZmZlY3RzIVxyXG4gICAgICAgICAgc2VsZi5yZWFkVmFsdWUoKTtcclxuXHJcbiAgICAgICAgICB2YXIgcmVtb3ZhbDtcclxuICAgICAgICAgIHZhciBwcmV2aW91c2x5U2VsZWN0ZWQgPSBvcHRpb25FbGVtZW50LnByb3AoJ3NlbGVjdGVkJyk7XHJcblxyXG4gICAgICAgICAgaWYgKGlzRGVmaW5lZChvbGRWYWwpKSB7XHJcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlT3B0aW9uKG9sZFZhbCk7XHJcbiAgICAgICAgICAgIHJlbW92YWwgPSB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgb2xkVmFsID0gbmV3VmFsO1xyXG4gICAgICAgICAgc2VsZi5hZGRPcHRpb24obmV3VmFsLCBvcHRpb25FbGVtZW50KTtcclxuXHJcbiAgICAgICAgICBpZiAocmVtb3ZhbCAmJiBwcmV2aW91c2x5U2VsZWN0ZWQpIHtcclxuICAgICAgICAgICAgc2NoZWR1bGVWaWV3VmFsdWVVcGRhdGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfSBlbHNlIGlmIChpbnRlcnBvbGF0ZVRleHRGbikge1xyXG4gICAgICAgIC8vIFRoZSB0ZXh0IGNvbnRlbnQgaXMgaW50ZXJwb2xhdGVkXHJcbiAgICAgICAgb3B0aW9uU2NvcGUuJHdhdGNoKGludGVycG9sYXRlVGV4dEZuLCBmdW5jdGlvbiBpbnRlcnBvbGF0ZVdhdGNoQWN0aW9uKG5ld1ZhbCwgb2xkVmFsKSB7XHJcbiAgICAgICAgICBvcHRpb25BdHRycy4kc2V0KCd2YWx1ZScsIG5ld1ZhbCk7XHJcbiAgICAgICAgICB2YXIgcHJldmlvdXNseVNlbGVjdGVkID0gb3B0aW9uRWxlbWVudC5wcm9wKCdzZWxlY3RlZCcpO1xyXG4gICAgICAgICAgaWYgKG9sZFZhbCAhPT0gbmV3VmFsKSB7XHJcbiAgICAgICAgICAgIHNlbGYucmVtb3ZlT3B0aW9uKG9sZFZhbCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBzZWxmLmFkZE9wdGlvbihuZXdWYWwsIG9wdGlvbkVsZW1lbnQpO1xyXG5cclxuICAgICAgICAgIGlmIChvbGRWYWwgJiYgcHJldmlvdXNseVNlbGVjdGVkKSB7XHJcbiAgICAgICAgICAgIHNjaGVkdWxlVmlld1ZhbHVlVXBkYXRlKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gVGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBzdGF0aWNcclxuICAgICAgICBzZWxmLmFkZE9wdGlvbihvcHRpb25BdHRycy52YWx1ZSwgb3B0aW9uRWxlbWVudCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIG9wdGlvbkF0dHJzLiRvYnNlcnZlKCdkaXNhYmxlZCcsIGZ1bmN0aW9uIChuZXdWYWwpIHtcclxuXHJcbiAgICAgICAgLy8gU2luY2UgbW9kZWwgdXBkYXRlcyB3aWxsIGFsc28gc2VsZWN0IGRpc2FibGVkIG9wdGlvbnMgKGxpa2UgbmdPcHRpb25zKSxcclxuICAgICAgICAvLyB3ZSBvbmx5IGhhdmUgdG8gaGFuZGxlIG9wdGlvbnMgYmVjb21pbmcgZGlzYWJsZWQsIG5vdCBlbmFibGVkXHJcblxyXG4gICAgICAgIGlmIChuZXdWYWwgPT09ICd0cnVlJyB8fCBuZXdWYWwgJiYgb3B0aW9uRWxlbWVudC5wcm9wKCdzZWxlY3RlZCcpKSB7XHJcbiAgICAgICAgICBpZiAoc2VsZi5tdWx0aXBsZSkge1xyXG4gICAgICAgICAgICBzY2hlZHVsZVZpZXdWYWx1ZVVwZGF0ZSh0cnVlKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNlbGYubmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShudWxsKTtcclxuICAgICAgICAgICAgc2VsZi5uZ01vZGVsQ3RybC4kcmVuZGVyKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIG9wdGlvbkVsZW1lbnQub24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjdXJyZW50VmFsdWUgPSBzZWxmLnJlYWRWYWx1ZSgpO1xyXG4gICAgICAgIHZhciByZW1vdmVWYWx1ZSA9IG9wdGlvbkF0dHJzLnZhbHVlO1xyXG5cclxuICAgICAgICBzZWxmLnJlbW92ZU9wdGlvbihyZW1vdmVWYWx1ZSk7XHJcbiAgICAgICAgc2NoZWR1bGVSZW5kZXIoKTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGYubXVsdGlwbGUgJiYgY3VycmVudFZhbHVlICYmIGN1cnJlbnRWYWx1ZS5pbmRleE9mKHJlbW92ZVZhbHVlKSAhPT0gLTEgfHwgY3VycmVudFZhbHVlID09PSByZW1vdmVWYWx1ZSkge1xyXG4gICAgICAgICAgLy8gV2hlbiBtdWx0aXBsZSAoc2VsZWN0ZWQpIG9wdGlvbnMgYXJlIGRlc3Ryb3llZCBhdCB0aGUgc2FtZSB0aW1lLCB3ZSBkb24ndCB3YW50XHJcbiAgICAgICAgICAvLyB0byBydW4gYSBtb2RlbCB1cGRhdGUgZm9yIGVhY2ggb2YgdGhlbS4gSW5zdGVhZCwgcnVuIGEgc2luZ2xlIHVwZGF0ZSBpbiB0aGUgJCRwb3N0RGlnZXN0XHJcbiAgICAgICAgICBzY2hlZHVsZVZpZXdWYWx1ZVVwZGF0ZSh0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuICB9XTtcclxuXHJcbiAgLyoqXHJcbiAgICogQG5nZG9jIGRpcmVjdGl2ZVxyXG4gICAqIEBuYW1lIHNlbGVjdFxyXG4gICAqIEByZXN0cmljdCBFXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKiBIVE1MIGBzZWxlY3RgIGVsZW1lbnQgd2l0aCBhbmd1bGFyIGRhdGEtYmluZGluZy5cclxuICAgKlxyXG4gICAqIFRoZSBgc2VsZWN0YCBkaXJlY3RpdmUgaXMgdXNlZCB0b2dldGhlciB3aXRoIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0gdG8gcHJvdmlkZSBkYXRhLWJpbmRpbmdcclxuICAgKiBiZXR3ZWVuIHRoZSBzY29wZSBhbmQgdGhlIGA8c2VsZWN0PmAgY29udHJvbCAoaW5jbHVkaW5nIHNldHRpbmcgZGVmYXVsdCB2YWx1ZXMpLlxyXG4gICAqIEl0IGFsc28gaGFuZGxlcyBkeW5hbWljIGA8b3B0aW9uPmAgZWxlbWVudHMsIHdoaWNoIGNhbiBiZSBhZGRlZCB1c2luZyB0aGUge0BsaW5rIG5nUmVwZWF0IGBuZ1JlcGVhdH1gIG9yXHJcbiAgICoge0BsaW5rIG5nT3B0aW9ucyBgbmdPcHRpb25zYH0gZGlyZWN0aXZlcy5cclxuICAgKlxyXG4gICAqIFdoZW4gYW4gaXRlbSBpbiB0aGUgYDxzZWxlY3Q+YCBtZW51IGlzIHNlbGVjdGVkLCB0aGUgdmFsdWUgb2YgdGhlIHNlbGVjdGVkIG9wdGlvbiB3aWxsIGJlIGJvdW5kXHJcbiAgICogdG8gdGhlIG1vZGVsIGlkZW50aWZpZWQgYnkgdGhlIGBuZ01vZGVsYCBkaXJlY3RpdmUuIFdpdGggc3RhdGljIG9yIHJlcGVhdGVkIG9wdGlvbnMsIHRoaXMgaXNcclxuICAgKiB0aGUgY29udGVudCBvZiB0aGUgYHZhbHVlYCBhdHRyaWJ1dGUgb3IgdGhlIHRleHRDb250ZW50IG9mIHRoZSBgPG9wdGlvbj5gLCBpZiB0aGUgdmFsdWUgYXR0cmlidXRlIGlzIG1pc3NpbmcuXHJcbiAgICogVmFsdWUgYW5kIHRleHRDb250ZW50IGNhbiBiZSBpbnRlcnBvbGF0ZWQuXHJcbiAgICpcclxuICAgKiBUaGUge0BsaW5rIHNlbGVjdC5TZWxlY3RDb250cm9sbGVyIHNlbGVjdCBjb250cm9sbGVyfSBleHBvc2VzIHV0aWxpdHkgZnVuY3Rpb25zIHRoYXQgY2FuIGJlIHVzZWRcclxuICAgKiB0byBtYW5pcHVsYXRlIHRoZSBzZWxlY3QncyBiZWhhdmlvci5cclxuICAgKlxyXG4gICAqICMjIE1hdGNoaW5nIG1vZGVsIGFuZCBvcHRpb24gdmFsdWVzXHJcbiAgICpcclxuICAgKiBJbiBnZW5lcmFsLCB0aGUgbWF0Y2ggYmV0d2VlbiB0aGUgbW9kZWwgYW5kIGFuIG9wdGlvbiBpcyBldmFsdWF0ZWQgYnkgc3RyaWN0bHkgY29tcGFyaW5nIHRoZSBtb2RlbFxyXG4gICAqIHZhbHVlIGFnYWluc3QgdGhlIHZhbHVlIG9mIHRoZSBhdmFpbGFibGUgb3B0aW9ucy5cclxuICAgKlxyXG4gICAqIElmIHlvdSBhcmUgc2V0dGluZyB0aGUgb3B0aW9uIHZhbHVlIHdpdGggdGhlIG9wdGlvbidzIGB2YWx1ZWAgYXR0cmlidXRlLCBvciB0ZXh0Q29udGVudCwgdGhlXHJcbiAgICogdmFsdWUgd2lsbCBhbHdheXMgYmUgYSBgc3RyaW5nYCB3aGljaCBtZWFucyB0aGF0IHRoZSBtb2RlbCB2YWx1ZSBtdXN0IGFsc28gYmUgYSBzdHJpbmcuXHJcbiAgICogT3RoZXJ3aXNlIHRoZSBgc2VsZWN0YCBkaXJlY3RpdmUgY2Fubm90IG1hdGNoIHRoZW0gY29ycmVjdGx5LlxyXG4gICAqXHJcbiAgICogVG8gYmluZCB0aGUgbW9kZWwgdG8gYSBub24tc3RyaW5nIHZhbHVlLCB5b3UgY2FuIHVzZSBvbmUgb2YgdGhlIGZvbGxvd2luZyBzdHJhdGVnaWVzOlxyXG4gICAqIC0gdGhlIHtAbGluayBuZy5uZ09wdGlvbnMgYG5nT3B0aW9uc2B9IGRpcmVjdGl2ZVxyXG4gICAqICAgKHtAbGluayBuZy5zZWxlY3QjdXNpbmctc2VsZWN0LXdpdGgtbmdvcHRpb25zLWFuZC1zZXR0aW5nLWEtZGVmYXVsdC12YWx1ZX0pXHJcbiAgICogLSB0aGUge0BsaW5rIG5nLm5nVmFsdWUgYG5nVmFsdWVgfSBkaXJlY3RpdmUsIHdoaWNoIGFsbG93cyBhcmJpdHJhcnkgZXhwcmVzc2lvbnMgdG8gYmVcclxuICAgKiAgIG9wdGlvbiB2YWx1ZXMgKHtAbGluayBuZy5zZWxlY3QjdXNpbmctbmd2YWx1ZS10by1iaW5kLXRoZS1tb2RlbC10by1hbi1hcnJheS1vZi1vYmplY3RzIEV4YW1wbGV9KVxyXG4gICAqIC0gbW9kZWwgJHBhcnNlcnMgLyAkZm9ybWF0dGVycyB0byBjb252ZXJ0IHRoZSBzdHJpbmcgdmFsdWVcclxuICAgKiAgICh7QGxpbmsgbmcuc2VsZWN0I2JpbmRpbmctc2VsZWN0LXRvLWEtbm9uLXN0cmluZy12YWx1ZS12aWEtbmdtb2RlbC1wYXJzaW5nLWZvcm1hdHRpbmcgRXhhbXBsZX0pXHJcbiAgICpcclxuICAgKiBJZiB0aGUgdmlld1ZhbHVlIG9mIGBuZ01vZGVsYCBkb2VzIG5vdCBtYXRjaCBhbnkgb2YgdGhlIG9wdGlvbnMsIHRoZW4gdGhlIGNvbnRyb2xcclxuICAgKiB3aWxsIGF1dG9tYXRpY2FsbHkgYWRkIGFuIFwidW5rbm93blwiIG9wdGlvbiwgd2hpY2ggaXQgdGhlbiByZW1vdmVzIHdoZW4gdGhlIG1pc21hdGNoIGlzIHJlc29sdmVkLlxyXG4gICAqXHJcbiAgICogT3B0aW9uYWxseSwgYSBzaW5nbGUgaGFyZC1jb2RlZCBgPG9wdGlvbj5gIGVsZW1lbnQsIHdpdGggdGhlIHZhbHVlIHNldCB0byBhbiBlbXB0eSBzdHJpbmcsIGNhblxyXG4gICAqIGJlIG5lc3RlZCBpbnRvIHRoZSBgPHNlbGVjdD5gIGVsZW1lbnQuIFRoaXMgZWxlbWVudCB3aWxsIHRoZW4gcmVwcmVzZW50IHRoZSBgbnVsbGAgb3IgXCJub3Qgc2VsZWN0ZWRcIlxyXG4gICAqIG9wdGlvbi4gU2VlIGV4YW1wbGUgYmVsb3cgZm9yIGRlbW9uc3RyYXRpb24uXHJcbiAgICpcclxuICAgKiAjIyBDaG9vc2luZyBiZXR3ZWVuIGBuZ1JlcGVhdGAgYW5kIGBuZ09wdGlvbnNgXHJcbiAgICpcclxuICAgKiBJbiBtYW55IGNhc2VzLCBgbmdSZXBlYXRgIGNhbiBiZSB1c2VkIG9uIGA8b3B0aW9uPmAgZWxlbWVudHMgaW5zdGVhZCBvZiB7QGxpbmsgbmcuZGlyZWN0aXZlOm5nT3B0aW9uc1xyXG4gICAqIG5nT3B0aW9uc30gdG8gYWNoaWV2ZSBhIHNpbWlsYXIgcmVzdWx0LiBIb3dldmVyLCBgbmdPcHRpb25zYCBwcm92aWRlcyBzb21lIGJlbmVmaXRzOlxyXG4gICAqIC0gbW9yZSBmbGV4aWJpbGl0eSBpbiBob3cgdGhlIGA8c2VsZWN0PmAncyBtb2RlbCBpcyBhc3NpZ25lZCB2aWEgdGhlIGBzZWxlY3RgICoqYGFzYCoqIHBhcnQgb2YgdGhlXHJcbiAgICogY29tcHJlaGVuc2lvbiBleHByZXNzaW9uXHJcbiAgICogLSByZWR1Y2VkIG1lbW9yeSBjb25zdW1wdGlvbiBieSBub3QgY3JlYXRpbmcgYSBuZXcgc2NvcGUgZm9yIGVhY2ggcmVwZWF0ZWQgaW5zdGFuY2VcclxuICAgKiAtIGluY3JlYXNlZCByZW5kZXIgc3BlZWQgYnkgY3JlYXRpbmcgdGhlIG9wdGlvbnMgaW4gYSBkb2N1bWVudEZyYWdtZW50IGluc3RlYWQgb2YgaW5kaXZpZHVhbGx5XHJcbiAgICpcclxuICAgKiBTcGVjaWZpY2FsbHksIHNlbGVjdCB3aXRoIHJlcGVhdGVkIG9wdGlvbnMgc2xvd3MgZG93biBzaWduaWZpY2FudGx5IHN0YXJ0aW5nIGF0IDIwMDAgb3B0aW9ucyBpblxyXG4gICAqIENocm9tZSBhbmQgSW50ZXJuZXQgRXhwbG9yZXIgLyBFZGdlLlxyXG4gICAqXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge3N0cmluZ30gbmdNb2RlbCBBc3NpZ25hYmxlIGFuZ3VsYXIgZXhwcmVzc2lvbiB0byBkYXRhLWJpbmQgdG8uXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIFByb3BlcnR5IG5hbWUgb2YgdGhlIGZvcm0gdW5kZXIgd2hpY2ggdGhlIGNvbnRyb2wgaXMgcHVibGlzaGVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbXVsdGlwbGUgQWxsb3dzIG11bHRpcGxlIG9wdGlvbnMgdG8gYmUgc2VsZWN0ZWQuIFRoZSBzZWxlY3RlZCB2YWx1ZXMgd2lsbCBiZVxyXG4gICAqICAgICBib3VuZCB0byB0aGUgbW9kZWwgYXMgYW4gYXJyYXkuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSByZXF1aXJlZCBTZXRzIGByZXF1aXJlZGAgdmFsaWRhdGlvbiBlcnJvciBrZXkgaWYgdGhlIHZhbHVlIGlzIG5vdCBlbnRlcmVkLlxyXG4gICAqIEBwYXJhbSB7c3RyaW5nPX0gbmdSZXF1aXJlZCBBZGRzIHJlcXVpcmVkIGF0dHJpYnV0ZSBhbmQgcmVxdWlyZWQgdmFsaWRhdGlvbiBjb25zdHJhaW50IHRvXHJcbiAgICogdGhlIGVsZW1lbnQgd2hlbiB0aGUgbmdSZXF1aXJlZCBleHByZXNzaW9uIGV2YWx1YXRlcyB0byB0cnVlLiBVc2UgbmdSZXF1aXJlZCBpbnN0ZWFkIG9mIHJlcXVpcmVkXHJcbiAgICogd2hlbiB5b3Ugd2FudCB0byBkYXRhLWJpbmQgdG8gdGhlIHJlcXVpcmVkIGF0dHJpYnV0ZS5cclxuICAgKiBAcGFyYW0ge3N0cmluZz19IG5nQ2hhbmdlIEFuZ3VsYXIgZXhwcmVzc2lvbiB0byBiZSBleGVjdXRlZCB3aGVuIHNlbGVjdGVkIG9wdGlvbihzKSBjaGFuZ2VzIGR1ZSB0byB1c2VyXHJcbiAgICogICAgaW50ZXJhY3Rpb24gd2l0aCB0aGUgc2VsZWN0IGVsZW1lbnQuXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ09wdGlvbnMgc2V0cyB0aGUgb3B0aW9ucyB0aGF0IHRoZSBzZWxlY3QgaXMgcG9wdWxhdGVkIHdpdGggYW5kIGRlZmluZXMgd2hhdCBpc1xyXG4gICAqIHNldCBvbiB0aGUgbW9kZWwgb24gc2VsZWN0aW9uLiBTZWUge0BsaW5rIG5nT3B0aW9ucyBgbmdPcHRpb25zYH0uXHJcbiAgICogQHBhcmFtIHtzdHJpbmc9fSBuZ0F0dHJTaXplIHNldHMgdGhlIHNpemUgb2YgdGhlIHNlbGVjdCBlbGVtZW50IGR5bmFtaWNhbGx5LiBVc2VzIHRoZVxyXG4gICAqIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIy1uZ2F0dHItZm9yLWJpbmRpbmctdG8tYXJiaXRyYXJ5LWF0dHJpYnV0ZXMgbmdBdHRyfSBkaXJlY3RpdmUuXHJcbiAgICpcclxuICAgKlxyXG4gICAqIEBrbm93bklzc3VlXHJcbiAgICpcclxuICAgKiBJbiBGaXJlZm94LCB0aGUgc2VsZWN0IG1vZGVsIGlzIG9ubHkgdXBkYXRlZCB3aGVuIHRoZSBzZWxlY3QgZWxlbWVudCBpcyBibHVycmVkLiBGb3IgZXhhbXBsZSxcclxuICAgKiB3aGVuIHN3aXRjaGluZyBiZXR3ZWVuIG9wdGlvbnMgd2l0aCB0aGUga2V5Ym9hcmQsIHRoZSBzZWxlY3QgbW9kZWwgaXMgb25seSBzZXQgdG8gdGhlXHJcbiAgICogY3VycmVudGx5IHNlbGVjdGVkIG9wdGlvbiB3aGVuIHRoZSBzZWxlY3QgaXMgYmx1cnJlZCwgZS5nIHZpYSB0YWIga2V5IG9yIGNsaWNraW5nIHRoZSBtb3VzZVxyXG4gICAqIG91dHNpZGUgdGhlIHNlbGVjdC5cclxuICAgKlxyXG4gICAqIFRoaXMgaXMgZHVlIHRvIGFuIGFtYmlndWl0eSBpbiB0aGUgc2VsZWN0IGVsZW1lbnQgc3BlY2lmaWNhdGlvbi4gU2VlIHRoZVxyXG4gICAqIFtpc3N1ZSBvbiB0aGUgRmlyZWZveCBidWcgdHJhY2tlcl0oaHR0cHM6Ly9idWd6aWxsYS5tb3ppbGxhLm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTI2Mzc5KVxyXG4gICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLCBhbmQgdGhpc1xyXG4gICAqIFtHaXRodWIgY29tbWVudCBmb3IgYSB3b3JrYXJvdW5kXShodHRwczovL2dpdGh1Yi5jb20vYW5ndWxhci9hbmd1bGFyLmpzL2lzc3Vlcy85MTM0I2lzc3VlY29tbWVudC0xMzA4MDA0ODgpXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqICMjIyBTaW1wbGUgYHNlbGVjdGAgZWxlbWVudHMgd2l0aCBzdGF0aWMgb3B0aW9uc1xyXG4gICAqXHJcbiAgICogPGV4YW1wbGUgbmFtZT1cInN0YXRpYy1zZWxlY3RcIiBtb2R1bGU9XCJzdGF0aWNTZWxlY3RcIj5cclxuICAgKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICogICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XHJcbiAgICogICAgIDxsYWJlbCBmb3I9XCJzaW5nbGVTZWxlY3RcIj4gU2luZ2xlIHNlbGVjdDogPC9sYWJlbD48YnI+XHJcbiAgICogICAgIDxzZWxlY3QgbmFtZT1cInNpbmdsZVNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5zaW5nbGVTZWxlY3RcIj5cclxuICAgKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTFcIj5PcHRpb24gMTwvb3B0aW9uPlxyXG4gICAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tMlwiPk9wdGlvbiAyPC9vcHRpb24+XHJcbiAgICogICAgIDwvc2VsZWN0Pjxicj5cclxuICAgKlxyXG4gICAqICAgICA8bGFiZWwgZm9yPVwic2luZ2xlU2VsZWN0XCI+IFNpbmdsZSBzZWxlY3Qgd2l0aCBcIm5vdCBzZWxlY3RlZFwiIG9wdGlvbiBhbmQgZHluYW1pYyBvcHRpb24gdmFsdWVzOiA8L2xhYmVsPjxicj5cclxuICAgKiAgICAgPHNlbGVjdCBuYW1lPVwic2luZ2xlU2VsZWN0XCIgaWQ9XCJzaW5nbGVTZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEuc2luZ2xlU2VsZWN0XCI+XHJcbiAgICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIlwiPi0tLVBsZWFzZSBzZWxlY3QtLS08L29wdGlvbj4gPCEtLSBub3Qgc2VsZWN0ZWQgLyBibGFuayBvcHRpb24gLS0+XHJcbiAgICogICAgICAgPG9wdGlvbiB2YWx1ZT1cInt7ZGF0YS5vcHRpb24xfX1cIj5PcHRpb24gMTwvb3B0aW9uPiA8IS0tIGludGVycG9sYXRpb24gLS0+XHJcbiAgICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0yXCI+T3B0aW9uIDI8L29wdGlvbj5cclxuICAgKiAgICAgPC9zZWxlY3Q+PGJyPlxyXG4gICAqICAgICA8YnV0dG9uIG5nLWNsaWNrPVwiZm9yY2VVbmtub3duT3B0aW9uKClcIj5Gb3JjZSB1bmtub3duIG9wdGlvbjwvYnV0dG9uPjxicj5cclxuICAgKiAgICAgPHR0PnNpbmdsZVNlbGVjdCA9IHt7ZGF0YS5zaW5nbGVTZWxlY3R9fTwvdHQ+XHJcbiAgICpcclxuICAgKiAgICAgPGhyPlxyXG4gICAqICAgICA8bGFiZWwgZm9yPVwibXVsdGlwbGVTZWxlY3RcIj4gTXVsdGlwbGUgc2VsZWN0OiA8L2xhYmVsPjxicj5cclxuICAgKiAgICAgPHNlbGVjdCBuYW1lPVwibXVsdGlwbGVTZWxlY3RcIiBpZD1cIm11bHRpcGxlU2VsZWN0XCIgbmctbW9kZWw9XCJkYXRhLm11bHRpcGxlU2VsZWN0XCIgbXVsdGlwbGU+XHJcbiAgICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIm9wdGlvbi0xXCI+T3B0aW9uIDE8L29wdGlvbj5cclxuICAgKiAgICAgICA8b3B0aW9uIHZhbHVlPVwib3B0aW9uLTJcIj5PcHRpb24gMjwvb3B0aW9uPlxyXG4gICAqICAgICAgIDxvcHRpb24gdmFsdWU9XCJvcHRpb24tM1wiPk9wdGlvbiAzPC9vcHRpb24+XHJcbiAgICogICAgIDwvc2VsZWN0Pjxicj5cclxuICAgKiAgICAgPHR0Pm11bHRpcGxlU2VsZWN0ID0ge3tkYXRhLm11bHRpcGxlU2VsZWN0fX08L3R0Pjxici8+XHJcbiAgICogICA8L2Zvcm0+XHJcbiAgICogPC9kaXY+XHJcbiAgICogPC9maWxlPlxyXG4gICAqIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICAgKiAgYW5ndWxhci5tb2R1bGUoJ3N0YXRpY1NlbGVjdCcsIFtdKVxyXG4gICAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICogICAgICAkc2NvcGUuZGF0YSA9IHtcclxuICAgKiAgICAgICBzaW5nbGVTZWxlY3Q6IG51bGwsXHJcbiAgICogICAgICAgbXVsdGlwbGVTZWxlY3Q6IFtdLFxyXG4gICAqICAgICAgIG9wdGlvbjE6ICdvcHRpb24tMSdcclxuICAgKiAgICAgIH07XHJcbiAgICpcclxuICAgKiAgICAgICRzY29wZS5mb3JjZVVua25vd25PcHRpb24gPSBmdW5jdGlvbigpIHtcclxuICAgKiAgICAgICAgJHNjb3BlLmRhdGEuc2luZ2xlU2VsZWN0ID0gJ25vbnNlbnNlJztcclxuICAgKiAgICAgIH07XHJcbiAgICogICB9XSk7XHJcbiAgICogPC9maWxlPlxyXG4gICAqPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICogIyMjIFVzaW5nIGBuZ1JlcGVhdGAgdG8gZ2VuZXJhdGUgYHNlbGVjdGAgb3B0aW9uc1xyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3QtbmdyZXBlYXRcIiBtb2R1bGU9XCJuZ3JlcGVhdFNlbGVjdFwiPlxyXG4gICAqIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICogPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgKiAgIDxmb3JtIG5hbWU9XCJteUZvcm1cIj5cclxuICAgKiAgICAgPGxhYmVsIGZvcj1cInJlcGVhdFNlbGVjdFwiPiBSZXBlYXQgc2VsZWN0OiA8L2xhYmVsPlxyXG4gICAqICAgICA8c2VsZWN0IG5hbWU9XCJyZXBlYXRTZWxlY3RcIiBpZD1cInJlcGVhdFNlbGVjdFwiIG5nLW1vZGVsPVwiZGF0YS5tb2RlbFwiPlxyXG4gICAqICAgICAgIDxvcHRpb24gbmctcmVwZWF0PVwib3B0aW9uIGluIGRhdGEuYXZhaWxhYmxlT3B0aW9uc1wiIHZhbHVlPVwie3tvcHRpb24uaWR9fVwiPnt7b3B0aW9uLm5hbWV9fTwvb3B0aW9uPlxyXG4gICAqICAgICA8L3NlbGVjdD5cclxuICAgKiAgIDwvZm9ybT5cclxuICAgKiAgIDxocj5cclxuICAgKiAgIDx0dD5tb2RlbCA9IHt7ZGF0YS5tb2RlbH19PC90dD48YnIvPlxyXG4gICAqIDwvZGl2PlxyXG4gICAqIDwvZmlsZT5cclxuICAgKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogIGFuZ3VsYXIubW9kdWxlKCduZ3JlcGVhdFNlbGVjdCcsIFtdKVxyXG4gICAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICogICAgICAkc2NvcGUuZGF0YSA9IHtcclxuICAgKiAgICAgICBtb2RlbDogbnVsbCxcclxuICAgKiAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICogICAgICAgICB7aWQ6ICcxJywgbmFtZTogJ09wdGlvbiBBJ30sXHJcbiAgICogICAgICAgICB7aWQ6ICcyJywgbmFtZTogJ09wdGlvbiBCJ30sXHJcbiAgICogICAgICAgICB7aWQ6ICczJywgbmFtZTogJ09wdGlvbiBDJ31cclxuICAgKiAgICAgICBdXHJcbiAgICogICAgICB9O1xyXG4gICAqICAgfV0pO1xyXG4gICAqIDwvZmlsZT5cclxuICAgKjwvZXhhbXBsZT5cclxuICAgKlxyXG4gICAqICMjIyBVc2luZyBgbmdWYWx1ZWAgdG8gYmluZCB0aGUgbW9kZWwgdG8gYW4gYXJyYXkgb2Ygb2JqZWN0c1xyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3Qtbmd2YWx1ZVwiIG1vZHVsZT1cIm5ndmFsdWVTZWxlY3RcIj5cclxuICAgKiA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAqIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICogICA8Zm9ybSBuYW1lPVwibXlGb3JtXCI+XHJcbiAgICogICAgIDxsYWJlbCBmb3I9XCJuZ3ZhbHVlc2VsZWN0XCI+IG5ndmFsdWUgc2VsZWN0OiA8L2xhYmVsPlxyXG4gICAqICAgICA8c2VsZWN0IHNpemU9XCI2XCIgbmFtZT1cIm5ndmFsdWVzZWxlY3RcIiBuZy1tb2RlbD1cImRhdGEubW9kZWxcIiBtdWx0aXBsZT5cclxuICAgKiAgICAgICA8b3B0aW9uIG5nLXJlcGVhdD1cIm9wdGlvbiBpbiBkYXRhLmF2YWlsYWJsZU9wdGlvbnNcIiBuZy12YWx1ZT1cIm9wdGlvbi52YWx1ZVwiPnt7b3B0aW9uLm5hbWV9fTwvb3B0aW9uPlxyXG4gICAqICAgICA8L3NlbGVjdD5cclxuICAgKiAgIDwvZm9ybT5cclxuICAgKiAgIDxocj5cclxuICAgKiAgIDxwcmU+bW9kZWwgPSB7e2RhdGEubW9kZWwgfCBqc29ufX08L3ByZT48YnIvPlxyXG4gICAqIDwvZGl2PlxyXG4gICAqIDwvZmlsZT5cclxuICAgKiA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogIGFuZ3VsYXIubW9kdWxlKCduZ3ZhbHVlU2VsZWN0JywgW10pXHJcbiAgICogICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgKiAgICAgICRzY29wZS5kYXRhID0ge1xyXG4gICAqICAgICAgIG1vZGVsOiBudWxsLFxyXG4gICAqICAgICAgIGF2YWlsYWJsZU9wdGlvbnM6IFtcclxuICAgICAgICAgICAgIHt2YWx1ZTogJ215U3RyaW5nJywgbmFtZTogJ3N0cmluZyd9LFxyXG4gICAgICAgICAgICAge3ZhbHVlOiAxLCBuYW1lOiAnaW50ZWdlcid9LFxyXG4gICAgICAgICAgICAge3ZhbHVlOiB0cnVlLCBuYW1lOiAnYm9vbGVhbid9LFxyXG4gICAgICAgICAgICAge3ZhbHVlOiBudWxsLCBuYW1lOiAnbnVsbCd9LFxyXG4gICAgICAgICAgICAge3ZhbHVlOiB7cHJvcDogJ3ZhbHVlJ30sIG5hbWU6ICdvYmplY3QnfSxcclxuICAgICAgICAgICAgIHt2YWx1ZTogWydhJ10sIG5hbWU6ICdhcnJheSd9XHJcbiAgICogICAgICAgXVxyXG4gICAqICAgICAgfTtcclxuICAgKiAgIH1dKTtcclxuICAgKiA8L2ZpbGU+XHJcbiAgICo8L2V4YW1wbGU+XHJcbiAgICpcclxuICAgKiAjIyMgVXNpbmcgYHNlbGVjdGAgd2l0aCBgbmdPcHRpb25zYCBhbmQgc2V0dGluZyBhIGRlZmF1bHQgdmFsdWVcclxuICAgKiBTZWUgdGhlIHtAbGluayBuZ09wdGlvbnMgbmdPcHRpb25zIGRvY3VtZW50YXRpb259IGZvciBtb3JlIGBuZ09wdGlvbnNgIHVzYWdlIGV4YW1wbGVzLlxyXG4gICAqXHJcbiAgICogPGV4YW1wbGUgbmFtZT1cInNlbGVjdC13aXRoLWRlZmF1bHQtdmFsdWVzXCIgbW9kdWxlPVwiZGVmYXVsdFZhbHVlU2VsZWN0XCI+XHJcbiAgICogPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cclxuICAgKiA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAqICAgPGZvcm0gbmFtZT1cIm15Rm9ybVwiPlxyXG4gICAqICAgICA8bGFiZWwgZm9yPVwibXlTZWxlY3RcIj5NYWtlIGEgY2hvaWNlOjwvbGFiZWw+XHJcbiAgICogICAgIDxzZWxlY3QgbmFtZT1cIm15U2VsZWN0XCIgaWQ9XCJteVNlbGVjdFwiXHJcbiAgICogICAgICAgbmctb3B0aW9ucz1cIm9wdGlvbi5uYW1lIGZvciBvcHRpb24gaW4gZGF0YS5hdmFpbGFibGVPcHRpb25zIHRyYWNrIGJ5IG9wdGlvbi5pZFwiXHJcbiAgICogICAgICAgbmctbW9kZWw9XCJkYXRhLnNlbGVjdGVkT3B0aW9uXCI+PC9zZWxlY3Q+XHJcbiAgICogICA8L2Zvcm0+XHJcbiAgICogICA8aHI+XHJcbiAgICogICA8dHQ+b3B0aW9uID0ge3tkYXRhLnNlbGVjdGVkT3B0aW9ufX08L3R0Pjxici8+XHJcbiAgICogPC9kaXY+XHJcbiAgICogPC9maWxlPlxyXG4gICAqIDxmaWxlIG5hbWU9XCJhcHAuanNcIj5cclxuICAgKiAgYW5ndWxhci5tb2R1bGUoJ2RlZmF1bHRWYWx1ZVNlbGVjdCcsIFtdKVxyXG4gICAqICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICogICAgICAkc2NvcGUuZGF0YSA9IHtcclxuICAgKiAgICAgICBhdmFpbGFibGVPcHRpb25zOiBbXHJcbiAgICogICAgICAgICB7aWQ6ICcxJywgbmFtZTogJ09wdGlvbiBBJ30sXHJcbiAgICogICAgICAgICB7aWQ6ICcyJywgbmFtZTogJ09wdGlvbiBCJ30sXHJcbiAgICogICAgICAgICB7aWQ6ICczJywgbmFtZTogJ09wdGlvbiBDJ31cclxuICAgKiAgICAgICBdLFxyXG4gICAqICAgICAgIHNlbGVjdGVkT3B0aW9uOiB7aWQ6ICczJywgbmFtZTogJ09wdGlvbiBDJ30gLy9UaGlzIHNldHMgdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHNlbGVjdCBpbiB0aGUgdWlcclxuICAgKiAgICAgICB9O1xyXG4gICAqICAgfV0pO1xyXG4gICAqIDwvZmlsZT5cclxuICAgKjwvZXhhbXBsZT5cclxuICAgKlxyXG4gICAqXHJcbiAgICogIyMjIEJpbmRpbmcgYHNlbGVjdGAgdG8gYSBub24tc3RyaW5nIHZhbHVlIHZpYSBgbmdNb2RlbGAgcGFyc2luZyAvIGZvcm1hdHRpbmdcclxuICAgKlxyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJzZWxlY3Qtd2l0aC1ub24tc3RyaW5nLW9wdGlvbnNcIiBtb2R1bGU9XCJub25TdHJpbmdTZWxlY3RcIj5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICogICAgIDxzZWxlY3QgbmctbW9kZWw9XCJtb2RlbC5pZFwiIGNvbnZlcnQtdG8tbnVtYmVyPlxyXG4gICAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIwXCI+WmVybzwvb3B0aW9uPlxyXG4gICAqICAgICAgIDxvcHRpb24gdmFsdWU9XCIxXCI+T25lPC9vcHRpb24+XHJcbiAgICogICAgICAgPG9wdGlvbiB2YWx1ZT1cIjJcIj5Ud288L29wdGlvbj5cclxuICAgKiAgICAgPC9zZWxlY3Q+XHJcbiAgICogICAgIHt7IG1vZGVsIH19XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiYXBwLmpzXCI+XHJcbiAgICogICAgIGFuZ3VsYXIubW9kdWxlKCdub25TdHJpbmdTZWxlY3QnLCBbXSlcclxuICAgKiAgICAgICAucnVuKGZ1bmN0aW9uKCRyb290U2NvcGUpIHtcclxuICAgKiAgICAgICAgICRyb290U2NvcGUubW9kZWwgPSB7IGlkOiAyIH07XHJcbiAgICogICAgICAgfSlcclxuICAgKiAgICAgICAuZGlyZWN0aXZlKCdjb252ZXJ0VG9OdW1iZXInLCBmdW5jdGlvbigpIHtcclxuICAgKiAgICAgICAgIHJldHVybiB7XHJcbiAgICogICAgICAgICAgIHJlcXVpcmU6ICduZ01vZGVsJyxcclxuICAgKiAgICAgICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBuZ01vZGVsKSB7XHJcbiAgICogICAgICAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy5wdXNoKGZ1bmN0aW9uKHZhbCkge1xyXG4gICAqICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHZhbCwgMTApO1xyXG4gICAqICAgICAgICAgICAgIH0pO1xyXG4gICAqICAgICAgICAgICAgIG5nTW9kZWwuJGZvcm1hdHRlcnMucHVzaChmdW5jdGlvbih2YWwpIHtcclxuICAgKiAgICAgICAgICAgICAgIHJldHVybiAnJyArIHZhbDtcclxuICAgKiAgICAgICAgICAgICB9KTtcclxuICAgKiAgICAgICAgICAgfVxyXG4gICAqICAgICAgICAgfTtcclxuICAgKiAgICAgICB9KTtcclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgKiAgICAgaXQoJ3Nob3VsZCBpbml0aWFsaXplIHRvIG1vZGVsJywgZnVuY3Rpb24oKSB7XHJcbiAgICogICAgICAgZXhwZWN0KGVsZW1lbnQoYnkubW9kZWwoJ21vZGVsLmlkJykpLiQoJ29wdGlvbjpjaGVja2VkJykuZ2V0VGV4dCgpKS50b0VxdWFsKCdUd28nKTtcclxuICAgKiAgICAgfSk7XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogPC9leGFtcGxlPlxyXG4gICAqXHJcbiAgICovXHJcbiAgdmFyIHNlbGVjdERpcmVjdGl2ZSA9IGZ1bmN0aW9uIHNlbGVjdERpcmVjdGl2ZSgpIHtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICByZXF1aXJlOiBbJ3NlbGVjdCcsICc/bmdNb2RlbCddLFxyXG4gICAgICBjb250cm9sbGVyOiBTZWxlY3RDb250cm9sbGVyLFxyXG4gICAgICBwcmlvcml0eTogMSxcclxuICAgICAgbGluazoge1xyXG4gICAgICAgIHByZTogc2VsZWN0UHJlTGluayxcclxuICAgICAgICBwb3N0OiBzZWxlY3RQb3N0TGlua1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdFByZUxpbmsoc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGN0cmxzKSB7XHJcblxyXG4gICAgICB2YXIgc2VsZWN0Q3RybCA9IGN0cmxzWzBdO1xyXG4gICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcclxuXHJcbiAgICAgIC8vIGlmIG5nTW9kZWwgaXMgbm90IGRlZmluZWQsIHdlIGRvbid0IG5lZWQgdG8gZG8gYW55dGhpbmcgYnV0IHNldCB0aGUgcmVnaXN0ZXJPcHRpb25cclxuICAgICAgLy8gZnVuY3Rpb24gdG8gbm9vcCwgc28gb3B0aW9ucyBkb24ndCBnZXQgYWRkZWQgaW50ZXJuYWxseVxyXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XHJcbiAgICAgICAgc2VsZWN0Q3RybC5yZWdpc3Rlck9wdGlvbiA9IG5vb3A7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBzZWxlY3RDdHJsLm5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmw7XHJcblxyXG4gICAgICAvLyBXaGVuIHRoZSBzZWxlY3RlZCBpdGVtKHMpIGNoYW5nZXMgd2UgZGVsZWdhdGUgZ2V0dGluZyB0aGUgdmFsdWUgb2YgdGhlIHNlbGVjdCBjb250cm9sXHJcbiAgICAgIC8vIHRvIHRoZSBgcmVhZFZhbHVlYCBtZXRob2QsIHdoaWNoIGNhbiBiZSBjaGFuZ2VkIGlmIHRoZSBzZWxlY3QgY2FuIGhhdmUgbXVsdGlwbGVcclxuICAgICAgLy8gc2VsZWN0ZWQgdmFsdWVzIG9yIGlmIHRoZSBvcHRpb25zIGFyZSBiZWluZyBnZW5lcmF0ZWQgYnkgYG5nT3B0aW9uc2BcclxuICAgICAgZWxlbWVudC5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHNlbGVjdEN0cmwucmVtb3ZlVW5rbm93bk9wdGlvbigpO1xyXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHNlbGVjdEN0cmwucmVhZFZhbHVlKCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIElmIHRoZSBzZWxlY3QgYWxsb3dzIG11bHRpcGxlIHZhbHVlcyB0aGVuIHdlIG5lZWQgdG8gbW9kaWZ5IGhvdyB3ZSByZWFkIGFuZCB3cml0ZVxyXG4gICAgICAvLyB2YWx1ZXMgZnJvbSBhbmQgdG8gdGhlIGNvbnRyb2w7IGFsc28gd2hhdCBpdCBtZWFucyBmb3IgdGhlIHZhbHVlIHRvIGJlIGVtcHR5IGFuZFxyXG4gICAgICAvLyB3ZSBoYXZlIHRvIGFkZCBhbiBleHRyYSB3YXRjaCBzaW5jZSBuZ01vZGVsIGRvZXNuJ3Qgd29yayB3ZWxsIHdpdGggYXJyYXlzIC0gaXRcclxuICAgICAgLy8gZG9lc24ndCB0cmlnZ2VyIHJlbmRlcmluZyBpZiBvbmx5IGFuIGl0ZW0gaW4gdGhlIGFycmF5IGNoYW5nZXMuXHJcbiAgICAgIGlmIChhdHRyLm11bHRpcGxlKSB7XHJcbiAgICAgICAgc2VsZWN0Q3RybC5tdWx0aXBsZSA9IHRydWU7XHJcblxyXG4gICAgICAgIC8vIFJlYWQgdmFsdWUgbm93IG5lZWRzIHRvIGNoZWNrIGVhY2ggb3B0aW9uIHRvIHNlZSBpZiBpdCBpcyBzZWxlY3RlZFxyXG4gICAgICAgIHNlbGVjdEN0cmwucmVhZFZhbHVlID0gZnVuY3Rpb24gcmVhZE11bHRpcGxlVmFsdWUoKSB7XHJcbiAgICAgICAgICB2YXIgYXJyYXkgPSBbXTtcclxuICAgICAgICAgIGZvckVhY2goZWxlbWVudC5maW5kKCdvcHRpb24nKSwgZnVuY3Rpb24gKG9wdGlvbikge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uLnNlbGVjdGVkICYmICFvcHRpb24uZGlzYWJsZWQpIHtcclxuICAgICAgICAgICAgICB2YXIgdmFsID0gb3B0aW9uLnZhbHVlO1xyXG4gICAgICAgICAgICAgIGFycmF5LnB1c2godmFsIGluIHNlbGVjdEN0cmwuc2VsZWN0VmFsdWVNYXAgPyBzZWxlY3RDdHJsLnNlbGVjdFZhbHVlTWFwW3ZhbF0gOiB2YWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiBhcnJheTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyBXcml0ZSB2YWx1ZSBub3cgbmVlZHMgdG8gc2V0IHRoZSBzZWxlY3RlZCBwcm9wZXJ0eSBvZiBlYWNoIG1hdGNoaW5nIG9wdGlvblxyXG4gICAgICAgIHNlbGVjdEN0cmwud3JpdGVWYWx1ZSA9IGZ1bmN0aW9uIHdyaXRlTXVsdGlwbGVWYWx1ZSh2YWx1ZSkge1xyXG4gICAgICAgICAgZm9yRWFjaChlbGVtZW50LmZpbmQoJ29wdGlvbicpLCBmdW5jdGlvbiAob3B0aW9uKSB7XHJcbiAgICAgICAgICAgIHZhciBzaG91bGRCZVNlbGVjdGVkID0gISF2YWx1ZSAmJiAoaW5jbHVkZXModmFsdWUsIG9wdGlvbi52YWx1ZSkgfHwgaW5jbHVkZXModmFsdWUsIHNlbGVjdEN0cmwuc2VsZWN0VmFsdWVNYXBbb3B0aW9uLnZhbHVlXSkpO1xyXG4gICAgICAgICAgICB2YXIgY3VycmVudGx5U2VsZWN0ZWQgPSBvcHRpb24uc2VsZWN0ZWQ7XHJcblxyXG4gICAgICAgICAgICAvLyBTdXBwb3J0OiBJRSA5LTExIG9ubHksIEVkZ2UgMTItMTUrXHJcbiAgICAgICAgICAgIC8vIEluIElFIGFuZCBFZGdlIGFkZGluZyBvcHRpb25zIHRvIHRoZSBzZWxlY3Rpb24gdmlhIHNoaWZ0K2NsaWNrL1VQL0RPV05cclxuICAgICAgICAgICAgLy8gd2lsbCBkZS1zZWxlY3QgYWxyZWFkeSBzZWxlY3RlZCBvcHRpb25zIGlmIFwic2VsZWN0ZWRcIiBvbiB0aG9zZSBvcHRpb25zIHdhcyBzZXRcclxuICAgICAgICAgICAgLy8gbW9yZSB0aGFuIG9uY2UgKGkuZS4gd2hlbiB0aGUgb3B0aW9ucyB3ZXJlIGFscmVhZHkgc2VsZWN0ZWQpXHJcbiAgICAgICAgICAgIC8vIFNvIHdlIG9ubHkgbW9kaWZ5IHRoZSBzZWxlY3RlZCBwcm9wZXJ0eSBpZiBuZWNlc3NhcnkuXHJcbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgYmVoYXZpb3IgY2Fubm90IGJlIHJlcGxpY2F0ZWQgdmlhIHVuaXQgdGVzdHMgYmVjYXVzZSBpdCBvbmx5IHNob3dzIGluIHRoZVxyXG4gICAgICAgICAgICAvLyBhY3R1YWwgdXNlciBpbnRlcmZhY2UuXHJcbiAgICAgICAgICAgIGlmIChzaG91bGRCZVNlbGVjdGVkICE9PSBjdXJyZW50bHlTZWxlY3RlZCkge1xyXG4gICAgICAgICAgICAgIHNldE9wdGlvblNlbGVjdGVkU3RhdHVzKGpxTGl0ZShvcHRpb24pLCBzaG91bGRCZVNlbGVjdGVkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gd2UgaGF2ZSB0byBkbyBpdCBvbiBlYWNoIHdhdGNoIHNpbmNlIG5nTW9kZWwgd2F0Y2hlcyByZWZlcmVuY2UsIGJ1dFxyXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gd29yayBvZiBhbiBhcnJheSwgc28gd2UgbmVlZCB0byBzZWUgaWYgYW55dGhpbmcgd2FzIGluc2VydGVkL3JlbW92ZWRcclxuICAgICAgICB2YXIgbGFzdFZpZXcsXHJcbiAgICAgICAgICAgIGxhc3RWaWV3UmVmID0gTmFOO1xyXG4gICAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbiBzZWxlY3RNdWx0aXBsZVdhdGNoKCkge1xyXG4gICAgICAgICAgaWYgKGxhc3RWaWV3UmVmID09PSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlICYmICFlcXVhbHMobGFzdFZpZXcsIG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpKSB7XHJcbiAgICAgICAgICAgIGxhc3RWaWV3ID0gc2hhbGxvd0NvcHkobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XHJcbiAgICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGxhc3RWaWV3UmVmID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gSWYgd2UgYXJlIGEgbXVsdGlwbGUgc2VsZWN0IHRoZW4gdmFsdWUgaXMgbm93IGEgY29sbGVjdGlvblxyXG4gICAgICAgIC8vIHNvIHRoZSBtZWFuaW5nIG9mICRpc0VtcHR5IGNoYW5nZXNcclxuICAgICAgICBuZ01vZGVsQ3RybC4kaXNFbXB0eSA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgcmV0dXJuICF2YWx1ZSB8fCB2YWx1ZS5sZW5ndGggPT09IDA7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIHNlbGVjdFBvc3RMaW5rKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcclxuICAgICAgLy8gaWYgbmdNb2RlbCBpcyBub3QgZGVmaW5lZCwgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xyXG4gICAgICB2YXIgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcclxuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkgcmV0dXJuO1xyXG5cclxuICAgICAgdmFyIHNlbGVjdEN0cmwgPSBjdHJsc1swXTtcclxuXHJcbiAgICAgIC8vIFdlIGRlbGVnYXRlIHJlbmRlcmluZyB0byB0aGUgYHdyaXRlVmFsdWVgIG1ldGhvZCwgd2hpY2ggY2FuIGJlIGNoYW5nZWRcclxuICAgICAgLy8gaWYgdGhlIHNlbGVjdCBjYW4gaGF2ZSBtdWx0aXBsZSBzZWxlY3RlZCB2YWx1ZXMgb3IgaWYgdGhlIG9wdGlvbnMgYXJlIGJlaW5nXHJcbiAgICAgIC8vIGdlbmVyYXRlZCBieSBgbmdPcHRpb25zYC5cclxuICAgICAgLy8gVGhpcyBtdXN0IGJlIGRvbmUgaW4gdGhlIHBvc3RMaW5rIGZuIHRvIHByZXZlbnQgJHJlbmRlciB0byBiZSBjYWxsZWQgYmVmb3JlXHJcbiAgICAgIC8vIGFsbCBub2RlcyBoYXZlIGJlZW4gbGlua2VkIGNvcnJlY3RseS5cclxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBzZWxlY3RDdHJsLndyaXRlVmFsdWUobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XHJcbiAgICAgIH07XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgLy8gVGhlIG9wdGlvbiBkaXJlY3RpdmUgaXMgcHVyZWx5IGRlc2lnbmVkIHRvIGNvbW11bmljYXRlIHRoZSBleGlzdGVuY2UgKG9yIGxhY2sgb2YpXHJcbiAgLy8gb2YgZHluYW1pY2FsbHkgY3JlYXRlZCAoYW5kIGRlc3Ryb3llZCkgb3B0aW9uIGVsZW1lbnRzIHRvIHRoZWlyIGNvbnRhaW5pbmcgc2VsZWN0XHJcbiAgLy8gZGlyZWN0aXZlIHZpYSBpdHMgY29udHJvbGxlci5cclxuICB2YXIgb3B0aW9uRGlyZWN0aXZlID0gWyckaW50ZXJwb2xhdGUnLCBmdW5jdGlvbiAoJGludGVycG9sYXRlKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0UnLFxyXG4gICAgICBwcmlvcml0eTogMTAwLFxyXG4gICAgICBjb21waWxlOiBmdW5jdGlvbiBjb21waWxlKGVsZW1lbnQsIGF0dHIpIHtcclxuICAgICAgICB2YXIgaW50ZXJwb2xhdGVWYWx1ZUZuLCBpbnRlcnBvbGF0ZVRleHRGbjtcclxuXHJcbiAgICAgICAgaWYgKGlzRGVmaW5lZChhdHRyLm5nVmFsdWUpKSB7XHJcbiAgICAgICAgICAvLyBXaWxsIGJlIGhhbmRsZWQgYnkgcmVnaXN0ZXJPcHRpb25cclxuICAgICAgICB9IGVsc2UgaWYgKGlzRGVmaW5lZChhdHRyLnZhbHVlKSkge1xyXG4gICAgICAgICAgLy8gSWYgdGhlIHZhbHVlIGF0dHJpYnV0ZSBpcyBkZWZpbmVkLCBjaGVjayBpZiBpdCBjb250YWlucyBhbiBpbnRlcnBvbGF0aW9uXHJcbiAgICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlRm4gPSAkaW50ZXJwb2xhdGUoYXR0ci52YWx1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIElmIHRoZSB2YWx1ZSBhdHRyaWJ1dGUgaXMgbm90IGRlZmluZWQgdGhlbiB3ZSBmYWxsIGJhY2sgdG8gdGhlXHJcbiAgICAgICAgICAvLyB0ZXh0IGNvbnRlbnQgb2YgdGhlIG9wdGlvbiBlbGVtZW50LCB3aGljaCBtYXkgYmUgaW50ZXJwb2xhdGVkXHJcbiAgICAgICAgICBpbnRlcnBvbGF0ZVRleHRGbiA9ICRpbnRlcnBvbGF0ZShlbGVtZW50LnRleHQoKSwgdHJ1ZSk7XHJcbiAgICAgICAgICBpZiAoIWludGVycG9sYXRlVGV4dEZuKSB7XHJcbiAgICAgICAgICAgIGF0dHIuJHNldCgndmFsdWUnLCBlbGVtZW50LnRleHQoKSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRyKSB7XHJcbiAgICAgICAgICAvLyBUaGlzIGlzIGFuIG9wdGltaXphdGlvbiBvdmVyIHVzaW5nIF5eIHNpbmNlIHdlIGRvbid0IHdhbnQgdG8gaGF2ZSB0byBzZWFyY2hcclxuICAgICAgICAgIC8vIGFsbCB0aGUgd2F5IHRvIHRoZSByb290IG9mIHRoZSBET00gZm9yIGV2ZXJ5IHNpbmdsZSBvcHRpb24gZWxlbWVudFxyXG4gICAgICAgICAgdmFyIHNlbGVjdEN0cmxOYW1lID0gJyRzZWxlY3RDb250cm9sbGVyJyxcclxuICAgICAgICAgICAgICBwYXJlbnQgPSBlbGVtZW50LnBhcmVudCgpLFxyXG4gICAgICAgICAgICAgIHNlbGVjdEN0cmwgPSBwYXJlbnQuZGF0YShzZWxlY3RDdHJsTmFtZSkgfHwgcGFyZW50LnBhcmVudCgpLmRhdGEoc2VsZWN0Q3RybE5hbWUpOyAvLyBpbiBjYXNlIHdlIGFyZSBpbiBvcHRncm91cFxyXG5cclxuICAgICAgICAgIGlmIChzZWxlY3RDdHJsKSB7XHJcbiAgICAgICAgICAgIHNlbGVjdEN0cmwucmVnaXN0ZXJPcHRpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGludGVycG9sYXRlVmFsdWVGbiwgaW50ZXJwb2xhdGVUZXh0Rm4pO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfV07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ1JlcXVpcmVkXHJcbiAgICogQHJlc3RyaWN0IEFcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogbmdSZXF1aXJlZCBhZGRzIHRoZSByZXF1aXJlZCB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmFsaWRhdG9ycyBgdmFsaWRhdG9yYH0gdG8ge0BsaW5rIG5nTW9kZWwgYG5nTW9kZWxgfS5cclxuICAgKiBJdCBpcyBtb3N0IG9mdGVuIHVzZWQgZm9yIHtAbGluayBpbnB1dCBgaW5wdXRgfSBhbmQge0BsaW5rIHNlbGVjdCBgc2VsZWN0YH0gY29udHJvbHMsIGJ1dCBjYW4gYWxzbyBiZVxyXG4gICAqIGFwcGxpZWQgdG8gY3VzdG9tIGNvbnRyb2xzLlxyXG4gICAqXHJcbiAgICogVGhlIGRpcmVjdGl2ZSBzZXRzIHRoZSBgcmVxdWlyZWRgIGF0dHJpYnV0ZSBvbiB0aGUgZWxlbWVudCBpZiB0aGUgQW5ndWxhciBleHByZXNzaW9uIGluc2lkZVxyXG4gICAqIGBuZ1JlcXVpcmVkYCBldmFsdWF0ZXMgdG8gdHJ1ZS4gQSBzcGVjaWFsIGRpcmVjdGl2ZSBmb3Igc2V0dGluZyBgcmVxdWlyZWRgIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHdlXHJcbiAgICogY2Fubm90IHVzZSBpbnRlcnBvbGF0aW9uIGluc2lkZSBgcmVxdWlyZWRgLiBTZWUgdGhlIHtAbGluayBndWlkZS9pbnRlcnBvbGF0aW9uIGludGVycG9sYXRpb24gZ3VpZGV9XHJcbiAgICogZm9yIG1vcmUgaW5mby5cclxuICAgKlxyXG4gICAqIFRoZSB2YWxpZGF0b3Igd2lsbCBzZXQgdGhlIGByZXF1aXJlZGAgZXJyb3Iga2V5IHRvIHRydWUgaWYgdGhlIGByZXF1aXJlZGAgYXR0cmlidXRlIGlzIHNldCBhbmRcclxuICAgKiBjYWxsaW5nIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyRpc0VtcHR5IGBOZ01vZGVsQ29udHJvbGxlci4kaXNFbXB0eWB9IHdpdGggdGhlXHJcbiAgICoge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSBgbmdNb2RlbC4kdmlld1ZhbHVlYH0gcmV0dXJucyBgdHJ1ZWAuIEZvciBleGFtcGxlLCB0aGVcclxuICAgKiBgJGlzRW1wdHkoKWAgaW1wbGVtZW50YXRpb24gZm9yIGBpbnB1dFt0ZXh0XWAgY2hlY2tzIHRoZSBsZW5ndGggb2YgdGhlIGAkdmlld1ZhbHVlYC4gV2hlbiBkZXZlbG9waW5nXHJcbiAgICogY3VzdG9tIGNvbnRyb2xzLCBgJGlzRW1wdHkoKWAgY2FuIGJlIG92ZXJ3cml0dGVuIHRvIGFjY291bnQgZm9yIGEgJHZpZXdWYWx1ZSB0aGF0IGlzIG5vdCBzdHJpbmctYmFzZWQuXHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJuZ1JlcXVpcmVkRGlyZWN0aXZlXCIgbW9kdWxlPVwibmdSZXF1aXJlZEV4YW1wbGVcIj5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICogICAgIDxzY3JpcHQ+XHJcbiAgICogICAgICAgYW5ndWxhci5tb2R1bGUoJ25nUmVxdWlyZWRFeGFtcGxlJywgW10pXHJcbiAgICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAqICAgICAgICAgICAkc2NvcGUucmVxdWlyZWQgPSB0cnVlO1xyXG4gICAqICAgICAgICAgfV0pO1xyXG4gICAqICAgICA8L3NjcmlwdD5cclxuICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgKiAgICAgICA8Zm9ybSBuYW1lPVwiZm9ybVwiPlxyXG4gICAqICAgICAgICAgPGxhYmVsIGZvcj1cInJlcXVpcmVkXCI+VG9nZ2xlIHJlcXVpcmVkOiA8L2xhYmVsPlxyXG4gICAqICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5nLW1vZGVsPVwicmVxdWlyZWRcIiBpZD1cInJlcXVpcmVkXCIgLz5cclxuICAgKiAgICAgICAgIDxicj5cclxuICAgKiAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dFwiPlRoaXMgaW5wdXQgbXVzdCBiZSBmaWxsZWQgaWYgYHJlcXVpcmVkYCBpcyB0cnVlOiA8L2xhYmVsPlxyXG4gICAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1yZXF1aXJlZD1cInJlcXVpcmVkXCIgLz48YnI+XHJcbiAgICogICAgICAgICA8aHI+XHJcbiAgICogICAgICAgICByZXF1aXJlZCBlcnJvciBzZXQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiRlcnJvci5yZXF1aXJlZH19PC9jb2RlPjxicj5cclxuICAgKiAgICAgICAgIG1vZGVsID0gPGNvZGU+e3ttb2RlbH19PC9jb2RlPlxyXG4gICAqICAgICAgIDwvZm9ybT5cclxuICAgKiAgICAgPC9kaXY+XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgIHZhciByZXF1aXJlZCA9IGVsZW1lbnQoYnkuYmluZGluZygnZm9ybS5pbnB1dC4kZXJyb3IucmVxdWlyZWQnKSk7XHJcbiAgICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XHJcbiAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkuaWQoJ2lucHV0JykpO1xyXG4gIFxyXG4gICAgICAgICBpdCgnc2hvdWxkIHNldCB0aGUgcmVxdWlyZWQgZXJyb3InLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBleHBlY3QocmVxdWlyZWQuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ3RydWUnKTtcclxuICBcclxuICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XHJcbiAgICAgICAgICAgZXhwZWN0KHJlcXVpcmVkLmdldFRleHQoKSkubm90LnRvQ29udGFpbigndHJ1ZScpO1xyXG4gICAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvQ29udGFpbignMTIzJyk7XHJcbiAgICAgICAgIH0pO1xyXG4gICAqICAgPC9maWxlPlxyXG4gICAqIDwvZXhhbXBsZT5cclxuICAgKi9cclxuICB2YXIgcmVxdWlyZWREaXJlY3RpdmUgPSBmdW5jdGlvbiByZXF1aXJlZERpcmVjdGl2ZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xyXG4gICAgICAgIGlmICghY3RybCkgcmV0dXJuO1xyXG4gICAgICAgIGF0dHIucmVxdWlyZWQgPSB0cnVlOyAvLyBmb3JjZSB0cnV0aHkgaW4gY2FzZSB3ZSBhcmUgb24gbm9uIGlucHV0IGVsZW1lbnRcclxuXHJcbiAgICAgICAgY3RybC4kdmFsaWRhdG9ycy5yZXF1aXJlZCA9IGZ1bmN0aW9uIChtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiAhYXR0ci5yZXF1aXJlZCB8fCAhY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGF0dHIuJG9ic2VydmUoJ3JlcXVpcmVkJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdQYXR0ZXJuXHJcbiAgICpcclxuICAgKiBAZGVzY3JpcHRpb25cclxuICAgKlxyXG4gICAqIG5nUGF0dGVybiBhZGRzIHRoZSBwYXR0ZXJuIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxyXG4gICAqIEl0IGlzIG1vc3Qgb2Z0ZW4gdXNlZCBmb3IgdGV4dC1iYXNlZCB7QGxpbmsgaW5wdXQgYGlucHV0YH0gY29udHJvbHMsIGJ1dCBjYW4gYWxzbyBiZSBhcHBsaWVkIHRvIGN1c3RvbSB0ZXh0LWJhc2VkIGNvbnRyb2xzLlxyXG4gICAqXHJcbiAgICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgcGF0dGVybmAgZXJyb3Iga2V5IGlmIHRoZSB7QGxpbmsgbmdNb2RlbC5OZ01vZGVsQ29udHJvbGxlciMkdmlld1ZhbHVlIGBuZ01vZGVsLiR2aWV3VmFsdWVgfVxyXG4gICAqIGRvZXMgbm90IG1hdGNoIGEgUmVnRXhwIHdoaWNoIGlzIG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGVcclxuICAgKiBgbmdQYXR0ZXJuYCBhdHRyaWJ1dGUgdmFsdWU6XHJcbiAgICogKiBJZiB0aGUgZXhwcmVzc2lvbiBldmFsdWF0ZXMgdG8gYSBSZWdFeHAgb2JqZWN0LCB0aGVuIHRoaXMgaXMgdXNlZCBkaXJlY3RseS5cclxuICAgKiAqIElmIHRoZSBleHByZXNzaW9uIGV2YWx1YXRlcyB0byBhIHN0cmluZywgdGhlbiBpdCB3aWxsIGJlIGNvbnZlcnRlZCB0byBhIFJlZ0V4cCBhZnRlciB3cmFwcGluZyBpdFxyXG4gICAqIGluIGBeYCBhbmQgYCRgIGNoYXJhY3RlcnMuIEZvciBpbnN0YW5jZSwgYFwiYWJjXCJgIHdpbGwgYmUgY29udmVydGVkIHRvIGBuZXcgUmVnRXhwKCdeYWJjJCcpYC5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAgICogKipOb3RlOioqIEF2b2lkIHVzaW5nIHRoZSBgZ2AgZmxhZyBvbiB0aGUgUmVnRXhwLCBhcyBpdCB3aWxsIGNhdXNlIGVhY2ggc3VjY2Vzc2l2ZSBzZWFyY2ggdG9cclxuICAgKiBzdGFydCBhdCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc2VhcmNoJ3MgbWF0Y2gsIHRodXMgbm90IHRha2luZyB0aGUgd2hvbGUgaW5wdXQgdmFsdWUgaW50b1xyXG4gICAqIGFjY291bnQuXHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gICAqICoqTm90ZToqKiBUaGlzIGRpcmVjdGl2ZSBpcyBhbHNvIGFkZGVkIHdoZW4gdGhlIHBsYWluIGBwYXR0ZXJuYCBhdHRyaWJ1dGUgaXMgdXNlZCwgd2l0aCB0d29cclxuICAgKiBkaWZmZXJlbmNlczpcclxuICAgKiA8b2w+XHJcbiAgICogICA8bGk+XHJcbiAgICogICAgIGBuZ1BhdHRlcm5gIGRvZXMgbm90IHNldCB0aGUgYHBhdHRlcm5gIGF0dHJpYnV0ZSBhbmQgdGhlcmVmb3JlIEhUTUw1IGNvbnN0cmFpbnQgdmFsaWRhdGlvbiBpc1xyXG4gICAqICAgICBub3QgYXZhaWxhYmxlLlxyXG4gICAqICAgPC9saT5cclxuICAgKiAgIDxsaT5cclxuICAgKiAgICAgVGhlIGBuZ1BhdHRlcm5gIGF0dHJpYnV0ZSBtdXN0IGJlIGFuIGV4cHJlc3Npb24sIHdoaWxlIHRoZSBgcGF0dGVybmAgdmFsdWUgbXVzdCBiZVxyXG4gICAqICAgICBpbnRlcnBvbGF0ZWQuXHJcbiAgICogICA8L2xpPlxyXG4gICAqIDwvb2w+XHJcbiAgICogPC9kaXY+XHJcbiAgICpcclxuICAgKiBAZXhhbXBsZVxyXG4gICAqIDxleGFtcGxlIG5hbWU9XCJuZ1BhdHRlcm5EaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ1BhdHRlcm5FeGFtcGxlXCI+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAqICAgICA8c2NyaXB0PlxyXG4gICAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1BhdHRlcm5FeGFtcGxlJywgW10pXHJcbiAgICogICAgICAgICAuY29udHJvbGxlcignRXhhbXBsZUNvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uKCRzY29wZSkge1xyXG4gICAqICAgICAgICAgICAkc2NvcGUucmVnZXggPSAnXFxcXGQrJztcclxuICAgKiAgICAgICAgIH1dKTtcclxuICAgKiAgICAgPC9zY3JpcHQ+XHJcbiAgICogICAgIDxkaXYgbmctY29udHJvbGxlcj1cIkV4YW1wbGVDb250cm9sbGVyXCI+XHJcbiAgICogICAgICAgPGZvcm0gbmFtZT1cImZvcm1cIj5cclxuICAgKiAgICAgICAgIDxsYWJlbCBmb3I9XCJyZWdleFwiPlNldCBhIHBhdHRlcm4gKHJlZ2V4IHN0cmluZyk6IDwvbGFiZWw+XHJcbiAgICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cInJlZ2V4XCIgaWQ9XCJyZWdleFwiIC8+XHJcbiAgICogICAgICAgICA8YnI+XHJcbiAgICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IGlzIHJlc3RyaWN0ZWQgYnkgdGhlIGN1cnJlbnQgcGF0dGVybjogPC9sYWJlbD5cclxuICAgKiAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIG5nLW1vZGVsPVwibW9kZWxcIiBpZD1cImlucHV0XCIgbmFtZT1cImlucHV0XCIgbmctcGF0dGVybj1cInJlZ2V4XCIgLz48YnI+XHJcbiAgICogICAgICAgICA8aHI+XHJcbiAgICogICAgICAgICBpbnB1dCB2YWxpZD8gPSA8Y29kZT57e2Zvcm0uaW5wdXQuJHZhbGlkfX08L2NvZGU+PGJyPlxyXG4gICAqICAgICAgICAgbW9kZWwgPSA8Y29kZT57e21vZGVsfX08L2NvZGU+XHJcbiAgICogICAgICAgPC9mb3JtPlxyXG4gICAqICAgICA8L2Rpdj5cclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJwcm90cmFjdG9yLmpzXCIgdHlwZT1cInByb3RyYWN0b3JcIj5cclxuICAgICAgICAgdmFyIG1vZGVsID0gZWxlbWVudChieS5iaW5kaW5nKCdtb2RlbCcpKTtcclxuICAgICAgICAgdmFyIGlucHV0ID0gZWxlbWVudChieS5pZCgnaW5wdXQnKSk7XHJcbiAgXHJcbiAgICAgICAgIGl0KCdzaG91bGQgdmFsaWRhdGUgdGhlIGlucHV0IHdpdGggdGhlIGRlZmF1bHQgcGF0dGVybicsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdhYWEnKTtcclxuICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCdhYWEnKTtcclxuICBcclxuICAgICAgICAgICBpbnB1dC5jbGVhcigpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnMTIzJyk7XHJcbiAgICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJzEyMycpO1xyXG4gICAgICAgICAgIH0pO1xyXG4gICAgICAgICB9KTtcclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIHBhdHRlcm5EaXJlY3RpdmUgPSBmdW5jdGlvbiBwYXR0ZXJuRGlyZWN0aXZlKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgcmVzdHJpY3Q6ICdBJyxcclxuICAgICAgcmVxdWlyZTogJz9uZ01vZGVsJyxcclxuICAgICAgbGluazogZnVuY3Rpb24gbGluayhzY29wZSwgZWxtLCBhdHRyLCBjdHJsKSB7XHJcbiAgICAgICAgaWYgKCFjdHJsKSByZXR1cm47XHJcblxyXG4gICAgICAgIHZhciByZWdleHAsXHJcbiAgICAgICAgICAgIHBhdHRlcm5FeHAgPSBhdHRyLm5nUGF0dGVybiB8fCBhdHRyLnBhdHRlcm47XHJcbiAgICAgICAgYXR0ci4kb2JzZXJ2ZSgncGF0dGVybicsIGZ1bmN0aW9uIChyZWdleCkge1xyXG4gICAgICAgICAgaWYgKGlzU3RyaW5nKHJlZ2V4KSAmJiByZWdleC5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnXicgKyByZWdleCArICckJyk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKHJlZ2V4ICYmICFyZWdleC50ZXN0KSB7XHJcbiAgICAgICAgICAgIHRocm93IG1pbkVycignbmdQYXR0ZXJuJykoJ25vcmVnZXhwJywgJ0V4cGVjdGVkIHswfSB0byBiZSBhIFJlZ0V4cCBidXQgd2FzIHsxfS4gRWxlbWVudDogezJ9JywgcGF0dGVybkV4cCwgcmVnZXgsIHN0YXJ0aW5nVGFnKGVsbSkpO1xyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJlZ2V4cCA9IHJlZ2V4IHx8IHVuZGVmaW5lZDtcclxuICAgICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGN0cmwuJHZhbGlkYXRvcnMucGF0dGVybiA9IGZ1bmN0aW9uIChtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgICAgICAgIC8vIEhUTUw1IHBhdHRlcm4gY29uc3RyYWludCB2YWxpZGF0ZXMgdGhlIGlucHV0IHZhbHVlLCBzbyB3ZSB2YWxpZGF0ZSB0aGUgdmlld1ZhbHVlXHJcbiAgICAgICAgICByZXR1cm4gY3RybC4kaXNFbXB0eSh2aWV3VmFsdWUpIHx8IGlzVW5kZWZpbmVkKHJlZ2V4cCkgfHwgcmVnZXhwLnRlc3Qodmlld1ZhbHVlKTtcclxuICAgICAgICB9O1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gIH07XHJcblxyXG4gIC8qKlxyXG4gICAqIEBuZ2RvYyBkaXJlY3RpdmVcclxuICAgKiBAbmFtZSBuZ01heGxlbmd0aFxyXG4gICAqXHJcbiAgICogQGRlc2NyaXB0aW9uXHJcbiAgICpcclxuICAgKiBuZ01heGxlbmd0aCBhZGRzIHRoZSBtYXhsZW5ndGgge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZhbGlkYXRvcnMgYHZhbGlkYXRvcmB9IHRvIHtAbGluayBuZ01vZGVsIGBuZ01vZGVsYH0uXHJcbiAgICogSXQgaXMgbW9zdCBvZnRlbiB1c2VkIGZvciB0ZXh0LWJhc2VkIHtAbGluayBpbnB1dCBgaW5wdXRgfSBjb250cm9scywgYnV0IGNhbiBhbHNvIGJlIGFwcGxpZWQgdG8gY3VzdG9tIHRleHQtYmFzZWQgY29udHJvbHMuXHJcbiAgICpcclxuICAgKiBUaGUgdmFsaWRhdG9yIHNldHMgdGhlIGBtYXhsZW5ndGhgIGVycm9yIGtleSBpZiB0aGUge0BsaW5rIG5nTW9kZWwuTmdNb2RlbENvbnRyb2xsZXIjJHZpZXdWYWx1ZSBgbmdNb2RlbC4kdmlld1ZhbHVlYH1cclxuICAgKiBpcyBsb25nZXIgdGhhbiB0aGUgaW50ZWdlciBvYnRhaW5lZCBieSBldmFsdWF0aW5nIHRoZSBBbmd1bGFyIGV4cHJlc3Npb24gZ2l2ZW4gaW4gdGhlXHJcbiAgICogYG5nTWF4bGVuZ3RoYCBhdHRyaWJ1dGUgdmFsdWUuXHJcbiAgICpcclxuICAgKiA8ZGl2IGNsYXNzPVwiYWxlcnQgYWxlcnQtaW5mb1wiPlxyXG4gICAqICoqTm90ZToqKiBUaGlzIGRpcmVjdGl2ZSBpcyBhbHNvIGFkZGVkIHdoZW4gdGhlIHBsYWluIGBtYXhsZW5ndGhgIGF0dHJpYnV0ZSBpcyB1c2VkLCB3aXRoIHR3b1xyXG4gICAqIGRpZmZlcmVuY2VzOlxyXG4gICAqIDxvbD5cclxuICAgKiAgIDxsaT5cclxuICAgKiAgICAgYG5nTWF4bGVuZ3RoYCBkb2VzIG5vdCBzZXQgdGhlIGBtYXhsZW5ndGhgIGF0dHJpYnV0ZSBhbmQgdGhlcmVmb3JlIEhUTUw1IGNvbnN0cmFpbnRcclxuICAgKiAgICAgdmFsaWRhdGlvbiBpcyBub3QgYXZhaWxhYmxlLlxyXG4gICAqICAgPC9saT5cclxuICAgKiAgIDxsaT5cclxuICAgKiAgICAgVGhlIGBuZ01heGxlbmd0aGAgYXR0cmlidXRlIG11c3QgYmUgYW4gZXhwcmVzc2lvbiwgd2hpbGUgdGhlIGBtYXhsZW5ndGhgIHZhbHVlIG11c3QgYmVcclxuICAgKiAgICAgaW50ZXJwb2xhdGVkLlxyXG4gICAqICAgPC9saT5cclxuICAgKiA8L29sPlxyXG4gICAqIDwvZGl2PlxyXG4gICAqXHJcbiAgICogQGV4YW1wbGVcclxuICAgKiA8ZXhhbXBsZSBuYW1lPVwibmdNYXhsZW5ndGhEaXJlY3RpdmVcIiBtb2R1bGU9XCJuZ01heGxlbmd0aEV4YW1wbGVcIj5cclxuICAgKiAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XHJcbiAgICogICAgIDxzY3JpcHQ+XHJcbiAgICogICAgICAgYW5ndWxhci5tb2R1bGUoJ25nTWF4bGVuZ3RoRXhhbXBsZScsIFtdKVxyXG4gICAqICAgICAgICAgLmNvbnRyb2xsZXIoJ0V4YW1wbGVDb250cm9sbGVyJywgWyckc2NvcGUnLCBmdW5jdGlvbigkc2NvcGUpIHtcclxuICAgKiAgICAgICAgICAgJHNjb3BlLm1heGxlbmd0aCA9IDU7XHJcbiAgICogICAgICAgICB9XSk7XHJcbiAgICogICAgIDwvc2NyaXB0PlxyXG4gICAqICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJFeGFtcGxlQ29udHJvbGxlclwiPlxyXG4gICAqICAgICAgIDxmb3JtIG5hbWU9XCJmb3JtXCI+XHJcbiAgICogICAgICAgICA8bGFiZWwgZm9yPVwibWF4bGVuZ3RoXCI+U2V0IGEgbWF4bGVuZ3RoOiA8L2xhYmVsPlxyXG4gICAqICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBuZy1tb2RlbD1cIm1heGxlbmd0aFwiIGlkPVwibWF4bGVuZ3RoXCIgLz5cclxuICAgKiAgICAgICAgIDxicj5cclxuICAgKiAgICAgICAgIDxsYWJlbCBmb3I9XCJpbnB1dFwiPlRoaXMgaW5wdXQgaXMgcmVzdHJpY3RlZCBieSB0aGUgY3VycmVudCBtYXhsZW5ndGg6IDwvbGFiZWw+XHJcbiAgICogICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBuZy1tb2RlbD1cIm1vZGVsXCIgaWQ9XCJpbnB1dFwiIG5hbWU9XCJpbnB1dFwiIG5nLW1heGxlbmd0aD1cIm1heGxlbmd0aFwiIC8+PGJyPlxyXG4gICAqICAgICAgICAgPGhyPlxyXG4gICAqICAgICAgICAgaW5wdXQgdmFsaWQ/ID0gPGNvZGU+e3tmb3JtLmlucHV0LiR2YWxpZH19PC9jb2RlPjxicj5cclxuICAgKiAgICAgICAgIG1vZGVsID0gPGNvZGU+e3ttb2RlbH19PC9jb2RlPlxyXG4gICAqICAgICAgIDwvZm9ybT5cclxuICAgKiAgICAgPC9kaXY+XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwicHJvdHJhY3Rvci5qc1wiIHR5cGU9XCJwcm90cmFjdG9yXCI+XHJcbiAgICAgICAgIHZhciBtb2RlbCA9IGVsZW1lbnQoYnkuYmluZGluZygnbW9kZWwnKSk7XHJcbiAgICAgICAgIHZhciBpbnB1dCA9IGVsZW1lbnQoYnkuaWQoJ2lucHV0JykpO1xyXG4gIFxyXG4gICAgICAgICBpdCgnc2hvdWxkIHZhbGlkYXRlIHRoZSBpbnB1dCB3aXRoIHRoZSBkZWZhdWx0IG1heGxlbmd0aCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdhYmNkZWYnKTtcclxuICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCdhYmNkZWYnKTtcclxuICBcclxuICAgICAgICAgICBpbnB1dC5jbGVhcigpLnRoZW4oZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWJjZGUnKTtcclxuICAgICAgICAgICAgIGV4cGVjdChtb2RlbC5nZXRUZXh0KCkpLnRvQ29udGFpbignYWJjZGUnKTtcclxuICAgICAgICAgICB9KTtcclxuICAgICAgICAgfSk7XHJcbiAgICogICA8L2ZpbGU+XHJcbiAgICogPC9leGFtcGxlPlxyXG4gICAqL1xyXG4gIHZhciBtYXhsZW5ndGhEaXJlY3RpdmUgPSBmdW5jdGlvbiBtYXhsZW5ndGhEaXJlY3RpdmUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICByZXN0cmljdDogJ0EnLFxyXG4gICAgICByZXF1aXJlOiAnP25nTW9kZWwnLFxyXG4gICAgICBsaW5rOiBmdW5jdGlvbiBsaW5rKHNjb3BlLCBlbG0sIGF0dHIsIGN0cmwpIHtcclxuICAgICAgICBpZiAoIWN0cmwpIHJldHVybjtcclxuXHJcbiAgICAgICAgdmFyIG1heGxlbmd0aCA9IC0xO1xyXG4gICAgICAgIGF0dHIuJG9ic2VydmUoJ21heGxlbmd0aCcsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgdmFyIGludFZhbCA9IHRvSW50KHZhbHVlKTtcclxuICAgICAgICAgIG1heGxlbmd0aCA9IGlzTnVtYmVyTmFOKGludFZhbCkgPyAtMSA6IGludFZhbDtcclxuICAgICAgICAgIGN0cmwuJHZhbGlkYXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY3RybC4kdmFsaWRhdG9ycy5tYXhsZW5ndGggPSBmdW5jdGlvbiAobW9kZWxWYWx1ZSwgdmlld1ZhbHVlKSB7XHJcbiAgICAgICAgICByZXR1cm4gbWF4bGVuZ3RoIDwgMCB8fCBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgdmlld1ZhbHVlLmxlbmd0aCA8PSBtYXhsZW5ndGg7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBAbmdkb2MgZGlyZWN0aXZlXHJcbiAgICogQG5hbWUgbmdNaW5sZW5ndGhcclxuICAgKlxyXG4gICAqIEBkZXNjcmlwdGlvblxyXG4gICAqXHJcbiAgICogbmdNaW5sZW5ndGggYWRkcyB0aGUgbWlubGVuZ3RoIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2YWxpZGF0b3JzIGB2YWxpZGF0b3JgfSB0byB7QGxpbmsgbmdNb2RlbCBgbmdNb2RlbGB9LlxyXG4gICAqIEl0IGlzIG1vc3Qgb2Z0ZW4gdXNlZCBmb3IgdGV4dC1iYXNlZCB7QGxpbmsgaW5wdXQgYGlucHV0YH0gY29udHJvbHMsIGJ1dCBjYW4gYWxzbyBiZSBhcHBsaWVkIHRvIGN1c3RvbSB0ZXh0LWJhc2VkIGNvbnRyb2xzLlxyXG4gICAqXHJcbiAgICogVGhlIHZhbGlkYXRvciBzZXRzIHRoZSBgbWlubGVuZ3RoYCBlcnJvciBrZXkgaWYgdGhlIHtAbGluayBuZ01vZGVsLk5nTW9kZWxDb250cm9sbGVyIyR2aWV3VmFsdWUgYG5nTW9kZWwuJHZpZXdWYWx1ZWB9XHJcbiAgICogaXMgc2hvcnRlciB0aGFuIHRoZSBpbnRlZ2VyIG9idGFpbmVkIGJ5IGV2YWx1YXRpbmcgdGhlIEFuZ3VsYXIgZXhwcmVzc2lvbiBnaXZlbiBpbiB0aGVcclxuICAgKiBgbmdNaW5sZW5ndGhgIGF0dHJpYnV0ZSB2YWx1ZS5cclxuICAgKlxyXG4gICAqIDxkaXYgY2xhc3M9XCJhbGVydCBhbGVydC1pbmZvXCI+XHJcbiAgICogKipOb3RlOioqIFRoaXMgZGlyZWN0aXZlIGlzIGFsc28gYWRkZWQgd2hlbiB0aGUgcGxhaW4gYG1pbmxlbmd0aGAgYXR0cmlidXRlIGlzIHVzZWQsIHdpdGggdHdvXHJcbiAgICogZGlmZmVyZW5jZXM6XHJcbiAgICogPG9sPlxyXG4gICAqICAgPGxpPlxyXG4gICAqICAgICBgbmdNaW5sZW5ndGhgIGRvZXMgbm90IHNldCB0aGUgYG1pbmxlbmd0aGAgYXR0cmlidXRlIGFuZCB0aGVyZWZvcmUgSFRNTDUgY29uc3RyYWludFxyXG4gICAqICAgICB2YWxpZGF0aW9uIGlzIG5vdCBhdmFpbGFibGUuXHJcbiAgICogICA8L2xpPlxyXG4gICAqICAgPGxpPlxyXG4gICAqICAgICBUaGUgYG5nTWlubGVuZ3RoYCB2YWx1ZSBtdXN0IGJlIGFuIGV4cHJlc3Npb24sIHdoaWxlIHRoZSBgbWlubGVuZ3RoYCB2YWx1ZSBtdXN0IGJlXHJcbiAgICogICAgIGludGVycG9sYXRlZC5cclxuICAgKiAgIDwvbGk+XHJcbiAgICogPC9vbD5cclxuICAgKiA8L2Rpdj5cclxuICAgKlxyXG4gICAqIEBleGFtcGxlXHJcbiAgICogPGV4YW1wbGUgbmFtZT1cIm5nTWlubGVuZ3RoRGlyZWN0aXZlXCIgbW9kdWxlPVwibmdNaW5sZW5ndGhFeGFtcGxlXCI+XHJcbiAgICogICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxyXG4gICAqICAgICA8c2NyaXB0PlxyXG4gICAqICAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ01pbmxlbmd0aEV4YW1wbGUnLCBbXSlcclxuICAgKiAgICAgICAgIC5jb250cm9sbGVyKCdFeGFtcGxlQ29udHJvbGxlcicsIFsnJHNjb3BlJywgZnVuY3Rpb24oJHNjb3BlKSB7XHJcbiAgICogICAgICAgICAgICRzY29wZS5taW5sZW5ndGggPSAzO1xyXG4gICAqICAgICAgICAgfV0pO1xyXG4gICAqICAgICA8L3NjcmlwdD5cclxuICAgKiAgICAgPGRpdiBuZy1jb250cm9sbGVyPVwiRXhhbXBsZUNvbnRyb2xsZXJcIj5cclxuICAgKiAgICAgICA8Zm9ybSBuYW1lPVwiZm9ybVwiPlxyXG4gICAqICAgICAgICAgPGxhYmVsIGZvcj1cIm1pbmxlbmd0aFwiPlNldCBhIG1pbmxlbmd0aDogPC9sYWJlbD5cclxuICAgKiAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbmctbW9kZWw9XCJtaW5sZW5ndGhcIiBpZD1cIm1pbmxlbmd0aFwiIC8+XHJcbiAgICogICAgICAgICA8YnI+XHJcbiAgICogICAgICAgICA8bGFiZWwgZm9yPVwiaW5wdXRcIj5UaGlzIGlucHV0IGlzIHJlc3RyaWN0ZWQgYnkgdGhlIGN1cnJlbnQgbWlubGVuZ3RoOiA8L2xhYmVsPlxyXG4gICAqICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmctbW9kZWw9XCJtb2RlbFwiIGlkPVwiaW5wdXRcIiBuYW1lPVwiaW5wdXRcIiBuZy1taW5sZW5ndGg9XCJtaW5sZW5ndGhcIiAvPjxicj5cclxuICAgKiAgICAgICAgIDxocj5cclxuICAgKiAgICAgICAgIGlucHV0IHZhbGlkPyA9IDxjb2RlPnt7Zm9ybS5pbnB1dC4kdmFsaWR9fTwvY29kZT48YnI+XHJcbiAgICogICAgICAgICBtb2RlbCA9IDxjb2RlPnt7bW9kZWx9fTwvY29kZT5cclxuICAgKiAgICAgICA8L2Zvcm0+XHJcbiAgICogICAgIDwvZGl2PlxyXG4gICAqICAgPC9maWxlPlxyXG4gICAqICAgPGZpbGUgbmFtZT1cInByb3RyYWN0b3IuanNcIiB0eXBlPVwicHJvdHJhY3RvclwiPlxyXG4gICAgICAgICB2YXIgbW9kZWwgPSBlbGVtZW50KGJ5LmJpbmRpbmcoJ21vZGVsJykpO1xyXG4gICAgICAgICB2YXIgaW5wdXQgPSBlbGVtZW50KGJ5LmlkKCdpbnB1dCcpKTtcclxuICBcclxuICAgICAgICAgaXQoJ3Nob3VsZCB2YWxpZGF0ZSB0aGUgaW5wdXQgd2l0aCB0aGUgZGVmYXVsdCBtaW5sZW5ndGgnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICBpbnB1dC5zZW5kS2V5cygnYWInKTtcclxuICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS5ub3QudG9Db250YWluKCdhYicpO1xyXG4gIFxyXG4gICAgICAgICAgIGlucHV0LnNlbmRLZXlzKCdhYmMnKTtcclxuICAgICAgICAgICBleHBlY3QobW9kZWwuZ2V0VGV4dCgpKS50b0NvbnRhaW4oJ2FiYycpO1xyXG4gICAgICAgICB9KTtcclxuICAgKiAgIDwvZmlsZT5cclxuICAgKiA8L2V4YW1wbGU+XHJcbiAgICovXHJcbiAgdmFyIG1pbmxlbmd0aERpcmVjdGl2ZSA9IGZ1bmN0aW9uIG1pbmxlbmd0aERpcmVjdGl2ZSgpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIHJlc3RyaWN0OiAnQScsXHJcbiAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXHJcbiAgICAgIGxpbms6IGZ1bmN0aW9uIGxpbmsoc2NvcGUsIGVsbSwgYXR0ciwgY3RybCkge1xyXG4gICAgICAgIGlmICghY3RybCkgcmV0dXJuO1xyXG5cclxuICAgICAgICB2YXIgbWlubGVuZ3RoID0gMDtcclxuICAgICAgICBhdHRyLiRvYnNlcnZlKCdtaW5sZW5ndGgnLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgIG1pbmxlbmd0aCA9IHRvSW50KHZhbHVlKSB8fCAwO1xyXG4gICAgICAgICAgY3RybC4kdmFsaWRhdGUoKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjdHJsLiR2YWxpZGF0b3JzLm1pbmxlbmd0aCA9IGZ1bmN0aW9uIChtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcclxuICAgICAgICAgIHJldHVybiBjdHJsLiRpc0VtcHR5KHZpZXdWYWx1ZSkgfHwgdmlld1ZhbHVlLmxlbmd0aCA+PSBtaW5sZW5ndGg7XHJcbiAgICAgICAgfTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICBpZiAod2luZG93LmFuZ3VsYXIuYm9vdHN0cmFwKSB7XHJcbiAgICAvLyBBbmd1bGFySlMgaXMgYWxyZWFkeSBsb2FkZWQsIHNvIHdlIGNhbiByZXR1cm4gaGVyZS4uLlxyXG4gICAgaWYgKHdpbmRvdy5jb25zb2xlKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdXQVJOSU5HOiBUcmllZCB0byBsb2FkIGFuZ3VsYXIgbW9yZSB0aGFuIG9uY2UuJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyB0cnkgdG8gYmluZCB0byBqcXVlcnkgbm93IHNvIHRoYXQgb25lIGNhbiB3cml0ZSBqcUxpdGUoZm4pXHJcbiAgLy8gYnV0IHdlIHdpbGwgcmViaW5kIG9uIGJvb3RzdHJhcCBhZ2Fpbi5cclxuICBiaW5kSlF1ZXJ5KCk7XHJcblxyXG4gIHB1Ymxpc2hFeHRlcm5hbEFQSShhbmd1bGFyKTtcclxuXHJcbiAgYW5ndWxhci5tb2R1bGUoXCJuZ0xvY2FsZVwiLCBbXSwgW1wiJHByb3ZpZGVcIiwgZnVuY3Rpb24gKCRwcm92aWRlKSB7XHJcbiAgICB2YXIgUExVUkFMX0NBVEVHT1JZID0geyBaRVJPOiBcInplcm9cIiwgT05FOiBcIm9uZVwiLCBUV086IFwidHdvXCIsIEZFVzogXCJmZXdcIiwgTUFOWTogXCJtYW55XCIsIE9USEVSOiBcIm90aGVyXCIgfTtcclxuICAgIGZ1bmN0aW9uIGdldERlY2ltYWxzKG4pIHtcclxuICAgICAgbiA9IG4gKyAnJztcclxuICAgICAgdmFyIGkgPSBuLmluZGV4T2YoJy4nKTtcclxuICAgICAgcmV0dXJuIGkgPT0gLTEgPyAwIDogbi5sZW5ndGggLSBpIC0gMTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRWRihuLCBvcHRfcHJlY2lzaW9uKSB7XHJcbiAgICAgIHZhciB2ID0gb3B0X3ByZWNpc2lvbjtcclxuXHJcbiAgICAgIGlmICh1bmRlZmluZWQgPT09IHYpIHtcclxuICAgICAgICB2ID0gTWF0aC5taW4oZ2V0RGVjaW1hbHMobiksIDMpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB2YXIgYmFzZSA9IE1hdGgucG93KDEwLCB2KTtcclxuICAgICAgdmFyIGYgPSAobiAqIGJhc2UgfCAwKSAlIGJhc2U7XHJcbiAgICAgIHJldHVybiB7IHY6IHYsIGY6IGYgfTtcclxuICAgIH1cclxuXHJcbiAgICAkcHJvdmlkZS52YWx1ZShcIiRsb2NhbGVcIiwge1xyXG4gICAgICBcIkRBVEVUSU1FX0ZPUk1BVFNcIjoge1xyXG4gICAgICAgIFwiQU1QTVNcIjogW1wiQU1cIiwgXCJQTVwiXSxcclxuICAgICAgICBcIkRBWVwiOiBbXCJTdW5kYXlcIiwgXCJNb25kYXlcIiwgXCJUdWVzZGF5XCIsIFwiV2VkbmVzZGF5XCIsIFwiVGh1cnNkYXlcIiwgXCJGcmlkYXlcIiwgXCJTYXR1cmRheVwiXSxcclxuICAgICAgICBcIkVSQU5BTUVTXCI6IFtcIkJlZm9yZSBDaHJpc3RcIiwgXCJBbm5vIERvbWluaVwiXSxcclxuICAgICAgICBcIkVSQVNcIjogW1wiQkNcIiwgXCJBRFwiXSxcclxuICAgICAgICBcIkZJUlNUREFZT0ZXRUVLXCI6IDYsXHJcbiAgICAgICAgXCJNT05USFwiOiBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLCBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXSxcclxuICAgICAgICBcIlNIT1JUREFZXCI6IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXSxcclxuICAgICAgICBcIlNIT1JUTU9OVEhcIjogW1wiSmFuXCIsIFwiRmViXCIsIFwiTWFyXCIsIFwiQXByXCIsIFwiTWF5XCIsIFwiSnVuXCIsIFwiSnVsXCIsIFwiQXVnXCIsIFwiU2VwXCIsIFwiT2N0XCIsIFwiTm92XCIsIFwiRGVjXCJdLFxyXG4gICAgICAgIFwiU1RBTkRBTE9ORU1PTlRIXCI6IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdLFxyXG4gICAgICAgIFwiV0VFS0VORFJBTkdFXCI6IFs1LCA2XSxcclxuICAgICAgICBcImZ1bGxEYXRlXCI6IFwiRUVFRSwgTU1NTSBkLCB5XCIsXHJcbiAgICAgICAgXCJsb25nRGF0ZVwiOiBcIk1NTU0gZCwgeVwiLFxyXG4gICAgICAgIFwibWVkaXVtXCI6IFwiTU1NIGQsIHkgaDptbTpzcyBhXCIsXHJcbiAgICAgICAgXCJtZWRpdW1EYXRlXCI6IFwiTU1NIGQsIHlcIixcclxuICAgICAgICBcIm1lZGl1bVRpbWVcIjogXCJoOm1tOnNzIGFcIixcclxuICAgICAgICBcInNob3J0XCI6IFwiTS9kL3l5IGg6bW0gYVwiLFxyXG4gICAgICAgIFwic2hvcnREYXRlXCI6IFwiTS9kL3l5XCIsXHJcbiAgICAgICAgXCJzaG9ydFRpbWVcIjogXCJoOm1tIGFcIlxyXG4gICAgICB9LFxyXG4gICAgICBcIk5VTUJFUl9GT1JNQVRTXCI6IHtcclxuICAgICAgICBcIkNVUlJFTkNZX1NZTVwiOiBcIiRcIixcclxuICAgICAgICBcIkRFQ0lNQUxfU0VQXCI6IFwiLlwiLFxyXG4gICAgICAgIFwiR1JPVVBfU0VQXCI6IFwiLFwiLFxyXG4gICAgICAgIFwiUEFUVEVSTlNcIjogW3tcclxuICAgICAgICAgIFwiZ1NpemVcIjogMyxcclxuICAgICAgICAgIFwibGdTaXplXCI6IDMsXHJcbiAgICAgICAgICBcIm1heEZyYWNcIjogMyxcclxuICAgICAgICAgIFwibWluRnJhY1wiOiAwLFxyXG4gICAgICAgICAgXCJtaW5JbnRcIjogMSxcclxuICAgICAgICAgIFwibmVnUHJlXCI6IFwiLVwiLFxyXG4gICAgICAgICAgXCJuZWdTdWZcIjogXCJcIixcclxuICAgICAgICAgIFwicG9zUHJlXCI6IFwiXCIsXHJcbiAgICAgICAgICBcInBvc1N1ZlwiOiBcIlwiXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgXCJnU2l6ZVwiOiAzLFxyXG4gICAgICAgICAgXCJsZ1NpemVcIjogMyxcclxuICAgICAgICAgIFwibWF4RnJhY1wiOiAyLFxyXG4gICAgICAgICAgXCJtaW5GcmFjXCI6IDIsXHJcbiAgICAgICAgICBcIm1pbkludFwiOiAxLFxyXG4gICAgICAgICAgXCJuZWdQcmVcIjogJy1cXHhBNCcsXHJcbiAgICAgICAgICBcIm5lZ1N1ZlwiOiBcIlwiLFxyXG4gICAgICAgICAgXCJwb3NQcmVcIjogJ1xceEE0JyxcclxuICAgICAgICAgIFwicG9zU3VmXCI6IFwiXCJcclxuICAgICAgICB9XVxyXG4gICAgICB9LFxyXG4gICAgICBcImlkXCI6IFwiZW4tdXNcIixcclxuICAgICAgXCJsb2NhbGVJRFwiOiBcImVuX1VTXCIsXHJcbiAgICAgIFwicGx1cmFsQ2F0XCI6IGZ1bmN0aW9uIHBsdXJhbENhdChuLCBvcHRfcHJlY2lzaW9uKSB7XHJcbiAgICAgICAgdmFyIGkgPSBuIHwgMDt2YXIgdmYgPSBnZXRWRihuLCBvcHRfcHJlY2lzaW9uKTtpZiAoaSA9PSAxICYmIHZmLnYgPT0gMCkge1xyXG4gICAgICAgICAgcmV0dXJuIFBMVVJBTF9DQVRFR09SWS5PTkU7XHJcbiAgICAgICAgfXJldHVybiBQTFVSQUxfQ0FURUdPUlkuT1RIRVI7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1dKTtcclxuXHJcbiAganFMaXRlKGZ1bmN0aW9uICgpIHtcclxuICAgIGFuZ3VsYXJJbml0KHdpbmRvdy5kb2N1bWVudCwgYm9vdHN0cmFwKTtcclxuICB9KTtcclxufSkod2luZG93KTtcclxuXHJcbiF3aW5kb3cuYW5ndWxhci4kJGNzcCgpLm5vSW5saW5lU3R5bGUgJiYgd2luZG93LmFuZ3VsYXIuZWxlbWVudChkb2N1bWVudC5oZWFkKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+QGNoYXJzZXQgXCJVVEYtOFwiO1tuZ1xcXFw6Y2xvYWtdLFtuZy1jbG9ha10sW2RhdGEtbmctY2xvYWtdLFt4LW5nLWNsb2FrXSwubmctY2xvYWssLngtbmctY2xvYWssLm5nLWhpZGU6bm90KC5uZy1oaWRlLWFuaW1hdGUpe2Rpc3BsYXk6bm9uZSAhaW1wb3J0YW50O31uZ1xcXFw6Zm9ybXtkaXNwbGF5OmJsb2NrO30ubmctYW5pbWF0ZS1zaGlte3Zpc2liaWxpdHk6aGlkZGVuO30ubmctYW5jaG9ye3Bvc2l0aW9uOmFic29sdXRlO308L3N0eWxlPicpOyJdfQ==
